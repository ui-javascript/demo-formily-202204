var Ilt=Object.defineProperty,Olt=Object.defineProperties;var Dlt=Object.getOwnPropertyDescriptors;var QN=Object.getOwnPropertySymbols;var Plt=Object.prototype.hasOwnProperty,Llt=Object.prototype.propertyIsEnumerable;var JN=(ep,Uh,je)=>Uh in ep?Ilt(ep,Uh,{enumerable:!0,configurable:!0,writable:!0,value:je}):ep[Uh]=je,qN=(ep,Uh)=>{for(var je in Uh||(Uh={}))Plt.call(Uh,je)&&JN(ep,je,Uh[je]);if(QN)for(var je of QN(Uh))Llt.call(Uh,je)&&JN(ep,je,Uh[je]);return ep},tk=(ep,Uh)=>Olt(ep,Dlt(Uh));(function(){var ep={1792:function(at,R,d){var x,b;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var P,_,O,T,F,M,A,L,I,k,B,z,W,$,K,lt,st,yt,q,nt,ct,bt,_t;(function(St){var At=typeof d.g=="object"?d.g:typeof self=="object"?self:typeof this=="object"?this:{};x=[R],b=function(dt){St(vt(At,vt(dt)))}.apply(R,x),b!==void 0&&(at.exports=b);function vt(dt,gt){return dt!==At&&(typeof Object.create=="function"?Object.defineProperty(dt,"__esModule",{value:!0}):dt.__esModule=!0),function(Ct,Et){return dt[Ct]=gt?gt(Ct,Et):Et}}})(function(St){var At=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(vt,dt){vt.__proto__=dt}||function(vt,dt){for(var gt in dt)dt.hasOwnProperty(gt)&&(vt[gt]=dt[gt])};P=function(vt,dt){At(vt,dt);function gt(){this.constructor=vt}vt.prototype=dt===null?Object.create(dt):(gt.prototype=dt.prototype,new gt)},_=Object.assign||function(vt){for(var dt,gt=1,Ct=arguments.length;gt<Ct;gt++){dt=arguments[gt];for(var Et in dt)Object.prototype.hasOwnProperty.call(dt,Et)&&(vt[Et]=dt[Et])}return vt},O=function(vt,dt){var gt={};for(var Ct in vt)Object.prototype.hasOwnProperty.call(vt,Ct)&&dt.indexOf(Ct)<0&&(gt[Ct]=vt[Ct]);if(vt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Et=0,Ct=Object.getOwnPropertySymbols(vt);Et<Ct.length;Et++)dt.indexOf(Ct[Et])<0&&Object.prototype.propertyIsEnumerable.call(vt,Ct[Et])&&(gt[Ct[Et]]=vt[Ct[Et]]);return gt},T=function(vt,dt,gt,Ct){var Et=arguments.length,Tt=Et<3?dt:Ct===null?Ct=Object.getOwnPropertyDescriptor(dt,gt):Ct,ot;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Tt=Reflect.decorate(vt,dt,gt,Ct);else for(var Mt=vt.length-1;Mt>=0;Mt--)(ot=vt[Mt])&&(Tt=(Et<3?ot(Tt):Et>3?ot(dt,gt,Tt):ot(dt,gt))||Tt);return Et>3&&Tt&&Object.defineProperty(dt,gt,Tt),Tt},F=function(vt,dt){return function(gt,Ct){dt(gt,Ct,vt)}},M=function(vt,dt){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(vt,dt)},A=function(vt,dt,gt,Ct){function Et(Tt){return Tt instanceof gt?Tt:new gt(function(ot){ot(Tt)})}return new(gt||(gt=Promise))(function(Tt,ot){function Mt(qt){try{jt(Ct.next(qt))}catch(se){ot(se)}}function Wt(qt){try{jt(Ct.throw(qt))}catch(se){ot(se)}}function jt(qt){qt.done?Tt(qt.value):Et(qt.value).then(Mt,Wt)}jt((Ct=Ct.apply(vt,dt||[])).next())})},L=function(vt,dt){var gt={label:0,sent:function(){if(Tt[0]&1)throw Tt[1];return Tt[1]},trys:[],ops:[]},Ct,Et,Tt,ot;return ot={next:Mt(0),throw:Mt(1),return:Mt(2)},typeof Symbol=="function"&&(ot[Symbol.iterator]=function(){return this}),ot;function Mt(jt){return function(qt){return Wt([jt,qt])}}function Wt(jt){if(Ct)throw new TypeError("Generator is already executing.");for(;gt;)try{if(Ct=1,Et&&(Tt=jt[0]&2?Et.return:jt[0]?Et.throw||((Tt=Et.return)&&Tt.call(Et),0):Et.next)&&!(Tt=Tt.call(Et,jt[1])).done)return Tt;switch(Et=0,Tt&&(jt=[jt[0]&2,Tt.value]),jt[0]){case 0:case 1:Tt=jt;break;case 4:return gt.label++,{value:jt[1],done:!1};case 5:gt.label++,Et=jt[1],jt=[0];continue;case 7:jt=gt.ops.pop(),gt.trys.pop();continue;default:if(Tt=gt.trys,!(Tt=Tt.length>0&&Tt[Tt.length-1])&&(jt[0]===6||jt[0]===2)){gt=0;continue}if(jt[0]===3&&(!Tt||jt[1]>Tt[0]&&jt[1]<Tt[3])){gt.label=jt[1];break}if(jt[0]===6&&gt.label<Tt[1]){gt.label=Tt[1],Tt=jt;break}if(Tt&&gt.label<Tt[2]){gt.label=Tt[2],gt.ops.push(jt);break}Tt[2]&&gt.ops.pop(),gt.trys.pop();continue}jt=dt.call(vt,gt)}catch(qt){jt=[6,qt],Et=0}finally{Ct=Tt=0}if(jt[0]&5)throw jt[1];return{value:jt[0]?jt[1]:void 0,done:!0}}},_t=function(vt,dt,gt,Ct){Ct===void 0&&(Ct=gt),vt[Ct]=dt[gt]},I=function(vt,dt){for(var gt in vt)gt!=="default"&&!dt.hasOwnProperty(gt)&&(dt[gt]=vt[gt])},k=function(vt){var dt=typeof Symbol=="function"&&Symbol.iterator,gt=dt&&vt[dt],Ct=0;if(gt)return gt.call(vt);if(vt&&typeof vt.length=="number")return{next:function(){return vt&&Ct>=vt.length&&(vt=void 0),{value:vt&&vt[Ct++],done:!vt}}};throw new TypeError(dt?"Object is not iterable.":"Symbol.iterator is not defined.")},B=function(vt,dt){var gt=typeof Symbol=="function"&&vt[Symbol.iterator];if(!gt)return vt;var Ct=gt.call(vt),Et,Tt=[],ot;try{for(;(dt===void 0||dt-- >0)&&!(Et=Ct.next()).done;)Tt.push(Et.value)}catch(Mt){ot={error:Mt}}finally{try{Et&&!Et.done&&(gt=Ct.return)&&gt.call(Ct)}finally{if(ot)throw ot.error}}return Tt},z=function(){for(var vt=[],dt=0;dt<arguments.length;dt++)vt=vt.concat(B(arguments[dt]));return vt},W=function(){for(var vt=0,dt=0,gt=arguments.length;dt<gt;dt++)vt+=arguments[dt].length;for(var Ct=Array(vt),Et=0,dt=0;dt<gt;dt++)for(var Tt=arguments[dt],ot=0,Mt=Tt.length;ot<Mt;ot++,Et++)Ct[Et]=Tt[ot];return Ct},$=function(vt){return this instanceof $?(this.v=vt,this):new $(vt)},K=function(vt,dt,gt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ct=gt.apply(vt,dt||[]),Et,Tt=[];return Et={},ot("next"),ot("throw"),ot("return"),Et[Symbol.asyncIterator]=function(){return this},Et;function ot(ae){Ct[ae]&&(Et[ae]=function(he){return new Promise(function(ke,Le){Tt.push([ae,he,ke,Le])>1||Mt(ae,he)})})}function Mt(ae,he){try{Wt(Ct[ae](he))}catch(ke){se(Tt[0][3],ke)}}function Wt(ae){ae.value instanceof $?Promise.resolve(ae.value.v).then(jt,qt):se(Tt[0][2],ae)}function jt(ae){Mt("next",ae)}function qt(ae){Mt("throw",ae)}function se(ae,he){ae(he),Tt.shift(),Tt.length&&Mt(Tt[0][0],Tt[0][1])}},lt=function(vt){var dt,gt;return dt={},Ct("next"),Ct("throw",function(Et){throw Et}),Ct("return"),dt[Symbol.iterator]=function(){return this},dt;function Ct(Et,Tt){dt[Et]=vt[Et]?function(ot){return(gt=!gt)?{value:$(vt[Et](ot)),done:Et==="return"}:Tt?Tt(ot):ot}:Tt}},st=function(vt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var dt=vt[Symbol.asyncIterator],gt;return dt?dt.call(vt):(vt=typeof k=="function"?k(vt):vt[Symbol.iterator](),gt={},Ct("next"),Ct("throw"),Ct("return"),gt[Symbol.asyncIterator]=function(){return this},gt);function Ct(Tt){gt[Tt]=vt[Tt]&&function(ot){return new Promise(function(Mt,Wt){ot=vt[Tt](ot),Et(Mt,Wt,ot.done,ot.value)})}}function Et(Tt,ot,Mt,Wt){Promise.resolve(Wt).then(function(jt){Tt({value:jt,done:Mt})},ot)}},yt=function(vt,dt){return Object.defineProperty?Object.defineProperty(vt,"raw",{value:dt}):vt.raw=dt,vt},q=function(vt){if(vt&&vt.__esModule)return vt;var dt={};if(vt!=null)for(var gt in vt)Object.hasOwnProperty.call(vt,gt)&&(dt[gt]=vt[gt]);return dt.default=vt,dt},nt=function(vt){return vt&&vt.__esModule?vt:{default:vt}},ct=function(vt,dt){if(!dt.has(vt))throw new TypeError("attempted to get private field on non-instance");return dt.get(vt)},bt=function(vt,dt,gt){if(!dt.has(vt))throw new TypeError("attempted to set private field on non-instance");return dt.set(vt,gt),gt},St("__extends",P),St("__assign",_),St("__rest",O),St("__decorate",T),St("__param",F),St("__metadata",M),St("__awaiter",A),St("__generator",L),St("__exportStar",I),St("__createBinding",_t),St("__values",k),St("__read",B),St("__spread",z),St("__spreadArrays",W),St("__await",$),St("__asyncGenerator",K),St("__asyncDelegator",lt),St("__asyncValues",st),St("__makeTemplateObject",yt),St("__importStar",q),St("__importDefault",nt),St("__classPrivateFieldGet",ct),St("__classPrivateFieldSet",bt)})},62238:function(at,R){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.default=void 0;var d=function(P,_){var O=P.nodes,T=P.edges,F=[],M={};if(!O)throw new Error("invalid nodes data!");return O&&O.forEach(function(A,L){M[A.id]=L;var I=[];F.push(I)}),T&&T.forEach(function(A){var L=A.source,I=A.target,k=M[L],B=M[I];!k&&k!==0||!B&&B!==0||(F[k][B]=1,_||(F[B][k]=1))}),F},x=d;R.default=x},10369:function(at,R,d){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),Object.defineProperty(R,"GADDIAsync",{enumerable:!0,get:function(){return x.GADDIAsync}}),Object.defineProperty(R,"connectedComponentAsync",{enumerable:!0,get:function(){return x.connectedComponentAsync}}),R.default=void 0,Object.defineProperty(R,"detectAllCyclesAsync",{enumerable:!0,get:function(){return x.detectAllCyclesAsync}}),Object.defineProperty(R,"detectAllDirectedCycleAsync",{enumerable:!0,get:function(){return x.detectAllDirectedCycleAsync}}),Object.defineProperty(R,"detectAllUndirectedCycleAsync",{enumerable:!0,get:function(){return x.detectAllUndirectedCycleAsync}}),Object.defineProperty(R,"detectCycleAsync",{enumerable:!0,get:function(){return x.detectCycleAsync}}),R.detectDirectedCycleAsync=void 0,Object.defineProperty(R,"dijkstraAsync",{enumerable:!0,get:function(){return x.dijkstraAsync}}),Object.defineProperty(R,"findAllPathAsync",{enumerable:!0,get:function(){return x.findAllPathAsync}}),Object.defineProperty(R,"findShortestPathAsync",{enumerable:!0,get:function(){return x.findShortestPathAsync}}),Object.defineProperty(R,"floydWarshallAsync",{enumerable:!0,get:function(){return x.floydWarshallAsync}}),Object.defineProperty(R,"getAdjMatrixAsync",{enumerable:!0,get:function(){return x.getAdjMatrixAsync}}),Object.defineProperty(R,"getDegreeAsync",{enumerable:!0,get:function(){return x.getDegreeAsync}}),Object.defineProperty(R,"getInDegreeAsync",{enumerable:!0,get:function(){return x.getInDegreeAsync}}),Object.defineProperty(R,"getNeighborsAsync",{enumerable:!0,get:function(){return x.getNeighborsAsync}}),Object.defineProperty(R,"getOutDegreeAsync",{enumerable:!0,get:function(){return x.getOutDegreeAsync}}),Object.defineProperty(R,"labelPropagationAsync",{enumerable:!0,get:function(){return x.labelPropagationAsync}}),Object.defineProperty(R,"louvainAsync",{enumerable:!0,get:function(){return x.louvainAsync}}),Object.defineProperty(R,"minimumSpanningTreeAsync",{enumerable:!0,get:function(){return x.minimumSpanningTreeAsync}}),Object.defineProperty(R,"pageRankAsync",{enumerable:!0,get:function(){return x.pageRankAsync}});var x=d(30485),b=x.detectCycleAsync;R.detectDirectedCycleAsync=b;var P={getAdjMatrixAsync:x.getAdjMatrixAsync,connectedComponentAsync:x.connectedComponentAsync,getDegreeAsync:x.getDegreeAsync,getInDegreeAsync:x.getInDegreeAsync,getOutDegreeAsync:x.getOutDegreeAsync,detectCycleAsync:x.detectCycleAsync,detectDirectedCycleAsync:b,detectAllCyclesAsync:x.detectAllCyclesAsync,detectAllDirectedCycleAsync:x.detectAllDirectedCycleAsync,detectAllUndirectedCycleAsync:x.detectAllUndirectedCycleAsync,dijkstraAsync:x.dijkstraAsync,findAllPathAsync:x.findAllPathAsync,findShortestPathAsync:x.findShortestPathAsync,floydWarshallAsync:x.floydWarshallAsync,labelPropagationAsync:x.labelPropagationAsync,louvainAsync:x.louvainAsync,minimumSpanningTreeAsync:x.minimumSpanningTreeAsync,pageRankAsync:x.pageRankAsync,getNeighborsAsync:x.getNeighborsAsync,GADDIAsync:x.GADDIAsync};R.default=P},83764:function(at,R,d){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.default=void 0;var x=P(d(93026)),b=d(70643);function P(F){return F&&F.__esModule?F:{default:F}}function _(F){F===void 0&&(F={});var M=F,A=function(){},L=function(){var I={};return function(k){var B=k.next,z=B;return I[z]?!1:(I[z]=!0,!0)}}();return M.allowTraversal=F.allowTraversal||L,M.enter=F.enter||A,M.leave=F.leave||A,M}var O=function(M,A,L,I){I===void 0&&(I=!0);var k=_(L),B=new x.default,z=M.edges,W=z===void 0?[]:z;B.enqueue(A);for(var $="",K=function(){var st=B.dequeue();k.enter({current:st,previous:$}),(0,b.getNeighbors)(st,W,I?"target":void 0).forEach(function(yt){k.allowTraversal({previous:$,current:st,next:yt})&&B.enqueue(yt)}),k.leave({current:st,previous:$}),$=st};!B.isEmpty();)K()},T=O;R.default=T},59527:function(at,R,d){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.default=_,R.detectStrongConnectComponents=R.detectConnectedComponents=void 0;var x=d(70643),b=function(T){for(var F=T.nodes,M=F===void 0?[]:F,A=T.edges,L=A===void 0?[]:A,I=[],k={},B=[],z=function lt(st){B.push(st),k[st.id]=!0;for(var yt=(0,x.getNeighbors)(st.id,L),q=function(bt){var _t=yt[bt];if(!k[_t]){var St=M.filter(function(At){return At.id===_t});St.length>0&&lt(St[0])}},nt=0;nt<yt.length;++nt)q(nt)},W=0;W<M.length;W++){var $=M[W];if(!k[$.id]){z($);for(var K=[];B.length>0;)K.push(B.pop());I.push(K)}}return I};R.detectConnectedComponents=b;var P=function(T){for(var F=T.nodes,M=F===void 0?[]:F,A=T.edges,L=A===void 0?[]:A,I=[],k={},B={},z={},W=[],$=0,K=function q(nt){B[nt.id]=$,z[nt.id]=$,$+=1,I.push(nt),k[nt.id]=!0;for(var ct=(0,x.getNeighbors)(nt.id,L,"target").filter(function(vt){return M.map(function(dt){return dt.id}).indexOf(vt)>-1}),bt=function(dt){var gt=ct[dt];if(!B[gt]&&B[gt]!==0){var Ct=M.filter(function(Et){return Et.id===gt});Ct.length>0&&q(Ct[0]),z[nt.id]=Math.min(z[nt.id],z[gt])}else k[gt]&&(z[nt.id]=Math.min(z[nt.id],B[gt]))},_t=0;_t<ct.length;_t++)bt(_t);if(z[nt.id]===B[nt.id]){for(var St=[];I.length>0;){var At=I.pop();if(k[At.id]=!1,St.push(At),At===nt)break}St.length>0&&W.push(St)}},lt=0,st=M;lt<st.length;lt++){var yt=st[lt];!B[yt.id]&&B[yt.id]!==0&&K(yt)}return W};R.detectStrongConnectComponents=P;function _(O,T){return T?P(O):b(O)}},92935:function(at,R){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.secondReg=R.dateReg=void 0;var d=/^(\d{1,4})(-|\/)(\d{1,2})\2(\d{1,2})$/;R.secondReg=d;var x=/^(\d{1,4})(-|\/)(\d{1,2})\2(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})$/;R.dateReg=x},82556:function(at,R){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.getOutDegree=R.getInDegree=R.default=void 0;var d=function(O){var T={},F=O.nodes,M=F===void 0?[]:F,A=O.edges,L=A===void 0?[]:A;return M.forEach(function(I){T[I.id]={degree:0,inDegree:0,outDegree:0}}),L.forEach(function(I){T[I.source].degree++,T[I.source].outDegree++,T[I.target].degree++,T[I.target].inDegree++}),T},x=d;R.default=x;var b=function(O,T){var F=d(O);return F[T]?d(O)[T].inDegree:0};R.getInDegree=b;var P=function(O,T){var F=d(O);return F[T]?d(O)[T].outDegree:0};R.getOutDegree=P},94282:function(at,R,d){"use strict";function x(B){return x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z},x(B)}Object.defineProperty(R,"__esModule",{value:!0}),R.detectAllUndirectedCycle=R.detectAllDirectedCycle=R.detectAllCycles=R.default=void 0;var b=F(d(45891)),P=T(d(59527)),_=d(70643);function O(B){if(typeof WeakMap!="function")return null;var z=new WeakMap,W=new WeakMap;return(O=function(K){return K?W:z})(B)}function T(B,z){if(!z&&B&&B.__esModule)return B;if(B===null||x(B)!=="object"&&typeof B!="function")return{default:B};var W=O(z);if(W&&W.has(B))return W.get(B);var $={},K=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var lt in B)if(lt!=="default"&&Object.prototype.hasOwnProperty.call(B,lt)){var st=K?Object.getOwnPropertyDescriptor(B,lt):null;st&&(st.get||st.set)?Object.defineProperty($,lt,st):$[lt]=B[lt]}return $.default=B,W&&W.set(B,$),$}function F(B){return B&&B.__esModule?B:{default:B}}var M=function(z){var W=null,$=z.nodes,K=$===void 0?[]:$,lt={},st={},yt={},q={};K.forEach(function(bt){st[bt.id]=bt});for(var nt={enter:function(_t){var St=_t.current,At=_t.previous;if(yt[St]){W={};for(var vt=St,dt=At;dt!==St;)W[vt]=dt,vt=dt,dt=lt[dt];W[vt]=dt}else yt[St]=St,delete st[St],lt[St]=At},leave:function(_t){var St=_t.current;q[St]=St,delete yt[St]},allowTraversal:function(_t){var St=_t.next;return W?!1:!q[St]}};Object.keys(st).length;){var ct=Object.keys(st)[0];(0,b.default)(z,ct,nt)}return W},A=function(z,W,$){var K,lt;$===void 0&&($=!0);for(var st=[],yt=(0,P.default)(z,!1),q=0,nt=yt;q<nt.length;q++){var ct=nt[q];if(!!ct.length)for(var bt=ct[0],_t=bt.id,St=[bt],At=(K={},K[_t]=bt,K),vt=(lt={},lt[_t]=new Set,lt);St.length>0;)for(var dt=St.pop(),gt=dt.id,Ct=(0,_.getNeighbors)(gt,z.edges),Et=function(Mt){var Wt,jt=Ct[Mt],qt=z.nodes.find(function(rr){return rr.id===jt});if(jt===gt)st.push((Wt={},Wt[jt]=dt,Wt));else if(!(jt in vt))At[jt]=dt,St.push(qt),vt[jt]=new Set([dt]);else if(!vt[gt].has(qt)){for(var se=!0,ae=[qt,dt],he=At[gt];vt[jt].size&&!vt[jt].has(he)&&(ae.push(he),he!==At[he.id]);)he=At[he.id];if(ae.push(he),W&&$?(se=!1,ae.findIndex(function(rr){return W.indexOf(rr.id)>-1})>-1&&(se=!0)):W&&!$&&ae.findIndex(function(rr){return W.indexOf(rr.id)>-1})>-1&&(se=!1),se){for(var ke={},Le=1;Le<ae.length;Le+=1)ke[ae[Le-1].id]=ae[Le];ae.length&&(ke[ae[ae.length-1].id]=ae[0]),st.push(ke)}vt[jt].add(dt)}},Tt=0;Tt<Ct.length;Tt+=1)Et(Tt)}return st};R.detectAllUndirectedCycle=A;var L=function(z,W,$){$===void 0&&($=!0);for(var K=[],lt=new Set,st=[],yt=[],q={},nt={},ct=function(he){for(var ke=[he];ke.length>0;){var Le=ke.pop();lt.has(Le)&&(lt.delete(Le),st[Le.id].forEach(function(rr){ke.push(rr)}),st[Le.id].clear())}},bt=function ae(he,ke,Le){var rr=!1;if(W&&$===!1&&W.indexOf(he.id)>-1)return rr;K.push(he),lt.add(he);for(var Ee=Le[he.id],ge=0;ge<Ee.length;ge+=1){var we=q[Ee[ge]];if(we===ke){for(var Ce={},ye=1;ye<K.length;ye+=1)Ce[K[ye-1].id]=K[ye];K.length&&(Ce[K[K.length-1].id]=K[0]),yt.push(Ce),rr=!0}else lt.has(we)||ae(we,ke,Le)&&(rr=!0)}if(rr)ct(he);else for(var ge=0;ge<Ee.length;ge+=1){var we=q[Ee[ge]];st[we.id].has(he)||st[we.id].add(he)}return K.pop(),rr},_t=z.nodes,St=_t===void 0?[]:_t,At=0;At<St.length;At+=1){var vt=St[At],dt=vt.id;nt[dt]=At,q[At]=vt}if(W&&$)for(var gt=function(he){var ke=W[he];nt[St[he].id]=nt[ke],nt[ke]=0,q[0]=St.find(function(Le){return Le.id===ke}),q[nt[St[he].id]]=St[he]},At=0;At<W.length;At++)gt(At);for(var Ct=function(he){for(var ke,Le,rr=1/0,Ee=0;Ee<he.length;Ee+=1)for(var ge=he[Ee],we=0;we<ge.length;we++){var Ce=nt[ge[we].id];Ce<rr&&(rr=Ce,Le=Ee)}for(var ye=he[Le],Gt=[],Ee=0;Ee<ye.length;Ee+=1){var Xt=ye[Ee];Gt[Xt.id]=[];for(var Kt=0,ze=(0,_.getNeighbors)(Xt.id,z.edges,"target").filter(function(re){return ye.map(function(Qr){return Qr.id}).indexOf(re)>-1});Kt<ze.length;Kt++){var ur=ze[Kt];ur===Xt.id&&!($===!1&&W.indexOf(Xt.id)>-1)?yt.push((ke={},ke[Xt.id]=Xt,ke)):Gt[Xt.id].push(nt[ur])}}return{component:ye,adjList:Gt,minIdx:rr}},Et=0;Et<St.length;){var Tt=St.filter(function(ae){return nt[ae.id]>=Et}),ot=(0,P.detectStrongConnectComponents)({nodes:Tt,edges:z.edges}).filter(function(ae){return ae.length>1});if(ot.length===0)break;var Mt=Ct(ot),Wt=Mt.minIdx,jt=Mt.adjList,qt=Mt.component;if(qt.length>1){qt.forEach(function(ae){st[ae.id]=new Set});var se=q[Wt];if(W&&$&&W.indexOf(se.id)===-1)return yt;bt(se,se,jt),Et=Wt+1}else break}return yt};R.detectAllDirectedCycle=L;var I=function(z,W,$,K){return K===void 0&&(K=!0),W?L(z,$,K):A(z,$,K)};R.detectAllCycles=I;var k=M;R.default=k},45891:function(at,R,d){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.default=_;var x=d(70643);function b(O){O===void 0&&(O={});var T=O,F=function(){},M=function(){var A={};return function(L){var I=L.next;return A[I]?!1:(A[I]=!0,!0)}}();return T.allowTraversal=O.allowTraversal||M,T.enter=O.enter||F,T.leave=O.leave||F,T}function P(O,T,F,M){M.enter({current:T,previous:F});var A=O.edges,L=A===void 0?[]:A;(0,x.getNeighbors)(T,L,"target").forEach(function(I){M.allowTraversal({previous:F,current:T,next:I})&&P(O,I,T,M)}),M.leave({current:T,previous:F})}function _(O,T,F){P(O,T,"",b(F))}},78089:function(at,R,d){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.default=void 0;var x=d(85524),b=d(49242),P=d(70643),_=function(A,L,I){for(var k=1/0,B,z=0;z<L.length;z++){var W=L[z].id;!I[W]&&A[W]<=k&&(k=A[W],B=L[z])}return B},O=function(A,L,I,k){var B=A.nodes,z=B===void 0?[]:B,W=A.edges,$=W===void 0?[]:W,K=[],lt={},st={},yt={};z.forEach(function(At,vt){var dt=At.id;K.push(dt),st[dt]=1/0,dt===L&&(st[dt]=0)});for(var q=z.length,nt=function(vt){var dt=_(st,z,lt),gt=dt.id;if(lt[gt]=!0,st[gt]===1/0)return"continue";var Ct=[];I?Ct=(0,P.getOutEdgesNodeId)(gt,$):Ct=(0,P.getEdgesByNodeId)(gt,$),Ct.forEach(function(Et){var Tt=Et.target,ot=Et.source,Mt=Tt===gt?ot:Tt,Wt=k&&Et[k]?Et[k]:1;st[Mt]>st[dt.id]+Wt?(st[Mt]=st[dt.id]+Wt,yt[Mt]=[dt.id]):st[Mt]===st[dt.id]+Wt&&yt[Mt].push(dt.id)})},ct=0;ct<q;ct++)nt(ct);yt[L]=[L];var bt={};for(var _t in st)st[_t]!==1/0&&F(L,_t,yt,bt);var St={};for(var _t in bt)St[_t]=bt[_t][0];return{length:st,path:St,allPath:bt}},T=O;R.default=T;function F(M,A,L,I){if(M===A)return[M];if(I[A])return I[A];for(var k=[],B=0,z=L[A];B<z.length;B++){var W=z[B],$=F(M,W,L,I);if(!$)return;for(var K=0,lt=$;K<lt.length;K++){var st=lt[K];(0,b.isArray)(st)?k.push((0,x.__spreadArray)((0,x.__spreadArray)([],st,!0),[A],!1)):k.push([st,A])}}return I[A]=k,I[A]}},41727:function(at,R,d){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.findShortestPath=R.findAllPath=void 0;var x=P(d(78089)),b=d(70643);function P(T){return T&&T.__esModule?T:{default:T}}var _=function(F,M,A,L,I){var k=(0,x.default)(F,M,L,I),B=k.length,z=k.path,W=k.allPath;return{length:B[A],path:z[A],allPath:W[A]}};R.findShortestPath=_;var O=function(F,M,A,L){var I;if(M===A)return[[M]];var k=F.edges,B=k===void 0?[]:k,z=[M],W=(I={},I[M]=!0,I),$=[],K=[],lt=L?(0,b.getNeighbors)(M,B,"target"):(0,b.getNeighbors)(M,B);for($.push(lt);z.length>0&&$.length>0;){var st=$[$.length-1];if(st.length){var yt=st.shift();yt&&(z.push(yt),W[yt]=!0,lt=L?(0,b.getNeighbors)(yt,B,"target"):(0,b.getNeighbors)(yt,B),$.push(lt.filter(function(ct){return!W[ct]})))}else{var q=z.pop();W[q]=!1,$.pop();continue}if(z[z.length-1]===A){var nt=z.map(function(bt){return bt});K.push(nt);var q=z.pop();W[q]=!1,$.pop()}}return K};R.findAllPath=O},75033:function(at,R,d){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.default=void 0;var x=b(d(62238));function b(O){return O&&O.__esModule?O:{default:O}}var P=function(T,F){for(var M=(0,x.default)(T,F),A=[],L=M.length,I=0;I<L;I+=1){A[I]=[];for(var k=0;k<L;k+=1)I===k?A[I][k]=0:M[I][k]===0||!M[I][k]?A[I][k]=1/0:A[I][k]=M[I][k]}for(var B=0;B<L;B+=1)for(var I=0;I<L;I+=1)for(var k=0;k<L;k+=1)A[I][k]>A[I][B]+A[B][k]&&(A[I][k]=A[I][B]+A[B][k]);return A},_=P;R.default=_},21146:function(at,R,d){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.default=void 0;var x=d(49242),b=d(68575),P=function(){function k(B,z,W,$,K){this.fromNode=B,this.toNode=z,this.nodeEdgeNodeLabel={nodeLabel1:W||b.VACANT_NODE_LABEL,edgeLabel:$||b.VACANT_EDGE_LABEL,nodeLabel2:K||b.VACANT_NODE_LABEL}}return k.prototype.equalTo=function(B){return this.fromNode===B.formNode&&this.toNode===B.toNode&&this.nodeEdgeNodeLabel===B.nodeEdgeNodeLabel},k.prototype.notEqualTo=function(B){return!this.equalTo(B)},k}(),_=function(){function k(){this.rmpath=[],this.dfsEdgeList=[]}return k.prototype.equalTo=function(B){var z=this.dfsEdgeList.length,W=B.length;if(z!==W)return!1;for(var $=0;$<z;$++)if(this.dfsEdgeList[$]!==B[$])return!1;return!0},k.prototype.notEqualTo=function(B){return!this.equalTo(B)},k.prototype.pushBack=function(B,z,W,$,K){return this.dfsEdgeList.push(new P(B,z,W,$,K)),this.dfsEdgeList},k.prototype.toGraph=function(B,z){B===void 0&&(B=b.VACANT_GRAPH_ID),z===void 0&&(z=!1);var W=new b.Graph(B,!0,z);return this.dfsEdgeList.forEach(function($){var K=$.fromNode,lt=$.toNode,st=$.nodeEdgeNodeLabel,yt=st.nodeLabel1,q=st.edgeLabel,nt=st.nodeLabel2;yt!==b.VACANT_NODE_LABEL&&W.addNode(K,yt),nt!==b.VACANT_NODE_LABEL&&W.addNode(lt,nt),yt!==b.VACANT_NODE_LABEL&&nt!==yt&&W.addEdge(void 0,K,lt,q)}),W},k.prototype.buildRmpath=function(){this.rmpath=[];for(var B=void 0,z=this.dfsEdgeList.length,W=z-1;W>=0;W--){var $=this.dfsEdgeList[W],K=$.fromNode,lt=$.toNode;K<lt&&(B===void 0||lt===B)&&(this.rmpath.push(W),B=K)}return this.rmpath},k.prototype.getNodeNum=function(){var B={};return this.dfsEdgeList.forEach(function(z){B[z.fromNode]||(B[z.fromNode]=!0),B[z.toNode]||(B[z.toNode]=!0)}),Object.keys(B).length},k}(),O=function(){function k(B){if(this.his={},this.nodesUsed={},this.edgesUsed={},this.edges=[],!!B){for(;B;){var z=B.edge;this.edges.push(z),this.nodesUsed[z.from]=1,this.nodesUsed[z.to]=1,this.edgesUsed[z.id]=1,B=B.preNode}this.edges=this.edges.reverse()}}return k.prototype.hasNode=function(B){return this.nodesUsed[B.id]===1},k.prototype.hasEdge=function(B){return this.edgesUsed[B.id]===1},k}(),T=function(){function k(B){var z=B.graphs,W=B.minSupport,$=W===void 0?2:W,K=B.minNodeNum,lt=K===void 0?1:K,st=B.maxNodeNum,yt=st===void 0?4:st,q=B.top,nt=q===void 0?10:q,ct=B.directed,bt=ct===void 0?!1:ct,_t=B.verbose,St=_t===void 0?!1:_t;this.graphs=z,this.dfsCode=new _,this.support=0,this.frequentSize1Subgraphs=[],this.frequentSubgraphs=[],this.minSupport=$,this.top=nt,this.directed=bt,this.counter=0,this.maxNodeNum=yt,this.minNodeNum=lt,this.verbose=St,this.maxNodeNum<this.minNodeNum&&(this.maxNodeNum=this.minNodeNum),this.reportDF=[]}return k.prototype.findForwardRootEdges=function(B,z){var W=this,$=[],K=B.nodeMap;return z.edges.forEach(function(lt){(W.directed||z.label<=K[lt.to].label)&&$.push(lt)}),$},k.prototype.findBackwardEdge=function(B,z,W,$){if(!this.directed&&z===W)return null;for(var K=B.nodeMap,lt=K[W.to],st=lt.edges,yt=st.length,q=0;q<yt;q++){var nt=st[q];if(!($.hasEdge(nt)||nt.to!==z.from)){if(this.directed){if(K[z.from].label<K[W.to].label||K[z.from].label===K[W.to].label&&z.label<=nt.label)return nt}else if(z.label<nt.label||z.label===nt.label&&K[z.to].label<=K[W.to].label)return nt}}return null},k.prototype.findForwardPureEdges=function(B,z,W,$){for(var K=[],lt=z.to,st=B.nodeMap[lt].edges,yt=st.length,q=0;q<yt;q++){var nt=st[q],ct=B.nodeMap[nt.to];W<=ct.label&&!$.hasNode(ct)&&K.push(nt)}return K},k.prototype.findForwardRmpathEdges=function(B,z,W,$){for(var K=[],lt=B.nodeMap,st=lt[z.to].label,yt=lt[z.from],q=yt.edges,nt=q.length,ct=0;ct<nt;ct++){var bt=q[ct],_t=lt[bt.to].label;z.to===bt.to||W>_t||$.hasNode(lt[bt.to])||(z.label<bt.label||z.label===bt.label&&st<=_t)&&K.push(bt)}return K},k.prototype.getSupport=function(B){var z={};return B.forEach(function(W){z[W.graphId]||(z[W.graphId]=!0)}),Object.keys(z).length},k.prototype.findMinLabel=function(B){var z=void 0;return Object.keys(B).forEach(function(W){var $=B[W],K=$.nodeLabel1,lt=$.edgeLabel,st=$.nodeLabel2;if(!z){z={nodeLabel1:K,edgeLabel:lt,nodeLabel2:st};return}(K<z.nodeLabel1||K===z.nodeLabel1&&lt<z.edgeLabel||K===z.nodeLabel1&&lt===z.edgeLabel&&st<z.nodeLabel2)&&(z={nodeLabel1:K,edgeLabel:lt,nodeLabel2:st})}),z},k.prototype.isMin=function(){var B=this,z=this.dfsCode;if(this.verbose&&console.log("isMin checking",z),z.dfsEdgeList.length===1)return!0;var W=this.directed,$=z.toGraph(b.VACANT_GRAPH_ID,W),K=$.nodeMap,lt=new _,st={};$.nodes.forEach(function(ct){var bt=B.findForwardRootEdges($,ct);bt.forEach(function(_t){var St=K[_t.to],At="".concat(ct.label,"-").concat(_t.label,"-").concat(St.label);st[At]||(st[At]={projected:[],nodeLabel1:ct.label,edgeLabel:_t.label,nodeLabel2:St.label});var vt={graphId:$.id,edge:_t,preNode:null};st[At].projected.push(vt)})});var yt=this.findMinLabel(st);if(!!yt){lt.dfsEdgeList.push(new P(0,1,yt.nodeLabel1,yt.edgeLabel,yt.nodeLabel2));var q=function ct(bt){for(var _t=lt.buildRmpath(),St=lt.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,At=lt.dfsEdgeList[_t[0]].toNode,vt={},dt=!1,gt=0,Ct=W?-1:0,Et=function(Ee){if(dt)return"break";bt.forEach(function(ge){var we=new O(ge),Ce=B.findBackwardEdge($,we.edges[_t[Ee]],we.edges[_t[0]],we);Ce&&(vt[Ce.label]||(vt[Ce.label]={projected:[],edgeLabel:Ce.label}),vt[Ce.label].projected.push({graphId:$.id,edge:vt,preNode:ge}),gt=lt.dfsEdgeList[_t[Ee]].fromNode,dt=!0)})},Tt=_t.length-1;Tt>Ct;Tt--){var ot=Et(Tt);if(ot==="break")break}if(dt){var Mt=B.findMinLabel(vt);lt.dfsEdgeList.push(new P(At,gt,b.VACANT_NODE_LABEL,Mt.edgeLabel,b.VACANT_NODE_LABEL));var Wt=lt.dfsEdgeList.length-1;return B.dfsCode.dfsEdgeList[Wt]!==lt.dfsEdgeList[Wt]?!1:ct(vt[Mt.edgeLabel].projected)}var jt={};dt=!1;var qt=0;bt.forEach(function(rr){var Ee=new O(rr),ge=B.findForwardPureEdges($,Ee.edges[_t[0]],St,Ee);ge.length>0&&(dt=!0,qt=At,ge.forEach(function(we){var Ce="".concat(we.label,"-").concat(K[we.to].label);jt[Ce]||(jt[Ce]={projected:[],edgeLabel:we.label,nodeLabel2:K[we.to].label}),jt[Ce].projected.push({graphId:$.id,edge:we,preNode:rr})}))});for(var se=_t.length,ae=function(Ee){if(dt)return"break";var ge=_t[Ee];bt.forEach(function(we){var Ce=new O(we),ye=B.findForwardRmpathEdges($,Ce.edges[ge],St,Ce);ye.length>0&&(dt=!0,qt=lt.dfsEdgeList[ge].fromNode,ye.forEach(function(Gt){var Xt="".concat(Gt.label,"-").concat(K[Gt.to].label);jt[Xt]||(jt[Xt]={projected:[],edgeLabel:Gt.label,nodeLabel2:K[Gt.to].label}),jt[Xt].projected.push({graphId:$.id,edge:Gt,preNode:we})}))})},Tt=0;Tt<se;Tt++){var he=ae(Tt);if(he==="break")break}if(!dt)return!0;var ke=B.findMinLabel(jt);lt.dfsEdgeList.push(new P(qt,At+1,b.VACANT_NODE_LABEL,ke.edgeLabel,ke.nodeLabel2));var Le=lt.dfsEdgeList.length-1;return z.dfsEdgeList[Le]!==lt.dfsEdgeList[Le]?!1:ct(jt["".concat(ke.edgeLabel,"-").concat(ke.nodeLabel2)].projected)},nt="".concat(yt.nodeLabel1,"-").concat(yt.edgeLabel,"-").concat(yt.nodeLabel2);return q(st[nt].projected)}},k.prototype.report=function(){if(!(this.dfsCode.getNodeNum()<this.minNodeNum)){this.counter++;var B=this.dfsCode.toGraph(this.counter,this.directed);this.frequentSubgraphs.push((0,x.clone)(B))}},k.prototype.subGraphMining=function(B){var z=this,W=this.getSupport(B);if(!(W<this.minSupport)&&!!this.isMin()){this.report();var $=this.dfsCode.getNodeNum(),K=this.dfsCode.buildRmpath(),lt=this.dfsCode.dfsEdgeList[K[0]].toNode,st=this.dfsCode.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,yt={},q={};B.forEach(function(nt){for(var ct=z.graphs[nt.graphId],bt=ct.nodeMap,_t=new O(nt),St=K.length-1;St>=0;St--){var At=z.findBackwardEdge(ct,_t.edges[K[St]],_t.edges[K[0]],_t);if(At){var vt="".concat(z.dfsCode.dfsEdgeList[K[St]].fromNode,"-").concat(At.label);q[vt]||(q[vt]={projected:[],toNodeId:z.dfsCode.dfsEdgeList[K[St]].fromNode,edgeLabel:At.label}),q[vt].projected.push({graphId:nt.graphId,edge:At,preNode:nt})}}if(!($>=z.maxNodeNum)){var dt=z.findForwardPureEdges(ct,_t.edges[K[0]],st,_t);dt.forEach(function(Ct){var Et="".concat(lt,"-").concat(Ct.label,"-").concat(bt[Ct.to].label);yt[Et]||(yt[Et]={projected:[],fromNodeId:lt,edgeLabel:Ct.label,nodeLabel2:bt[Ct.to].label}),yt[Et].projected.push({graphId:nt.graphId,edge:Ct,preNode:nt})});for(var gt=function(Et){var Tt=z.findForwardRmpathEdges(ct,_t.edges[K[Et]],st,_t);Tt.forEach(function(ot){var Mt="".concat(z.dfsCode.dfsEdgeList[K[Et]].fromNode,"-").concat(ot.label,"-").concat(bt[ot.to].label);yt[Mt]||(yt[Mt]={projected:[],fromNodeId:z.dfsCode.dfsEdgeList[K[Et]].fromNode,edgeLabel:ot.label,nodeLabel2:bt[ot.to].label}),yt[Mt].projected.push({graphId:nt.graphId,edge:ot,preNode:nt})})},St=0;St<K.length;St++)gt(St)}}),Object.keys(q).forEach(function(nt){var ct=q[nt],bt=ct.toNodeId,_t=ct.edgeLabel;z.dfsCode.dfsEdgeList.push(new P(lt,bt,"-1",_t,"-1")),z.subGraphMining(q[nt].projected),z.dfsCode.dfsEdgeList.pop()}),Object.keys(yt).forEach(function(nt){var ct=yt[nt],bt=ct.fromNodeId,_t=ct.edgeLabel,St=ct.nodeLabel2;z.dfsCode.dfsEdgeList.push(new P(bt,lt+1,b.VACANT_NODE_LABEL,_t,St)),z.subGraphMining(yt[nt].projected),z.dfsCode.dfsEdgeList.pop()})}},k.prototype.generate1EdgeFrequentSubGraphs=function(){var B=this.graphs,z=this.directed,W=this.minSupport,$=this.frequentSize1Subgraphs,K={},lt={},st={},yt={};return Object.keys(B).forEach(function(q){var nt=B[q],ct=nt.nodeMap;nt.nodes.forEach(function(bt,_t){var St=bt.label,At="".concat(q,"-").concat(St);if(!st[At]){var vt=K[St]||0;vt++,K[St]=vt}st[At]={graphKey:q,label:St},bt.edges.forEach(function(dt){var gt=St,Ct=ct[dt.to].label;if(!z&&gt>Ct){var Et=Ct;Ct=gt,gt=Et}var Tt=dt.label,ot="".concat(q,"-").concat(gt,"-").concat(Tt,"-").concat(Ct),Mt="".concat(gt,"-").concat(Tt,"-").concat(Ct);if(!lt[Mt]){var Wt=lt[Mt]||0;Wt++,lt[Mt]=Wt}yt[ot]={graphId:q,nodeLabel1:gt,edgeLabel:Tt,nodeLabel2:Ct}})})}),Object.keys(K).forEach(function(q){var nt=K[q];if(!(nt<W)){var ct={nodes:[],edges:[]};ct.nodes.push({id:"0",label:q}),$.push(ct)}}),$},k.prototype.run=function(){var B=this;if(this.frequentSize1Subgraphs=this.generate1EdgeFrequentSubGraphs(),!(this.maxNodeNum<2)){var z=this.graphs,W=this.directed,$={};Object.keys(z).forEach(function(K){var lt=z[K],st=lt.nodeMap;lt.nodes.forEach(function(yt){var q=B.findForwardRootEdges(lt,yt);q.forEach(function(nt){var ct=st[nt.to],bt="".concat(yt.label,"-").concat(nt.label,"-").concat(ct.label);$[bt]||($[bt]={projected:[],nodeLabel1:yt.label,edgeLabel:nt.label,nodeLabel2:ct.label});var _t={graphId:K,edge:nt,preNode:null};$[bt].projected.push(_t)})})}),Object.keys($).forEach(function(K){var lt=$[K],st=lt.projected,yt=lt.nodeLabel1,q=lt.edgeLabel,nt=lt.nodeLabel2;B.dfsCode.dfsEdgeList.push(new P(0,1,yt,q,nt)),B.subGraphMining(st),B.dfsCode.dfsEdgeList.pop()})}},k}(),F=function(B,z,W,$){var K={};return Object.keys(B).forEach(function(lt,st){var yt=B[lt],q=new b.Graph(st,!0,z),nt={};yt.nodes.forEach(function(ct,bt){q.addNode(bt,ct[W]),nt[ct.id]=bt}),yt.edges.forEach(function(ct,bt){var _t=nt[ct.source],St=nt[ct.target];q.addEdge(-1,_t,St,ct[$])}),q&&q.getNodeNum()&&(K[q.id]=q)}),K},M=function(B,z,W){var $=[];return B.forEach(function(K){var lt={nodes:[],edges:[]};K.nodes.forEach(function(st){var yt;lt.nodes.push((yt={id:"".concat(st.id)},yt[z]=st.label,yt))}),K.edges.forEach(function(st){var yt;lt.edges.push((yt={source:"".concat(st.from),target:"".concat(st.to)},yt[W]=st.label,yt))}),$.push(lt)}),$},A="cluster",L=function(B){var z=B.graphs,W=B.directed,$=W===void 0?!1:W,K=B.nodeLabelProp,lt=K===void 0?A:K,st=B.edgeLabelProp,yt=st===void 0?A:st,q=F(z,$,lt,yt),nt=B.minSupport,ct=B.maxNodeNum,bt=B.minNodeNum,_t=B.verbose,St=B.top,At={graphs:q,minSupport:nt,maxNodeNum:ct,minNodeNum:bt,top:St,verbose:_t,directed:$},vt=new T(At);vt.run();var dt=M(vt.frequentSubgraphs,lt,yt);return dt},I=L;R.default=I},68575:function(at,R){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.VACANT_NODE_LABEL=R.VACANT_NODE_ID=R.VACANT_GRAPH_ID=R.VACANT_EDGE_LABEL=R.VACANT_EDGE_ID=R.Node=R.Graph=R.Edge=R.AUTO_EDGE_ID=void 0;var d=-1;R.VACANT_EDGE_ID=d;var x=-1;R.VACANT_NODE_ID=x;var b="-1";R.VACANT_EDGE_LABEL=b;var P="-1";R.VACANT_NODE_LABEL=P;var _=-1;R.VACANT_GRAPH_ID=_;var O="-1";R.AUTO_EDGE_ID=O;var T=function(){function A(L,I,k,B){L===void 0&&(L=d),I===void 0&&(I=x),k===void 0&&(k=x),B===void 0&&(B=b),this.id=L,this.from=I,this.to=k,this.label=B}return A}();R.Edge=T;var F=function(){function A(L,I){L===void 0&&(L=x),I===void 0&&(I=P),this.id=L,this.label=I,this.edges=[],this.edgeMap={}}return A.prototype.addEdge=function(L){this.edges.push(L),this.edgeMap[L.id]=L},A}();R.Node=F;var M=function(){function A(L,I,k){L===void 0&&(L=x),I===void 0&&(I=!0),k===void 0&&(k=!1),this.id=L,this.edgeIdAutoIncrease=I,this.edges=[],this.nodes=[],this.nodeMap={},this.edgeMap={},this.nodeLabelMap={},this.edgeLabelMap={},this.counter=0,this.directed=k}return A.prototype.getNodeNum=function(){return this.nodes.length},A.prototype.addNode=function(L,I){if(!this.nodeMap[L]){var k=new F(L,I);this.nodes.push(k),this.nodeMap[L]=k,this.nodeLabelMap[I]||(this.nodeLabelMap[I]=[]),this.nodeLabelMap[I].push(L)}},A.prototype.addEdge=function(L,I,k,B){if((this.edgeIdAutoIncrease||L===void 0)&&(L=this.counter++),!(this.nodeMap[I]&&this.nodeMap[k]&&this.nodeMap[k].edgeMap[L])){var z=new T(L,I,k,B);if(this.edges.push(z),this.edgeMap[L]=z,this.nodeMap[I].addEdge(z),this.edgeLabelMap[B]||(this.edgeLabelMap[B]=[]),this.edgeLabelMap[B].push(z),!this.directed){var W=new T(L,k,I,B);this.nodeMap[k].addEdge(W),this.edgeLabelMap[B].push(W)}}},A}();R.Graph=M},82812:function(at,R,d){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.default=void 0;var x=d(85524),b=T(d(75033)),P=T(d(21146)),_=T(d(78089)),O=d(70643);function T(yt){return yt&&yt.__esModule?yt:{default:yt}}var F=function(q,nt,ct,bt){ct===void 0&&(ct="cluster"),bt===void 0&&(bt=2);var _t=[],St=q.nodes;return nt.forEach(function(At,vt){_t.push(M(St,At,vt,ct,bt))}),_t},M=function(q,nt,ct,bt,_t){var St=[ct],At=[],vt={};return nt.forEach(function(dt,gt){if(dt<=_t&&ct!==gt){St.push(gt),At.push(q[gt]);var Ct=q[gt][bt];vt[Ct]?(vt[Ct].count++,vt[Ct].dists.push(dt)):vt[Ct]={count:1,dists:[dt]}}}),Object.keys(vt).forEach(function(dt){vt[dt].dists=vt[dt].dists.sort(function(gt,Ct){return gt-Ct})}),{nodeIdx:ct,nodeId:q[ct].id,nodeIdxs:St,neighbors:At,neighborNum:St.length-1,nodeLabelCountMap:vt}},A=function(q,nt,ct,bt,_t){var St=Math.ceil(ct/nt),At={},vt=0;return bt.forEach(function(dt,gt){for(var Ct=0,Et=0,Tt=dt.nodeIdxs,ot=dt.neighborNum-1;Ct<St;){for(var Mt=Tt[1+Math.floor(Math.random()*ot)],Wt=0;(At["".concat(gt,"-").concat(Mt)]||At["".concat(Mt,"-").concat(gt)])&&(Mt=Math.floor(Math.random()*nt),Wt++,!(Wt>2*nt)););if(Wt<2*nt&&(At["".concat(gt,"-").concat(Mt)]={start:gt,end:Mt,distance:_t[gt][Mt]},Ct++,vt++,vt>=ct))return At;if(Et++,Et>2*nt)break}if(Ct<St){var jt=St-Ct;St=(St+jt)/(nt-gt-1)}}),At},L=function(q,nt,ct,bt){var _t=ct.nodes;return bt||(bt={}),Object.keys(q).forEach(function(St){var At,vt;if(!(bt&&bt[St])){bt[St]={nodes:[],edges:[]};var dt=q[St],gt=(At=nt[dt.start])===null||At===void 0?void 0:At.nodeIdxs,Ct=(vt=nt[dt.end])===null||vt===void 0?void 0:vt.nodeIdxs;if(!(!gt||!Ct)){var Et=new Set(Ct),Tt=gt.filter(function(qt){return Et.has(qt)});if(!(!Tt||!Tt.length)){for(var ot={},Mt=Tt.length,Wt=0;Wt<Mt;Wt++){var jt=_t[Tt[Wt]];bt[St].nodes.push(jt),ot[jt.id]=!0}ct.edges.forEach(function(qt){ot[qt.source]&&ot[qt.target]&&bt[St].edges.push(qt)})}}}}),bt},I=function(q,nt,ct,bt){var _t,St,At={};q.nodes.forEach(function(dt){At[dt.id]=dt});var vt=0;return!(!((_t=nt==null?void 0:nt.edges)===null||_t===void 0)&&_t.length)||((St=nt==null?void 0:nt.nodes)===null||St===void 0?void 0:St.length)<2?0:(q.edges.forEach(function(dt){var gt=At[dt.source][ct],Ct=At[dt.target][ct],Et=nt==null?void 0:nt.nodes[0][ct],Tt=nt==null?void 0:nt.nodes[1][ct],ot=nt==null?void 0:nt.edges[0][bt];dt[bt]===ot&&(gt===Et&&Ct===Tt||gt===Tt&&Ct===Et)&&vt++}),vt)},k=function(q,nt,ct){for(var bt=1/0,_t=0,St=function(dt){var gt=q[dt],Ct=Object.keys(gt).sort(function(qt,se){return gt[qt]-gt[se]}),Et=10,Tt=[];Ct.forEach(function(qt,se){Tt[se%Et]||(Tt[se%Et]={graphs:[],totalCount:0,aveCount:0}),Tt[se%Et].graphs.push(qt),Tt[se%Et].totalCount+=gt[qt]});var ot=0,Mt=[];Tt.forEach(function(qt){var se=qt.totalCount/qt.graphs.length;qt.aveCount=se,Mt.push(se);var ae=0,he=qt.length;qt.graphs.forEach(function(ke,Le){var rr=gt[ke];qt.graphs.forEach(function(Ee,ge){Le!==ge&&(ae+=Math.abs(rr-gt[Ee]))})}),ae/=he*(he-1)/2,ot+=ae}),ot/=Tt.length;var Wt=0;Mt.forEach(function(qt,se){Mt.forEach(function(ae,he){se!==he&&(Wt+=Math.abs(qt-ae))}),Wt/=Mt.length*(Mt.length-1)/2});var jt=Wt-ot;bt<jt&&(bt=jt,_t=dt)},At=0;At<nt;At++)St(At);return{structure:ct[_t],structureCountMap:q[_t]}},B=function(q,nt){var ct={},bt={};return q.forEach(function(_t,St){ct[_t.id]={idx:St,node:_t,degree:0,inDegree:0,outDegree:0};var At=_t[nt];bt[At]||(bt[At]=[]),bt[At].push(_t)}),{nodeMap:ct,nodeLabelMap:bt}},z=function(q,nt,ct){var bt={},_t={};return q.forEach(function(St,At){bt["".concat(O.uniqueId)]={idx:At,edge:St};var vt=St[nt];_t[vt]||(_t[vt]=[]),_t[vt].push(St);var dt=ct[St.source];dt&&(dt.degree++,dt.outDegree++);var gt=ct[St.target];gt&&(gt.degree++,gt.inDegree++)}),{edgeMap:bt,edgeLabelMap:_t}},W=function(q,nt,ct){var bt=nt.length,_t={};return nt.forEach(function(St,At){for(var vt=ct?0:At+1,dt=q[At].id,gt=vt;gt<bt;gt++)if(At!==gt){var Ct=q[gt].id,Et=St[gt];_t["".concat(dt,"-").concat(Ct)]=Et,ct||(_t["".concat(Ct,"-").concat(dt)]=Et)}}),_t},$=function(q,nt,ct,bt,_t,St,At,vt,dt,gt,Ct){var Et,Tt="".concat(nt.id,"-").concat(ct.id);if(gt&&gt[Tt])return gt[Tt];var ot=Ct?Ct[Tt]:void 0;if(!ot){var Mt=(Et={},Et[Tt]={start:bt[nt.id].idx,end:bt[ct.id].idx,distance:_t},Et);Ct=L(Mt,St,q,Ct),ot=Ct[Tt]}return I(ot,At,vt,dt)},K=function(q,nt,ct,bt){var _t,St,At,vt=(_t=q[nt])===null||_t===void 0?void 0:_t.degree,dt=(St=q[nt])===null||St===void 0?void 0:St.inDegree,gt=(At=q[nt])===null||At===void 0?void 0:At.outDegree;return q[nt]===void 0&&(vt=1/0,dt=1/0,gt=1/0,bt[nt].forEach(function(Ct){var Et=ct[Ct.id].degree;vt>Et&&(vt=Et);var Tt=ct[Ct.id].inDegree;dt>Tt&&(dt=Tt);var ot=ct[Ct.id].outDegree;gt>ot&&(gt=ot)}),q[nt]={degree:vt,inDegree:dt,outDegree:gt}),{minPatternNodeLabelDegree:vt,minPatternNodeLabelInDegree:dt,minPatternNodeLabelOutDegree:gt}},lt=function(q,nt,ct,bt,_t,St,At){var vt;if(ct===void 0&&(ct=!1),St===void 0&&(St="cluster"),At===void 0&&(At="cluster"),!(!q||!q.nodes)){var dt=q.nodes.length;if(!!dt){var gt=(0,b.default)(q,ct),Ct=(0,b.default)(nt,ct),Et=W(q.nodes,gt,ct),Tt=W(nt.nodes,Ct,ct),ot=B(q.nodes,St),Mt=ot.nodeMap,Wt=ot.nodeLabelMap,jt=B(nt.nodes,St),qt=jt.nodeMap,se=jt.nodeLabelMap;z(q.edges,At,Mt);var ae=z(nt.edges,At,qt).edgeLabelMap,he=[];Ct==null||Ct.forEach(function(Wr){he=he.concat(Wr)}),_t||(_t=Math.max.apply(Math,(0,x.__spreadArray)((0,x.__spreadArray)([],he,!1),[2],!1))),bt||(bt=_t);var ke=F(q,gt,St,bt),Le=F(nt,Ct,St,bt),rr=Math.min(100,dt*(dt-1)/2),Ee=A(bt,dt,rr,ke,gt),ge=L(Ee,ke,q),we=10,Ce=1,ye=1,Gt=4,Xt={graphs:ge,nodeLabelProp:St,edgeLabelProp:At,minSupport:Ce,minNodeNum:ye,maxNodeNum:Gt,directed:ct},Kt=(0,P.default)(Xt).slice(0,we),ze=Kt.length,ur=[];Kt.forEach(function(Wr,Ut){ur[Ut]={},Object.keys(ge).forEach(function(ft){var pt=ge[ft],J=I(pt,Wr,St,At);ur[Ut][ft]=J})});var tr=k(ur,ze,Kt),re=tr.structure,Qr=tr.structureCountMap,Ir=nt.nodes[0],gn=[],Wn=(vt=nt.nodes[0])===null||vt===void 0?void 0:vt[St],ui=-1/0;nt.nodes.forEach(function(Wr){var Ut=Wr[St],ft=Wt[Ut];(ft==null?void 0:ft.length)>ui&&(ui=ft.length,gn=ft,Wn=Ut,Ir=Wr)});var bi={},fr={},Zr={},Sn={},Dn={},hn={};Object.keys(se).forEach(function(Wr,Ut){Dn[Wr]=[],ct&&(hn[Wr]=[]);var ft=-1/0,pt=se[Wr],J={};pt.forEach(function(be){var ce=Tt["".concat(Ir.id,"-").concat(be.id)];if(ce&&Dn[Wr].push(ce),ft<ce&&(ft=ce),J["".concat(Ir.id,"-").concat(be.id)]={start:0,end:qt[be.id].idx,distance:ce},ct){var We=Tt["".concat(be.id,"-").concat(Ir.id)];We&&hn[Wr].push(We)}}),Dn[Wr]=Dn[Wr].sort(function(be,ce){return be-ce}),ct&&(hn[Wr]=hn[Wr].sort(function(be,ce){return be-ce})),fr=L(J,Le,nt,fr);var xt=[];if(Object.keys(J).forEach(function(be){if(Zr[be]){xt.push(Zr[be]);return}var ce=fr[be];Zr[be]=I(ce,re,St,At),xt.push(Zr[be])}),xt=xt.sort(function(be,ce){return ce-be}),Sn["".concat(Ir.id,"-").concat(Wr)]=xt,Wr!==Wn)for(var Rt=(gn==null?void 0:gn.length)||0,ue=function(ce){var We=gn[ce],Ne=ke[Mt[We.id].idx],Mr=Ne.nodeLabelCountMap[Wr],sn=se[Wr].length;if(!Mr||Mr.count<sn)return gn.splice(ce,1),"continue";for(var hr=!1,cn=0;cn<sn;cn++)if(Mr.dists[cn]>Dn[Wr][cn]){hr=!0;break}if(hr)return gn.splice(ce,1),"continue";var kn={};Ne.neighbors.forEach(function(Zn){var Kn=Et["".concat(We.id,"-").concat(Zn.id)];kn["".concat(We.id,"-").concat(Zn.id)]={start:Mt[We.id].idx,end:Mt[Zn.id].idx,distance:Kn}}),ge=L(kn,ke,q,ge);var me=[];Object.keys(kn).forEach(function(Zn){if(Qr[Zn]){me.push(Qr[Zn]);return}var Kn=ge[Zn];Qr[Zn]=I(Kn,re,St,At),me.push(Qr[Zn])}),me=me.sort(function(Zn,Kn){return Kn-Zn});for(var Tn=!1,cn=0;cn<sn;cn++)if(me[cn]<xt[cn]){Tn=!0;break}if(Tn)return gn.splice(ce,1),"continue"},ie=Rt-1;ie>=0;ie--)ue(ie)});var Gn=[];gn==null||gn.forEach(function(Wr){for(var Ut=Mt[Wr.id].idx,ft=M(q.nodes,gt[Ut],Ut,St,_t),pt=ft.neighbors,J=pt.length,xt=!1,Rt=J-1;Rt>=0;Rt--){if(pt.length+1<nt.nodes.length){xt=!0;return}var ue=pt[Rt],ie=ue[St];if(!se[ie]||!se[ie].length){pt.splice(Rt,1);continue}if(!Dn[ie]||!Dn[ie].length){pt.splice(Rt,1);continue}var be="".concat(Wr.id,"-").concat(ue.id),ce=Et[be],We=Dn[ie].length-1,Ne=Dn[ie][We];if(ce>Ne){pt.splice(Rt,1);continue}if(ct){var Mr="".concat(ue.id,"-").concat(Wr.id),sn=Et[Mr];We=hn[ie].length-1;var hr=hn[ie][We];if(sn>hr){pt.splice(Rt,1);continue}}var cn=Qr[be]?Qr[be]:$(q,Wr,ue,Mt,ce,ke,re,St,At,Qr,ge),kn="".concat(Ir.id,"-").concat(ie),me=Sn[kn][Sn[kn].length-1];if(cn<me){pt.splice(Rt,1);continue}var Tn=K(bi,ie,qt,se),Zn=Tn.minPatternNodeLabelDegree,Kn=Tn.minPatternNodeLabelInDegree,Or=Tn.minPatternNodeLabelOutDegree;if(Mt[ue.id].degree<Zn){pt.splice(Rt,1);continue}}xt||Gn.push({nodes:[Wr].concat(pt)})});var En=(0,_.default)(nt,Ir.id,!1).length,In={};ct?(Object.keys(En).forEach(function(Wr){var Ut=qt[Wr].node[St];In[Ut]?In[Ut].push(En[Wr]):In[Ut]=[En[Wr]]}),Object.keys(In).forEach(function(Wr){In[Wr].sort(function(Ut,ft){return Ut-ft})})):In=Dn;for(var Fn=Gn.length,xe=function(Ut){var ft=Gn[Ut],pt=ft.nodes[0],J={},xt={};ft.nodes.forEach(function(Ci,ga){xt[Ci.id]={idx:ga,node:Ci,degree:0,inDegree:0,outDegree:0};var da=Ci[St];J[da]?J[da]++:J[da]=1});var Rt=[],ue={};q.edges.forEach(function(Ci){xt[Ci.source]&&xt[Ci.target]&&(Rt.push(Ci),ue[Ci[At]]?ue[Ci[At]]++:ue[Ci[At]]=1,xt[Ci.source].degree++,xt[Ci.target].degree++,xt[Ci.source].outDegree++,xt[Ci.target].inDegree++)});for(var ie=Object.keys(ae).length,be=!1,ce=0;ce<ie;ce++){var We=Object.keys(ae)[ce];if(!ue[We]||ue[We]<ae[We].length){be=!0;break}}if(be)return Gn.splice(Ut,1),"continue";var Ne=Rt.length;if(Ne<nt.edges.length)return Gn.splice(Ut,1),"break";for(var Mr=!1,sn=function(ga){var da=Rt[ga],zo=da[At],Po=ae[zo];if(!Po||!Po.length)return ue[zo]--,Po&&ue[zo]<Po.length?(Mr=!0,"break"):(Rt.splice(ga,1),xt[da.source].degree--,xt[da.target].degree--,xt[da.source].outDegree--,xt[da.target].inDegree--,"continue");var au=xt[da.source].node[St],Yi=xt[da.target].node[St],Ha=!1;if(Po.forEach(function(po){var Za=qt[po.source].node,ho=qt[po.target].node;Za[St]===au&&ho[St]===Yi&&(Ha=!0),!ct&&Za[St]===Yi&&ho[St]===au&&(Ha=!0)}),!Ha)return ue[zo]--,Po&&ue[zo]<Po.length?(Mr=!0,"break"):(Rt.splice(ga,1),xt[da.source].degree--,xt[da.target].degree--,xt[da.source].outDegree--,xt[da.target].inDegree--,"continue")},ce=Ne-1;ce>=0;ce--){var hr=sn(ce);if(hr==="break")break}if(Mr)return Gn.splice(Ut,1),"continue";ft.edges=Rt;var cn=(0,_.default)(ft,ft.nodes[0].id,!1).length;if(Object.keys(cn).reverse().forEach(function(Ci){if(!(Ci===ft.nodes[0].id||Mr)){if(cn[Ci]===1/0){var ga=xt[Ci].node[St];if(J[ga]--,J[ga]<se[ga].length){Mr=!0;return}var da=ft.nodes.indexOf(xt[Ci].node);ft.nodes.splice(da,1),xt[Ci]=void 0;return}var zo=Mt[Ci].node[St];if(!In[zo]||!In[zo].length||cn[Ci]>In[zo][In[zo].length-1]){var ga=xt[Ci].node[St];if(J[ga]--,J[ga]<se[ga].length){Mr=!0;return}var da=ft.nodes.indexOf(xt[Ci].node);ft.nodes.splice(da,1),xt[Ci]=void 0}}}),Mr)return Gn.splice(Ut,1),"continue";for(var kn=!0,me=0;kn&&!Mr;){kn=!1;var Tn=ct?xt[pt.id].degree<qt[Ir.id].degree||xt[pt.id].inDegree<qt[Ir.id].inDegree||xt[pt.id].outDegree<qt[Ir.id].outDegree:xt[pt.id].degree<qt[Ir.id].degree;if(Tn){Mr=!0;break}if(J[pt[St]]<se[pt[St]].length){Mr=!0;break}for(var Zn=ft.nodes.length,Kn=Zn-1;Kn>=0;Kn--){var Or=ft.nodes[Kn],wn=xt[Or.id].degree,Cr=xt[Or.id].inDegree,xr=xt[Or.id].outDegree,_n=Or[St],Mi=K(bi,_n,qt,se),or=Mi.minPatternNodeLabelDegree,Bn=Mi.minPatternNodeLabelInDegree,ti=Mi.minPatternNodeLabelOutDegree,Vn=ct?wn<or||Cr<Bn||xr<ti:wn<or;if(Vn){if(J[Or[St]]--,J[Or[St]]<se[Or[St]].length){Mr=!0;break}ft.nodes.splice(Kn,1),xt[Or.id]=void 0,kn=!0}}if(Mr||!kn&&me!==0)break;Ne=Rt.length;for(var qi=Ne-1;qi>=0;qi--){var Rn=Rt[qi];if(!xt[Rn.source]||!xt[Rn.target]){Rt.splice(qi,1);var fa=Rn[At];if(ue[fa]--,xt[Rn.source]&&(xt[Rn.source].degree--,xt[Rn.source].outDegree--),xt[Rn.target]&&(xt[Rn.target].degree--,xt[Rn.target].inDegree--),ae[fa]&&ue[fa]<ae[fa].length){Mr=!0;break}kn=!0}}me++}if(Mr||Mr||ft.nodes.length<nt.nodes.length||Rt.length<nt.edges.length)return Gn.splice(Ut,1),"continue"},Ge=Fn-1;Ge>=0;Ge--){var Je=xe(Ge);if(Je==="break")break}for(var br=Gn.length,jr=function(Ut){var ft=Gn[Ut],pt={};ft.edges.forEach(function(Rt){var ue="".concat(Rt.source,"-").concat(Rt.target,"-").concat(Rt.label);pt[ue]?pt[ue]++:pt[ue]=1});for(var J=function(ue){var ie=Gn[ue],be={};ie.edges.forEach(function(We){var Ne="".concat(We.source,"-").concat(We.target,"-").concat(We.label);be[Ne]?be[Ne]++:be[Ne]=1});var ce=!0;Object.keys(be).length!==Object.keys(pt).length?ce=!1:Object.keys(pt).forEach(function(We){be[We]!==pt[We]&&(ce=!1)}),ce&&Gn.splice(ue,1)},xt=br-1;xt>Ut;xt--)J(xt);br=Gn.length},Ge=0;Ge<=br-1;Ge++)jr(Ge);return Gn}}},st=lt;R.default=st},5170:function(at,R,d){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.default=void 0;var x=P(d(62238)),b=d(70643);function P(T){return T&&T.__esModule?T:{default:T}}var _=function(F,M,A,L){M===void 0&&(M=!1),A===void 0&&(A="weight"),L===void 0&&(L=1e3);var I=F.nodes,k=I===void 0?[]:I,B=F.edges,z=B===void 0?[]:B,W={},$={};k.forEach(function(St,At){var vt=(0,b.uniqueId)();St.clusterId=vt,W[vt]={id:vt,nodes:[St]},$[St.id]={node:St,idx:At}});var K=(0,x.default)(F,M),lt=[],st={};K.forEach(function(St,At){var vt=0,dt=k[At].id;st[dt]={},St.forEach(function(gt,Ct){if(!!gt){vt+=gt;var Et=k[Ct].id;st[dt][Et]=gt}}),lt.push(vt)});for(var yt=0,q=function(){var At=!1;if(k.forEach(function(vt){var dt={};Object.keys(st[vt.id]).forEach(function(jt){var qt=st[vt.id][jt],se=$[jt].node,ae=se.clusterId;dt[ae]||(dt[ae]=0),dt[ae]+=qt});var gt=-1/0,Ct=[];if(Object.keys(dt).forEach(function(jt){gt<dt[jt]?(gt=dt[jt],Ct=[jt]):gt===dt[jt]&&Ct.push(jt)}),!(Ct.length===1&&Ct[0]===vt.clusterId)){var Et=Ct.indexOf(vt.clusterId);if(Et>=0&&Ct.splice(Et,1),Ct&&Ct.length){At=!0;var Tt=W[vt.clusterId],ot=Tt.nodes.indexOf(vt);Tt.nodes.splice(ot,1);var Mt=Math.floor(Math.random()*Ct.length),Wt=W[Ct[Mt]];Wt.nodes.push(vt),vt.clusterId=Wt.id}}}),!At)return"break";yt++};yt<L;){var nt=q();if(nt==="break")break}Object.keys(W).forEach(function(St){var At=W[St];(!At.nodes||!At.nodes.length)&&delete W[St]});var ct=[],bt={};z.forEach(function(St){var At=St.source,vt=St.target,dt=St[A]||1,gt=$[At].node.clusterId,Ct=$[vt].node.clusterId,Et="".concat(gt,"---").concat(Ct);if(bt[Et])bt[Et].weight+=dt,bt[Et].count++;else{var Tt={source:gt,target:Ct,weight:dt,count:1};bt[Et]=Tt,ct.push(Tt)}});var _t=[];return Object.keys(W).forEach(function(St){_t.push(W[St])}),{clusters:_t,clusterEdges:ct}},O=_;R.default=O},35179:function(at,R,d){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.default=void 0;var x=d(49242),b=T(d(62238)),P=T(d(29741)),_=d(3665),O=d(26838);function T(I){return I&&I.__esModule?I:{default:I}}var F=function(k,B,z,W){for(var $=B.length,K=2*W,lt=0,st=0;st<$;st++)for(var yt=k[st].clusterId,q=0;q<$;q++){var nt=k[q].clusterId;if(yt===nt){var ct=B[st][q]||0,bt=z[st]||0,_t=z[q]||0;lt+=ct-bt*_t/K}}return lt*=1/K,lt},M=function(k,B){k===void 0&&(k=[]);for(var z=k.length,W=new P.default([]),$=0;$<z;$++)W=W.add(new P.default(B[$]));var K=W.avg(z);K.normalize();for(var lt=0,$=0;$<z;$++){var st=new P.default(B[$]),yt=st.squareEuclideanDistance(K);lt+=yt}var q=[];k.forEach(function(){q.push([])});for(var $=0;$<z;$++){var st=new P.default(B[$]);k[$].clusterInertial=0;for(var nt=0;nt<z;nt++){if($===nt){q[$][nt]=0;continue}var ct=new P.default(B[nt]);q[$][nt]=st.squareEuclideanDistance(ct),k[$].clusterInertial+=q[$][nt]}}for(var bt=0,_t=2*z*lt,$=0;$<z;$++)for(var St=k[$].clusterId,nt=0;nt<z;nt++){var At=k[nt].clusterId;if(!($===nt||St!==At)){var vt=k[$].clusterInertial*k[nt].clusterInertial/Math.pow(_t,2)-q[$][nt]/_t;bt+=vt}}return Number(bt.toFixed(4))},A=function(k,B,z,W,$,K,lt,st,yt){B===void 0&&(B=!1),z===void 0&&(z="weight"),W===void 0&&(W=1e-4),$===void 0&&($=!1),K===void 0&&(K=void 0),lt===void 0&&(lt=[]),st===void 0&&(st=["id"]),yt===void 0&&(yt=1);var q=k.nodes,nt=q===void 0?[]:q,ct=k.edges,bt=ct===void 0?[]:ct,_t=[];if($){nt.forEach(function(ge,we){ge.properties=ge.properties||{},ge.originIndex=we});var St=[];nt.every(function(ge){return ge.hasOwnProperty("nodeType")})&&(St=Array.from(new Set(nt.map(function(ge){return ge.nodeType}))),nt.forEach(function(ge){ge.properties.nodeType=St.findIndex(function(we){return we===ge.nodeType})}));var At=(0,_.getAllProperties)(nt,K);_t=(0,O.oneHot)(At,lt,st)}var vt=1,dt={},gt={};nt.forEach(function(ge,we){var Ce=String(vt++);ge.clusterId=Ce,dt[Ce]={id:Ce,nodes:[ge]},gt[ge.id]={node:ge,idx:we}});var Ct=(0,b.default)(k,B),Et=[],Tt={},ot=0;Ct.forEach(function(ge,we){var Ce=0,ye=nt[we].id;Tt[ye]={},ge.forEach(function(Gt,Xt){if(!!Gt){Ce+=Gt;var Kt=nt[Xt].id;Tt[ye][Kt]=Gt,ot+=Gt}}),Et.push(Ce)}),ot/=2;for(var Mt=1/0,Wt=1/0,jt=0,qt=[],se={};;){$&&nt.every(function(ge){return ge.hasOwnProperty("properties")})?Mt=F(nt,Ct,Et,ot)+M(nt,_t)*yt:Mt=F(nt,Ct,Et,ot),jt===0&&(Wt=Mt,qt=nt,se=dt);var ae=Mt>0&&Mt>Wt&&Mt-Wt<W;if(Mt>Wt&&(qt=nt.map(function(ge){return{node:ge,clusterId:ge.clusterId}}),se=(0,x.clone)(dt),Wt=Mt),ae||jt>100)break;jt++,Object.keys(dt).forEach(function(ge){var we=0;bt.forEach(function(Ce){var ye=Ce.source,Gt=Ce.target,Xt=gt[ye].node.clusterId,Kt=gt[Gt].node.clusterId;(Xt===ge&&Kt!==ge||Kt===ge&&Xt!==ge)&&(we=we+(Ce[z]||1))}),dt[ge].sumTot=we}),nt.forEach(function(ge,we){var Ce=dt[ge.clusterId],ye=0,Gt,Xt=Et[we]/(2*ot),Kt=0,ze=Ce.nodes;ze.forEach(function(fr){var Zr=gt[fr.id].idx;Kt+=Ct[we][Zr]||0});var ur=Kt-Ce.sumTot*Xt,tr=ze.filter(function(fr){return fr.id!==ge.id}),re=[];tr.forEach(function(fr,Zr){re[Zr]=_t[fr.originIndex]});var Qr=M(tr,_t)*yt,Ir=Tt[ge.id];if(Object.keys(Ir).forEach(function(fr){var Zr=gt[fr].node,Sn=Zr.clusterId;if(Sn!==ge.clusterId){var Dn=dt[Sn],hn=Dn.nodes;if(!(!hn||!hn.length)){var Gn=0;hn.forEach(function(Je){var br=gt[Je.id].idx;Gn+=Ct[we][br]||0});var En=Gn-Dn.sumTot*Xt,In=hn.concat([ge]),Fn=[];In.forEach(function(Je,br){Fn[br]=_t[Je.originIndex]});var xe=M(In,_t)*yt,Ge=En-ur;$&&(Ge=En+xe-(ur+Qr)),Ge>ye&&(ye=Ge,Gt=Dn)}}}),ye>0){Gt.nodes.push(ge);var gn=ge.clusterId;ge.clusterId=Gt.id;var Wn=Ce.nodes.indexOf(ge);Ce.nodes.splice(Wn,1);var ui=0,bi=0;bt.forEach(function(fr){var Zr=fr.source,Sn=fr.target,Dn=gt[Zr].node.clusterId,hn=gt[Sn].node.clusterId;(Dn===Gt.id&&hn!==Gt.id||hn===Gt.id&&Dn!==Gt.id)&&(ui=ui+(fr[z]||1)),(Dn===gn&&hn!==gn||hn===gn&&Dn!==gn)&&(bi=bi+(fr[z]||1))}),Gt.sumTot=ui,Ce.sumTot=bi}})}var he={},ke=0;Object.keys(se).forEach(function(ge){var we=se[ge];if(!we.nodes||!we.nodes.length){delete se[ge];return}var Ce=String(ke+1);Ce!==ge&&(we.id=Ce,we.nodes=we.nodes.map(function(ye){return{id:ye.id,clusterId:Ce}}),se[Ce]=we,he[ge]=Ce,delete se[ge],ke++)}),qt.forEach(function(ge){var we=ge.node,Ce=ge.clusterId;we.clusterId=Ce,we.clusterId&&he[we.clusterId]&&(we.clusterId=he[we.clusterId])});var Le=[],rr={};bt.forEach(function(ge){var we=ge.source,Ce=ge.target,ye=ge[z]||1,Gt=gt[we].node.clusterId,Xt=gt[Ce].node.clusterId,Kt="".concat(Gt,"---").concat(Xt);if(rr[Kt])rr[Kt].weight+=ye,rr[Kt].count++;else{var ze={source:Gt,target:Xt,weight:ye,count:1};rr[Kt]=ze,Le.push(ze)}});var Ee=[];return Object.keys(se).forEach(function(ge){Ee.push(se[ge])}),{clusters:Ee,clusterEdges:Le}},L=A;R.default=L},89454:function(at,R,d){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.default=void 0;var x=_(d(38823)),b=_(d(57085)),P=d(70643);function _(A){return A&&A.__esModule?A:{default:A}}var O=function(L,I){var k=[],B=L.nodes,z=B===void 0?[]:B,W=L.edges,$=W===void 0?[]:W;if(z.length===0)return k;var K=z[0],lt=new Set;lt.add(K);var st=function(_t,St){return I?_t.weight-St.weight:0},yt=new b.default(st);for((0,P.getEdgesByNodeId)(K.id,$).forEach(function(bt){yt.insert(bt)});!yt.isEmpty();){var q=yt.delMin(),nt=q.source,ct=q.target;lt.has(nt)&&lt.has(ct)||(k.push(q),lt.has(nt)||(lt.add(nt),(0,P.getEdgesByNodeId)(nt,$).forEach(function(bt){yt.insert(bt)})),lt.has(ct)||(lt.add(ct),(0,P.getEdgesByNodeId)(ct,$).forEach(function(bt){yt.insert(bt)})))}return k},T=function(L,I){var k=[],B=L.nodes,z=B===void 0?[]:B,W=L.edges,$=W===void 0?[]:W;if(z.length===0)return k;var K=$.map(function(nt){return nt});I&&K.sort(function(nt,ct){return nt.weight-ct.weight});for(var lt=new x.default(z.map(function(nt){return nt.id}));K.length>0;){var st=K.shift(),yt=st.source,q=st.target;lt.connected(yt,q)||(k.push(st),lt.union(yt,q))}return k},F=function(L,I,k){var B={prim:O,kruskal:T};return k?B[k](L,I):T(L,I)},M=F;R.default=M},74926:function(at,R,d){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.default=void 0;var x=P(d(82556)),b=d(70643);function P(T){return T&&T.__esModule?T:{default:T}}var _=function(F,M,A){typeof M!="number"&&(M=1e-6),typeof A!="number"&&(A=.85);for(var L=1,I=0,k=1e3,B=F.nodes,z=B===void 0?[]:B,W=F.edges,$=W===void 0?[]:W,K=z.length,lt,st={},yt={},q=0;q<K;++q){var nt=z[q],ct=nt.id;st[ct]=1/K,yt[ct]=1/K}for(var bt=(0,x.default)(F);k>0&&L>M;){I=0;for(var q=0;q<K;++q){var nt=z[q],ct=nt.id;if(lt=0,bt[nt.id].inDegree===0)st[ct]=0;else{for(var _t=(0,b.getNeighbors)(ct,$,"source"),St=0;St<_t.length;++St){var At=_t[St],vt=bt[At].outDegree;vt>0&&(lt+=yt[At]/vt)}st[ct]=A*lt,I+=st[ct]}}I=(1-I)/K,L=0;for(var q=0;q<K;++q){var nt=z[q],ct=nt.id;lt=st[ct]+I,L+=Math.abs(lt-yt[ct]),yt[ct]=lt}k-=1}return yt},O=_;R.default=O},57085:function(at,R){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.default=void 0;var d=function(_,O){return _-O},x=function(){function P(_){_===void 0&&(_=d),this.compareFn=_,this.list=[]}return P.prototype.getLeft=function(_){return 2*_+1},P.prototype.getRight=function(_){return 2*_+2},P.prototype.getParent=function(_){return _===0?null:Math.floor((_-1)/2)},P.prototype.isEmpty=function(){return this.list.length<=0},P.prototype.top=function(){return this.isEmpty()?void 0:this.list[0]},P.prototype.delMin=function(){var _=this.top(),O=this.list.pop();return this.list.length>0&&(this.list[0]=O,this.moveDown(0)),_},P.prototype.insert=function(_){if(_!==null){this.list.push(_);var O=this.list.length-1;return this.moveUp(O),!0}return!1},P.prototype.moveUp=function(_){for(var O=this.getParent(_);_&&_>0&&this.compareFn(this.list[O],this.list[_])>0;){var T=this.list[O];this.list[O]=this.list[_],this.list[_]=T,_=O,O=this.getParent(_)}},P.prototype.moveDown=function(_){var O,T=_,F=this.getLeft(_),M=this.getRight(_),A=this.list.length;F!==null&&F<A&&this.compareFn(this.list[T],this.list[F])>0?T=F:M!==null&&M<A&&this.compareFn(this.list[T],this.list[M])>0&&(T=M),_!==T&&(O=[this.list[T],this.list[_]],this.list[_]=O[0],this.list[T]=O[1],this.moveDown(T))},P}(),b=x;R.default=b},88481:function(at,R){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.default=R.LinkedListNode=void 0;var d=function(O,T){return O===T},x=function(){function _(O,T){T===void 0&&(T=null),this.value=O,this.next=T}return _.prototype.toString=function(O){return O?O(this.value):"".concat(this.value)},_}();R.LinkedListNode=x;var b=function(){function _(O){O===void 0&&(O=d),this.head=null,this.tail=null,this.compare=O}return _.prototype.prepend=function(O){var T=new x(O,this.head);return this.head=T,this.tail||(this.tail=T),this},_.prototype.append=function(O){var T=new x(O);return this.head?(this.tail.next=T,this.tail=T,this):(this.head=T,this.tail=T,this)},_.prototype.delete=function(O){if(!this.head)return null;for(var T=null;this.head&&this.compare(this.head.value,O);)T=this.head,this.head=this.head.next;var F=this.head;if(F!==null)for(;F.next;)this.compare(F.next.value,O)?(T=F.next,F.next=F.next.next):F=F.next;return this.compare(this.tail.value,O)&&(this.tail=F),T},_.prototype.find=function(O){var T=O.value,F=T===void 0?void 0:T,M=O.callback,A=M===void 0?void 0:M;if(!this.head)return null;for(var L=this.head;L;){if(A&&A(L.value)||F!==void 0&&this.compare(L.value,F))return L;L=L.next}return null},_.prototype.deleteTail=function(){var O=this.tail;if(this.head===this.tail)return this.head=null,this.tail=null,O;for(var T=this.head;T.next;)T.next.next?T=T.next:T.next=null;return this.tail=T,O},_.prototype.deleteHead=function(){if(!this.head)return null;var O=this.head;return this.head.next?this.head=this.head.next:(this.head=null,this.tail=null),O},_.prototype.fromArray=function(O){var T=this;return O.forEach(function(F){return T.append(F)}),this},_.prototype.toArray=function(){for(var O=[],T=this.head;T;)O.push(T),T=T.next;return O},_.prototype.reverse=function(){for(var O=this.head,T=null,F=null;O;)F=O.next,O.next=T,T=O,O=F;this.tail=this.head,this.head=T},_.prototype.toString=function(O){return O===void 0&&(O=void 0),this.toArray().map(function(T){return T.toString(O)}).toString()},_}(),P=b;R.default=P},93026:function(at,R,d){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.default=void 0;var x=b(d(88481));function b(O){return O&&O.__esModule?O:{default:O}}var P=function(){function O(){this.linkedList=new x.default}return O.prototype.isEmpty=function(){return!this.linkedList.head},O.prototype.peek=function(){return this.linkedList.head?this.linkedList.head.value:null},O.prototype.enqueue=function(T){this.linkedList.append(T)},O.prototype.dequeue=function(){var T=this.linkedList.deleteHead();return T?T.value:null},O.prototype.toString=function(T){return this.linkedList.toString(T)},O}(),_=P;R.default=_},38823:function(at,R){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.default=void 0;var d=function(){function b(P){this.count=P.length,this.parent={};for(var _=0,O=P;_<O.length;_++){var T=O[_];this.parent[T]=T}}return b.prototype.find=function(P){for(;this.parent[P]!==P;)P=this.parent[P];return P},b.prototype.union=function(P,_){var O=this.find(P),T=this.find(_);O!==T&&(O<T?(this.parent[_]!==_&&this.union(this.parent[_],P),this.parent[_]=this.parent[P]):(this.parent[P]!==P&&this.union(this.parent[P],_),this.parent[P]=this.parent[_]))},b.prototype.connected=function(P,_){return this.find(P)===this.find(_)},b}(),x=d;R.default=x},17892:function(at,R){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.DistanceType=void 0;var d;R.DistanceType=d,function(x){x.EuclideanDistance="euclideanDistance"}(d||(R.DistanceType=d={}))},70643:function(at,R){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.uniqueId=R.getOutEdgesNodeId=R.getNeighbors=R.getEdgesByNodeId=void 0;var d=function(O,T,F){T===void 0&&(T=[]);var M=T.filter(function(k){return k.source===O||k.target===O});if(F==="target"){var A=function(B){return B.source===O};return M.filter(A).map(function(k){return k.target})}if(F==="source"){var L=function(B){return B.target===O};return M.filter(L).map(function(k){return k.source})}var I=function(B){return B.source===O?B.target:B.source};return M.map(I)};R.getNeighbors=d;var x=function(O,T){return T.filter(function(F){return F.source===O})};R.getOutEdgesNodeId=x;var b=function(O,T){return T.filter(function(F){return F.source===O||F.target===O})};R.getEdgesByNodeId=b;var P=function(O){O===void 0&&(O=0);var T="".concat(Math.random()).split(".")[1].substr(0,5),F="".concat(Math.random()).split(".")[1].substr(0,5);return"".concat(O,"-").concat(T).concat(F)};R.uniqueId=P},26838:function(at,R,d){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.oneHot=R.getDistance=R.getAllKeyValueMap=R.default=void 0;var x=d(49242),b=d(17892),P=_(d(29741));function _(A){return A&&A.__esModule?A:{default:A}}var O=function(L,I,k){var B=[];I!=null&&I.length?B=I:(L.forEach(function(W){B=B.concat(Object.keys(W))}),B=(0,x.uniq)(B));var z={};return B.forEach(function(W){var $=[];L.forEach(function(K){K[W]!==void 0&&K[W]!==""&&$.push(K[W])}),$.length&&!(k!=null&&k.includes(W))&&(z[W]=(0,x.uniq)($))}),z};R.getAllKeyValueMap=O;var T=function(L,I,k){var B=O(L,I,k),z=[];return Object.keys(B).length&&L.forEach(function(W,$){var K=[];if(Object.keys(B).length===1){var lt=Object.keys(B)[0],st=B[lt];st.every(function(yt){return!isNaN(Number(yt))})&&(K=[W[lt]])}else Object.keys(B).forEach(function(yt){for(var q=W[yt],nt=B[yt],ct=nt.findIndex(function(St){return q===St}),bt=[],_t=0;_t<nt.length;_t++)_t===ct?bt.push(1):bt.push(0);K=K.concat(bt)});z[$]=K}),z};R.oneHot=T;var F=function(L,I,k,B){k===void 0&&(k=b.DistanceType.EuclideanDistance);var z=0;switch(k){case b.DistanceType.EuclideanDistance:z=new P.default(L).euclideanDistance(new P.default(I));break;default:break}return z};R.getDistance=F;var M={getAllKeyValueMap:O,oneHot:T,getDistance:F};R.default=M},3665:function(at,R,d){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.getPropertyWeight=R.getAllSortProperties=R.getAllProperties=R.default=void 0;var x=d(92935),b=function(M,A){M===void 0&&(M=[]),A===void 0&&(A=100);var L={};M.forEach(function(k){!k.properties||Object.keys(k.properties).forEach(function(B){if(B==="id"||!"".concat(k.properties[B]).match(x.secondReg)&&!"".concat(k.properties[B]).match(x.dateReg)&&isNaN(Number(k.properties[B]))){L.hasOwnProperty(B)&&delete L[B];return}L.hasOwnProperty(B)?L[B]+=1:L[B]=1})});var I=Object.keys(L).sort(function(k,B){return L[B]-L[k]});return I.length<A?I:I.slice(0,A)};R.getAllSortProperties=b;var P=function(M,A){return A.map(function(L){if(M.hasOwnProperty(L)){if(!isNaN(Number(M[L])))return Number(M[L]);if(M[L].match(x.secondReg)||M[L].match(x.dateReg))return Number(Date.parse(new Date(M[L])))/1e3}return 0})},_=function(M){for(var A=b(M),L=[],I=0;I<M.length;I++)L[I]=P(M[I].properties,A);return L};R.getPropertyWeight=_;var O=function(M,A){A===void 0&&(A=void 0);var L=[];return M.forEach(function(I){A===void 0&&L.push(I),I[A]!==void 0&&L.push(I[A])}),L};R.getAllProperties=O;var T={getAllSortProperties:b,getPropertyWeight:_,getAllProperties:O};R.default=T},29741:function(at,R,d){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.default=void 0;var x=d(49242),b=function(){function _(O){this.arr=O}return _.prototype.getArr=function(){return this.arr||[]},_.prototype.add=function(O){var T,F=O.arr;if(!(!((T=this.arr)===null||T===void 0)&&T.length))return new _(F);if(!(F!=null&&F.length))return new _(this.arr);if(this.arr.length===F.length){var M=[];for(var A in this.arr)M[A]=this.arr[A]+F[A];return new _(M)}},_.prototype.subtract=function(O){var T,F=O.arr;if(!(!((T=this.arr)===null||T===void 0)&&T.length))return new _(F);if(!(F!=null&&F.length))return new _(this.arr);if(this.arr.length===F.length){var M=[];for(var A in this.arr)M[A]=this.arr[A]-F[A];return new _(M)}},_.prototype.avg=function(O){var T=[];if(O!==0)for(var F in this.arr)T[F]=this.arr[F]/O;return new _(T)},_.prototype.negate=function(){var O=[];for(var T in this.arr)O[T]=-this.arr[T];return new _(O)},_.prototype.squareEuclideanDistance=function(O){var T,F=O.arr;if(!(!((T=this.arr)===null||T===void 0)&&T.length)||!(F!=null&&F.length))return 0;if(this.arr.length===F.length){var M=0;for(var A in this.arr)M+=Math.pow(this.arr[A]-O.arr[A],2);return M}},_.prototype.euclideanDistance=function(O){var T,F=O.arr;if(!(!((T=this.arr)===null||T===void 0)&&T.length)||!(F!=null&&F.length))return 0;if(this.arr.length===F.length){var M=0;for(var A in this.arr)M+=Math.pow(this.arr[A]-O.arr[A],2);return Math.sqrt(M)}else console.error("The two vectors are unequal in length.")},_.prototype.normalize=function(){var O=[],T=(0,x.clone)(this.arr);T.sort(function(L,I){return L-I});var F=T[T.length-1],M=T[0];for(var A in this.arr)O[A]=(this.arr[A]-M)/(F-M);return new _(O)},_.prototype.norm2=function(){var O;if(!(!((O=this.arr)===null||O===void 0)&&O.length))return 0;var T=0;for(var F in this.arr)T+=Math.pow(this.arr[F],2);return Math.sqrt(T)},_.prototype.dot=function(O){var T,F=O.arr;if(!(!((T=this.arr)===null||T===void 0)&&T.length)||!(F!=null&&F.length))return 0;if(this.arr.length===F.length){var M=0;for(var A in this.arr)M+=this.arr[A]*O.arr[A];return M}else console.error("The two vectors are unequal in length.")},_.prototype.equal=function(O){var T,F=O.arr;if(((T=this.arr)===null||T===void 0?void 0:T.length)!==(F==null?void 0:F.length))return!1;for(var M in this.arr)if(this.arr[M]!==F[M])return!1;return!0},_}(),P=b;R.default=P},31656:function(at,R,d){"use strict";function x(yt){return x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},x(yt)}Object.defineProperty(R,"__esModule",{value:!0}),Object.defineProperty(R,"GADDI",{enumerable:!0,get:function(){return W.default}}),Object.defineProperty(R,"breadthFirstSearch",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(R,"connectedComponent",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(R,"depthFirstSearch",{enumerable:!0,get:function(){return F.default}}),Object.defineProperty(R,"detectCycle",{enumerable:!0,get:function(){return T.default}}),Object.defineProperty(R,"dijkstra",{enumerable:!0,get:function(){return M.default}}),Object.defineProperty(R,"findAllPath",{enumerable:!0,get:function(){return A.findAllPath}}),Object.defineProperty(R,"findShortestPath",{enumerable:!0,get:function(){return A.findShortestPath}}),Object.defineProperty(R,"floydWarshall",{enumerable:!0,get:function(){return L.default}}),Object.defineProperty(R,"getAdjMatrix",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(R,"getDegree",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(R,"getInDegree",{enumerable:!0,get:function(){return O.getInDegree}}),Object.defineProperty(R,"getNeighbors",{enumerable:!0,get:function(){return $.getNeighbors}}),Object.defineProperty(R,"getOutDegree",{enumerable:!0,get:function(){return O.getOutDegree}}),Object.defineProperty(R,"labelPropagation",{enumerable:!0,get:function(){return I.default}}),Object.defineProperty(R,"louvain",{enumerable:!0,get:function(){return k.default}}),Object.defineProperty(R,"minimumSpanningTree",{enumerable:!0,get:function(){return B.default}}),Object.defineProperty(R,"pageRank",{enumerable:!0,get:function(){return z.default}});var b=st(d(62238)),P=st(d(83764)),_=st(d(59527)),O=lt(d(82556)),T=st(d(94282)),F=st(d(45891)),M=st(d(78089)),A=d(41727),L=st(d(75033)),I=st(d(5170)),k=st(d(35179)),B=st(d(89454)),z=st(d(74926)),W=st(d(82812)),$=d(70643);function K(yt){if(typeof WeakMap!="function")return null;var q=new WeakMap,nt=new WeakMap;return(K=function(bt){return bt?nt:q})(yt)}function lt(yt,q){if(!q&&yt&&yt.__esModule)return yt;if(yt===null||x(yt)!=="object"&&typeof yt!="function")return{default:yt};var nt=K(q);if(nt&&nt.has(yt))return nt.get(yt);var ct={},bt=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var _t in yt)if(_t!=="default"&&Object.prototype.hasOwnProperty.call(yt,_t)){var St=bt?Object.getOwnPropertyDescriptor(yt,_t):null;St&&(St.get||St.set)?Object.defineProperty(ct,_t,St):ct[_t]=yt[_t]}return ct.default=yt,nt&&nt.set(yt,ct),ct}function st(yt){return yt&&yt.__esModule?yt:{default:yt}}},66044:function(at,R){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.MESSAGE=R.ALGORITHM=void 0;var d={pageRank:"pageRank",breadthFirstSearch:"breadthFirstSearch",connectedComponent:"connectedComponent",depthFirstSearch:"depthFirstSearch",detectCycle:"detectCycle",detectDirectedCycle:"detectDirectedCycle",detectAllCycles:"detectAllCycles",detectAllDirectedCycle:"detectAllDirectedCycle",detectAllUndirectedCycle:"detectAllUndirectedCycle",dijkstra:"dijkstra",findAllPath:"findAllPath",findShortestPath:"findShortestPath",floydWarshall:"floydWarshall",getAdjMatrix:"getAdjMatrix",getDegree:"getDegree",getInDegree:"getInDegree",getNeighbors:"getNeighbors",getOutDegree:"getOutDegree",labelPropagation:"labelPropagation",louvain:"louvain",GADDI:"GADDI",minimumSpanningTree:"minimumSpanningTree",SUCCESS:"SUCCESS",FAILURE:"FAILURE"};R.ALGORITHM=d;var x={SUCCESS:"SUCCESS",FAILURE:"FAILURE"};R.MESSAGE=x},70585:function(at,R,d){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.default=void 0;var x=d(66044),b=P(d(12067));function P(T){return T&&T.__esModule?T:{default:T}}var _=function(F){return function(){for(var M=[],A=0;A<arguments.length;A++)M[A]=arguments[A];return new Promise(function(L,I){var k=new b.default;k.postMessage({_algorithmType:F,data:M}),k.onmessage=function(B){var z=B.data,W=z.data,$=z._algorithmType;x.MESSAGE.SUCCESS===$?L(W):I(),k.terminate()}})}},O=_;R.default=O},30485:function(at,R,d){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.pageRankAsync=R.minimumSpanningTreeAsync=R.louvainAsync=R.labelPropagationAsync=R.getOutDegreeAsync=R.getNeighborsAsync=R.getInDegreeAsync=R.getDegreeAsync=R.getAdjMatrixAsync=R.floydWarshallAsync=R.findShortestPathAsync=R.findAllPathAsync=R.dijkstraAsync=R.detectCycleAsync=R.detectAllUndirectedCycleAsync=R.detectAllDirectedCycleAsync=R.detectAllCyclesAsync=R.connectedComponentAsync=R.GADDIAsync=void 0;var x=P(d(70585)),b=d(66044);function P(ct){return ct&&ct.__esModule?ct:{default:ct}}var _=function(bt,_t){return(0,x.default)(b.ALGORITHM.getAdjMatrix).apply(void 0,[bt,_t])};R.getAdjMatrixAsync=_;var O=function(bt,_t){return(0,x.default)(b.ALGORITHM.connectedComponent).apply(void 0,[bt,_t])};R.connectedComponentAsync=O;var T=function(bt){return(0,x.default)(b.ALGORITHM.getDegree)(bt)};R.getDegreeAsync=T;var F=function(bt,_t){return(0,x.default)(b.ALGORITHM.getInDegree)(bt,_t)};R.getInDegreeAsync=F;var M=function(bt,_t){return(0,x.default)(b.ALGORITHM.getOutDegree)(bt,_t)};R.getOutDegreeAsync=M;var A=function(bt){return(0,x.default)(b.ALGORITHM.detectCycle)(bt)};R.detectCycleAsync=A;var L=function(bt){return(0,x.default)(b.ALGORITHM.detectAllCycles)(bt)};R.detectAllCyclesAsync=L;var I=function(bt){return(0,x.default)(b.ALGORITHM.detectAllDirectedCycle)(bt)};R.detectAllDirectedCycleAsync=I;var k=function(bt){return(0,x.default)(b.ALGORITHM.detectAllUndirectedCycle)(bt)};R.detectAllUndirectedCycleAsync=k;var B=function(bt,_t,St,At){return(0,x.default)(b.ALGORITHM.dijkstra).apply(void 0,[bt,_t,St,At])};R.dijkstraAsync=B;var z=function(bt,_t,St,At){return(0,x.default)(b.ALGORITHM.findAllPath).apply(void 0,[bt,_t,St,At])};R.findAllPathAsync=z;var W=function(bt,_t,St,At,vt){return(0,x.default)(b.ALGORITHM.findShortestPath).apply(void 0,[bt,_t,St,At,vt])};R.findShortestPathAsync=W;var $=function(bt,_t){return(0,x.default)(b.ALGORITHM.floydWarshall).apply(void 0,[bt,_t])};R.floydWarshallAsync=$;var K=function(bt,_t,St,At){return At===void 0&&(At=1e3),(0,x.default)(b.ALGORITHM.labelPropagation)(bt,_t,St,At)};R.labelPropagationAsync=K;var lt=function(bt,_t,St,At){return(0,x.default)(b.ALGORITHM.louvain)(bt,_t,St,At)};R.louvainAsync=lt;var st=function(bt,_t,St){return(0,x.default)(b.ALGORITHM.minimumSpanningTree).apply(void 0,[bt,_t,St])};R.minimumSpanningTreeAsync=st;var yt=function(bt,_t,St){return(0,x.default)(b.ALGORITHM.pageRank).apply(void 0,[bt,_t,St])};R.pageRankAsync=yt;var q=function(bt,_t,St){return(0,x.default)(b.ALGORITHM.getNeighbors).apply(void 0,[bt,_t,St])};R.getNeighborsAsync=q;var nt=function(bt,_t,St,At,vt,dt,gt){return St===void 0&&(St=!1),dt===void 0&&(dt="cluster"),gt===void 0&&(gt="cluster"),(0,x.default)(b.ALGORITHM.GADDI).apply(void 0,[bt,_t,St,At,vt,dt,gt])};R.GADDIAsync=nt},12067:function(at,R,d){"use strict";function x(M){return x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},x(M)}Object.defineProperty(R,"__esModule",{value:!0}),R.default=void 0;var b=O(d(31656)),P=d(66044);function _(M){if(typeof WeakMap!="function")return null;var A=new WeakMap,L=new WeakMap;return(_=function(k){return k?L:A})(M)}function O(M,A){if(!A&&M&&M.__esModule)return M;if(M===null||x(M)!=="object"&&typeof M!="function")return{default:M};var L=_(A);if(L&&L.has(M))return L.get(M);var I={},k=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var B in M)if(B!=="default"&&Object.prototype.hasOwnProperty.call(M,B)){var z=k?Object.getOwnPropertyDescriptor(M,B):null;z&&(z.get||z.set)?Object.defineProperty(I,B,z):I[B]=M[B]}return I.default=M,L&&L.set(M,I),I}var T=typeof self!="undefined"?self:{};T.onmessage=function(M){var A=M.data,L=A._algorithmType,I=A.data;if(!!L){if(typeof b[L]=="function"){var k=b[L].apply(b,I);T.postMessage({_algorithmType:P.MESSAGE.SUCCESS,data:k});return}T.postMessage({_algorithmType:P.MESSAGE.FAILURE})}};var F=null;R.default=F},87357:function(at,R,d){var x,b;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var P,_,O,T,F,M,A,L,I,k,B,z,W,$,K,lt,st,yt,q,nt,ct,bt,_t;(function(St){var At=typeof d.g=="object"?d.g:typeof self=="object"?self:typeof this=="object"?this:{};x=[R],b=function(dt){St(vt(At,vt(dt)))}.apply(R,x),b!==void 0&&(at.exports=b);function vt(dt,gt){return dt!==At&&(typeof Object.create=="function"?Object.defineProperty(dt,"__esModule",{value:!0}):dt.__esModule=!0),function(Ct,Et){return dt[Ct]=gt?gt(Ct,Et):Et}}})(function(St){var At=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(vt,dt){vt.__proto__=dt}||function(vt,dt){for(var gt in dt)dt.hasOwnProperty(gt)&&(vt[gt]=dt[gt])};P=function(vt,dt){At(vt,dt);function gt(){this.constructor=vt}vt.prototype=dt===null?Object.create(dt):(gt.prototype=dt.prototype,new gt)},_=Object.assign||function(vt){for(var dt,gt=1,Ct=arguments.length;gt<Ct;gt++){dt=arguments[gt];for(var Et in dt)Object.prototype.hasOwnProperty.call(dt,Et)&&(vt[Et]=dt[Et])}return vt},O=function(vt,dt){var gt={};for(var Ct in vt)Object.prototype.hasOwnProperty.call(vt,Ct)&&dt.indexOf(Ct)<0&&(gt[Ct]=vt[Ct]);if(vt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Et=0,Ct=Object.getOwnPropertySymbols(vt);Et<Ct.length;Et++)dt.indexOf(Ct[Et])<0&&Object.prototype.propertyIsEnumerable.call(vt,Ct[Et])&&(gt[Ct[Et]]=vt[Ct[Et]]);return gt},T=function(vt,dt,gt,Ct){var Et=arguments.length,Tt=Et<3?dt:Ct===null?Ct=Object.getOwnPropertyDescriptor(dt,gt):Ct,ot;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Tt=Reflect.decorate(vt,dt,gt,Ct);else for(var Mt=vt.length-1;Mt>=0;Mt--)(ot=vt[Mt])&&(Tt=(Et<3?ot(Tt):Et>3?ot(dt,gt,Tt):ot(dt,gt))||Tt);return Et>3&&Tt&&Object.defineProperty(dt,gt,Tt),Tt},F=function(vt,dt){return function(gt,Ct){dt(gt,Ct,vt)}},M=function(vt,dt){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(vt,dt)},A=function(vt,dt,gt,Ct){function Et(Tt){return Tt instanceof gt?Tt:new gt(function(ot){ot(Tt)})}return new(gt||(gt=Promise))(function(Tt,ot){function Mt(qt){try{jt(Ct.next(qt))}catch(se){ot(se)}}function Wt(qt){try{jt(Ct.throw(qt))}catch(se){ot(se)}}function jt(qt){qt.done?Tt(qt.value):Et(qt.value).then(Mt,Wt)}jt((Ct=Ct.apply(vt,dt||[])).next())})},L=function(vt,dt){var gt={label:0,sent:function(){if(Tt[0]&1)throw Tt[1];return Tt[1]},trys:[],ops:[]},Ct,Et,Tt,ot;return ot={next:Mt(0),throw:Mt(1),return:Mt(2)},typeof Symbol=="function"&&(ot[Symbol.iterator]=function(){return this}),ot;function Mt(jt){return function(qt){return Wt([jt,qt])}}function Wt(jt){if(Ct)throw new TypeError("Generator is already executing.");for(;gt;)try{if(Ct=1,Et&&(Tt=jt[0]&2?Et.return:jt[0]?Et.throw||((Tt=Et.return)&&Tt.call(Et),0):Et.next)&&!(Tt=Tt.call(Et,jt[1])).done)return Tt;switch(Et=0,Tt&&(jt=[jt[0]&2,Tt.value]),jt[0]){case 0:case 1:Tt=jt;break;case 4:return gt.label++,{value:jt[1],done:!1};case 5:gt.label++,Et=jt[1],jt=[0];continue;case 7:jt=gt.ops.pop(),gt.trys.pop();continue;default:if(Tt=gt.trys,!(Tt=Tt.length>0&&Tt[Tt.length-1])&&(jt[0]===6||jt[0]===2)){gt=0;continue}if(jt[0]===3&&(!Tt||jt[1]>Tt[0]&&jt[1]<Tt[3])){gt.label=jt[1];break}if(jt[0]===6&&gt.label<Tt[1]){gt.label=Tt[1],Tt=jt;break}if(Tt&&gt.label<Tt[2]){gt.label=Tt[2],gt.ops.push(jt);break}Tt[2]&&gt.ops.pop(),gt.trys.pop();continue}jt=dt.call(vt,gt)}catch(qt){jt=[6,qt],Et=0}finally{Ct=Tt=0}if(jt[0]&5)throw jt[1];return{value:jt[0]?jt[1]:void 0,done:!0}}},_t=function(vt,dt,gt,Ct){Ct===void 0&&(Ct=gt),vt[Ct]=dt[gt]},I=function(vt,dt){for(var gt in vt)gt!=="default"&&!dt.hasOwnProperty(gt)&&(dt[gt]=vt[gt])},k=function(vt){var dt=typeof Symbol=="function"&&Symbol.iterator,gt=dt&&vt[dt],Ct=0;if(gt)return gt.call(vt);if(vt&&typeof vt.length=="number")return{next:function(){return vt&&Ct>=vt.length&&(vt=void 0),{value:vt&&vt[Ct++],done:!vt}}};throw new TypeError(dt?"Object is not iterable.":"Symbol.iterator is not defined.")},B=function(vt,dt){var gt=typeof Symbol=="function"&&vt[Symbol.iterator];if(!gt)return vt;var Ct=gt.call(vt),Et,Tt=[],ot;try{for(;(dt===void 0||dt-- >0)&&!(Et=Ct.next()).done;)Tt.push(Et.value)}catch(Mt){ot={error:Mt}}finally{try{Et&&!Et.done&&(gt=Ct.return)&&gt.call(Ct)}finally{if(ot)throw ot.error}}return Tt},z=function(){for(var vt=[],dt=0;dt<arguments.length;dt++)vt=vt.concat(B(arguments[dt]));return vt},W=function(){for(var vt=0,dt=0,gt=arguments.length;dt<gt;dt++)vt+=arguments[dt].length;for(var Ct=Array(vt),Et=0,dt=0;dt<gt;dt++)for(var Tt=arguments[dt],ot=0,Mt=Tt.length;ot<Mt;ot++,Et++)Ct[Et]=Tt[ot];return Ct},$=function(vt){return this instanceof $?(this.v=vt,this):new $(vt)},K=function(vt,dt,gt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ct=gt.apply(vt,dt||[]),Et,Tt=[];return Et={},ot("next"),ot("throw"),ot("return"),Et[Symbol.asyncIterator]=function(){return this},Et;function ot(ae){Ct[ae]&&(Et[ae]=function(he){return new Promise(function(ke,Le){Tt.push([ae,he,ke,Le])>1||Mt(ae,he)})})}function Mt(ae,he){try{Wt(Ct[ae](he))}catch(ke){se(Tt[0][3],ke)}}function Wt(ae){ae.value instanceof $?Promise.resolve(ae.value.v).then(jt,qt):se(Tt[0][2],ae)}function jt(ae){Mt("next",ae)}function qt(ae){Mt("throw",ae)}function se(ae,he){ae(he),Tt.shift(),Tt.length&&Mt(Tt[0][0],Tt[0][1])}},lt=function(vt){var dt,gt;return dt={},Ct("next"),Ct("throw",function(Et){throw Et}),Ct("return"),dt[Symbol.iterator]=function(){return this},dt;function Ct(Et,Tt){dt[Et]=vt[Et]?function(ot){return(gt=!gt)?{value:$(vt[Et](ot)),done:Et==="return"}:Tt?Tt(ot):ot}:Tt}},st=function(vt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var dt=vt[Symbol.asyncIterator],gt;return dt?dt.call(vt):(vt=typeof k=="function"?k(vt):vt[Symbol.iterator](),gt={},Ct("next"),Ct("throw"),Ct("return"),gt[Symbol.asyncIterator]=function(){return this},gt);function Ct(Tt){gt[Tt]=vt[Tt]&&function(ot){return new Promise(function(Mt,Wt){ot=vt[Tt](ot),Et(Mt,Wt,ot.done,ot.value)})}}function Et(Tt,ot,Mt,Wt){Promise.resolve(Wt).then(function(jt){Tt({value:jt,done:Mt})},ot)}},yt=function(vt,dt){return Object.defineProperty?Object.defineProperty(vt,"raw",{value:dt}):vt.raw=dt,vt},q=function(vt){if(vt&&vt.__esModule)return vt;var dt={};if(vt!=null)for(var gt in vt)Object.hasOwnProperty.call(vt,gt)&&(dt[gt]=vt[gt]);return dt.default=vt,dt},nt=function(vt){return vt&&vt.__esModule?vt:{default:vt}},ct=function(vt,dt){if(!dt.has(vt))throw new TypeError("attempted to get private field on non-instance");return dt.get(vt)},bt=function(vt,dt,gt){if(!dt.has(vt))throw new TypeError("attempted to set private field on non-instance");return dt.set(vt,gt),gt},St("__extends",P),St("__assign",_),St("__rest",O),St("__decorate",T),St("__param",F),St("__metadata",M),St("__awaiter",A),St("__generator",L),St("__exportStar",I),St("__createBinding",_t),St("__values",k),St("__read",B),St("__spread",z),St("__spreadArrays",W),St("__await",$),St("__asyncGenerator",K),St("__asyncDelegator",lt),St("__asyncValues",st),St("__makeTemplateObject",yt),St("__importStar",q),St("__importDefault",nt),St("__classPrivateFieldGet",ct),St("__classPrivateFieldSet",bt)})},20499:function(){},64851:function(){},59518:function(){},26199:function(){},14156:function(){},71468:function(){},48871:function(){},9871:function(){},25612:function(){},92777:function(){},20159:function(){},61622:function(){},66037:function(at,R,d){"use strict";d.r(R),d.d(R,{Camera:function(){return _c},Geometry:function(){return wl},Kernel:function(){return io},Material:function(){return Qi},Renderable:function(){return Oe},World:function(){return _m}});var x=d(21165),b=d.n(x),P=d(34575),_=d.n(P),O=d(93913),T=d.n(O),F=d(33124),M=d.n(F),A=d(67268),L=d(28660),I=d(87757),k=d.n(I),B=d(48926),z=d.n(B),W=-1,$=1;function K(){return $++}var lt=function m(Y){_()(this,m)},st=function(){function m(Y){_()(this,m),this.clazz=void 0,this.components=[],this.entities=[],this.lookup={},this.clazz=Y}return T()(m,[{key:"clear",value:function(){this.components=[],this.entities=[],this.lookup={}}},{key:"contains",value:function(V){return this.lookup[V]>-1}},{key:"create",value:function(V,tt){this.lookup[V]=this.components.length;var ut=new this.clazz(tt||{});return this.components.push(ut),this.entities.push(V),ut}},{key:"remove",value:function(V){var tt=this.lookup[V];tt>-1&&tt<this.components.length-1&&(this.components[tt]=this.components[this.components.length-1],this.entities[tt]=this.entities[this.entities.length-1],this.lookup[this.entities[tt]]=tt),this.components.pop(),this.entities.pop(),delete this.lookup[V]}},{key:"removeKeepSorted",value:function(V){var tt=this.lookup[V];if(tt>-1){var ut=this.entities[tt];if(tt<this.components.length-1){for(var Ot=tt+1;Ot<this.components.length;++Ot)this.components[Ot-1]=this.components[Ot];for(var Bt=tt+1;Bt<this.entities.length;++Bt)this.entities[Bt-1]=this.entities[Bt],this.lookup[this.entities[Bt-1]]=Bt-1}this.components.pop(),this.entities.pop(),delete this.lookup[ut]}}},{key:"moveItem",value:function(V,tt){if(V!==tt){for(var ut=this.components[V],Ot=this.entities[V],Bt=V<tt?1:-1,Ht=V;Ht!==tt;Ht+=Bt){var Jt=Ht+Bt;this.components[Ht]=this.components[Jt],this.entities[Ht]=this.entities[Jt],this.lookup[this.entities[Ht]]=Ht}this.components[tt]=ut,this.entities[tt]=Ot,this.lookup[Ot]=tt}}},{key:"getEntity",value:function(V){return this.entities[V]}},{key:"getComponent",value:function(V){return this.components[V]}},{key:"getComponentByEntity",value:function(V){var tt=this.lookup[V];return tt>-1?this.components[tt]:null}},{key:"getCount",value:function(){return this.components.length}},{key:"getEntityByComponentIndex",value:function(V){for(var tt=0,ut=Object.keys(this.lookup);tt<ut.length;tt++){var Ot=ut[tt],Bt=Number(Ot);if(this.lookup[Bt]===V)return Bt}return W}},{key:"find",value:function(V){for(var tt=0;tt<this.getCount();tt++){var ut=this.getComponent(tt);if(V(ut,tt))return ut}return null}},{key:"findIndex",value:function(V){for(var tt=0;tt<this.getCount();tt++){var ut=this.getComponent(tt);if(V(ut,tt))return tt}return-1}},{key:"forEach",value:function(V){for(var tt=0,ut=Object.keys(this.lookup);tt<ut.length;tt++){var Ot=ut[tt],Bt=Number(Ot),Ht=this.lookup[Bt];V(Bt,this.getComponent(Ht))}}},{key:"forEachAsync",value:function(){var Y=z()(k().mark(function tt(ut){var Ot,Bt,Ht,Jt,oe;return k().wrap(function(Ye){for(;;)switch(Ye.prev=Ye.next){case 0:Ot=0,Bt=Object.keys(this.lookup);case 1:if(!(Ot<Bt.length)){Ye.next=10;break}return Ht=Bt[Ot],Jt=Number(Ht),oe=this.lookup[Jt],Ye.next=7,ut(Jt,this.getComponent(oe));case 7:Ot++,Ye.next=1;break;case 10:case"end":return Ye.stop()}},tt,this)}));function V(tt){return Y.apply(this,arguments)}return V}()},{key:"map",value:function(V){for(var tt=[],ut=0,Ot=Object.keys(this.lookup);ut<Ot.length;ut++){var Bt=Ot[ut],Ht=Number(Bt),Jt=this.lookup[Ht];tt.push(V(Ht,this.getComponent(Jt)))}return tt}}]),m}(),yt=d(63038),q=d.n(yt),nt=d(86700),ct={HierarchyComponentManager:Symbol("HierarchyComponentManager"),TransformComponentManager:Symbol("TransformComponentManager"),NameComponentManager:Symbol("NameComponentManager"),SceneGraphSystem:Symbol("SceneGraphSystem"),FrameGraphSystem:Symbol("FrameGraphSystem"),ResourcePool:Symbol("ResourcePool"),ResourceHandleComponentManager:Symbol("ResourceHandleComponentManager"),PassNodeComponentManager:Symbol("PassNodeComponentManager"),RendererSystem:Symbol("RendererSystem"),RenderPass:Symbol("RenderPass"),RenderPassFactory:Symbol("Factory<IRenderPass>"),Renderable:Symbol("Factory<IRenderPass>"),MeshSystem:Symbol("MeshSystem"),MeshComponentManager:Symbol("MeshComponentManager"),CullableComponentManager:Symbol("CullableComponentManager"),Geometry:Symbol("Geometry"),GeometrySystem:Symbol("GeometrySystem"),GeometryComponentManager:Symbol("GeometryComponentManager"),Material:Symbol("Material"),MaterialSystem:Symbol("MaterialSystem"),MaterialComponentManager:Symbol("MaterialComponentManager"),ForwardRenderPath:Symbol("ForwardRenderPath"),ComputeSystem:Symbol("ComputeSystem"),ComputeComponentManager:Symbol("ComputeComponentManager"),ComputeStrategy:Symbol("ComputeStrategy"),Systems:Symbol("Systems"),World:Symbol("World"),RenderEngine:Symbol("RenderEngine"),WebGPUEngine:Symbol("WebGPUEngine"),WebGLEngine:Symbol("WebGLEngine"),ShaderModuleService:Symbol("ShaderModuleService"),ConfigService:Symbol("ConfigService"),InteractorService:Symbol("InteractorService"),IEventEmitter:Symbol("IEventEmitter"),Light:Symbol("Light")},bt=function m(){_()(this,m),this.index=void 0},_t=function m(){_()(this,m),this.name=void 0,this.data=void 0,this.execute=void 0,this.tearDown=void 0},St=function(){function m(){_()(this,m),this.name=void 0,this.refCount=0,this.hasSideEffect=!1,this.devirtualize=[],this.destroy=[],this.reads=[],this.writes=[]}return T()(m,[{key:"read",value:function(V){return this.reads.find(function(tt){return tt.index===V.index})||this.reads.push(V),V}},{key:"sample",value:function(V){return this.read(V),V}},{key:"write",value:function(V,tt){var ut=this.writes.find(function(Jt){return Jt.index===tt.index});if(ut)return tt;var Ot=V.getResourceNode(tt);Ot.resource.version++,Ot.resource.imported&&(this.hasSideEffect=!0);var Bt=V.createResourceNode(Ot.resource),Ht=V.getResourceNode(Bt);return Ht.writer=this,this.writes.push(Bt),Bt}}]),m}(),At=d(2205),vt=d.n(At),dt=d(78585),gt=d.n(dt),Ct=d(29754),Et=d.n(Ct),Tt=function m(){_()(this,m),this.first=void 0,this.last=void 0};function ot(m){var Y=Mt();return function(){var tt=Et()(m),ut;if(Y){var Ot=Et()(this).constructor;ut=Reflect.construct(tt,arguments,Ot)}else ut=tt.apply(this,arguments);return gt()(this,ut)}}function Mt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(m){return!1}}var Wt=function(m){vt()(V,m);var Y=ot(V);function V(){var tt;_()(this,V);for(var ut=arguments.length,Ot=new Array(ut),Bt=0;Bt<ut;Bt++)Ot[Bt]=arguments[Bt];return tt=Y.call.apply(Y,[this].concat(Ot)),tt.version=0,tt.refs=0,tt.name=void 0,tt.imported=void 0,tt.priority=void 0,tt.discardStart=!0,tt.discardEnd=!1,tt.descriptor=void 0,tt.resource=void 0,tt}return T()(V,[{key:"preExecuteDestroy",value:function(){this.discardEnd=!0}},{key:"postExecuteDestroy",value:function(){this.imported}},{key:"postExecuteDevirtualize",value:function(){this.discardStart=!1}},{key:"preExecuteDevirtualize",value:function(){this.imported}}]),V}(Tt),jt=function m(){_()(this,m),this.resource=void 0,this.writer=void 0,this.readerCount=0,this.version=void 0},qt,se,ae,he,ke,Le;function rr(m,Y){var V;if(typeof Symbol=="undefined"||m[Symbol.iterator]==null){if(Array.isArray(m)||(V=Ee(m))||Y&&m&&typeof m.length=="number"){V&&(m=V);var tt=0,ut=function(){};return{s:ut,n:function(){return tt>=m.length?{done:!0}:{done:!1,value:m[tt++]}},e:function(oe){throw oe},f:ut}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ot=!0,Bt=!1,Ht;return{s:function(){V=m[Symbol.iterator]()},n:function(){var oe=V.next();return Ot=oe.done,oe},e:function(oe){Bt=!0,Ht=oe},f:function(){try{!Ot&&V.return!=null&&V.return()}finally{if(Bt)throw Ht}}}}function Ee(m,Y){if(!!m){if(typeof m=="string")return ge(m,Y);var V=Object.prototype.toString.call(m).slice(8,-1);if(V==="Object"&&m.constructor&&(V=m.constructor.name),V==="Map"||V==="Set")return Array.from(m);if(V==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(V))return ge(m,Y)}}function ge(m,Y){(Y==null||Y>m.length)&&(Y=m.length);for(var V=0,tt=new Array(Y);V<Y;V++)tt[V]=m[V];return tt}var we=(qt=(0,nt.b2)(),se=(0,nt.f3)(ct.RenderEngine),qt(ae=(he=(Le=function(){function m(){_()(this,m),this.passNodes=[],this.resourceNodes=[],this.frameGraphPasses=[],b()(this,"engine",ke,this)}return T()(m,[{key:"execute",value:function(){var Y=z()(k().mark(function tt(ut){return k().wrap(function(Bt){for(;;)switch(Bt.prev=Bt.next){case 0:return this.compile(),Bt.next=3,this.executePassNodes(ut);case 3:case"end":return Bt.stop()}},tt,this)}));function V(tt){return Y.apply(this,arguments)}return V}()},{key:"tearDown",value:function(){this.frameGraphPasses.forEach(function(V){V.tearDown&&V.tearDown()}),this.reset()}},{key:"addPass",value:function(V,tt,ut,Ot){var Bt=new _t;Bt.execute=ut,Ot&&(Bt.tearDown=Ot),Bt.name=V;var Ht=new St;return Ht.name=V,this.passNodes.push(Ht),this.frameGraphPasses.push(Bt),tt(this,Ht,Bt),Bt}},{key:"getPass",value:function(V){return this.frameGraphPasses.find(function(tt){return tt.name===V})}},{key:"compile",value:function(){var V=this,tt=rr(this.passNodes),ut;try{for(tt.s();!(ut=tt.n()).done;){var Ot=ut.value;Ot.refCount=Ot.writes.length+(Ot.hasSideEffect?1:0),Ot.reads.forEach(function(Va){V.resourceNodes[Va.index].readerCount++})}}catch(Va){tt.e(Va)}finally{tt.f()}var Bt=[],Ht=rr(this.resourceNodes),Jt;try{for(Ht.s();!(Jt=Ht.n()).done;){var oe=Jt.value;oe.readerCount===0&&Bt.push(oe)}}catch(Va){Ht.e(Va)}finally{Ht.f()}for(;Bt.length;){var Se=Bt.pop(),Ye=Se&&Se.writer;if(Ye&&--Ye.refCount===0){var ir=rr(Ye.reads),C;try{for(ir.s();!(C=ir.n()).done;){var U=C.value,it=this.resourceNodes[U.index];--it.readerCount===0&&Bt.push(it)}}catch(Va){ir.e(Va)}finally{ir.f()}}}this.resourceNodes.forEach(function(Va){Va.resource.refs+=Va.readerCount});var Lt=rr(this.passNodes),Zt;try{for(Lt.s();!(Zt=Lt.n()).done;){var ve=Zt.value;if(!!ve.refCount){var Me=rr(ve.reads),He;try{for(Me.s();!(He=Me.n()).done;){var $e=He.value,zr=this.resourceNodes[$e.index].resource;zr.first=zr.first?zr.first:ve,zr.last=ve}}catch(Va){Me.e(Va)}finally{Me.f()}var nn=rr(ve.writes),ln;try{for(nn.s();!(ln=nn.n()).done;){var $n=ln.value,ii=this.resourceNodes[$n.index].resource;ii.first=ii.first?ii.first:ve,ii.last=ve}}catch(Va){nn.e(Va)}finally{nn.f()}}}}catch(Va){Lt.e(Va)}finally{Lt.f()}for(var yi=0;yi<2;yi++){var Ei=rr(this.resourceNodes),mi;try{for(Ei.s();!(mi=Ei.n()).done;){var di=mi.value,Ji=di.resource;if(Ji.priority===yi&&Ji.refs){var us=Ji.first,ls=Ji.last;us&&ls&&(us.devirtualize.push(Ji),ls.destroy.push(Ji))}}}catch(Va){Ei.e(Va)}finally{Ei.f()}}}},{key:"executePassNodes",value:function(){var Y=z()(k().mark(function tt(ut){var Ot,Bt,Ht,Jt,oe,Se,Ye,ir,C,U,it,Lt,Zt,ve,Me,He,$e;return k().wrap(function(nn){for(;;)switch(nn.prev=nn.next){case 0:Ot=rr(this.passNodes.entries()),nn.prev=1,Ot.s();case 3:if((Bt=Ot.n()).done){nn.next=18;break}if(Ht=q()(Bt.value,2),Jt=Ht[0],oe=Ht[1],!oe.refCount){nn.next=16;break}Se=rr(oe.devirtualize);try{for(Se.s();!(Ye=Se.n()).done;)ir=Ye.value,ir.preExecuteDevirtualize(this.engine)}catch(ln){Se.e(ln)}finally{Se.f()}C=rr(oe.destroy);try{for(C.s();!(U=C.n()).done;)it=U.value,it.preExecuteDestroy(this.engine)}catch(ln){C.e(ln)}finally{C.f()}return nn.next=12,this.frameGraphPasses[Jt].execute(this,this.frameGraphPasses[Jt],ut);case 12:Lt=rr(oe.devirtualize);try{for(Lt.s();!(Zt=Lt.n()).done;)ve=Zt.value,ve.postExecuteDevirtualize(this.engine)}catch(ln){Lt.e(ln)}finally{Lt.f()}Me=rr(oe.destroy);try{for(Me.s();!(He=Me.n()).done;)$e=He.value,$e.postExecuteDestroy(this.engine)}catch(ln){Me.e(ln)}finally{Me.f()}case 16:nn.next=3;break;case 18:nn.next=23;break;case 20:nn.prev=20,nn.t0=nn.catch(1),Ot.e(nn.t0);case 23:return nn.prev=23,Ot.f(),nn.finish(23);case 26:this.reset();case 27:case"end":return nn.stop()}},tt,this,[[1,20,23,26]])}));function V(tt){return Y.apply(this,arguments)}return V}()},{key:"reset",value:function(){this.passNodes=[],this.resourceNodes=[],this.frameGraphPasses=[]}},{key:"getResourceNode",value:function(V){return this.resourceNodes[V.index]}},{key:"createResourceNode",value:function(V){var tt=new jt;tt.resource=V,tt.version=V.version,this.resourceNodes.push(tt);var ut=new bt;return ut.index=this.resourceNodes.length-1,ut}},{key:"createTexture",value:function(V,tt,ut){var Ot=new Wt;return Ot.name=tt,Ot.descriptor=ut,this.createResourceNode(Ot)}},{key:"createRenderTarget",value:function(V,tt,ut){var Ot=new Wt;return Ot.name=tt,Ot.descriptor=ut,this.createResourceNode(Ot)}},{key:"present",value:function(V){this.addPass("Present",function(tt,ut){ut.read(V),ut.hasSideEffect=!0},z()(k().mark(function tt(){return k().wrap(function(Ot){for(;;)switch(Ot.prev=Ot.next){case 0:case"end":return Ot.stop()}},tt)})))}}]),m}(),Le),ke=M()(he.prototype,"engine",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),he))||ae),Ce=d(59713),ye=d.n(Ce),Gt=d(81506),Xt=d.n(Gt),Kt=d(49685);function ze(){var m=new Kt.WT(4);return Kt.WT!=Float32Array&&(m[0]=0,m[1]=0,m[2]=0,m[3]=0),m}function ur(m){var Y=new Kt.WT(4);return Y[0]=m[0],Y[1]=m[1],Y[2]=m[2],Y[3]=m[3],Y}function tr(m,Y,V,tt){var ut=new Kt.WT(4);return ut[0]=m,ut[1]=Y,ut[2]=V,ut[3]=tt,ut}function re(m,Y){return m[0]=Y[0],m[1]=Y[1],m[2]=Y[2],m[3]=Y[3],m}function Qr(m,Y,V,tt,ut){return m[0]=Y,m[1]=V,m[2]=tt,m[3]=ut,m}function Ir(m,Y,V){return m[0]=Y[0]+V[0],m[1]=Y[1]+V[1],m[2]=Y[2]+V[2],m[3]=Y[3]+V[3],m}function gn(m,Y,V){return m[0]=Y[0]-V[0],m[1]=Y[1]-V[1],m[2]=Y[2]-V[2],m[3]=Y[3]-V[3],m}function Wn(m,Y,V){return m[0]=Y[0]*V[0],m[1]=Y[1]*V[1],m[2]=Y[2]*V[2],m[3]=Y[3]*V[3],m}function ui(m,Y,V){return m[0]=Y[0]/V[0],m[1]=Y[1]/V[1],m[2]=Y[2]/V[2],m[3]=Y[3]/V[3],m}function bi(m,Y){return m[0]=Math.ceil(Y[0]),m[1]=Math.ceil(Y[1]),m[2]=Math.ceil(Y[2]),m[3]=Math.ceil(Y[3]),m}function fr(m,Y){return m[0]=Math.floor(Y[0]),m[1]=Math.floor(Y[1]),m[2]=Math.floor(Y[2]),m[3]=Math.floor(Y[3]),m}function Zr(m,Y,V){return m[0]=Math.min(Y[0],V[0]),m[1]=Math.min(Y[1],V[1]),m[2]=Math.min(Y[2],V[2]),m[3]=Math.min(Y[3],V[3]),m}function Sn(m,Y,V){return m[0]=Math.max(Y[0],V[0]),m[1]=Math.max(Y[1],V[1]),m[2]=Math.max(Y[2],V[2]),m[3]=Math.max(Y[3],V[3]),m}function Dn(m,Y){return m[0]=Math.round(Y[0]),m[1]=Math.round(Y[1]),m[2]=Math.round(Y[2]),m[3]=Math.round(Y[3]),m}function hn(m,Y,V){return m[0]=Y[0]*V,m[1]=Y[1]*V,m[2]=Y[2]*V,m[3]=Y[3]*V,m}function Gn(m,Y,V,tt){return m[0]=Y[0]+V[0]*tt,m[1]=Y[1]+V[1]*tt,m[2]=Y[2]+V[2]*tt,m[3]=Y[3]+V[3]*tt,m}function En(m,Y){var V=Y[0]-m[0],tt=Y[1]-m[1],ut=Y[2]-m[2],Ot=Y[3]-m[3];return Math.hypot(V,tt,ut,Ot)}function In(m,Y){var V=Y[0]-m[0],tt=Y[1]-m[1],ut=Y[2]-m[2],Ot=Y[3]-m[3];return V*V+tt*tt+ut*ut+Ot*Ot}function Fn(m){var Y=m[0],V=m[1],tt=m[2],ut=m[3];return Math.hypot(Y,V,tt,ut)}function xe(m){var Y=m[0],V=m[1],tt=m[2],ut=m[3];return Y*Y+V*V+tt*tt+ut*ut}function Ge(m,Y){return m[0]=-Y[0],m[1]=-Y[1],m[2]=-Y[2],m[3]=-Y[3],m}function Je(m,Y){return m[0]=1/Y[0],m[1]=1/Y[1],m[2]=1/Y[2],m[3]=1/Y[3],m}function br(m,Y){var V=Y[0],tt=Y[1],ut=Y[2],Ot=Y[3],Bt=V*V+tt*tt+ut*ut+Ot*Ot;return Bt>0&&(Bt=1/Math.sqrt(Bt)),m[0]=V*Bt,m[1]=tt*Bt,m[2]=ut*Bt,m[3]=Ot*Bt,m}function jr(m,Y){return m[0]*Y[0]+m[1]*Y[1]+m[2]*Y[2]+m[3]*Y[3]}function Wr(m,Y,V,tt){var ut=V[0]*tt[1]-V[1]*tt[0],Ot=V[0]*tt[2]-V[2]*tt[0],Bt=V[0]*tt[3]-V[3]*tt[0],Ht=V[1]*tt[2]-V[2]*tt[1],Jt=V[1]*tt[3]-V[3]*tt[1],oe=V[2]*tt[3]-V[3]*tt[2],Se=Y[0],Ye=Y[1],ir=Y[2],C=Y[3];return m[0]=Ye*oe-ir*Jt+C*Ht,m[1]=-(Se*oe)+ir*Bt-C*Ot,m[2]=Se*Jt-Ye*Bt+C*ut,m[3]=-(Se*Ht)+Ye*Ot-ir*ut,m}function Ut(m,Y,V,tt){var ut=Y[0],Ot=Y[1],Bt=Y[2],Ht=Y[3];return m[0]=ut+tt*(V[0]-ut),m[1]=Ot+tt*(V[1]-Ot),m[2]=Bt+tt*(V[2]-Bt),m[3]=Ht+tt*(V[3]-Ht),m}function ft(m,Y){Y=Y||1;var V,tt,ut,Ot,Bt,Ht;do V=glMatrix.RANDOM()*2-1,tt=glMatrix.RANDOM()*2-1,Bt=V*V+tt*tt;while(Bt>=1);do ut=glMatrix.RANDOM()*2-1,Ot=glMatrix.RANDOM()*2-1,Ht=ut*ut+Ot*Ot;while(Ht>=1);var Jt=Math.sqrt((1-Bt)/Ht);return m[0]=Y*V,m[1]=Y*tt,m[2]=Y*ut*Jt,m[3]=Y*Ot*Jt,m}function pt(m,Y,V){var tt=Y[0],ut=Y[1],Ot=Y[2],Bt=Y[3];return m[0]=V[0]*tt+V[4]*ut+V[8]*Ot+V[12]*Bt,m[1]=V[1]*tt+V[5]*ut+V[9]*Ot+V[13]*Bt,m[2]=V[2]*tt+V[6]*ut+V[10]*Ot+V[14]*Bt,m[3]=V[3]*tt+V[7]*ut+V[11]*Ot+V[15]*Bt,m}function J(m,Y,V){var tt=Y[0],ut=Y[1],Ot=Y[2],Bt=V[0],Ht=V[1],Jt=V[2],oe=V[3],Se=oe*tt+Ht*Ot-Jt*ut,Ye=oe*ut+Jt*tt-Bt*Ot,ir=oe*Ot+Bt*ut-Ht*tt,C=-Bt*tt-Ht*ut-Jt*Ot;return m[0]=Se*oe+C*-Bt+Ye*-Jt-ir*-Ht,m[1]=Ye*oe+C*-Ht+ir*-Bt-Se*-Jt,m[2]=ir*oe+C*-Jt+Se*-Ht-Ye*-Bt,m[3]=Y[3],m}function xt(m){return m[0]=0,m[1]=0,m[2]=0,m[3]=0,m}function Rt(m){return"vec4("+m[0]+", "+m[1]+", "+m[2]+", "+m[3]+")"}function ue(m,Y){return m[0]===Y[0]&&m[1]===Y[1]&&m[2]===Y[2]&&m[3]===Y[3]}function ie(m,Y){var V=m[0],tt=m[1],ut=m[2],Ot=m[3],Bt=Y[0],Ht=Y[1],Jt=Y[2],oe=Y[3];return Math.abs(V-Bt)<=Kt.Ib*Math.max(1,Math.abs(V),Math.abs(Bt))&&Math.abs(tt-Ht)<=Kt.Ib*Math.max(1,Math.abs(tt),Math.abs(Ht))&&Math.abs(ut-Jt)<=Kt.Ib*Math.max(1,Math.abs(ut),Math.abs(Jt))&&Math.abs(Ot-oe)<=Kt.Ib*Math.max(1,Math.abs(Ot),Math.abs(oe))}var be=null,ce=null,We=null,Ne=null,Mr=null,sn=null,hr=null,cn=function(){var m=ze();return function(Y,V,tt,ut,Ot,Bt){var Ht,Jt;for(V||(V=4),tt||(tt=0),ut?Jt=Math.min(ut*V+tt,Y.length):Jt=Y.length,Ht=tt;Ht<Jt;Ht+=V)m[0]=Y[Ht],m[1]=Y[Ht+1],m[2]=Y[Ht+2],m[3]=Y[Ht+3],Ot(m,m,Bt),Y[Ht]=m[0],Y[Ht+1]=m[1],Y[Ht+2]=m[2],Y[Ht+3]=m[3];return Y}}(),kn=d(35600),me=d(77160),Tn=d(50008),Zn=d.n(Tn),Kn=9007199254740991,Or="[object Arguments]",wn="[object Array]",Cr="[object Boolean]",xr="[object Date]",_n="[object Error]",Mi="[object Function]",or="[object Map]",Bn="[object Number]",ti="[object Object]",Vn="[object RegExp]",qi="[object Set]",Rn="[object String]",fa="[object WeakMap]",Ci="[object ArrayBuffer]",ga="[object DataView]",da="[object Float32Array]",zo="[object Float64Array]",Po="[object Int8Array]",au="[object Int16Array]",Yi="[object Int32Array]",Ha="[object Uint8Array]",po="[object Uint8ClampedArray]",Za="[object Uint16Array]",ho="[object Uint32Array]",za={};za[da]=za[zo]=za[Po]=za[au]=za[Yi]=za[Ha]=za[po]=za[Za]=za[ho]=!0,za[Or]=za[wn]=za[Ci]=za[Cr]=za[ga]=za[xr]=za[_n]=za[Mi]=za[or]=za[Bn]=za[ti]=za[Vn]=za[qi]=za[Rn]=za[fa]=!1;function ol(m){return function(Y){return m(Y)}}var nf=Object.prototype,$l=nf.toString;function ih(m){return Ic(m)&&Al(m.length)&&!!za[$l.call(m)]}function Al(m){return typeof m=="number"&&m>-1&&m%1===0&&m<=Kn}function Ic(m){return!!m&&Zn()(m)==="object"}var ah=ih;function Ys(m,Y){var V=Object.keys(m);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(m);Y&&(tt=tt.filter(function(ut){return Object.getOwnPropertyDescriptor(m,ut).enumerable})),V.push.apply(V,tt)}return V}function Is(m){for(var Y=1;Y<arguments.length;Y++){var V=arguments[Y]!=null?arguments[Y]:{};Y%2?Ys(Object(V),!0).forEach(function(tt){ye()(m,tt,V[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(V)):Ys(Object(V)).forEach(function(tt){Object.defineProperty(m,tt,Object.getOwnPropertyDescriptor(V,tt))})}return m}function Oc(m){var Y=sl();return function(){var tt=Et()(m),ut;if(Y){var Ot=Et()(this).constructor;ut=Reflect.construct(tt,arguments,Ot)}else ut=tt.apply(this,arguments);return gt()(this,ut)}}function sl(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(m){return!1}}var oh=function(m){vt()(V,m);var Y=Oc(V);function V(tt){var ut;return _()(this,V),ut=Y.call(this,tt),ut.dirty=!0,ut.attributes=[],ut.indices=void 0,ut.indicesBuffer=void 0,ut.vertexCount=0,ut.maxInstancedCount=void 0,ut.aabb=void 0,ut.entity=void 0,Object.assign(Xt()(ut),tt),ut}return T()(V,[{key:"setAttribute",value:function(ut,Ot,Bt,Ht){var Jt=this.attributes.find(function(oe){return oe.name===ut});return Jt?(Jt.data=Ot,Jt.dirty=!0):this.attributes.push(Is(Is({dirty:!0,name:ut,data:Ot},Bt),{},{bufferGetter:Ht})),this.dirty=!0,this}},{key:"setIndex",value:function(ut){return this.indices=new Uint32Array(ut.buffer?ut.buffer:ut),this.dirty=!0,this}},{key:"applyMatrix",value:function(ut){var Ot=this.attributes.find(function(ir){var C=ir.name;return C==="position"}),Bt=this.attributes.find(function(ir){var C=ir.name;return C==="normal"});if(Ot&&(Ot.dirty=!0,Ot.data&&Ot.data.length))for(var Ht=0;Ht<Ot.data.length;Ht+=3){var Jt=tr(Ot.data[Ht],Ot.data[Ht+1],Ot.data[Ht+2],1);pt(Jt,Jt,ut),ah(Ot.data)?Ot.data.set([Jt[0],Jt[1],Jt[2]],Ht):(Ot.data[Ht]=Jt[0],Ot.data[Ht+1]=Jt[1],Ot.data[Ht+2]=Jt[2])}if(Bt){var oe=kn.normalFromMat4(kn.create(),ut);if(Bt.data&&Bt.data.length)for(var Se=0;Se<Bt.data.length;Se+=3){var Ye=me.al(Bt.data[Se],Bt.data[Se+1],Bt.data[Se+2]);me.kK(Ye,Ye,oe),me.Fv(Ye,Ye),ah(Bt.data)?Bt.data.set([Ye[0],Ye[1],Ye[2]],Se):(Bt.data[Se]=Ye[0],Bt.data[Se+1]=Ye[1],Bt.data[Se+2]=Ye[2])}}}}]),V}(lt),Br;(function(m){m[m.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT",m[m.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT",m[m.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT",m[m.POINTS=0]="POINTS",m[m.LINES=1]="LINES",m[m.LINE_LOOP=2]="LINE_LOOP",m[m.LINE_STRIP=3]="LINE_STRIP",m[m.TRIANGLES=4]="TRIANGLES",m[m.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",m[m.TRIANGLE_FAN=6]="TRIANGLE_FAN",m[m.ZERO=0]="ZERO",m[m.ONE=1]="ONE",m[m.SRC_COLOR=768]="SRC_COLOR",m[m.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",m[m.SRC_ALPHA=770]="SRC_ALPHA",m[m.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",m[m.DST_ALPHA=772]="DST_ALPHA",m[m.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",m[m.DST_COLOR=774]="DST_COLOR",m[m.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",m[m.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",m[m.FUNC_ADD=32774]="FUNC_ADD",m[m.BLEND_EQUATION=32777]="BLEND_EQUATION",m[m.BLEND_EQUATION_RGB=32777]="BLEND_EQUATION_RGB",m[m.BLEND_EQUATION_ALPHA=34877]="BLEND_EQUATION_ALPHA",m[m.FUNC_SUBTRACT=32778]="FUNC_SUBTRACT",m[m.FUNC_REVERSE_SUBTRACT=32779]="FUNC_REVERSE_SUBTRACT",m[m.MAX_EXT=32776]="MAX_EXT",m[m.MIN_EXT=32775]="MIN_EXT",m[m.BLEND_DST_RGB=32968]="BLEND_DST_RGB",m[m.BLEND_SRC_RGB=32969]="BLEND_SRC_RGB",m[m.BLEND_DST_ALPHA=32970]="BLEND_DST_ALPHA",m[m.BLEND_SRC_ALPHA=32971]="BLEND_SRC_ALPHA",m[m.CONSTANT_COLOR=32769]="CONSTANT_COLOR",m[m.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",m[m.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",m[m.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA",m[m.BLEND_COLOR=32773]="BLEND_COLOR",m[m.ARRAY_BUFFER=34962]="ARRAY_BUFFER",m[m.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",m[m.ARRAY_BUFFER_BINDING=34964]="ARRAY_BUFFER_BINDING",m[m.ELEMENT_ARRAY_BUFFER_BINDING=34965]="ELEMENT_ARRAY_BUFFER_BINDING",m[m.STREAM_DRAW=35040]="STREAM_DRAW",m[m.STATIC_DRAW=35044]="STATIC_DRAW",m[m.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",m[m.BUFFER_SIZE=34660]="BUFFER_SIZE",m[m.BUFFER_USAGE=34661]="BUFFER_USAGE",m[m.CURRENT_VERTEX_ATTRIB=34342]="CURRENT_VERTEX_ATTRIB",m[m.FRONT=1028]="FRONT",m[m.BACK=1029]="BACK",m[m.FRONT_AND_BACK=1032]="FRONT_AND_BACK",m[m.CULL_FACE=2884]="CULL_FACE",m[m.BLEND=3042]="BLEND",m[m.DITHER=3024]="DITHER",m[m.STENCIL_TEST=2960]="STENCIL_TEST",m[m.DEPTH_TEST=2929]="DEPTH_TEST",m[m.SCISSOR_TEST=3089]="SCISSOR_TEST",m[m.POLYGON_OFFSET_FILL=32823]="POLYGON_OFFSET_FILL",m[m.SAMPLE_ALPHA_TO_COVERAGE=32926]="SAMPLE_ALPHA_TO_COVERAGE",m[m.SAMPLE_COVERAGE=32928]="SAMPLE_COVERAGE",m[m.NO_ERROR=0]="NO_ERROR",m[m.INVALID_ENUM=1280]="INVALID_ENUM",m[m.INVALID_VALUE=1281]="INVALID_VALUE",m[m.INVALID_OPERATION=1282]="INVALID_OPERATION",m[m.OUT_OF_MEMORY=1285]="OUT_OF_MEMORY",m[m.CW=2304]="CW",m[m.CCW=2305]="CCW",m[m.LINE_WIDTH=2849]="LINE_WIDTH",m[m.ALIASED_POINT_SIZE_RANGE=33901]="ALIASED_POINT_SIZE_RANGE",m[m.ALIASED_LINE_WIDTH_RANGE=33902]="ALIASED_LINE_WIDTH_RANGE",m[m.CULL_FACE_MODE=2885]="CULL_FACE_MODE",m[m.FRONT_FACE=2886]="FRONT_FACE",m[m.DEPTH_RANGE=2928]="DEPTH_RANGE",m[m.DEPTH_WRITEMASK=2930]="DEPTH_WRITEMASK",m[m.DEPTH_CLEAR_VALUE=2931]="DEPTH_CLEAR_VALUE",m[m.DEPTH_FUNC=2932]="DEPTH_FUNC",m[m.STENCIL_CLEAR_VALUE=2961]="STENCIL_CLEAR_VALUE",m[m.STENCIL_FUNC=2962]="STENCIL_FUNC",m[m.STENCIL_FAIL=2964]="STENCIL_FAIL",m[m.STENCIL_PASS_DEPTH_FAIL=2965]="STENCIL_PASS_DEPTH_FAIL",m[m.STENCIL_PASS_DEPTH_PASS=2966]="STENCIL_PASS_DEPTH_PASS",m[m.STENCIL_REF=2967]="STENCIL_REF",m[m.STENCIL_VALUE_MASK=2963]="STENCIL_VALUE_MASK",m[m.STENCIL_WRITEMASK=2968]="STENCIL_WRITEMASK",m[m.STENCIL_BACK_FUNC=34816]="STENCIL_BACK_FUNC",m[m.STENCIL_BACK_FAIL=34817]="STENCIL_BACK_FAIL",m[m.STENCIL_BACK_PASS_DEPTH_FAIL=34818]="STENCIL_BACK_PASS_DEPTH_FAIL",m[m.STENCIL_BACK_PASS_DEPTH_PASS=34819]="STENCIL_BACK_PASS_DEPTH_PASS",m[m.STENCIL_BACK_REF=36003]="STENCIL_BACK_REF",m[m.STENCIL_BACK_VALUE_MASK=36004]="STENCIL_BACK_VALUE_MASK",m[m.STENCIL_BACK_WRITEMASK=36005]="STENCIL_BACK_WRITEMASK",m[m.VIEWPORT=2978]="VIEWPORT",m[m.SCISSOR_BOX=3088]="SCISSOR_BOX",m[m.COLOR_CLEAR_VALUE=3106]="COLOR_CLEAR_VALUE",m[m.COLOR_WRITEMASK=3107]="COLOR_WRITEMASK",m[m.UNPACK_ALIGNMENT=3317]="UNPACK_ALIGNMENT",m[m.PACK_ALIGNMENT=3333]="PACK_ALIGNMENT",m[m.MAX_TEXTURE_SIZE=3379]="MAX_TEXTURE_SIZE",m[m.MAX_VIEWPORT_DIMS=3386]="MAX_VIEWPORT_DIMS",m[m.SUBPIXEL_BITS=3408]="SUBPIXEL_BITS",m[m.RED_BITS=3410]="RED_BITS",m[m.GREEN_BITS=3411]="GREEN_BITS",m[m.BLUE_BITS=3412]="BLUE_BITS",m[m.ALPHA_BITS=3413]="ALPHA_BITS",m[m.DEPTH_BITS=3414]="DEPTH_BITS",m[m.STENCIL_BITS=3415]="STENCIL_BITS",m[m.POLYGON_OFFSET_UNITS=10752]="POLYGON_OFFSET_UNITS",m[m.POLYGON_OFFSET_FACTOR=32824]="POLYGON_OFFSET_FACTOR",m[m.TEXTURE_BINDING_2D=32873]="TEXTURE_BINDING_2D",m[m.SAMPLE_BUFFERS=32936]="SAMPLE_BUFFERS",m[m.SAMPLES=32937]="SAMPLES",m[m.SAMPLE_COVERAGE_VALUE=32938]="SAMPLE_COVERAGE_VALUE",m[m.SAMPLE_COVERAGE_INVERT=32939]="SAMPLE_COVERAGE_INVERT",m[m.COMPRESSED_TEXTURE_FORMATS=34467]="COMPRESSED_TEXTURE_FORMATS",m[m.DONT_CARE=4352]="DONT_CARE",m[m.FASTEST=4353]="FASTEST",m[m.NICEST=4354]="NICEST",m[m.GENERATE_MIPMAP_HINT=33170]="GENERATE_MIPMAP_HINT",m[m.BYTE=5120]="BYTE",m[m.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",m[m.SHORT=5122]="SHORT",m[m.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",m[m.INT=5124]="INT",m[m.UNSIGNED_INT=5125]="UNSIGNED_INT",m[m.FLOAT=5126]="FLOAT",m[m.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",m[m.ALPHA=6406]="ALPHA",m[m.RGB=6407]="RGB",m[m.RGBA=6408]="RGBA",m[m.LUMINANCE=6409]="LUMINANCE",m[m.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",m[m.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",m[m.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",m[m.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",m[m.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",m[m.VERTEX_SHADER=35633]="VERTEX_SHADER",m[m.MAX_VERTEX_ATTRIBS=34921]="MAX_VERTEX_ATTRIBS",m[m.MAX_VERTEX_UNIFORM_VECTORS=36347]="MAX_VERTEX_UNIFORM_VECTORS",m[m.MAX_VARYING_VECTORS=36348]="MAX_VARYING_VECTORS",m[m.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661]="MAX_COMBINED_TEXTURE_IMAGE_UNITS",m[m.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660]="MAX_VERTEX_TEXTURE_IMAGE_UNITS",m[m.MAX_TEXTURE_IMAGE_UNITS=34930]="MAX_TEXTURE_IMAGE_UNITS",m[m.MAX_FRAGMENT_UNIFORM_VECTORS=36349]="MAX_FRAGMENT_UNIFORM_VECTORS",m[m.SHADER_TYPE=35663]="SHADER_TYPE",m[m.DELETE_STATUS=35712]="DELETE_STATUS",m[m.LINK_STATUS=35714]="LINK_STATUS",m[m.VALIDATE_STATUS=35715]="VALIDATE_STATUS",m[m.ATTACHED_SHADERS=35717]="ATTACHED_SHADERS",m[m.ACTIVE_UNIFORMS=35718]="ACTIVE_UNIFORMS",m[m.ACTIVE_ATTRIBUTES=35721]="ACTIVE_ATTRIBUTES",m[m.SHADING_LANGUAGE_VERSION=35724]="SHADING_LANGUAGE_VERSION",m[m.CURRENT_PROGRAM=35725]="CURRENT_PROGRAM",m[m.NEVER=512]="NEVER",m[m.LESS=513]="LESS",m[m.EQUAL=514]="EQUAL",m[m.LEQUAL=515]="LEQUAL",m[m.GREATER=516]="GREATER",m[m.NOTEQUAL=517]="NOTEQUAL",m[m.GEQUAL=518]="GEQUAL",m[m.ALWAYS=519]="ALWAYS",m[m.KEEP=7680]="KEEP",m[m.REPLACE=7681]="REPLACE",m[m.INCR=7682]="INCR",m[m.DECR=7683]="DECR",m[m.INVERT=5386]="INVERT",m[m.INCR_WRAP=34055]="INCR_WRAP",m[m.DECR_WRAP=34056]="DECR_WRAP",m[m.VENDOR=7936]="VENDOR",m[m.RENDERER=7937]="RENDERER",m[m.VERSION=7938]="VERSION",m[m.NEAREST=9728]="NEAREST",m[m.LINEAR=9729]="LINEAR",m[m.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",m[m.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",m[m.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",m[m.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR",m[m.TEXTURE_MAG_FILTER=10240]="TEXTURE_MAG_FILTER",m[m.TEXTURE_MIN_FILTER=10241]="TEXTURE_MIN_FILTER",m[m.TEXTURE_WRAP_S=10242]="TEXTURE_WRAP_S",m[m.TEXTURE_WRAP_T=10243]="TEXTURE_WRAP_T",m[m.TEXTURE_2D=3553]="TEXTURE_2D",m[m.TEXTURE=5890]="TEXTURE",m[m.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",m[m.TEXTURE_BINDING_CUBE_MAP=34068]="TEXTURE_BINDING_CUBE_MAP",m[m.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",m[m.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",m[m.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",m[m.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",m[m.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",m[m.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",m[m.MAX_CUBE_MAP_TEXTURE_SIZE=34076]="MAX_CUBE_MAP_TEXTURE_SIZE",m[m.TEXTURE0=33984]="TEXTURE0",m[m.TEXTURE1=33985]="TEXTURE1",m[m.TEXTURE2=33986]="TEXTURE2",m[m.TEXTURE3=33987]="TEXTURE3",m[m.TEXTURE4=33988]="TEXTURE4",m[m.TEXTURE5=33989]="TEXTURE5",m[m.TEXTURE6=33990]="TEXTURE6",m[m.TEXTURE7=33991]="TEXTURE7",m[m.TEXTURE8=33992]="TEXTURE8",m[m.TEXTURE9=33993]="TEXTURE9",m[m.TEXTURE10=33994]="TEXTURE10",m[m.TEXTURE11=33995]="TEXTURE11",m[m.TEXTURE12=33996]="TEXTURE12",m[m.TEXTURE13=33997]="TEXTURE13",m[m.TEXTURE14=33998]="TEXTURE14",m[m.TEXTURE15=33999]="TEXTURE15",m[m.TEXTURE16=34e3]="TEXTURE16",m[m.TEXTURE17=34001]="TEXTURE17",m[m.TEXTURE18=34002]="TEXTURE18",m[m.TEXTURE19=34003]="TEXTURE19",m[m.TEXTURE20=34004]="TEXTURE20",m[m.TEXTURE21=34005]="TEXTURE21",m[m.TEXTURE22=34006]="TEXTURE22",m[m.TEXTURE23=34007]="TEXTURE23",m[m.TEXTURE24=34008]="TEXTURE24",m[m.TEXTURE25=34009]="TEXTURE25",m[m.TEXTURE26=34010]="TEXTURE26",m[m.TEXTURE27=34011]="TEXTURE27",m[m.TEXTURE28=34012]="TEXTURE28",m[m.TEXTURE29=34013]="TEXTURE29",m[m.TEXTURE30=34014]="TEXTURE30",m[m.TEXTURE31=34015]="TEXTURE31",m[m.ACTIVE_TEXTURE=34016]="ACTIVE_TEXTURE",m[m.REPEAT=10497]="REPEAT",m[m.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",m[m.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",m[m.FLOAT_VEC2=35664]="FLOAT_VEC2",m[m.FLOAT_VEC3=35665]="FLOAT_VEC3",m[m.FLOAT_VEC4=35666]="FLOAT_VEC4",m[m.INT_VEC2=35667]="INT_VEC2",m[m.INT_VEC3=35668]="INT_VEC3",m[m.INT_VEC4=35669]="INT_VEC4",m[m.BOOL=35670]="BOOL",m[m.BOOL_VEC2=35671]="BOOL_VEC2",m[m.BOOL_VEC3=35672]="BOOL_VEC3",m[m.BOOL_VEC4=35673]="BOOL_VEC4",m[m.FLOAT_MAT2=35674]="FLOAT_MAT2",m[m.FLOAT_MAT3=35675]="FLOAT_MAT3",m[m.FLOAT_MAT4=35676]="FLOAT_MAT4",m[m.SAMPLER_2D=35678]="SAMPLER_2D",m[m.SAMPLER_CUBE=35680]="SAMPLER_CUBE",m[m.VERTEX_ATTRIB_ARRAY_ENABLED=34338]="VERTEX_ATTRIB_ARRAY_ENABLED",m[m.VERTEX_ATTRIB_ARRAY_SIZE=34339]="VERTEX_ATTRIB_ARRAY_SIZE",m[m.VERTEX_ATTRIB_ARRAY_STRIDE=34340]="VERTEX_ATTRIB_ARRAY_STRIDE",m[m.VERTEX_ATTRIB_ARRAY_TYPE=34341]="VERTEX_ATTRIB_ARRAY_TYPE",m[m.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922]="VERTEX_ATTRIB_ARRAY_NORMALIZED",m[m.VERTEX_ATTRIB_ARRAY_POINTER=34373]="VERTEX_ATTRIB_ARRAY_POINTER",m[m.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975]="VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",m[m.COMPILE_STATUS=35713]="COMPILE_STATUS",m[m.LOW_FLOAT=36336]="LOW_FLOAT",m[m.MEDIUM_FLOAT=36337]="MEDIUM_FLOAT",m[m.HIGH_FLOAT=36338]="HIGH_FLOAT",m[m.LOW_INT=36339]="LOW_INT",m[m.MEDIUM_INT=36340]="MEDIUM_INT",m[m.HIGH_INT=36341]="HIGH_INT",m[m.FRAMEBUFFER=36160]="FRAMEBUFFER",m[m.RENDERBUFFER=36161]="RENDERBUFFER",m[m.RGBA4=32854]="RGBA4",m[m.RGB5_A1=32855]="RGB5_A1",m[m.RGB565=36194]="RGB565",m[m.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",m[m.STENCIL_INDEX=6401]="STENCIL_INDEX",m[m.STENCIL_INDEX8=36168]="STENCIL_INDEX8",m[m.DEPTH_STENCIL=34041]="DEPTH_STENCIL",m[m.RENDERBUFFER_WIDTH=36162]="RENDERBUFFER_WIDTH",m[m.RENDERBUFFER_HEIGHT=36163]="RENDERBUFFER_HEIGHT",m[m.RENDERBUFFER_INTERNAL_FORMAT=36164]="RENDERBUFFER_INTERNAL_FORMAT",m[m.RENDERBUFFER_RED_SIZE=36176]="RENDERBUFFER_RED_SIZE",m[m.RENDERBUFFER_GREEN_SIZE=36177]="RENDERBUFFER_GREEN_SIZE",m[m.RENDERBUFFER_BLUE_SIZE=36178]="RENDERBUFFER_BLUE_SIZE",m[m.RENDERBUFFER_ALPHA_SIZE=36179]="RENDERBUFFER_ALPHA_SIZE",m[m.RENDERBUFFER_DEPTH_SIZE=36180]="RENDERBUFFER_DEPTH_SIZE",m[m.RENDERBUFFER_STENCIL_SIZE=36181]="RENDERBUFFER_STENCIL_SIZE",m[m.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048]="FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",m[m.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049]="FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",m[m.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",m[m.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051]="FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",m[m.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",m[m.DEPTH_ATTACHMENT=36096]="DEPTH_ATTACHMENT",m[m.STENCIL_ATTACHMENT=36128]="STENCIL_ATTACHMENT",m[m.DEPTH_STENCIL_ATTACHMENT=33306]="DEPTH_STENCIL_ATTACHMENT",m[m.NONE=0]="NONE",m[m.FRAMEBUFFER_COMPLETE=36053]="FRAMEBUFFER_COMPLETE",m[m.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054]="FRAMEBUFFER_INCOMPLETE_ATTACHMENT",m[m.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055]="FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",m[m.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057]="FRAMEBUFFER_INCOMPLETE_DIMENSIONS",m[m.FRAMEBUFFER_UNSUPPORTED=36061]="FRAMEBUFFER_UNSUPPORTED",m[m.FRAMEBUFFER_BINDING=36006]="FRAMEBUFFER_BINDING",m[m.RENDERBUFFER_BINDING=36007]="RENDERBUFFER_BINDING",m[m.MAX_RENDERBUFFER_SIZE=34024]="MAX_RENDERBUFFER_SIZE",m[m.INVALID_FRAMEBUFFER_OPERATION=1286]="INVALID_FRAMEBUFFER_OPERATION",m[m.UNPACK_FLIP_Y_WEBGL=37440]="UNPACK_FLIP_Y_WEBGL",m[m.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441]="UNPACK_PREMULTIPLY_ALPHA_WEBGL",m[m.CONTEXT_LOST_WEBGL=37442]="CONTEXT_LOST_WEBGL",m[m.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443]="UNPACK_COLORSPACE_CONVERSION_WEBGL",m[m.BROWSER_DEFAULT_WEBGL=37444]="BROWSER_DEFAULT_WEBGL",m[m.COPY_SRC=1]="COPY_SRC",m[m.COPY_DST=2]="COPY_DST",m[m.SAMPLED=4]="SAMPLED",m[m.STORAGE=8]="STORAGE",m[m.RENDER_ATTACHMENT=16]="RENDER_ATTACHMENT"})(Br||(Br={}));var Iu,af,jh,Dc,Tf,Td,Md,Kl,Zl=(Iu=(0,nt.b2)(),af=(0,nt.f3)(ct.GeometryComponentManager),jh=(0,nt.f3)(ct.RenderEngine),Iu(Dc=(Tf=(Kl=function(){function m(){_()(this,m),b()(this,"geometry",Td,this),b()(this,"engine",Md,this)}return T()(m,[{key:"execute",value:function(){var Y=z()(k().mark(function tt(){var ut=this;return k().wrap(function(Bt){for(;;)switch(Bt.prev=Bt.next){case 0:this.geometry.forEach(function(Ht,Jt){Jt.dirty&&(Jt.attributes.forEach(function(oe){if(oe.dirty&&oe.data){if(!oe.buffer)oe.buffer=ut.engine.createBuffer({data:oe.data,type:Br.FLOAT});else{var Se;(Se=oe.buffer)===null||Se===void 0||Se.subData({data:oe.data,offset:0})}oe.dirty=!1}}),Jt.indices&&(Jt.indicesBuffer?Jt.indicesBuffer.subData({data:Jt.indices,offset:0}):Jt.indicesBuffer=ut.engine.createElements({data:Jt.indices,count:Jt.indices.length,type:Br.UNSIGNED_INT,usage:Br.STATIC_DRAW})),Jt.dirty=!1)});case 1:case"end":return Bt.stop()}},tt,this)}));function V(){return Y.apply(this,arguments)}return V}()},{key:"tearDown",value:function(){this.geometry.forEach(function(V,tt){tt.indicesBuffer&&tt.indicesBuffer.destroy(),tt.attributes.forEach(function(ut){ut.buffer&&ut.buffer.destroy()})}),this.geometry.clear()}},{key:"createBufferGeometry",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{vertexCount:3},tt=V.vertexCount,ut=K();return this.geometry.create(ut,{vertexCount:tt})}},{key:"createInstancedBufferGeometry",value:function(V){var tt=V.maxInstancedCount,ut=V.vertexCount,Ot=K();return this.geometry.create(Ot,{maxInstancedCount:tt,vertexCount:ut})}}]),m}(),Kl),Td=M()(Tf.prototype,"geometry",[af],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Md=M()(Tf.prototype,"engine",[jh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Tf))||Dc);function Wh(m,Y){var V=Object.keys(m);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(m);Y&&(tt=tt.filter(function(ut){return Object.getOwnPropertyDescriptor(m,ut).enumerable})),V.push.apply(V,tt)}return V}function qd(m){for(var Y=1;Y<arguments.length;Y++){var V=arguments[Y]!=null?arguments[Y]:{};Y%2?Wh(Object(V),!0).forEach(function(tt){ye()(m,tt,V[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(V)):Wh(Object(V)).forEach(function(tt){Object.defineProperty(m,tt,Object.getOwnPropertyDescriptor(V,tt))})}return m}function of(m){var Y=Ql();return function(){var tt=Et()(m),ut;if(Y){var Ot=Et()(this).constructor;ut=Reflect.construct(tt,arguments,Ot)}else ut=tt.apply(this,arguments);return gt()(this,ut)}}function Ql(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(m){return!1}}var go=function(m){vt()(V,m);var Y=of(V);function V(tt){var ut;return _()(this,V),ut=Y.call(this,tt),ut.vertexShaderGLSL=void 0,ut.fragmentShaderGLSL=void 0,ut.defines={},ut.dirty=!0,ut.uniforms=[],ut.cull={enable:!0,face:Br.BACK},ut.depth={enable:!0},ut.blend=void 0,ut.entity=void 0,ut.type=void 0,Object.assign(Xt()(ut),tt),ut}return T()(V,[{key:"setDefines",value:function(ut){return this.defines=qd(qd({},this.defines),ut),this}},{key:"setCull",value:function(ut){return this.cull=ut,this}},{key:"setDepth",value:function(ut){return this.depth=ut,this}},{key:"setBlend",value:function(ut){return this.blend=ut,this}},{key:"setUniform",value:function(ut,Ot){var Bt=this;if(typeof ut!="string")return Object.keys(ut).forEach(function(Jt){return Bt.setUniform(Jt,ut[Jt])}),this;var Ht=this.uniforms.find(function(Jt){return Jt.name===ut});return Ht?(Ht.dirty=!0,Ht.data=Ot):this.uniforms.push({name:ut,dirty:!0,data:Ot}),this.dirty=!0,this}}]),V}(lt),sf,sh,uh,Pc,Vh,Qa,Ya,Gu,Ou,Du;function lh(m,Y){var V=Object.keys(m);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(m);Y&&(tt=tt.filter(function(ut){return Object.getOwnPropertyDescriptor(m,ut).enumerable})),V.push.apply(V,tt)}return V}function Hh(m){for(var Y=1;Y<arguments.length;Y++){var V=arguments[Y]!=null?arguments[Y]:{};Y%2?lh(Object(V),!0).forEach(function(tt){ye()(m,tt,V[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(V)):lh(Object(V)).forEach(function(tt){Object.defineProperty(m,tt,Object.getOwnPropertyDescriptor(V,tt))})}return m}var Mv=(sf=(0,nt.b2)(),sh=(0,nt.f3)(ct.MaterialComponentManager),uh=(0,nt.f3)(ct.RenderEngine),Pc=(0,nt.f3)(ct.ShaderModuleService),sf(Vh=(Qa=(Du=function(){function m(){_()(this,m),b()(this,"material",Ya,this),b()(this,"engine",Gu,this),b()(this,"shaderModule",Ou,this)}return T()(m,[{key:"execute",value:function(){var Y=z()(k().mark(function tt(){return k().wrap(function(Ot){for(;;)switch(Ot.prev=Ot.next){case 0:case"end":return Ot.stop()}},tt)}));function V(){return Y.apply(this,arguments)}return V}()},{key:"tearDown",value:function(){this.material.clear()}},{key:"createShaderMaterial",value:function(V){var tt=K(),ut=V.vertexShader,Ot=V.fragmentShader,Bt=[];if(!this.engine.supportWebGPU){var Ht="material-".concat(tt);this.shaderModule.registerModule(Ht,{vs:V.vertexShader,fs:V.fragmentShader});var Jt=this.shaderModule.getModule(Ht);ut=Jt.vs,Ot=Jt.fs,Jt.uniforms&&(Bt=Object.keys(Jt.uniforms).map(function(oe){return{dirty:!0,name:oe,data:Jt.uniforms[oe]}}))}return this.material.create(tt,Hh(Hh({vertexShaderGLSL:ut,fragmentShaderGLSL:Ot},V),{},{uniforms:Bt}))}}]),m}(),Du),Ya=M()(Qa.prototype,"material",[sh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gu=M()(Qa.prototype,"engine",[uh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ou=M()(Qa.prototype,"shaderModule",[Pc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qa))||Vh);function tv(m){var Y=Id();return function(){var tt=Et()(m),ut;if(Y){var Ot=Et()(this).constructor;ut=Reflect.construct(tt,arguments,Ot)}else ut=tt.apply(this,arguments);return gt()(this,ut)}}function Id(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(m){return!1}}var Jo;(function(m){m[m.Standard=0]="Standard"})(Jo||(Jo={}));var yo=function(m){vt()(V,m);var Y=tv(V);function V(tt){var ut;return _()(this,V),ut=Y.call(this,tt),ut.strategy=Jo.Standard,ut.visibilityPlaneMask=0,ut.visible=!1,Object.assign(Xt()(ut),tt),ut}return V}(lt),Lc=function(){function m(Y,V){_()(this,m),this.center=void 0,this.halfExtents=void 0,this.min=me.Ue(),this.max=me.Ue(),this.update(Y,V)}return T()(m,[{key:"update",value:function(V,tt){this.center=V||me.Ue(),this.halfExtents=tt||me.al(.5,.5,.5),this.min=me.lu(this.min,this.center,this.halfExtents),this.max=me.IH(this.max,this.center,this.halfExtents)}},{key:"setMinMax",value:function(V,tt){me.IH(this.center,tt,V),me.bA(this.center,this.center,.5),me.lu(this.halfExtents,tt,V),me.bA(this.halfExtents,this.halfExtents,.5),me.JG(this.min,V),me.JG(this.max,tt)}},{key:"getMin",value:function(){return this.min}},{key:"getMax",value:function(){return this.max}},{key:"add",value:function(V){var tt=this.center,ut=tt[0],Ot=tt[1],Bt=tt[2],Ht=this.halfExtents,Jt=Ht[0],oe=Ht[1],Se=Ht[2],Ye=ut-Jt,ir=ut+Jt,C=Ot-oe,U=Ot+oe,it=Bt-Se,Lt=Bt+Se,Zt=V.center,ve=Zt[0],Me=Zt[1],He=Zt[2],$e=V.halfExtents,zr=$e[0],nn=$e[1],ln=$e[2],$n=ve-zr,ii=ve+zr,yi=Me-nn,Ei=Me+nn,mi=He-ln,di=He+ln;$n<Ye&&(Ye=$n),ii>ir&&(ir=ii),yi<C&&(C=yi),Ei>U&&(U=Ei),mi<it&&(it=mi),di>Lt&&(Lt=di),tt[0]=(Ye+ir)*.5,tt[1]=(C+U)*.5,tt[2]=(it+Lt)*.5,Ht[0]=(ir-Ye)*.5,Ht[1]=(U-C)*.5,Ht[2]=(Lt-it)*.5,this.min[0]=Ye,this.min[1]=C,this.min[2]=it,this.max[0]=ir,this.max[1]=U,this.max[2]=Lt}},{key:"intersects",value:function(V){var tt=this.getMax(),ut=this.getMin(),Ot=V.getMax(),Bt=V.getMin();return ut[0]<=Ot[0]&&tt[0]>=Bt[0]&&ut[1]<=Ot[1]&&tt[1]>=Bt[1]&&ut[2]<=Ot[2]&&tt[2]>=Bt[2]}},{key:"containsPoint",value:function(V){var tt=this.getMin(),ut=this.getMax();return!(V[0]<tt[0]||V[0]>ut[0]||V[1]<tt[1]||V[1]>ut[1]||V[2]<tt[2]||V[2]>ut[2])}},{key:"getNegativeFarPoint",value:function(V){return V.pnVertexFlag===273?me.JG(me.Ue(),this.min):V.pnVertexFlag===272?me.al(this.min[0],this.min[1],this.max[2]):V.pnVertexFlag===257?me.al(this.min[0],this.max[1],this.min[2]):V.pnVertexFlag===256?me.al(this.min[0],this.max[1],this.max[2]):V.pnVertexFlag===17?me.al(this.max[0],this.min[1],this.min[2]):V.pnVertexFlag===16?me.al(this.max[0],this.min[1],this.max[2]):V.pnVertexFlag===1?me.al(this.max[0],this.max[1],this.min[2]):me.al(this.max[0],this.max[1],this.max[2])}},{key:"getPositiveFarPoint",value:function(V){return V.pnVertexFlag===273?me.JG(me.Ue(),this.max):V.pnVertexFlag===272?me.al(this.max[0],this.max[1],this.min[2]):V.pnVertexFlag===257?me.al(this.max[0],this.min[1],this.max[2]):V.pnVertexFlag===256?me.al(this.max[0],this.min[1],this.min[2]):V.pnVertexFlag===17?me.al(this.min[0],this.max[1],this.max[2]):V.pnVertexFlag===16?me.al(this.min[0],this.max[1],this.min[2]):V.pnVertexFlag===1?me.al(this.min[0],this.min[1],this.max[2]):me.al(this.min[0],this.min[1],this.min[2])}}]),m}();function Yh(m){var Y=zu();return function(){var tt=Et()(m),ut;if(Y){var Ot=Et()(this).constructor;ut=Reflect.construct(tt,arguments,Ot)}else ut=tt.apply(this,arguments);return gt()(this,ut)}}function zu(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(m){return!1}}var ns=function(m){vt()(V,m);var Y=Yh(V);function V(tt){var ut;return _()(this,V),ut=Y.call(this,tt),ut.material=void 0,ut.geometry=void 0,ut.aabb=new Lc,ut.aabbDirty=!0,ut.model=void 0,ut.visible=!0,ut.children=[],Object.assign(Xt()(ut),tt),ut}return V}(lt),Mf=function(){function m(Y,V){_()(this,m),this.distance=void 0,this.normal=void 0,this.pnVertexFlag=void 0,this.distance=Y||0,this.normal=V||me.al(0,1,0),this.updatePNVertexFlag()}return T()(m,[{key:"updatePNVertexFlag",value:function(){this.pnVertexFlag=(Number(this.normal[0]>=0)<<8)+(Number(this.normal[1]>=0)<<4)+Number(this.normal[2]>=0)}},{key:"distanceToPoint",value:function(V){return me.AK(V,this.normal)-this.distance}},{key:"normalize",value:function(){var V=1/me.Zh(this.normal);me.bA(this.normal,this.normal,V),this.distance*=V}},{key:"intersectsLine",value:function(V,tt,ut){var Ot=this.distanceToPoint(V),Bt=this.distanceToPoint(tt),Ht=Ot/(Ot-Bt),Jt=Ht>=0&&Ht<=1;return Jt&&ut&&me.t7(ut,V,tt,Ht),Jt}}]),m}(),xs;(function(m){m[m.OUTSIDE=4294967295]="OUTSIDE",m[m.INSIDE=0]="INSIDE",m[m.INDETERMINATE=2147483647]="INDETERMINATE"})(xs||(xs={}));var Jl=function(){function m(Y){if(_()(this,m),this.planes=[],Y)this.planes=Y;else for(var V=0;V<6;V++)this.planes.push(new Mf)}return T()(m,[{key:"extractFromVPMatrix",value:function(V){var tt=q()(V,16),ut=tt[0],Ot=tt[1],Bt=tt[2],Ht=tt[3],Jt=tt[4],oe=tt[5],Se=tt[6],Ye=tt[7],ir=tt[8],C=tt[9],U=tt[10],it=tt[11],Lt=tt[12],Zt=tt[13],ve=tt[14],Me=tt[15];me.t8(this.planes[0].normal,Ht-ut,Ye-Jt,it-ir),this.planes[0].distance=-(Me-Lt),me.t8(this.planes[1].normal,Ht+ut,Ye+Jt,it+ir),this.planes[1].distance=-(Me+Lt),me.t8(this.planes[2].normal,Ht+Ot,Ye+oe,it+C),this.planes[2].distance=-(Me+Zt),me.t8(this.planes[3].normal,Ht-Ot,Ye-oe,it-C),this.planes[3].distance=-(Me-Zt),me.t8(this.planes[4].normal,Ht-Bt,Ye-Se,it-U),this.planes[4].distance=-(Me-ve),me.t8(this.planes[5].normal,Ht+Bt,Ye+Se,it+U),this.planes[5].distance=-(Me+ve),this.planes.forEach(function(He){He.normalize(),He.updatePNVertexFlag()})}}]),m}();function Cl(m){return typeof m=="number"}function If(m){return m===void 0?0:m>360||m<-360?m%360:m}function Tl(m,Y,V){return isNumber(m)?vec3.fromValues(m,Y,V):m.length===3?vec3.clone(m):vec3.fromValues(m[0],m[1],m[2])}function _o(m,Y){return Y[0]=m[0],Y[1]=m[1],Y[2]=m[2],Y[3]=m[4],Y[4]=m[5],Y[5]=m[6],Y[6]=m[8],Y[7]=m[9],Y[8]=m[10],Y}function Uu(m){var Y=q()(m,3),V=Y[0],tt=Y[1],ut=Y[2],Ot=V+tt*256+ut*65536-1;return Ot}function ou(m){return[m+1&255,m+1>>8&255,m+1>>8>>8&255]}var ql,Xh,ul,tc,ec,mo,Pu,eo,ch,$h,Xs,Kh,Of,rc;function Rc(m,Y){var V;if(typeof Symbol=="undefined"||m[Symbol.iterator]==null){if(Array.isArray(m)||(V=nc(m))||Y&&m&&typeof m.length=="number"){V&&(m=V);var tt=0,ut=function(){};return{s:ut,n:function(){return tt>=m.length?{done:!0}:{done:!1,value:m[tt++]}},e:function(oe){throw oe},f:ut}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ot=!0,Bt=!1,Ht;return{s:function(){V=m[Symbol.iterator]()},n:function(){var oe=V.next();return Ot=oe.done,oe},e:function(oe){Bt=!0,Ht=oe},f:function(){try{!Ot&&V.return!=null&&V.return()}finally{if(Bt)throw Ht}}}}function nc(m,Y){if(!!m){if(typeof m=="string")return ll(m,Y);var V=Object.prototype.toString.call(m).slice(8,-1);if(V==="Object"&&m.constructor&&(V=m.constructor.name),V==="Map"||V==="Set")return Array.from(m);if(V==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(V))return ll(m,Y)}}function ll(m,Y){(Y==null||Y>m.length)&&(Y=m.length);for(var V=0,tt=new Array(Y);V<Y;V++)tt[V]=m[V];return tt}var ic=(ql=(0,nt.b2)(),Xh=(0,nt.f3)(ct.MeshComponentManager),ul=(0,nt.f3)(ct.CullableComponentManager),tc=(0,nt.f3)(ct.GeometryComponentManager),ec=(0,nt.f3)(ct.HierarchyComponentManager),mo=(0,nt.f3)(ct.TransformComponentManager),ql(Pu=(eo=(rc=function(){function m(){_()(this,m),b()(this,"mesh",ch,this),b()(this,"cullable",$h,this),b()(this,"geometry",Xs,this),b()(this,"hierarchy",Kh,this),b()(this,"transform",Of,this),this.planes=void 0}return T()(m,[{key:"setFrustumPlanes",value:function(V){this.planes=V}},{key:"execute",value:function(){var Y=z()(k().mark(function tt(ut){var Ot,Bt,Ht,Jt,oe,Se,Ye,ir,C,U,it,Lt,Zt,ve,Me,He,$e,zr,nn,ln,$n;return k().wrap(function(yi){for(;;)switch(yi.prev=yi.next){case 0:Ot=Rc(ut);try{for(Ot.s();!(Bt=Ot.n()).done;){Ht=Bt.value,Jt=Ht.getScene(),oe=Ht.getCamera(),Se=Rc(Jt.getEntities());try{for(Se.s();!(Ye=Se.n()).done;)ir=Ye.value,C=this.mesh.getComponentByEntity(ir),C&&(U=this.hierarchy.getComponentByEntity(ir),it=this.cullable.getComponentByEntity(ir),Lt=C.geometry,Zt=this.transform.getComponentByEntity(ir),Lt&&Lt.aabb&&Zt&&C.aabbDirty&&(ve=Zt.worldTransform,Me=Lt.aabb,He=Me.center,$e=Me.halfExtents,zr=me.fF(me.Ue(),He,ve),nn=_o(ve,kn.create()),ln=me.kK(me.Ue(),$e,nn),C.aabb.update(zr,ln),C.aabbDirty=!1),it&&Lt&&($n=this.cullable.getComponentByEntity((U==null?void 0:U.parentID)||-1),it.visibilityPlaneMask=this.computeVisibilityWithPlaneMask(C.aabb,($n==null?void 0:$n.visibilityPlaneMask)||xs.INDETERMINATE,this.planes||oe.getFrustum().planes),it.visible=it.visibilityPlaneMask!==xs.OUTSIDE))}catch(Ei){Se.e(Ei)}finally{Se.f()}}}catch(Ei){Ot.e(Ei)}finally{Ot.f()}case 2:case"end":return yi.stop()}},tt,this)}));function V(tt){return Y.apply(this,arguments)}return V}()},{key:"tearDown",value:function(){this.cullable.clear(),this.mesh.clear()}},{key:"computeVisibilityWithPlaneMask",value:function(V,tt,ut){if(tt===xs.OUTSIDE||tt===xs.INSIDE)return tt;for(var Ot=xs.INSIDE,Bt=0,Ht=ut.length;Bt<Ht;++Bt){var Jt=Bt<31?1<<Bt:0;if(!(Bt<31&&(tt&Jt)===0)){var oe=ut[Bt],Se=oe.normal,Ye=oe.distance;if(me.AK(Se,V.getNegativeFarPoint(ut[Bt]))+Ye>0)return xs.OUTSIDE;me.AK(Se,V.getPositiveFarPoint(ut[Bt]))+Ye>0&&(Ot|=Jt)}}return Ot}}]),m}(),rc),ch=M()(eo.prototype,"mesh",[Xh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$h=M()(eo.prototype,"cullable",[ul],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xs=M()(eo.prototype,"geometry",[tc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Kh=M()(eo.prototype,"hierarchy",[ec],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Of=M()(eo.prototype,"transform",[mo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),eo))||Pu);function Ns(){var m=new Kt.WT(16);return Kt.WT!=Float32Array&&(m[1]=0,m[2]=0,m[3]=0,m[4]=0,m[6]=0,m[7]=0,m[8]=0,m[9]=0,m[11]=0,m[12]=0,m[13]=0,m[14]=0),m[0]=1,m[5]=1,m[10]=1,m[15]=1,m}function fh(m){var Y=new Kt.WT(16);return Y[0]=m[0],Y[1]=m[1],Y[2]=m[2],Y[3]=m[3],Y[4]=m[4],Y[5]=m[5],Y[6]=m[6],Y[7]=m[7],Y[8]=m[8],Y[9]=m[9],Y[10]=m[10],Y[11]=m[11],Y[12]=m[12],Y[13]=m[13],Y[14]=m[14],Y[15]=m[15],Y}function ju(m,Y){return m[0]=Y[0],m[1]=Y[1],m[2]=Y[2],m[3]=Y[3],m[4]=Y[4],m[5]=Y[5],m[6]=Y[6],m[7]=Y[7],m[8]=Y[8],m[9]=Y[9],m[10]=Y[10],m[11]=Y[11],m[12]=Y[12],m[13]=Y[13],m[14]=Y[14],m[15]=Y[15],m}function fe(m,Y,V,tt,ut,Ot,Bt,Ht,Jt,oe,Se,Ye,ir,C,U,it){var Lt=new glMatrix.ARRAY_TYPE(16);return Lt[0]=m,Lt[1]=Y,Lt[2]=V,Lt[3]=tt,Lt[4]=ut,Lt[5]=Ot,Lt[6]=Bt,Lt[7]=Ht,Lt[8]=Jt,Lt[9]=oe,Lt[10]=Se,Lt[11]=Ye,Lt[12]=ir,Lt[13]=C,Lt[14]=U,Lt[15]=it,Lt}function qe(m,Y,V,tt,ut,Ot,Bt,Ht,Jt,oe,Se,Ye,ir,C,U,it,Lt){return m[0]=Y,m[1]=V,m[2]=tt,m[3]=ut,m[4]=Ot,m[5]=Bt,m[6]=Ht,m[7]=Jt,m[8]=oe,m[9]=Se,m[10]=Ye,m[11]=ir,m[12]=C,m[13]=U,m[14]=it,m[15]=Lt,m}function Sr(m){return m[0]=1,m[1]=0,m[2]=0,m[3]=0,m[4]=0,m[5]=1,m[6]=0,m[7]=0,m[8]=0,m[9]=0,m[10]=1,m[11]=0,m[12]=0,m[13]=0,m[14]=0,m[15]=1,m}function Kr(m,Y){if(m===Y){var V=Y[1],tt=Y[2],ut=Y[3],Ot=Y[6],Bt=Y[7],Ht=Y[11];m[1]=Y[4],m[2]=Y[8],m[3]=Y[12],m[4]=V,m[6]=Y[9],m[7]=Y[13],m[8]=tt,m[9]=Ot,m[11]=Y[14],m[12]=ut,m[13]=Bt,m[14]=Ht}else m[0]=Y[0],m[1]=Y[4],m[2]=Y[8],m[3]=Y[12],m[4]=Y[1],m[5]=Y[5],m[6]=Y[9],m[7]=Y[13],m[8]=Y[2],m[9]=Y[6],m[10]=Y[10],m[11]=Y[14],m[12]=Y[3],m[13]=Y[7],m[14]=Y[11],m[15]=Y[15];return m}function Pn(m,Y){var V=Y[0],tt=Y[1],ut=Y[2],Ot=Y[3],Bt=Y[4],Ht=Y[5],Jt=Y[6],oe=Y[7],Se=Y[8],Ye=Y[9],ir=Y[10],C=Y[11],U=Y[12],it=Y[13],Lt=Y[14],Zt=Y[15],ve=V*Ht-tt*Bt,Me=V*Jt-ut*Bt,He=V*oe-Ot*Bt,$e=tt*Jt-ut*Ht,zr=tt*oe-Ot*Ht,nn=ut*oe-Ot*Jt,ln=Se*it-Ye*U,$n=Se*Lt-ir*U,ii=Se*Zt-C*U,yi=Ye*Lt-ir*it,Ei=Ye*Zt-C*it,mi=ir*Zt-C*Lt,di=ve*mi-Me*Ei+He*yi+$e*ii-zr*$n+nn*ln;return di?(di=1/di,m[0]=(Ht*mi-Jt*Ei+oe*yi)*di,m[1]=(ut*Ei-tt*mi-Ot*yi)*di,m[2]=(it*nn-Lt*zr+Zt*$e)*di,m[3]=(ir*zr-Ye*nn-C*$e)*di,m[4]=(Jt*ii-Bt*mi-oe*$n)*di,m[5]=(V*mi-ut*ii+Ot*$n)*di,m[6]=(Lt*He-U*nn-Zt*Me)*di,m[7]=(Se*nn-ir*He+C*Me)*di,m[8]=(Bt*Ei-Ht*ii+oe*ln)*di,m[9]=(tt*ii-V*Ei-Ot*ln)*di,m[10]=(U*zr-it*He+Zt*ve)*di,m[11]=(Ye*He-Se*zr-C*ve)*di,m[12]=(Ht*$n-Bt*yi-Jt*ln)*di,m[13]=(V*yi-tt*$n+ut*ln)*di,m[14]=(it*Me-U*$e-Lt*ve)*di,m[15]=(Se*$e-Ye*Me+ir*ve)*di,m):null}function ci(m,Y){var V=Y[0],tt=Y[1],ut=Y[2],Ot=Y[3],Bt=Y[4],Ht=Y[5],Jt=Y[6],oe=Y[7],Se=Y[8],Ye=Y[9],ir=Y[10],C=Y[11],U=Y[12],it=Y[13],Lt=Y[14],Zt=Y[15];return m[0]=Ht*(ir*Zt-C*Lt)-Ye*(Jt*Zt-oe*Lt)+it*(Jt*C-oe*ir),m[1]=-(tt*(ir*Zt-C*Lt)-Ye*(ut*Zt-Ot*Lt)+it*(ut*C-Ot*ir)),m[2]=tt*(Jt*Zt-oe*Lt)-Ht*(ut*Zt-Ot*Lt)+it*(ut*oe-Ot*Jt),m[3]=-(tt*(Jt*C-oe*ir)-Ht*(ut*C-Ot*ir)+Ye*(ut*oe-Ot*Jt)),m[4]=-(Bt*(ir*Zt-C*Lt)-Se*(Jt*Zt-oe*Lt)+U*(Jt*C-oe*ir)),m[5]=V*(ir*Zt-C*Lt)-Se*(ut*Zt-Ot*Lt)+U*(ut*C-Ot*ir),m[6]=-(V*(Jt*Zt-oe*Lt)-Bt*(ut*Zt-Ot*Lt)+U*(ut*oe-Ot*Jt)),m[7]=V*(Jt*C-oe*ir)-Bt*(ut*C-Ot*ir)+Se*(ut*oe-Ot*Jt),m[8]=Bt*(Ye*Zt-C*it)-Se*(Ht*Zt-oe*it)+U*(Ht*C-oe*Ye),m[9]=-(V*(Ye*Zt-C*it)-Se*(tt*Zt-Ot*it)+U*(tt*C-Ot*Ye)),m[10]=V*(Ht*Zt-oe*it)-Bt*(tt*Zt-Ot*it)+U*(tt*oe-Ot*Ht),m[11]=-(V*(Ht*C-oe*Ye)-Bt*(tt*C-Ot*Ye)+Se*(tt*oe-Ot*Ht)),m[12]=-(Bt*(Ye*Lt-ir*it)-Se*(Ht*Lt-Jt*it)+U*(Ht*ir-Jt*Ye)),m[13]=V*(Ye*Lt-ir*it)-Se*(tt*Lt-ut*it)+U*(tt*ir-ut*Ye),m[14]=-(V*(Ht*Lt-Jt*it)-Bt*(tt*Lt-ut*it)+U*(tt*Jt-ut*Ht)),m[15]=V*(Ht*ir-Jt*Ye)-Bt*(tt*ir-ut*Ye)+Se*(tt*Jt-ut*Ht),m}function Pi(m){var Y=m[0],V=m[1],tt=m[2],ut=m[3],Ot=m[4],Bt=m[5],Ht=m[6],Jt=m[7],oe=m[8],Se=m[9],Ye=m[10],ir=m[11],C=m[12],U=m[13],it=m[14],Lt=m[15],Zt=Y*Bt-V*Ot,ve=Y*Ht-tt*Ot,Me=Y*Jt-ut*Ot,He=V*Ht-tt*Bt,$e=V*Jt-ut*Bt,zr=tt*Jt-ut*Ht,nn=oe*U-Se*C,ln=oe*it-Ye*C,$n=oe*Lt-ir*C,ii=Se*it-Ye*U,yi=Se*Lt-ir*U,Ei=Ye*Lt-ir*it;return Zt*Ei-ve*yi+Me*ii+He*$n-$e*ln+zr*nn}function xa(m,Y,V){var tt=Y[0],ut=Y[1],Ot=Y[2],Bt=Y[3],Ht=Y[4],Jt=Y[5],oe=Y[6],Se=Y[7],Ye=Y[8],ir=Y[9],C=Y[10],U=Y[11],it=Y[12],Lt=Y[13],Zt=Y[14],ve=Y[15],Me=V[0],He=V[1],$e=V[2],zr=V[3];return m[0]=Me*tt+He*Ht+$e*Ye+zr*it,m[1]=Me*ut+He*Jt+$e*ir+zr*Lt,m[2]=Me*Ot+He*oe+$e*C+zr*Zt,m[3]=Me*Bt+He*Se+$e*U+zr*ve,Me=V[4],He=V[5],$e=V[6],zr=V[7],m[4]=Me*tt+He*Ht+$e*Ye+zr*it,m[5]=Me*ut+He*Jt+$e*ir+zr*Lt,m[6]=Me*Ot+He*oe+$e*C+zr*Zt,m[7]=Me*Bt+He*Se+$e*U+zr*ve,Me=V[8],He=V[9],$e=V[10],zr=V[11],m[8]=Me*tt+He*Ht+$e*Ye+zr*it,m[9]=Me*ut+He*Jt+$e*ir+zr*Lt,m[10]=Me*Ot+He*oe+$e*C+zr*Zt,m[11]=Me*Bt+He*Se+$e*U+zr*ve,Me=V[12],He=V[13],$e=V[14],zr=V[15],m[12]=Me*tt+He*Ht+$e*Ye+zr*it,m[13]=Me*ut+He*Jt+$e*ir+zr*Lt,m[14]=Me*Ot+He*oe+$e*C+zr*Zt,m[15]=Me*Bt+He*Se+$e*U+zr*ve,m}function ro(m,Y,V){var tt=V[0],ut=V[1],Ot=V[2],Bt,Ht,Jt,oe,Se,Ye,ir,C,U,it,Lt,Zt;return Y===m?(m[12]=Y[0]*tt+Y[4]*ut+Y[8]*Ot+Y[12],m[13]=Y[1]*tt+Y[5]*ut+Y[9]*Ot+Y[13],m[14]=Y[2]*tt+Y[6]*ut+Y[10]*Ot+Y[14],m[15]=Y[3]*tt+Y[7]*ut+Y[11]*Ot+Y[15]):(Bt=Y[0],Ht=Y[1],Jt=Y[2],oe=Y[3],Se=Y[4],Ye=Y[5],ir=Y[6],C=Y[7],U=Y[8],it=Y[9],Lt=Y[10],Zt=Y[11],m[0]=Bt,m[1]=Ht,m[2]=Jt,m[3]=oe,m[4]=Se,m[5]=Ye,m[6]=ir,m[7]=C,m[8]=U,m[9]=it,m[10]=Lt,m[11]=Zt,m[12]=Bt*tt+Se*ut+U*Ot+Y[12],m[13]=Ht*tt+Ye*ut+it*Ot+Y[13],m[14]=Jt*tt+ir*ut+Lt*Ot+Y[14],m[15]=oe*tt+C*ut+Zt*Ot+Y[15]),m}function su(m,Y,V){var tt=V[0],ut=V[1],Ot=V[2];return m[0]=Y[0]*tt,m[1]=Y[1]*tt,m[2]=Y[2]*tt,m[3]=Y[3]*tt,m[4]=Y[4]*ut,m[5]=Y[5]*ut,m[6]=Y[6]*ut,m[7]=Y[7]*ut,m[8]=Y[8]*Ot,m[9]=Y[9]*Ot,m[10]=Y[10]*Ot,m[11]=Y[11]*Ot,m[12]=Y[12],m[13]=Y[13],m[14]=Y[14],m[15]=Y[15],m}function gu(m,Y,V,tt){var ut=tt[0],Ot=tt[1],Bt=tt[2],Ht=Math.hypot(ut,Ot,Bt),Jt,oe,Se,Ye,ir,C,U,it,Lt,Zt,ve,Me,He,$e,zr,nn,ln,$n,ii,yi,Ei,mi,di,Ji;return Ht<glMatrix.EPSILON?null:(Ht=1/Ht,ut*=Ht,Ot*=Ht,Bt*=Ht,Jt=Math.sin(V),oe=Math.cos(V),Se=1-oe,Ye=Y[0],ir=Y[1],C=Y[2],U=Y[3],it=Y[4],Lt=Y[5],Zt=Y[6],ve=Y[7],Me=Y[8],He=Y[9],$e=Y[10],zr=Y[11],nn=ut*ut*Se+oe,ln=Ot*ut*Se+Bt*Jt,$n=Bt*ut*Se-Ot*Jt,ii=ut*Ot*Se-Bt*Jt,yi=Ot*Ot*Se+oe,Ei=Bt*Ot*Se+ut*Jt,mi=ut*Bt*Se+Ot*Jt,di=Ot*Bt*Se-ut*Jt,Ji=Bt*Bt*Se+oe,m[0]=Ye*nn+it*ln+Me*$n,m[1]=ir*nn+Lt*ln+He*$n,m[2]=C*nn+Zt*ln+$e*$n,m[3]=U*nn+ve*ln+zr*$n,m[4]=Ye*ii+it*yi+Me*Ei,m[5]=ir*ii+Lt*yi+He*Ei,m[6]=C*ii+Zt*yi+$e*Ei,m[7]=U*ii+ve*yi+zr*Ei,m[8]=Ye*mi+it*di+Me*Ji,m[9]=ir*mi+Lt*di+He*Ji,m[10]=C*mi+Zt*di+$e*Ji,m[11]=U*mi+ve*di+zr*Ji,Y!==m&&(m[12]=Y[12],m[13]=Y[13],m[14]=Y[14],m[15]=Y[15]),m)}function hh(m,Y,V){var tt=Math.sin(V),ut=Math.cos(V),Ot=Y[4],Bt=Y[5],Ht=Y[6],Jt=Y[7],oe=Y[8],Se=Y[9],Ye=Y[10],ir=Y[11];return Y!==m&&(m[0]=Y[0],m[1]=Y[1],m[2]=Y[2],m[3]=Y[3],m[12]=Y[12],m[13]=Y[13],m[14]=Y[14],m[15]=Y[15]),m[4]=Ot*ut+oe*tt,m[5]=Bt*ut+Se*tt,m[6]=Ht*ut+Ye*tt,m[7]=Jt*ut+ir*tt,m[8]=oe*ut-Ot*tt,m[9]=Se*ut-Bt*tt,m[10]=Ye*ut-Ht*tt,m[11]=ir*ut-Jt*tt,m}function Zh(m,Y,V){var tt=Math.sin(V),ut=Math.cos(V),Ot=Y[0],Bt=Y[1],Ht=Y[2],Jt=Y[3],oe=Y[8],Se=Y[9],Ye=Y[10],ir=Y[11];return Y!==m&&(m[4]=Y[4],m[5]=Y[5],m[6]=Y[6],m[7]=Y[7],m[12]=Y[12],m[13]=Y[13],m[14]=Y[14],m[15]=Y[15]),m[0]=Ot*ut-oe*tt,m[1]=Bt*ut-Se*tt,m[2]=Ht*ut-Ye*tt,m[3]=Jt*ut-ir*tt,m[8]=Ot*tt+oe*ut,m[9]=Bt*tt+Se*ut,m[10]=Ht*tt+Ye*ut,m[11]=Jt*tt+ir*ut,m}function Df(m,Y,V){var tt=Math.sin(V),ut=Math.cos(V),Ot=Y[0],Bt=Y[1],Ht=Y[2],Jt=Y[3],oe=Y[4],Se=Y[5],Ye=Y[6],ir=Y[7];return Y!==m&&(m[8]=Y[8],m[9]=Y[9],m[10]=Y[10],m[11]=Y[11],m[12]=Y[12],m[13]=Y[13],m[14]=Y[14],m[15]=Y[15]),m[0]=Ot*ut+oe*tt,m[1]=Bt*ut+Se*tt,m[2]=Ht*ut+Ye*tt,m[3]=Jt*ut+ir*tt,m[4]=oe*ut-Ot*tt,m[5]=Se*ut-Bt*tt,m[6]=Ye*ut-Ht*tt,m[7]=ir*ut-Jt*tt,m}function Od(m,Y){return m[0]=1,m[1]=0,m[2]=0,m[3]=0,m[4]=0,m[5]=1,m[6]=0,m[7]=0,m[8]=0,m[9]=0,m[10]=1,m[11]=0,m[12]=Y[0],m[13]=Y[1],m[14]=Y[2],m[15]=1,m}function Dd(m,Y){return m[0]=Y[0],m[1]=0,m[2]=0,m[3]=0,m[4]=0,m[5]=Y[1],m[6]=0,m[7]=0,m[8]=0,m[9]=0,m[10]=Y[2],m[11]=0,m[12]=0,m[13]=0,m[14]=0,m[15]=1,m}function dh(m,Y,V){var tt=V[0],ut=V[1],Ot=V[2],Bt=Math.hypot(tt,ut,Ot),Ht,Jt,oe;return Bt<glMatrix.EPSILON?null:(Bt=1/Bt,tt*=Bt,ut*=Bt,Ot*=Bt,Ht=Math.sin(Y),Jt=Math.cos(Y),oe=1-Jt,m[0]=tt*tt*oe+Jt,m[1]=ut*tt*oe+Ot*Ht,m[2]=Ot*tt*oe-ut*Ht,m[3]=0,m[4]=tt*ut*oe-Ot*Ht,m[5]=ut*ut*oe+Jt,m[6]=Ot*ut*oe+tt*Ht,m[7]=0,m[8]=tt*Ot*oe+ut*Ht,m[9]=ut*Ot*oe-tt*Ht,m[10]=Ot*Ot*oe+Jt,m[11]=0,m[12]=0,m[13]=0,m[14]=0,m[15]=1,m)}function rp(m,Y){var V=Math.sin(Y),tt=Math.cos(Y);return m[0]=1,m[1]=0,m[2]=0,m[3]=0,m[4]=0,m[5]=tt,m[6]=V,m[7]=0,m[8]=0,m[9]=-V,m[10]=tt,m[11]=0,m[12]=0,m[13]=0,m[14]=0,m[15]=1,m}function Iv(m,Y){var V=Math.sin(Y),tt=Math.cos(Y);return m[0]=tt,m[1]=0,m[2]=-V,m[3]=0,m[4]=0,m[5]=1,m[6]=0,m[7]=0,m[8]=V,m[9]=0,m[10]=tt,m[11]=0,m[12]=0,m[13]=0,m[14]=0,m[15]=1,m}function Pd(m,Y){var V=Math.sin(Y),tt=Math.cos(Y);return m[0]=tt,m[1]=V,m[2]=0,m[3]=0,m[4]=-V,m[5]=tt,m[6]=0,m[7]=0,m[8]=0,m[9]=0,m[10]=1,m[11]=0,m[12]=0,m[13]=0,m[14]=0,m[15]=1,m}function Pf(m,Y,V){var tt=Y[0],ut=Y[1],Ot=Y[2],Bt=Y[3],Ht=tt+tt,Jt=ut+ut,oe=Ot+Ot,Se=tt*Ht,Ye=tt*Jt,ir=tt*oe,C=ut*Jt,U=ut*oe,it=Ot*oe,Lt=Bt*Ht,Zt=Bt*Jt,ve=Bt*oe;return m[0]=1-(C+it),m[1]=Ye+ve,m[2]=ir-Zt,m[3]=0,m[4]=Ye-ve,m[5]=1-(Se+it),m[6]=U+Lt,m[7]=0,m[8]=ir+Zt,m[9]=U-Lt,m[10]=1-(Se+C),m[11]=0,m[12]=V[0],m[13]=V[1],m[14]=V[2],m[15]=1,m}function cl(m,Y){var V=new glMatrix.ARRAY_TYPE(3),tt=-Y[0],ut=-Y[1],Ot=-Y[2],Bt=Y[3],Ht=Y[4],Jt=Y[5],oe=Y[6],Se=Y[7],Ye=tt*tt+ut*ut+Ot*Ot+Bt*Bt;return Ye>0?(V[0]=(Ht*Bt+Se*tt+Jt*Ot-oe*ut)*2/Ye,V[1]=(Jt*Bt+Se*ut+oe*tt-Ht*Ot)*2/Ye,V[2]=(oe*Bt+Se*Ot+Ht*ut-Jt*tt)*2/Ye):(V[0]=(Ht*Bt+Se*tt+Jt*Ot-oe*ut)*2,V[1]=(Jt*Bt+Se*ut+oe*tt-Ht*Ot)*2,V[2]=(oe*Bt+Se*Ot+Ht*ut-Jt*tt)*2),Pf(m,Y,V),m}function Fc(m,Y){return m[0]=Y[12],m[1]=Y[13],m[2]=Y[14],m}function Lf(m,Y){var V=Y[0],tt=Y[1],ut=Y[2],Ot=Y[4],Bt=Y[5],Ht=Y[6],Jt=Y[8],oe=Y[9],Se=Y[10];return m[0]=Math.hypot(V,tt,ut),m[1]=Math.hypot(Ot,Bt,Ht),m[2]=Math.hypot(Jt,oe,Se),m}function $s(m,Y){var V=new Kt.WT(3);Lf(V,Y);var tt=1/V[0],ut=1/V[1],Ot=1/V[2],Bt=Y[0]*tt,Ht=Y[1]*ut,Jt=Y[2]*Ot,oe=Y[4]*tt,Se=Y[5]*ut,Ye=Y[6]*Ot,ir=Y[8]*tt,C=Y[9]*ut,U=Y[10]*Ot,it=Bt+Se+U,Lt=0;return it>0?(Lt=Math.sqrt(it+1)*2,m[3]=.25*Lt,m[0]=(Ye-C)/Lt,m[1]=(ir-Jt)/Lt,m[2]=(Ht-oe)/Lt):Bt>Se&&Bt>U?(Lt=Math.sqrt(1+Bt-Se-U)*2,m[3]=(Ye-C)/Lt,m[0]=.25*Lt,m[1]=(Ht+oe)/Lt,m[2]=(ir+Jt)/Lt):Se>U?(Lt=Math.sqrt(1+Se-Bt-U)*2,m[3]=(ir-Jt)/Lt,m[0]=(Ht+oe)/Lt,m[1]=.25*Lt,m[2]=(Ye+C)/Lt):(Lt=Math.sqrt(1+U-Bt-Se)*2,m[3]=(Ht-oe)/Lt,m[0]=(ir+Jt)/Lt,m[1]=(Ye+C)/Lt,m[2]=.25*Lt),m}function Ov(m,Y,V,tt){var ut=Y[0],Ot=Y[1],Bt=Y[2],Ht=Y[3],Jt=ut+ut,oe=Ot+Ot,Se=Bt+Bt,Ye=ut*Jt,ir=ut*oe,C=ut*Se,U=Ot*oe,it=Ot*Se,Lt=Bt*Se,Zt=Ht*Jt,ve=Ht*oe,Me=Ht*Se,He=tt[0],$e=tt[1],zr=tt[2];return m[0]=(1-(U+Lt))*He,m[1]=(ir+Me)*He,m[2]=(C-ve)*He,m[3]=0,m[4]=(ir-Me)*$e,m[5]=(1-(Ye+Lt))*$e,m[6]=(it+Zt)*$e,m[7]=0,m[8]=(C+ve)*zr,m[9]=(it-Zt)*zr,m[10]=(1-(Ye+U))*zr,m[11]=0,m[12]=V[0],m[13]=V[1],m[14]=V[2],m[15]=1,m}function uf(m,Y,V,tt,ut){var Ot=Y[0],Bt=Y[1],Ht=Y[2],Jt=Y[3],oe=Ot+Ot,Se=Bt+Bt,Ye=Ht+Ht,ir=Ot*oe,C=Ot*Se,U=Ot*Ye,it=Bt*Se,Lt=Bt*Ye,Zt=Ht*Ye,ve=Jt*oe,Me=Jt*Se,He=Jt*Ye,$e=tt[0],zr=tt[1],nn=tt[2],ln=ut[0],$n=ut[1],ii=ut[2],yi=(1-(it+Zt))*$e,Ei=(C+He)*$e,mi=(U-Me)*$e,di=(C-He)*zr,Ji=(1-(ir+Zt))*zr,us=(Lt+ve)*zr,ls=(U+Me)*nn,Va=(Lt-ve)*nn,cs=(1-(ir+it))*nn;return m[0]=yi,m[1]=Ei,m[2]=mi,m[3]=0,m[4]=di,m[5]=Ji,m[6]=us,m[7]=0,m[8]=ls,m[9]=Va,m[10]=cs,m[11]=0,m[12]=V[0]+ln-(yi*ln+di*$n+ls*ii),m[13]=V[1]+$n-(Ei*ln+Ji*$n+Va*ii),m[14]=V[2]+ii-(mi*ln+us*$n+cs*ii),m[15]=1,m}function yu(m,Y){var V=Y[0],tt=Y[1],ut=Y[2],Ot=Y[3],Bt=V+V,Ht=tt+tt,Jt=ut+ut,oe=V*Bt,Se=tt*Bt,Ye=tt*Ht,ir=ut*Bt,C=ut*Ht,U=ut*Jt,it=Ot*Bt,Lt=Ot*Ht,Zt=Ot*Jt;return m[0]=1-Ye-U,m[1]=Se+Zt,m[2]=ir-Lt,m[3]=0,m[4]=Se-Zt,m[5]=1-oe-U,m[6]=C+it,m[7]=0,m[8]=ir+Lt,m[9]=C-it,m[10]=1-oe-Ye,m[11]=0,m[12]=0,m[13]=0,m[14]=0,m[15]=1,m}function ev(m,Y,V,tt,ut,Ot,Bt){var Ht=1/(V-Y),Jt=1/(ut-tt),oe=1/(Ot-Bt);return m[0]=Ot*2*Ht,m[1]=0,m[2]=0,m[3]=0,m[4]=0,m[5]=Ot*2*Jt,m[6]=0,m[7]=0,m[8]=(V+Y)*Ht,m[9]=(ut+tt)*Jt,m[10]=(Bt+Ot)*oe,m[11]=-1,m[12]=0,m[13]=0,m[14]=Bt*Ot*2*oe,m[15]=0,m}function rv(m,Y,V,tt,ut){var Ot=1/Math.tan(Y/2),Bt;return m[0]=Ot/V,m[1]=0,m[2]=0,m[3]=0,m[4]=0,m[5]=Ot,m[6]=0,m[7]=0,m[8]=0,m[9]=0,m[11]=-1,m[12]=0,m[13]=0,m[15]=0,ut!=null&&ut!==1/0?(Bt=1/(tt-ut),m[10]=(ut+tt)*Bt,m[14]=2*ut*tt*Bt):(m[10]=-1,m[14]=-2*tt),m}var Sp=rv;function np(m,Y,V,tt,ut){var Ot=1/Math.tan(Y/2),Bt;return m[0]=Ot/V,m[1]=0,m[2]=0,m[3]=0,m[4]=0,m[5]=Ot,m[6]=0,m[7]=0,m[8]=0,m[9]=0,m[11]=-1,m[12]=0,m[13]=0,m[15]=0,ut!=null&&ut!==1/0?(Bt=1/(tt-ut),m[10]=ut*Bt,m[14]=ut*tt*Bt):(m[10]=-1,m[14]=-tt),m}function Ld(m,Y,V,tt){var ut=Math.tan(Y.upDegrees*Math.PI/180),Ot=Math.tan(Y.downDegrees*Math.PI/180),Bt=Math.tan(Y.leftDegrees*Math.PI/180),Ht=Math.tan(Y.rightDegrees*Math.PI/180),Jt=2/(Bt+Ht),oe=2/(ut+Ot);return m[0]=Jt,m[1]=0,m[2]=0,m[3]=0,m[4]=0,m[5]=oe,m[6]=0,m[7]=0,m[8]=-((Bt-Ht)*Jt*.5),m[9]=(ut-Ot)*oe*.5,m[10]=tt/(V-tt),m[11]=-1,m[12]=0,m[13]=0,m[14]=tt*V/(V-tt),m[15]=0,m}function nv(m,Y,V,tt,ut,Ot,Bt){var Ht=1/(Y-V),Jt=1/(tt-ut),oe=1/(Ot-Bt);return m[0]=-2*Ht,m[1]=0,m[2]=0,m[3]=0,m[4]=0,m[5]=-2*Jt,m[6]=0,m[7]=0,m[8]=0,m[9]=0,m[10]=2*oe,m[11]=0,m[12]=(Y+V)*Ht,m[13]=(ut+tt)*Jt,m[14]=(Bt+Ot)*oe,m[15]=1,m}var _e=nv;function tn(m,Y,V,tt,ut,Ot,Bt){var Ht=1/(Y-V),Jt=1/(tt-ut),oe=1/(Ot-Bt);return m[0]=-2*Ht,m[1]=0,m[2]=0,m[3]=0,m[4]=0,m[5]=-2*Jt,m[6]=0,m[7]=0,m[8]=0,m[9]=0,m[10]=oe,m[11]=0,m[12]=(Y+V)*Ht,m[13]=(ut+tt)*Jt,m[14]=Ot*oe,m[15]=1,m}function Z(m,Y,V,tt){var ut,Ot,Bt,Ht,Jt,oe,Se,Ye,ir,C,U=Y[0],it=Y[1],Lt=Y[2],Zt=tt[0],ve=tt[1],Me=tt[2],He=V[0],$e=V[1],zr=V[2];return Math.abs(U-He)<Kt.Ib&&Math.abs(it-$e)<Kt.Ib&&Math.abs(Lt-zr)<Kt.Ib?Sr(m):(Se=U-He,Ye=it-$e,ir=Lt-zr,C=1/Math.hypot(Se,Ye,ir),Se*=C,Ye*=C,ir*=C,ut=ve*ir-Me*Ye,Ot=Me*Se-Zt*ir,Bt=Zt*Ye-ve*Se,C=Math.hypot(ut,Ot,Bt),C?(C=1/C,ut*=C,Ot*=C,Bt*=C):(ut=0,Ot=0,Bt=0),Ht=Ye*Bt-ir*Ot,Jt=ir*ut-Se*Bt,oe=Se*Ot-Ye*ut,C=Math.hypot(Ht,Jt,oe),C?(C=1/C,Ht*=C,Jt*=C,oe*=C):(Ht=0,Jt=0,oe=0),m[0]=ut,m[1]=Ht,m[2]=Se,m[3]=0,m[4]=Ot,m[5]=Jt,m[6]=Ye,m[7]=0,m[8]=Bt,m[9]=oe,m[10]=ir,m[11]=0,m[12]=-(ut*U+Ot*it+Bt*Lt),m[13]=-(Ht*U+Jt*it+oe*Lt),m[14]=-(Se*U+Ye*it+ir*Lt),m[15]=1,m)}function w(m,Y,V,tt){var ut=Y[0],Ot=Y[1],Bt=Y[2],Ht=tt[0],Jt=tt[1],oe=tt[2],Se=ut-V[0],Ye=Ot-V[1],ir=Bt-V[2],C=Se*Se+Ye*Ye+ir*ir;C>0&&(C=1/Math.sqrt(C),Se*=C,Ye*=C,ir*=C);var U=Jt*ir-oe*Ye,it=oe*Se-Ht*ir,Lt=Ht*Ye-Jt*Se;return C=U*U+it*it+Lt*Lt,C>0&&(C=1/Math.sqrt(C),U*=C,it*=C,Lt*=C),m[0]=U,m[1]=it,m[2]=Lt,m[3]=0,m[4]=Ye*Lt-ir*it,m[5]=ir*U-Se*Lt,m[6]=Se*it-Ye*U,m[7]=0,m[8]=Se,m[9]=Ye,m[10]=ir,m[11]=0,m[12]=ut,m[13]=Ot,m[14]=Bt,m[15]=1,m}function hi(m){return"mat4("+m[0]+", "+m[1]+", "+m[2]+", "+m[3]+", "+m[4]+", "+m[5]+", "+m[6]+", "+m[7]+", "+m[8]+", "+m[9]+", "+m[10]+", "+m[11]+", "+m[12]+", "+m[13]+", "+m[14]+", "+m[15]+")"}function An(m){return Math.hypot(m[0],m[1],m[2],m[3],m[4],m[5],m[6],m[7],m[8],m[9],m[10],m[11],m[12],m[13],m[14],m[15])}function ua(m,Y,V){return m[0]=Y[0]+V[0],m[1]=Y[1]+V[1],m[2]=Y[2]+V[2],m[3]=Y[3]+V[3],m[4]=Y[4]+V[4],m[5]=Y[5]+V[5],m[6]=Y[6]+V[6],m[7]=Y[7]+V[7],m[8]=Y[8]+V[8],m[9]=Y[9]+V[9],m[10]=Y[10]+V[10],m[11]=Y[11]+V[11],m[12]=Y[12]+V[12],m[13]=Y[13]+V[13],m[14]=Y[14]+V[14],m[15]=Y[15]+V[15],m}function qo(m,Y,V){return m[0]=Y[0]-V[0],m[1]=Y[1]-V[1],m[2]=Y[2]-V[2],m[3]=Y[3]-V[3],m[4]=Y[4]-V[4],m[5]=Y[5]-V[5],m[6]=Y[6]-V[6],m[7]=Y[7]-V[7],m[8]=Y[8]-V[8],m[9]=Y[9]-V[9],m[10]=Y[10]-V[10],m[11]=Y[11]-V[11],m[12]=Y[12]-V[12],m[13]=Y[13]-V[13],m[14]=Y[14]-V[14],m[15]=Y[15]-V[15],m}function pi(m,Y,V){return m[0]=Y[0]*V,m[1]=Y[1]*V,m[2]=Y[2]*V,m[3]=Y[3]*V,m[4]=Y[4]*V,m[5]=Y[5]*V,m[6]=Y[6]*V,m[7]=Y[7]*V,m[8]=Y[8]*V,m[9]=Y[9]*V,m[10]=Y[10]*V,m[11]=Y[11]*V,m[12]=Y[12]*V,m[13]=Y[13]*V,m[14]=Y[14]*V,m[15]=Y[15]*V,m}function Nc(m,Y,V,tt){return m[0]=Y[0]+V[0]*tt,m[1]=Y[1]+V[1]*tt,m[2]=Y[2]+V[2]*tt,m[3]=Y[3]+V[3]*tt,m[4]=Y[4]+V[4]*tt,m[5]=Y[5]+V[5]*tt,m[6]=Y[6]+V[6]*tt,m[7]=Y[7]+V[7]*tt,m[8]=Y[8]+V[8]*tt,m[9]=Y[9]+V[9]*tt,m[10]=Y[10]+V[10]*tt,m[11]=Y[11]+V[11]*tt,m[12]=Y[12]+V[12]*tt,m[13]=Y[13]+V[13]*tt,m[14]=Y[14]+V[14]*tt,m[15]=Y[15]+V[15]*tt,m}function ks(m,Y){return m[0]===Y[0]&&m[1]===Y[1]&&m[2]===Y[2]&&m[3]===Y[3]&&m[4]===Y[4]&&m[5]===Y[5]&&m[6]===Y[6]&&m[7]===Y[7]&&m[8]===Y[8]&&m[9]===Y[9]&&m[10]===Y[10]&&m[11]===Y[11]&&m[12]===Y[12]&&m[13]===Y[13]&&m[14]===Y[14]&&m[15]===Y[15]}function uu(m,Y){var V=m[0],tt=m[1],ut=m[2],Ot=m[3],Bt=m[4],Ht=m[5],Jt=m[6],oe=m[7],Se=m[8],Ye=m[9],ir=m[10],C=m[11],U=m[12],it=m[13],Lt=m[14],Zt=m[15],ve=Y[0],Me=Y[1],He=Y[2],$e=Y[3],zr=Y[4],nn=Y[5],ln=Y[6],$n=Y[7],ii=Y[8],yi=Y[9],Ei=Y[10],mi=Y[11],di=Y[12],Ji=Y[13],us=Y[14],ls=Y[15];return Math.abs(V-ve)<=glMatrix.EPSILON*Math.max(1,Math.abs(V),Math.abs(ve))&&Math.abs(tt-Me)<=glMatrix.EPSILON*Math.max(1,Math.abs(tt),Math.abs(Me))&&Math.abs(ut-He)<=glMatrix.EPSILON*Math.max(1,Math.abs(ut),Math.abs(He))&&Math.abs(Ot-$e)<=glMatrix.EPSILON*Math.max(1,Math.abs(Ot),Math.abs($e))&&Math.abs(Bt-zr)<=glMatrix.EPSILON*Math.max(1,Math.abs(Bt),Math.abs(zr))&&Math.abs(Ht-nn)<=glMatrix.EPSILON*Math.max(1,Math.abs(Ht),Math.abs(nn))&&Math.abs(Jt-ln)<=glMatrix.EPSILON*Math.max(1,Math.abs(Jt),Math.abs(ln))&&Math.abs(oe-$n)<=glMatrix.EPSILON*Math.max(1,Math.abs(oe),Math.abs($n))&&Math.abs(Se-ii)<=glMatrix.EPSILON*Math.max(1,Math.abs(Se),Math.abs(ii))&&Math.abs(Ye-yi)<=glMatrix.EPSILON*Math.max(1,Math.abs(Ye),Math.abs(yi))&&Math.abs(ir-Ei)<=glMatrix.EPSILON*Math.max(1,Math.abs(ir),Math.abs(Ei))&&Math.abs(C-mi)<=glMatrix.EPSILON*Math.max(1,Math.abs(C),Math.abs(mi))&&Math.abs(U-di)<=glMatrix.EPSILON*Math.max(1,Math.abs(U),Math.abs(di))&&Math.abs(it-Ji)<=glMatrix.EPSILON*Math.max(1,Math.abs(it),Math.abs(Ji))&&Math.abs(Lt-us)<=glMatrix.EPSILON*Math.max(1,Math.abs(Lt),Math.abs(us))&&Math.abs(Zt-ls)<=glMatrix.EPSILON*Math.max(1,Math.abs(Zt),Math.abs(ls))}var ac=null,Ja=null,Wu,lf,oc,ha,sc,uc,fl,Rf,Qh,kc,lc,Fa,Ri,ds,co,Ff,Vu,cf,Jh,cc,hl,fc,Ml,qh;function ff(m,Y){var V;if(typeof Symbol=="undefined"||m[Symbol.iterator]==null){if(Array.isArray(m)||(V=Il(m))||Y&&m&&typeof m.length=="number"){V&&(m=V);var tt=0,ut=function(){};return{s:ut,n:function(){return tt>=m.length?{done:!0}:{done:!1,value:m[tt++]}},e:function(oe){throw oe},f:ut}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ot=!0,Bt=!1,Ht;return{s:function(){V=m[Symbol.iterator]()},n:function(){var oe=V.next();return Ot=oe.done,oe},e:function(oe){Bt=!0,Ht=oe},f:function(){try{!Ot&&V.return!=null&&V.return()}finally{if(Bt)throw Ht}}}}function Il(m,Y){if(!!m){if(typeof m=="string")return Ol(m,Y);var V=Object.prototype.toString.call(m).slice(8,-1);if(V==="Object"&&m.constructor&&(V=m.constructor.name),V==="Map"||V==="Set")return Array.from(m);if(V==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(V))return Ol(m,Y)}}function Ol(m,Y){(Y==null||Y>m.length)&&(Y=m.length);for(var V=0,tt=new Array(Y);V<Y;V++)tt[V]=m[V];return tt}var Hu=(Wu=(0,nt.b2)(),lf=(0,nt.f3)(ct.MeshComponentManager),oc=(0,nt.f3)(ct.GeometryComponentManager),ha=(0,nt.f3)(ct.MaterialComponentManager),sc=(0,nt.f3)(ct.CullableComponentManager),uc=(0,nt.f3)(ct.TransformComponentManager),fl=(0,nt.f3)(ct.HierarchyComponentManager),Rf=(0,nt.f3)(ct.Systems),Qh=(0,nt.t6)(ct.FrameGraphSystem),kc=(0,nt.f3)(ct.RenderEngine),lc=(0,nt.f3)(ct.ResourcePool),Wu(Fa=(Ri=(qh=Ml=function(){function m(){var Y=this;_()(this,m),b()(this,"mesh",ds,this),b()(this,"geometry",co,this),b()(this,"material",Ff,this),b()(this,"cullable",Vu,this),b()(this,"transform",cf,this),b()(this,"hierarchy",Jh,this),b()(this,"frameGraphSystem",cc,this),b()(this,"engine",hl,this),b()(this,"resourcePool",fc,this),this.modelCache={},this.setup=function(V,tt,ut){var Ot=V.createRenderTarget(tt,"color buffer",{width:1,height:1,usage:Br.RENDER_ATTACHMENT|Br.SAMPLED|Br.COPY_SRC});ut.data={output:tt.write(V,Ot)}},this.execute=function(){var V=z()(k().mark(function tt(ut,Ot,Bt){var Ht,Jt,oe,Se,Ye,ir;return k().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:Ht=ut.getResourceNode(Ot.data.output),Jt=Y.resourcePool.getOrCreateResource(Ht.resource),oe=ff(Bt),U.prev=3,oe.s();case 5:if((Se=oe.n()).done){U.next=11;break}return Ye=Se.value,U.next=9,Y.initView(Ye);case 9:U.next=5;break;case 11:U.next=16;break;case 13:U.prev=13,U.t0=U.catch(3),oe.e(U.t0);case 16:return U.prev=16,oe.f(),U.finish(16);case 19:ir=Y.engine.getCanvas(),Jt.resize({width:ir.width,height:ir.height}),Y.engine.setScissor({enable:!1}),Y.engine.clear({framebuffer:Jt,color:Bt[0].getClearColor(),depth:1}),Y.engine.useFramebuffer(Jt,function(){var it=ff(Bt),Lt;try{for(it.s();!(Lt=it.n()).done;){var Zt=Lt.value;Y.renderView(Zt)}}catch(ve){it.e(ve)}finally{it.f()}});case 24:case"end":return U.stop()}},tt,null,[[3,13,16,19]])}));return function(tt,ut,Ot){return V.apply(this,arguments)}}()}return T()(m,[{key:"renderView",value:function(V){var tt=V.getScene(),ut=V.getCamera(),Ot=ut.getViewTransform(),Bt=xa(Ns(),ut.getPerspective(),Ot);ut.getFrustum().extractFromVPMatrix(Bt);var Ht=V.getViewport(),Jt=Ht.x,oe=Ht.y,Se=Ht.width,Ye=Ht.height;this.engine.viewport({x:Jt,y:oe,width:Se,height:Ye});var ir=ff(tt.getEntities()),C;try{for(ir.s();!(C=ir.n()).done;){var U=C.value;this.renderMesh(U,{camera:ut,view:V,viewMatrix:Ot})}}catch(it){ir.e(it)}finally{ir.f()}}},{key:"renderMesh",value:function(V,tt){var ut=tt.camera,Ot=tt.view,Bt=tt.viewMatrix,Ht=this.mesh.getComponentByEntity(V);if(!(!Ht||!Ht.visible)){var Jt=Ht.material,oe=Ht.geometry;if(!(!oe||oe.dirty||!Jt)){var Se=this.transform.getComponentByEntity(V),Ye=xa(Ns(),Bt,Se.worldTransform),ir=Ot.getViewport(),C=ir.width,U=ir.height;Jt.setUniform({projectionMatrix:ut.getPerspective(),modelViewMatrix:Ye,modelMatrix:Se.worldTransform,viewMatrix:Bt,cameraPosition:ut.getPosition(),u_viewport:[C,U]}),Ht.model&&(Ht.model.draw({uniforms:Jt.uniforms.reduce(function(it,Lt){return it[Lt.name]=Lt.data,it},{})}),Jt.uniforms.forEach(function(it){it.dirty=!1}),Jt.dirty=!1)}}}},{key:"initMesh",value:function(){var Y=z()(k().mark(function tt(ut,Ot){var Bt,Ht,Jt,oe,Se,Ye,ir,C;return k().wrap(function(it){for(;;)switch(it.prev=it.next){case 0:if(Bt=this.mesh.getComponentByEntity(ut),Bt){it.next=3;break}return it.abrupt("return");case 3:if(Ht=Bt.material,Jt=Bt.geometry,!(!Jt||Jt.dirty||!Ht)){it.next=7;break}return it.abrupt("return");case 7:if(Bt.model){it.next=24;break}if(oe="m-".concat(Ht.entity,"-g-").concat(Jt.entity),!this.modelCache[oe]){it.next=12;break}return Bt.model=this.modelCache[oe],it.abrupt("return");case 12:return Ht.setUniform({projectionMatrix:1,modelViewMatrix:1,modelMatrix:1,viewMatrix:1,cameraPosition:1,u_viewport:1}),Se=this.engine,Ye=Se.createModel,ir=Se.createAttribute,C={vs:Ht.vertexShaderGLSL,fs:Ht.fragmentShaderGLSL,defines:Ht.defines,attributes:Jt.attributes.reduce(function(Lt,Zt){return Zt.data&&Zt.buffer&&(Lt[Zt.name]=ir({buffer:Zt.buffer,attributes:Zt.attributes,arrayStride:Zt.arrayStride,stepMode:Zt.stepMode,divisor:Zt.stepMode==="vertex"?0:1})),Lt},{}),uniforms:Ht.uniforms.reduce(function(Lt,Zt){return Lt[Zt.name]=Zt.data,Lt},{}),scissor:{enable:!0,box:function(){return Ot.getViewport()}}},Ht.cull&&(C.cull=Ht.cull),Ht.depth&&(C.depth=Ht.depth),Ht.blend&&(C.blend=Ht.blend),Jt.indicesBuffer&&(C.elements=Jt.indicesBuffer),Jt.maxInstancedCount&&(C.instances=Jt.maxInstancedCount,C.count=Jt.vertexCount||3),it.next=22,Ye(C);case 22:Bt.model=it.sent,this.modelCache[oe]=Bt.model;case 24:case"end":return it.stop()}},tt,this)}));function V(tt,ut){return Y.apply(this,arguments)}return V}()},{key:"initView",value:function(){var Y=z()(k().mark(function tt(ut){var Ot,Bt,Ht,Jt;return k().wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:Ot=ut.getScene(),Bt=ff(Ot.getEntities()),Se.prev=2,Bt.s();case 4:if((Ht=Bt.n()).done){Se.next=10;break}return Jt=Ht.value,Se.next=8,this.initMesh(Jt,ut);case 8:Se.next=4;break;case 10:Se.next=15;break;case 12:Se.prev=12,Se.t0=Se.catch(2),Bt.e(Se.t0);case 15:return Se.prev=15,Bt.f(),Se.finish(15);case 18:case"end":return Se.stop()}},tt,this,[[2,12,15,18]])}));function V(tt){return Y.apply(this,arguments)}return V}()}]),m}(),Ml.IDENTIFIER="Render Pass",qh),ds=M()(Ri.prototype,"mesh",[lf],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),co=M()(Ri.prototype,"geometry",[oc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ff=M()(Ri.prototype,"material",[ha],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vu=M()(Ri.prototype,"cullable",[sc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),cf=M()(Ri.prototype,"transform",[uc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jh=M()(Ri.prototype,"hierarchy",[fl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),cc=M()(Ri.prototype,"frameGraphSystem",[Rf,Qh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hl=M()(Ri.prototype,"engine",[kc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fc=M()(Ri.prototype,"resourcePool",[lc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ri))||Fa),vh,Yu,Rd,vi,uo,Ki,Dl,td,dl,hc,dc,bs,Nf;function Ks(m,Y){var V;if(typeof Symbol=="undefined"||m[Symbol.iterator]==null){if(Array.isArray(m)||(V=Os(m))||Y&&m&&typeof m.length=="number"){V&&(m=V);var tt=0,ut=function(){};return{s:ut,n:function(){return tt>=m.length?{done:!0}:{done:!1,value:m[tt++]}},e:function(oe){throw oe},f:ut}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ot=!0,Bt=!1,Ht;return{s:function(){V=m[Symbol.iterator]()},n:function(){var oe=V.next();return Ot=oe.done,oe},e:function(oe){Bt=!0,Ht=oe},f:function(){try{!Ot&&V.return!=null&&V.return()}finally{if(Bt)throw Ht}}}}function Os(m,Y){if(!!m){if(typeof m=="string")return Xu(m,Y);var V=Object.prototype.toString.call(m).slice(8,-1);if(V==="Object"&&m.constructor&&(V=m.constructor.name),V==="Map"||V==="Set")return Array.from(m);if(V==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(V))return Xu(m,Y)}}function Xu(m,Y){(Y==null||Y>m.length)&&(Y=m.length);for(var V=0,tt=new Array(Y);V<Y;V++)tt[V]=m[V];return tt}var Pl={NONE:0,ENCODE:1,HIGHLIGHT:2},Ao=(vh=(0,nt.b2)(),Yu=(0,nt.f3)(ct.RenderEngine),Rd=(0,nt.f3)(ct.ResourcePool),vi=(0,nt.f3)(ct.RenderPassFactory),uo=(0,nt.f3)(ct.MeshComponentManager),vh(Ki=(Dl=(Nf=bs=function(){function m(){var Y=this;_()(this,m),b()(this,"engine",td,this),b()(this,"resourcePool",dl,this),b()(this,"renderPassFactory",hc,this),b()(this,"mesh",dc,this),this.pickingFBO=void 0,this.views=void 0,this.highlightEnabled=!0,this.highlightColor=[255,0,0,255],this.alreadyInRendering=!1,this.setup=function(V,tt,ut){var Ot=V.createRenderTarget(tt,"picking fbo",{width:1,height:1});ut.data={output:tt.write(V,Ot)},tt.hasSideEffect=!0},this.execute=function(){var V=z()(k().mark(function tt(ut,Ot,Bt){var Ht,Jt,oe;return k().wrap(function(Ye){for(;;)switch(Ye.prev=Ye.next){case 0:if(Y.views=Bt,!Y.alreadyInRendering){Ye.next=3;break}return Ye.abrupt("return");case 3:Ht=Ks(Bt);try{for(oe=function(){var C=Jt.value,U=C.getViewport(),it=U.width,Lt=U.height;Y.alreadyInRendering=!0;var Zt=ut.getResourceNode(Ot.data.output);Y.pickingFBO=Y.resourcePool.getOrCreateResource(Zt.resource),Y.pickingFBO.resize({width:it,height:Lt}),Y.engine.useFramebuffer(Y.pickingFBO,function(){Y.engine.clear({framebuffer:Y.pickingFBO,color:[0,0,0,0],stencil:0,depth:1});var ve=Y.renderPassFactory(Hu.IDENTIFIER),Me=[],He=C.getScene(),$e=Ks(He.getEntities()),zr;try{for($e.s();!(zr=$e.n()).done;){var nn=zr.value,ln=Y.mesh.getComponentByEntity(nn),$n=ln.material;$n.setUniform("u_PickingStage",Pl.ENCODE),Me.push(ln)}}catch(ii){$e.e(ii)}finally{$e.f()}ve.renderView(C),Me.forEach(function(ii){var yi=ii.material;yi.setUniform("u_PickingStage",Pl.HIGHLIGHT)}),Y.alreadyInRendering=!1})},Ht.s();!(Jt=Ht.n()).done;)oe()}catch(ir){Ht.e(ir)}finally{Ht.f()}case 5:case"end":return Ye.stop()}},tt)}));return function(tt,ut,Ot){return V.apply(this,arguments)}}(),this.pick=function(V,tt){var ut=V.x,Ot=V.y,Bt=Y.engine,Ht=Bt.readPixels,Jt=Bt.useFramebuffer,oe=tt.getViewport(),Se=oe.width,Ye=oe.height,ir=ut*window.devicePixelRatio,C=Ot*window.devicePixelRatio;if(!(ir>Se||ir<0||C>Ye||C<0)){var U,it;return Jt(Y.pickingFBO,function(){U=Ht({x:Math.round(ir),y:Math.round(Ye-(Ot+1)*window.devicePixelRatio),width:1,height:1,data:new Uint8Array(1*1*4),framebuffer:Y.pickingFBO}),(U[0]!==0||U[1]!==0||U[2]!==0)&&(it=Uu(U),Y.highlightEnabled&&Y.highlightPickedFeature(U,tt))}),it}}}return T()(m,[{key:"enableHighlight",value:function(V){this.highlightEnabled=V}},{key:"setHighlightColor",value:function(V){this.highlightColor=V}},{key:"highlightPickedFeature",value:function(V,tt){if(V){var ut=Ks(tt.getScene().getEntities()),Ot;try{for(ut.s();!(Ot=ut.n()).done;){var Bt=Ot.value,Ht=this.mesh.getComponentByEntity(Bt),Jt=Ht.material;Jt.setUniform("u_PickingStage",Pl.HIGHLIGHT),Jt.setUniform("u_PickingColor",[V[0],V[1],V[2]]),Jt.setUniform("u_HighlightColor",this.highlightColor)}}catch(oe){ut.e(oe)}finally{ut.f()}}}}]),m}(),bs.IDENTIFIER="PixelPicking Pass",Nf),td=M()(Dl.prototype,"engine",[Yu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dl=M()(Dl.prototype,"resourcePool",[Rd],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hc=M()(Dl.prototype,"renderPassFactory",[vi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dc=M()(Dl.prototype,"mesh",[uo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dl))||Ki),kf,$u,vl,Co,Uo,Ku,is,Ds,Re,mu=`varying vec2 v_UV;

uniform sampler2D u_Texture;

void main() {
  gl_FragColor = vec4(texture2D(u_Texture, v_UV));
}`,Es=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`,Zs=`layout(set = 0, binding = 0) uniform sampler u_TextureSampler;
layout(set = 0, binding = 1) uniform texture2D u_Texture;

layout(location = 0) in vec2 v_UV;
layout(location = 0) out vec4 outColor;

void main() {
  outColor = texture(sampler2D(u_Texture, u_TextureSampler), v_UV);
}`,wa=`layout(location = 0) in vec2 a_Position;
layout(location = 0) out vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`,ed=(kf=(0,nt.b2)(),$u=(0,nt.f3)(ct.RenderEngine),vl=(0,nt.f3)(ct.ResourcePool),kf(Co=(Uo=(Re=Ds=function m(){var Y=this;_()(this,m),b()(this,"engine",Ku,this),b()(this,"resourcePool",is,this),this.model=void 0,this.setup=function(V,tt,ut){var Ot=V.getPass(Hu.IDENTIFIER);if(Ot){var Bt=V.createRenderTarget(tt,"render to screen",{width:1,height:1});ut.data={input:tt.read(Ot.data.output),output:tt.write(V,Bt)}}},this.execute=function(){var V=z()(k().mark(function tt(ut,Ot){var Bt,Ht,Jt,oe,Se,Ye,ir;return k().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(Bt=Y.engine,Ht=Bt.createModel,Jt=Bt.createAttribute,oe=Bt.createBuffer,Y.model){U.next=6;break}return U.next=4,Ht({vs:Y.engine.supportWebGPU?wa:Es,fs:Y.engine.supportWebGPU?Zs:mu,attributes:{a_Position:Jt({buffer:oe({data:[-4,-4,4,-4,0,4],type:Br.FLOAT}),size:2,arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]})},uniforms:{u_Texture:null},depth:{enable:!1},count:3,blend:{enable:!0}});case 4:Se=U.sent,Y.model=Se;case 6:Ye=ut.getResourceNode(Ot.data.input),ir=Y.resourcePool.getOrCreateResource(Ye.resource),Y.engine.useFramebuffer(null,function(){Y.engine.clear({framebuffer:null,color:[0,0,0,0],depth:1,stencil:0}),Y.model.draw({uniforms:{u_Texture:ir}})});case 9:case"end":return U.stop()}},tt)}));return function(tt,ut){return V.apply(this,arguments)}}(),this.tearDown=function(){Y.model=void 0}},Ds.IDENTIFIER="Copy Pass",Re),Ku=M()(Uo.prototype,"engine",[$u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),is=M()(Uo.prototype,"resourcePool",[vl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Uo))||Co),Ss,rd,lu,vc,ph,gh,pc,Bc,pl,Fd,Dv,nd,Nd,id=(Ss=(0,nt.b2)(),rd=(0,nt.f3)(ct.Systems),lu=(0,nt.t6)(ct.FrameGraphSystem),vc=(0,nt.f3)(ct.RenderPassFactory),ph=(0,nt.f3)(ct.ConfigService),gh=(0,nt.f3)(ct.ResourcePool),Ss(pc=(Bc=(Nd=function(){function m(){_()(this,m),b()(this,"frameGraphSystem",pl,this),b()(this,"renderPassFactory",Fd,this),b()(this,"configService",Dv,this),b()(this,"resourcePool",nd,this)}return T()(m,[{key:"execute",value:function(){var Y=z()(k().mark(function tt(ut){var Ot,Bt,Ht,Jt,oe,Se,Ye,ir,C;return k().wrap(function(it){for(;;)switch(it.prev=it.next){case 0:Ot=this.renderPassFactory(Hu.IDENTIFIER),Bt=Ot.setup,Ht=Ot.execute,Jt=this.frameGraphSystem.addPass(Hu.IDENTIFIER,Bt,Ht),oe=this.renderPassFactory(ed.IDENTIFIER),Se=oe.setup,Ye=oe.execute,ir=oe.tearDown,C=this.frameGraphSystem.addPass(ed.IDENTIFIER,Se,Ye,ir),this.frameGraphSystem.present(C.data.output);case 5:case"end":return it.stop()}},tt,this)}));function V(tt){return Y.apply(this,arguments)}return V}()},{key:"tearDown",value:function(){this.resourcePool.clean()}},{key:"pick",value:function(V,tt){var ut=this.renderPassFactory(Ao.IDENTIFIER);return ut.pick(V,tt)}}]),m}(),Nd),pl=M()(Bc.prototype,"frameGraphSystem",[rd,lu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fd=M()(Bc.prototype,"renderPassFactory",[vc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dv=M()(Bc.prototype,"configService",[ph],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nd=M()(Bc.prototype,"resourcePool",[gh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bc))||pc);function gc(m){var Y=Pv();return function(){var tt=Et()(m),ut;if(Y){var Ot=Et()(this).constructor;ut=Reflect.construct(tt,arguments,Ot)}else ut=tt.apply(this,arguments);return gt()(this,ut)}}function Pv(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(m){return!1}}var kd=function(m){vt()(V,m);var Y=gc(V);function V(tt){var ut;return _()(this,V),ut=Y.call(this,tt),ut.parentID=void 0,Object.assign(Xt()(ut),tt),ut}return V}(lt),iv,cu,yh,Ll,ad,ts,Qs,mh,hf,fu,gl=(iv=(0,nt.b2)(),cu=(0,nt.f3)(ct.HierarchyComponentManager),yh=(0,nt.f3)(ct.TransformComponentManager),Ll=(0,nt.f3)(ct.MeshComponentManager),iv(ad=(ts=(fu=function(){function m(){_()(this,m),b()(this,"hierarchy",Qs,this),b()(this,"transform",mh,this),b()(this,"mesh",hf,this)}return T()(m,[{key:"execute",value:function(){var Y=z()(k().mark(function tt(){return k().wrap(function(Ot){for(;;)switch(Ot.prev=Ot.next){case 0:this.runTransformUpdateSystem(),this.runHierarchyUpdateSystem();case 2:case"end":return Ot.stop()}},tt,this)}));function V(){return Y.apply(this,arguments)}return V}()},{key:"tearDown",value:function(){this.hierarchy.clear(),this.transform.clear()}},{key:"getHierarchyComponentManager",value:function(){return this.hierarchy}},{key:"getTransformComponentManager",value:function(){return this.transform}},{key:"runTransformUpdateSystem",value:function(){var V=this;this.transform.forEach(function(tt,ut){(ut.isDirty()||ut.isLocalDirty())&&(V.setMeshAABBDirty(V.mesh.getComponentByEntity(tt)),ut.updateTransform())})}},{key:"runHierarchyUpdateSystem",value:function(){var V=this;this.hierarchy.forEach(function(tt,ut){var Ot=V.transform.getComponentByEntity(tt),Bt=V.transform.getComponentByEntity(ut.parentID);Ot!==null&&Bt!==null&&Ot.updateTransformWithParent(Bt)})}},{key:"attach",value:function(V,tt,ut){this.hierarchy.contains(V)&&this.detach(V),this.hierarchy.create(V,{parentID:tt});var Ot=this.mesh.getComponentByEntity(tt);if(this.setMeshAABBDirty(Ot),Ot&&Ot.children.indexOf(V)===-1&&Ot.children.push(V),this.hierarchy.getCount()>1)for(var Bt=this.hierarchy.getCount()-1;Bt>0;--Bt)for(var Ht=this.hierarchy.getEntity(Bt),Jt=0;Jt<Bt;++Jt){var oe=this.hierarchy.getComponent(Jt);if(oe.parentID===Ht){this.hierarchy.moveItem(Bt,Jt),++Bt;break}}var Se=this.hierarchy.getComponentByEntity(V),Ye=this.transform.getComponentByEntity(tt);Ye===null&&(Ye=this.transform.create(tt));var ir=this.transform.getComponentByEntity(V);ir===null&&(ir=this.transform.create(V),Ye=this.transform.getComponentByEntity(tt)),ir.parent=Ye,!ut&&Ye&&(ir.matrixTransform(Pn(Ns(),Ye.worldTransform)),ir.updateTransform()),Ye&&ir.updateTransformWithParent(Ye)}},{key:"detach",value:function(V){var tt=this.hierarchy.getComponentByEntity(V);if(tt!==null){var ut=this.transform.getComponentByEntity(V);ut!==null&&(ut.parent=null,ut.applyTransform()),this.hierarchy.removeKeepSorted(V);var Ot=this.mesh.getComponentByEntity(tt.parentID);if(Ot){var Bt=Ot.children.indexOf(V);Ot.children.splice(Bt,1)}this.setMeshAABBDirty(Ot)}}},{key:"detachChildren",value:function(V){var tt=this.mesh.getComponentByEntity(V);tt&&(tt.children=[]);for(var ut=0;ut<this.hierarchy.getCount();){var Ot;if(((Ot=this.hierarchy.getComponent(ut))===null||Ot===void 0?void 0:Ot.parentID)===V){var Bt=this.hierarchy.getEntity(ut);this.detach(Bt)}else++ut}}},{key:"setMeshAABBDirty",value:function(V){V&&(V.aabbDirty=!0)}}]),m}(),fu),Qs=M()(ts.prototype,"hierarchy",[cu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mh=M()(ts.prototype,"transform",[yh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hf=M()(ts.prototype,"mesh",[Ll],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ts))||ad);function ws(){var m=new Kt.WT(4);return Kt.WT!=Float32Array&&(m[0]=0,m[1]=0,m[2]=0),m[3]=1,m}function wp(m){return m[0]=0,m[1]=0,m[2]=0,m[3]=1,m}function vs(m,Y,V){V=V*.5;var tt=Math.sin(V);return m[0]=tt*Y[0],m[1]=tt*Y[1],m[2]=tt*Y[2],m[3]=Math.cos(V),m}function Bd(m,Y){var V=Math.acos(Y[3])*2,tt=Math.sin(V/2);return tt>glMatrix.EPSILON?(m[0]=Y[0]/tt,m[1]=Y[1]/tt,m[2]=Y[2]/tt):(m[0]=1,m[1]=0,m[2]=0),V}function od(m,Y){var V=cd(m,Y);return Math.acos(2*V*V-1)}function Da(m,Y,V){var tt=Y[0],ut=Y[1],Ot=Y[2],Bt=Y[3],Ht=V[0],Jt=V[1],oe=V[2],Se=V[3];return m[0]=tt*Se+Bt*Ht+ut*oe-Ot*Jt,m[1]=ut*Se+Bt*Jt+Ot*Ht-tt*oe,m[2]=Ot*Se+Bt*oe+tt*Jt-ut*Ht,m[3]=Bt*Se-tt*Ht-ut*Jt-Ot*oe,m}function Zu(m,Y,V){V*=.5;var tt=Y[0],ut=Y[1],Ot=Y[2],Bt=Y[3],Ht=Math.sin(V),Jt=Math.cos(V);return m[0]=tt*Jt+Bt*Ht,m[1]=ut*Jt+Ot*Ht,m[2]=Ot*Jt-ut*Ht,m[3]=Bt*Jt-tt*Ht,m}function Gc(m,Y,V){V*=.5;var tt=Y[0],ut=Y[1],Ot=Y[2],Bt=Y[3],Ht=Math.sin(V),Jt=Math.cos(V);return m[0]=tt*Jt-Ot*Ht,m[1]=ut*Jt+Bt*Ht,m[2]=Ot*Jt+tt*Ht,m[3]=Bt*Jt-ut*Ht,m}function Lv(m,Y,V){V*=.5;var tt=Y[0],ut=Y[1],Ot=Y[2],Bt=Y[3],Ht=Math.sin(V),Jt=Math.cos(V);return m[0]=tt*Jt+ut*Ht,m[1]=ut*Jt-tt*Ht,m[2]=Ot*Jt+Bt*Ht,m[3]=Bt*Jt-Ot*Ht,m}function xh(m,Y){var V=Y[0],tt=Y[1],ut=Y[2];return m[0]=V,m[1]=tt,m[2]=ut,m[3]=Math.sqrt(Math.abs(1-V*V-tt*tt-ut*ut)),m}function bh(m,Y){var V=Y[0],tt=Y[1],ut=Y[2],Ot=Y[3],Bt=Math.sqrt(V*V+tt*tt+ut*ut),Ht=Math.exp(Ot),Jt=Bt>0?Ht*Math.sin(Bt)/Bt:0;return m[0]=V*Jt,m[1]=tt*Jt,m[2]=ut*Jt,m[3]=Ht*Math.cos(Bt),m}function _a(m,Y){var V=Y[0],tt=Y[1],ut=Y[2],Ot=Y[3],Bt=Math.sqrt(V*V+tt*tt+ut*ut),Ht=Bt>0?Math.atan2(Bt,Ot)/Bt:0;return m[0]=V*Ht,m[1]=tt*Ht,m[2]=ut*Ht,m[3]=.5*Math.log(V*V+tt*tt+ut*ut+Ot*Ot),m}function To(m,Y,V){return _a(m,Y),ld(m,m,V),bh(m,m),m}function Qu(m,Y,V,tt){var ut=Y[0],Ot=Y[1],Bt=Y[2],Ht=Y[3],Jt=V[0],oe=V[1],Se=V[2],Ye=V[3],ir,C,U,it,Lt;return C=ut*Jt+Ot*oe+Bt*Se+Ht*Ye,C<0&&(C=-C,Jt=-Jt,oe=-oe,Se=-Se,Ye=-Ye),1-C>Kt.Ib?(ir=Math.acos(C),U=Math.sin(ir),it=Math.sin((1-tt)*ir)/U,Lt=Math.sin(tt*ir)/U):(it=1-tt,Lt=tt),m[0]=it*ut+Lt*Jt,m[1]=it*Ot+Lt*oe,m[2]=it*Bt+Lt*Se,m[3]=it*Ht+Lt*Ye,m}function Ua(m){var Y=glMatrix.RANDOM(),V=glMatrix.RANDOM(),tt=glMatrix.RANDOM(),ut=Math.sqrt(1-Y),Ot=Math.sqrt(Y);return m[0]=ut*Math.sin(2*Math.PI*V),m[1]=ut*Math.cos(2*Math.PI*V),m[2]=Ot*Math.sin(2*Math.PI*tt),m[3]=Ot*Math.cos(2*Math.PI*tt),m}function yc(m,Y){var V=Y[0],tt=Y[1],ut=Y[2],Ot=Y[3],Bt=V*V+tt*tt+ut*ut+Ot*Ot,Ht=Bt?1/Bt:0;return m[0]=-V*Ht,m[1]=-tt*Ht,m[2]=-ut*Ht,m[3]=Ot*Ht,m}function xu(m,Y){return m[0]=-Y[0],m[1]=-Y[1],m[2]=-Y[2],m[3]=Y[3],m}function sd(m,Y){var V=Y[0]+Y[4]+Y[8],tt;if(V>0)tt=Math.sqrt(V+1),m[3]=.5*tt,tt=.5/tt,m[0]=(Y[5]-Y[7])*tt,m[1]=(Y[6]-Y[2])*tt,m[2]=(Y[1]-Y[3])*tt;else{var ut=0;Y[4]>Y[0]&&(ut=1),Y[8]>Y[ut*3+ut]&&(ut=2);var Ot=(ut+1)%3,Bt=(ut+2)%3;tt=Math.sqrt(Y[ut*3+ut]-Y[Ot*3+Ot]-Y[Bt*3+Bt]+1),m[ut]=.5*tt,tt=.5/tt,m[3]=(Y[Ot*3+Bt]-Y[Bt*3+Ot])*tt,m[Ot]=(Y[Ot*3+ut]+Y[ut*3+Ot])*tt,m[Bt]=(Y[Bt*3+ut]+Y[ut*3+Bt])*tt}return m}function Js(m,Y,V,tt){var ut=.5*Math.PI/180;Y*=ut,V*=ut,tt*=ut;var Ot=Math.sin(Y),Bt=Math.cos(Y),Ht=Math.sin(V),Jt=Math.cos(V),oe=Math.sin(tt),Se=Math.cos(tt);return m[0]=Ot*Jt*Se-Bt*Ht*oe,m[1]=Bt*Ht*Se+Ot*Jt*oe,m[2]=Bt*Jt*oe-Ot*Ht*Se,m[3]=Bt*Jt*Se+Ot*Ht*oe,m}function df(m){return"quat("+m[0]+", "+m[1]+", "+m[2]+", "+m[3]+")"}var Rv=ur,Eh=tr,Ps=re,ud=Qr,av=Ir,Bs=Da,ld=hn,cd=jr,hu=Ut,Bf=Fn,dr=null,zc=xe,Uc=null,jo=br,Rl=ue,Gf=ie,Gd=function(){var m=me.Ue(),Y=me.al(1,0,0),V=me.al(0,1,0);return function(tt,ut,Ot){var Bt=me.AK(ut,Ot);return Bt<-.999999?(me.kC(m,Y,ut),me.Zh(m)<1e-6&&me.kC(m,V,ut),me.Fv(m,m),vs(tt,m,Math.PI),tt):Bt>.999999?(tt[0]=0,tt[1]=0,tt[2]=0,tt[3]=1,tt):(me.kC(m,ut,Ot),tt[0]=m[0],tt[1]=m[1],tt[2]=m[2],tt[3]=1+Bt,jo(tt,tt))}}(),Sh=function(){var m=ws(),Y=ws();return function(V,tt,ut,Ot,Bt,Ht){return Qu(m,tt,Bt,Ht),Qu(Y,ut,Ot,Ht),Qu(V,m,Y,2*Ht*(1-Ht)),V}}(),Lu=function(){var m=kn.create();return function(Y,V,tt,ut){return m[0]=tt[0],m[3]=tt[1],m[6]=tt[2],m[1]=ut[0],m[4]=ut[1],m[7]=ut[2],m[2]=-V[0],m[5]=-V[1],m[8]=-V[2],jo(Y,sd(Y,m))}}();function vf(m){var Y=zf();return function(){var tt=Et()(m),ut;if(Y){var Ot=Et()(this).constructor;ut=Reflect.construct(tt,arguments,Ot)}else ut=tt.apply(this,arguments);return gt()(this,ut)}}function zf(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(m){return!1}}var Uf=function(m){vt()(V,m);var Y=vf(V);function V(tt){var ut;return _()(this,V),ut=Y.call(this,tt),ut.dirtyFlag=void 0,ut.localDirtyFlag=void 0,ut.parent=null,ut.localPosition=me.al(0,0,0),ut.localRotation=Eh(0,0,0,1),ut.localScale=me.al(1,1,1),ut.localTransform=Ns(),ut.position=me.al(0,0,0),ut.rotation=Eh(0,0,0,1),ut.scaling=me.al(1,1,1),ut.worldTransform=Ns(),ut.matrixTransform=function(){var Ot=Ns();return function(Bt){xa(Ot,ut.getLocalTransform(),Bt),Lf(ut.localScale,Ot),Fc(ut.localPosition,Ot),$s(ut.localRotation,Ot)}}(),ut.rotateRollPitchYaw=function(){var Ot=ws(),Bt=ws(),Ht=ws();return function(Jt,oe,Se){ut.setDirty(),Js(Ot,Jt,0,0),Js(Bt,0,oe,0),Js(Ht,0,0,Se),Da(ut.localRotation,Ot,ut.localRotation),Da(ut.localRotation,ut.localRotation,Bt),Da(ut.localRotation,Ht,ut.localRotation),jo(ut.localRotation,ut.localRotation)}}(),ut.lerp=function(){var Ot=me.Ue(),Bt=ws(),Ht=me.Ue(),Jt=me.Ue(),oe=ws(),Se=me.Ue();return function(Ye,ir,C){ut.setDirty(),Lf(Ot,Ye.worldTransform),Fc(Ht,Ye.worldTransform),$s(Bt,Ye.worldTransform),Lf(Jt,ir.worldTransform),Fc(Se,ir.worldTransform),$s(oe,ir.worldTransform),me.t7(ut.localScale,Ot,Jt,C),Qu(ut.localRotation,Bt,oe,C),me.t7(ut.localPosition,Ht,Se,C)}}(),ut.translate=function(){var Ot=me.Ue();return function(Bt){return me.IH(Ot,ut.getPosition(),Bt),ut.setPosition(Ot),ut.setDirty(!0),Xt()(ut)}}(),ut.translateLocal=function(){return function(Ot){return me.VC(Ot,Ot,ut.localRotation),me.IH(ut.localPosition,ut.localPosition,Ot),ut.setLocalDirty(!0),Xt()(ut)}}(),ut.setPosition=function(){var Ot=Ns();return function(Bt){return ut.position=Bt,ut.setLocalDirty(!0),ut.parent===null?me.JG(ut.localPosition,Bt):(ju(Ot,ut.parent.worldTransform),Pn(Ot,Ot),me.fF(ut.localPosition,Bt,Ot)),Xt()(ut)}}(),ut.rotate=function(){var Ot=ws();return function(Bt){if(ut.parent===null)Da(ut.localRotation,ut.localRotation,Bt),jo(ut.localRotation,ut.localRotation);else{var Ht=ut.getRotation(),Jt=ut.parent.getRotation();Ps(Ot,Jt),yc(Ot,Ot),Da(Ot,Ot,Bt),Da(ut.localRotation,Bt,Ht),jo(ut.localRotation,ut.localRotation)}return ut.setLocalDirty(),Xt()(ut)}}(),ut.rotateLocal=function(){return function(Ot){return Da(ut.localRotation,ut.localRotation,Ot),jo(ut.localRotation,ut.localRotation),ut.setLocalDirty(!0),Xt()(ut)}}(),ut.setRotation=function(){var Ot=ws();return function(Bt){return ut.parent===null?Ps(ut.localRotation,Bt):(Ps(Ot,ut.parent.getRotation()),yc(Ot,Ot),Ps(ut.localRotation,Ot),Bs(ut.localRotation,ut.localRotation,Bt)),ut.setLocalDirty(!0),Xt()(ut)}}(),ut}return T()(V,[{key:"setLocalPosition",value:function(ut){me.JG(this.localPosition,ut),this.setLocalDirty(!0)}},{key:"setLocalScale",value:function(ut){me.JG(this.localScale,ut),this.setLocalDirty(!0)}},{key:"setLocalRotation",value:function(ut){return Ps(this.localRotation,ut),this.setLocalDirty(!0),this}},{key:"isDirty",value:function(){return this.dirtyFlag}},{key:"setDirty",value:function(){var ut=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;ut?this.dirtyFlag|=V.DIRTY:this.dirtyFlag&=~V.DIRTY}},{key:"isLocalDirty",value:function(){return this.localDirtyFlag}},{key:"setLocalDirty",value:function(){var ut=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;ut?(this.localDirtyFlag|=V.DIRTY,this.setDirty(!0)):this.localDirtyFlag&=~V.DIRTY}},{key:"updateTransform",value:function(){this.isLocalDirty()&&this.getLocalTransform(),this.isDirty()&&this.parent===null&&(ju(this.worldTransform,this.getLocalTransform()),this.setDirty(!1))}},{key:"updateTransformWithParent",value:function(ut){xa(this.worldTransform,ut.worldTransform,this.getLocalTransform())}},{key:"applyTransform",value:function(){this.setDirty(),Lf(this.localScale,this.worldTransform),Fc(this.localPosition,this.worldTransform),$s(this.localRotation,this.worldTransform)}},{key:"clearTransform",value:function(){this.setDirty(),this.localPosition=me.al(0,0,0),this.localRotation=Eh(0,0,0,1),this.localScale=me.al(1,1,1)}},{key:"scaleLocal",value:function(ut){return this.setLocalDirty(),me.Jp(this.localScale,this.localScale,ut),this}},{key:"getLocalPosition",value:function(){return this.localPosition}},{key:"getLocalRotation",value:function(){return this.localRotation}},{key:"getLocalScale",value:function(){return this.localScale}},{key:"getLocalTransform",value:function(){return this.localDirtyFlag&&(Ov(this.localTransform,this.localRotation,this.localPosition,this.localScale),this.setLocalDirty(!1)),this.localTransform}},{key:"getWorldTransform",value:function(){return!this.isLocalDirty()&&!this.isDirty()?this.worldTransform:(this.parent&&this.parent.getWorldTransform(),this.updateTransform(),this.worldTransform)}},{key:"getPosition",value:function(){return Fc(this.position,this.worldTransform),this.position}},{key:"getRotation",value:function(){return $s(this.rotation,this.worldTransform),this.rotation}},{key:"getScale",value:function(){return Lf(this.scaling,this.worldTransform),this.scaling}}]),V}(lt);Uf.DIRTY=1;var Na=d(84879),jc,bu,Gs,es,Fl,mc,ka=(jc=(0,nt.b2)(),bu=(0,nt.f3)(ct.RenderEngine),jc(Gs=(es=(mc=function(){function m(){_()(this,m),b()(this,"engine",Fl,this),this.resourcePool={}}return T()(m,[{key:"getOrCreateResource",value:function(V){if(!this.resourcePool[V.name]){var tt=V.descriptor,ut=tt.width,Ot=tt.height,Bt=tt.usage;this.resourcePool[V.name]=this.engine.createFramebuffer({color:this.engine.createTexture2D({width:ut,height:Ot,wrapS:Br.CLAMP_TO_EDGE,wrapT:Br.CLAMP_TO_EDGE,usage:Bt})})}return this.resourcePool[V.name]}},{key:"clean",value:function(){this.resourcePool={}}}]),m}(),mc),Fl=M()(es.prototype,"engine",[bu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),es))||Gs);function jf(m){var Y=yl();return function(){var tt=Et()(m),ut;if(Y){var Ot=Et()(this).constructor;ut=Reflect.construct(tt,arguments,Ot)}else ut=tt.apply(this,arguments);return gt()(this,ut)}}function yl(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(m){return!1}}var Wc=function(m){vt()(V,m);var Y=jf(V);function V(tt){var ut;return _()(this,V),ut=Y.call(this,tt),ut.name=void 0,ut.name=tt.name||"",ut}return V}(lt),du,Eu,Ru,ps=(du=(0,nt.b2)(),du(Eu=(Ru=function(){function m(){_()(this,m),this.config=void 0}return T()(m,[{key:"get",value:function(){return this.config}},{key:"set",value:function(V){this.config=V}}]),m}(),Ru))||Eu),Nl,Wo,Vo;(function(m){m.PANSTART="PANSTART",m.PANEND="PANEND",m.PANMOVE="PANMOVE",m.PINCH="PINCH",m.KEYDOWN="KEYDOWN",m.KEYUP="KEYUP",m.HOVER="HOVER"})(Vo||(Vo={}));var Mo=(Nl=(0,nt.b2)(),Nl(Wo=function(){function m(){_()(this,m)}return T()(m,[{key:"listen",value:function(V){}},{key:"on",value:function(V,tt){}},{key:"connect",value:function(){}},{key:"disconnect",value:function(){}},{key:"destroy",value:function(){}}]),m}())||Wo);function Wf(m){var Y=0;switch(m){case"vec2":case"ivec2":Y=2;break;case"vec3":case"ivec3":Y=3;break;case"vec4":case"ivec4":case"mat2":Y=4;break;case"mat3":Y=9;break;case"mat4":Y=16;break;default:}return Y}var Vf=/uniform\s+(bool|float|int|vec2|vec3|vec4|ivec2|ivec3|ivec4|mat2|mat3|mat4|sampler2D|samplerCube)\s+([\s\S]*?);/g;function zs(m){var Y={};return m=m.replace(Vf,function(V,tt,ut){var Ot=ut.split(":"),Bt=Ot[0].trim(),Ht="";switch(Ot.length>1&&(Ht=Ot[1].trim()),tt){case"bool":Ht=Ht==="true";break;case"float":case"int":Ht=Number(Ht);break;case"vec2":case"vec3":case"vec4":case"ivec2":case"ivec3":case"ivec4":case"mat2":case"mat3":case"mat4":Ht?Ht=Ht.replace("[","").replace("]","").split(",").reduce(function(Jt,oe){return Jt.push(Number(oe.trim())),Jt},[]):Ht=new Array(Wf(tt)).fill(0);break;default:}return Y[Bt]=Ht,"uniform ".concat(tt," ").concat(Bt,`;
`)}),{content:m,uniforms:Y}}function wh(m){return m.filter(function(Y,V,tt){return tt.indexOf(Y)===V})}var _h,kl,vu;function Su(m,Y){var V=Object.keys(m);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(m);Y&&(tt=tt.filter(function(ut){return Object.getOwnPropertyDescriptor(m,ut).enumerable})),V.push.apply(V,tt)}return V}function ml(m){for(var Y=1;Y<arguments.length;Y++){var V=arguments[Y]!=null?arguments[Y]:{};Y%2?Su(Object(V),!0).forEach(function(tt){ye()(m,tt,V[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(V)):Su(Object(V)).forEach(function(tt){Object.defineProperty(m,tt,Object.getOwnPropertyDescriptor(V,tt))})}return m}var pf=`varying vec4 v_PickingResult;
uniform vec4 u_HighlightColor : [0, 0, 0, 0];
uniform float u_PickingStage : 0.0;

#define PICKING_ENCODE 1.0
#define PICKING_HIGHLIGHT 2.0
#define COLOR_SCALE 1. / 255.

/*
 * Returns highlight color if this item is selected.
 */
vec4 filterHighlightColor(vec4 color) {
  bool selected = bool(v_PickingResult.a);

  if (selected) {
    vec4 highLightColor = u_HighlightColor * COLOR_SCALE;

    float highLightAlpha = highLightColor.a;
    float highLightRatio = highLightAlpha / (highLightAlpha + color.a * (1.0 - highLightAlpha));

    vec3 resultRGB = mix(color.rgb, highLightColor.rgb, highLightRatio);
    return vec4(resultRGB, color.a);
  } else {
    return color;
  }
}

/*
 * Returns picking color if picking enabled else unmodified argument.
 */
vec4 filterPickingColor(vec4 color) {
  vec3 pickingColor = v_PickingResult.rgb;
  if (u_PickingStage == PICKING_ENCODE && length(pickingColor) < 0.001) {
    discard;
  }
  return u_PickingStage == PICKING_ENCODE ? vec4(pickingColor, step(0.001,color.a)): color;
}

/*
 * Returns picking color if picking is enabled if not
 * highlight color if this item is selected, otherwise unmodified argument.
 */
vec4 filterColor(vec4 color) {
  return filterPickingColor(filterHighlightColor(color));
}
`,Aa=`attribute vec3 a_PickingColor;
varying vec4 v_PickingResult;

uniform vec3 u_PickingColor : [0, 0, 0];
uniform vec4 u_HighlightColor : [0, 0, 0, 0];
uniform float u_PickingStage : 0.0;
uniform float u_PickingThreshold : 1.0;
uniform float u_PickingBuffer: 0.0;

#define PICKING_ENCODE 1.0
#define PICKING_HIGHLIGHT 2.0
#define COLOR_SCALE 1. / 255.

bool isVertexPicked(vec3 vertexColor) {
  return
    abs(vertexColor.r - u_PickingColor.r) < u_PickingThreshold &&
    abs(vertexColor.g - u_PickingColor.g) < u_PickingThreshold &&
    abs(vertexColor.b - u_PickingColor.b) < u_PickingThreshold;
}

void setPickingColor(vec3 pickingColor) {
  // compares only in highlight stage
  v_PickingResult.a = float((u_PickingStage == PICKING_HIGHLIGHT) && isVertexPicked(pickingColor));

  // Stores the picking color so that the fragment shader can render it during picking
  v_PickingResult.rgb = pickingColor * COLOR_SCALE;
}

float setPickingSize(float x) {
   return u_PickingStage == PICKING_ENCODE ? x + u_PickingBuffer : x;
}`,Fv=`/**
 * 2D signed distance field functions
 * @see http://www.iquilezles.org/www/articles/distfunctions2d/distfunctions2d.htm
 */

float ndot(vec2 a, vec2 b ) { return a.x*b.x - a.y*b.y; }

float sdCircle(vec2 p, float r) {
  return length(p) - r;
}

float sdEquilateralTriangle(vec2 p) {
  float k = sqrt(3.0);
  p.x = abs(p.x) - 1.0;
  p.y = p.y + 1.0/k;
  if( p.x + k*p.y > 0.0 ) p = vec2(p.x-k*p.y,-k*p.x-p.y)/2.0;
  p.x -= clamp( p.x, -2.0, 0.0 );
  return -length(p)*sign(p.y);
}

float sdBox(vec2 p, vec2 b) {
  vec2 d = abs(p)-b;
  return length(max(d,vec2(0))) + min(max(d.x,d.y),0.0);
}

float sdPentagon(vec2 p, float r) {
  vec3 k = vec3(0.809016994,0.587785252,0.726542528);
  p.x = abs(p.x);
  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);
  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);
  p -= vec2(clamp(p.x,-r*k.z,r*k.z),r);
  return length(p)*sign(p.y);
}

float sdHexagon(vec2 p, float r) {
  vec3 k = vec3(-0.866025404,0.5,0.577350269);
  p = abs(p);
  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;
  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);
  return length(p)*sign(p.y);
}

float sdOctogon(vec2 p, float r) {
  vec3 k = vec3(-0.9238795325, 0.3826834323, 0.4142135623 );
  p = abs(p);
  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);
  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);
  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);
  return length(p)*sign(p.y);
}

float sdHexagram(vec2 p, float r) {
  vec4 k=vec4(-0.5,0.8660254038,0.5773502692,1.7320508076);
  p = abs(p);
  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;
  p -= 2.0*min(dot(k.yx,p),0.0)*k.yx;
  p -= vec2(clamp(p.x,r*k.z,r*k.w),r);
  return length(p)*sign(p.y);
}

float sdRhombus(vec2 p, vec2 b) {
  vec2 q = abs(p);
  float h = clamp((-2.0*ndot(q,b)+ndot(b,b))/dot(b,b),-1.0,1.0);
  float d = length( q - 0.5*b*vec2(1.0-h,1.0+h) );
  return d * sign( q.x*b.y + q.y*b.x - b.x*b.y );
}

float sdVesica(vec2 p, float r, float d) {
  p = abs(p);
  float b = sqrt(r*r-d*d); // can delay this sqrt
  return ((p.y-b)*d>p.x*b)
          ? length(p-vec2(0.0,b))
          : length(p-vec2(-d,0.0))-r;
}`,Nv=/precision\s+(high|low|medium)p\s+float/,xc=`#ifdef GL_FRAGMENT_PRECISION_HIGH
 precision highp float;
 #else
 precision mediump float;
#endif
`,Ah=/#pragma include (["^+"]?["\ "[a-zA-Z_0-9](.*)"]*?)/g,ov=(_h=(0,nt.b2)(),_h(kl=(vu=function(){function m(){_()(this,m),this.moduleCache={},this.rawContentCache={}}return T()(m,[{key:"registerBuiltinModules",value:function(){this.destroy(),this.registerModule("picking",{vs:Aa,fs:pf}),this.registerModule("sdf2d",{vs:"",fs:Fv})}},{key:"registerModule",value:function(V,tt){if(!this.rawContentCache[V]){var ut=tt.vs,Ot=ut===void 0?"":ut,Bt=tt.fs,Ht=Bt===void 0?"":Bt,Jt=tt.uniforms,oe=zs(Ot),Se=oe.content,Ye=oe.uniforms,ir=zs(Ht),C=ir.content,U=ir.uniforms;this.rawContentCache[V]={fs:C,uniforms:ml(ml(ml({},Ye),U),Jt),vs:Se}}}},{key:"destroy",value:function(){this.moduleCache={},this.rawContentCache={}}},{key:"getModule",value:function(V){var tt=this;if(this.moduleCache[V])return this.moduleCache[V];var ut=this.rawContentCache[V].vs||"",Ot=this.rawContentCache[V].fs||"",Bt=this.processModule(ut,[],"vs"),Ht=Bt.content,Jt=Bt.includeList,oe=this.processModule(Ot,[],"fs"),Se=oe.content,Ye=oe.includeList,ir=Se,C=wh(Jt.concat(Ye).concat(V)).reduce(function(U,it){return ml(ml({},U),tt.rawContentCache[it].uniforms)},{});return Nv.test(Se)||(ir=xc+Se),this.moduleCache[V]={fs:ir.trim(),uniforms:C,vs:Ht.trim()},this.moduleCache[V]}},{key:"processModule",value:function(V,tt,ut){var Ot=this,Bt=V.replace(Ah,function(Ht,Jt){var oe=Jt.split(" "),Se=oe[0].replace(/"/g,"");if(tt.indexOf(Se)>-1)return"";var Ye=Ot.rawContentCache[Se][ut];tt.push(Se);var ir=Ot.processModule(Ye||"",tt,ut),C=ir.content;return C});return{content:Bt,includeList:tt}}}]),m}(),vu))||kl),Ls=new nt.W2,_s=(0,Na.Z)(Ls,!1),Hf=function(Y){var V=_s.lazyInject(Y);return function(tt,ut,Ot){V.call(this,tt,ut),Ot&&(Ot.initializer=function(){return tt[ut]})}},Ch=function(Y){var V=_s.lazyMultiInject(Y);return function(tt,ut,Ot){V.call(this,tt,ut),Ot&&(Ot.initializer=function(){return tt[ut]})}};Ls.bind(ct.ShaderModuleService).to(ov).inSingletonScope(),Ls.bind(ct.NameComponentManager).toConstantValue(new st(Wc)),Ls.bind(ct.HierarchyComponentManager).toConstantValue(new st(kd)),Ls.bind(ct.TransformComponentManager).toConstantValue(new st(Uf)),Ls.bind(ct.MeshComponentManager).toConstantValue(new st(ns)),Ls.bind(ct.CullableComponentManager).toConstantValue(new st(yo)),Ls.bind(ct.GeometryComponentManager).toConstantValue(new st(oh)),Ls.bind(ct.MaterialComponentManager).toConstantValue(new st(go));function Bl(){var m=new nt.W2;return m.parent=Ls,m.bind(ct.Systems).to(gl).inSingletonScope().whenTargetNamed(ct.SceneGraphSystem),m.bind(ct.Systems).to(we).inSingletonScope().whenTargetNamed(ct.FrameGraphSystem),m.bind(ct.Systems).to(ic).inSingletonScope().whenTargetNamed(ct.MeshSystem),m.bind(ct.Systems).to(Zl).inSingletonScope().whenTargetNamed(ct.GeometrySystem),m.bind(ct.Systems).to(Mv).inSingletonScope().whenTargetNamed(ct.MaterialSystem),m.bind(ct.Systems).to(id).inSingletonScope().whenTargetNamed(ct.RendererSystem),m.bind(ct.ResourcePool).to(ka).inSingletonScope(),m.bind(ct.ConfigService).to(ps).inSingletonScope(),m.bind(ct.InteractorService).to(Mo).inSingletonScope(),m.bind(ct.RenderPass).to(Hu).inSingletonScope().whenTargetNamed(Hu.IDENTIFIER),m.bind(ct.RenderPass).to(ed).inSingletonScope().whenTargetNamed(ed.IDENTIFIER),m.bind(ct.RenderPass).to(Ao).inSingletonScope().whenTargetNamed(Ao.IDENTIFIER),m.bind(ct.RenderPassFactory).toFactory(function(Y){return function(V){return Y.container.getNamed(ct.RenderPass,V)}}),m}function Ju(m){for(var Y=new Lc,V=me.al(m[0],m[1],m[2]),tt=me.al(m[0],m[1],m[2]),ut=3;ut<m.length;){var Ot=m[ut++],Bt=m[ut++],Ht=m[ut++];Ot<V[0]&&(V[0]=Ot),Bt<V[1]&&(V[1]=Bt),Ht<V[2]&&(V[2]=Ht),Ot>tt[0]&&(tt[0]=Ot),Bt>tt[1]&&(tt[1]=Bt),Ht>tt[2]&&(tt[2]=Ht)}return Y.setMinMax(V,tt),Y}var as=typeof navigator!="undefined"&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),os=me.Ue(),wu=null,Vc=me.Ue(),Th=me.Ue(),Yf=me.Ue(),Xf=me.Ue(),Hc=me.Ue(),fd=null,hd=d(59518),Mh=d(26199),Gl=d(14156),Fu=d(71468),Lo=d(48871),gf=d(9871),bc;(function(m){m.Normal="normal",m.PostProcessing="post-processing"})(bc||(bc={}));var yf=d(25612),Ec=d(92777),Sc=d(20159),mf=d(61622),Yc=d(20499),xl=d(64851),xf;(function(m){m.Void="Void",m.Boolean="Boolean",m.Float="Float",m.Uint32="Uint32",m.Int32="Int32",m.Vector="Vector",m.Vector2Float="vec2<f32>",m.Vector3Float="vec3<f32>",m.Vector4Float="vec4<f32>",m.Vector2Boolean="vec2<bool>",m.Vector3Boolean="vec3<bool>",m.Vector4Boolean="vec4<bool>",m.Vector2Uint="vec2<u32>",m.Vector3Uint="vec3<u32>",m.Vector4Uint="vec4<u32>",m.Vector2Int="vec2<i32>",m.Vector3Int="vec3<i32>",m.Vector4Int="vec4<i32>",m.Matrix="Matrix",m.Matrix3x3Float="mat3x3<f32>",m.Matrix4x4Float="mat4x4<i32>",m.Struct="Struct",m.FloatArray="Float[]",m.Vector4FloatArray="vec4<f32>[]"})(xf||(xf={}));var Ih;(function(m){m.Program="Program",m.Identifier="Identifier",m.VariableDeclaration="VariableDeclaration",m.BlockStatement="BlockStatement",m.ReturnStatement="ReturnStatement",m.FunctionDeclaration="FunctionDeclaration",m.VariableDeclarator="VariableDeclarator",m.AssignmentExpression="AssignmentExpression",m.LogicalExpression="LogicalExpression",m.BinaryExpression="BinaryExpression",m.ArrayExpression="ArrayExpression",m.UnaryExpression="UnaryExpression",m.UpdateExpression="UpdateExpression",m.FunctionExpression="FunctionExpression",m.MemberExpression="MemberExpression",m.ConditionalExpression="ConditionalExpression",m.ExpressionStatement="ExpressionStatement",m.CallExpression="CallExpression",m.NumThreadStatement="NumThreadStatement",m.StorageStatement="StorageStatement",m.DoWhileStatement="DoWhileStatement",m.WhileStatement="WhileStatement",m.ForStatement="ForStatement",m.BreakStatement="BreakStatement",m.ContinueStatement="ContinueStatement",m.IfStatement="IfStatement",m.ImportedFunctionStatement="ImportedFunctionStatement"})(Ih||(Ih={}));var qs;(function(m){m.Input="Input",m.Output="Output",m.Uniform="Uniform",m.Workgroup="Workgroup",m.UniformConstant="UniformConstant",m.Image="Image",m.StorageBuffer="StorageBuffer",m.Private="Private",m.Function="Function"})(qs||(qs={}));var As;(function(m){m.GLSL100="GLSL100",m.GLSL450="GLSL450",m.WGSL="WGSL"})(As||(As={}));var bl="__DefineValuePlaceholder__";function dd(m){return typeof m=="number"}function wc(m){return m===void 0?0:m>360||m<-360?m%360:m}function Nu(m,Y,V){return dd(m)?me.al(m,Y,V):m.length===3?me.d9(m):me.al(m[0],m[1],m[2])}var Xc=function(){function m(Y,V){_()(this,m),this.name=void 0,this.matrix=void 0,this.right=void 0,this.up=void 0,this.forward=void 0,this.position=void 0,this.focalPoint=void 0,this.distanceVector=void 0,this.distance=void 0,this.dollyingStep=void 0,this.azimuth=0,this.elevation=0,this.roll=0,this.relAzimuth=0,this.relElevation=0,this.relRoll=0,this.name=Y,this.matrix=fh(V.matrix),this.right=me.d9(V.right),this.up=me.d9(V.up),this.forward=me.d9(V.forward),this.position=me.d9(V.position),this.focalPoint=me.d9(V.focalPoint),this.distanceVector=me.d9(V.distanceVector),this.azimuth=V.azimuth,this.elevation=V.elevation,this.roll=V.roll,this.relAzimuth=V.relAzimuth,this.relElevation=V.relElevation,this.relRoll=V.relRoll,this.dollyingStep=V.dollyingStep,this.distance=V.distance}return T()(m,[{key:"getPosition",value:function(){return this.position}},{key:"getFocalPoint",value:function(){return this.focalPoint}},{key:"getRoll",value:function(){return this.roll}},{key:"retrieve",value:function(V){V.matrix=ju(V.matrix,this.matrix),V.right=me.JG(V.right,this.right),V.up=me.JG(V.up,this.up),V.forward=me.JG(V.forward,this.forward),V.position=me.JG(V.position,this.position),V.focalPoint=me.JG(V.focalPoint,this.focalPoint),V.distanceVector=me.JG(V.distanceVector,this.distanceVector),V.azimuth=this.azimuth,V.elevation=this.elevation,V.roll=this.roll,V.relAzimuth=this.relAzimuth,V.relElevation=this.relElevation,V.relRoll=this.relRoll,V.dollyingStep=this.dollyingStep,V.distance=this.distance}}]),m}(),Ro,Oh,qu,tl,El,Sl,bf,ya;(function(m){m.ORBITING="ORBITING",m.EXPLORING="EXPLORING",m.TRACKING="TRACKING"})(ya||(ya={}));var ss;(function(m){m.DEFAULT="DEFAULT",m.ROTATIONAL="ROTATIONAL",m.TRANSLATIONAL="TRANSLATIONAL",m.CINEMATIC="CINEMATIC"})(ss||(ss={}));var Cs;(function(m){m.ORTHOGRAPHIC="ORTHOGRAPHIC",m.PERSPECTIVE="PERSPECTIVE"})(Cs||(Cs={}));var no=Math.PI/180,Io=180/Math.PI,_c=(Ro=(0,nt.b2)(),Oh=(0,nt.f3)(ct.InteractorService),Ro(qu=(tl=(bf=Sl=function(){function m(){_()(this,m),this.matrix=Ns(),this.right=me.al(1,0,0),this.up=me.al(0,1,0),this.forward=me.al(0,0,1),this.position=me.al(0,0,1),this.focalPoint=me.al(0,0,0),this.distanceVector=me.al(0,0,0),this.distance=1,this.azimuth=0,this.elevation=0,this.roll=0,this.relAzimuth=0,this.relElevation=0,this.relRoll=0,this.dollyingStep=0,this.maxDistance=1/0,this.minDistance=-1/0,this.rotateWorld=!1,b()(this,"interactor",El,this),this.fov=30,this.near=.1,this.far=1e4,this.aspect=1,this.left=void 0,this.rright=void 0,this.top=void 0,this.bottom=void 0,this.zoom=1,this.perspective=Ns(),this.view=void 0,this.following=void 0,this.type=ya.EXPLORING,this.trackingMode=ss.DEFAULT,this.projectionMode=Cs.PERSPECTIVE,this.frustum=new Jl,this.landmarks=[],this.landmarkAnimationID=void 0}return T()(m,[{key:"clone",value:function(){var V=new m;return V.setType(this.type,void 0),V.interactor=this.interactor,V}},{key:"getProjectionMode",value:function(){return this.projectionMode}},{key:"getPerspective",value:function(){return this.perspective}},{key:"getFrustum",value:function(){return this.frustum}},{key:"getPosition",value:function(){return this.position}},{key:"setType",value:function(V,tt){return this.type=V,this.type===ya.EXPLORING?this.setWorldRotation(!0):this.setWorldRotation(!1),this._getAngles(),this.type===ya.TRACKING&&tt!==void 0&&this.setTrackingMode(tt),this}},{key:"setProjectionMode",value:function(V){return this.projectionMode=V,this}},{key:"setTrackingMode",value:function(V){if(this.type!==ya.TRACKING)throw new Error("Impossible to set a tracking mode if the camera is not of tracking type");return this.trackingMode=V,this}},{key:"setWorldRotation",value:function(V){this.rotateWorld=V,this._getAngles()}},{key:"getViewTransform",value:function(){return Pn(Ns(),this.matrix)}},{key:"getWorldTransform",value:function(){return this.matrix}},{key:"setMatrix",value:function(V){return this.matrix=V,this._update(),this}},{key:"setAspect",value:function(V){return this.setPerspective(this.near,this.far,this.fov,V),this}},{key:"setViewOffset",value:function(V,tt,ut,Ot,Bt,Ht){return this.aspect=V/tt,this.view===void 0&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=V,this.view.fullHeight=tt,this.view.offsetX=ut,this.view.offsetY=Ot,this.view.width=Bt,this.view.height=Ht,this.projectionMode===Cs.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"clearViewOffset",value:function(){return this.view!==void 0&&(this.view.enabled=!1),this.projectionMode===Cs.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"setPerspective",value:function(V,tt,ut,Ot){return this.projectionMode=Cs.PERSPECTIVE,this.fov=ut,this.near=V,this.far=tt,this.aspect=Ot,Sp(this.perspective,this.fov*no,this.aspect,this.near,this.far),this}},{key:"setOrthographic",value:function(V,tt,ut,Ot,Bt,Ht){this.projectionMode=Cs.ORTHOGRAPHIC,this.rright=tt,this.left=V,this.top=ut,this.bottom=Ot,this.near=Bt,this.far=Ht;var Jt=(this.rright-this.left)/(2*this.zoom),oe=(this.top-this.bottom)/(2*this.zoom),Se=(this.rright+this.left)/2,Ye=(this.top+this.bottom)/2,ir=Se-Jt,C=Se+Jt,U=Ye+oe,it=Ye-oe;if(this.view!==void 0&&this.view.enabled){var Lt=(this.rright-this.left)/this.view.fullWidth/this.zoom,Zt=(this.top-this.bottom)/this.view.fullHeight/this.zoom;ir+=Lt*this.view.offsetX,C=ir+Lt*this.view.width,U-=Zt*this.view.offsetY,it=U-Zt*this.view.height}return _e(this.perspective,ir,C,U,it,Bt,Ht),this}},{key:"setPosition",value:function(V,tt,ut){return this._setPosition(V,tt,ut),this.setFocalPoint(this.focalPoint),this}},{key:"setFocalPoint",value:function(V,tt,ut){var Ot=me.al(0,1,0);if(this.focalPoint=Nu(V,tt,ut),this.trackingMode===ss.CINEMATIC){var Bt=me.$X(me.Ue(),this.focalPoint,this.position);V=Bt[0],tt=Bt[1],ut=Bt[2];var Ht=me.kE(Bt),Jt=Math.asin(tt/Ht)*Io,oe=90+Math.atan2(ut,V)*Io,Se=Ns();Zh(Se,Se,oe*no),hh(Se,Se,Jt*no),Ot=me.fF(me.Ue(),[0,1,0],Se)}return Pn(this.matrix,Z(Ns(),this.position,this.focalPoint,Ot)),this._getAxes(),this._getDistance(),this._getAngles(),this}},{key:"setDistance",value:function(V){if(!(this.distance===V||V<0)){this.distance=V,this.distance<2e-4&&(this.distance=2e-4),this.dollyingStep=this.distance/100;var tt=me.Ue();V=this.distance;var ut=this.forward,Ot=this.focalPoint;return tt[0]=V*ut[0]+Ot[0],tt[1]=V*ut[1]+Ot[1],tt[2]=V*ut[2]+Ot[2],this._setPosition(tt),this}}},{key:"setMaxDistance",value:function(V){return this.maxDistance=V,this}},{key:"setMinDistance",value:function(V){return this.minDistance=V,this}},{key:"changeAzimuth",value:function(V){return this.setAzimuth(this.azimuth+V),this}},{key:"changeElevation",value:function(V){return this.setElevation(this.elevation+V),this}},{key:"changeRoll",value:function(V){return this.setRoll(this.roll+V),this}},{key:"setAzimuth",value:function(V){return this.azimuth=wc(V),this.computeMatrix(),this._getAxes(),this.type===ya.ORBITING||this.type===ya.EXPLORING?this._getPosition():this.type===ya.TRACKING&&this._getFocalPoint(),this}},{key:"getAzimuth",value:function(){return this.azimuth}},{key:"setElevation",value:function(V){return this.elevation=wc(V),this.computeMatrix(),this._getAxes(),this.type===ya.ORBITING||this.type===ya.EXPLORING?this._getPosition():this.type===ya.TRACKING&&this._getFocalPoint(),this}},{key:"setRoll",value:function(V){return this.roll=wc(V),this.computeMatrix(),this._getAxes(),this.type===ya.ORBITING||this.type===ya.EXPLORING?this._getPosition():this.type===ya.TRACKING&&this._getFocalPoint(),this}},{key:"rotate",value:function(V,tt,ut){if(this.type===ya.EXPLORING){V=wc(V),tt=wc(tt),ut=wc(ut);var Ot=vs(ws(),[1,0,0],(this.rotateWorld?1:-1)*tt*no),Bt=vs(ws(),[0,1,0],(this.rotateWorld?1:-1)*V*no),Ht=vs(ws(),[0,0,1],ut*no),Jt=Da(ws(),Bt,Ot);Jt=Da(ws(),Jt,Ht);var oe=yu(Ns(),Jt);ro(this.matrix,this.matrix,[0,0,-this.distance]),xa(this.matrix,this.matrix,oe),ro(this.matrix,this.matrix,[0,0,this.distance])}else{if(Math.abs(this.elevation+tt)>90)return;this.relElevation=wc(tt),this.relAzimuth=wc(V),this.relRoll=wc(ut),this.elevation+=this.relElevation,this.azimuth+=this.relAzimuth,this.roll+=this.relRoll,this.computeMatrix()}return this._getAxes(),this.type===ya.ORBITING||this.type===ya.EXPLORING?this._getPosition():this.type===ya.TRACKING&&this._getFocalPoint(),this._update(),this}},{key:"pan",value:function(V,tt){var ut=Nu(V,tt,0),Ot=me.d9(this.position);return me.IH(Ot,Ot,me.bA(me.Ue(),this.right,ut[0])),me.IH(Ot,Ot,me.bA(me.Ue(),this.up,ut[1])),this._setPosition(Ot),this}},{key:"dolly",value:function(V){var tt=this.forward,ut=me.d9(this.position),Ot=V*this.dollyingStep,Bt=this.distance+V*this.dollyingStep;return Ot=Math.max(Math.min(Bt,this.maxDistance),this.minDistance)-this.distance,ut[0]+=Ot*tt[0],ut[1]+=Ot*tt[1],ut[2]+=Ot*tt[2],this._setPosition(ut),this.type===ya.ORBITING||this.type===ya.EXPLORING?this._getDistance():this.type===ya.TRACKING&&me.IH(this.focalPoint,ut,this.distanceVector),this}},{key:"createLandmark",value:function(V,tt){var ut=this.clone();ut.setPosition(tt.position),ut.setFocalPoint(tt.focalPoint),tt.roll!==void 0&&ut.setRoll(tt.roll);var Ot=new Xc(V,ut);return this.landmarks.push(Ot),Ot}},{key:"setLandmark",value:function(V){var tt=new Xc(V,this);return this.landmarks.push(tt),this}},{key:"gotoLandmark",value:function(V){var tt=this,ut=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3,Ot=this.landmarks.find(function(Ye){return Ye.name===V});if(Ot){if(ut===0){Ot.retrieve(this);return}this.landmarkAnimationID!==void 0&&window.cancelAnimationFrame(this.landmarkAnimationID),this.interactor.disconnect();var Bt=Ot.getPosition(),Ht=Ot.getFocalPoint(),Jt=Ot.getRoll(),oe,Se=function Ye(ir){oe===void 0&&(oe=ir);var C=ir-oe,U=(1-Math.cos(C/ut*Math.PI))/2,it=me.Ue(),Lt=me.Ue(),Zt=0;me.t7(it,tt.focalPoint,Ht,U),me.t7(Lt,tt.position,Bt,U),Zt=tt.roll*(1-U)+Jt*U,tt.setFocalPoint(it),tt.setPosition(Lt),tt.setRoll(Zt),tt.computeMatrix();var ve=me.TK(it,Ht)+me.TK(Lt,Bt);if(!(ve>.01)){tt.setFocalPoint(it),tt.setPosition(Lt),tt.setRoll(Zt),tt.computeMatrix(),tt.interactor.connect();return}C<ut&&(tt.landmarkAnimationID=window.requestAnimationFrame(Ye))};window.requestAnimationFrame(Se)}}},{key:"_update",value:function(){this._getAxes(),this._getPosition(),this._getDistance(),this._getAngles()}},{key:"computeMatrix",value:function(){var V,tt,ut=vs(ws(),[0,0,1],this.roll*no);Sr(this.matrix),V=vs(ws(),[1,0,0],(this.rotateWorld&&this.type!==ya.TRACKING||this.type===ya.TRACKING?1:-1)*this.elevation*no),tt=vs(ws(),[0,1,0],(this.rotateWorld&&this.type!==ya.TRACKING||this.type===ya.TRACKING?1:-1)*this.azimuth*no);var Ot=Da(ws(),tt,V);Ot=Da(ws(),Ot,ut);var Bt=yu(Ns(),Ot);this.type===ya.ORBITING||this.type===ya.EXPLORING?(ro(this.matrix,this.matrix,this.focalPoint),xa(this.matrix,this.matrix,Bt),ro(this.matrix,this.matrix,[0,0,this.distance])):this.type===ya.TRACKING&&(ro(this.matrix,this.matrix,this.position),xa(this.matrix,this.matrix,Bt))}},{key:"_setPosition",value:function(V,tt,ut){this.position=Nu(V,tt,ut);var Ot=this.matrix;Ot[12]=this.position[0],Ot[13]=this.position[1],Ot[14]=this.position[2],Ot[15]=1}},{key:"_getAxes",value:function(){me.JG(this.right,Nu(pt(ze(),[1,0,0,0],this.matrix))),me.JG(this.up,Nu(pt(ze(),[0,1,0,0],this.matrix))),me.JG(this.forward,Nu(pt(ze(),[0,0,1,0],this.matrix))),me.Fv(this.right,this.right),me.Fv(this.up,this.up),me.Fv(this.forward,this.forward)}},{key:"_getAngles",value:function(){var V=this.distanceVector[0],tt=this.distanceVector[1],ut=this.distanceVector[2],Ot=me.kE(this.distanceVector);if(Ot===0){this.elevation=0,this.azimuth=0;return}this.type===ya.TRACKING?(this.elevation=Math.asin(tt/Ot)*Io,this.azimuth=Math.atan2(-V,-ut)*Io):this.rotateWorld?(this.elevation=Math.asin(tt/Ot)*Io,this.azimuth=Math.atan2(-V,-ut)*Io):(this.elevation=-Math.asin(tt/Ot)*Io,this.azimuth=-Math.atan2(-V,-ut)*Io)}},{key:"_getPosition",value:function(){me.JG(this.position,Nu(pt(ze(),[0,0,0,1],this.matrix))),this._getDistance()}},{key:"_getFocalPoint",value:function(){me.kK(this.distanceVector,[0,0,-this.distance],kn.fromMat4(kn.create(),this.matrix)),me.IH(this.focalPoint,this.position,this.distanceVector),this._getDistance()}},{key:"_getDistance",value:function(){this.distanceVector=me.$X(me.Ue(),this.focalPoint,this.position),this.distance=me.kE(this.distanceVector),this.dollyingStep=this.distance/100}}]),m}(),Sl.ProjectionMode={ORTHOGRAPHIC:"ORTHOGRAPHIC",PERSPECTIVE:"PERSPECTIVE"},bf),El=M()(tl.prototype,"interactor",[Oh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tl))||qu),vd,el,pd,$f,gd,Ef,yd,wl=(vd=(0,nt.b2)(),el=(0,nt.f3)(ct.GeometryComponentManager),vd(pd=($f=(yd=Ef=function(){function m(){_()(this,m),this.config=void 0,b()(this,"geometry",gd,this),this.entity=void 0,this.component=void 0}return T()(m,[{key:"getEntity",value:function(){return this.entity}},{key:"getComponent",value:function(){return this.component}},{key:"setConfig",value:function(V){this.config=V}},{key:"setEntity",value:function(V){this.entity=V,this.component=this.geometry.create(V),this.component.entity=V,this.onEntityCreated()}},{key:"onEntityCreated",value:function(){}}]),m}(),Ef.BOX="box",Ef.SPHERE="sphere",Ef.PLANE="plane",Ef.MERGED="merged",yd),gd=M()($f.prototype,"geometry",[el],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$f))||pd),ri=d(49469);function md(){if(typeof document!="undefined")return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}var Dh={}.toString,Ph=function(Y,V){return Dh.call(Y)==="[object "+V+"]"},Lh=Ph,sv=function(m){return Array.isArray?Array.isArray(m):Lh(m,"Array")},ip=9007199254740991,$c="[object Arguments]",Ac="[object Array]",$t="[object Boolean]",Ae="[object Date]",Qe="[object Error]",Hr="[object Function]",Lr="[object Map]",rn="[object Number]",dn="[object Object]",Mn="[object RegExp]",Yn="[object Set]",Hn="[object String]",Un="[object WeakMap]",Nn="[object ArrayBuffer]",j="[object DataView]",et="[object Float32Array]",wt="[object Float64Array]",It="[object Int8Array]",Nt="[object Int16Array]",Ft="[object Int32Array]",Yt="[object Uint8Array]",Qt="[object Uint8ClampedArray]",ee="[object Uint16Array]",de="[object Uint32Array]",Ie={};Ie[et]=Ie[wt]=Ie[It]=Ie[Nt]=Ie[Ft]=Ie[Yt]=Ie[Qt]=Ie[ee]=Ie[de]=!0,Ie[$c]=Ie[Ac]=Ie[Nn]=Ie[$t]=Ie[j]=Ie[Ae]=Ie[Qe]=Ie[Hr]=Ie[Lr]=Ie[rn]=Ie[dn]=Ie[Mn]=Ie[Yn]=Ie[Hn]=Ie[Un]=!1;function Pe(m){return function(Y){return m(Y)}}var Ke=Object.prototype,Ar=Ke.toString;function pn(m){return Pr(m)&&Dr(m.length)&&!!Ie[Ar.call(m)]}function Dr(m){return typeof m=="number"&&m>-1&&m%1===0&&m<=ip}function Pr(m){return!!m&&Zn()(m)==="object"}var Rr=pn,zn,ni,Qn,Ti,li,Di,Wi,zi;function Pa(m,Y){var V=Object.keys(m);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(m);Y&&(tt=tt.filter(function(ut){return Object.getOwnPropertyDescriptor(m,ut).enumerable})),V.push.apply(V,tt)}return V}function Xi(m){for(var Y=1;Y<arguments.length;Y++){var V=arguments[Y]!=null?arguments[Y]:{};Y%2?Pa(Object(V),!0).forEach(function(tt){ye()(m,tt,V[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(V)):Pa(Object(V)).forEach(function(tt){Object.defineProperty(m,tt,Object.getOwnPropertyDescriptor(V,tt))})}return m}var io=(zn=(0,nt.b2)(),ni=(0,nt.f3)(ct.RenderEngine),Qn=(0,nt.f3)(ct.ConfigService),zn(Ti=(li=(zi=function(){function m(){_()(this,m),b()(this,"engine",Di,this),b()(this,"configService",Wi,this),this.entity=K(),this.model=void 0,this.dirty=!0,this.compiledBundle=void 0,this.initPromise=void 0}return T()(m,[{key:"init",value:function(){var V=this.configService.get(),tt=V.canvas,ut=V.engineOptions;this.initPromise=this.engine.init(Xi({canvas:tt||md(),swapChainFormat:ri.EV.BGRA8Unorm,antialiasing:!1},ut))}},{key:"setBundle",value:function(V){this.compiledBundle=JSON.parse(JSON.stringify(V))}},{key:"setDispatch",value:function(V){return this.compiledBundle.context&&(this.compiledBundle.context.dispatch=V),this}},{key:"setMaxIteration",value:function(V){return this.compiledBundle.context&&(this.compiledBundle.context.maxIteration=V),this}},{key:"setBinding",value:function(V,tt){var ut=this;if(typeof V=="string"){var Ot=dd(tt)||Rr(tt)||sv(tt);if(this.compiledBundle&&this.compiledBundle.context){var Bt=this.compiledBundle.context.defines.find(function(Jt){return Jt.name===V});if(Bt)return Bt.value=tt,this;var Ht=this.compiledBundle.context.uniforms.find(function(Jt){return Jt.name===V});Ht&&(Ot?(Ht.data=tt,Ht.isReferer=!1,Ht.storageClass===qs.Uniform?this.model&&this.model.updateUniform(V,tt):this.model&&this.model.updateBuffer(V,tt)):(Ht.isReferer=!0,Ht.data=tt))}}else Object.keys(V).forEach(function(Jt){ut.setBinding(Jt,V[Jt])});return this}},{key:"execute",value:function(){var Y=z()(k().mark(function tt(){var ut=this,Ot,Bt,Ht=arguments;return k().wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:if(Ot=Ht.length>0&&Ht[0]!==void 0?Ht[0]:1,!this.dirty){oe.next=6;break}return this.compiledBundle.context&&(Ot>1?this.compiledBundle.context.maxIteration=Ot:this.compiledBundle.context.maxIteration++),oe.next=5,this.compile();case 5:this.dirty=!1;case 6:for(this.engine.beginFrame(),this.engine.clear({}),this.compiledBundle.context&&this.compiledBundle.context.uniforms.filter(function(Se){var Ye=Se.isReferer;return Ye}).forEach(function(Se){var Ye=Se.data,ir=Se.name;ut.model.confirmInput(Ye.model,ir)}),Bt=0;Bt<Ot;Bt++)this.model.run();return this.engine.endFrame(),oe.abrupt("return",this);case 12:case"end":return oe.stop()}},tt,this)}));function V(){return Y.apply(this,arguments)}return V}()},{key:"getOutput",value:function(){var Y=z()(k().mark(function tt(){return k().wrap(function(Ot){for(;;)switch(Ot.prev=Ot.next){case 0:return Ot.abrupt("return",this.model.readData());case 1:case"end":return Ot.stop()}},tt,this)}));function V(){return Y.apply(this,arguments)}return V}()},{key:"compile",value:function(){var Y=z()(k().mark(function tt(){var ut,Ot,Bt;return k().wrap(function(Jt){for(;;)switch(Jt.prev=Jt.next){case 0:return Jt.next=2,this.initPromise;case 2:return ut=Xi({},this.compiledBundle.context),Ot=this.engine.supportWebGPU?this.engine.useWGSL?As.WGSL:As.GLSL450:As.GLSL100,Bt=this.compiledBundle.shaders[Ot],ut.defines.filter(function(oe){return oe.runtime}).forEach(function(oe){var Se="".concat(bl).concat(oe.name);Bt=Bt.replace(Se,"".concat(oe.value))}),ut.shader=Bt,ut.uniforms.forEach(function(oe){if(!oe.data&&oe.storageClass===qs.StorageBuffer){var Se=1;oe.type===xf.FloatArray?Se=1:oe.type===xf.Vector4FloatArray&&(Se=4),oe.data=new Float32Array(ut.output.length*Se).fill(0)}}),this.compiledBundle.context=ut,Jt.next=11,this.engine.createComputeModel(this.compiledBundle.context);case 11:this.model=Jt.sent;case 12:case"end":return Jt.stop()}},tt,this)}));function V(){return Y.apply(this,arguments)}return V}()}]),m}(),zi),Di=M()(li.prototype,"engine",[ni],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wi=M()(li.prototype,"configService",[Qn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),li))||Ti),Ka,ma,vo,fo,ao,xo,Fo,Qi=(Ka=(0,nt.b2)(),ma=(0,nt.f3)(ct.MaterialComponentManager),Ka(vo=(fo=(Fo=xo=function(){function m(){_()(this,m),this.config=void 0,b()(this,"material",ao,this),this.entity=void 0,this.component=void 0}return T()(m,[{key:"getEntity",value:function(){return this.entity}},{key:"getComponent",value:function(){return this.component}},{key:"setConfig",value:function(V){this.config=V}},{key:"setEntity",value:function(V,tt){this.entity=V,this.component=this.material.create(V),this.component.entity=V,this.component.type=tt,this.onEntityCreated()}},{key:"onEntityCreated",value:function(){}}]),m}(),xo.BASIC="basic",Fo),ao=M()(fo.prototype,"material",[ma],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fo))||vo),Us,Ga,Ui,aa,Ca,Ho,_u,zl,Ze,on,an,gi,la,Ve,Oe=(Us=(0,nt.b2)(),Ga=(0,nt.f3)(ct.MeshComponentManager),Ui=(0,nt.f3)(ct.CullableComponentManager),aa=(0,nt.f3)(ct.TransformComponentManager),Ca=(0,nt.f3)(ct.Systems),Ho=(0,nt.t6)(ct.SceneGraphSystem),Us(_u=(zl=(Ve=la=function(){function m(){_()(this,m),this.attributes={},this.config=void 0,b()(this,"mesh",Ze,this),b()(this,"cullable",on,this),b()(this,"transform",an,this),b()(this,"sceneGraphSystem",gi,this),this.meshComponent=void 0,this.transformComponent=void 0,this.entity=void 0}return T()(m,[{key:"getEntity",value:function(){return this.entity}},{key:"getTransformComponent",value:function(){return this.transformComponent}},{key:"getMeshComponent",value:function(){return this.meshComponent}},{key:"setConfig",value:function(V){this.config=V}},{key:"setEntity",value:function(V){this.entity=V,this.cullable.create(V),this.meshComponent=this.mesh.create(V),this.transformComponent=this.transform.create(V),this.onEntityCreated()}},{key:"setMaterial",value:function(V){return this.meshComponent.material=V,this}},{key:"setGeometry",value:function(V){return this.meshComponent.geometry=V,this}},{key:"setAttributes",value:function(V){var tt=this;Object.keys(V).forEach(function(ut){V[ut]!==void 0&&V[ut]!==tt.attributes[ut]&&(tt.onAttributeChanged({name:ut,data:V[ut]}),tt.attributes[ut]=V[ut])})}},{key:"setVisible",value:function(V){var tt=this;return this.meshComponent.visible=V,this.meshComponent.children.forEach(function(ut){var Ot=tt.mesh.getComponentByEntity(ut);Ot&&(Ot.visible=V)}),this}},{key:"isVisible",value:function(){return this.meshComponent.visible}},{key:"attach",value:function(V){return this.sceneGraphSystem.attach(this.entity,V.entity),this}},{key:"detach",value:function(){return this.sceneGraphSystem.detach(this.entity),this}},{key:"detachChildren",value:function(){return this.sceneGraphSystem.detachChildren(this.entity),this}},{key:"onEntityCreated",value:function(){}},{key:"onAttributeChanged",value:function(V){var tt=V.name,ut=V.data;this.meshComponent&&this.meshComponent.material&&this.meshComponent.material.setUniform(this.convertAttributeName2UniformName(tt),ut)}},{key:"convertAttributeName2UniformName",value:function(V){return V}}]),m}(),la.POINT="point",la.LINE="line",la.GRID="grid",Ve),Ze=M()(zl.prototype,"mesh",[Ga],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),on=M()(zl.prototype,"cullable",[Ui],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),an=M()(zl.prototype,"transform",[aa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gi=M()(zl.prototype,"sceneGraphSystem",[Ca,Ho],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zl))||_u),vr=d(81550),Ur=d.n(vr),Xr=function(){function m(Y,V){_()(this,m),this.attribute=void 0,this.buffer=void 0;var tt=V.buffer,ut=V.offset,Ot=V.stride,Bt=V.normalized,Ht=V.size,Jt=V.divisor;this.buffer=tt,this.attribute={buffer:tt.get(),offset:ut||0,stride:Ot||0,normalized:Bt||!1,divisor:Jt||0},Ht&&(this.attribute.size=Ht)}return T()(m,[{key:"get",value:function(){return this.attribute}},{key:"updateBuffer",value:function(V){this.buffer.subData(V)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),m}(),gr,lr,Tr,Ue,sr,Be,wr,Jr,bn,Cn,fn,jn,Si,ta,wi=(gr={},ye()(gr,Br.POINTS,"points"),ye()(gr,Br.LINES,"lines"),ye()(gr,Br.LINE_LOOP,"line loop"),ye()(gr,Br.LINE_STRIP,"line strip"),ye()(gr,Br.TRIANGLES,"triangles"),ye()(gr,Br.TRIANGLE_FAN,"triangle fan"),ye()(gr,Br.TRIANGLE_STRIP,"triangle strip"),gr),Gi=(lr={},ye()(lr,Br.STATIC_DRAW,"static"),ye()(lr,Br.DYNAMIC_DRAW,"dynamic"),ye()(lr,Br.STREAM_DRAW,"stream"),lr),Zi=(Tr={},ye()(Tr,Br.BYTE,"int8"),ye()(Tr,Br.UNSIGNED_INT,"int16"),ye()(Tr,Br.INT,"int32"),ye()(Tr,Br.UNSIGNED_BYTE,"uint8"),ye()(Tr,Br.UNSIGNED_SHORT,"uint16"),ye()(Tr,Br.UNSIGNED_INT,"uint32"),ye()(Tr,Br.FLOAT,"float"),Tr),ja=(Ue={},ye()(Ue,Br.ALPHA,"alpha"),ye()(Ue,Br.LUMINANCE,"luminance"),ye()(Ue,Br.LUMINANCE_ALPHA,"luminance alpha"),ye()(Ue,Br.RGB,"rgb"),ye()(Ue,Br.RGBA,"rgba"),ye()(Ue,Br.RGBA4,"rgba4"),ye()(Ue,Br.RGB5_A1,"rgb5 a1"),ye()(Ue,Br.RGB565,"rgb565"),ye()(Ue,Br.DEPTH_COMPONENT,"depth"),ye()(Ue,Br.DEPTH_STENCIL,"depth stencil"),Ue),bo=(sr={},ye()(sr,Br.DONT_CARE,"dont care"),ye()(sr,Br.NICEST,"nice"),ye()(sr,Br.FASTEST,"fast"),sr),Au=(Be={},ye()(Be,Br.NEAREST,"nearest"),ye()(Be,Br.LINEAR,"linear"),ye()(Be,Br.LINEAR_MIPMAP_LINEAR,"mipmap"),ye()(Be,Br.NEAREST_MIPMAP_LINEAR,"nearest mipmap linear"),ye()(Be,Br.LINEAR_MIPMAP_NEAREST,"linear mipmap nearest"),ye()(Be,Br.NEAREST_MIPMAP_NEAREST,"nearest mipmap nearest"),Be),pu=(wr={},ye()(wr,Br.REPEAT,"repeat"),ye()(wr,Br.CLAMP_TO_EDGE,"clamp"),ye()(wr,Br.MIRRORED_REPEAT,"mirror"),wr),ku=(Jr={},ye()(Jr,Br.NONE,"none"),ye()(Jr,Br.BROWSER_DEFAULT_WEBGL,"browser"),Jr),ap=(bn={},ye()(bn,Br.NEVER,"never"),ye()(bn,Br.ALWAYS,"always"),ye()(bn,Br.LESS,"less"),ye()(bn,Br.LEQUAL,"lequal"),ye()(bn,Br.GREATER,"greater"),ye()(bn,Br.GEQUAL,"gequal"),ye()(bn,Br.EQUAL,"equal"),ye()(bn,Br.NOTEQUAL,"notequal"),bn),Cu=(Cn={},ye()(Cn,Br.FUNC_ADD,"add"),ye()(Cn,Br.MIN_EXT,"min"),ye()(Cn,Br.MAX_EXT,"max"),ye()(Cn,Br.FUNC_SUBTRACT,"subtract"),ye()(Cn,Br.FUNC_REVERSE_SUBTRACT,"reverse subtract"),Cn),Rh=(fn={},ye()(fn,Br.ZERO,"zero"),ye()(fn,Br.ONE,"one"),ye()(fn,Br.SRC_COLOR,"src color"),ye()(fn,Br.ONE_MINUS_SRC_COLOR,"one minus src color"),ye()(fn,Br.SRC_ALPHA,"src alpha"),ye()(fn,Br.ONE_MINUS_SRC_ALPHA,"one minus src alpha"),ye()(fn,Br.DST_COLOR,"dst color"),ye()(fn,Br.ONE_MINUS_DST_COLOR,"one minus dst color"),ye()(fn,Br.DST_ALPHA,"dst alpha"),ye()(fn,Br.ONE_MINUS_DST_ALPHA,"one minus dst alpha"),ye()(fn,Br.CONSTANT_COLOR,"constant color"),ye()(fn,Br.ONE_MINUS_CONSTANT_COLOR,"one minus constant color"),ye()(fn,Br.CONSTANT_ALPHA,"constant alpha"),ye()(fn,Br.ONE_MINUS_CONSTANT_ALPHA,"one minus constant alpha"),ye()(fn,Br.SRC_ALPHA_SATURATE,"src alpha saturate"),fn),uv=(jn={},ye()(jn,Br.NEVER,"never"),ye()(jn,Br.ALWAYS,"always"),ye()(jn,Br.LESS,"less"),ye()(jn,Br.LEQUAL,"lequal"),ye()(jn,Br.GREATER,"greater"),ye()(jn,Br.GEQUAL,"gequal"),ye()(jn,Br.EQUAL,"equal"),ye()(jn,Br.NOTEQUAL,"notequal"),jn),S=(Si={},ye()(Si,Br.ZERO,"zero"),ye()(Si,Br.KEEP,"keep"),ye()(Si,Br.REPLACE,"replace"),ye()(Si,Br.INVERT,"invert"),ye()(Si,Br.INCR,"increment"),ye()(Si,Br.DECR,"decrement"),ye()(Si,Br.INCR_WRAP,"increment wrap"),ye()(Si,Br.DECR_WRAP,"decrement wrap"),Si),N=(ta={},ye()(ta,Br.FRONT,"front"),ye()(ta,Br.BACK,"back"),ta),Q=function(){function m(Y,V){_()(this,m),this.buffer=void 0;var tt=V.data,ut=V.usage,Ot=V.type;this.buffer=Y.buffer({data:tt,usage:Gi[ut||Br.STATIC_DRAW],type:Zi[Ot||Br.UNSIGNED_BYTE]})}return T()(m,[{key:"get",value:function(){return this.buffer}},{key:"destroy",value:function(){}},{key:"subData",value:function(V){var tt=V.data,ut=V.offset;this.buffer.subdata(tt,ut)}}]),m}(),Pt=d(319),zt=d.n(Pt),ne=9007199254740991,Fe="[object Arguments]",er="[object Array]",Nr="[object Boolean]",On="[object Date]",Fi="[object Error]",ba="[object Function]",si="[object Map]",$i="[object Number]",Ea="[object Object]",ra="[object RegExp]",vn="[object Set]",$r="[object String]",un="[object WeakMap]",Jn="[object ArrayBuffer]",ei="[object DataView]",La="[object Float32Array]",Vi="[object Float64Array]",Ba="[object Int8Array]",qa="[object Int16Array]",Wa="[object Int32Array]",zd="[object Uint8Array]",Tg="[object Uint8ClampedArray]",My="[object Uint16Array]",x1="[object Uint32Array]",Ts={};Ts[La]=Ts[Vi]=Ts[Ba]=Ts[qa]=Ts[Wa]=Ts[zd]=Ts[Tg]=Ts[My]=Ts[x1]=!0,Ts[Fe]=Ts[er]=Ts[Jn]=Ts[Nr]=Ts[ei]=Ts[On]=Ts[Fi]=Ts[ba]=Ts[si]=Ts[$i]=Ts[Ea]=Ts[ra]=Ts[vn]=Ts[$r]=Ts[un]=!1;function b1(m){return function(Y){return m(Y)}}var E1=Object.prototype,Iy=E1.toString;function Oy(m){return Py(m)&&Dy(m.length)&&!!Ts[Iy.call(m)]}function Dy(m){return typeof m=="number"&&m>-1&&m%1===0&&m<=ne}function Py(m){return!!m&&Zn()(m)==="object"}var Mg=Oy;function Ig(m,Y){var V=Object.keys(m);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(m);Y&&(tt=tt.filter(function(ut){return Object.getOwnPropertyDescriptor(m,ut).enumerable})),V.push.apply(V,tt)}return V}function _p(m){for(var Y=1;Y<arguments.length;Y++){var V=arguments[Y]!=null?arguments[Y]:{};Y%2?Ig(Object(V),!0).forEach(function(tt){ye()(m,tt,V[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(V)):Ig(Object(V)).forEach(function(tt){Object.defineProperty(m,tt,Object.getOwnPropertyDescriptor(V,tt))})}return m}var S1=`attribute vec3 a_Position;
attribute vec2 a_TexCoord;

varying vec2 v_TexCoord;

void main() {
  gl_Position = vec4(a_Position, 1.0);
  v_TexCoord = a_TexCoord;
}`,b0=0,Ap=!1,w1=function(){function m(Y,V){var tt=this;_()(this,m),this.reGl=Y,this.context=V,this.entity=K(),this.texFBO=void 0,this.computeCommand=void 0,this.textureCache={},this.outputTextureName=void 0,this.swapOutputTextureName=void 0,this.compiledPingpong=void 0,this.dynamicPingpong=void 0;var ut={};this.context.uniforms.forEach(function(oe){var Se=oe.name,Ye=oe.type,ir=oe.data,C=oe.isReferer,U=oe.storageClass;if(U===qs.StorageBuffer){if(C)tt.textureCache[Se]={data:void 0},ut["".concat(Se,"Size")]=function(){return ir.compiledBundle.context.output.textureSize};else{tt.textureCache[Se]=tt.calcDataTexture(Se,Ye,ir);var it=tt.textureCache[Se],Lt=it.textureWidth,Zt=it.isOutput;ut["".concat(Se,"Size")]=[Lt,Lt],Zt&&(tt.outputTextureName=Se,tt.context.needPingpong&&(tt.outputTextureName="".concat(Se,"Output"),tt.textureCache[tt.outputTextureName]=tt.calcDataTexture(Se,Ye,ir)))}ut[Se]=function(){return Ap&&console.log("[".concat(tt.entity,"]: ").concat(Se," ").concat(tt.textureCache[Se].id)),tt.textureCache[Se].texture}}else if(U===qs.Uniform){if(ir&&(Array.isArray(ir)||Mg(ir))&&ir.length>16)throw new Error("invalid data type ".concat(Ye));ut[Se]=function(){return oe.data}}});var Ot=this.getOuputDataTexture(),Bt=Ot.textureWidth,Ht=Ot.texelCount;ut.u_OutputTextureSize=[Bt,Bt],ut.u_OutputTexelCount=Ht,this.context.output.textureSize=[Bt,Bt];var Jt={attributes:{a_Position:[[-1,1,0],[-1,-1,0],[1,1,0],[1,-1,0]],a_TexCoord:[[0,1],[0,0],[1,1],[1,0]]},frag:`#ifdef GL_FRAGMENT_PRECISION_HIGH
  precision highp float;
#else
  precision mediump float;
#endif
`.concat(this.context.shader),uniforms:ut,vert:S1,primitive:"triangle strip",count:4};this.computeCommand=this.reGl(Jt)}return T()(m,[{key:"run",value:function(){var V=this;this.context.maxIteration>1&&this.context.needPingpong&&(this.compiledPingpong=!0),(this.compiledPingpong||this.dynamicPingpong)&&this.swap(),this.texFBO=this.reGl.framebuffer({color:this.getOuputDataTexture().texture}),this.texFBO.use(function(){V.computeCommand()}),Ap&&console.log("[".concat(this.entity,"]: output ").concat(this.getOuputDataTexture().id))}},{key:"readData",value:function(){var Y=z()(k().mark(function tt(){var ut=this,Ot,Bt,Ht,Jt,oe,Se,Ye,ir;return k().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(this.reGl({framebuffer:this.texFBO})(function(){Ot=ut.reGl.read()}),!Ot){U.next=6;break}if(Bt=this.getOuputDataTexture(),Ht=Bt.originalDataLength,Jt=Bt.elementsPerTexel,oe=Bt.typedArrayConstructor,Se=oe===void 0?Float32Array:oe,Ye=[],Jt!==4)for(ir=0;ir<Ot.length;ir+=4)Jt===1?Ye.push(Ot[ir]):Jt===2?Ye.push(Ot[ir],Ot[ir+1]):Ye.push(Ot[ir],Ot[ir+1],Ot[ir+2]);else Ye=Ot;return U.abrupt("return",new Se(Ye.slice(0,Ht)));case 6:return U.abrupt("return",new Float32Array);case 7:case"end":return U.stop()}},tt,this)}));function V(){return Y.apply(this,arguments)}return V}()},{key:"confirmInput",value:function(V,tt){var ut;this.entity===V.entity?(this.dynamicPingpong=!0,ut=this):ut=V,this.textureCache[tt].id=ut.getOuputDataTexture().id,this.textureCache[tt].texture=ut.getOuputDataTexture().texture,Ap&&console.log("[".concat(this.entity,"]: confirm input ").concat(tt," from model ").concat(ut.entity,", ").concat(ut.getOuputDataTexture().id))}},{key:"updateUniform",value:function(){}},{key:"updateBuffer",value:function(V,tt){var ut=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,Ot=this.context.uniforms.find(function(oe){var Se=oe.name;return Se===V});if(Ot){var Bt=this.calcDataTexture(V,Ot.type,tt),Ht=Bt.texture,Jt=Bt.data;this.textureCache[V].data=Jt,this.textureCache[V].texture=Ht}}},{key:"destroy",value:function(){}},{key:"swap",value:function(){if(this.swapOutputTextureName||this.createSwapOutputDataTexture(),this.compiledPingpong){var V=this.context.output.name;this.textureCache[V].id=this.getOuputDataTexture().id,this.textureCache[V].texture=this.getOuputDataTexture().texture}var tt=this.outputTextureName;this.outputTextureName=this.swapOutputTextureName,this.swapOutputTextureName=tt,Ap&&console.log("[".concat(this.entity,"]: after swap, output ").concat(this.getOuputDataTexture().id))}},{key:"getOuputDataTexture",value:function(){return this.textureCache[this.outputTextureName]}},{key:"createSwapOutputDataTexture",value:function(){var V=this.cloneDataTexture(this.getOuputDataTexture());this.swapOutputTextureName="".concat(this.entity,"-swap"),this.textureCache[this.swapOutputTextureName]=V}},{key:"cloneDataTexture",value:function(V){var tt=V.data,ut=V.textureWidth;return _p(_p({},V),{},{id:b0++,texture:this.reGl.texture({width:ut,height:ut,data:tt,type:"float"})})}},{key:"calcDataTexture",value:function(V,tt,ut){var Ot=1;tt===xf.Vector4FloatArray&&(Ot=4);for(var Bt=[],Ht=0;Ht<ut.length;Ht+=Ot)Ot===1?Bt.push(ut[Ht],0,0,0):Ot===2?Bt.push(ut[Ht],ut[Ht+1],0,0):Ot===3?Bt.push(ut[Ht],ut[Ht+1],ut[Ht+2],0):Ot===4&&Bt.push(ut[Ht],ut[Ht+1],ut[Ht+2],ut[Ht+3]);var Jt=ut.length,oe=Math.ceil(Jt/Ot),Se=Math.ceil(Math.sqrt(oe)),Ye=Se*Se;oe<Ye&&Bt.push.apply(Bt,zt()(new Array((Ye-oe)*4).fill(0)));var ir=this.reGl.texture({width:Se,height:Se,data:Bt,type:"float"});return{id:b0++,data:Bt,originalDataLength:Jt,typedArrayConstructor:Mg(ut)?ut.constructor:void 0,textureWidth:Se,texture:ir,texelCount:oe,elementsPerTexel:Ot,isOutput:V===this.context.output.name}}}]),m}(),_1=function(){function m(Y,V){_()(this,m),this.elements=void 0;var tt=V.data,ut=V.usage,Ot=V.type,Bt=V.count;this.elements=Y.elements({data:tt,usage:Gi[ut||Br.STATIC_DRAW],type:Zi[Ot||Br.UNSIGNED_BYTE],count:Bt})}return T()(m,[{key:"get",value:function(){return this.elements}},{key:"subData",value:function(V){var tt=V.data;this.elements.subdata(tt)}},{key:"destroy",value:function(){this.elements.destroy()}}]),m}(),Cp=function(){function m(Y,V){_()(this,m),this.framebuffer=void 0;var tt=V.width,ut=V.height,Ot=V.color,Bt=V.colors,Ht=V.depth,Jt=V.stencil,oe={width:tt,height:ut};Array.isArray(Bt)&&(oe.colors=Bt.map(function(Se){return Se.get()})),Ot&&typeof Ot!="boolean"&&(oe.color=Ot.get()),this.framebuffer=Y.framebuffer(oe)}return T()(m,[{key:"get",value:function(){return this.framebuffer}},{key:"destroy",value:function(){this.framebuffer.destroy()}},{key:"resize",value:function(V){var tt=V.width,ut=V.height;this.framebuffer.resize(tt,ut)}}]),m}();function Og(m){var Y=Zn()(m);return m!=null&&(Y==="object"||Y==="function")}function kv(m){var Y={};return Object.keys(m).forEach(function(V){E0(V,m[V],Y,"")}),Y}function E0(m,Y,V,tt){if(Y===null||typeof Y=="number"||typeof Y=="boolean"||Array.isArray(Y)&&typeof Y[0]=="number"||Mg(Y)||Y===""||Y.resize!==void 0){V["".concat(tt&&tt+".").concat(m)]=Y;return}Og(Y)&&Object.keys(Y).forEach(function(ut){E0(ut,Y[ut],V,"".concat(tt&&tt+".").concat(m))}),Array.isArray(Y)&&Y.forEach(function(ut,Ot){Object.keys(ut).forEach(function(Bt){E0(Bt,ut[Bt],V,"".concat(tt&&tt+".").concat(m,"[").concat(Ot,"]"))})})}function Ly(m,Y){var V=Object.keys(m);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(m);Y&&(tt=tt.filter(function(ut){return Object.getOwnPropertyDescriptor(m,ut).enumerable})),V.push.apply(V,tt)}return V}function lv(m){for(var Y=1;Y<arguments.length;Y++){var V=arguments[Y]!=null?arguments[Y]:{};Y%2?Ly(Object(V),!0).forEach(function(tt){ye()(m,tt,V[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(V)):Ly(Object(V)).forEach(function(tt){Object.defineProperty(m,tt,Object.getOwnPropertyDescriptor(V,tt))})}return m}var A1=function(){function m(Y,V){_()(this,m),this.reGl=void 0,this.drawCommand=void 0,this.uniforms={},this.reGl=Y;var tt=V.vs,ut=V.fs,Ot=V.defines,Bt=V.attributes,Ht=V.uniforms,Jt=V.primitive,oe=V.count,Se=V.elements,Ye=V.depth,ir=V.blend,C=V.stencil,U=V.cull,it=V.instances,Lt=V.scissor,Zt=V.viewport,ve={};Ht&&(this.uniforms=kv(Ht),Object.keys(Ht).forEach(function(zr){ve[zr]=Y.prop(zr)}));var Me={};Object.keys(Bt).forEach(function(zr){Me[zr]=Bt[zr].get()});var He=Ot&&this.generateDefines(Ot)||"",$e={attributes:Me,frag:`#ifdef GL_FRAGMENT_PRECISION_HIGH
  precision highp float;
#else
  precision mediump float;
#endif
`.concat(He,`
`).concat(ut),uniforms:ve,vert:`
`.concat(He,`
`).concat(tt),primitive:wi[Jt===void 0?Br.TRIANGLES:Jt]};it&&($e.instances=it),oe&&($e.count=oe),Se&&($e.elements=Se.get()),Lt&&($e.scissor=Lt),Zt&&($e.viewport=Zt),this.initDepthDrawParams({depth:Ye},$e),this.initBlendDrawParams({blend:ir},$e),this.initStencilDrawParams({stencil:C},$e),this.initCullDrawParams({cull:U},$e),this.drawCommand=Y($e)}return T()(m,[{key:"addUniforms",value:function(V){this.uniforms=lv(lv({},this.uniforms),kv(V))}},{key:"draw",value:function(V){var tt=lv(lv({},this.uniforms),kv(V.uniforms||{})),ut={};Object.keys(tt).forEach(function(Ot){var Bt=Zn()(tt[Ot]);Bt==="boolean"||Bt==="number"||Array.isArray(tt[Ot])||tt[Ot].BYTES_PER_ELEMENT?ut[Ot]=tt[Ot]:Bt==="string"||(ut[Ot]=tt[Ot].get())}),this.drawCommand(ut)}},{key:"destroy",value:function(){}},{key:"initDepthDrawParams",value:function(V,tt){var ut=V.depth;ut&&(tt.depth={enable:ut.enable===void 0?!0:!!ut.enable,mask:ut.mask===void 0?!0:!!ut.mask,func:ap[ut.func||Br.LESS],range:ut.range||[0,1]})}},{key:"initBlendDrawParams",value:function(V,tt){var ut=V.blend;if(ut){var Ot=ut.enable,Bt=ut.func,Ht=ut.equation,Jt=ut.color,oe=Jt===void 0?[0,0,0,0]:Jt;tt.blend={enable:!!Ot,func:{srcRGB:Rh[Bt&&Bt.srcRGB||Br.SRC_ALPHA],srcAlpha:Rh[Bt&&Bt.srcAlpha||Br.SRC_ALPHA],dstRGB:Rh[Bt&&Bt.dstRGB||Br.ONE_MINUS_SRC_ALPHA],dstAlpha:Rh[Bt&&Bt.dstAlpha||Br.ONE_MINUS_SRC_ALPHA]},equation:{rgb:Cu[Ht&&Ht.rgb||Br.FUNC_ADD],alpha:Cu[Ht&&Ht.alpha||Br.FUNC_ADD]},color:oe}}}},{key:"initStencilDrawParams",value:function(V,tt){var ut=V.stencil;if(ut){var Ot=ut.enable,Bt=ut.mask,Ht=Bt===void 0?-1:Bt,Jt=ut.func,oe=Jt===void 0?{cmp:Br.ALWAYS,ref:0,mask:-1}:Jt,Se=ut.opFront,Ye=Se===void 0?{fail:Br.KEEP,zfail:Br.KEEP,zpass:Br.KEEP}:Se,ir=ut.opBack,C=ir===void 0?{fail:Br.KEEP,zfail:Br.KEEP,zpass:Br.KEEP}:ir;tt.stencil={enable:!!Ot,mask:Ht,func:lv(lv({},oe),{},{cmp:uv[oe.cmp]}),opFront:{fail:S[Ye.fail],zfail:S[Ye.zfail],zpass:S[Ye.zpass]},opBack:{fail:S[C.fail],zfail:S[C.zfail],zpass:S[C.zpass]}}}}},{key:"initCullDrawParams",value:function(V,tt){var ut=V.cull;if(ut){var Ot=ut.enable,Bt=ut.face,Ht=Bt===void 0?Br.BACK:Bt;tt.cull={enable:!!Ot,face:N[Ht]}}}},{key:"generateDefines",value:function(V){return Object.keys(V).map(function(tt){return"#define ".concat(tt," ").concat(Number(V[tt]))}).join(`
`)}}]),m}(),C1=function(){function m(Y,V){_()(this,m),this.texture=void 0,this.width=void 0,this.height=void 0;var tt=V.data,ut=V.type,Ot=ut===void 0?Br.UNSIGNED_BYTE:ut,Bt=V.width,Ht=V.height,Jt=V.flipY,oe=Jt===void 0?!1:Jt,Se=V.format,Ye=Se===void 0?Br.RGBA:Se,ir=V.mipmap,C=ir===void 0?!1:ir,U=V.wrapS,it=U===void 0?Br.CLAMP_TO_EDGE:U,Lt=V.wrapT,Zt=Lt===void 0?Br.CLAMP_TO_EDGE:Lt,ve=V.aniso,Me=ve===void 0?0:ve,He=V.alignment,$e=He===void 0?1:He,zr=V.premultiplyAlpha,nn=zr===void 0?!1:zr,ln=V.mag,$n=ln===void 0?Br.NEAREST:ln,ii=V.min,yi=ii===void 0?Br.NEAREST:ii,Ei=V.colorSpace,mi=Ei===void 0?Br.BROWSER_DEFAULT_WEBGL:Ei;this.width=Bt,this.height=Ht;var di={width:Bt,height:Ht,type:Zi[Ot],format:ja[Ye],wrapS:pu[it],wrapT:pu[Zt],mag:Au[$n],min:Au[yi],alignment:$e,flipY:oe,colorSpace:ku[mi],premultiplyAlpha:nn,aniso:Me};tt&&(di.data=tt),typeof C=="number"?di.mipmap=bo[C]:typeof C=="boolean"&&(di.mipmap=C),this.texture=Y.texture(di)}return T()(m,[{key:"get",value:function(){return this.texture}},{key:"update",value:function(){this.texture._texture.bind()}},{key:"resize",value:function(V){var tt=V.width,ut=V.height;this.texture.resize(tt,ut),this.width=tt,this.height=ut}},{key:"destroy",value:function(){this.texture.destroy()}}]),m}(),Ry,Fy,Ny,T1=(Ry=(0,nt.b2)(),Ry(Fy=(Ny=function(){function m(){var Y=this;_()(this,m),this.supportWebGPU=!1,this.useWGSL=!1,this.$canvas=void 0,this.gl=void 0,this.inited=void 0,this.createModel=function(){var V=z()(k().mark(function tt(ut){return k().wrap(function(Bt){for(;;)switch(Bt.prev=Bt.next){case 0:if(!ut.uniforms){Bt.next=3;break}return Bt.next=3,Promise.all(Object.keys(ut.uniforms).map(function(){var Ht=z()(k().mark(function Jt(oe){var Se;return k().wrap(function(ir){for(;;)switch(ir.prev=ir.next){case 0:if(!(ut.uniforms[oe]&&ut.uniforms[oe].load!==void 0)){ir.next=5;break}return ir.next=3,ut.uniforms[oe].load();case 3:Se=ir.sent,ut.uniforms[oe]=Se;case 5:case"end":return ir.stop()}},Jt)}));return function(Jt){return Ht.apply(this,arguments)}}()));case 3:return Bt.abrupt("return",new A1(Y.gl,ut));case 4:case"end":return Bt.stop()}},tt)}));return function(tt){return V.apply(this,arguments)}}(),this.createAttribute=function(V){return new Xr(Y.gl,V)},this.createBuffer=function(V){return new Q(Y.gl,V)},this.createElements=function(V){return new _1(Y.gl,V)},this.createTexture2D=function(V){return new C1(Y.gl,V)},this.createFramebuffer=function(V){return new Cp(Y.gl,V)},this.useFramebuffer=function(V,tt){Y.gl({framebuffer:V?V.get():null})(tt)},this.createComputeModel=function(){var V=z()(k().mark(function tt(ut){return k().wrap(function(Bt){for(;;)switch(Bt.prev=Bt.next){case 0:return Bt.abrupt("return",new w1(Y.gl,ut));case 1:case"end":return Bt.stop()}},tt)}));return function(tt){return V.apply(this,arguments)}}(),this.clear=function(V){var tt=V.color,ut=V.depth,Ot=V.stencil,Bt=V.framebuffer,Ht=Bt===void 0?null:Bt,Jt={color:tt,depth:ut,stencil:Ot};Jt.framebuffer=Ht===null?Ht:Ht.get(),Y.gl.clear(Jt)},this.setScissor=function(V){Y.gl&&Y.gl._gl&&(V.enable&&V.box?(Y.gl._gl.enable(Br.SCISSOR_TEST),Y.gl._gl.scissor(V.box.x,V.box.y,V.box.width,V.box.height)):Y.gl._gl.disable(Br.SCISSOR_TEST),Y.gl._refresh())},this.viewport=function(V){var tt=V.x,ut=V.y,Ot=V.width,Bt=V.height;Y.gl&&Y.gl._gl&&(Y.gl._gl.viewport(tt,ut,Ot,Bt),Y.gl._refresh())},this.readPixels=function(V){var tt=V.framebuffer,ut=V.x,Ot=V.y,Bt=V.width,Ht=V.height,Jt={x:ut,y:Ot,width:Bt,height:Ht};return tt&&(Jt.framebuffer=tt.get()),Y.gl.read(Jt)},this.getCanvas=function(){return Y.$canvas},this.getGLContext=function(){return Y.gl._gl},this.destroy=function(){Y.gl&&(Y.gl.destroy(),Y.inited=!1)}}return T()(m,[{key:"init",value:function(){var Y=z()(k().mark(function tt(ut){return k().wrap(function(Bt){for(;;)switch(Bt.prev=Bt.next){case 0:if(!this.inited){Bt.next=2;break}return Bt.abrupt("return");case 2:return this.$canvas=ut.canvas,Bt.next=5,new Promise(function(Ht,Jt){Ur()({canvas:ut.canvas,attributes:{alpha:!0,antialias:ut.antialias,premultipliedAlpha:!0},pixelRatio:1,extensions:["OES_element_index_uint","OES_texture_float","OES_standard_derivatives","angle_instanced_arrays"],optionalExtensions:["EXT_texture_filter_anisotropic","EXT_blend_minmax","WEBGL_depth_texture"],profile:!0,onDone:function(Se,Ye){(Se||!Ye)&&Jt(Se),Ht(Ye)}})});case 5:this.gl=Bt.sent,this.inited=!0;case 7:case"end":return Bt.stop()}},tt,this)}));function V(tt){return Y.apply(this,arguments)}return V}()},{key:"isFloatSupported",value:function(){return this.gl.limits.readFloat}},{key:"beginFrame",value:function(){}},{key:"endFrame",value:function(){}}]),m}(),Ny))||Fy);function Dg(){return typeof window!="undefined"}function S0(m,Y,V,tt){if(!!Dg()){var ut=document.getElementsByTagName("head")[0],Ot=document.createElement("script");Ot.setAttribute("type","text/javascript"),Ot.setAttribute("src",m),tt&&(Ot.id=tt),Ot.onload=function(){Y&&Y()},Ot.onerror=function(Bt){V&&V("Unable to load script '".concat(m,"'"),Bt)},ut.appendChild(Ot)}}function ky(m,Y){return new Promise(function(V,tt){S0(m,function(){V()},function(ut,Ot){tt(Ot)})})}var Yp;function By(){return Bv.apply(this,arguments)}function Bv(){return Bv=z()(k().mark(function m(){return k().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:if(!Yp){V.next=2;break}return V.abrupt("return",Yp);case 2:return V.next=4,ky("https://preview.babylonjs.com/glslang/glslang.js");case 4:return Yp=window.glslang("https://preview.babylonjs.com/glslang/glslang.wasm"),V.abrupt("return",Yp);case 6:case"end":return V.stop()}},m)})),Bv.apply(this,arguments)}var Gy=function(){function m(Y,V){_()(this,m),this.engine=Y,this.options=V,this.attribute=void 0,this.buffer=void 0;var tt=V,ut=tt.buffer,Ot=tt.offset,Bt=tt.stride,Ht=tt.normalized,Jt=tt.size,oe=tt.divisor,Se=tt.arrayStride,Ye=tt.attributes,ir=tt.stepMode;this.buffer=ut,this.attribute={buffer:ut.get(),offset:Ot||0,stride:Bt||0,normalized:Ht||!1,divisor:oe||0,arrayStride:Se||0,attributes:Ye,stepMode:ir||"vertex"},Jt&&(this.attribute.size=Jt)}return T()(m,[{key:"get",value:function(){return this.attribute}},{key:"updateBuffer",value:function(V){this.buffer.subData(V)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),m}(),op=function(){function m(Y,V){_()(this,m),this.engine=Y,this.options=V,this.buffer=void 0;var tt=V,ut=tt.data,Ot=tt.usage,Bt=tt.type;this.buffer=this.createBuffer(ut instanceof Array?new Float32Array(ut):ut,Ot||ri.FB.Vertex|ri.FB.CopyDst)}return T()(m,[{key:"get",value:function(){return this.buffer}},{key:"destroy",value:function(){this.buffer.destroy()}},{key:"subData",value:function(V){var tt=V.data,ut=V.offset;this.setSubData(this.buffer,ut,tt instanceof Array?new Float32Array(tt):tt)}},{key:"createBuffer",value:function(V,tt){var ut=V.byteLength%4,Ot={size:V.byteLength+ut,usage:tt},Bt=this.engine.device.createBuffer(Ot);return this.setSubData(Bt,0,V),Bt}},{key:"setSubData",value:function(V,tt,ut){var Ot=as?this.engine.device.getQueue():this.engine.device.defaultQueue;Ot.writeBuffer(V,tt,ut)}}]),m}();function Tp(m){return typeof m=="number"}var M1=function(){function m(Y,V){_()(this,m),this.engine=Y,this.context=V,this.entity=K(),this.uniformGPUBufferLayout=[],this.uniformBuffer=void 0,this.vertexBuffers={},this.outputBuffer=void 0,this.bindGroupEntries=void 0,this.bindGroup=void 0,this.computePipeline=void 0}return T()(m,[{key:"init",value:function(){var Y=z()(k().mark(function tt(){var ut=this,Ot,Bt,Ht,Jt,oe,Se,Ye;return k().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,this.compileComputePipelineStageDescriptor(this.context.shader);case 2:Ot=C.sent,Bt=Ot.computeStage,Ht=this.context.uniforms.filter(function(U){return U.storageClass===qs.StorageBuffer}),Jt=this.context.uniforms.filter(function(U){return U.storageClass===qs.Uniform}),oe=Jt.length?1:0,this.bindGroupEntries=[],oe&&(Se=0,Ye=[],Jt.forEach(function(U){if(Tp(U.data))ut.uniformGPUBufferLayout.push({name:U.name,offset:Se}),Se+=4,Ye.push(U.data);else{var it,Lt=((it=U.data)===null||it===void 0?void 0:it.length)||1;Lt===3&&(Lt=4,U.data.push(0));var Zt=Se/4%4;if(Zt>0){var ve=4-Zt;if(Lt>1&&Lt<=ve)Lt===2&&(ve===3&&(Se+=4,Ye.push(0)),Ye.push.apply(Ye,zt()(U.data)),ut.uniformGPUBufferLayout.push({name:U.name,offset:Se}));else{for(var Me=0;Me<ve;Me++)Se+=4,Ye.push(0);Ye.push.apply(Ye,zt()(U.data)),ut.uniformGPUBufferLayout.push({name:U.name,offset:Se})}}Se+=4*Lt}}),this.uniformBuffer=new op(this.engine,{data:Ye instanceof Array?new Float32Array(Ye):Ye,usage:ri.FB.Uniform|ri.FB.CopyDst}),this.bindGroupEntries.push({binding:0,resource:{buffer:this.uniformBuffer.get()}})),Ht.forEach(function(U){if(U.data!==null&&(U.type===xf.Vector4FloatArray||U.type===xf.FloatArray)){var it;U.name===ut.context.output.name?(it=new op(ut.engine,{data:isFinite(Number(U.data))?[U.data]:U.data,usage:ri.FB.Storage|ri.FB.CopyDst|ri.FB.CopySrc}),ut.outputBuffer=it,ut.context.output={name:U.name,length:isFinite(Number(U.data))?1:U.data.length,typedArrayConstructor:Float32Array,gpuBuffer:it.get()}):U.isReferer?U.data.model&&U.data.model.outputBuffer&&(it=U.data.model.outputBuffer):it=new op(ut.engine,{data:isFinite(Number(U.data))?[U.data]:U.data,usage:ri.FB.Storage|ri.FB.CopyDst|ri.FB.CopySrc}),ut.vertexBuffers[U.name]=it,ut.bindGroupEntries.push({binding:oe,resource:{name:U.name,refer:it?void 0:U.data,buffer:it?it.get():void 0}}),oe++}}),this.computePipeline=this.engine.device.createComputePipeline({computeStage:Bt}),console.log(this.bindGroupEntries),this.bindGroup=this.engine.device.createBindGroup({layout:this.computePipeline.getBindGroupLayout(0),entries:this.bindGroupEntries});case 13:case"end":return C.stop()}},tt,this)}));function V(){return Y.apply(this,arguments)}return V}()},{key:"destroy",value:function(){var V=this;this.uniformBuffer&&this.uniformBuffer.destroy(),Object.keys(this.vertexBuffers).forEach(function(tt){return V.vertexBuffers[tt].destroy()})}},{key:"readData",value:function(){var Y=z()(k().mark(function tt(){var ut,Ot,Bt,Ht,Jt,oe,Se,Ye,ir,C;return k().wrap(function(it){for(;;)switch(it.prev=it.next){case 0:if(ut=this.context.output,!ut){it.next=16;break}if(Ot=ut.length,Bt=ut.typedArrayConstructor,Ht=ut.gpuBuffer,!Ht){it.next=16;break}return Jt=Ot*Bt.BYTES_PER_ELEMENT,oe=this.engine.device.createBuffer({size:Jt,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ}),Se=this.engine.device.createCommandEncoder(),Se.copyBufferToBuffer(Ht,0,oe,0,Jt),Ye=as?this.engine.device.getQueue():this.engine.device.defaultQueue,Ye.submit([Se.finish()]),it.next=12,oe.mapAsync(ri.gc.Read);case 12:return ir=oe.getMappedRange(),C=new Bt(ir.slice(0)),oe.unmap(),it.abrupt("return",C);case 16:return it.abrupt("return",new Float32Array);case 17:case"end":return it.stop()}},tt,this)}));function V(){return Y.apply(this,arguments)}return V}()},{key:"run",value:function(){if(this.engine.currentComputePass){var V;this.engine.currentComputePass.setPipeline(this.computePipeline),this.engine.currentComputePass.setBindGroup(0,this.bindGroup),(V=this.engine.currentComputePass).dispatch.apply(V,zt()(this.context.dispatch))}}},{key:"updateBuffer",value:function(V,tt){var ut=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,Ot=this.vertexBuffers[V];Ot&&Ot.subData({data:tt,offset:ut})}},{key:"updateUniform",value:function(V,tt){var ut=this.uniformGPUBufferLayout.find(function(Ot){return Ot.name===V});ut&&this.uniformBuffer.subData({data:Number.isFinite(tt)?new Float32Array([tt]):new Float32Array(tt),offset:ut.offset})}},{key:"confirmInput",value:function(V,tt){var ut=this.vertexBuffers[tt],Ot=V.outputBuffer;if(ut&&Ot&&ut!==Ot){var Bt=this.engine.device.createCommandEncoder(),Ht=V.context.output,Jt=Ht.length,oe=Ht.typedArrayConstructor,Se=Jt*oe.BYTES_PER_ELEMENT;Bt.copyBufferToBuffer(Ot.get(),0,ut.get(),0,Se);var Ye=as?this.engine.device.getQueue():this.engine.device.defaultQueue;Ye.submit([Bt.finish()])}}},{key:"compileShaderToSpirV",value:function(V,tt,ut){return this.compileRawShaderToSpirV(ut+V,tt)}},{key:"compileRawShaderToSpirV",value:function(V,tt){return this.engine.glslang.compileGLSL(V,tt)}},{key:"compileComputePipelineStageDescriptor",value:function(){var Y=z()(k().mark(function tt(ut){var Ot,Bt;return k().wrap(function(Jt){for(;;)switch(Jt.prev=Jt.next){case 0:if(Ot=ut,Bt=`#version 450
`,this.engine.options.useWGSL){Jt.next=6;break}return Jt.next=5,this.compileShaderToSpirV(ut,"compute",Bt);case 5:Ot=Jt.sent;case 6:return Jt.abrupt("return",{computeStage:{module:this.engine.device.createShaderModule({code:Ot,isWHLSL:as}),entryPoint:"main"}});case 7:case"end":return Jt.stop()}},tt,this)}));function V(tt){return Y.apply(this,arguments)}return V}()}]),m}(),zy=function(){function m(Y,V){_()(this,m),this.engine=Y,this.options=V,this.indexCount=void 0,this.buffer=void 0;var tt=V,ut=tt.data,Ot=tt.usage,Bt=tt.type,Ht=tt.count;this.indexCount=Ht||0,this.buffer=new op(Y,{data:ut instanceof Array?new Uint16Array(ut):ut,usage:ri.FB.Index|ri.FB.CopyDst})}return T()(m,[{key:"get",value:function(){return this.buffer}},{key:"subData",value:function(V){this.buffer.subData(V)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),m}(),Uy=function(){function m(Y,V){_()(this,m),this.engine=Y,this.options=V,this.colorTexture=void 0,this.depthTexture=void 0,this.width=0,this.height=0;var tt=V,ut=tt.width,Ot=tt.height,Bt=tt.color,Ht=tt.colors,Jt=tt.depth,oe=tt.stencil;Bt&&(this.colorTexture=Bt),Jt&&(this.depthTexture=Jt)}return T()(m,[{key:"get",value:function(){var V,tt;return{color:(V=this.colorTexture)===null||V===void 0?void 0:V.get(),depth:(tt=this.depthTexture)===null||tt===void 0?void 0:tt.get()}}},{key:"destroy",value:function(){var V,tt;(V=this.colorTexture)===null||V===void 0||V.destroy(),(tt=this.depthTexture)===null||tt===void 0||tt.destroy()}},{key:"resize",value:function(V){var tt=V.width,ut=V.height;if(tt!==this.width||ut!==this.height){var Ot,Bt;(Ot=this.colorTexture)===null||Ot===void 0||Ot.resize({width:tt,height:ut}),(Bt=this.depthTexture)===null||Bt===void 0||Bt.resize({width:tt,height:ut})}this.width=tt,this.height=ut}}]),m}(),Cc,Kc,sp,Tc,Gv,Xp,Pg,Nb=(Cc={},ye()(Cc,Br.POINTS,ri.YV.PointList),ye()(Cc,Br.LINES,ri.YV.LineList),ye()(Cc,Br.LINE_LOOP,ri.YV.LineList),ye()(Cc,Br.LINE_STRIP,ri.YV.LineStrip),ye()(Cc,Br.TRIANGLES,ri.YV.TriangleList),ye()(Cc,Br.TRIANGLE_FAN,ri.YV.TriangleList),ye()(Cc,Br.TRIANGLE_STRIP,ri.YV.TriangleStrip),Cc),kb=(Kc={},ye()(Kc,Br.NEVER,ri.wb.Never),ye()(Kc,Br.ALWAYS,ri.wb.Always),ye()(Kc,Br.LESS,ri.wb.Less),ye()(Kc,Br.LEQUAL,ri.wb.LessEqual),ye()(Kc,Br.GREATER,ri.wb.Greater),ye()(Kc,Br.GEQUAL,ri.wb.GreaterEqual),ye()(Kc,Br.EQUAL,ri.wb.Equal),ye()(Kc,Br.NOTEQUAL,ri.wb.NotEqual),Kc),jy=(sp={},ye()(sp,Br.FUNC_ADD,ri.db.Add),ye()(sp,Br.MIN_EXT,ri.db.Min),ye()(sp,Br.MAX_EXT,ri.db.Max),ye()(sp,Br.FUNC_SUBTRACT,ri.db.Subtract),ye()(sp,Br.FUNC_REVERSE_SUBTRACT,ri.db.ReverseSubtract),sp),$p=(Tc={},ye()(Tc,Br.ZERO,ri.zi.Zero),ye()(Tc,Br.ONE,ri.zi.One),ye()(Tc,Br.SRC_COLOR,ri.zi.SrcColor),ye()(Tc,Br.ONE_MINUS_SRC_COLOR,ri.zi.OneMinusSrcColor),ye()(Tc,Br.SRC_ALPHA,ri.zi.SrcAlpha),ye()(Tc,Br.ONE_MINUS_SRC_ALPHA,ri.zi.OneMinusSrcAlpha),ye()(Tc,Br.DST_COLOR,ri.zi.DstColor),ye()(Tc,Br.ONE_MINUS_DST_COLOR,ri.zi.OneMinusDstColor),ye()(Tc,Br.DST_ALPHA,ri.zi.DstAlpha),ye()(Tc,Br.ONE_MINUS_DST_ALPHA,ri.zi.OneMinusDstAlpha),ye()(Tc,Br.CONSTANT_COLOR,ri.zi.BlendColor),ye()(Tc,Br.ONE_MINUS_CONSTANT_COLOR,ri.zi.OneMinusBlendColor),ye()(Tc,Br.SRC_ALPHA_SATURATE,ri.zi.SrcAlphaSaturated),Tc),Wy=(Gv={},ye()(Gv,Br.ALPHA,"r8unorm"),ye()(Gv,Br.RGBA,"rgba8unorm"),ye()(Gv,Br.DEPTH_COMPONENT,"depth32float"),ye()(Gv,Br.DEPTH_STENCIL,"depth24plus-stencil8"),Gv),Vy=(Xp={},ye()(Xp,Br.NEAREST,"nearest"),ye()(Xp,Br.LINEAR,"linear"),Xp),w0=(Pg={},ye()(Pg,Br.REPEAT,"repeat"),ye()(Pg,Br.CLAMP_TO_EDGE,"clamp-to-edge"),ye()(Pg,Br.MIRRORED_REPEAT,"mirror-repeat"),Pg);function zv(m){var Y=m.cull;if(!Y||!Y.enable)return ri.Wf.None;if(Y.face)return Y.face===Br.FRONT?ri.Wf.Front:ri.Wf.Back}function _0(m){var Y=m.depth,V=m.stencil,tt={compare:ri.wb.Always,depthFailOp:ri.xS.Keep,failOp:ri.xS.Keep,passOp:ri.xS.Keep};return{depthWriteEnabled:Y&&Y.enable,depthCompare:kb[(Y==null?void 0:Y.func)||Br.ALWAYS],format:ri.EV.Depth24PlusStencil8,stencilFront:tt,stencilBack:tt,stencilReadMask:4294967295,stencilWriteMask:4294967295}}function I1(m,Y){var V=m.blend;return[{format:Y,alphaBlend:{srcFactor:$p[V&&V.func&&V.func.srcAlpha||Br.ONE],dstFactor:$p[V&&V.func&&V.func.dstAlpha||Br.ZERO],operation:jy[V&&V.equation&&V.equation.alpha||Br.FUNC_ADD]},colorBlend:{srcFactor:$p[V&&V.func&&V.func.srcRGB||Br.ONE],dstFactor:$p[V&&V.func&&V.func.dstRGB||Br.ZERO],operation:jy[V&&V.equation&&V.equation.rgb||Br.FUNC_ADD]},writeMask:ri.Yw.All}]}function A0(m,Y){var V=Object.keys(m);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(m);Y&&(tt=tt.filter(function(ut){return Object.getOwnPropertyDescriptor(m,ut).enumerable})),V.push.apply(V,tt)}return V}function Ul(m){for(var Y=1;Y<arguments.length;Y++){var V=arguments[Y]!=null?arguments[Y]:{};Y%2?A0(Object(V),!0).forEach(function(tt){ye()(m,tt,V[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(V)):A0(Object(V)).forEach(function(tt){Object.defineProperty(m,tt,Object.getOwnPropertyDescriptor(V,tt))})}return m}function O1(m){for(var Y=0,V=arguments.length,tt=new Array(V>1?V-1:0),ut=1;ut<V;ut++)tt[ut-1]=arguments[ut];for(var Ot=0,Bt=tt;Ot<Bt.length;Ot++){var Ht=Bt[Ot];Y+=Ht.length}for(var Jt=new m(Y),oe=0,Se=0,Ye=tt;Se<Ye.length;Se++){var ir=Ye[Se];Jt.set(ir,oe),oe+=ir.length}return Jt}var D1=function(){function m(Y,V){_()(this,m),this.engine=Y,this.options=V,this.pipelineLayout=void 0,this.renderPipeline=void 0,this.uniformsBindGroupLayout=void 0,this.uniformBindGroup=void 0,this.uniformBuffer=void 0,this.uniforms={},this.uniformGPUBufferLayout=[],this.attributeCache={},this.indexBuffer=void 0,this.indexCount=void 0}return T()(m,[{key:"init",value:function(){var Y=z()(k().mark(function tt(){var ut=this,Ot,Bt,Ht,Jt,oe,Se,Ye,ir,C,U,it,Lt,Zt,ve,Me,He,$e,zr;return k().wrap(function(ln){for(;;)switch(ln.prev=ln.next){case 0:return Ot=this.options,Bt=Ot.vs,Ht=Ot.fs,Jt=Ot.attributes,oe=Ot.uniforms,Se=Ot.primitive,Ye=Ot.count,ir=Ot.elements,C=Ot.depth,U=Ot.blend,it=Ot.stencil,Lt=Ot.cull,Zt=Ot.instances,ln.next=3,this.compilePipelineStageDescriptor(Bt,Ht,null);case 3:ve=ln.sent,Me=ve.vertexStage,He=ve.fragmentStage,oe&&this.buildUniformBindGroup(oe),ir&&(this.indexBuffer=ir.get(),this.indexCount=ir.indexCount),$e={vertexBuffers:Object.keys(Jt).map(function($n,ii){var yi=Jt[$n],Ei=yi.get(),mi=Ei.arrayStride,di=Ei.stepMode,Ji=Ei.attributes;return ut.attributeCache[$n]=yi,{arrayStride:mi,stepMode:di,attributes:Ji}})},zr={sampleCount:this.engine.mainPassSampleCount,primitiveTopology:Nb[Se||Br.TRIANGLES],rasterizationState:Ul(Ul({},this.getDefaultRasterizationStateDescriptor()),{},{cullMode:zv({cull:Lt})}),depthStencilState:_0({depth:C,stencil:it}),colorStates:I1({blend:U},this.engine.options.swapChainFormat),layout:this.pipelineLayout,vertexStage:Me,fragmentStage:He,vertexState:$e},this.renderPipeline=this.engine.device.createRenderPipeline(zr);case 11:case"end":return ln.stop()}},tt,this)}));function V(){return Y.apply(this,arguments)}return V}()},{key:"addUniforms",value:function(V){this.uniforms=Ul(Ul({},this.uniforms),kv(V))}},{key:"draw",value:function(V){var tt=this,ut=this.engine.getCurrentRenderPass(),Ot=Ul(Ul({},this.uniforms),kv(V.uniforms||{})),Bt=[];Object.keys(Ot).forEach(function(Ht){var Jt=Zn()(Ot[Ht]);if(Jt==="boolean"||Jt==="number"||Array.isArray(Ot[Ht])||Ot[Ht].BYTES_PER_ELEMENT){var oe,Se=(oe=tt.uniformGPUBufferLayout.find(function(Zt){var ve=Zt.name;return ve===Ht}))===null||oe===void 0?void 0:oe.offset;Se!==null&&tt.uniformBuffer.subData({data:Ot[Ht],offset:Se})}else{var Ye,ir=(Ye=tt.uniformGPUBufferLayout.find(function(Zt){var ve=Zt.name;return ve===Ht}))===null||Ye===void 0?void 0:Ye.offset;if(ir!==null){var C=Ot[Ht].get(),U=C.color||C,it=U.texture,Lt=U.sampler;Lt&&(Bt.push({binding:ir,resource:Lt}),ir++),Bt.push({binding:ir,resource:it.createView()})}}}),this.uniformBuffer&&(Bt[0]={binding:0,resource:{buffer:this.uniformBuffer.get()}}),this.uniformBindGroup=this.engine.device.createBindGroup({layout:this.uniformsBindGroupLayout,entries:Bt}),this.renderPipeline&&ut.setPipeline(this.renderPipeline),ut.setBindGroup(0,this.uniformBindGroup),this.indexBuffer&&ut.setIndexBuffer(this.indexBuffer.get(),ri.iD.Uint32,0),Object.keys(this.attributeCache).forEach(function(Ht,Jt){ut.setVertexBuffer(0+Jt,tt.attributeCache[Ht].get().buffer,0)}),this.indexBuffer?ut.drawIndexed(this.indexCount,this.options.instances||1,0,0,0):ut.draw(this.options.count||0,this.options.instances||0,0,0)}},{key:"destroy",value:function(){throw new Error("Method not implemented.")}},{key:"compilePipelineStageDescriptor",value:function(){var Y=z()(k().mark(function tt(ut,Ot,Bt){var Ht,Jt,oe;return k().wrap(function(Ye){for(;;)switch(Ye.prev=Ye.next){case 0:if(Ht=`#version 450
`,Jt=ut,oe=Ot,this.engine.options.useWGSL){Ye.next=10;break}return Ye.next=6,this.compileShaderToSpirV(ut,"vertex",Ht);case 6:return Jt=Ye.sent,Ye.next=9,this.compileShaderToSpirV(Ot,"fragment",Ht);case 9:oe=Ye.sent;case 10:return Ye.abrupt("return",this.createPipelineStageDescriptor(Jt,oe));case 11:case"end":return Ye.stop()}},tt,this)}));function V(tt,ut,Ot){return Y.apply(this,arguments)}return V}()},{key:"compileShaderToSpirV",value:function(V,tt,ut){return this.compileRawShaderToSpirV(ut+V,tt)}},{key:"compileRawShaderToSpirV",value:function(V,tt){return this.engine.glslang.compileGLSL(V,tt)}},{key:"createPipelineStageDescriptor",value:function(V,tt){return{vertexStage:{module:this.engine.device.createShaderModule({code:V,isWHLSL:as}),entryPoint:"main"},fragmentStage:{module:this.engine.device.createShaderModule({code:tt,isWHLSL:as}),entryPoint:"main"}}}},{key:"getDefaultRasterizationStateDescriptor",value:function(){return{frontFace:ri.zX.CCW,cullMode:ri.Wf.None,depthBias:0,depthBiasSlopeScale:0,depthBiasClamp:0}}},{key:"buildUniformBindGroup",value:function(V){var tt=this,ut=0,Ot=O1.apply(void 0,[Float32Array].concat(zt()(Object.keys(V).map(function(Jt){return V[Jt]?(tt.uniformGPUBufferLayout.push({name:Jt,offset:ut}),ut+=(V[Jt].length||1)*4,V[Jt]):[]})))),Bt=[],Ht=!1;Ot.length&&(Ht=!0,Bt.push({binding:0,visibility:ri.$X.Fragment|ri.$X.Vertex,type:ri.$l.UniformBuffer})),Object.keys(V).filter(function(Jt){return V[Jt]===null}).forEach(function(Jt,oe){tt.uniformGPUBufferLayout.push({name:Jt,offset:oe*2+(Ht?1:0)}),Bt.push({binding:oe*2+(Ht?1:0),visibility:ri.$X.Fragment,type:ri.$l.Sampler},{binding:oe*2+(Ht?1:0)+1,visibility:ri.$X.Fragment,type:ri.$l.SampledTexture})}),this.uniformsBindGroupLayout=this.engine.device.createBindGroupLayout({entries:Bt}),this.pipelineLayout=this.engine.device.createPipelineLayout({bindGroupLayouts:[this.uniformsBindGroupLayout]}),Ht&&(this.uniformBuffer=new op(this.engine,{data:Ot instanceof Array?new Float32Array(Ot):Ot,usage:ri.FB.Uniform|ri.FB.CopyDst}))}}]),m}(),Mp=function(){function m(Y,V){_()(this,m),this.engine=Y,this.options=V,this.texture=void 0,this.sampler=void 0,this.width=void 0,this.height=void 0,this.createTexture()}return T()(m,[{key:"get",value:function(){return{texture:this.texture,sampler:this.sampler}}},{key:"update",value:function(){}},{key:"resize",value:function(V){var tt=V.width,ut=V.height;(tt!==this.width||ut!==this.height)&&(this.destroy(),this.createTexture()),this.width=tt,this.height=ut}},{key:"destroy",value:function(){this.texture&&this.texture.destroy()}},{key:"createTexture",value:function(){var V=this.options,tt=V.data,ut=V.type,Ot=ut===void 0?Br.UNSIGNED_BYTE:ut,Bt=V.width,Ht=V.height,Jt=V.flipY,oe=Jt===void 0?!1:Jt,Se=V.format,Ye=Se===void 0?Br.RGBA:Se,ir=V.mipmap,C=ir===void 0?!1:ir,U=V.wrapS,it=U===void 0?Br.CLAMP_TO_EDGE:U,Lt=V.wrapT,Zt=Lt===void 0?Br.CLAMP_TO_EDGE:Lt,ve=V.aniso,Me=ve===void 0?0:ve,He=V.alignment,$e=He===void 0?1:He,zr=V.premultiplyAlpha,nn=zr===void 0?!1:zr,ln=V.mag,$n=ln===void 0?Br.NEAREST:ln,ii=V.min,yi=ii===void 0?Br.NEAREST:ii,Ei=V.colorSpace,mi=Ei===void 0?Br.BROWSER_DEFAULT_WEBGL:Ei,di=V.usage;this.width=Bt,this.height=Ht,this.texture=this.engine.device.createTexture({size:[Bt,Ht,1],mipLevelCount:1,sampleCount:1,dimension:ri.kd.E2d,format:Wy[Ye],usage:di||ri.v2.Sampled|ri.v2.CopyDst}),(!di||di&ri.v2.Sampled)&&(this.sampler=this.engine.device.createSampler({addressModeU:w0[it],addressModeV:w0[Zt],addressModeW:w0[it],magFilter:Vy[$n],minFilter:Vy[yi],maxAnisotropy:Me}))}}]),m}(),Ra,Lg,Mc,tu=(Ra=(0,nt.b2)(),Ra(Lg=(Mc=function(){function m(){var Y=this;_()(this,m),this.supportWebGPU=!0,this.useWGSL=!1,this.options=void 0,this.canvas=void 0,this.context=void 0,this.glslang=void 0,this.adapter=void 0,this.device=void 0,this.swapChain=void 0,this.mainPassSampleCount=void 0,this.mainTexture=void 0,this.depthTexture=void 0,this.mainColorAttachments=void 0,this.mainTextureExtends=void 0,this.mainDepthAttachment=void 0,this.uploadEncoder=void 0,this.renderEncoder=void 0,this.computeEncoder=void 0,this.renderTargetEncoder=void 0,this.commandBuffers=new Array(4).fill(void 0),this.currentRenderPass=null,this.mainRenderPass=null,this.currentRenderTargetViewDescriptor=void 0,this.currentComputePass=null,this.bundleEncoder=void 0,this.tempBuffers=[],this.currentRenderTarget=null,this.uploadEncoderDescriptor={label:"upload"},this.renderEncoderDescriptor={label:"render"},this.renderTargetEncoderDescriptor={label:"renderTarget"},this.computeEncoderDescriptor={label:"compute"},this.pipelines={},this.computePipelines={},this.defaultSampleCount=4,this.clearDepthValue=1,this.clearStencilValue=0,this.transientViewport={x:1/0,y:0,width:0,height:0},this.cachedViewport={x:0,y:0,width:0,height:0},this.clear=function(V){var tt=V.framebuffer,ut=V.color,Ot=V.depth,Bt=V.stencil;Y.options.supportCompute&&Y.startComputePass(),Y.currentRenderTarget?(Y.currentRenderPass&&Y.endRenderTargetRenderPass(),Y.startRenderTargetRenderPass(Y.currentRenderTarget,ut||null,!!Ot,!!Bt)):(Y.mainColorAttachments[0].loadValue=ut||ri.Ws.Load,Y.mainDepthAttachment.depthLoadValue=Ot||ri.Ws.Load,Y.mainDepthAttachment.stencilLoadValue=Bt?Y.clearStencilValue:ri.Ws.Load,Y.mainRenderPass&&Y.endMainRenderPass(),Y.startMainRenderPass())},this.createModel=function(){var V=z()(k().mark(function tt(ut){var Ot;return k().wrap(function(Ht){for(;;)switch(Ht.prev=Ht.next){case 0:return Ot=new D1(Y,ut),Ht.next=3,Ot.init();case 3:return Ht.abrupt("return",Ot);case 4:case"end":return Ht.stop()}},tt)}));return function(tt){return V.apply(this,arguments)}}(),this.createAttribute=function(V){return new Gy(Y,V)},this.createBuffer=function(V){return new op(Y,V)},this.createElements=function(V){return new zy(Y,V)},this.createTexture2D=function(V){return new Mp(Y,V)},this.createFramebuffer=function(V){return new Uy(Y,V)},this.useFramebuffer=function(V,tt){Y.currentRenderTarget&&Y.unbindFramebuffer(Y.currentRenderTarget),Y.currentRenderTarget=V,Y.currentRenderTargetViewDescriptor={dimension:ri.p_.E2d,arrayLayerCount:1,aspect:ri.H7.All},Y.currentRenderPass=null,tt()},this.createComputeModel=function(){var V=z()(k().mark(function tt(ut){var Ot;return k().wrap(function(Ht){for(;;)switch(Ht.prev=Ht.next){case 0:return Ot=new M1(Y,ut),Ht.next=3,Ot.init();case 3:return Ht.abrupt("return",Ot);case 4:case"end":return Ht.stop()}},tt)}));return function(tt){return V.apply(this,arguments)}}(),this.getCanvas=function(){return Y.canvas},this.getGLContext=function(){throw new Error("Method not implemented.")},this.viewport=function(V){var tt=V.x,ut=V.y,Ot=V.width,Bt=V.height;if(!Y.currentRenderPass)Y.transientViewport={x:tt,y:ut,width:Ot,height:Bt};else if(Y.transientViewport.x!==1/0){var Ht=Y.getCurrentRenderPass();Ht.setViewport(Y.transientViewport.x,Y.transientViewport.y,Y.transientViewport.width,Y.transientViewport.height,0,1)}else if(tt!==Y.cachedViewport.x||ut!==Y.cachedViewport.y||Ot!==Y.cachedViewport.width||Bt!==Y.cachedViewport.height){Y.cachedViewport={x:tt,y:ut,width:Ot,height:Bt};var Jt=Y.getCurrentRenderPass();Jt.setViewport(tt,ut,Ot,Bt,0,1)}},this.readPixels=function(V){throw new Error("Method not implemented.")}}return T()(m,[{key:"isFloatSupported",value:function(){return!0}},{key:"init",value:function(){var Y=z()(k().mark(function tt(ut){return k().wrap(function(Bt){for(;;)switch(Bt.prev=Bt.next){case 0:return this.canvas=ut.canvas,this.options=ut,this.useWGSL=!!ut.useWGSL,this.mainPassSampleCount=ut.antialiasing?this.defaultSampleCount:1,Bt.next=6,this.initGlslang();case 6:this.initContextAndSwapChain(),this.initMainAttachments();case 8:case"end":return Bt.stop()}},tt,this)}));function V(tt){return Y.apply(this,arguments)}return V}()},{key:"setScissor",value:function(V){throw new Error("Method not implemented.")}},{key:"destroy",value:function(){this.mainTexture&&this.mainTexture.destroy(),this.depthTexture&&this.depthTexture.destroy(),this.tempBuffers.forEach(function(V){return V.destroy()}),this.tempBuffers=[]}},{key:"beginFrame",value:function(){this.uploadEncoder=this.device.createCommandEncoder(this.uploadEncoderDescriptor),this.renderEncoder=this.device.createCommandEncoder(this.renderEncoderDescriptor),this.renderTargetEncoder=this.device.createCommandEncoder(this.renderTargetEncoderDescriptor),this.options.supportCompute&&(this.computeEncoder=this.device.createCommandEncoder(this.computeEncoderDescriptor))}},{key:"endFrame",value:function(){this.options.supportCompute&&this.endComputePass(),this.endMainRenderPass(),this.commandBuffers[0]=this.uploadEncoder.finish(),this.commandBuffers[1]=this.renderEncoder.finish(),this.options.supportCompute&&(this.commandBuffers[2]=this.computeEncoder.finish()),this.commandBuffers[3]=this.renderTargetEncoder.finish(),as?this.device.getQueue().submit(this.commandBuffers.filter(function(V){return V})):this.device.defaultQueue.submit(this.commandBuffers.filter(function(V){return V}))}},{key:"getCurrentRenderPass",value:function(){return this.currentRenderTarget&&!this.currentRenderPass?this.startRenderTargetRenderPass(this.currentRenderTarget,null,!1,!1):this.currentRenderPass||this.startMainRenderPass(),this.currentRenderPass}},{key:"initGlslang",value:function(){var Y=z()(k().mark(function tt(){var ut,Ot;return k().wrap(function(Ht){for(;;)switch(Ht.prev=Ht.next){case 0:return Ht.next=2,By();case 2:return this.glslang=Ht.sent,Ht.next=5,(ut=navigator)===null||ut===void 0||(Ot=ut.gpu)===null||Ot===void 0?void 0:Ot.requestAdapter();case 5:return this.adapter=Ht.sent,Ht.next=8,this.adapter.requestDevice();case 8:this.device=Ht.sent;case 9:case"end":return Ht.stop()}},tt,this)}));function V(){return Y.apply(this,arguments)}return V}()},{key:"initContextAndSwapChain",value:function(){this.context=this.canvas.getContext(as?"gpu":"gpupresent"),this.swapChain=this.context.configureSwapChain({device:this.device,format:this.options.swapChainFormat,usage:ri.v2.OutputAttachment|ri.v2.CopySrc})}},{key:"initMainAttachments",value:function(){if(this.mainTextureExtends={width:this.canvas.width,height:this.canvas.height,depth:1},this.options.antialiasing){var V={size:this.mainTextureExtends,mipLevelCount:1,sampleCount:this.mainPassSampleCount,dimension:ri.kd.E2d,format:ri.EV.BGRA8Unorm,usage:ri.v2.OutputAttachment};this.mainTexture&&this.mainTexture.destroy(),this.mainTexture=this.device.createTexture(V),this.mainColorAttachments=[{attachment:as?this.mainTexture.createDefaultView():this.mainTexture.createView(),loadValue:[0,0,0,1],storeOp:ri.EG.Store}]}else this.mainColorAttachments=[{attachment:as?this.swapChain.getCurrentTexture().createDefaultView():this.swapChain.getCurrentTexture().createView(),loadValue:[0,0,0,1],storeOp:ri.EG.Store}];var tt={size:this.mainTextureExtends,mipLevelCount:1,sampleCount:this.mainPassSampleCount,dimension:ri.kd.E2d,format:as?"depth32float-stencil8":ri.EV.Depth24PlusStencil8,usage:ri.v2.OutputAttachment};this.depthTexture&&this.depthTexture.destroy(),this.depthTexture=this.device.createTexture(tt),this.mainDepthAttachment={attachment:as?this.depthTexture.createDefaultView():this.depthTexture.createView(),depthLoadValue:this.clearDepthValue,depthStoreOp:ri.EG.Store,stencilLoadValue:this.clearStencilValue,stencilStoreOp:ri.EG.Store}}},{key:"startComputePass",value:function(){this.currentComputePass&&this.endComputePass(),this.currentComputePass=this.computeEncoder.beginComputePass()}},{key:"startMainRenderPass",value:function(){this.currentRenderPass&&!this.currentRenderTarget&&this.endMainRenderPass(),this.options.antialiasing?this.mainColorAttachments[0].resolveTarget=as?this.swapChain.getCurrentTexture().createDefaultView():this.swapChain.getCurrentTexture().createView():this.mainColorAttachments[0].attachment=as?this.swapChain.getCurrentTexture().createDefaultView():this.swapChain.getCurrentTexture().createView(),this.currentRenderPass=this.renderEncoder.beginRenderPass({colorAttachments:this.mainColorAttachments,depthStencilAttachment:this.mainDepthAttachment}),this.mainRenderPass=this.currentRenderPass,this.cachedViewport&&this.viewport(this.cachedViewport)}},{key:"startRenderTargetRenderPass",value:function(V,tt,ut){var Ot,Bt,Ht=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,Jt=(Ot=V.get().color)===null||Ot===void 0?void 0:Ot.texture,oe;Jt&&(oe=Jt.createView(this.currentRenderTargetViewDescriptor));var Se=(Bt=V.get().depth)===null||Bt===void 0?void 0:Bt.texture,Ye;Se&&(Ye=Se.createView());var ir=this.renderTargetEncoder.beginRenderPass({colorAttachments:[{attachment:oe,loadValue:tt!==null?tt:ri.Ws.Load,storeOp:ri.EG.Store}],depthStencilAttachment:Se&&Ye?{attachment:Ye,depthLoadValue:ut?this.clearDepthValue:ri.Ws.Load,depthStoreOp:ri.EG.Store,stencilLoadValue:Ht?this.clearStencilValue:ri.Ws.Load,stencilStoreOp:ri.EG.Store}:void 0});this.currentRenderPass=ir,this.cachedViewport&&this.viewport(this.cachedViewport)}},{key:"endMainRenderPass",value:function(){this.currentRenderPass===this.mainRenderPass&&this.currentRenderPass!==null&&(this.currentRenderPass.endPass(),this.resetCachedViewport(),this.currentRenderPass=null,this.mainRenderPass=null)}},{key:"endComputePass",value:function(){this.currentComputePass&&(this.currentComputePass.endPass(),this.currentComputePass=null)}},{key:"endRenderTargetRenderPass",value:function(){this.currentRenderPass&&(this.currentRenderPass.endPass(),this.resetCachedViewport())}},{key:"resetCachedViewport",value:function(){this.cachedViewport={x:0,y:0,width:0,height:0}}},{key:"unbindFramebuffer",value:function(V){this.currentRenderPass&&this.currentRenderPass!==this.mainRenderPass&&this.endRenderTargetRenderPass(),this.transientViewport.x=1/0,this.currentRenderTarget=null,this.currentRenderPass=this.mainRenderPass}}]),m}(),Mc))||Lg),Hy,Ud;function Yy(m){var Y=P1();return function(){var tt=Et()(m),ut;if(Y){var Ot=Et()(this).constructor;ut=Reflect.construct(tt,arguments,Ot)}else ut=tt.apply(this,arguments);return gt()(this,ut)}}function P1(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(m){return!1}}var Kp=4/64,Xy=1-Kp*2,$y=(Hy=(0,nt.b2)(),Hy(Ud=function(m){vt()(V,m);var Y=Yy(V);function V(){return _()(this,V),Y.apply(this,arguments)}return T()(V,[{key:"onEntityCreated",value:function(){var ut=this.config,Ot=ut.widthSegments,Bt=Ot===void 0?1:Ot,Ht=ut.heightSegments,Jt=Ht===void 0?1:Ht,oe=ut.depthSegments,Se=oe===void 0?1:oe,Ye=ut.halfExtents,ir=Ye===void 0?me.al(.5,.5,.5):Ye,C=Bt,U=Jt,it=Se,Lt=q()(ir,3),Zt=Lt[0],ve=Lt[1],Me=Lt[2],He=[me.al(-Zt,-ve,Me),me.al(Zt,-ve,Me),me.al(Zt,ve,Me),me.al(-Zt,ve,Me),me.al(Zt,-ve,-Me),me.al(-Zt,-ve,-Me),me.al(-Zt,ve,-Me),me.al(Zt,ve,-Me)],$e=[[0,1,3],[4,5,7],[3,2,6],[1,0,4],[1,4,2],[5,0,6]],zr=[[0,0,1],[0,0,-1],[0,1,0],[0,-1,0],[1,0,0],[-1,0,0]],nn={FRONT:0,BACK:1,TOP:2,BOTTOM:3,RIGHT:4,LEFT:5},ln=[],$n=[],ii=[],yi=[],Ei=[],mi=0,di=function(Va,cs,il){var js,Wv,Kg,gv;for(Kg=0;Kg<=cs;Kg++)for(gv=0;gv<=il;gv++){var Xb=me.Ue(),G2=me.Ue(),yx=me.Ue(),Am=me.Ue();me.t7(Xb,He[$e[Va][0]],He[$e[Va][1]],Kg/cs),me.t7(G2,He[$e[Va][0]],He[$e[Va][2]],gv/il),me.lu(yx,G2,He[$e[Va][0]]),me.IH(Am,Xb,yx),js=Kg/cs,Wv=gv/il,ln.push(Am[0],Am[1],Am[2]),$n.push(zr[Va][0],zr[Va][1],zr[Va][2]),ii.push(js,Wv),js/=3,Wv/=3,js=js*Xy+Kp,Wv=Wv*Xy+Kp,js+=Va%3/3,Wv+=Math.floor(Va/3)/3,yi.push(js,Wv),Kg<cs&&gv<il&&(Ei.push(mi+il+1,mi+1,mi),Ei.push(mi+il+1,mi+il+2,mi+1)),mi++}};di(nn.FRONT,C,U),di(nn.BACK,C,U),di(nn.TOP,C,it),di(nn.BOTTOM,C,it),di(nn.RIGHT,it,U),di(nn.LEFT,it,U);var Ji=Ju(ln),us=this.getComponent();us.indices=Uint32Array.from(Ei),us.aabb=Ji,us.vertexCount=mi,us.attributes=[{dirty:!0,name:"position",data:Float32Array.from(ln),arrayStride:4*3,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float3"}]},{dirty:!0,name:"normal",data:Float32Array.from($n),arrayStride:4*3,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float3"}]},{dirty:!0,name:"uv",data:Float32Array.from(ii),arrayStride:4*2,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float2"}]}]}}]),V}(wl))||Ud);function Rg(m,Y){if(!m&&!Y)throw new Error("Please specify valid arguments for parameters a and b.");if(!Y||Y.length===0)return m;if(!m||m.length===0)return Y;if(Object.prototype.toString.call(m)!==Object.prototype.toString.call(Y))throw new Error("The types of the two arguments passed for parameters a and b do not match.");var V=new m.constructor(m.length+Y.length);return V.set(m),V.set(Y,m.length),V}var Ky,xd;function Zy(m){var Y=Zp();return function(){var tt=Et()(m),ut;if(Y){var Ot=Et()(this).constructor;ut=Reflect.construct(tt,arguments,Ot)}else ut=tt.apply(this,arguments);return gt()(this,ut)}}function Zp(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(m){return!1}}var eu=(Ky=(0,nt.b2)(),Ky(xd=function(m){vt()(V,m);var Y=Zy(V);function V(){return _()(this,V),Y.apply(this,arguments)}return T()(V,[{key:"onEntityCreated",value:function(){var ut=this.config.geometries,Ot=ut===void 0?[]:ut,Bt=this.getComponent();Bt.aabb=new Lc;var Ht=[],Jt=[],oe=0;Ot.forEach(function(Se){var Ye=Se.aabb,ir=Se.indices,C=Se.vertexCount,U=Se.attributes;Bt.aabb.add(Ye),Bt.vertexCount+=C,ir&&Jt.push.apply(Jt,zt()(ir.map(function(it){return it+oe}))),oe+=C,U.forEach(function(it,Lt){Ht[Lt]?it.data&&(dd(it.data)?Ht[Lt].push(it.data):Rr(it.data)?Ht[Lt].data=Rg(Ht[Lt].data,it.data):Ht[Lt].data=Ht[Lt].data.concat(it.data)):(Ht[Lt]=it,Ht[Lt].dirty=!0)})}),Bt.attributes=Ht,Bt.indices=Uint32Array.from(Jt),Bt.dirty=!0}}]),V}(wl))||xd),ru,C0;function Fg(m){var Y=L1();return function(){var tt=Et()(m),ut;if(Y){var Ot=Et()(this).constructor;ut=Reflect.construct(tt,arguments,Ot)}else ut=tt.apply(this,arguments);return gt()(this,ut)}}function L1(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(m){return!1}}var R1=(ru=(0,nt.b2)(),ru(C0=function(m){vt()(V,m);var Y=Fg(V);function V(){return _()(this,V),Y.apply(this,arguments)}return T()(V,[{key:"onEntityCreated",value:function(){for(var ut=this.config,Ot=ut.halfExtents,Bt=Ot===void 0?[.5,.5]:Ot,Ht=ut.widthSegments,Jt=Ht===void 0?5:Ht,oe=ut.lengthSegments,Se=oe===void 0?5:oe,Ye=[],ir=[],C=[],U=[],it=0,Lt=0;Lt<=Jt;Lt++)for(var Zt=0;Zt<=Se;Zt++){var ve=-Bt[0]+2*Bt[0]*Lt/Jt,Me=0,He=-(-Bt[1]+2*Bt[1]*Zt/Se),$e=Lt/Jt,zr=Zt/Se;Ye.push(ve,Me,He),ir.push(0,1,0),C.push($e,zr),Lt<Jt&&Zt<Se&&(U.push(it+Se+1,it+1,it),U.push(it+Se+1,it+Se+2,it+1)),it++}var nn=Ju(Ye),ln=this.getComponent();ln.indices=Uint32Array.from(U),ln.aabb=nn,ln.vertexCount=it,ln.attributes=[{dirty:!0,name:"position",data:Float32Array.from(Ye),arrayStride:4*3,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float3"}]},{dirty:!0,name:"normal",data:Float32Array.from(ir),arrayStride:4*3,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float3"}]},{dirty:!0,name:"uv",data:Float32Array.from(C),arrayStride:4*2,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float2"}]}]}}]),V}(wl))||C0),Qy,F1;function Jy(m){var Y=qy();return function(){var tt=Et()(m),ut;if(Y){var Ot=Et()(this).constructor;ut=Reflect.construct(tt,arguments,Ot)}else ut=tt.apply(this,arguments);return gt()(this,ut)}}function qy(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(m){return!1}}var Qp=(Qy=(0,nt.b2)(),Qy(F1=function(m){vt()(V,m);var Y=Jy(V);function V(){return _()(this,V),Y.apply(this,arguments)}return T()(V,[{key:"onEntityCreated",value:function(){for(var ut=this.config,Ot=ut.radius,Bt=Ot===void 0?.5:Ot,Ht=ut.latitudeBands,Jt=Ht===void 0?16:Ht,oe=ut.longitudeBands,Se=oe===void 0?16:oe,Ye=[],ir=[],C=[],U=[],it=0;it<=Jt;it++)for(var Lt=it*Math.PI/Jt,Zt=Math.sin(Lt),ve=Math.cos(Lt),Me=0;Me<=Se;Me++){var He=Me*2*Math.PI/Se-Math.PI/2,$e=Math.sin(He),zr=Math.cos(He),nn=zr*Zt,ln=ve,$n=$e*Zt,ii=1-Me/Se,yi=1-it/Jt;Ye.push(nn*Bt,ln*Bt,$n*Bt),ir.push(nn,ln,$n),C.push(ii,yi)}for(var Ei=0;Ei<Jt;++Ei)for(var mi=0;mi<Se;++mi){var di=Ei*(Se+1)+mi,Ji=di+Se+1;U.push(di+1,Ji,di),U.push(di+1,Ji+1,Ji)}var us=Ju(Ye),ls=this.getComponent();ls.indices=Uint32Array.from(U),ls.aabb=us,ls.vertexCount=Ye.length/3,ls.attributes=[{dirty:!0,name:"position",data:Float32Array.from(Ye),arrayStride:4*3,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float3"}]},{dirty:!0,name:"normal",data:Float32Array.from(ir),arrayStride:4*3,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float3"}]},{dirty:!0,name:"uv",data:Float32Array.from(C),arrayStride:4*2,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float2"}]}]}}]),V}(wl))||F1),Ng,tm,Ip,Op,jl,jd,em,Jp;function Uv(m){var Y=Bb();return function(){var tt=Et()(m),ut;if(Y){var Ot=Et()(this).constructor;ut=Reflect.construct(tt,arguments,Ot)}else ut=tt.apply(this,arguments);return gt()(this,ut)}}function Bb(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(m){return!1}}var Gb=`varying vec4 fragColor;

#pragma include "uv.frag.declaration"
#pragma include "map.frag.declaration"

void main() {
  vec4 diffuseColor = fragColor;

  #pragma include "map.frag.main"

  gl_FragColor = diffuseColor;
}`,N1=`attribute vec3 position;
attribute vec3 normal;

uniform mat4 projectionMatrix;
uniform mat4 modelViewMatrix;
uniform vec4 color;

varying vec4 fragColor;

#pragma include "uv.vert.declaration"

void main() {
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
  fragColor = color;

  #pragma include "uv.vert.main"
}`,jv=`// layout(set = 0, binding = 1) uniform WireframeUniforms {
//   float lineWidth;
//   vec4 lineColor;
// } wireframe;

layout(location = 0) in vec4 fragColor;
// layout(location = 1) in vec3 v_Barycentric;

layout(location = 0) out vec4 outColor;

// wireframe
// float edgeFactor() {
//   vec3 d = fwidth(v_Barycentric);
//   vec3 a3 = smoothstep(vec3(0.0), d * wireframe.lineWidth, v_Barycentric);
//   return min(min(a3.x, a3.y), a3.z);
// }

void main() {
  // outColor = mix(fragColor, wireframe.lineColor, (1.0 - edgeFactor()));
  outColor = fragColor;
}`,to=`layout(set = 0, binding = 0) uniform Uniforms {
  vec4 color;
  mat4 projectionMatrix;
  mat4 modelViewMatrix;
} uniforms;

layout(location = 0) in vec3 position;
// layout(location = 1) in vec3 barycentric;

layout(location = 0) out vec4 fragColor;
// layout(location = 1) out vec3 v_Barycentric;

void main() {
  gl_Position = uniforms.projectionMatrix * uniforms.modelViewMatrix * vec4(position, 1.0);
  fragColor = uniforms.color;
  // v_Barycentric = barycentric;
}`,k1=(Ng=(0,nt.b2)(),tm=(0,nt.f3)(ct.RenderEngine),Ip=(0,nt.f3)(ct.ShaderModuleService),Ng(Op=(jl=(Jp=function(m){vt()(V,m);var Y=Uv(V);function V(){var tt;_()(this,V);for(var ut=arguments.length,Ot=new Array(ut),Bt=0;Bt<ut;Bt++)Ot[Bt]=arguments[Bt];return tt=Y.call.apply(Y,[this].concat(Ot)),b()(tt,"engine",jd,Xt()(tt)),b()(tt,"shaderModuleService",em,Xt()(tt)),tt}return T()(V,[{key:"onEntityCreated",value:function(){var ut=this.getComponent(),Ot=this.engine.supportWebGPU?to:N1,Bt=this.engine.supportWebGPU?jv:Gb;this.shaderModuleService.registerModule("material-basic",{vs:Ot,fs:Bt});var Ht=this.shaderModuleService.getModule("material-basic"),Jt=Ht.vs,oe=Ht.fs,Se=Ht.uniforms;ut.vertexShaderGLSL=Jt,ut.fragmentShaderGLSL=oe,ut.setUniform(Se),this.config.map&&(ut.setDefines({USE_UV:1,USE_MAP:1}),ut.setUniform({map:this.config.map,uvTransform:kn.create()}))}}]),V}(Qi),Jp),jd=M()(jl.prototype,"engine",[tm],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),em=M()(jl.prototype,"shaderModuleService",[Ip],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jl))||Op),Fh,rm,B1,Xo,G1,nm,kg,Bg,z1,U1,j1,W1;function zb(m){var Y=Ub();return function(){var tt=Et()(m),ut;if(Y){var Ot=Et()(this).constructor;ut=Reflect.construct(tt,arguments,Ot)}else ut=tt.apply(this,arguments);return gt()(this,ut)}}function Ub(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(m){return!1}}var jb=`// generate grid, borrow from clay.gl viewer
// @see https://github.com/pissang/clay-viewer/blob/master/src/graphic/ground.glsl
#extension GL_OES_standard_derivatives : enable

varying vec3 v_Position;
// varying vec3 v_Normal;

uniform float u_GridSize : 5;
uniform float u_GridSize2 : .5;
uniform vec4 u_GridColor : [0, 0, 0, 1];
uniform vec4 u_GridColor2 : [0.3, 0.3, 0.3, 1];
uniform bool u_GridEnabled : true;

// uniform vec3 u_LightDirection;
// uniform vec3 u_LightColor;
// uniform vec3 u_Camera;

void main() {
  // vec3 n = v_Normal;
  // vec3 l = normalize(u_LightDirection);
  // float NdotL = clamp(dot(n, l), 0.001, 1.0);

  gl_FragColor = vec4(1.);

  if (u_GridEnabled) {
    float wx = v_Position.x;
    float wz = v_Position.z;
    // float x0 = abs(fract(wx / u_GridSize - 0.5) - 0.5) / fwidth(wx) * u_GridSize / 2.0;
    // float z0 = abs(fract(wz / u_GridSize - 0.5) - 0.5) / fwidth(wz) * u_GridSize / 2.0;

    float x1 = abs(fract(wx / u_GridSize2 - 0.5) - 0.5) / fwidth(wx) * u_GridSize2;
    float z1 = abs(fract(wz / u_GridSize2 - 0.5) - 0.5) / fwidth(wz) * u_GridSize2;

    // float v0 = 1.0 - clamp(min(x0, z0), 0.0, 1.0);
    float v1 = 1.0 - clamp(min(x1, z1), 0.0, 1.0);
    // if (v0 > 0.1) {
        // gl_FragColor = mix(gl_FragColor, u_GridColor, v0);
    // }
    // else {
        gl_FragColor = mix(gl_FragColor, u_GridColor2, v1);
    // }
  }

  // float shadowFactor = calcShadow(u_ShadowMap, v_PositionFromLight, l, n);
  // vec3 diffuseColor = u_LightColor * NdotL * shadowFactor;

  // gl_FragColor.rgb *= diffuseColor;
}`,V1=`attribute vec3 a_Position;

varying vec3 v_Position;

uniform mat4 projectionMatrix;
uniform mat4 modelViewMatrix;

void main() {
  v_Position = a_Position;
  gl_Position = projectionMatrix * modelViewMatrix * vec4(a_Position, 1.);
}`,H1=(Fh=(0,nt.b2)(),rm=(0,nt.f3)(ct.Systems),B1=(0,nt.t6)(ct.MaterialSystem),Xo=(0,nt.f3)(ct.Systems),G1=(0,nt.t6)(ct.GeometrySystem),nm=(0,nt.f3)(ct.ShaderModuleService),Fh(kg=(Bg=(W1=function(m){vt()(V,m);var Y=zb(V);function V(){var tt;_()(this,V);for(var ut=arguments.length,Ot=new Array(ut),Bt=0;Bt<ut;Bt++)Ot[Bt]=arguments[Bt];return tt=Y.call.apply(Y,[this].concat(Ot)),b()(tt,"materialSystem",z1,Xt()(tt)),b()(tt,"geometrySystem",U1,Xt()(tt)),b()(tt,"shaderModuleService",j1,Xt()(tt)),tt}return T()(V,[{key:"onAttributeChanged",value:function(ut){var Ot=ut.name,Bt=ut.data,Ht=this.getMeshComponent();Ht&&Ht.material&&(Ot==="gridColor"?(Ht.material.setUniform("u_GridColor",Bt),Ht.material.setUniform("u_GridColor2",Bt)):Ot==="gridSize"&&(Ht.material.setUniform("u_GridSize",Bt),Ht.material.setUniform("u_GridSize2",Bt)))}},{key:"onEntityCreated",value:function(){this.shaderModuleService.registerModule("grid",{vs:V1,fs:jb});var ut=this.shaderModuleService.getModule("grid"),Ot=ut.vs,Bt=ut.fs,Ht=ut.uniforms,Jt=this.materialSystem.createShaderMaterial({vertexShader:Ot,fragmentShader:Bt});this.setMaterial(Jt);var oe=this.geometrySystem.createBufferGeometry({vertexCount:4});this.setGeometry(oe),Jt.setCull({enable:!1,face:Br.BACK}).setDepth({enable:!0,func:Br.LESS}),Jt.setUniform(Ht),this.setAttributes({gridColor:this.config.gridColor,gridSize:this.config.gridSize}),oe.setIndex([0,3,2,2,1,0]),oe.setAttribute("a_Position",Float32Array.from([-4,-1,-4,4,-1,-4,4,-1,4,-4,-1,4]),{arrayStride:4*2,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]})}}]),V}(Oe),W1),z1=M()(Bg.prototype,"materialSystem",[rm,B1],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U1=M()(Bg.prototype,"geometrySystem",[Xo,G1],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j1=M()(Bg.prototype,"shaderModuleService",[nm],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bg))||kg),Gg=d(32644),up=d(40582);function zg(m,Y,V,tt,ut){cv(Y,tt,-ut),cv(Y,tt,ut),m.push(V),m.push(V)}function cv(m,Y,V){m.push([[Y[0],Y[1]],V])}function Y1(m,Y,V){var tt=[0,0],ut=[0,0],Ot=[0,0],Bt=[0,0],Ht=-1,Jt=!1,oe=null,Se=(0,Gg.create)(),Ye=V||0,ir=3,C=[],U=[],it=[],Lt=[0,0];Y&&(m=m.slice(),m.push(m[0]));for(var Zt=m.length,ve=1;ve<Zt;ve++){var Me=Ye,He=m[ve-1],$e=m[ve],zr=ve<m.length-1?m[ve+1]:null;if(Lt.push(ve/Zt,ve/Zt),(0,up.o7)(tt,$e,He),oe||(oe=[0,0],(0,up.mJ)(oe,tt)),Jt||(Jt=!0,zg(U,C,He,oe,1)),it.push([Me+0,Me+1,Me+2]),!zr)(0,up.mJ)(oe,tt),zg(U,C,$e,oe,1),it.push(Ht===1?[Me,Me+2,Me+3]:[Me+2,Me+1,Me+3]),Ye+=2;else{(0,up.o7)(ut,zr,$e);var nn=(0,up.x7)(Ot,Bt,tt,ut,1),ln=(0,Gg.dot)(Ot,oe)<0?-1:1,$n=nn>ir;if(!isFinite(nn)){(0,up.mJ)(oe,tt),zg(U,C,$e,oe,1),it.push(Ht===1?[Me,Me+2,Me+3]:[Me+2,Me+1,Me+3]),Ye+=2,Ht=ln;continue}$n?(nn=ir,Lt.push(ve/Zt),cv(C,oe,-ln),U.push($e),cv(C,Bt,nn*ln),U.push($e),it.push(Ht!==-ln?[Me,Me+2,Me+3]:[Me+2,Me+1,Me+3]),it.push([Me+2,Me+3,Me+4]),(0,up.mJ)(Se,ut),(0,Gg.copy)(oe,Se),cv(C,oe,-ln),U.push($e),Ye+=3):(zg(U,C,$e,Bt,nn),it.push(Ht===1?[Me,Me+2,Me+3]:[Me+2,Me+1,Me+3]),ln=-1,(0,Gg.copy)(oe,Bt),Ye+=2),Ht=ln}}return{normals:C,attrIndex:it,attrPos:U,attrCounters:Lt}}var Ug,im,am,T0,rl,nl,om,fv,X1,sm,$1,K1;function Wb(m){var Y=Z1();return function(){var tt=Et()(m),ut;if(Y){var Ot=Et()(this).constructor;ut=Reflect.construct(tt,arguments,Ot)}else ut=tt.apply(this,arguments);return gt()(this,ut)}}function Z1(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(m){return!1}}var Vb=`uniform float u_dash_array : 0.02;
uniform float u_dash_offset : 0;
uniform float u_dash_ratio : 0;
uniform float u_thickness : 0.02;

varying vec4 v_color;
varying vec2 v_normal;
varying float v_counters;

void main() {
    float blur = 1. - smoothstep(0.98, 1., length(v_normal));

    gl_FragColor = v_color;
    gl_FragColor.a *= blur * ceil(mod(v_counters + u_dash_offset, u_dash_array) - (u_dash_array * u_dash_ratio));
}`,Hb=`attribute vec2 a_pos;
attribute vec4 a_color;
attribute float a_line_miter;
attribute vec2 a_line_normal;
attribute float a_counters;

uniform mat4 projectionMatrix;
uniform mat4 modelViewMatrix;
uniform float u_thickness : 0.02;
uniform vec2 u_viewport;

varying vec4 v_color;
varying vec2 v_normal;
varying float v_counters;

void main() {
  v_color = a_color;
  v_counters = a_counters;

  vec3 normal = normalize(vec3(a_line_normal, 0.0));

  vec4 offset = vec4(normal * u_thickness / 2.0 * a_line_miter, 0.0);

  v_normal = vec2(normal * sign(a_line_miter));

  gl_Position = projectionMatrix * modelViewMatrix * vec4(a_pos, 0.0, 1.0) + offset;
}
`,Yb=(Ug=(0,nt.b2)(),im=(0,nt.f3)(ct.Systems),am=(0,nt.t6)(ct.MaterialSystem),T0=(0,nt.f3)(ct.Systems),rl=(0,nt.t6)(ct.GeometrySystem),nl=(0,nt.f3)(ct.ShaderModuleService),Ug(om=(fv=(K1=function(m){vt()(V,m);var Y=Wb(V);function V(){var tt;_()(this,V);for(var ut=arguments.length,Ot=new Array(ut),Bt=0;Bt<ut;Bt++)Ot[Bt]=arguments[Bt];return tt=Y.call.apply(Y,[this].concat(Ot)),b()(tt,"materialSystem",X1,Xt()(tt)),b()(tt,"geometrySystem",sm,Xt()(tt)),b()(tt,"shaderModuleService",$1,Xt()(tt)),tt.vertexCount=void 0,tt}return T()(V,[{key:"onAttributeChanged",value:function(ut){var Ot=ut.name,Bt=ut.data,Ht=this.getMeshComponent();if(Ht&&Ht.material)switch(Ot){case"dashArray":Ht.material.setUniform("u_dash_array",Bt);break;case"dashOffset":Ht.material.setUniform("u_dash_offset",Bt);break;case"dashRatio":Ht.material.setUniform("u_dash_ratio",Bt);break;case"thickness":Ht.material.setUniform("u_thickness",Bt);break;case"color":var Jt=new Array(this.vertexCount).fill(void 0).map(function(){return Bt}).reduce(function(oe,Se){return[].concat(zt()(oe),zt()(Se))},[]);Ht.geometry.setAttribute("a_color",Float32Array.from(Jt),{arrayStride:4*4,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float4"}]});break}}},{key:"onEntityCreated",value:function(){var ut=this;this.shaderModuleService.registerModule("line",{vs:Hb,fs:Vb});var Ot=this.shaderModuleService.getModule("line"),Bt=Ot.vs,Ht=Ot.fs,Jt=Ot.uniforms,oe=this.materialSystem.createShaderMaterial({vertexShader:Bt,fragmentShader:Ht}),Se=Y1(this.config.points,!1),Ye=Se.normals,ir=Se.attrIndex,C=Se.attrPos,U=Se.attrCounters,it=C.length;this.vertexCount=it;var Lt=this.geometrySystem.createBufferGeometry({vertexCount:it});this.setMaterial(oe),this.setGeometry(Lt),oe.setCull({enable:!1,face:Br.BACK}).setUniform(Jt),this.setAttributes({dashArray:this.config.dashArray,dashOffset:this.config.dashOffset,dashRatio:this.config.dashRatio,thickness:this.config.thickness});var Zt=[],ve=[];Ye.forEach(function(He){var $e=He[0],zr=He[1];Zt.push([$e[0],$e[1]]),ve.push(zr)}),Lt.setIndex(ir.reduce(function(He,$e){return[].concat(zt()(He),zt()($e))},[])),Lt.setAttribute("a_pos",Float32Array.from(C.reduce(function(He,$e){return[].concat(zt()(He),zt()($e))},[])),{arrayStride:4*2,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]});var Me=new Array(it).fill(void 0).map(function(){return zt()(ut.config.color)}).reduce(function(He,$e){return[].concat(zt()(He),zt()($e))},[]);Lt.setAttribute("a_color",Float32Array.from(Me),{arrayStride:4*4,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float4"}]}),Lt.setAttribute("a_line_miter",Float32Array.from(ve),{arrayStride:4*1,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float"}]}),Lt.setAttribute("a_line_normal",Float32Array.from(Zt.reduce(function(He,$e){return[].concat(zt()(He),zt()($e))},[])),{arrayStride:4*2,stepMode:"vertex",attributes:[{shaderLocation:3,offset:0,format:"float2"}]}),Lt.setAttribute("a_counters",Float32Array.from(U),{arrayStride:4*1,stepMode:"vertex",attributes:[{shaderLocation:4,offset:0,format:"float"}]})}}]),V}(Oe),K1),X1=M()(fv.prototype,"materialSystem",[im,am],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sm=M()(fv.prototype,"geometrySystem",[T0,rl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$1=M()(fv.prototype,"shaderModuleService",[nl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fv))||om);function Q1(m){return[m+1&255,m+1>>8&255,m+1>>8>>8&255]}var um,J1,q1,tx,ex,Dp,rx,jg,nx,ix,ax,lm;function M0(m,Y){var V=Object.keys(m);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(m);Y&&(tt=tt.filter(function(ut){return Object.getOwnPropertyDescriptor(m,ut).enumerable})),V.push.apply(V,tt)}return V}function ox(m){for(var Y=1;Y<arguments.length;Y++){var V=arguments[Y]!=null?arguments[Y]:{};Y%2?M0(Object(V),!0).forEach(function(tt){ye()(m,tt,V[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(V)):M0(Object(V)).forEach(function(tt){Object.defineProperty(m,tt,Object.getOwnPropertyDescriptor(V,tt))})}return m}function sx(m){var Y=ux();return function(){var tt=Et()(m),ut;if(Y){var Ot=Et()(this).constructor;ut=Reflect.construct(tt,arguments,Ot)}else ut=tt.apply(this,arguments);return gt()(this,ut)}}function ux(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(m){return!1}}var lx=`uniform float u_blur : 0.05;
uniform float u_opacity : 0.7;
uniform float u_stroke_width : 0.01;
uniform vec4 u_stroke_color : [0, 0, 0, 0];
uniform float u_stroke_opacity : 1;

varying vec4 v_color;
varying vec4 v_data;
varying float v_radius;

#pragma include "sdf2d"
#pragma include "picking"

void main() {
  int shape = int(floor(v_data.w + 0.5));

  float antialiasblur = v_data.z;
  float antialiased_blur = -max(u_blur, antialiasblur);
  float r = v_radius / (v_radius + u_stroke_width);

  float outer_df;
  float inner_df;
  // 'circle', 'triangle', 'square', 'pentagon', 'hexagon', 'octogon', 'hexagram', 'rhombus', 'vesica'
  // if (shape == 0) {
    outer_df = sdCircle(v_data.xy, 1.0);
    inner_df = sdCircle(v_data.xy, r);
  // } else if (shape == 1) {
  //   outer_df = sdEquilateralTriangle(1.1 * v_data.xy);
  //   inner_df = sdEquilateralTriangle(1.1 / r * v_data.xy);
  // } else if (shape == 2) {
  //   outer_df = sdBox(v_data.xy, vec2(1.));
  //   inner_df = sdBox(v_data.xy, vec2(r));
  // } else if (shape == 3) {
  //   outer_df = sdPentagon(v_data.xy, 0.8);
  //   inner_df = sdPentagon(v_data.xy, r * 0.8);
  // } else if (shape == 4) {
  //   outer_df = sdHexagon(v_data.xy, 0.8);
  //   inner_df = sdHexagon(v_data.xy, r * 0.8);
  // } else if (shape == 5) {
  //   outer_df = sdOctogon(v_data.xy, 1.0);
  //   inner_df = sdOctogon(v_data.xy, r);
  // } else if (shape == 6) {
  //   outer_df = sdHexagram(v_data.xy, 0.52);
  //   inner_df = sdHexagram(v_data.xy, r * 0.52);
  // } else if (shape == 7) {
  //   outer_df = sdRhombus(v_data.xy, vec2(1.0));
  //   inner_df = sdRhombus(v_data.xy, vec2(r));
  // } else if (shape == 8) {
  //   outer_df = sdVesica(v_data.xy, 1.1, 0.8);
  //   inner_df = sdVesica(v_data.xy, r * 1.1, r * 0.8);
  // }

  float opacity_t = smoothstep(0.0, antialiased_blur, outer_df);

  float color_t = u_stroke_width < 0.01 ? 0.0 : smoothstep(
    antialiased_blur,
    0.0,
    inner_df
  );
  vec4 strokeColor = u_stroke_color == vec4(0) ? v_color : u_stroke_color;

  gl_FragColor = mix(vec4(v_color.rgb, v_color.a * u_opacity), strokeColor * u_stroke_opacity, color_t);
  gl_FragColor.a = gl_FragColor.a * opacity_t;

  gl_FragColor = filterColor(gl_FragColor);
}`,cx=`attribute vec2 position;
attribute vec4 color;
attribute float shape;
attribute vec2 offset;
attribute float size;

uniform mat4 projectionMatrix;
uniform mat4 modelViewMatrix;

uniform float u_stroke_width : 0.01;
uniform float u_device_pixel_ratio;
uniform vec2 u_viewport;

varying vec4 v_color;
varying vec4 v_data;
varying float v_radius;

#pragma include "picking"

void main() {
  v_color = color;
  v_radius = size;

  lowp float antialiasblur = 1.0 / u_device_pixel_ratio * (size + u_stroke_width);

  // construct point coords
  v_data = vec4(position, antialiasblur, shape);

  gl_Position = projectionMatrix * modelViewMatrix
    * vec4(position * size + offset, 0.0, 1.0);

  setPickingColor(a_PickingColor);
}`,I0=["circle","triangle","square","pentagon","hexagon","octogon","hexagram","rhombus","vesica"],cm=(um=(0,nt.b2)(),J1=(0,nt.f3)(ct.Systems),q1=(0,nt.t6)(ct.MaterialSystem),tx=(0,nt.f3)(ct.Systems),ex=(0,nt.t6)(ct.GeometrySystem),Dp=(0,nt.f3)(ct.ShaderModuleService),um(rx=(jg=(lm=function(m){vt()(V,m);var Y=sx(V);function V(){var tt;_()(this,V);for(var ut=arguments.length,Ot=new Array(ut),Bt=0;Bt<ut;Bt++)Ot[Bt]=arguments[Bt];return tt=Y.call.apply(Y,[this].concat(Ot)),b()(tt,"materialSystem",nx,Xt()(tt)),b()(tt,"geometrySystem",ix,Xt()(tt)),b()(tt,"shaderModuleService",ax,Xt()(tt)),tt}return T()(V,[{key:"onAttributeChanged",value:function(ut){var Ot=ut.name,Bt=ut.data,Ht=this.getMeshComponent();Ht&&Ht.material&&(Ot==="strokeWidth"?Ht.material.setUniform("u_stroke_width",Bt):Ot==="strokeColor"?Ht.material.setUniform("u_stroke_color",Bt):Ot==="strokeOpacity"?Ht.material.setUniform("u_stroke_opacity",Bt):Ot==="opacity"?Ht.material.setUniform("u_opacity",Bt):Ot==="blur"&&Ht.material.setUniform("u_blur",Bt))}},{key:"onEntityCreated",value:function(){this.shaderModuleService.registerModule("grid",{vs:cx,fs:lx});var ut=this.shaderModuleService.getModule("grid"),Ot=ut.vs,Bt=ut.fs,Ht=ut.uniforms,Jt=this.materialSystem.createShaderMaterial({vertexShader:Ot,fragmentShader:Bt,cull:{enable:!1},depth:{enable:!1},blend:{enable:!0,func:{srcRGB:Br.SRC_ALPHA,dstRGB:Br.ONE_MINUS_SRC_ALPHA,srcAlpha:1,dstAlpha:1}}});Jt.setUniform(ox({u_device_pixel_ratio:window.devicePixelRatio},Ht));var oe=this.buildAttributes(),Se=this.geometrySystem.createInstancedBufferGeometry({maxInstancedCount:oe.instancedOffsets.length/2,vertexCount:6});Se.setIndex([0,2,1,0,3,2]),Se.setAttribute("position",Float32Array.from(oe.positions),{arrayStride:4*2,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]}),Se.setAttribute("offset",Float32Array.from(oe.instancedOffsets),{arrayStride:4*2,stepMode:"instance",attributes:[{shaderLocation:1,offset:0,format:"float2"}]}),Se.setAttribute("color",Float32Array.from(oe.instancedColors),{arrayStride:4*4,stepMode:"instance",attributes:[{shaderLocation:2,offset:0,format:"float4"}]}),Se.setAttribute("size",Float32Array.from(oe.instancedSizes),{arrayStride:4,stepMode:"instance",attributes:[{shaderLocation:3,offset:0,format:"float"}]}),Se.setAttribute("shape",Float32Array.from(oe.instancedShapes),{arrayStride:4,stepMode:"instance",attributes:[{shaderLocation:4,offset:0,format:"float"}]}),Se.setAttribute("a_PickingColor",Float32Array.from(oe.instancedPickingColors),{arrayStride:4*3,stepMode:"instance",attributes:[{shaderLocation:6,offset:0,format:"float3"}]}),this.setMaterial(Jt),this.setGeometry(Se)}},{key:"buildAttribute",value:function(ut,Ot,Bt){var Ht,Jt,oe,Se;(Ht=Ot.instancedPickingColors).push.apply(Ht,zt()(Q1(ut.id||Bt))),Ot.instancedShapes.push(I0.indexOf(ut.shape||"circle")),(Jt=Ot.instancedColors).push.apply(Jt,zt()(ut.color||[1,0,0,1])),(oe=Ot.instancedOffsets).push.apply(oe,zt()(ut.position||[0,0])),(Se=Ot.instancedSizes).push.apply(Se,zt()(ut.size||[.2,.2]))}},{key:"buildAttributes",value:function(){var ut=this,Ot={positions:[1,1,1,-1,-1,-1,-1,1],instancedOffsets:[],instancedColors:[],instancedSizes:[],instancedShapes:[],instancedPickingColors:[]};return Array.isArray(this.config)?this.config.forEach(function(Bt,Ht){ut.buildAttribute(Bt,Ot,Ht)}):this.buildAttribute(this.config,Ot,0),Ot}}]),V}(Oe),lm),nx=M()(jg.prototype,"materialSystem",[J1,q1],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ix=M()(jg.prototype,"geometrySystem",[tx,ex],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ax=M()(jg.prototype,"shaderModuleService",[Dp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jg))||rx),O0,Wg,fm,qp,D0,tg,hm,hv,dm,vm;function pm(m,Y){var V;if(typeof Symbol=="undefined"||m[Symbol.iterator]==null){if(Array.isArray(m)||(V=fx(m))||Y&&m&&typeof m.length=="number"){V&&(m=V);var tt=0,ut=function(){};return{s:ut,n:function(){return tt>=m.length?{done:!0}:{done:!1,value:m[tt++]}},e:function(oe){throw oe},f:ut}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ot=!0,Bt=!1,Ht;return{s:function(){V=m[Symbol.iterator]()},n:function(){var oe=V.next();return Ot=oe.done,oe},e:function(oe){Bt=!0,Ht=oe},f:function(){try{!Ot&&V.return!=null&&V.return()}finally{if(Bt)throw Ht}}}}function fx(m,Y){if(!!m){if(typeof m=="string")return gm(m,Y);var V=Object.prototype.toString.call(m).slice(8,-1);if(V==="Object"&&m.constructor&&(V=m.constructor.name),V==="Map"||V==="Set")return Array.from(m);if(V==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(V))return gm(m,Y)}}function gm(m,Y){(Y==null||Y>m.length)&&(Y=m.length);for(var V=0,tt=new Array(Y);V<Y;V++)tt[V]=m[V];return tt}var hx=`#ifdef USE_MAP
  uniform sampler2D map;
#endif`,dx=`#ifdef USE_MAP
  vec4 texelColor = texture2D(map, vUv);
  // texelColor = mapTexelToLinear(texelColor);
  diffuseColor *= texelColor;
#endif`,vx=`#if (defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ))
  varying vec2 vUv;
#endif`,px=`#ifdef USE_UV
  attribute vec2 uv;
	#ifdef UVS_VERTEX_ONLY
    vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,gx=`#ifdef USE_UV
  vUv = (uvTransform * vec3(uv, 1)).xy;
#endif`,eg=(O0=(0,nt.b2)(),Wg=(0,nt.f3)(ct.RenderEngine),fm=(0,nt.f3)(ct.ShaderModuleService),qp=(0,nt.f3)(ct.ConfigService),O0(D0=(tg=(vm=function(){function m(){_()(this,m),this.container=void 0,b()(this,"engine",hm,this),b()(this,"shaderModule",hv,this),b()(this,"configService",dm,this),this.inited=!1,this.rendering=!1,this.pendings=[],this.views=[],this.size=void 0}return T()(m,[{key:"init",value:function(){var Y=z()(k().mark(function tt(){var ut,Ot,Bt,Ht,Jt;return k().wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:if(this.shaderModule.registerBuiltinModules(),this.shaderModule.registerModule("uv.vert.declaration",{vs:px}),this.shaderModule.registerModule("uv.vert.main",{vs:gx}),this.shaderModule.registerModule("uv.frag.declaration",{fs:vx}),this.shaderModule.registerModule("map.frag.declaration",{fs:hx}),this.shaderModule.registerModule("map.frag.main",{fs:dx}),ut=this.container.getAll(ct.Systems),Ot=this.configService.get(),!Ot.canvas){Se.next=30;break}return Se.next=11,this.engine.init({canvas:Ot.canvas,swapChainFormat:ri.EV.BGRA8Unorm,antialiasing:!1});case 11:Bt=pm(ut),Se.prev=12,Bt.s();case 14:if((Ht=Bt.n()).done){Se.next=21;break}if(Jt=Ht.value,!Jt.initialize){Se.next=19;break}return Se.next=19,Jt.initialize();case 19:Se.next=14;break;case 21:Se.next=26;break;case 23:Se.prev=23,Se.t0=Se.catch(12),Bt.e(Se.t0);case 26:return Se.prev=26,Bt.f(),Se.finish(26);case 29:this.inited=!0;case 30:case"end":return Se.stop()}},tt,this,[[12,23,26,29]])}));function V(){return Y.apply(this,arguments)}return V}()},{key:"render",value:function(){var Y=z()(k().mark(function tt(){var ut,Ot,Bt,Ht,Jt,oe,Se,Ye=arguments;return k().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if(!(!this.inited||this.rendering)){C.next=2;break}return C.abrupt("return");case 2:for(this.pendings.length&&this.pendings.forEach(function(U){U()}),this.rendering=!0,this.engine.beginFrame(),ut=this.container.getAll(ct.Systems),Ot=Ye.length,Bt=new Array(Ot),Ht=0;Ht<Ot;Ht++)Bt[Ht]=Ye[Ht];Jt=pm(ut),C.prev=8,Jt.s();case 10:if((oe=Jt.n()).done){C.next=17;break}if(Se=oe.value,!Se.execute){C.next=15;break}return C.next=15,Se.execute(Bt);case 15:C.next=10;break;case 17:C.next=22;break;case 19:C.prev=19,C.t0=C.catch(8),Jt.e(C.t0);case 22:return C.prev=22,Jt.f(),C.finish(22);case 25:this.engine.endFrame(),this.rendering=!1;case 27:case"end":return C.stop()}},tt,this,[[8,19,22,25]])}));function V(){return Y.apply(this,arguments)}return V}()},{key:"clear",value:function(V){var tt=this;return this.inited?this.engine.clear(V):this.pendings.unshift(function(){tt.engine.clear(V),tt.pendings.shift()}),this}},{key:"setSize",value:function(V){var tt=V.width,ut=V.height,Ot=this.engine.getCanvas();return this.size={width:tt,height:ut},Ot.width=tt,Ot.height=ut,this}},{key:"getSize",value:function(){return this.size}}]),m}(),vm),hm=M()(tg.prototype,"engine",[Wg],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hv=M()(tg.prototype,"shaderModule",[fm],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dm=M()(tg.prototype,"configService",[qp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tg))||D0),P0,Nh,ym,rg=(P0=(0,nt.b2)(),P0(Nh=(ym=function(){function m(){_()(this,m),this.entities=[]}return T()(m,[{key:"getEntities",value:function(){return this.entities}},{key:"addRenderable",value:function(V){return this.addEntity(V.getEntity()),this}},{key:"removeRenderable",value:function(V){return this.removeEntity(V.getEntity()),this}},{key:"addLight",value:function(){}},{key:"addEntity",value:function(V){return this.entities.indexOf(V)===-1&&this.entities.push(V),this}},{key:"removeEntity",value:function(V){var tt=this.entities.indexOf(V);return this.entities.splice(tt,1),this}}]),m}(),ym))||Nh),mm,dv,L0,vv=(mm=(0,nt.b2)(),mm(dv=(L0=function(){function m(){_()(this,m),this.cache={}}return T()(m,[{key:"get",value:function(V){return this.cache[V]}},{key:"set",value:function(V,tt){this.cache[V]=tt}}]),m}(),L0))||dv),pv,Zc,Vg,Pp,ng,R0,F0,bd;function N0(m,Y){var V=Object.keys(m);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(m);Y&&(tt=tt.filter(function(ut){return Object.getOwnPropertyDescriptor(m,ut).enumerable})),V.push.apply(V,tt)}return V}function ig(m){for(var Y=1;Y<arguments.length;Y++){var V=arguments[Y]!=null?arguments[Y]:{};Y%2?N0(Object(V),!0).forEach(function(tt){ye()(m,tt,V[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(V)):N0(Object(V)).forEach(function(tt){Object.defineProperty(m,tt,Object.getOwnPropertyDescriptor(V,tt))})}return m}var xm=(pv=(0,nt.b2)(),Zc=(0,nt.f3)(vv),Vg=(0,nt.f3)(ct.RenderEngine),pv(Pp=(ng=(bd=function(){function m(){_()(this,m),b()(this,"textureCache",R0,this),b()(this,"engine",F0,this),this.config=void 0,this.loaded=!1,this.texture=void 0}return T()(m,[{key:"setConfig",value:function(V){this.config=V}},{key:"isLoaded",value:function(){return this.loaded}},{key:"load",value:function(){var Y=z()(k().mark(function tt(){var ut=this;return k().wrap(function(Bt){for(;;)switch(Bt.prev=Bt.next){case 0:if(!this.config.url){Bt.next=4;break}return Bt.abrupt("return",new Promise(function(Ht,Jt){var oe=ut.textureCache.get(ut.config.url);if(oe)Ht(oe);else{var Se=new Image;Se.crossOrigin="Anonymous",Se.src=ut.config.url,Se.onload=function(){var Ye=ut.engine.createTexture2D(ig(ig({},ut.config),{},{data:Se,width:Se.width,height:Se.height,flipY:!0}));ut.textureCache.set(ut.config.url,Ye),ut.texture=Ye,ut.loaded=!0,Ht(Ye)},Se.onerror=function(){Jt()}}}));case 4:return this.loaded=!0,this.texture=this.engine.createTexture2D(this.config),Bt.abrupt("return",this.texture);case 7:case"end":return Bt.stop()}},tt,this)}));function V(){return Y.apply(this,arguments)}return V}()}]),m}(),bd),R0=M()(ng.prototype,"textureCache",[Zc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F0=M()(ng.prototype,"engine",[Vg],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ng))||Pp),bm,Hg,ag,Yg,Xg,Qc,Em,og=(bm=(0,nt.b2)(),Hg=(0,nt.f3)(ct.Systems),ag=(0,nt.t6)(ct.RendererSystem),bm(Yg=(Xg=(Em=function(){function m(){_()(this,m),b()(this,"rendererSystem",Qc,this),this.camera=void 0,this.scene=void 0,this.viewport={x:0,y:0,width:0,height:0},this.clearColor=[1,1,1,1]}return T()(m,[{key:"getCamera",value:function(){return this.camera}},{key:"getScene",value:function(){return this.scene}},{key:"getViewport",value:function(){return this.viewport}},{key:"getClearColor",value:function(){return this.clearColor}},{key:"setCamera",value:function(V){return this.camera=V,this}},{key:"setScene",value:function(V){return this.scene=V,this}},{key:"setViewport",value:function(V){return this.viewport=V,this}},{key:"setClearColor",value:function(V){return this.clearColor=V,this}},{key:"pick",value:function(V){return this.rendererSystem.pick(V,this)}}]),m}(),Em),Qc=M()(Xg.prototype,"rendererSystem",[Hg,ag],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xg))||Yg),sg,k0,B0,$g,Sm,ug;function G0(m,Y){var V=Object.keys(m);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(m);Y&&(tt=tt.filter(function(ut){return Object.getOwnPropertyDescriptor(m,ut).enumerable})),V.push.apply(V,tt)}return V}function wm(m){for(var Y=1;Y<arguments.length;Y++){var V=arguments[Y]!=null?arguments[Y]:{};Y%2?G0(Object(V),!0).forEach(function(tt){ye()(m,tt,V[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(V)):G0(Object(V)).forEach(function(tt){Object.defineProperty(m,tt,Object.getOwnPropertyDescriptor(V,tt))})}return m}var _m=(sg=(0,nt.b2)(),k0=(0,nt.f3)(ct.ConfigService),sg(B0=($g=(ug=function(){function m(){_()(this,m),b()(this,"configService",Sm,this),this.container=void 0}return T()(m,[{key:"getEngine",value:function(){var Y=z()(k().mark(function tt(){var ut,Ot,Bt,Ht;return k().wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:return ut=this.container.get(ct.RenderEngine),Ot=this.configService.get(),Bt=Ot.canvas,Ht=Ot.engineOptions,oe.next=4,ut.init(wm({canvas:Bt||md(),swapChainFormat:ri.EV.BGRA8Unorm,antialiasing:!1},Ht));case 4:return oe.abrupt("return",ut);case 5:case"end":return oe.stop()}},tt,this)}));function V(){return Y.apply(this,arguments)}return V}()},{key:"getTransformComponent",value:function(V){var tt=this.container.get(ct.TransformComponentManager);return tt.getComponentByEntity(V)}},{key:"getMeshComponent",value:function(V){var tt=this.container.get(ct.MeshComponentManager);return tt.getComponentByEntity(V)}},{key:"setConfig",value:function(V){this.configService.set(V)}},{key:"setContainer",value:function(V){this.container=V}},{key:"getContainer",value:function(){return this.container}},{key:"createEntity",value:function(){return K()}},{key:"createScene",value:function(){return this.container.get(rg)}},{key:"createCamera",value:function(){return this.container.get(_c)}},{key:"createView",value:function(){return this.container.get(og)}},{key:"createRenderable",value:function(V,tt){var ut=V?this.container.getNamed(ct.Renderable,V):this.container.get(Oe),Ot=K();return ut.setConfig(tt||{}),ut.setEntity(Ot),ut}},{key:"createGeometry",value:function(V,tt){var ut=this.container.getNamed(ct.Geometry,V),Ot=K();return ut.setConfig(tt||{}),ut.setEntity(Ot),ut.getComponent()}},{key:"createMaterial",value:function(V,tt){var ut=this.container.getNamed(ct.Material,V),Ot=K();return ut.setConfig(tt||{}),ut.setEntity(Ot,V),ut.getComponent()}},{key:"createTexture2D",value:function(V){var tt=this.container.get(xm);return tt.setConfig(V),tt}},{key:"createBufferGeometry",value:function(V){var tt=this.container.getNamed(ct.Systems,ct.GeometrySystem);return tt.createBufferGeometry(V)}},{key:"createInstancedBufferGeometry",value:function(V){var tt=this.container.getNamed(ct.Systems,ct.GeometrySystem);return tt.createInstancedBufferGeometry(V)}},{key:"createShaderMaterial",value:function(V){var tt=this.container.getNamed(ct.Systems,ct.MaterialSystem);return tt.createShaderMaterial(V)}},{key:"createKernel",value:function(V){var tt=this.container.get(io);return typeof V=="string"?tt.setBundle(JSON.parse(V)):tt.setBundle(V),tt.init(),tt}},{key:"createRenderer",value:function(){var V=this.container.get(eg);return V.container=this.container,V.init(),V}},{key:"destroy",value:function(){var V=this.container.getAll(ct.Systems);V.forEach(function(Ot){Ot.tearDown&&Ot.tearDown()});var tt=this.container.get(ct.RenderEngine);tt.destroy();var ut=this.container.get(ct.InteractorService);ut.destroy()}}],[{key:"create",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},tt=Bl(),ut=navigator.gpu?tu:T1;tt.isBound(ct.RenderEngine)||tt.bind(ct.RenderEngine).to(ut).inSingletonScope(),tt.bind(eg).toSelf(),tt.bind(io).toSelf(),tt.bind(Oe).toSelf(),tt.bind(og).toSelf(),tt.bind(_c).toSelf(),tt.bind(rg).toSelf(),tt.bind(m).toSelf(),tt.bind(vv).toSelf(),tt.bind(xm).toSelf(),tt.bind(ct.Geometry).to($y).whenTargetNamed(wl.BOX),tt.bind(ct.Geometry).to(Qp).whenTargetNamed(wl.SPHERE),tt.bind(ct.Geometry).to(R1).whenTargetNamed(wl.PLANE),tt.bind(ct.Geometry).to(eu).whenTargetNamed(wl.MERGED),tt.bind(ct.Material).to(k1).whenTargetNamed(Qi.BASIC),tt.bind(ct.Renderable).to(cm).whenTargetNamed(Oe.POINT),tt.bind(ct.Renderable).to(Yb).whenTargetNamed(Oe.LINE),tt.bind(ct.Renderable).to(H1).whenTargetNamed(Oe.GRID);var Ot=tt.get(m);return Ot.setContainer(tt),Ot.setConfig(V),Ot}}]),m}(),ug),Sm=M()($g.prototype,"configService",[k0],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$g))||B0)},81746:function(at){(function(d,x){at.exports=x()})(typeof self!="undefined"?self:this,function(){return function(R){var d={};function x(b){if(d[b])return d[b].exports;var P=d[b]={i:b,l:!1,exports:{}};return R[b].call(P.exports,P,P.exports,x),P.l=!0,P.exports}return x.m=R,x.c=d,x.d=function(b,P,_){x.o(b,P)||Object.defineProperty(b,P,{configurable:!1,enumerable:!0,get:_})},x.n=function(b){var P=b&&b.__esModule?function(){return b.default}:function(){return b};return x.d(P,"a",P),P},x.o=function(b,P){return Object.prototype.hasOwnProperty.call(b,P)},x.p="",x(x.s=31)}([function(R,d,x){"use strict";var b=x(4);d.a=function(P){return Array.isArray?Array.isArray(P):Object(b.a)(P,"Array")}},function(R,d,x){"use strict";var b=function(P){return P!==null&&typeof P!="function"&&isFinite(P.length)};d.a=b},function(R,d,x){"use strict";var b=x(0),P=x(13);function _(O,T){if(!!O){var F;if(Object(b.a)(O))for(var M=0,A=O.length;M<A&&(F=T(O[M],M),F!==!1);M++);else if(Object(P.a)(O)){for(var L in O)if(O.hasOwnProperty(L)&&(F=T(O[L],L),F===!1))break}}}d.a=_},function(R,d,x){"use strict";var b=x(4);d.a=function(P){return Object(b.a)(P,"Function")}},function(R,d,x){"use strict";var b={}.toString,P=function(_,O){return b.call(_)==="[object "+O+"]"};d.a=P},function(R,d,x){"use strict";var b=x(4),P=function(_){return Object(b.a)(_,"Number")};d.a=P},function(R,d,x){"use strict";var b=function(P){return P==null};d.a=b},function(R,d,x){var b=x(33),P=b.mix;R.exports={assign:P}},function(R,d,x){"use strict";var b=x(4);d.a=function(P){return Object(b.a)(P,"String")}},function(R,d,x){"use strict";var b=x(15),P=x(4),_=function(O){if(!Object(b.a)(O)||!Object(P.a)(O,"Object"))return!1;if(Object.getPrototypeOf(O)===null)return!0;for(var T=O;Object.getPrototypeOf(T)!==null;)T=Object.getPrototypeOf(T);return Object.getPrototypeOf(O)===T};d.a=_},function(R,d,x){"use strict";var b=x(6);d.a=function(P){return Object(b.a)(P)?"":P.toString()}},function(R,d,x){var b=x(18),P=function(){function _(T,F){F===void 0&&(F={});var M=this;M.options=F,M.rootNode=b(T,F)}var O=_.prototype;return O.execute=function(){throw new Error("please override this method")},_}();R.exports=P},function(R,d,x){"use strict";var b=x(1),P=function(_,O){return Object(b.a)(_)?_.indexOf(O)>-1:!1};d.a=P},function(R,d,x){"use strict";d.a=function(b){var P=typeof b;return b!==null&&P==="object"||P==="function"}},function(R,d,x){"use strict";var b=x(2),P=x(1),_=function(O,T){if(!Object(P.a)(O))return O;var F=[];return Object(b.a)(O,function(M,A){T(M,A)&&F.push(M)}),F};d.a=_},function(R,d,x){"use strict";var b=function(P){return typeof P=="object"&&P!==null};d.a=b},function(R,d,x){"use strict";d.a=P;function b(_,O){for(var T in O)O.hasOwnProperty(T)&&T!=="constructor"&&O[T]!==void 0&&(_[T]=O[T])}function P(_,O,T,F){return O&&b(_,O),T&&b(_,T),F&&b(_,F),_}},function(R,d,x){var b=x(30),P=["LR","RL","TB","BT","H","V"],_=["LR","RL","H"],O=function(M){return _.indexOf(M)>-1},T=P[0];R.exports=function(F,M,A){var L=M.direction||T;if(M.isHorizontal=O(L),L&&P.indexOf(L)===-1)throw new TypeError("Invalid direction: "+L);if(L===P[0])A(F,M);else if(L===P[1])A(F,M),F.right2left();else if(L===P[2])A(F,M);else if(L===P[3])A(F,M),F.bottom2top();else if(L===P[4]||L===P[5]){var I=b(F,M),k=I.left,B=I.right;A(k,M),A(B,M),M.isHorizontal?k.right2left():k.bottom2top(),B.translate(k.x-B.x,k.y-B.y),F.x=k.x,F.y=B.y;var z=F.getBoundingBox();M.isHorizontal?z.top<0&&F.translate(0,-z.top):z.left<0&&F.translate(-z.left,0)}var W=M.fixedRoot;return W===void 0&&(W=!0),W&&F.translate(-(F.x+F.width/2+F.hgap),-(F.y+F.height/2+F.vgap)),F}},function(R,d,x){var b=x(7),P=18,_=P*2,O=P,T={getId:function(L){return L.id||L.name},getPreH:function(L){return L.preH||0},getPreV:function(L){return L.preV||0},getHGap:function(L){return L.hgap||O},getVGap:function(L){return L.vgap||O},getChildren:function(L){return L.children},getHeight:function(L){return L.height||_},getWidth:function(L){var I=L.label||" ";return L.width||I.split("").length*P}};function F(A,L){var I=this;if(I.vgap=I.hgap=0,A instanceof F)return A;I.data=A;var k=L.getHGap(A),B=L.getVGap(A);return I.preH=L.getPreH(A),I.preV=L.getPreV(A),I.width=L.getWidth(A),I.height=L.getHeight(A),I.width+=I.preH,I.height+=I.preV,I.id=L.getId(A),I.x=I.y=0,I.depth=0,I.children||(I.children=[]),I.addGap(k,B),I}b.assign(F.prototype,{isRoot:function(){return this.depth===0},isLeaf:function(){return this.children.length===0},addGap:function(L,I){var k=this;k.hgap+=L,k.vgap+=I,k.width+=2*L,k.height+=2*I},eachNode:function(L){for(var I=this,k=[I],B;B=k.shift();)L(B),k=B.children.concat(k)},DFTraverse:function(L){this.eachNode(L)},BFTraverse:function(L){for(var I=this,k=[I],B;B=k.shift();)L(B),k=k.concat(B.children)},getBoundingBox:function(){var L={left:Number.MAX_VALUE,top:Number.MAX_VALUE,width:0,height:0};return this.eachNode(function(I){L.left=Math.min(L.left,I.x),L.top=Math.min(L.top,I.y),L.width=Math.max(L.width,I.x+I.width),L.height=Math.max(L.height,I.y+I.height)}),L},translate:function(L,I){L===void 0&&(L=0),I===void 0&&(I=0),this.eachNode(function(k){k.x+=L,k.y+=I,k.x+=k.preH,k.y+=k.preV})},right2left:function(){var L=this,I=L.getBoundingBox();L.eachNode(function(k){k.x=k.x-(k.x-I.left)*2-k.width}),L.translate(I.width,0)},bottom2top:function(){var L=this,I=L.getBoundingBox();L.eachNode(function(k){k.y=k.y-(k.y-I.top)*2-k.height}),L.translate(0,I.height)}});function M(A,L,I){L===void 0&&(L={}),L=b.assign({},T,L);var k=new F(A,L),B=[k],z;if(!I&&!A.collapsed){for(;z=B.shift();)if(!z.data.collapsed){var W=L.getChildren(z.data),$=W?W.length:0;if(z.children=new Array($),W&&$)for(var K=0;K<$;K++){var lt=new F(W[K],L);z.children[K]=lt,B.push(lt),lt.parent=z,lt.depth=z.depth+1}}}return k}R.exports=M},function(R,d,x){"use strict";var b=x(6),P=x(20);function _(O,T){var F=Object(P.a)(T),M=F.length;if(Object(b.a)(O))return!M;for(var A=0;A<M;A+=1){var L=F[A];if(T[L]!==O[L]||!(L in O))return!1}return!0}d.a=_},function(R,d,x){"use strict";var b=x(2),P=x(3),_=Object.keys?function(O){return Object.keys(O)}:function(O){var T=[];return Object(b.a)(O,function(F,M){Object(P.a)(O)&&M==="prototype"||T.push(M)}),T};d.a=_},function(R,d,x){"use strict";var b=x(1),P=Array.prototype.splice,_=function(T,F){if(!Object(b.a)(T))return[];for(var M=T?F.length:0,A=M-1;M--;){var L=void 0,I=F[M];(M===A||I!==L)&&(L=I,P.call(T,I,1))}return T};d.a=_},function(R,d,x){"use strict";var b=x(12),P=x(2),_=function(O){var T=[];return Object(P.a)(O,function(F){Object(b.a)(T,F)||T.push(F)}),T};d.a=_},function(R,d,x){"use strict";var b=x(0),P=x(3),_=x(24),O=function(T,F){if(!F)return{0:T};if(!Object(P.a)(F)){var M=Object(b.a)(F)?F:F.replace(/\s+/g,"").split("*");F=function(L){for(var I="_",k=0,B=M.length;k<B;k++)I+=L[M[k]]&&L[M[k]].toString();return I}}var A=Object(_.a)(T,F);return A};d.a=O},function(R,d,x){"use strict";var b=x(2),P=x(0),_=x(3),O=Object.prototype.hasOwnProperty;function T(F,M){if(!M||!Object(P.a)(F))return{};var A={},L=Object(_.a)(M)?M:function(k){return k[M]},I;return Object(b.a)(F,function(k){I=L(k),O.call(A,I)?A[I].push(k):A[I]=[k]}),A}d.a=T},function(R,d,x){"use strict";d.a=function(b,P){return b.hasOwnProperty(P)}},function(R,d,x){"use strict";var b=x(2),P=x(3),_=Object.values?function(O){return Object.values(O)}:function(O){var T=[];return Object(b.a)(O,function(F,M){Object(P.a)(O)&&M==="prototype"||T.push(F)}),T};d.a=_},function(R,d,x){"use strict";var b={}.toString,P=function(_){return b.call(_).replace(/^\[object /,"").replace(/]$/,"")};d.a=P},function(R,d,x){"use strict";var b=Object.prototype,P=function(_){var O=_&&_.constructor,T=typeof O=="function"&&O.prototype||b;return _===T};d.a=P},function(R,d,x){"use strict";var b=x(15),P=x(1),_=x(8),O=function(T,F){if(T===F)return!0;if(!T||!F||Object(_.a)(T)||Object(_.a)(F))return!1;if(Object(P.a)(T)||Object(P.a)(F)){if(T.length!==F.length)return!1;for(var M=!0,A=0;A<T.length&&(M=O(T[A],F[A]),!!M);A++);return M}if(Object(b.a)(T)||Object(b.a)(F)){var L=Object.keys(T),I=Object.keys(F);if(L.length!==I.length)return!1;for(var M=!0,A=0;A<L.length&&(M=O(T[L[A]],F[L[A]]),!!M);A++);return M}return!1};d.a=O},function(R,d,x){var b=x(18);R.exports=function(P,_){for(var O=b(P.data,_,!0),T=b(P.data,_,!0),F=P.children.length,M=Math.round(F/2),A=_.getSide||function(B,z){return z<M?"right":"left"},L=0;L<F;L++){var I=P.children[L],k=A(I,L);k==="right"?T.children.push(I):O.children.push(I)}return O.eachNode(function(B){B.isRoot()||(B.side="left")}),T.eachNode(function(B){B.isRoot()||(B.side="right")}),{left:O,right:T}}},function(R,d,x){var b={compactBox:x(32),dendrogram:x(114),indented:x(116),mindmap:x(118)};R.exports=b},function(R,d,x){function b(L,I){L.prototype=Object.create(I.prototype),L.prototype.constructor=L,L.__proto__=I}var P=x(11),_=x(113),O=x(17),T=x(7),F=function(L){b(I,L);function I(){return L.apply(this,arguments)||this}var k=I.prototype;return k.execute=function(){var z=this;return O(z.rootNode,z.options,_)},I}(P),M={};function A(L,I){return I=T.assign({},M,I),new F(L,I).execute()}R.exports=A},function(R,d,x){"use strict";Object.defineProperty(d,"__esModule",{value:!0});var b=x(12);x.d(d,"contains",function(){return b.a}),x.d(d,"includes",function(){return b.a});var P=x(34);x.d(d,"difference",function(){return P.a});var _=x(35);x.d(d,"find",function(){return _.a});var O=x(36);x.d(d,"findIndex",function(){return O.a});var T=x(37);x.d(d,"firstValue",function(){return T.a});var F=x(38);x.d(d,"flatten",function(){return F.a});var M=x(39);x.d(d,"flattenDeep",function(){return M.a});var A=x(40);x.d(d,"getRange",function(){return A.a});var L=x(41);x.d(d,"pull",function(){return L.a});var I=x(21);x.d(d,"pullAt",function(){return I.a});var k=x(42);x.d(d,"reduce",function(){return k.a});var B=x(43);x.d(d,"remove",function(){return B.a});var z=x(44);x.d(d,"sortBy",function(){return z.a});var W=x(45);x.d(d,"union",function(){return W.a});var $=x(22);x.d(d,"uniq",function(){return $.a});var K=x(46);x.d(d,"valuesOfKey",function(){return K.a});var lt=x(47);x.d(d,"head",function(){return lt.a});var st=x(48);x.d(d,"last",function(){return st.a});var yt=x(49);x.d(d,"startsWith",function(){return yt.a});var q=x(50);x.d(d,"endsWith",function(){return q.a});var nt=x(14);x.d(d,"filter",function(){return nt.a});var ct=x(51);x.d(d,"every",function(){return ct.a});var bt=x(52);x.d(d,"some",function(){return bt.a});var _t=x(53);x.d(d,"group",function(){return _t.a});var St=x(24);x.d(d,"groupBy",function(){return St.a});var At=x(23);x.d(d,"groupToMap",function(){return At.a});var vt=x(54);x.d(d,"getWrapBehavior",function(){return vt.a});var dt=x(55);x.d(d,"wrapBehavior",function(){return dt.a});var gt=x(56);x.d(d,"number2color",function(){return gt.a});var Ct=x(57);x.d(d,"parseRadius",function(){return Ct.a});var Et=x(58);x.d(d,"clamp",function(){return Et.a});var Tt=x(59);x.d(d,"fixedBase",function(){return Tt.a});var ot=x(60);x.d(d,"isDecimal",function(){return ot.a});var Mt=x(61);x.d(d,"isEven",function(){return Mt.a});var Wt=x(62);x.d(d,"isInteger",function(){return Wt.a});var jt=x(63);x.d(d,"isNegative",function(){return jt.a});var qt=x(64);x.d(d,"isNumberEqual",function(){return qt.a});var se=x(65);x.d(d,"isOdd",function(){return se.a});var ae=x(66);x.d(d,"isPositive",function(){return ae.a});var he=x(67);x.d(d,"maxBy",function(){return he.a});var ke=x(68);x.d(d,"minBy",function(){return ke.a});var Le=x(69);x.d(d,"mod",function(){return Le.a});var rr=x(70);x.d(d,"toDegree",function(){return rr.a});var Ee=x(71);x.d(d,"toInteger",function(){return Ee.a});var ge=x(72);x.d(d,"toRadian",function(){return ge.a});var we=x(73);x.d(d,"forIn",function(){return we.a});var Ce=x(25);x.d(d,"has",function(){return Ce.a});var ye=x(74);x.d(d,"hasKey",function(){return ye.a});var Gt=x(75);x.d(d,"hasValue",function(){return Gt.a});var Xt=x(20);x.d(d,"keys",function(){return Xt.a});var Kt=x(19);x.d(d,"isMatch",function(){return Kt.a});var ze=x(26);x.d(d,"values",function(){return ze.a});var ur=x(76);x.d(d,"lowerCase",function(){return ur.a});var tr=x(77);x.d(d,"lowerFirst",function(){return tr.a});var re=x(78);x.d(d,"substitute",function(){return re.a});var Qr=x(79);x.d(d,"upperCase",function(){return Qr.a});var Ir=x(80);x.d(d,"upperFirst",function(){return Ir.a});var gn=x(27);x.d(d,"getType",function(){return gn.a});var Wn=x(81);x.d(d,"isArguments",function(){return Wn.a});var ui=x(0);x.d(d,"isArray",function(){return ui.a});var bi=x(1);x.d(d,"isArrayLike",function(){return bi.a});var fr=x(82);x.d(d,"isBoolean",function(){return fr.a});var Zr=x(83);x.d(d,"isDate",function(){return Zr.a});var Sn=x(84);x.d(d,"isError",function(){return Sn.a});var Dn=x(3);x.d(d,"isFunction",function(){return Dn.a});var hn=x(85);x.d(d,"isFinite",function(){return hn.a});var Gn=x(6);x.d(d,"isNil",function(){return Gn.a});var En=x(86);x.d(d,"isNull",function(){return En.a});var In=x(5);x.d(d,"isNumber",function(){return In.a});var Fn=x(13);x.d(d,"isObject",function(){return Fn.a});var xe=x(15);x.d(d,"isObjectLike",function(){return xe.a});var Ge=x(9);x.d(d,"isPlainObject",function(){return Ge.a});var Je=x(28);x.d(d,"isPrototype",function(){return Je.a});var br=x(87);x.d(d,"isRegExp",function(){return br.a});var jr=x(8);x.d(d,"isString",function(){return jr.a});var Wr=x(4);x.d(d,"isType",function(){return Wr.a});var Ut=x(88);x.d(d,"isUndefined",function(){return Ut.a});var ft=x(89);x.d(d,"isElement",function(){return ft.a});var pt=x(90);x.d(d,"requestAnimationFrame",function(){return pt.a});var J=x(91);x.d(d,"clearAnimationFrame",function(){return J.a});var xt=x(92);x.d(d,"augment",function(){return xt.a});var Rt=x(93);x.d(d,"clone",function(){return Rt.a});var ue=x(94);x.d(d,"debounce",function(){return ue.a});var ie=x(95);x.d(d,"memoize",function(){return ie.a});var be=x(96);x.d(d,"deepMix",function(){return be.a});var ce=x(2);x.d(d,"each",function(){return ce.a});var We=x(97);x.d(d,"extend",function(){return We.a});var Ne=x(98);x.d(d,"indexOf",function(){return Ne.a});var Mr=x(99);x.d(d,"isEmpty",function(){return Mr.a});var sn=x(29);x.d(d,"isEqual",function(){return sn.a});var hr=x(100);x.d(d,"isEqualWith",function(){return hr.a});var cn=x(101);x.d(d,"map",function(){return cn.a});var kn=x(102);x.d(d,"mapValues",function(){return kn.a});var me=x(16);x.d(d,"mix",function(){return me.a}),x.d(d,"assign",function(){return me.a});var Tn=x(103);x.d(d,"get",function(){return Tn.a});var Zn=x(104);x.d(d,"set",function(){return Zn.a});var Kn=x(105);x.d(d,"pick",function(){return Kn.a});var Or=x(106);x.d(d,"throttle",function(){return Or.a});var wn=x(107);x.d(d,"toArray",function(){return wn.a});var Cr=x(10);x.d(d,"toString",function(){return Cr.a});var xr=x(108);x.d(d,"uniqueId",function(){return xr.a});var _n=x(109);x.d(d,"noop",function(){return _n.a});var Mi=x(110);x.d(d,"identity",function(){return Mi.a});var or=x(111);x.d(d,"size",function(){return or.a});var Bn=x(112);x.d(d,"Cache",function(){return Bn.a})},function(R,d,x){"use strict";var b=x(14),P=x(12),_=function(O,T){return T===void 0&&(T=[]),Object(b.a)(O,function(F){return!Object(P.a)(T,F)})};d.a=_},function(R,d,x){"use strict";var b=x(3),P=x(19),_=x(0),O=x(9);function T(F,M){if(!Object(_.a)(F))return null;var A;if(Object(b.a)(M)&&(A=M),Object(O.a)(M)&&(A=function(I){return Object(P.a)(I,M)}),A){for(var L=0;L<F.length;L+=1)if(A(F[L]))return F[L]}return null}d.a=T},function(R,d,x){"use strict";function b(P,_,O){O===void 0&&(O=0);for(var T=O;T<P.length;T++)if(_(P[T],T))return T;return-1}d.a=b},function(R,d,x){"use strict";var b=x(6),P=x(0),_=function(O,T){for(var F=null,M=0;M<O.length;M++){var A=O[M],L=A[T];if(!Object(b.a)(L)){Object(P.a)(L)?F=L[0]:F=L;break}}return F};d.a=_},function(R,d,x){"use strict";var b=x(0),P=function(_){if(!Object(b.a)(_))return[];for(var O=[],T=0;T<_.length;T++)O=O.concat(_[T]);return O};d.a=P},function(R,d,x){"use strict";var b=x(0),P=function(_,O){if(O===void 0&&(O=[]),!Object(b.a)(_))O.push(_);else for(var T=0;T<_.length;T+=1)P(_[T],O);return O};d.a=P},function(R,d,x){"use strict";var b=x(0),P=x(14),_=function(O){if(O=Object(P.a)(O,function(L){return!isNaN(L)}),!O.length)return{min:0,max:0};if(Object(b.a)(O[0])){for(var T=[],F=0;F<O.length;F++)T=T.concat(O[F]);O=T}var M=Math.max.apply(null,O),A=Math.min.apply(null,O);return{min:A,max:M}};d.a=_},function(R,d,x){"use strict";var b=Array.prototype,P=b.splice,_=b.indexOf,O=function(T){for(var F=[],M=1;M<arguments.length;M++)F[M-1]=arguments[M];for(var A=0;A<F.length;A++)for(var L=F[A],I=-1;(I=_.call(T,L))>-1;)P.call(T,I,1);return T};d.a=O},function(R,d,x){"use strict";var b=x(2),P=x(0),_=x(9),O=function(T,F,M){if(!Object(P.a)(T)&&!Object(_.a)(T))return T;var A=M;return Object(b.a)(T,function(L,I){A=F(A,L,I)}),A};d.a=O},function(R,d,x){"use strict";var b=x(1),P=x(21),_=function(O,T){var F=[];if(!Object(b.a)(O))return F;for(var M=-1,A=[],L=O.length;++M<L;){var I=O[M];T(I,M,O)&&(F.push(I),A.push(M))}return Object(P.a)(O,A),F};d.a=_},function(R,d,x){"use strict";var b=x(0),P=x(8),_=x(3);function O(T,F){var M;if(Object(_.a)(F))M=function(L,I){return F(L)-F(I)};else{var A=[];Object(P.a)(F)?A.push(F):Object(b.a)(F)&&(A=F),M=function(L,I){for(var k=0;k<A.length;k+=1){var B=A[k];if(L[B]>I[B])return 1;if(L[B]<I[B])return-1}return 0}}return T.sort(M),T}d.a=O},function(R,d,x){"use strict";var b=x(22),P=function(){for(var _=[],O=0;O<arguments.length;O++)_[O]=arguments[O];return Object(b.a)([].concat.apply([],_))};d.a=P},function(R,d,x){"use strict";var b=x(2),P=x(0),_=x(6);d.a=function(O,T){var F=[],M={};return O.forEach(function(A){var L=A[T];Object(_.a)(L)||(Object(P.a)(L)||(L=[L]),Object(b.a)(L,function(I){M[I]||(F.push(I),M[I]=!0)}))}),F}},function(R,d,x){"use strict";d.a=P;var b=x(1);function P(_){if(Object(b.a)(_))return _[0]}},function(R,d,x){"use strict";d.a=P;var b=x(1);function P(_){if(Object(b.a)(_)){var O=_;return O[O.length-1]}}},function(R,d,x){"use strict";var b=x(0),P=x(8);function _(O,T){return Object(b.a)(O)||Object(P.a)(O)?O[0]===T:!1}d.a=_},function(R,d,x){"use strict";var b=x(0),P=x(8);function _(O,T){return Object(b.a)(O)||Object(P.a)(O)?O[O.length-1]===T:!1}d.a=_},function(R,d,x){"use strict";var b=function(P,_){for(var O=0;O<P.length;O++)if(!_(P[O],O))return!1;return!0};d.a=b},function(R,d,x){"use strict";var b=function(P,_){for(var O=0;O<P.length;O++)if(_(P[O],O))return!0;return!1};d.a=b},function(R,d,x){"use strict";var b=x(23);d.a=function(P,_){if(!_)return[P];var O=Object(b.a)(P,_),T=[];for(var F in O)T.push(O[F]);return T}},function(R,d,x){"use strict";function b(P,_){return P["_wrap_"+_]}d.a=b},function(R,d,x){"use strict";function b(P,_){if(P["_wrap_"+_])return P["_wrap_"+_];var O=function(T){P[_](T)};return P["_wrap_"+_]=O,O}d.a=b},function(R,d,x){"use strict";var b={};function P(_){var O=b[_];if(!O){for(var T=_.toString(16),F=T.length;F<6;F++)T="0"+T;O="#"+T,b[_]=O}return O}d.a=P},function(R,d,x){"use strict";var b=x(0);function P(_){var O=0,T=0,F=0,M=0;return Object(b.a)(_)?_.length===1?O=T=F=M=_[0]:_.length===2?(O=F=_[0],T=M=_[1]):_.length===3?(O=_[0],T=M=_[1],F=_[2]):(O=_[0],T=_[1],F=_[2],M=_[3]):O=T=F=M=_,{r1:O,r2:T,r3:F,r4:M}}d.a=P},function(R,d,x){"use strict";var b=function(P,_,O){return P<_?_:P>O?O:P};d.a=b},function(R,d,x){"use strict";var b=function(P,_){var O=_.toString(),T=O.indexOf(".");if(T===-1)return Math.round(P);var F=O.substr(T+1).length;return F>20&&(F=20),parseFloat(P.toFixed(F))};d.a=b},function(R,d,x){"use strict";var b=x(5),P=function(_){return Object(b.a)(_)&&_%1!==0};d.a=P},function(R,d,x){"use strict";var b=x(5),P=function(_){return Object(b.a)(_)&&_%2===0};d.a=P},function(R,d,x){"use strict";var b=x(5),P=Number.isInteger?Number.isInteger:function(_){return Object(b.a)(_)&&_%1===0};d.a=P},function(R,d,x){"use strict";var b=x(5),P=function(_){return Object(b.a)(_)&&_<0};d.a=P},function(R,d,x){"use strict";d.a=P;var b=1e-5;function P(_,O,T){return T===void 0&&(T=b),Math.abs(_-O)<T}},function(R,d,x){"use strict";var b=x(5),P=function(_){return Object(b.a)(_)&&_%2!==0};d.a=P},function(R,d,x){"use strict";var b=x(5),P=function(_){return Object(b.a)(_)&&_>0};d.a=P},function(R,d,x){"use strict";var b=x(2),P=x(0),_=x(3);d.a=function(O,T){if(!!Object(P.a)(O)){var F=O[0],M;Object(_.a)(T)?M=T(O[0]):M=O[0][T];var A;return Object(b.a)(O,function(L){Object(_.a)(T)?A=T(L):A=L[T],A>M&&(F=L,M=A)}),F}}},function(R,d,x){"use strict";var b=x(2),P=x(0),_=x(3);d.a=function(O,T){if(!!Object(P.a)(O)){var F=O[0],M;Object(_.a)(T)?M=T(O[0]):M=O[0][T];var A;return Object(b.a)(O,function(L){Object(_.a)(T)?A=T(L):A=L[T],A<M&&(F=L,M=A)}),F}}},function(R,d,x){"use strict";var b=function(P,_){return(P%_+_)%_};d.a=b},function(R,d,x){"use strict";var b=180/Math.PI,P=function(_){return b*_};d.a=P},function(R,d,x){"use strict";d.a=parseInt},function(R,d,x){"use strict";var b=Math.PI/180,P=function(_){return b*_};d.a=P},function(R,d,x){"use strict";var b=x(2);d.a=b.a},function(R,d,x){"use strict";var b=x(25);d.a=b.a},function(R,d,x){"use strict";var b=x(12),P=x(26);d.a=function(_,O){return Object(b.a)(Object(P.a)(_),O)}},function(R,d,x){"use strict";var b=x(10),P=function(_){return Object(b.a)(_).toLowerCase()};d.a=P},function(R,d,x){"use strict";var b=x(10),P=function(_){var O=Object(b.a)(_);return O.charAt(0).toLowerCase()+O.substring(1)};d.a=P},function(R,d,x){"use strict";function b(P,_){return!P||!_?P:P.replace(/\\?\{([^{}]+)\}/g,function(O,T){return O.charAt(0)==="\\"?O.slice(1):_[T]===void 0?"":_[T]})}d.a=b},function(R,d,x){"use strict";var b=x(10),P=function(_){return Object(b.a)(_).toUpperCase()};d.a=P},function(R,d,x){"use strict";var b=x(10),P=function(_){var O=Object(b.a)(_);return O.charAt(0).toUpperCase()+O.substring(1)};d.a=P},function(R,d,x){"use strict";var b=x(4),P=function(_){return Object(b.a)(_,"Arguments")};d.a=P},function(R,d,x){"use strict";var b=x(4),P=function(_){return Object(b.a)(_,"Boolean")};d.a=P},function(R,d,x){"use strict";var b=x(4),P=function(_){return Object(b.a)(_,"Date")};d.a=P},function(R,d,x){"use strict";var b=x(4),P=function(_){return Object(b.a)(_,"Error")};d.a=P},function(R,d,x){"use strict";var b=x(5);d.a=function(P){return Object(b.a)(P)&&isFinite(P)}},function(R,d,x){"use strict";var b=function(P){return P===null};d.a=b},function(R,d,x){"use strict";var b=x(4),P=function(_){return Object(b.a)(_,"RegExp")};d.a=P},function(R,d,x){"use strict";var b=function(P){return P===void 0};d.a=b},function(R,d,x){"use strict";var b=function(P){return P instanceof Element||P instanceof HTMLDocument};d.a=b},function(R,d,x){"use strict";d.a=b;function b(P){var _=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(O){return setTimeout(O,16)};return _(P)}},function(R,d,x){"use strict";d.a=b;function b(P){var _=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout;_(P)}},function(R,d,x){"use strict";var b=x(16),P=x(3),_=function(){for(var O=[],T=0;T<arguments.length;T++)O[T]=arguments[T];for(var F=O[0],M=1;M<O.length;M++){var A=O[M];Object(P.a)(A)&&(A=A.prototype),Object(b.a)(F.prototype,A)}};d.a=_},function(R,d,x){"use strict";var b=x(0),P=function(_){if(typeof _!="object"||_===null)return _;var O;if(Object(b.a)(_)){O=[];for(var T=0,F=_.length;T<F;T++)typeof _[T]=="object"&&_[T]!=null?O[T]=P(_[T]):O[T]=_[T]}else{O={};for(var M in _)typeof _[M]=="object"&&_[M]!=null?O[M]=P(_[M]):O[M]=_[M]}return O};d.a=P},function(R,d,x){"use strict";function b(P,_,O){var T;return function(){var F=this,M=arguments,A=function(){T=null,O||P.apply(F,M)},L=O&&!T;clearTimeout(T),T=setTimeout(A,_),L&&P.apply(F,M)}}d.a=b},function(R,d,x){"use strict";var b=x(3);d.a=function(P,_){if(!Object(b.a)(P))throw new TypeError("Expected a function");var O=function(){for(var T=[],F=0;F<arguments.length;F++)T[F]=arguments[F];var M=_?_.apply(this,T):T[0],A=O.cache;if(A.has(M))return A.get(M);var L=P.apply(this,T);return A.set(M,L),L};return O.cache=new Map,O}},function(R,d,x){"use strict";var b=x(0),P=x(9),_=5;function O(F,M,A,L){A=A||0,L=L||_;for(var I in M)if(M.hasOwnProperty(I)){var k=M[I];k!==null&&Object(P.a)(k)?(Object(P.a)(F[I])||(F[I]={}),A<L?O(F[I],k,A+1,L):F[I]=M[I]):Object(b.a)(k)?(F[I]=[],F[I]=F[I].concat(k)):k!==void 0&&(F[I]=k)}}var T=function(F){for(var M=[],A=1;A<arguments.length;A++)M[A-1]=arguments[A];for(var L=0;L<M.length;L+=1)O(F,M[L]);return F};d.a=T},function(R,d,x){"use strict";var b=x(16),P=x(3),_=function(O,T,F,M){Object(P.a)(T)||(F=T,T=O,O=function(){});var A=Object.create?function(I,k){return Object.create(I,{constructor:{value:k}})}:function(I,k){function B(){}B.prototype=I;var z=new B;return z.constructor=k,z},L=A(T.prototype,O);return O.prototype=Object(b.a)(L,O.prototype),O.superclass=A(T.prototype,T),Object(b.a)(L,F),Object(b.a)(O,M),O};d.a=_},function(R,d,x){"use strict";var b=x(1),P=function(_,O){if(!Object(b.a)(_))return-1;var T=Array.prototype.indexOf;if(T)return T.call(_,O);for(var F=-1,M=0;M<_.length;M++)if(_[M]===O){F=M;break}return F};d.a=P},function(R,d,x){"use strict";var b=x(6),P=x(1),_=x(27),O=x(28),T=Object.prototype.hasOwnProperty;function F(M){if(Object(b.a)(M))return!0;if(Object(P.a)(M))return!M.length;var A=Object(_.a)(M);if(A==="Map"||A==="Set")return!M.size;if(Object(O.a)(M))return!Object.keys(M).length;for(var L in M)if(T.call(M,L))return!1;return!0}d.a=F},function(R,d,x){"use strict";var b=x(3),P=x(29);d.a=function(_,O,T){return Object(b.a)(T)?!!T(_,O):Object(P.a)(_,O)}},function(R,d,x){"use strict";var b=x(2),P=x(1),_=function(O,T){if(!Object(P.a)(O))return O;var F=[];return Object(b.a)(O,function(M,A){F.push(T(M,A))}),F};d.a=_},function(R,d,x){"use strict";var b=x(6),P=x(13),_=function(O){return O};d.a=function(O,T){T===void 0&&(T=_);var F={};return Object(P.a)(O)&&!Object(b.a)(O)&&Object.keys(O).forEach(function(M){F[M]=T(O[M],M)}),F}},function(R,d,x){"use strict";var b=x(8);d.a=function(P,_,O){for(var T=0,F=Object(b.a)(_)?_.split("."):_;P&&T<F.length;)P=P[F[T++]];return P===void 0||T<F.length?O:P}},function(R,d,x){"use strict";var b=x(13),P=x(8),_=x(5);d.a=function(O,T,F){var M=O,A=Object(P.a)(T)?T.split("."):T;return A.forEach(function(L,I){I<A.length-1?(Object(b.a)(M[L])||(M[L]=Object(_.a)(A[I+1])?[]:{}),M=M[L]):M[L]=F}),O}},function(R,d,x){"use strict";var b=x(2),P=x(9),_=Object.prototype.hasOwnProperty;d.a=function(O,T){if(O===null||!Object(P.a)(O))return{};var F={};return Object(b.a)(T,function(M){_.call(O,M)&&(F[M]=O[M])}),F}},function(R,d,x){"use strict";d.a=function(b,P,_){var O,T,F,M,A=0;_||(_={});var L=function(){A=_.leading===!1?0:Date.now(),O=null,M=b.apply(T,F),O||(T=F=null)},I=function(){var k=Date.now();!A&&_.leading===!1&&(A=k);var B=P-(k-A);return T=this,F=arguments,B<=0||B>P?(O&&(clearTimeout(O),O=null),A=k,M=b.apply(T,F),O||(T=F=null)):!O&&_.trailing!==!1&&(O=setTimeout(L,B)),M};return I.cancel=function(){clearTimeout(O),A=0,O=T=F=null},I}},function(R,d,x){"use strict";var b=x(1);d.a=function(P){return Object(b.a)(P)?Array.prototype.slice.call(P):[]}},function(R,d,x){"use strict";var b={};d.a=function(P){return P=P||"g",b[P]?b[P]+=1:b[P]=1,P+b[P]}},function(R,d,x){"use strict";d.a=function(){}},function(R,d,x){"use strict";d.a=function(b){return b}},function(R,d,x){"use strict";d.a=_;var b=x(6),P=x(1);function _(O){return Object(b.a)(O)?0:Object(P.a)(O)?O.length:Object.keys(O).length}},function(R,d,x){"use strict";var b=function(){function P(){this.map={}}return P.prototype.has=function(_){return this.map[_]!==void 0},P.prototype.get=function(_,O){var T=this.map[_];return T===void 0?O:T},P.prototype.set=function(_,O){this.map[_]=O},P.prototype.clear=function(){this.map={}},P.prototype.delete=function(_){delete this.map[_]},P.prototype.size=function(){return Object.keys(this.map).length},P}();d.a=b},function(R,d){function x(F,M,A,L){L===void 0&&(L=[]);var I=this;I.w=F||0,I.h=M||0,I.y=A||0,I.x=0,I.c=L||[],I.cs=L.length,I.prelim=0,I.mod=0,I.shift=0,I.change=0,I.tl=null,I.tr=null,I.el=null,I.er=null,I.msel=0,I.mser=0}x.fromNode=function(F,M){if(!F)return null;var A=[];return F.children.forEach(function(L){A.push(x.fromNode(L,M))}),M?new x(F.height,F.width,F.x,A):new x(F.width,F.height,F.y,A)};function b(F,M,A){A?F.y+=M:F.x+=M,F.children.forEach(function(L){b(L,M,A)})}function P(F,M){var A=M?F.y:F.x;return F.children.forEach(function(L){A=Math.min(P(L,M),A)}),A}function _(F,M){var A=P(F,M);b(F,-A,M)}function O(F,M,A){A?M.y=F.x:M.x=F.x,F.c.forEach(function(L,I){O(L,M.children[I],A)})}function T(F,M,A){A===void 0&&(A=0),M?(F.x=A,A+=F.width):(F.y=A,A+=F.height),F.children.forEach(function(L){T(L,M,A)})}R.exports=function(F,M){M===void 0&&(M={});var A=M.isHorizontal;function L(_t){if(_t.cs===0){I(_t);return}L(_t.c[0]);for(var St=ct($(_t.c[0].el),0,null),At=1;At<_t.cs;++At){L(_t.c[At]);var vt=$(_t.c[At].er);k(_t,At,St),St=ct(vt,At,St)}st(_t),I(_t)}function I(_t){_t.cs===0?(_t.el=_t,_t.er=_t,_t.msel=_t.mser=0):(_t.el=_t.c[0].el,_t.msel=_t.c[0].msel,_t.er=_t.c[_t.cs-1].er,_t.mser=_t.c[_t.cs-1].mser)}function k(_t,St,At){for(var vt=_t.c[St-1],dt=vt.mod,gt=_t.c[St],Ct=gt.mod;vt!==null&&gt!==null;){$(vt)>At.low&&(At=At.nxt);var Et=dt+vt.prelim+vt.w-(Ct+gt.prelim);Et>0&&(Ct+=Et,B(_t,St,At.index,Et));var Tt=$(vt),ot=$(gt);Tt<=ot&&(vt=W(vt),vt!==null&&(dt+=vt.mod)),Tt>=ot&&(gt=z(gt),gt!==null&&(Ct+=gt.mod))}!vt&&!!gt?K(_t,St,gt,Ct):!!vt&&!gt&&lt(_t,St,vt,dt)}function B(_t,St,At,vt){_t.c[St].mod+=vt,_t.c[St].msel+=vt,_t.c[St].mser+=vt,q(_t,St,At,vt)}function z(_t){return _t.cs===0?_t.tl:_t.c[0]}function W(_t){return _t.cs===0?_t.tr:_t.c[_t.cs-1]}function $(_t){return _t.y+_t.h}function K(_t,St,At,vt){var dt=_t.c[0].el;dt.tl=At;var gt=vt-At.mod-_t.c[0].msel;dt.mod+=gt,dt.prelim-=gt,_t.c[0].el=_t.c[St].el,_t.c[0].msel=_t.c[St].msel}function lt(_t,St,At,vt){var dt=_t.c[St].er;dt.tr=At;var gt=vt-At.mod-_t.c[St].mser;dt.mod+=gt,dt.prelim-=gt,_t.c[St].er=_t.c[St-1].er,_t.c[St].mser=_t.c[St-1].mser}function st(_t){_t.prelim=(_t.c[0].prelim+_t.c[0].mod+_t.c[_t.cs-1].mod+_t.c[_t.cs-1].prelim+_t.c[_t.cs-1].w)/2-_t.w/2}function yt(_t,St){St+=_t.mod,_t.x=_t.prelim+St,nt(_t);for(var At=0;At<_t.cs;At++)yt(_t.c[At],St)}function q(_t,St,At,vt){if(At!==St-1){var dt=St-At;_t.c[At+1].shift+=vt/dt,_t.c[St].shift-=vt/dt,_t.c[St].change-=vt-vt/dt}}function nt(_t){for(var St=0,At=0,vt=0;vt<_t.cs;vt++)St+=_t.c[vt].shift,At+=St+_t.c[vt].change,_t.c[vt].mod+=At}function ct(_t,St,At){for(;At!==null&&_t>=At.low;)At=At.nxt;return{low:_t,index:St,nxt:At}}T(F,A);var bt=x.fromNode(F,A);return L(bt),yt(bt,0),O(bt,F,A),_(F,A),F}},function(R,d,x){function b(L,I){L.prototype=Object.create(I.prototype),L.prototype.constructor=L,L.__proto__=I}var P=x(11),_=x(115),O=x(17),T=x(7),F=function(L){b(I,L);function I(){return L.apply(this,arguments)||this}var k=I.prototype;return k.execute=function(){var z=this;return z.rootNode.width=0,O(z.rootNode,z.options,_)},I}(P),M={};function A(L,I){return I=T.assign({},M,I),new F(L,I).execute()}R.exports=A},function(R,d,x){var b=x(7);function P(T,F){T===void 0&&(T=0),F===void 0&&(F=[]);var M=this;M.x=M.y=0,M.leftChild=M.rightChild=null,M.height=0,M.children=F}var _={isHorizontal:!0,nodeSep:20,nodeSize:20,rankSep:200,subTreeSep:10};function O(T,F,M){M?(F.x=T.x,F.y=T.y):(F.x=T.y,F.y=T.x),T.children.forEach(function(A,L){O(A,F.children[L],M)})}R.exports=function(T,F){F===void 0&&(F={}),F=b.assign({},_,F);var M=0;function A(z){if(!z)return null;z.width=0,z.depth&&z.depth>M&&(M=z.depth);var W=z.children,$=W.length,K=new P(z.height,[]);return W.forEach(function(lt,st){var yt=A(lt);K.children.push(yt),st===0&&(K.leftChild=yt),st===$-1&&(K.rightChild=yt)}),K.originNode=z,K.isLeaf=z.isLeaf(),K}function L(z){if(z.isLeaf||z.children.length===0)z.drawingDepth=M;else{var W=z.children.map(function(K){return L(K)}),$=Math.min.apply(null,W);z.drawingDepth=$-1}return z.drawingDepth}var I;function k(z){z.x=z.drawingDepth*F.rankSep,z.isLeaf?(z.y=0,I&&(z.y=I.y+I.height+F.nodeSep,z.originNode.parent!==I.originNode.parent&&(z.y+=F.subTreeSep)),I=z):(z.children.forEach(function(W){k(W)}),z.y=(z.leftChild.y+z.rightChild.y)/2)}var B=A(T);return L(B),k(B),O(B,T,F.isHorizontal),T}},function(R,d,x){function b(k,B){k.prototype=Object.create(B.prototype),k.prototype.constructor=k,k.__proto__=B}var P=x(11),_=x(117),O=x(30),T=x(7),F=["LR","RL","H"],M=F[0],A=function(k){b(B,k);function B(){return k.apply(this,arguments)||this}var z=B.prototype;return z.execute=function(){var $=this,K=$.options,lt=$.rootNode;K.isHorizontal=!0;var st=K.indent,yt=st===void 0?20:st,q=K.dropCap,nt=q===void 0?!0:q,ct=K.direction||M;if(ct&&F.indexOf(ct)===-1)throw new TypeError("Invalid direction: "+ct);if(ct===F[0])_(lt,yt,nt);else if(ct===F[1])_(lt,yt,nt),lt.right2left();else if(ct===F[2]){var bt=O(lt,K),_t=bt.left,St=bt.right;_(_t,yt,nt),_t.right2left(),_(St,yt,nt);var At=_t.getBoundingBox();St.translate(At.width,0),lt.x=St.x-lt.width/2}return lt},B}(P),L={};function I(k,B){return B=T.assign({},L,B),new A(k,B).execute()}R.exports=I},function(R,d){function x(b,P,_,O){var T=typeof _=="function"?_(b):_*b.depth;if(!O)try{if(b.id===b.parent.children[0].id){b.x+=T,b.y=P?P.y:0;return}}catch(F){}b.x+=T,b.y=P?P.y+P.height:0}R.exports=function(b,P,_){var O=null;b.eachNode(function(T){x(T,O,P,_),O=T})}},function(R,d,x){function b(L,I){L.prototype=Object.create(I.prototype),L.prototype.constructor=L,L.__proto__=I}var P=x(11),_=x(119),O=x(17),T=x(7),F=function(L){b(I,L);function I(){return L.apply(this,arguments)||this}var k=I.prototype;return k.execute=function(){var z=this;return O(z.rootNode,z.options,_)},I}(P),M={};function A(L,I){return I=T.assign({},M,I),new F(L,I).execute()}R.exports=A},function(R,d,x){var b=x(7);function P(T,F){var M=0;return T.children.length?T.children.forEach(function(A){M+=P(A,F)}):M=T.height,T._subTreeSep=F.getSubTreeSep(T.data),T.totalHeight=Math.max(T.height,M)+2*T._subTreeSep,T.totalHeight}function _(T){var F=T.children,M=F.length;if(M){F.forEach(function(z){_(z)});var A=F[0],L=F[M-1],I=L.y-A.y+L.height,k=0;if(F.forEach(function(z){k+=z.totalHeight}),I>T.height)T.y=A.y+I/2-T.height/2;else if(F.length!==1||T.height>k){var B=T.y+(T.height-I)/2-A.y;F.forEach(function(z){z.translate(0,B)})}else T.y=(A.y+A.height/2+L.y+L.height/2)/2-T.height/2}}var O={getSubTreeSep:function(){return 0}};R.exports=function(T,F){F===void 0&&(F={}),F=b.assign({},O,F),T.parent={x:0,width:0,height:0,y:0},T.BFTraverse(function(M){M.x=M.parent.x+M.parent.width}),T.parent=null,P(T,F),T.startY=0,T.y=T.totalHeight/2-T.height/2,T.eachNode(function(M){var A=M.children,L=A.length;if(L){var I=A[0];if(I.startY=M.startY+M._subTreeSep,L===1)I.y=M.y+M.height/2-I.height/2;else{I.y=I.startY+I.totalHeight/2-I.height/2;for(var k=1;k<L;k++){var B=A[k];B.startY=A[k-1].startY+A[k-1].totalHeight,B.y=B.startY+B.totalHeight/2-B.height/2}}}}),_(T)}}])})},83360:function(at,R,d){"use strict";var x=this&&this.__createBinding||(Object.create?function(_,O,T,F){F===void 0&&(F=T),Object.defineProperty(_,F,{enumerable:!0,get:function(){return O[T]}})}:function(_,O,T,F){F===void 0&&(F=T),_[F]=O[T]}),b=this&&this.__exportStar||function(_,O){for(var T in _)T!=="default"&&!Object.prototype.hasOwnProperty.call(O,T)&&x(O,_,T)};Object.defineProperty(R,"__esModule",{value:!0}),R.getLayoutByName=R.unRegisterLayout=R.registerLayout=void 0;var P=d(95326);Object.defineProperty(R,"registerLayout",{enumerable:!0,get:function(){return P.registerLayout}}),Object.defineProperty(R,"unRegisterLayout",{enumerable:!0,get:function(){return P.unRegisterLayout}}),Object.defineProperty(R,"getLayoutByName",{enumerable:!0,get:function(){return P.getLayoutByName}}),b(d(2584),R)},62329:function(at,R){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.Base=void 0;var d=function(){function x(){this.nodes=[],this.edges=[],this.combos=[],this.comboEdges=[],this.hiddenNodes=[],this.hiddenEdges=[],this.hiddenCombos=[],this.positions=[],this.destroyed=!1,this.onLayoutEnd=function(){}}return x.prototype.layout=function(b){return this.init(b),this.execute(!0)},x.prototype.init=function(b){this.nodes=b.nodes||[],this.edges=b.edges||[],this.combos=b.combos||[],this.comboEdges=b.comboEdges||[],this.hiddenNodes=b.hiddenNodes||[],this.hiddenEdges=b.hiddenEdges||[],this.hiddenCombos=b.hiddenCombos||[]},x.prototype.execute=function(b){},x.prototype.executeWithWorker=function(){},x.prototype.getDefaultCfg=function(){return{}},x.prototype.updateCfg=function(b){b&&Object.assign(this,b)},x.prototype.getType=function(){return"base"},x.prototype.destroy=function(){this.nodes=null,this.edges=null,this.combos=null,this.positions=null,this.destroyed=!0},x}();R.Base=d},64885:function(at,R,d){"use strict";var x=this&&this.__extends||function(){var M=function(A,L){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,k){I.__proto__=k}||function(I,k){for(var B in k)Object.prototype.hasOwnProperty.call(k,B)&&(I[B]=k[B])},M(A,L)};return function(A,L){if(typeof L!="function"&&L!==null)throw new TypeError("Class extends value "+String(L)+" is not a constructor or null");M(A,L);function I(){this.constructor=A}A.prototype=L===null?Object.create(L):(I.prototype=L.prototype,new I)}}();Object.defineProperty(R,"__esModule",{value:!0}),R.CircularLayout=void 0;var b=d(62329),P=d(49784);function _(M,A,L,I){M.forEach(function(k,B){M[B].children=[],M[B].parent=[]}),I?A.forEach(function(k){var B=(0,P.getEdgeTerminal)(k,"source"),z=(0,P.getEdgeTerminal)(k,"target"),W=0;B&&(W=L[B]);var $=0;z&&($=L[z]);var K=M[W].children,lt=M[$].parent;K.push(M[$].id),lt.push(M[W].id)}):A.forEach(function(k){var B=(0,P.getEdgeTerminal)(k,"source"),z=(0,P.getEdgeTerminal)(k,"target"),W=0;B&&(W=L[B]);var $=0;z&&($=L[z]);var K=M[W].children,lt=M[$].children;K.push(M[$].id),lt.push(M[W].id)})}function O(M,A,L){for(var I=L.length,k=0;k<I;k++){var B=(0,P.getEdgeTerminal)(L[k],"source"),z=(0,P.getEdgeTerminal)(L[k],"target");if(M.id===B&&A.id===z||A.id===B&&M.id===z)return!0}return!1}function T(M,A){var L=M.degree,I=A.degree;return L<I?-1:L>I?1:0}var F=function(M){x(A,M);function A(L){var I=M.call(this)||this;return I.radius=null,I.nodeSize=void 0,I.startRadius=null,I.endRadius=null,I.startAngle=0,I.endAngle=2*Math.PI,I.clockwise=!0,I.divisions=1,I.ordering=null,I.angleRatio=1,I.nodes=[],I.edges=[],I.nodeMap={},I.degrees=[],I.width=300,I.height=300,I.updateCfg(L),I}return A.prototype.getDefaultCfg=function(){return{radius:null,startRadius:null,endRadius:null,startAngle:0,endAngle:2*Math.PI,clockwise:!0,divisions:1,ordering:null,angleRatio:1}},A.prototype.execute=function(){var L,I=this,k=I.nodes,B=I.edges,z=k.length;if(z===0){I.onLayoutEnd&&I.onLayoutEnd();return}!I.width&&typeof window!="undefined"&&(I.width=window.innerWidth),!I.height&&typeof window!="undefined"&&(I.height=window.innerHeight),I.center||(I.center=[I.width/2,I.height/2]);var W=I.center;if(z===1){k[0].x=W[0],k[0].y=W[1],I.onLayoutEnd&&I.onLayoutEnd();return}var $=I.radius,K=I.startRadius,lt=I.endRadius,st=I.divisions,yt=I.startAngle,q=I.endAngle,nt=I.angleRatio,ct=I.ordering,bt=I.clockwise,_t=I.nodeSpacing,St=I.nodeSize,At=(q-yt)/z,vt={};k.forEach(function(ae,he){vt[ae.id]=he}),I.nodeMap=vt;var dt=(0,P.getDegree)(k.length,vt,B);if(I.degrees=dt,_t){var gt=(0,P.getFuncByUnknownType)(10,_t),Ct=(0,P.getFuncByUnknownType)(10,St),Et=-1/0;k.forEach(function(ae){var he=Ct(ae);Et<he&&(Et=he)});var Tt=0;k.forEach(function(ae,he){he===0?Tt+=Et||10:Tt+=(gt(ae)||0)+(Et||10)}),$=Tt/(2*Math.PI)}else!$&&!K&&!lt?$=I.height>I.width?I.width/2:I.height/2:!K&&lt?K=lt:K&&!lt&&(lt=K);var ot=At*nt,Mt=[];ct==="topology"?Mt=I.topologyOrdering():ct==="topology-directed"?Mt=I.topologyOrdering(!0):ct==="degree"?Mt=I.degreeOrdering():Mt=k;for(var Wt=Math.ceil(z/st),jt=0;jt<z;++jt){var qt=$;!qt&&K!==null&&lt!==null&&(qt=K+jt*(lt-K)/(z-1)),qt||(qt=10+jt*100/(z-1));var se=yt+jt%Wt*ot+2*Math.PI/st*Math.floor(jt/Wt);bt||(se=q-jt%Wt*ot-2*Math.PI/st*Math.floor(jt/Wt)),Mt[jt].x=W[0]+Math.cos(se)*qt,Mt[jt].y=W[1]+Math.sin(se)*qt,Mt[jt].weight=dt[jt]}return(L=I.onLayoutEnd)===null||L===void 0||L.call(I),{nodes:Mt,edges:this.edges}},A.prototype.topologyOrdering=function(L){L===void 0&&(L=!1);var I=this,k=I.degrees,B=I.edges,z=I.nodes,W=(0,P.clone)(z),$=I.nodeMap,K=[W[0]],lt=[z[0]],st=[],yt=z.length;st[0]=!0,_(W,B,$,L);var q=0;return W.forEach(function(nt,ct){if(ct!==0)if((ct===yt-1||k[ct]!==k[ct+1]||O(K[q],nt,B))&&!st[ct])K.push(nt),lt.push(z[$[nt.id]]),st[ct]=!0,q++;else{for(var bt=K[q].children,_t=!1,St=0;St<bt.length;St++){var At=$[bt[St]];if(k[At]===k[ct]&&!st[At]){K.push(W[At]),lt.push(z[$[W[At].id]]),st[At]=!0,_t=!0;break}}for(var vt=0;!_t&&(st[vt]||(K.push(W[vt]),lt.push(z[$[W[vt].id]]),st[vt]=!0,_t=!0),vt++,vt!==yt););}}),lt},A.prototype.degreeOrdering=function(){var L=this,I=L.nodes,k=[],B=L.degrees;return I.forEach(function(z,W){z.degree=B[W],k.push(z)}),k.sort(T),k},A.prototype.getType=function(){return"circular"},A}(b.Base);R.CircularLayout=F},63861:function(at,R,d){"use strict";var x=this&&this.__extends||function(){var M=function(A,L){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,k){I.__proto__=k}||function(I,k){for(var B in k)Object.prototype.hasOwnProperty.call(k,B)&&(I[B]=k[B])},M(A,L)};return function(A,L){if(typeof L!="function"&&L!==null)throw new TypeError("Class extends value "+String(L)+" is not a constructor or null");M(A,L);function I(){this.constructor=A}A.prototype=L===null?Object.create(L):(I.prototype=L.prototype,new I)}}(),b=this&&this.__assign||function(){return b=Object.assign||function(M){for(var A,L=1,I=arguments.length;L<I;L++){A=arguments[L];for(var k in A)Object.prototype.hasOwnProperty.call(A,k)&&(M[k]=A[k])}return M},b.apply(this,arguments)};Object.defineProperty(R,"__esModule",{value:!0}),R.ComboCombinedLayout=void 0;var P=d(16470),_=d(62329),O=d(49784),T=d(2584),F=function(M){x(A,M);function A(L){var I=M.call(this)||this;return I.center=[0,0],I.nodes=[],I.edges=[],I.combos=[],I.comboEdges=[],I.comboPadding=10,I.comboTrees=[],I.updateCfg(L),I}return A.prototype.getDefaultCfg=function(){return{}},A.prototype.execute=function(){var L=this,I=L.nodes,k=L.center;if(!I||I.length===0){L.onLayoutEnd&&L.onLayoutEnd();return}if(I.length===1){I[0].x=k[0],I[0].y=k[1],L.onLayoutEnd&&L.onLayoutEnd();return}L.initVals(),L.run(),L.onLayoutEnd&&L.onLayoutEnd()},A.prototype.run=function(){var L,I=this,k=I.nodes,B=I.edges,z=I.combos,W=I.comboEdges,$=I.center,K=I.getInnerGraphs(),lt={};k.forEach(function(Et){lt[Et.id]=Et});var st={};z.forEach(function(Et){st[Et.id]=Et});var yt=[],q=[],nt={},ct=!0;this.comboTrees.forEach(function(Et){var Tt=K[Et.id],ot={id:Et.id,x:Tt.x||st[Et.id].x,y:Tt.y||st[Et.id].y,fx:Tt.fx||st[Et.id].fx,fy:Tt.fy||st[Et.id].fy,mass:Tt.mass||st[Et.id].mass,size:Tt.size};q.push(ot),!isNaN(ot.x)&&ot.x!==0&&!isNaN(ot.y)&&ot.y!==0?ct=!1:(ot.x=Math.random()*100,ot.y=Math.random()*100),yt.push(Et.id),(0,O.traverseTreeUp)(Et,function(Mt){return Mt.id!==Et.id&&(nt[Mt.id]=Et.id),!0})}),k.forEach(function(Et){if(!(Et.comboId&&st[Et.comboId])){var Tt={id:Et.id,x:Et.x,y:Et.y,fx:Et.fx,fy:Et.fy,mass:Et.mass,size:Et.size};q.push(Tt),!isNaN(Tt.x)&&Tt.x!==0&&!isNaN(Tt.y)&&Tt.y!==0?ct=!1:(Tt.x=Math.random()*100,Tt.y=Math.random()*100),yt.push(Et.id)}});var bt=[];if(B.concat(W).forEach(function(Et){var Tt=nt[Et.source]||Et.source,ot=nt[Et.target]||Et.target;Tt!==ot&&yt.includes(Tt)&&yt.includes(ot)&&bt.push({source:Tt,target:ot})}),q!=null&&q.length){if(q.length===1)q[0].x=$[0],q[0].y=$[1];else{var _t={nodes:q,edges:bt},St=this.outerLayout||new T.GForceLayout({gravity:1,factor:2,linkDistance:function(Et,Tt,ot){var Mt,Wt,jt=((((Mt=Tt.size)===null||Mt===void 0?void 0:Mt[0])||30)+(((Wt=ot.size)===null||Wt===void 0?void 0:Wt[0])||30))/2;return Math.min(jt*1.5,700)}}),At=(L=St.getType)===null||L===void 0?void 0:L.call(St);if(St.updateCfg({center:$,kg:5,preventOverlap:!0,animate:!1}),ct&&P.FORCE_LAYOUT_TYPE_MAP[At]){var vt=q.length<100?new T.MDSLayout:new T.GridLayout;vt.layout(_t)}St.layout(_t)}q.forEach(function(Et){var Tt=K[Et.id];if(!Tt){var ot=lt[Et.id];ot&&(ot.x=Et.x,ot.y=Et.y);return}Tt.visited=!0,Tt.x=Et.x,Tt.y=Et.y,Tt.nodes.forEach(function(Mt){Mt.x+=Et.x,Mt.y+=Et.y})})}for(var dt=Object.keys(K),gt=function(Et){var Tt=dt[Et],ot=K[Tt];if(!ot)return"continue";ot.nodes.forEach(function(Mt){ot.visited||(Mt.x+=ot.x||0,Mt.y+=ot.y||0),lt[Mt.id]&&(lt[Mt.id].x=Mt.x,lt[Mt.id].y=Mt.y)}),st[Tt]&&(st[Tt].x=ot.x,st[Tt].y=ot.y)},Ct=dt.length-1;Ct>=0;Ct--)gt(Ct);return{nodes:k,edges:B,combos:z,comboEdges:W}},A.prototype.getInnerGraphs=function(){var L=this,I=L.comboTrees,k=L.nodeSize,B=L.edges,z=L.comboPadding,W=L.spacing,$={},K=this.innerLayout||new T.ConcentricLayout({sortBy:"id"});return K.center=[0,0],K.preventOverlap=!0,K.nodeSpacing=W,(I||[]).forEach(function(lt){(0,O.traverseTreeUp)(lt,function(st){var yt,q=(z==null?void 0:z(st))||10;if((0,O.isArray)(q)&&(q=Math.max.apply(Math,q)),!((yt=st.children)===null||yt===void 0)&&yt.length){var ct=st.children.map(function(Tt){return Tt.itemType==="combo"?$[Tt.id]:b({},Tt)}),bt=ct.map(function(Tt){return Tt.id}),_t={nodes:ct,edges:B.filter(function(Tt){return bt.includes(Tt.source)&&bt.includes(Tt.target)})},St=1/0;ct.forEach(function(Tt){var ot;Tt.size||(Tt.size=((ot=$[Tt.id])===null||ot===void 0?void 0:ot.size)||(k==null?void 0:k(Tt))||[30,30]),(0,O.isNumber)(Tt.size)&&(Tt.size=[Tt.size,Tt.size]),St>Tt.size[0]&&(St=Tt.size[0]),St>Tt.size[1]&&(St=Tt.size[1])}),K.layout(_t);var At=(0,O.findMinMaxNodeXY)(ct),vt=At.minX,dt=At.minY,gt=At.maxX,Ct=At.maxY,Et=Math.max(gt-vt,Ct-dt,St)+q*2;$[st.id]={id:st.id,nodes:ct,size:[Et,Et]}}else if(st.itemType==="combo"){var nt=q?[q*2,q*2]:[30,30];$[st.id]={id:st.id,nodes:[],size:nt}}return!0})}),$},A.prototype.initVals=function(){var L=this,I=L.nodeSize,k=L.spacing,B,z;if((0,O.isNumber)(k)?z=function(){return k}:(0,O.isFunction)(k)?z=k:z=function(){return 0},this.spacing=z,!I)B=function(yt){var q=z(yt);if(yt.size){if((0,O.isArray)(yt.size)){var nt=yt.size[0]>yt.size[1]?yt.size[0]:yt.size[1];return(nt+q)/2}if((0,O.isObject)(yt.size)){var nt=yt.size.width>yt.size.height?yt.size.width:yt.size.height;return(nt+q)/2}return(yt.size+q)/2}return 10+q/2};else if((0,O.isFunction)(I))B=function(yt){var q=I(yt),nt=z(yt);if((0,O.isArray)(yt.size)){var ct=yt.size[0]>yt.size[1]?yt.size[0]:yt.size[1];return(ct+nt)/2}return((q||10)+nt)/2};else if((0,O.isArray)(I)){var W=I[0]>I[1]?I[0]:I[1],$=W/2;B=function(yt){return $+z(yt)/2}}else{var K=I/2;B=function(yt){return K+z(yt)/2}}this.nodeSize=B;var lt=L.comboPadding,st;(0,O.isNumber)(lt)?st=function(){return lt}:(0,O.isArray)(lt)?st=function(){return Math.max.apply(null,lt)}:(0,O.isFunction)(lt)?st=lt:st=function(){return 0},this.comboPadding=st},A.prototype.getType=function(){return"comboCombined"},A}(_.Base);R.ComboCombinedLayout=F},66590:function(at,R,d){"use strict";var x=this&&this.__extends||function(){var O=function(T,F){return O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,A){M.__proto__=A}||function(M,A){for(var L in A)Object.prototype.hasOwnProperty.call(A,L)&&(M[L]=A[L])},O(T,F)};return function(T,F){if(typeof F!="function"&&F!==null)throw new TypeError("Class extends value "+String(F)+" is not a constructor or null");O(T,F);function M(){this.constructor=T}T.prototype=F===null?Object.create(F):(M.prototype=F.prototype,new M)}}();Object.defineProperty(R,"__esModule",{value:!0}),R.ComboForceLayout=void 0;var b=d(62329),P=d(49784),_=function(O){x(T,O);function T(F){var M=O.call(this)||this;return M.center=[0,0],M.maxIteration=100,M.gravity=10,M.comboGravity=10,M.linkDistance=10,M.alpha=1,M.alphaMin=.001,M.alphaDecay=1-Math.pow(M.alphaMin,1/300),M.alphaTarget=0,M.velocityDecay=.6,M.edgeStrength=.6,M.nodeStrength=30,M.preventOverlap=!1,M.preventNodeOverlap=!1,M.preventComboOverlap=!1,M.collideStrength=void 0,M.nodeCollideStrength=.5,M.comboCollideStrength=.5,M.comboSpacing=20,M.comboPadding=10,M.optimizeRangeFactor=1,M.onTick=function(){},M.onLayoutEnd=function(){},M.depthAttractiveForceScale=1,M.depthRepulsiveForceScale=2,M.nodes=[],M.edges=[],M.combos=[],M.comboTrees=[],M.width=300,M.height=300,M.bias=[],M.nodeMap={},M.oriComboMap={},M.indexMap={},M.comboMap={},M.previousLayouted=!1,M.updateCfg(F),M}return T.prototype.getDefaultCfg=function(){return{maxIteration:100,center:[0,0],gravity:10,speed:1,comboGravity:30,preventOverlap:!1,preventComboOverlap:!0,preventNodeOverlap:!0,nodeSpacing:void 0,collideStrength:void 0,nodeCollideStrength:.5,comboCollideStrength:.5,comboSpacing:20,comboPadding:10,edgeStrength:.6,nodeStrength:30,linkDistance:10}},T.prototype.execute=function(){var F=this,M=F.nodes,A=F.center;if(F.comboTree={id:"comboTreeRoot",depth:-1,children:F.comboTrees},!M||M.length===0){F.onLayoutEnd&&F.onLayoutEnd();return}if(M.length===1){M[0].x=A[0],M[0].y=A[1],F.onLayoutEnd&&F.onLayoutEnd();return}F.initVals(),F.run(),F.onLayoutEnd&&F.onLayoutEnd()},T.prototype.run=function(){var F=this,M=F.nodes,A=F.previousLayouted?F.maxIteration/5:F.maxIteration;!F.width&&typeof window!="undefined"&&(F.width=window.innerWidth),!F.height&&typeof window!="undefined"&&(F.height=window.innerHeight);var L=F.center,I=F.velocityDecay,k=F.comboMap;F.previousLayouted||F.initPos(k);for(var B=function(K){var lt=[];M.forEach(function(st,yt){lt[yt]={x:0,y:0}}),F.applyCalculate(lt),F.applyComboCenterForce(lt),M.forEach(function(st,yt){!(0,P.isNumber)(st.x)||!(0,P.isNumber)(st.y)||(st.x+=lt[yt].x*I,st.y+=lt[yt].y*I)}),F.alpha+=(F.alphaTarget-F.alpha)*F.alphaDecay,F.onTick()},z=0;z<A;z++)B(z);var W=[0,0];M.forEach(function(K){!(0,P.isNumber)(K.x)||!(0,P.isNumber)(K.y)||(W[0]+=K.x,W[1]+=K.y)}),W[0]/=M.length,W[1]/=M.length;var $=[L[0]-W[0],L[1]-W[1]];M.forEach(function(K,lt){!(0,P.isNumber)(K.x)||!(0,P.isNumber)(K.y)||(K.x+=$[0],K.y+=$[1])}),F.combos.forEach(function(K){var lt=k[K.id];lt&&lt.empty&&(K.x=lt.cx||K.x,K.y=lt.cy||K.y)}),F.previousLayouted=!0},T.prototype.initVals=function(){var F=this,M=F.edges,A=F.nodes,L=F.combos,I={},k={},B={};A.forEach(function(qt,se){k[qt.id]=qt,B[qt.id]=se}),F.nodeMap=k,F.indexMap=B;var z={};L.forEach(function(qt){z[qt.id]=qt}),F.oriComboMap=z,F.comboMap=F.getComboMap();var W=F.preventOverlap;F.preventComboOverlap=F.preventComboOverlap||W,F.preventNodeOverlap=F.preventNodeOverlap||W;var $=F.collideStrength;$&&(F.comboCollideStrength=$,F.nodeCollideStrength=$),F.comboCollideStrength=F.comboCollideStrength?F.comboCollideStrength:0,F.nodeCollideStrength=F.nodeCollideStrength?F.nodeCollideStrength:0;for(var K=0;K<M.length;++K){var lt=(0,P.getEdgeTerminal)(M[K],"source"),st=(0,P.getEdgeTerminal)(M[K],"target");I[lt]?I[lt]++:I[lt]=1,I[st]?I[st]++:I[st]=1}for(var yt=[],K=0;K<M.length;++K){var lt=(0,P.getEdgeTerminal)(M[K],"source"),st=(0,P.getEdgeTerminal)(M[K],"target");yt[K]=I[lt]/(I[lt]+I[st])}this.bias=yt;var q=F.nodeSize,nt=F.nodeSpacing,ct,bt;if((0,P.isNumber)(nt)?bt=function(){return nt}:(0,P.isFunction)(nt)?bt=nt:bt=function(){return 0},this.nodeSpacing=bt,!q)ct=function(qt){if(qt.size){if((0,P.isArray)(qt.size)){var se=qt.size[0]>qt.size[1]?qt.size[0]:qt.size[1];return se/2}if((0,P.isObject)(qt.size)){var se=qt.size.width>qt.size.height?qt.size.width:qt.size.height;return se/2}return qt.size/2}return 10};else if((0,P.isFunction)(q))ct=function(qt){return q(qt)};else if((0,P.isArray)(q)){var _t=q[0]>q[1]?q[0]:q[1],St=_t/2;ct=function(qt){return St}}else{var At=q/2;ct=function(qt){return At}}this.nodeSize=ct;var vt=F.comboSpacing,dt;(0,P.isNumber)(vt)?dt=function(){return vt}:(0,P.isFunction)(vt)?dt=vt:dt=function(){return 0},this.comboSpacing=dt;var gt=F.comboPadding,Ct;(0,P.isNumber)(gt)?Ct=function(){return gt}:(0,P.isArray)(gt)?Ct=function(){return Math.max.apply(null,gt)}:(0,P.isFunction)(gt)?Ct=gt:Ct=function(){return 0},this.comboPadding=Ct;var Et=this.linkDistance,Tt;Et||(Et=10),(0,P.isNumber)(Et)?Tt=function(qt){return Et}:Tt=Et,this.linkDistance=Tt;var ot=this.edgeStrength,Mt;ot||(ot=1),(0,P.isNumber)(ot)?Mt=function(qt){return ot}:Mt=ot,this.edgeStrength=Mt;var Wt=this.nodeStrength,jt;Wt||(Wt=30),(0,P.isNumber)(Wt)?jt=function(qt){return Wt}:jt=Wt,this.nodeStrength=jt},T.prototype.initPos=function(F){var M=this,A=M.nodes;A.forEach(function(L,I){var k=L.comboId,B=F[k];k&&B?(L.x=B.cx+100/(I+1),L.y=B.cy+100/(I+1)):(L.x=100/(I+1),L.y=100/(I+1))})},T.prototype.getComboMap=function(){var F=this,M=F.nodeMap,A=F.comboTrees,L=F.oriComboMap,I={};return(A||[]).forEach(function(k){var B=[];(0,P.traverseTreeUp)(k,function(z){if(z.itemType==="node"||!L[z.id])return!0;if(I[z.id]===void 0){var W={id:z.id,name:z.id,cx:0,cy:0,count:0,depth:F.oriComboMap[z.id].depth||0,children:[]};I[z.id]=W}var $=z.children;$&&$.forEach(function(st){if(!I[st.id]&&!M[st.id])return!0;B.push(st)});var K=I[z.id];if(K.cx=0,K.cy=0,B.length===0){K.empty=!0;var lt=L[z.id];K.cx=lt.x,K.cy=lt.y}return B.forEach(function(st){if(K.count++,st.itemType!=="node"){var yt=I[st.id];(0,P.isNumber)(yt.cx)&&(K.cx+=yt.cx),(0,P.isNumber)(yt.cy)&&(K.cy+=yt.cy);return}var q=M[st.id];!q||((0,P.isNumber)(q.x)&&(K.cx+=q.x),(0,P.isNumber)(q.y)&&(K.cy+=q.y))}),K.cx/=K.count||1,K.cy/=K.count||1,K.children=B,!0})}),I},T.prototype.applyComboCenterForce=function(F){var M=this,A=M.gravity,L=M.comboGravity||A,I=this.alpha,k=M.comboTrees,B=M.indexMap,z=M.nodeMap,W=M.comboMap;(k||[]).forEach(function($){(0,P.traverseTreeUp)($,function(K){if(K.itemType==="node")return!0;var lt=W[K.id];if(!lt)return!0;var st=W[K.id],yt=(st.depth+1)/10*.5,q=st.cx,nt=st.cy;return st.cx=0,st.cy=0,st.children.forEach(function(ct){if(ct.itemType!=="node"){var bt=W[ct.id];bt&&(0,P.isNumber)(bt.cx)&&(st.cx+=bt.cx),bt&&(0,P.isNumber)(bt.cy)&&(st.cy+=bt.cy);return}var _t=z[ct.id],St=_t.x-q||.005,At=_t.y-nt||.005,vt=Math.sqrt(St*St+At*At),dt=B[_t.id],gt=L*I/vt*yt;F[dt].x-=St*gt,F[dt].y-=At*gt,(0,P.isNumber)(_t.x)&&(st.cx+=_t.x),(0,P.isNumber)(_t.y)&&(st.cy+=_t.y)}),st.cx/=st.count||1,st.cy/=st.count||1,!0})})},T.prototype.applyCalculate=function(F){var M=this,A=M.comboMap,L=M.nodes,I={};L.forEach(function(B,z){L.forEach(function(W,$){if(!(z<$)){var K=B.x-W.x||.005,lt=B.y-W.y||.005,st=K*K+lt*lt,yt=Math.sqrt(st);st<1&&(st=yt),I[B.id+"-"+W.id]={vx:K,vy:lt,vl2:st,vl:yt},I[W.id+"-"+B.id]={vl2:st,vl:yt,vx:-K,vy:-lt}}})}),M.updateComboSizes(A),M.calRepulsive(F,I),M.calAttractive(F,I);var k=M.preventComboOverlap;k&&M.comboNonOverlapping(F,A)},T.prototype.updateComboSizes=function(F){var M=this,A=M.comboTrees,L=M.nodeMap,I=M.nodeSize,k=M.comboSpacing,B=M.comboPadding;(A||[]).forEach(function(z){var W=[];(0,P.traverseTreeUp)(z,function($){if($.itemType==="node")return!0;var K=F[$.id];if(!K)return!1;var lt=$.children;lt&&lt.forEach(function(q){!F[q.id]&&!L[q.id]||W.push(q)}),K.minX=1/0,K.minY=1/0,K.maxX=-1/0,K.maxY=-1/0,W.forEach(function(q){if(q.itemType!=="node")return!0;var nt=L[q.id];if(!nt)return!0;var ct=I(nt),bt=nt.x-ct,_t=nt.y-ct,St=nt.x+ct,At=nt.y+ct;K.minX>bt&&(K.minX=bt),K.minY>_t&&(K.minY=_t),K.maxX<St&&(K.maxX=St),K.maxY<At&&(K.maxY=At)});var st=M.oriComboMap[$.id].size||10;(0,P.isArray)(st)&&(st=st[0]);var yt=Math.max(K.maxX-K.minX,K.maxY-K.minY,st);return K.r=yt/2+k(K)/2+B(K),!0})})},T.prototype.comboNonOverlapping=function(F,M){var A=this,L=A.comboTree,I=A.comboCollideStrength,k=A.indexMap,B=A.nodeMap;(0,P.traverseTreeUp)(L,function(z){if(!M[z.id]&&!B[z.id]&&z.id!=="comboTreeRoot")return!1;var W=z.children;return W&&W.length>1&&W.forEach(function($,K){if($.itemType==="node")return!1;var lt=M[$.id];!lt||W.forEach(function(st,yt){if(K<=yt||st.itemType==="node")return!1;var q=M[st.id];if(!q)return!1;var nt=lt.cx-q.cx||.005,ct=lt.cy-q.cy||.005,bt=nt*nt+ct*ct,_t=lt.r||1,St=q.r||1,At=_t+St,vt=St*St,dt=_t*_t;if(bt<At*At){var gt=$.children;if(!gt||gt.length===0)return!1;var Ct=st.children;if(!Ct||Ct.length===0)return!1;var Et=Math.sqrt(bt),Tt=(At-Et)/Et*I,ot=nt*Tt,Mt=ct*Tt,Wt=vt/(dt+vt),jt=1-Wt;gt.forEach(function(qt){if(qt.itemType!=="node")return!1;if(!!B[qt.id]){var se=k[qt.id];Ct.forEach(function(ae){if(ae.itemType!=="node"||!B[ae.id])return!1;var he=k[ae.id];F[se].x+=ot*Wt,F[se].y+=Mt*Wt,F[he].x-=ot*jt,F[he].y-=Mt*jt})}})}})}),!0})},T.prototype.calRepulsive=function(F,M){var A=this,L=A.nodes,I=A.width*A.optimizeRangeFactor,k=A.nodeStrength,B=A.alpha,z=A.nodeCollideStrength,W=A.preventNodeOverlap,$=A.nodeSize,K=A.nodeSpacing,lt=A.depthRepulsiveForceScale,st=A.center;L.forEach(function(yt,q){if(!(!yt.x||!yt.y)){if(st){var nt=A.gravity,ct=yt.x-st[0]||.005,bt=yt.y-st[1]||.005,_t=Math.sqrt(ct*ct+bt*bt);F[q].x-=ct*nt*B/_t,F[q].y-=bt*nt*B/_t}L.forEach(function(St,At){if(q!==At&&!(!St.x||!St.y)){var vt=M[yt.id+"-"+St.id],dt=vt.vl2,gt=vt.vl;if(!(gt>I)){var Ct=M[yt.id+"-"+St.id],Et=Ct.vx,Tt=Ct.vy,ot=Math.log(Math.abs(St.depth-yt.depth)/10)+1||1;ot=ot<1?1:ot,St.comboId!==yt.comboId&&(ot+=1);var Mt=ot?Math.pow(lt,ot):1,Wt=k(St)*B/dt*Mt;if(F[q].x+=Et*Wt,F[q].y+=Tt*Wt,q<At&&W){var jt=$(yt)+K(yt)||1,qt=$(St)+K(St)||1,se=jt+qt;if(dt<se*se){var ae=(se-gt)/gt*z,he=qt*qt,ke=he/(jt*jt+he),Le=Et*ae,rr=Tt*ae;F[q].x+=Le*ke,F[q].y+=rr*ke,ke=1-ke,F[At].x-=Le*ke,F[At].y-=rr*ke}}}}})}})},T.prototype.calAttractive=function(F,M){var A=this,L=A.edges,I=A.linkDistance,k=A.alpha,B=A.edgeStrength,z=A.bias,W=A.depthAttractiveForceScale;L.forEach(function($,K){var lt=(0,P.getEdgeTerminal)($,"source"),st=(0,P.getEdgeTerminal)($,"target");if(!(!lt||!st||lt===st)){var yt=A.indexMap[lt],q=A.indexMap[st],nt=A.nodeMap[lt],ct=A.nodeMap[st];if(!(!nt||!ct)){var bt=nt.depth===ct.depth?0:Math.log(Math.abs(nt.depth-ct.depth)/10);nt.comboId===ct.comboId&&(bt=bt/2);var _t=bt?Math.pow(W,bt):1;if(nt.comboId!==ct.comboId&&_t===1?_t=W/2:nt.comboId===ct.comboId&&(_t=2),!(!(0,P.isNumber)(ct.x)||!(0,P.isNumber)(nt.x)||!(0,P.isNumber)(ct.y)||!(0,P.isNumber)(nt.y))){var St=M[st+"-"+lt],At=St.vl,vt=St.vx,dt=St.vy,gt=(At-I($))/At*k*B($)*_t,Ct=vt*gt,Et=dt*gt,Tt=z[K];F[q].x-=Ct*Tt,F[q].y-=Et*Tt,F[yt].x+=Ct*(1-Tt),F[yt].y+=Et*(1-Tt)}}}})},T.prototype.getType=function(){return"comboForce"},T}(b.Base);R.ComboForceLayout=_},43281:function(at,R,d){"use strict";var x=this&&this.__extends||function(){var O=function(T,F){return O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,A){M.__proto__=A}||function(M,A){for(var L in A)Object.prototype.hasOwnProperty.call(A,L)&&(M[L]=A[L])},O(T,F)};return function(T,F){if(typeof F!="function"&&F!==null)throw new TypeError("Class extends value "+String(F)+" is not a constructor or null");O(T,F);function M(){this.constructor=T}T.prototype=F===null?Object.create(F):(M.prototype=F.prototype,new M)}}();Object.defineProperty(R,"__esModule",{value:!0}),R.ConcentricLayout=void 0;var b=d(49784),P=d(62329),_=function(O){x(T,O);function T(F){var M=O.call(this)||this;return M.nodeSize=30,M.minNodeSpacing=10,M.nodeSpacing=10,M.preventOverlap=!1,M.equidistant=!1,M.startAngle=3/2*Math.PI,M.clockwise=!0,M.sortBy="degree",M.nodes=[],M.edges=[],M.width=300,M.height=300,M.onLayoutEnd=function(){},M.updateCfg(F),M}return T.prototype.getDefaultCfg=function(){return{nodeSize:30,minNodeSpacing:10,nodeSpacing:10,preventOverlap:!1,sweep:void 0,equidistant:!1,startAngle:3/2*Math.PI,clockwise:!0,maxLevelDiff:void 0,sortBy:"degree"}},T.prototype.execute=function(){var F,M,A=this,L=A.nodes,I=A.edges,k=L.length;if(k===0){(F=A.onLayoutEnd)===null||F===void 0||F.call(A);return}!A.width&&typeof window!="undefined"&&(A.width=window.innerWidth),!A.height&&typeof window!="undefined"&&(A.height=window.innerHeight),A.center||(A.center=[A.width/2,A.height/2]);var B=A.center;if(k===1){L[0].x=B[0],L[0].y=B[1],(M=A.onLayoutEnd)===null||M===void 0||M.call(A);return}var z=A.nodeSize,W=A.nodeSpacing,$=[],K,lt=0;(0,b.isArray)(z)?K=Math.max(z[0],z[1]):K=z,(0,b.isArray)(W)?lt=Math.max(W[0],W[1]):(0,b.isNumber)(W)&&(lt=W),L.forEach(function(ot){$.push(ot);var Mt=K;(0,b.isArray)(ot.size)?Mt=Math.max(ot.size[0],ot.size[1]):(0,b.isNumber)(ot.size)?Mt=ot.size:(0,b.isObject)(ot.size)&&(Mt=Math.max(ot.size.width,ot.size.height)),K=Math.max(K,Mt),(0,b.isFunction)(W)&&(lt=Math.max(W(ot),lt))}),A.clockwise=A.counterclockwise!==void 0?!A.counterclockwise:A.clockwise;var st={},yt={};if($.forEach(function(ot,Mt){st[ot.id]=ot,yt[ot.id]=Mt}),(A.sortBy==="degree"||!(0,b.isString)(A.sortBy)||$[0][A.sortBy]===void 0)&&(A.sortBy="degree",!(0,b.isNumber)(L[0].degree))){var q=(0,b.getDegree)(L.length,yt,I);$.forEach(function(ot,Mt){ot.degree=q[Mt]})}$.sort(function(ot,Mt){return Mt[A.sortBy]-ot[A.sortBy]}),A.maxValueNode=$[0],A.maxLevelDiff=A.maxLevelDiff||A.maxValueNode[A.sortBy]/4;var nt=[[]],ct=nt[0];$.forEach(function(ot){if(ct.length>0){var Mt=Math.abs(ct[0][A.sortBy]-ot[A.sortBy]);A.maxLevelDiff&&Mt>=A.maxLevelDiff&&(ct=[],nt.push(ct))}ct.push(ot)});var bt=K+(lt||A.minNodeSpacing);if(!A.preventOverlap){var _t=nt.length>0&&nt[0].length>1,St=Math.min(A.width,A.height)/2-bt,At=St/(nt.length+(_t?1:0));bt=Math.min(bt,At)}var vt=0;if(nt.forEach(function(ot){var Mt=A.sweep;Mt===void 0&&(Mt=2*Math.PI-2*Math.PI/ot.length);var Wt=ot.dTheta=Mt/Math.max(1,ot.length-1);if(ot.length>1&&A.preventOverlap){var jt=Math.cos(Wt)-Math.cos(0),qt=Math.sin(Wt)-Math.sin(0),se=Math.sqrt(bt*bt/(jt*jt+qt*qt));vt=Math.max(se,vt)}ot.r=vt,vt+=bt}),A.equidistant){for(var dt=0,gt=0,Ct=0;Ct<nt.length;Ct++){var Et=nt[Ct],Tt=Et.r-gt;dt=Math.max(dt,Tt)}gt=0,nt.forEach(function(ot,Mt){Mt===0&&(gt=ot.r),ot.r=gt,gt+=dt})}return nt.forEach(function(ot){var Mt=ot.dTheta,Wt=ot.r;ot.forEach(function(jt,qt){var se=A.startAngle+(A.clockwise?1:-1)*Mt*qt;jt.x=B[0]+Wt*Math.cos(se),jt.y=B[1]+Wt*Math.sin(se)})}),A.onLayoutEnd&&A.onLayoutEnd(),{nodes:L,edges:I}},T.prototype.getType=function(){return"concentric"},T}(P.Base);R.ConcentricLayout=_},16470:function(at,R){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.FORCE_LAYOUT_TYPE_MAP=R.LAYOUT_MESSAGE=void 0,R.LAYOUT_MESSAGE={RUN:"LAYOUT_RUN",END:"LAYOUT_END",ERROR:"LAYOUT_ERROR",TICK:"LAYOUT_TICK",GPURUN:"GPU_LAYOUT_RUN",GPUEND:"GPU_LAYOUT_END"},R.FORCE_LAYOUT_TYPE_MAP={gForce:!0,fruchterman:!0,forceAtlas2:!0,force:!0,"graphin-force":!0}},20171:function(at,R,d){"use strict";var x=this&&this.__extends||function(){var F=function(M,A){return F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,I){L.__proto__=I}||function(L,I){for(var k in I)Object.prototype.hasOwnProperty.call(I,k)&&(L[k]=I[k])},F(M,A)};return function(M,A){if(typeof A!="function"&&A!==null)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");F(M,A);function L(){this.constructor=M}M.prototype=A===null?Object.create(A):(L.prototype=A.prototype,new L)}}(),b=this&&this.__importDefault||function(F){return F&&F.__esModule?F:{default:F}};Object.defineProperty(R,"__esModule",{value:!0}),R.DagreLayout=void 0;var P=b(d(41106)),_=d(49784),O=d(62329),T=function(F){x(M,F);function M(A){var L=F.call(this)||this;return L.rankdir="TB",L.nodesep=50,L.ranksep=50,L.controlPoints=!1,L.sortByCombo=!1,L.edgeLabelSpace=!0,L.radial=!1,L.nodes=[],L.edges=[],L.onLayoutEnd=function(){},L.layoutNode=function(I){var k=L,B=k.nodes,z=B.find(function($){return $.id===I});if(z){var W=z.layout!==!1;return W}return!0},L.updateCfg(A),L}return M.prototype.getDefaultCfg=function(){return{rankdir:"TB",align:void 0,nodeSize:void 0,nodesepFunc:void 0,ranksepFunc:void 0,nodesep:50,ranksep:50,controlPoints:!1,radial:!1,focusNode:null}},M.prototype.execute=function(){var A=this,L=this,I=L.nodes,k=L.nodeSize,B=L.rankdir,z=L.combos,W=L.begin,$=L.radial;if(!!I){var K=L.edges||[],lt=new P.default.graphlib.Graph({multigraph:!0,compound:!0}),st;k?(0,_.isArray)(k)?st=function(){return k}:st=function(){return[k,k]}:st=function(Ce){return Ce.size?(0,_.isArray)(Ce.size)?Ce.size:(0,_.isObject)(Ce.size)?[Ce.size.width||40,Ce.size.height||40]:[Ce.size,Ce.size]:[40,40]};var yt=(0,_.getFunc)(L.ranksep,50,L.ranksepFunc),q=(0,_.getFunc)(L.nodesep,50,L.nodesepFunc),nt=q,ct=yt;(B==="LR"||B==="RL")&&(nt=yt,ct=q),lt.setDefaultEdgeLabel(function(){return{}}),lt.setGraph(L);var bt={};I.filter(function(Ce){return Ce.layout!==!1}).forEach(function(Ce){var ye=st(Ce),Gt=ct(Ce),Xt=nt(Ce),Kt=ye[0]+2*Xt,ze=ye[1]+2*Gt,ur=Ce.layer;(0,_.isNumber)(ur)?lt.setNode(Ce.id,{width:Kt,height:ze,layer:ur}):lt.setNode(Ce.id,{width:Kt,height:ze}),A.sortByCombo&&Ce.comboId&&(bt[Ce.comboId]||(bt[Ce.comboId]=!0,lt.setNode(Ce.comboId,{})),lt.setParent(Ce.id,Ce.comboId))}),this.sortByCombo&&z&&z.forEach(function(Ce){!Ce.parentId||(bt[Ce.parentId]||(bt[Ce.parentId]=!0,lt.setNode(Ce.parentId,{})),lt.setParent(Ce.id,Ce.parentId))}),K.forEach(function(Ce){var ye=(0,_.getEdgeTerminal)(Ce,"source"),Gt=(0,_.getEdgeTerminal)(Ce,"target");A.layoutNode(ye)&&A.layoutNode(Gt)&&lt.setEdge(ye,Gt,{weight:Ce.weight||1})});var _t=void 0;L.preset&&(_t=new P.default.graphlib.Graph({multigraph:!0,compound:!0}),L.preset.nodes.forEach(function(Ce){_t==null||_t.setNode(Ce.id,Ce)})),P.default.layout(lt,{prevGraph:_t,edgeLabelSpace:L.edgeLabelSpace,keepNodeOrder:Boolean(!!L.nodeOrder),nodeOrder:L.nodeOrder});var St=[0,0];if(W){var At=1/0,vt=1/0;lt.nodes().forEach(function(Ce){var ye=lt.node(Ce);At>ye.x&&(At=ye.x),vt>ye.y&&(vt=ye.y)}),lt.edges().forEach(function(Ce){var ye=lt.edge(Ce);ye.points.forEach(function(Gt){At>Gt.x&&(At=Gt.x),vt>Gt.y&&(vt=Gt.y)})}),St[0]=W[0]-At,St[1]=W[1]-vt}if($){var dt=this,gt=dt.focusNode,Ct=dt.ranksep,Et=dt.getRadialPos,Tt=(0,_.isString)(gt)?gt:gt==null?void 0:gt.id,ot=Tt?lt.node(Tt)._rank:0,Mt=[],Wt=B==="LR"||B==="RL",jt=Wt?"y":"x",qt=Wt?"height":"width",se=1/0,ae=-1/0;lt.nodes().forEach(function(Ce){var ye=lt.node(Ce),Gt=I.findIndex(function(re){return re.id===Ce});if(!!I[Gt]){var Xt=q(I[Gt]);if(ot===0)Mt[ye._rank]||(Mt[ye._rank]={nodes:[],totalWidth:0,maxSize:-1/0}),Mt[ye._rank].nodes.push(Ce),Mt[ye._rank].totalWidth+=Xt*2+ye[qt],Mt[ye._rank].maxSize<Math.max(ye.width,ye.height)&&(Mt[ye._rank].maxSize=Math.max(ye.width,ye.height));else{var Kt=ye._rank-ot;if(Kt===0)Mt[Kt]||(Mt[Kt]={nodes:[],totalWidth:0,maxSize:-1/0}),Mt[Kt].nodes.push(Ce),Mt[Kt].totalWidth+=Xt*2+ye[qt],Mt[Kt].maxSize<Math.max(ye.width,ye.height)&&(Mt[Kt].maxSize=Math.max(ye.width,ye.height));else{var ze=Math.abs(Kt);Mt[ze]||(Mt[ze]={left:[],right:[],totalWidth:0,maxSize:-1/0}),Mt[ze].totalWidth+=Xt*2+ye[qt],Mt[ze].maxSize<Math.max(ye.width,ye.height)&&(Mt[ze].maxSize=Math.max(ye.width,ye.height)),Kt<0?Mt[ze].left.push(Ce):Mt[ze].right.push(Ce)}}var ur=ye[jt]-ye[qt]/2-Xt,tr=ye[jt]+ye[qt]/2+Xt;ur<se&&(se=ur),tr>ae&&(ae=tr)}});var he=Ct||50,ke={},Le=(ae-se)/.9,rr=[(se+ae-Le)*.5,(se+ae+Le)*.5],Ee=function(Ce,ye,Gt,Xt){Gt===void 0&&(Gt=-1/0),Xt===void 0&&(Xt=[0,1]);var Kt=Gt;return Ce.forEach(function(ze){var ur=lt.node(ze);ke[ze]=ye;var tr=Et(ur[jt],rr,Le,ye,Xt),re=tr.x,Qr=tr.y,Ir=I.findIndex(function(Wn){return Wn.id===ze});if(!!I[Ir]){I[Ir].x=re+St[0],I[Ir].y=Qr+St[1],I[Ir]._order=ur._order;var gn=yt(I[Ir]);Kt<gn&&(Kt=gn)}}),Kt},ge=!0,we=0;Mt.forEach(function(Ce){var ye,Gt,Xt,Kt,ze,ur,tr;if(!(!(!((ye=Ce==null?void 0:Ce.nodes)===null||ye===void 0)&&ye.length)&&!(!((Gt=Ce==null?void 0:Ce.left)===null||Gt===void 0)&&Gt.length)&&!(!((Xt=Ce==null?void 0:Ce.right)===null||Xt===void 0)&&Xt.length))){if(ge&&Ce.nodes.length===1){var re=I.findIndex(function(gn){return gn.id===Ce.nodes[0]});I[re].x=St[0],I[re].y=St[1],ke[Ce.nodes[0]]=0,he=yt(I[re]),ge=!1;return}he=Math.max(he,Ce.totalWidth/(2*Math.PI));var Qr=-1/0;if(ot===0||((Kt=Ce.nodes)===null||Kt===void 0?void 0:Kt.length))Qr=Ee(Ce.nodes,he,Qr,[0,1]);else{var Ir=((ze=Ce.left)===null||ze===void 0?void 0:ze.length)/(((ur=Ce.left)===null||ur===void 0?void 0:ur.length)+((tr=Ce.right)===null||tr===void 0?void 0:tr.length));Qr=Ee(Ce.left,he,Qr,[0,Ir]),Qr=Ee(Ce.right,he,Qr,[Ir+.05,1])}he+=Qr,ge=!1,we-Ce.maxSize}}),lt.edges().forEach(function(Ce){var ye,Gt,Xt=lt.edge(Ce),Kt=K.findIndex(function(Wn){var ui=(0,_.getEdgeTerminal)(Wn,"source"),bi=(0,_.getEdgeTerminal)(Wn,"target");return ui===Ce.v&&bi===Ce.w});if(L.edgeLabelSpace&&L.controlPoints&&K[Kt].type!=="loop"){var ze=jt==="x"?"y":"x",ur=Xt.points.slice(1,Xt.points.length-1),tr=[],re=(ye=lt.node(Ce.v))===null||ye===void 0?void 0:ye[ze],Qr=re-((Gt=lt.node(Ce.w))===null||Gt===void 0?void 0:Gt[ze]),Ir=ke[Ce.v],gn=Ir-ke[Ce.w];ur.forEach(function(Wn){var ui=(Wn[ze]-re)/Qr*gn+Ir,bi=Et(Wn[jt],rr,Le,ui);tr.push({x:bi.x+St[0],y:bi.y+St[1]})}),K[Kt].controlPoints=tr}})}else lt.nodes().forEach(function(Ce){var ye=lt.node(Ce),Gt=I.findIndex(function(Xt){return Xt.id===Ce});!I[Gt]||(I[Gt].x=ye.x+St[0],I[Gt].y=ye.y+St[1],I[Gt]._order=ye._order)}),lt.edges().forEach(function(Ce){var ye=lt.edge(Ce),Gt=K.findIndex(function(Xt){var Kt=(0,_.getEdgeTerminal)(Xt,"source"),ze=(0,_.getEdgeTerminal)(Xt,"target");return Kt===Ce.v&&ze===Ce.w});L.edgeLabelSpace&&L.controlPoints&&K[Gt].type!=="loop"&&(K[Gt].controlPoints=ye.points.slice(1,ye.points.length-1),K[Gt].controlPoints.forEach(function(Xt){Xt.x+=St[0],Xt.y+=St[1]}))});return L.onLayoutEnd&&L.onLayoutEnd(),{nodes:I,edges:K}}},M.prototype.getRadialPos=function(A,L,I,k,B){B===void 0&&(B=[0,1]);var z=(A-L[0])/I;z=z*(B[1]-B[0])+B[0];var W=z*2*Math.PI;return{x:Math.cos(W)*k,y:Math.sin(W)*k}},M.prototype.getType=function(){return"dagre"},M}(O.Base);R.DagreLayout=T},77057:function(at,R,d){"use strict";var x=this&&this.__extends||function(){var M=function(A,L){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,k){I.__proto__=k}||function(I,k){for(var B in k)Object.prototype.hasOwnProperty.call(k,B)&&(I[B]=k[B])},M(A,L)};return function(A,L){if(typeof L!="function"&&L!==null)throw new TypeError("Class extends value "+String(L)+" is not a constructor or null");M(A,L);function I(){this.constructor=A}A.prototype=L===null?Object.create(L):(I.prototype=L.prototype,new I)}}(),b=this&&this.__assign||function(){return b=Object.assign||function(M){for(var A,L=1,I=arguments.length;L<I;L++){A=arguments[L];for(var k in A)Object.prototype.hasOwnProperty.call(A,k)&&(M[k]=A[k])}return M},b.apply(this,arguments)},P=this&&this.__spreadArray||function(M,A,L){if(L||arguments.length===2)for(var I=0,k=A.length,B;I<k;I++)(B||!(I in A))&&(B||(B=Array.prototype.slice.call(A,0,I)),B[I]=A[I]);return M.concat(B||Array.prototype.slice.call(A))};Object.defineProperty(R,"__esModule",{value:!0}),R.DagreCompoundLayout=void 0;var _=d(62329),O=d(31969),T=d(49784),F=function(M){x(A,M);function A(L){var I=M.call(this)||this;return I.rankdir="TB",I.nodesep=50,I.edgesep=5,I.ranksep=50,I.controlPoints=!0,I.anchorPoint=!0,I.nodes=[],I.edges=[],I.combos=[],I.onLayoutEnd=function(){},I.updateCfg(L),I}return A.prototype.getDefaultCfg=function(){return{rankdir:"TB",align:void 0,begin:void 0,nodeSize:void 0,nodesep:50,ranksep:50,controlPoints:!0,anchorPoint:!0}},A.prototype.init=function(L){var I=L.hiddenNodes||[],k=L.hiddenEdges||[],B=L.hiddenCombos||[];this.nodes=this.getDataByOrder((L.nodes||[]).concat(I)),this.edges=this.getDataByOrder((L.edges||[]).concat(k)),this.combos=(L.combos||[]).concat(B.map(function(z){return b(b({},z),{collapsed:!0})}))},A.prototype.execute=function(){var L=this,I=L.nodes,k=L.edges;if(!!I){var B=L.getLayoutConfig(),z=B.graphDef,W=B.graphOption,$=B.graphSettings,K=(0,O.buildGraph)(z,W,$),lt=(0,O.flatGraph)(K,!0);return this.updatePosition(lt),L.onLayoutEnd&&L.onLayoutEnd(),{nodes:I,edges:k}}},A.prototype.getNodePath=function(L){var I=this,k=I.nodes,B=I.combos,z=k.find(function($){return $.id===L}),W=function($,K){K===void 0&&(K=[]);var lt=B.find(function(st){return st.id===$});return lt?(K.unshift($),lt.parentId?W(lt.parentId,K):K):K};return z&&z.comboId?W(z.comboId,[L]):[L]},A.prototype.getLayoutConfig=function(){var L,I,k,B=this,z=B.nodes,W=B.edges,$=B.combos,K=B.nodeSize,lt=B.rankdir,st=B.align,yt=B.edgesep,q=B.nodesep,nt=B.ranksep,ct=B.settings,bt=($||[]).reduce(function(ae,he){var ke=z.filter(function(rr){return rr.comboId===he.id}).map(function(rr){return rr.id}),Le=($||[]).filter(function(rr){return rr.parentId===he.id}).map(function(rr){return rr.id});return(ke.length||Le.length)&&(ae[he.id]=P(P([],ke,!0),Le,!0)),ae},{}),_t;K?(0,T.isArray)(K)?_t=function(){return K}:_t=function(){return[K,K]}:_t=function(ae){return ae&&ae.size?(0,T.isArray)(ae.size)?ae.size:(0,T.isObject)(ae.size)?[ae.size.width||40,ae.size.height||40]:[ae.size,ae.size]:[40,40]};var St=function(ae){return ae&&ae.size?(0,T.isArray)(ae.size)?ae.size:[ae.size,ae.size]:[80,40]},At=St($==null?void 0:$[0]),vt=At[0],dt=At[1],gt=(I=(L=B.graphSettings)===null||L===void 0?void 0:L.subScene)===null||I===void 0?void 0:I.meta,Ct=((k=$.find(function(ae){return!ae.collapsed}))===null||k===void 0?void 0:k.padding)||[20,20,20,20],Et=Ct[0],Tt=Ct[1],ot=Ct[2],Mt=Ct[3],Wt={compound:bt,nodes:P([],(z||[]).map(function(ae){var he=_t(ae),ke=he[0],Le=he[1];return b(b({},ae),{width:ke,height:Le})}),!0),edges:P([],(W||[]).map(function(ae){return b(b({},ae),{v:ae.source,w:ae.target})}),!0)},jt={expanded:($||[]).filter(function(ae){return!ae.collapsed}).map(function(ae){return ae.id})},qt={graph:{meta:{align:st,rankDir:lt,nodeSep:q,edgeSep:yt,rankSep:nt}},subScene:{meta:{paddingTop:Et||(gt==null?void 0:gt.paddingTop)||20,paddingRight:Tt||(gt==null?void 0:gt.paddingRight)||20,paddingBottom:ot||(gt==null?void 0:gt.paddingBottom)||20,paddingLeft:Mt||(gt==null?void 0:gt.paddingLeft)||20,labelHeight:0}},nodeSize:{meta:{width:vt,height:dt}}},se=(0,O.mergeConfig)(ct,b({},(0,O.mergeConfig)(qt,O.LAYOUT_CONFIG)));return B.graphSettings=se,{graphDef:Wt,graphOption:jt,graphSettings:se}},A.prototype.updatePosition=function(L){var I=L.nodes,k=L.edges;this.updateNodePosition(I,k),this.updateEdgePosition(I,k)},A.prototype.getBegin=function(L,I){var k=this,B=k.begin,z=[0,0];if(B){var W=1/0,$=1/0;L.forEach(function(K){W>K.x&&(W=K.x),$>K.y&&($=K.y)}),I.forEach(function(K){K.points.forEach(function(lt){W>lt.x&&(W=lt.x),$>lt.y&&($=lt.y)})}),z[0]=B[0]-W,z[1]=B[1]-$}return z},A.prototype.updateNodePosition=function(L,I){var k=this,B=k.combos,z=k.nodes,W=k.edges,$=k.anchorPoint,K=k.graphSettings,lt=this.getBegin(L,I);L.forEach(function(st){var yt,q=st.x,nt=st.y,ct=st.id,bt=st.type,_t=st.coreBox;if(bt===O.HierarchyNodeType.META&&ct!==O.ROOT_NAME){var St=B.findIndex(function(Ct){return Ct.id===ct}),At=(yt=K==null?void 0:K.subScene)===null||yt===void 0?void 0:yt.meta;B[St].offsetX=q+lt[0],B[St].offsetY=nt+lt[1],B[St].fixSize=[_t.width,_t.height],B[St].fixCollapseSize=[_t.width,_t.height],st.expanded?B[St].padding=[At==null?void 0:At.paddingTop,At==null?void 0:At.paddingRight,At==null?void 0:At.paddingBottom,At==null?void 0:At.paddingLeft]:B[St].padding=[0,0,0,0]}else if(bt===O.HierarchyNodeType.OP){var St=z.findIndex(function(Et){return Et.id===ct});if(z[St].x=q+lt[0],z[St].y=nt+lt[1],$){var vt=[],dt=I.filter(function(Et){return Et.v===ct}),gt=I.filter(function(Et){return Et.w===ct});dt.length>0&&dt.forEach(function(Et){var Tt=Et.points[0],ot=(Tt.x-q)/st.width+.5,Mt=(Tt.y-nt)/st.height+.5;vt.push([ot,Mt]),Et.baseEdgeList.forEach(function(Wt){var jt=W.find(function(qt){return qt.source===Wt.v&&qt.target===Wt.w});jt&&(jt.sourceAnchor=vt.length-1)})}),gt.length>0&&gt.forEach(function(Et){var Tt=Et.points[Et.points.length-1],ot=(Tt.x-q)/st.width+.5,Mt=(Tt.y-nt)/st.height+.5;vt.push([ot,Mt]),Et.baseEdgeList.forEach(function(Wt){var jt=W.find(function(qt){return qt.source===Wt.v&&qt.target===Wt.w});jt&&(jt.targetAnchor=vt.length-1)})}),z[St].anchorPoints=vt.length>0?vt:z[St].anchorPoints||[]}}})},A.prototype.updateEdgePosition=function(L,I){var k=this,B=k.combos,z=k.edges,W=k.controlPoints,$=this.getBegin(L,I);W&&(B.forEach(function(K){K.inEdges=[],K.outEdges=[]}),z.forEach(function(K){var lt,st,yt,q,nt=L.find(function(Ct){return Ct.id===K.source}),ct=L.find(function(Ct){return Ct.id===K.target}),bt=[],_t=[];if(nt&&ct)_t=(0,O.getEdges)(nt==null?void 0:nt.id,ct==null?void 0:ct.id,L);else if(!nt||!ct){var St=k.getNodePath(K.source),At=k.getNodePath(K.target),vt=St.reverse().slice(nt?0:1).find(function(Ct){return L.find(function(Et){return Et.id===Ct})}),dt=At.reverse().slice(ct?0:1).find(function(Ct){return L.find(function(Et){return Et.id===Ct})});nt=L.find(function(Ct){return Ct.id===vt}),ct=L.find(function(Ct){return Ct.id===dt}),_t=(0,O.getEdges)(nt==null?void 0:nt.id,ct==null?void 0:ct.id,L,{v:K.source,w:K.target})}if(bt=_t.reduce(function(Ct,Et){return P(P([],Ct,!0),Et.points.map(function(Tt){return b(b({},Tt),{x:Tt.x+$[0],y:Tt.y+$[1]})}),!0)},[]),bt=bt.slice(1,-1),K.controlPoints=bt,(ct==null?void 0:ct.type)===O.NodeType.META){var gt=B.findIndex(function(Ct){return Ct.id===(ct==null?void 0:ct.id)});if(!B[gt]||((lt=B[gt].inEdges)===null||lt===void 0?void 0:lt.some(function(Ct){return Ct.source===nt.id&&Ct.target===ct.id})))return;(st=B[gt].inEdges)===null||st===void 0||st.push({source:nt.id,target:ct.id,controlPoints:bt})}if((nt==null?void 0:nt.type)===O.NodeType.META){var gt=B.findIndex(function(Et){return Et.id===(nt==null?void 0:nt.id)});if(!B[gt]||((yt=B[gt].outEdges)===null||yt===void 0?void 0:yt.some(function(Et){return Et.source===nt.id&&Et.target===ct.id})))return;(q=B[gt].outEdges)===null||q===void 0||q.push({source:nt.id,target:ct.id,controlPoints:bt})}}))},A.prototype.getType=function(){return"dagreCompound"},A.prototype.getDataByOrder=function(L){return L.every(function(I){return I.layoutOrder!==void 0})||L.forEach(function(I,k){I.layoutOrder=k}),L.sort(function(I,k){return I.layoutOrder-k.layoutOrder})},A}(_.Base);R.DagreCompoundLayout=F},41106:function(at,R,d){"use strict";var x=this&&this.__importDefault||function(O){return O&&O.__esModule?O:{default:O}};Object.defineProperty(R,"__esModule",{value:!0});var b=x(d(44032)),P=x(d(65236)),_=d(69209);R.default={graphlib:b.default,layout:P.default,util:{time:_.time,notime:_.notime}}},78029:function(at,R,d){"use strict";var x=this&&this.__importDefault||function(T){return T&&T.__esModule?T:{default:T}};Object.defineProperty(R,"__esModule",{value:!0});var b=x(d(40773)),P=function(T){var F=function(A){return function(L){return A.edge(L).weight}},M=T.graph().acyclicer==="greedy"?(0,b.default)(T,F(T)):_(T);M==null||M.forEach(function(A){var L=T.edge(A);T.removeEdge(A),L.forwardName=A.name,L.reversed=!0,T.setEdge(A.w,A.v,L,"rev-"+Math.random())})},_=function(T){var F=[],M={},A={},L=function(I){var k;A.hasOwnProperty(I)||(A[I]=!0,M[I]=!0,(k=T.outEdges(I))===null||k===void 0||k.forEach(function(B){M.hasOwnProperty(B.w)?F.push(B):L(B.w)}),delete M[I])};return T.nodes().forEach(L),F},O=function(T){T.edges().forEach(function(F){var M=T.edge(F);if(M.reversed){T.removeEdge(F);var A=M.forwardName;delete M.reversed,delete M.forwardName,T.setEdge(F.w,F.v,M,A)}})};R.default={run:P,undo:O}},11500:function(at,R,d){"use strict";var x=this&&this.__importDefault||function(O){return O&&O.__esModule?O:{default:O}};Object.defineProperty(R,"__esModule",{value:!0});var b=x(d(69209)),P=function(O){var T,F=function(M){var A=O.children(M),L=O.node(M);if(A!=null&&A.length&&A.forEach(function(B){return F(B)}),L.hasOwnProperty("minRank")){L.borderLeft=[],L.borderRight=[];for(var I=L.minRank,k=L.maxRank+1;I<k;++I)_(O,"borderLeft","_bl",M,L,I),_(O,"borderRight","_br",M,L,I)}};(T=O.children())===null||T===void 0||T.forEach(function(M){return F(M)})},_=function(O,T,F,M,A,L){var I={rank:L,width:0,height:0,borderType:T},k=A[T][L-1],B=b.default.addDummyNode(O,"border",I,F);A[T][L]=B,O.setParent(B,M),k&&O.setEdge(k,B,{weight:1})};R.default=P},35279:function(at,R){"use strict";Object.defineProperty(R,"__esModule",{value:!0});var d=function(M){var A,L=(A=M.graph().rankdir)===null||A===void 0?void 0:A.toLowerCase();(L==="lr"||L==="rl")&&b(M)},x=function(M){var A,L=(A=M.graph().rankdir)===null||A===void 0?void 0:A.toLowerCase();(L==="bt"||L==="rl")&&_(M),(L==="lr"||L==="rl")&&(T(M),b(M))},b=function(M){M.nodes().forEach(function(A){P(M.node(A))}),M.edges().forEach(function(A){P(M.edge(A))})},P=function(M){var A=M.width;M.width=M.height,M.height=A},_=function(M){M.nodes().forEach(function(A){O(M.node(A))}),M.edges().forEach(function(A){var L,I=M.edge(A);(L=I.points)===null||L===void 0||L.forEach(function(k){return O(k)}),I.hasOwnProperty("y")&&O(I)})},O=function(M){M.y=-M.y},T=function(M){M.nodes().forEach(function(A){F(M.node(A))}),M.edges().forEach(function(A){var L,I=M.edge(A);(L=I.points)===null||L===void 0||L.forEach(function(k){return F(k)}),I.hasOwnProperty("x")&&F(I)})},F=function(M){var A=M.x;M.x=M.y,M.y=A};R.default={adjust:d,undo:x}},55532:function(at,R){"use strict";Object.defineProperty(R,"__esModule",{value:!0});var d=function(P){P._prev._next=P._next,P._next._prev=P._prev,delete P._next,delete P._prev},x=function(P,_){if(P!=="_next"&&P!=="_prev")return _},b=function(){function P(){var _={};_._next=_._prev=_,this.isentinel=_}return P.prototype.dequeue=function(){var _=this.isentinel,O=_._prev;if(O!==_)return d(O),O},P.prototype.enqueue=function(){var _=this.isentinel,O=_._prev;if(O!==_)return d(O),O},P.prototype.toString=function(){for(var _=[],O=this.isentinel,T=O._prev;T!==O;)_.push(JSON.stringify(T,x)),T=T._prev;return"["+_.join(", ")+"]"},P}();R.default=b},44032:function(at,R,d){"use strict";var x=this&&this.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(R,"__esModule",{value:!0});var b=x(d(85788)),P=b.default;!P&&typeof window!="undefined"&&(P=window.graphlib),Array.prototype.flat||(Array.prototype.flat=function(_){var O=_||1;if(!!isFinite(O)){var T=this.length,F=[];if(this.length===0)return this;for(;O--;){var M=[],A=!1;if(F.length===0){A=!0;for(var L=0;L<T;L++)this[L]instanceof Array?F.push.apply(F,this[L]):F.push(this[L])}else{for(var L=0;L<F.length;L++)F[L]instanceof Array?(A=!0,M.push.apply(M,F[L])):M.push(F[L]);F=M}if(!A&&O===1/0)break}return F}}),R.default=P},40773:function(at,R,d){"use strict";var x=this&&this.__importDefault||function(I){return I&&I.__esModule?I:{default:I}};Object.defineProperty(R,"__esModule",{value:!0});var b=x(d(44032)),P=x(d(55532)),_=b.default.Graph,O=function(){return 1},T=function(I,k){var B;if(I.nodeCount()<=1)return[];var z=A(I,k||O),W=F(z.graph,z.buckets,z.zeroIdx);return(B=W.map(function($){return I.outEdges($.v,$.w)}))===null||B===void 0?void 0:B.flat()},F=function(I,k,B){for(var z=[],W=k[k.length-1],$=k[0],K;I.nodeCount();){for(;K=$.dequeue();)M(I,k,B,K);for(;K=W.dequeue();)M(I,k,B,K);if(I.nodeCount()){for(var lt=k.length-2;lt>0;--lt)if(K=k[lt].dequeue(),K){z=z.concat(M(I,k,B,K,!0));break}}}return z},M=function(I,k,B,z,W){var $,K,lt=W?[]:void 0;return($=I.inEdges(z.v))===null||$===void 0||$.forEach(function(st){var yt=I.edge(st),q=I.node(st.v);W&&lt.push({v:st.v,w:st.w}),q.out===void 0&&(q.out=0),q.out-=yt,L(k,B,q)}),(K=I.outEdges(z.v))===null||K===void 0||K.forEach(function(st){var yt=I.edge(st),q=st.w,nt=I.node(q);nt.in===void 0&&(nt.in=0),nt.in-=yt,L(k,B,nt)}),I.removeNode(z.v),lt},A=function(I,k){var B=new _,z=0,W=0;I.nodes().forEach(function(yt){B.setNode(yt,{v:yt,in:0,out:0})}),I.edges().forEach(function(yt){var q=B.edge(yt.v,yt.w)||0,nt=k==null?void 0:k(yt),ct=q+nt;B.setEdge(yt.v,yt.w,ct),W=Math.max(W,B.node(yt.v).out+=nt),z=Math.max(z,B.node(yt.w).in+=nt)});for(var $=[],K=W+z+3,lt=0;lt<K;lt++)$.push(new P.default);var st=z+1;return B.nodes().forEach(function(yt){L($,st,B.node(yt))}),{buckets:$,zeroIdx:st,graph:B}},L=function(I,k,B){B.out?B.in?I[B.out-B.in+k].enqueue(B):I[I.length-1].enqueue(B):I[0].enqueue(B)};R.default=T},65236:function(at,R,d){"use strict";var x=this&&this.__createBinding||(Object.create?function(Ee,ge,we,Ce){Ce===void 0&&(Ce=we),Object.defineProperty(Ee,Ce,{enumerable:!0,get:function(){return ge[we]}})}:function(Ee,ge,we,Ce){Ce===void 0&&(Ce=we),Ee[Ce]=ge[we]}),b=this&&this.__setModuleDefault||(Object.create?function(Ee,ge){Object.defineProperty(Ee,"default",{enumerable:!0,value:ge})}:function(Ee,ge){Ee.default=ge}),P=this&&this.__importStar||function(Ee){if(Ee&&Ee.__esModule)return Ee;var ge={};if(Ee!=null)for(var we in Ee)we!=="default"&&Object.prototype.hasOwnProperty.call(Ee,we)&&x(ge,Ee,we);return b(ge,Ee),ge},_=this&&this.__importDefault||function(Ee){return Ee&&Ee.__esModule?Ee:{default:Ee}};Object.defineProperty(R,"__esModule",{value:!0});var O=_(d(78029)),T=_(d(46171)),F=_(d(76827)),M=P(d(69209)),A=_(d(33562)),L=_(d(59596)),I=_(d(11500)),k=_(d(35279)),B=_(d(19597)),z=_(d(95)),W=_(d(44032)),$=_(d(24956)),K=W.default.Graph,lt=function(Ee,ge){var we=ge&&ge.debugTiming?M.default.time:M.default.notime;we("layout",function(){ge&&!ge.keepNodeOrder&&ge.prevGraph&&we("  inheritOrder",function(){yt(Ee,ge.prevGraph)});var Ce=we("  buildLayoutGraph",function(){return gt(Ee)});ge&&ge.edgeLabelSpace===!1||we("  makeSpaceForEdgeLabels",function(){Ct(Ce)});try{we("  runLayout",function(){st(Ce,we,ge)})}catch(ye){if(ye.message==="Not possible to find intersection inside of the rectangle"){console.error(`The following error may be caused by improper layer setting, please make sure your manual layer setting does not violate the graph's structure:
`,ye);return}throw ye}we("  updateInputGraph",function(){q(Ee,Ce)})})},st=function(Ee,ge,we){ge("    removeSelfEdges",function(){ae(Ee)}),ge("    acyclic",function(){O.default.run(Ee)}),ge("    nestingGraph.run",function(){L.default.run(Ee)}),ge("    rank",function(){(0,F.default)(M.default.asNonCompoundGraph(Ee))}),ge("    injectEdgeLabelProxies",function(){Et(Ee)}),ge("    removeEmptyRanks",function(){(0,M.removeEmptyRanks)(Ee)}),ge("    nestingGraph.cleanup",function(){L.default.cleanup(Ee)}),ge("    normalizeRanks",function(){(0,M.normalizeRanks)(Ee)}),ge("    assignRankMinMax",function(){Tt(Ee)}),ge("    removeEdgeLabelProxies",function(){ot(Ee)}),ge("    normalize.run",function(){T.default.run(Ee)}),ge("    parentDummyChains",function(){(0,A.default)(Ee)}),ge("    addBorderSegments",function(){(0,I.default)(Ee)}),we&&we.keepNodeOrder&&ge("    initDataOrder",function(){(0,$.default)(Ee,we.nodeOrder)}),ge("    order",function(){(0,B.default)(Ee)}),ge("    insertSelfEdges",function(){he(Ee)}),ge("    adjustCoordinateSystem",function(){k.default.adjust(Ee)}),ge("    position",function(){(0,z.default)(Ee)}),ge("    positionSelfEdges",function(){ke(Ee)}),ge("    removeBorderNodes",function(){se(Ee)}),ge("    normalize.undo",function(){T.default.undo(Ee)}),ge("    fixupEdgeLabelCoords",function(){jt(Ee)}),ge("    undoCoordinateSystem",function(){k.default.undo(Ee)}),ge("    translateGraph",function(){Mt(Ee)}),ge("    assignNodeIntersects",function(){Wt(Ee)}),ge("    reversePoints",function(){qt(Ee)}),ge("    acyclic.undo",function(){O.default.undo(Ee)})},yt=function(Ee,ge){var we=ge._nodes||{};Ee.nodes().forEach(function(Ce){var ye=Ee.node(Ce);we[Ce]!==void 0?(ye.fixorder=we[Ce]._order,delete we[Ce]._order):delete ye.fixorder})},q=function(Ee,ge){Ee.nodes().forEach(function(we){var Ce,ye=Ee.node(we),Gt=ge.node(we);ye&&(ye.x=Gt.x,ye.y=Gt.y,ye._order=Gt.order,ye._rank=Gt.rank,!((Ce=ge.children(we))===null||Ce===void 0)&&Ce.length&&(ye.width=Gt.width,ye.height=Gt.height))}),Ee.edges().forEach(function(we){var Ce=Ee.edge(we),ye=ge.edge(we);Ce.points=ye.points,ye.hasOwnProperty("x")&&(Ce.x=ye.x,Ce.y=ye.y)}),Ee.graph().width=ge.graph().width,Ee.graph().height=ge.graph().height},nt=["nodesep","edgesep","ranksep","marginx","marginy"],ct={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},bt=["acyclicer","ranker","rankdir","align"],_t=["width","height","layer","fixorder"],St={width:0,height:0},At=["minlen","weight","width","height","labeloffset"],vt={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},dt=["labelpos"],gt=function(Ee){var ge=new K({multigraph:!0,compound:!0}),we=rr(Ee.graph()),Ce={};return bt==null||bt.forEach(function(ye){we[ye]!==void 0&&(Ce[ye]=we[ye])}),ge.setGraph(Object.assign({},ct,Le(we,nt),Ce)),Ee.nodes().forEach(function(ye){var Gt=rr(Ee.node(ye)),Xt=Le(Gt,_t);Object.keys(St).forEach(function(Kt){Xt[Kt]===void 0&&(Xt[Kt]=St[Kt])}),ge.setNode(ye,Xt),ge.setParent(ye,Ee.parent(ye))}),Ee.edges().forEach(function(ye){var Gt=rr(Ee.edge(ye)),Xt={};dt==null||dt.forEach(function(Kt){Gt[Kt]!==void 0&&(Xt[Kt]=Gt[Kt])}),ge.setEdge(ye,Object.assign({},vt,Le(Gt,At),Xt))}),ge},Ct=function(Ee){var ge=Ee.graph();ge.ranksep||(ge.ranksep=0),ge.ranksep/=2,Ee.nodes().forEach(function(we){var Ce=Ee.node(we);isNaN(Ce.layer)||(Ce.layer?Ce.layer*=2:Ce.layer=0)}),Ee.edges().forEach(function(we){var Ce,ye=Ee.edge(we);ye.minlen*=2,((Ce=ye.labelpos)===null||Ce===void 0?void 0:Ce.toLowerCase())!=="c"&&(ge.rankdir==="TB"||ge.rankdir==="BT"?ye.width+=ye.labeloffset:ye.height+=ye.labeloffset)})},Et=function(Ee){Ee.edges().forEach(function(ge){var we=Ee.edge(ge);if(we.width&&we.height){var Ce=Ee.node(ge.v),ye=Ee.node(ge.w),Gt={e:ge,rank:(ye.rank-Ce.rank)/2+Ce.rank};M.default.addDummyNode(Ee,"edge-proxy",Gt,"_ep")}})},Tt=function(Ee){var ge=0;Ee.nodes().forEach(function(we){var Ce=Ee.node(we);Ce.borderTop&&(Ce.minRank=Ee.node(Ce.borderTop).rank,Ce.maxRank=Ee.node(Ce.borderBottom).rank,ge=Math.max(ge,Ce.maxRank||-1/0))}),Ee.graph().maxRank=ge},ot=function(Ee){Ee.nodes().forEach(function(ge){var we=Ee.node(ge);we.dummy==="edge-proxy"&&(Ee.edge(we.e).labelRank=we.rank,Ee.removeNode(ge))})},Mt=function(Ee){var ge=Number.POSITIVE_INFINITY,we=0,Ce=Number.POSITIVE_INFINITY,ye=0,Gt=Ee.graph(),Xt=Gt.marginx||0,Kt=Gt.marginy||0,ze=function(ur){if(!!ur){var tr=ur.x,re=ur.y,Qr=ur.width,Ir=ur.height;!isNaN(tr)&&!isNaN(Qr)&&(ge=Math.min(ge,tr-Qr/2),we=Math.max(we,tr+Qr/2)),!isNaN(re)&&!isNaN(Ir)&&(Ce=Math.min(Ce,re-Ir/2),ye=Math.max(ye,re+Ir/2))}};Ee.nodes().forEach(function(ur){ze(Ee.node(ur))}),Ee.edges().forEach(function(ur){var tr=Ee.edge(ur);tr.hasOwnProperty("x")&&ze(tr)}),ge-=Xt,Ce-=Kt,Ee.nodes().forEach(function(ur){var tr=Ee.node(ur);tr.x-=ge,tr.y-=Ce}),Ee.edges().forEach(function(ur){var tr,re=Ee.edge(ur);(tr=re.points)===null||tr===void 0||tr.forEach(function(Qr){Qr.x-=ge,Qr.y-=Ce}),re.hasOwnProperty("x")&&(re.x-=ge),re.hasOwnProperty("y")&&(re.y-=Ce)}),Gt.width=we-ge+Xt,Gt.height=ye-Ce+Kt},Wt=function(Ee){Ee.edges().forEach(function(ge){var we=Ee.edge(ge),Ce=Ee.node(ge.v),ye=Ee.node(ge.w),Gt,Xt;we.points?(Gt=we.points[0],Xt=we.points[we.points.length-1]):(we.points=[],Gt=ye,Xt=Ce),we.points.unshift(M.default.intersectRect(Ce,Gt)),we.points.push(M.default.intersectRect(ye,Xt))})},jt=function(Ee){Ee.edges().forEach(function(ge){var we=Ee.edge(ge);if(we.hasOwnProperty("x"))switch((we.labelpos==="l"||we.labelpos==="r")&&(we.width-=we.labeloffset),we.labelpos){case"l":we.x-=we.width/2+we.labeloffset;break;case"r":we.x+=we.width/2+we.labeloffset;break}})},qt=function(Ee){Ee.edges().forEach(function(ge){var we=Ee.edge(ge);we.reversed&&we.points.reverse()})},se=function(Ee){Ee.nodes().forEach(function(ge){var we,Ce,ye;if(!((we=Ee.children(ge))===null||we===void 0)&&we.length){var Gt=Ee.node(ge),Xt=Ee.node(Gt.borderTop),Kt=Ee.node(Gt.borderBottom),ze=Ee.node(Gt.borderLeft[((Ce=Gt.borderLeft)===null||Ce===void 0?void 0:Ce.length)-1]),ur=Ee.node(Gt.borderRight[((ye=Gt.borderRight)===null||ye===void 0?void 0:ye.length)-1]);Gt.width=Math.abs((ur==null?void 0:ur.x)-(ze==null?void 0:ze.x))||10,Gt.height=Math.abs((Kt==null?void 0:Kt.y)-(Xt==null?void 0:Xt.y))||10,Gt.x=((ze==null?void 0:ze.x)||0)+Gt.width/2,Gt.y=((Xt==null?void 0:Xt.y)||0)+Gt.height/2}}),Ee.nodes().forEach(function(ge){Ee.node(ge).dummy==="border"&&Ee.removeNode(ge)})},ae=function(Ee){Ee.edges().forEach(function(ge){if(ge.v===ge.w){var we=Ee.node(ge.v);we.selfEdges||(we.selfEdges=[]),we.selfEdges.push({e:ge,label:Ee.edge(ge)}),Ee.removeEdge(ge)}})},he=function(Ee){var ge=M.default.buildLayerMatrix(Ee);ge==null||ge.forEach(function(we){var Ce=0;we==null||we.forEach(function(ye,Gt){var Xt,Kt=Ee.node(ye);Kt.order=Gt+Ce,(Xt=Kt.selfEdges)===null||Xt===void 0||Xt.forEach(function(ze){M.default.addDummyNode(Ee,"selfedge",{width:ze.label.width,height:ze.label.height,rank:Kt.rank,order:Gt+ ++Ce,e:ze.e,label:ze.label},"_se")}),delete Kt.selfEdges})})},ke=function(Ee){Ee.nodes().forEach(function(ge){var we=Ee.node(ge);if(we.dummy==="selfedge"){var Ce=Ee.node(we.e.v),ye=Ce.x+Ce.width/2,Gt=Ce.y,Xt=we.x-ye,Kt=Ce.height/2;Ee.setEdge(we.e,we.label),Ee.removeNode(ge),we.label.points=[{x:ye+2*Xt/3,y:Gt-Kt},{x:ye+5*Xt/6,y:Gt-Kt},{y:Gt,x:ye+Xt},{x:ye+5*Xt/6,y:Gt+Kt},{x:ye+2*Xt/3,y:Gt+Kt}],we.label.x=we.x,we.label.y=we.y}})},Le=function(Ee,ge){var we={};return ge==null||ge.forEach(function(Ce){Ee[Ce]!==void 0&&(we[Ce]=+Ee[Ce])}),we},rr=function(Ee){Ee===void 0&&(Ee={});var ge={};return Object.keys(Ee).forEach(function(we){var Ce=Ee[we];ge[we.toLowerCase()]=Ce}),ge};R.default=lt},59596:function(at,R,d){"use strict";var x=this&&this.__importDefault||function(M){return M&&M.__esModule?M:{default:M}};Object.defineProperty(R,"__esModule",{value:!0});var b=x(d(69209)),P=function(M){var A,L=b.default.addDummyNode(M,"root",{},"_root"),I=O(M),k=Math.max.apply(Math,Object.values(I))-1,B=2*k+1;M.graph().nestingRoot=L,M.edges().forEach(function(W){M.edge(W).minlen*=B});var z=T(M)+1;(A=M.children())===null||A===void 0||A.forEach(function(W){_(M,L,B,z,k,I,W)}),M.graph().nodeRankFactor=B},_=function(M,A,L,I,k,B,z){var W=M.children(z);if(!(W!=null&&W.length)){z!==A&&M.setEdge(A,z,{weight:0,minlen:L});return}var $=b.default.addBorderNode(M,"_bt"),K=b.default.addBorderNode(M,"_bb"),lt=M.node(z);M.setParent($,z),lt.borderTop=$,M.setParent(K,z),lt.borderBottom=K,W==null||W.forEach(function(st){_(M,A,L,I,k,B,st);var yt=M.node(st),q=yt.borderTop?yt.borderTop:st,nt=yt.borderBottom?yt.borderBottom:st,ct=yt.borderTop?I:2*I,bt=q!==nt?1:k-B[z]+1;M.setEdge($,q,{minlen:bt,weight:ct,nestingEdge:!0}),M.setEdge(nt,K,{minlen:bt,weight:ct,nestingEdge:!0})}),M.parent(z)||M.setEdge(A,$,{weight:0,minlen:k+B[z]})},O=function(M){var A,L={},I=function(k,B){var z=M.children(k);z==null||z.forEach(function(W){return I(W,B+1)}),L[k]=B};return(A=M.children())===null||A===void 0||A.forEach(function(k){return I(k,1)}),L},T=function(M){var A=0;return M.edges().forEach(function(L){A+=M.edge(L).weight}),A},F=function(M){var A=M.graph();A.nestingRoot&&M.removeNode(A.nestingRoot),delete A.nestingRoot,M.edges().forEach(function(L){var I=M.edge(L);I.nestingEdge&&M.removeEdge(L)})};R.default={run:P,cleanup:F}},46171:function(at,R,d){"use strict";var x=this&&this.__importDefault||function(T){return T&&T.__esModule?T:{default:T}};Object.defineProperty(R,"__esModule",{value:!0});var b=x(d(69209)),P=function(T){T.graph().dummyChains=[],T.edges().forEach(function(F){return _(T,F)})},_=function(T,F){var M,A,L=F.v,I=T.node(L).rank,k=F.w,B=T.node(k).rank,z=F.name,W=T.edge(F),$=W.labelRank;if(B!==I+1){T.removeEdge(F);var K,lt,st;for(st=0,++I;I<B;++st,++I)W.points=[],lt={edgeLabel:W,width:0,height:0,edgeObj:F,rank:I},K=b.default.addDummyNode(T,"edge",lt,"_d"),I===$&&(lt.width=W.width,lt.height=W.height,lt.dummy="edge-label",lt.labelpos=W.labelpos),T.setEdge(L,K,{weight:W.weight},z),st===0&&(T.graph().dummyChains||(T.graph().dummyChains=[]),(A=(M=T.graph())===null||M===void 0?void 0:M.dummyChains)===null||A===void 0||A.push(K)),L=K;T.setEdge(L,k,{weight:W.weight},z)}},O=function(T){var F;(F=T.graph().dummyChains)===null||F===void 0||F.forEach(function(M){var A,L=T.node(M),I=L.edgeLabel,k;L.edgeObj&&T.setEdge(L.edgeObj,I);for(var B=M;L.dummy;)k=(A=T.successors(B))===null||A===void 0?void 0:A[0],T.removeNode(B),I.points.push({x:L.x,y:L.y}),L.dummy==="edge-label"&&(I.x=L.x,I.y=L.y,I.width=L.width,I.height=L.height),B=k,L=T.node(B)})};R.default={run:P,undo:O}},80314:function(at,R){"use strict";Object.defineProperty(R,"__esModule",{value:!0});var d=function(x,b,P){var _={},O;P==null||P.forEach(function(T){for(var F=x.parent(T),M,A;F;){if(M=x.parent(F),M?(A=_[M],_[M]=F):(A=O,O=F),A&&A!==F){b.setEdge(A,F);return}F=M}})};R.default=d},89921:function(at,R){"use strict";Object.defineProperty(R,"__esModule",{value:!0});var d=function(x,b){return b.map(function(P){var _=x.inEdges(P);if(!(_!=null&&_.length))return{v:P};{var O={sum:0,weight:0};return _==null||_.forEach(function(T){var F=x.edge(T),M=x.node(T.v);O.sum+=F.weight*M.order,O.weight+=F.weight}),{v:P,barycenter:O.sum/O.weight,weight:O.weight}}})};R.default=d},77006:function(at,R,d){"use strict";var x=this&&this.__importDefault||function(T){return T&&T.__esModule?T:{default:T}};Object.defineProperty(R,"__esModule",{value:!0});var b=x(d(44032)),P=b.default.Graph,_=function(T,F,M){var A=O(T),L=new P({compound:!0}).setGraph({root:A}).setDefaultNodeLabel(function(I){return T.node(I)});return T.nodes().forEach(function(I){var k=T.node(I),B=T.parent(I);(k.rank===F||k.minRank<=F&&F<=k.maxRank)&&(L.setNode(I),L.setParent(I,B||A),T[M](I).forEach(function(z){var W=z.v===I?z.w:z.v,$=L.edge(W,I),K=$!==void 0?$.weight:0;L.setEdge(W,I,{weight:T.edge(z).weight+K})}),k.hasOwnProperty("minRank")&&L.setNode(I,{borderLeft:k.borderLeft[F],borderRight:k.borderRight[F]}))}),L},O=function(T){for(var F;T.hasNode(F="_root"+Math.random()););return F};R.default=_},32957:function(at,R,d){"use strict";Object.defineProperty(R,"__esModule",{value:!0});var x=d(69209),b=function(_,O,T){for(var F=(0,x.zipObject)(T,T.map(function(z,W){return W})),M=O.map(function(z){var W,$=(W=_.outEdges(z))===null||W===void 0?void 0:W.map(function(K){return{pos:F[K.w]||0,weight:_.edge(K).weight}});return $==null?void 0:$.sort(function(K,lt){return K.pos-lt.pos})}),A=M.flat().filter(function(z){return z!==void 0}),L=1;L<T.length;)L<<=1;var I=2*L-1;L-=1;var k=Array(I).fill(0,0,I),B=0;return A==null||A.forEach(function(z){var W=z.pos+L;k[W]+=z.weight;for(var $=0;W>0;)W%2&&($+=k[W+1]),W=W-1>>1,k[W]+=z.weight;B+=z.weight*$}),B},P=function(_,O){for(var T=0,F=1;F<(O==null?void 0:O.length);++F)T+=b(_,O[F-1],O[F]);return T};R.default=P},19597:function(at,R,d){"use strict";var x=this&&this.__importDefault||function(W){return W&&W.__esModule?W:{default:W}};Object.defineProperty(R,"__esModule",{value:!0});var b=x(d(15697)),P=x(d(32957)),_=x(d(77006)),O=x(d(80314)),T=x(d(99455)),F=x(d(44032)),M=x(d(69209)),A=d(49784),L=F.default.Graph,I=function(W){for(var $=M.default.maxRank(W),K=[],lt=[],st=1;st<$+1;st++)K.push(st);for(var st=$-1;st>-1;st--)lt.push(st);var yt=k(W,K,"inEdges"),q=k(W,lt,"outEdges"),nt=(0,b.default)(W);z(W,nt);for(var ct=Number.POSITIVE_INFINITY,bt,st=0,_t=0;_t<4;++st,++_t){B(st%2?yt:q,st%4>=2),nt=M.default.buildLayerMatrix(W);var St=(0,P.default)(W,nt);St<ct&&(_t=0,bt=(0,A.clone)(nt),ct=St)}nt=(0,b.default)(W),z(W,nt);for(var st=0,_t=0;_t<4;++st,++_t){B(st%2?yt:q,st%4>=2,!0),nt=M.default.buildLayerMatrix(W);var St=(0,P.default)(W,nt);St<ct&&(_t=0,bt=(0,A.clone)(nt),ct=St)}z(W,bt)},k=function(W,$,K){return $.map(function(lt){return(0,_.default)(W,lt,K)})},B=function(W,$,K){var lt=new L;W==null||W.forEach(function(st){for(var yt,q=st.graph().root,nt=(0,T.default)(st,q,lt,$,K),ct=0;ct<((yt=nt.vs)===null||yt===void 0?void 0:yt.length);ct++)st.node(nt.vs[ct]).order=ct;(0,O.default)(st,lt,nt.vs)})},z=function(W,$){$==null||$.forEach(function(K){K==null||K.forEach(function(lt,st){W.node(lt).order=st})})};R.default=I},24956:function(at,R){"use strict";Object.defineProperty(R,"__esModule",{value:!0});var d=function(x,b){for(var P=x.nodes().filter(function(M){var A;return!(!((A=x.children(M))===null||A===void 0)&&A.length)}),_=P.map(function(M){return x.node(M).rank}),O=Math.max.apply(Math,_),T=[],F=0;F<O+1;F++)T.push([]);b==null||b.forEach(function(M){var A=x.node(M);!A||A.dummy||isNaN(A.rank)||(A.fixorder=T[A.rank].length,T[A.rank].push(M))})};R.default=d},15697:function(at,R){"use strict";Object.defineProperty(R,"__esModule",{value:!0});var d=function(x){for(var b={},P=x.nodes().filter(function(k){var B;return!(!((B=x.children(k))===null||B===void 0)&&B.length)}),_=P.map(function(k){return x.node(k).rank}),O=Math.max.apply(Math,_),T=[],F=0;F<O+1;F++)T.push([]);var M=function(k){var B;if(!b.hasOwnProperty(k)){b[k]=!0;var z=x.node(k);isNaN(z.rank)||T[z.rank].push(k),(B=x.successors(k))===null||B===void 0||B.forEach(function(W){return M(W)})}},A=P.sort(function(k,B){return x.node(k).rank-x.node(B).rank}),L=A.filter(function(k){return x.node(k).fixorder!==void 0}),I=L.sort(function(k,B){return x.node(k).fixorder-x.node(B).fixorder});return I==null||I.forEach(function(k){isNaN(x.node(k).rank)||T[x.node(k).rank].push(k),b[k]=!0}),A==null||A.forEach(M),T};R.default=d},7043:function(at,R){"use strict";Object.defineProperty(R,"__esModule",{value:!0});var d=function(P,_){var O,T,F,M={};P==null||P.forEach(function(L,I){var k=M[L.v]={i:I,indegree:0,in:[],out:[],vs:[L.v]};L.barycenter!==void 0&&(k.barycenter=L.barycenter,k.weight=L.weight)}),(O=_.edges())===null||O===void 0||O.forEach(function(L){var I=M[L.v],k=M[L.w];I!==void 0&&k!==void 0&&(k.indegree++,I.out.push(M[L.w]))});var A=(F=(T=Object.values(M)).filter)===null||F===void 0?void 0:F.call(T,function(L){return!L.indegree});return x(A)},x=function(P){for(var _,O,T=[],F=function(k){return function(B){B.merged||(B.barycenter===void 0||k.barycenter===void 0||B.barycenter>=k.barycenter)&&b(k,B)}},M=function(k){return function(B){B.in.push(k),--B.indegree===0&&P.push(B)}},A=function(){var k=P.pop();T.push(k),(_=k.in.reverse())===null||_===void 0||_.forEach(function(B){return F(k)(B)}),(O=k.out)===null||O===void 0||O.forEach(function(B){return M(k)(B)})};P!=null&&P.length;)A();var L=T.filter(function(k){return!k.merged}),I=["vs","i","barycenter","weight"];return L.map(function(k){var B={};return I==null||I.forEach(function(z){k[z]!==void 0&&(B[z]=k[z])}),B})},b=function(P,_){var O,T=0,F=0;P.weight&&(T+=P.barycenter*P.weight,F+=P.weight),_.weight&&(T+=_.barycenter*_.weight,F+=_.weight),P.vs=(O=_.vs)===null||O===void 0?void 0:O.concat(P.vs),P.barycenter=T/F,P.weight=F,P.i=Math.min(_.i,P.i),_.merged=!0};R.default=d},99455:function(at,R,d){"use strict";var x=this&&this.__importDefault||function(M){return M&&M.__esModule?M:{default:M}};Object.defineProperty(R,"__esModule",{value:!0});var b=x(d(89921)),P=x(d(7043)),_=x(d(21498)),O=function(M,A,L,I,k){var B,z,W,$,K=M.children(A),lt=M.node(A),st=lt?lt.borderLeft:void 0,yt=lt?lt.borderRight:void 0,q={};st&&(K=K==null?void 0:K.filter(function(At){return At!==st&&At!==yt}));var nt=(0,b.default)(M,K||[]);nt==null||nt.forEach(function(At){var vt;if(!((vt=M.children(At.v))===null||vt===void 0)&&vt.length){var dt=O(M,At.v,L,I);q[At.v]=dt,dt.hasOwnProperty("barycenter")&&F(At,dt)}});var ct=(0,P.default)(nt,L);T(ct,q),(B=ct.filter(function(At){var vt;return!!At.vs||((vt=At.vs)===null||vt===void 0?void 0:vt.length)>0}))===null||B===void 0||B.forEach(function(At){var vt=M.node(At.vs[0]);At.fixorder=vt.fixorder,At.order=vt.order});var bt=(0,_.default)(ct,I,k);if(st&&(bt.vs=[st,bt.vs,yt].flat(),!((z=M.predecessors(st))===null||z===void 0)&&z.length)){var _t=M.node(((W=M.predecessors(st))===null||W===void 0?void 0:W[0])||{}),St=M.node((($=M.predecessors(yt))===null||$===void 0?void 0:$[0])||{});bt.hasOwnProperty("barycenter")||(bt.barycenter=0,bt.weight=0),bt.barycenter=(bt.barycenter*bt.weight+_t.order+St.order)/(bt.weight+2),bt.weight+=2}return bt},T=function(M,A){M==null||M.forEach(function(L){var I,k=(I=L.vs)===null||I===void 0?void 0:I.map(function(B){return A[B]?A[B].vs:B});L.vs=k.flat()})},F=function(M,A){M.barycenter!==void 0?(M.barycenter=(M.barycenter*M.weight+A.barycenter*A.weight)/(M.weight+A.weight),M.weight+=A.weight):(M.barycenter=A.barycenter,M.weight=A.weight)};R.default=O},21498:function(at,R,d){"use strict";var x=this&&this.__importDefault||function(T){return T&&T.__esModule?T:{default:T}};Object.defineProperty(R,"__esModule",{value:!0});var b=x(d(69209)),P=function(T,F,M){var A=b.default.partition(T,function(K){return K.hasOwnProperty("fixorder")&&!isNaN(K.fixorder)||K.hasOwnProperty("barycenter")}),L=A.lhs,I=A.rhs.sort(function(K,lt){return-K.i- -lt.i}),k=[],B=0,z=0,W=0;L==null||L.sort(O(!!F,!!M)),W=_(k,I,W),L==null||L.forEach(function(K){var lt;W+=(lt=K.vs)===null||lt===void 0?void 0:lt.length,k.push(K.vs),B+=K.barycenter*K.weight,z+=K.weight,W=_(k,I,W)});var $={vs:k.flat()};return z&&($.barycenter=B/z,$.weight=z),$},_=function(T,F,M){for(var A=M,L;F.length&&(L=F[F.length-1]).i<=A;)F.pop(),T==null||T.push(L.vs),A++;return A},O=function(T,F){return function(M,A){if(M.fixorder!==void 0&&A.fixorder!==void 0)return M.fixorder-A.fixorder;if(M.barycenter<A.barycenter)return-1;if(M.barycenter>A.barycenter)return 1;if(F&&M.order!==void 0&&A.order!==void 0){if(M.order<A.order)return-1;if(M.order>A.order)return 1}return T?A.i-M.i:M.i-A.i}};R.default=P},33562:function(at,R){"use strict";Object.defineProperty(R,"__esModule",{value:!0});var d=function(P){var _,O=b(P);(_=P.graph().dummyChains)===null||_===void 0||_.forEach(function(T){var F,M,A=P.node(T),L=A.edgeObj;if(!!L)for(var I=x(P,O,L.v,L.w),k=I.path,B=I.lca,z=0,W=k[z],$=!0;T!==L.w;){if(A=P.node(T),$){for(;(W=k[z])!==B&&P.node(W).maxRank<A.rank;)z++;W===B&&($=!1)}if(!$){for(;z<k.length-1&&((F=P.node(W=k[z+1]))===null||F===void 0?void 0:F.minRank)<=A.rank;)z++;W=k[z]}P.setParent(T,W),T=(M=P.successors(T))===null||M===void 0?void 0:M[0]}})},x=function(P,_,O,T){var F=[],M=[],A=Math.min(_[O].low,_[T].low),L=Math.max(_[O].lim,_[T].lim),I,k;I=O;do I=P.parent(I),F.push(I);while(I&&(_[I].low>A||L>_[I].lim));for(k=I,I=T;(I=P.parent(I))!==k;)M.push(I);return{lca:k,path:F.concat(M.reverse())}},b=function(P){var _,O={},T=0,F=function(M){var A,L=T;(A=P.children(M))===null||A===void 0||A.forEach(F),O[M]={low:L,lim:T++}};return(_=P.children())===null||_===void 0||_.forEach(F),O};R.default=d},71963:function(at,R,d){"use strict";var x=this&&this.__importDefault||function(st){return st&&st.__esModule?st:{default:st}};Object.defineProperty(R,"__esModule",{value:!0}),R.balance=R.findSmallestWidthAlignment=R.alignCoordinates=R.horizontalCompaction=R.verticalAlignment=R.hasConflict=R.addConflict=R.findType2Conflicts=R.findType1Conflicts=R.positionX=void 0;var b=x(d(44032)),P=x(d(69209)),_=b.default.Graph,O=function(st,yt){var q={},nt=function(ct,bt){var _t=0,St=0,At=ct.length,vt=bt==null?void 0:bt[(bt==null?void 0:bt.length)-1];return bt==null||bt.forEach(function(dt,gt){var Ct,Et=F(st,dt),Tt=Et?st.node(Et).order:At;(Et||dt===vt)&&((Ct=bt.slice(St,gt+1))===null||Ct===void 0||Ct.forEach(function(ot){var Mt;(Mt=st.predecessors(ot))===null||Mt===void 0||Mt.forEach(function(Wt){var jt=st.node(Wt),qt=jt.order;(qt<_t||Tt<qt)&&!(jt.dummy&&st.node(ot).dummy)&&M(q,Wt,ot)})}),St=gt+1,_t=Tt)}),bt};return yt!=null&&yt.length&&yt.reduce(nt),q};R.findType1Conflicts=O;var T=function(st,yt){var q={},nt=function(bt,_t,St,At,vt){for(var dt,gt=[],Ct=_t;Ct<St;Ct++)gt.push(Ct);gt.forEach(function(Et){var Tt;dt=bt[Et],st.node(dt).dummy&&((Tt=st.predecessors(dt))===null||Tt===void 0||Tt.forEach(function(ot){var Mt=st.node(ot);Mt.dummy&&(Mt.order<At||Mt.order>vt)&&M(q,ot,dt)}))})},ct=function(bt,_t){var St=-1,At,vt=0;return _t==null||_t.forEach(function(dt,gt){if(st.node(dt).dummy==="border"){var Ct=st.predecessors(dt)||[];Ct.length&&(At=st.node(Ct[0]).order,nt(_t,vt,gt,St,At),vt=gt,St=At)}nt(_t,vt,_t.length,At,bt.length)}),_t};return yt!=null&&yt.length&&yt.reduce(ct),q};R.findType2Conflicts=T;var F=function(st,yt){var q;if(st.node(yt).dummy)return(q=st.predecessors(yt))===null||q===void 0?void 0:q.find(function(nt){return st.node(nt).dummy})},M=function(st,yt,q){var nt=yt,ct=q;if(nt>ct){var bt=nt;nt=ct,ct=bt}var _t=st[nt];_t||(st[nt]=_t={}),_t[ct]=!0};R.addConflict=M;var A=function(st,yt,q){var nt=yt,ct=q;if(nt>ct){var bt=yt;nt=ct,ct=bt}return st[nt]&&st[nt].hasOwnProperty(ct)};R.hasConflict=A;var L=function(st,yt,q,nt){var ct={},bt={},_t={};return yt==null||yt.forEach(function(St){St==null||St.forEach(function(At,vt){ct[At]=At,bt[At]=At,_t[At]=vt})}),yt==null||yt.forEach(function(St){var At=-1;St==null||St.forEach(function(vt){var dt=nt(vt);if(dt.length){dt=dt.sort(function(ot,Mt){return _t[ot]-_t[Mt]});for(var gt=(dt.length-1)/2,Ct=Math.floor(gt),Et=Math.ceil(gt);Ct<=Et;++Ct){var Tt=dt[Ct];bt[vt]===vt&&At<_t[Tt]&&!A(q,vt,Tt)&&(bt[Tt]=vt,bt[vt]=ct[vt]=ct[Tt],At=_t[Tt])}}})}),{root:ct,align:bt}};R.verticalAlignment=L;var I=function(st,yt,q,nt,ct){var bt,_t={},St=k(st,yt,q,ct),At=ct?"borderLeft":"borderRight",vt=function(Ct,Et){for(var Tt=St.nodes(),ot=Tt.pop(),Mt={};ot;)Mt[ot]?Ct(ot):(Mt[ot]=!0,Tt.push(ot),Tt=Tt.concat(Et(ot))),ot=Tt.pop()},dt=function(Ct){_t[Ct]=(St.inEdges(Ct)||[]).reduce(function(Et,Tt){return Math.max(Et,(_t[Tt.v]||0)+St.edge(Tt))},0)},gt=function(Ct){var Et=(St.outEdges(Ct)||[]).reduce(function(ot,Mt){return Math.min(ot,(_t[Mt.w]||0)-St.edge(Mt))},Number.POSITIVE_INFINITY),Tt=st.node(Ct);Et!==Number.POSITIVE_INFINITY&&Tt.borderType!==At&&(_t[Ct]=Math.max(_t[Ct],Et))};return vt(dt,St.predecessors.bind(St)),vt(gt,St.successors.bind(St)),(bt=Object.values(nt))===null||bt===void 0||bt.forEach(function(Ct){_t[Ct]=_t[q[Ct]]}),_t};R.horizontalCompaction=I;var k=function(st,yt,q,nt){var ct=new _,bt=st.graph(),_t=K(bt.nodesep,bt.edgesep,nt);return yt==null||yt.forEach(function(St){var At;St==null||St.forEach(function(vt){var dt=q[vt];if(ct.setNode(dt),At){var gt=q[At],Ct=ct.edge(gt,dt);ct.setEdge(gt,dt,Math.max(_t(st,vt,At),Ct||0))}At=vt})}),ct},B=function(st,yt){return P.default.minBy(Object.values(yt),function(q){var nt,ct=Number.NEGATIVE_INFINITY,bt=Number.POSITIVE_INFINITY;return(nt=Object.keys(q))===null||nt===void 0||nt.forEach(function(_t){var St=q[_t],At=lt(st,_t)/2;ct=Math.max(St+At,ct),bt=Math.min(St-At,bt)}),ct-bt})};R.findSmallestWidthAlignment=B;function z(st,yt){var q=Object.values(yt),nt=Math.min.apply(Math,q),ct=Math.max.apply(Math,q);["u","d"].forEach(function(bt){["l","r"].forEach(function(_t){var St=bt+_t,At=st[St],vt;if(At!==yt){var dt=Object.values(At);vt=_t==="l"?nt-Math.min.apply(Math,dt):ct-Math.max.apply(Math,dt),vt&&(st[St]={},Object.keys(At).forEach(function(gt){st[St][gt]=At[gt]+vt}))}})})}R.alignCoordinates=z;var W=function(st,yt){var q={};return Object.keys(st.ul).forEach(function(nt){if(yt)q[nt]=st[yt.toLowerCase()][nt];else{var ct=Object.values(st).map(function(_t){return _t[nt]}),bt=ct.sort(function(_t,St){return _t-St});q[nt]=(bt[1]+bt[2])/2}}),q};R.balance=W;var $=function(st){var yt=P.default.buildLayerMatrix(st),q=Object.assign(O(st,yt),T(st,yt)),nt={},ct;["u","d"].forEach(function(_t){ct=_t==="u"?yt:Object.values(yt).reverse(),["l","r"].forEach(function(St){St==="r"&&(ct=ct.map(function(gt){return Object.values(gt).reverse()}));var At=(_t==="u"?st.predecessors:st.successors).bind(st),vt=L(st,ct,q,At),dt=I(st,ct,vt.root,vt.align,St==="r");St==="r"&&(dt=Object.values(dt).map(function(gt){return-gt})),nt[_t+St]=dt})});var bt=B(st,nt);return z(nt,bt),W(nt,st.graph().align)};R.positionX=$;var K=function(st,yt,q){return function(nt,ct,bt){var _t=nt.node(ct),St=nt.node(bt),At=0,vt;if(At+=_t.width/2,_t.hasOwnProperty("labelpos"))switch((_t.labelpos||"").toLowerCase()){case"l":vt=-_t.width/2;break;case"r":vt=_t.width/2;break}if(vt&&(At+=q?vt:-vt),vt=0,At+=(_t.dummy?yt:st)/2,At+=(St.dummy?yt:st)/2,At+=St.width/2,St.hasOwnProperty("labelpos"))switch((St.labelpos||"").toLowerCase()){case"l":vt=St.width/2;break;case"r":vt=-St.width/2;break}return vt&&(At+=q?vt:-vt),vt=0,At}},lt=function(st,yt){var q;return((q=st.node(yt))===null||q===void 0?void 0:q.width)||0};R.default={positionX:$,findType1Conflicts:O,findType2Conflicts:T,addConflict:M,hasConflict:A,verticalAlignment:L,horizontalCompaction:I,alignCoordinates:z,findSmallestWidthAlignment:B,balance:W}},95:function(at,R,d){"use strict";var x=this&&this.__importDefault||function(F){return F&&F.__esModule?F:{default:F}};Object.defineProperty(R,"__esModule",{value:!0});var b=x(d(69209)),P=d(71963),_=function(F){var M=b.default.buildLayerMatrix(F),A=F.graph().ranksep,L=0;M==null||M.forEach(function(I){var k=I.map(function(z){return F.node(z).height}),B=Math.max.apply(Math,k);I==null||I.forEach(function(z){F.node(z).y=L+B/2}),L+=B+A})},O=function(F){var M=b.default.buildLayerMatrix(F),A=Object.assign((0,P.findType1Conflicts)(F,M),(0,P.findType2Conflicts)(F,M)),L={},I;["u","d"].forEach(function(B){I=B==="u"?M:Object.values(M).reverse(),["l","r"].forEach(function(z){z==="r"&&(I=I.map(function(lt){return Object.values(lt).reverse()}));var W=(B==="u"?F.predecessors:F.successors).bind(F),$=(0,P.verticalAlignment)(F,I,A,W),K=(0,P.horizontalCompaction)(F,I,$.root,$.align,z==="r");z==="r"&&Object.keys(K).forEach(function(lt){return K[lt]=-K[lt]}),L[B+z]=K})});var k=(0,P.findSmallestWidthAlignment)(F,L);return k&&(0,P.alignCoordinates)(L,k),(0,P.balance)(L,F.graph().align)},T=function(F){var M;F=b.default.asNonCompoundGraph(F),_(F);var A=O(F);(M=Object.keys(A))===null||M===void 0||M.forEach(function(L){F.node(L).x=A[L]})};R.default=T},13614:function(at,R,d){"use strict";var x=this&&this.__importDefault||function(k){return k&&k.__esModule?k:{default:k}};Object.defineProperty(R,"__esModule",{value:!0}),R.feasibleTreeWithLayer=R.feasibleTree=void 0;var b=x(d(44032)),P=d(37323),_=d(69209),O=b.default.Graph,T=function(k){var B=new O({directed:!1}),z=k.nodes()[0],W=k.nodeCount();B.setNode(z,{});for(var $,K;F(B,k)<W;)$=L(B,k),K=B.hasNode($.v)?(0,P.slack)(k,$):-(0,P.slack)(k,$),I(B,k,K);return B};R.feasibleTree=T;var F=function(k,B){var z=function(W){B.nodeEdges(W).forEach(function($){var K=$.v,lt=W===K?$.w:K;!k.hasNode(lt)&&!(0,P.slack)(B,$)&&(k.setNode(lt,{}),k.setEdge(W,lt,{}),z(lt))})};return k.nodes().forEach(z),k.nodeCount()},M=function(k){var B=new O({directed:!1}),z=k.nodes()[0],W=k.nodeCount();B.setNode(z,{});for(var $,K;A(B,k)<W;)$=L(B,k),K=B.hasNode($.v)?(0,P.slack)(k,$):-(0,P.slack)(k,$),I(B,k,K);return B};R.feasibleTreeWithLayer=M;var A=function(k,B){var z=function(W){var $;($=B.nodeEdges(W))===null||$===void 0||$.forEach(function(K){var lt=K.v,st=W===lt?K.w:lt;!k.hasNode(st)&&(B.node(st).layer!==void 0||!(0,P.slack)(B,K))&&(k.setNode(st,{}),k.setEdge(W,st,{}),z(st))})};return k.nodes().forEach(z),k.nodeCount()},L=function(k,B){return(0,_.minBy)(B.edges(),function(z){return k.hasNode(z.v)!==k.hasNode(z.w)?(0,P.slack)(B,z):1/0})},I=function(k,B,z){k.nodes().forEach(function(W){B.node(W).rank||(B.node(W).rank=0),B.node(W).rank+=z})};R.default={feasibleTree:T,feasibleTreeWithLayer:M}},76827:function(at,R,d){"use strict";var x=this&&this.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};Object.defineProperty(R,"__esModule",{value:!0});var b=d(37323),P=d(13614),_=x(d(32253)),O=function(A){switch(A.graph().ranker){case"network-simplex":M(A);break;case"tight-tree":F(A);break;case"longest-path":T(A);break;default:F(A)}},T=b.longestPath,F=function(A){(0,b.longestPathWithLayer)(A),(0,P.feasibleTreeWithLayer)(A)},M=function(A){(0,_.default)(A)};R.default=O},32253:function(at,R,d){"use strict";var x=this&&this.__importDefault||function(q){return q&&q.__esModule?q:{default:q}};Object.defineProperty(R,"__esModule",{value:!0});var b=d(13614),P=d(37323),_=d(69209),O=x(d(44032)),T=O.default.alg,F=T.preorder,M=T.postorder,A=function(q){q=(0,_.simplify)(q),(0,P.longestPath)(q);var nt=(0,b.feasibleTree)(q);B(nt),L(nt,q);for(var ct,bt;ct=W(nt);)bt=$(nt,q,ct),K(nt,q,ct,bt)},L=function(q,nt){var ct=M(q,q.nodes());ct=ct==null?void 0:ct.slice(0,(ct==null?void 0:ct.length)-1),ct==null||ct.forEach(function(bt){I(q,nt,bt)})},I=function(q,nt,ct){var bt=q.node(ct),_t=bt.parent;q.edge(ct,_t).cutvalue=k(q,nt,ct)},k=function(q,nt,ct){var bt,_t=q.node(ct),St=_t.parent,At=!0,vt=nt.edge(ct,St),dt=0;return vt||(At=!1,vt=nt.edge(St,ct)),dt=vt.weight,(bt=nt.nodeEdges(ct))===null||bt===void 0||bt.forEach(function(gt){var Ct=gt.v===ct,Et=Ct?gt.w:gt.v;if(Et!==St){var Tt=Ct===At,ot=nt.edge(gt).weight;if(dt+=Tt?ot:-ot,st(q,ct,Et)){var Mt=q.edge(ct,Et).cutvalue;dt+=Tt?-Mt:Mt}}}),dt},B=function(q,nt){nt!==void 0&&(nt=q.nodes()[0]),z(q,{},1,nt)},z=function(q,nt,ct,bt,_t){var St,At=ct,vt=ct,dt=q.node(bt);return nt[bt]=!0,(St=q.neighbors(bt))===null||St===void 0||St.forEach(function(gt){nt.hasOwnProperty(gt)||(vt=z(q,nt,vt,gt,bt))}),dt.low=At,dt.lim=vt++,_t?dt.parent=_t:delete dt.parent,vt},W=function(q){return q.edges().find(function(nt){return q.edge(nt).cutvalue<0})},$=function(q,nt,ct){var bt=ct.v,_t=ct.w;nt.hasEdge(bt,_t)||(bt=ct.w,_t=ct.v);var St=q.node(bt),At=q.node(_t),vt=St,dt=!1;St.lim>At.lim&&(vt=At,dt=!0);var gt=nt.edges().filter(function(Ct){return dt===yt(q,q.node(Ct.v),vt)&&dt!==yt(q,q.node(Ct.w),vt)});return(0,_.minBy)(gt,function(Ct){return(0,P.slack)(nt,Ct)})},K=function(q,nt,ct,bt){var _t=ct.v,St=ct.w;q.removeEdge(_t,St),q.setEdge(bt.v,bt.w,{}),B(q),L(q,nt),lt(q,nt)},lt=function(q,nt){var ct=q.nodes().find(function(_t){return!nt.node(_t).parent}),bt=F(q,ct);bt=bt==null?void 0:bt.slice(1),bt==null||bt.forEach(function(_t){var St=q.node(_t).parent,At=nt.edge(_t,St),vt=!1;At||(At=nt.edge(St,_t),vt=!0),nt.node(_t).rank=nt.node(St).rank+(vt?At.minlen:-At.minlen)})},st=function(q,nt,ct){return q.hasEdge(nt,ct)},yt=function(q,nt,ct){return ct.low<=nt.lim&&nt.lim<=ct.lim};A.initLowLimValues=B,A.initCutValues=L,A.calcCutValue=k,A.leaveEdge=W,A.enterEdge=$,A.exchangeEdges=K,R.default=A},37323:function(at,R){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.slack=R.longestPathWithLayer=R.longestPath=void 0;var d=function(P){var _,O={},T=function(F){var M,A=P.node(F);if(O.hasOwnProperty(F))return A.rank;O[F]=!0;var L=(M=P.outEdges(F))===null||M===void 0?void 0:M.map(function(k){return T(k.w)-P.edge(k).minlen||1/0}),I=Math.min.apply(Math,L);return(I===Number.POSITIVE_INFINITY||I===void 0||I===null)&&(I=0),A.rank=I,I};(_=P.sources())===null||_===void 0||_.forEach(function(F){return T(F)})};R.longestPath=d;var x=function(P){var _,O={},T=0,F=function(A){var L,I=P.node(A);if(O.hasOwnProperty(A))return I.rank;O[A]=!0;var k=(L=P.outEdges(A))===null||L===void 0?void 0:L.map(function(z){return F(z.w)-P.edge(z).minlen||1/0}),B=Math.min.apply(Math,k);return(B===Number.POSITIVE_INFINITY||B===void 0||B===null)&&(B=0),I.rank=B,T=Math.min(I.rank,T),I.rank};(_=P.sources())===null||_===void 0||_.forEach(function(A){return F(A)}),T+=1;var M=function(A,L){var I,k=P.node(A),B=isNaN(k.layer)?L:k.layer;(k.rank===void 0||k.rank<B)&&(k.rank=B),(I=P.outEdges(A))===null||I===void 0||I.map(function(z){M(z.w,B+P.edge(z).minlen)})};P.nodes().forEach(function(A){var L=P.node(A);isNaN(L.layer)?L.rank-=T:M(A,L.layer)})};R.longestPathWithLayer=x;var b=function(P,_){return P.node(_.w).rank-P.node(_.v).rank-P.edge(_).minlen};R.slack=b,R.default={longestPath:d,longestPathWithLayer:x,slack:b}},69209:function(at,R,d){"use strict";var x=this&&this.__importDefault||function(q){return q&&q.__esModule?q:{default:q}};Object.defineProperty(R,"__esModule",{value:!0}),R.minBy=R.zipObject=R.notime=R.time=R.partition=R.maxRank=R.addBorderNode=R.removeEmptyRanks=R.normalizeRanks=R.buildLayerMatrix=R.intersectRect=R.predecessorWeights=R.successorWeights=R.asNonCompoundGraph=R.simplify=R.addDummyNode=void 0;var b=d(49784),P=x(d(44032)),_=P.default.Graph,O=function(q,nt,ct,bt){var _t;do _t=""+bt+Math.random();while(q.hasNode(_t));return ct.dummy=nt,q.setNode(_t,ct),_t};R.addDummyNode=O;var T=function(q){var nt=new _().setGraph(q.graph());return q.nodes().forEach(function(ct){nt.setNode(ct,q.node(ct))}),q.edges().forEach(function(ct){var bt=nt.edge(ct.v,ct.w)||{weight:0,minlen:1},_t=q.edge(ct);nt.setEdge(ct.v,ct.w,{weight:bt.weight+_t.weight,minlen:Math.max(bt.minlen,_t.minlen)})}),nt};R.simplify=T;var F=function(q){var nt=new _({multigraph:q.isMultigraph()}).setGraph(q.graph());return q.nodes().forEach(function(ct){var bt;!((bt=q.children(ct))===null||bt===void 0)&&bt.length||nt.setNode(ct,q.node(ct))}),q.edges().forEach(function(ct){return nt.setEdge(ct,q.edge(ct))}),nt};R.asNonCompoundGraph=F;var M=function(q,nt){var ct={};return q==null||q.forEach(function(bt,_t){ct[bt]=nt[_t]}),ct};R.zipObject=M;var A=function(q){var nt=q.nodes().map(function(ct){var bt,_t={};return(bt=q.outEdges(ct))===null||bt===void 0||bt.forEach(function(St){_t[St.w]=(_t[St.w]||0)+q.edge(St).weight}),_t});return M(q.nodes(),nt)};R.successorWeights=A;var L=function(q){var nt=q.nodes().map(function(ct){var bt,_t={};return(bt=q.inEdges(ct))===null||bt===void 0||bt.forEach(function(St){_t[St.v]=(_t[St.v]||0)+q.edge(St).weight}),_t});return M(q.nodes(),nt)};R.predecessorWeights=L;var I=function(q,nt){var ct=q.x,bt=q.y,_t=nt.x-ct,St=nt.y-bt,At=q.width/2,vt=q.height/2;if(!_t&&!St)return{x:0,y:0};var dt,gt;return Math.abs(St)*At>Math.abs(_t)*vt?(St<0&&(vt=-vt),dt=vt*_t/St,gt=vt):(_t<0&&(At=-At),dt=At,gt=At*St/_t),{x:ct+dt,y:bt+gt}};R.intersectRect=I;var k=function(q){for(var nt=[],ct=[],bt=$(q)+1,_t=0;_t<bt;_t++)nt.push([]),ct.push([]);return q.nodes().forEach(function(St){var At=q.node(St),vt=At.rank;vt!==void 0&&nt[vt]&&ct[vt].push(St)}),ct==null||ct.forEach(function(St,At){St==null||St.sort(function(vt,dt){var gt,Ct;return((gt=q.node(vt))===null||gt===void 0?void 0:gt.order)-((Ct=q.node(dt))===null||Ct===void 0?void 0:Ct.order)}),St.forEach(function(vt){nt[At].push(vt)})}),nt};R.buildLayerMatrix=k;var B=function(q){var nt=q.nodes().filter(function(bt){return q.node(bt).rank!==void 0}).map(function(bt){return q.node(bt).rank}),ct=Math.min.apply(Math,nt);q.nodes().forEach(function(bt){var _t=q.node(bt);_t.hasOwnProperty("rank")&&(_t.rank||(_t.rank=0),_t.rank-=ct)})};R.normalizeRanks=B;var z=function(q){var nt=q.nodes().filter(function(dt){return q.node(dt).rank!==void 0}).map(function(dt){return q.node(dt).rank}),ct=Math.min.apply(Math,nt),bt=[];q.nodes().forEach(function(dt){var gt,Ct=(((gt=q.node(dt))===null||gt===void 0?void 0:gt.rank)||0)-ct;bt[Ct]||(bt[Ct]=[]),bt[Ct].push(dt)});for(var _t=0,St=q.graph().nodeRankFactor||0,At=0;At<bt.length;At++){var vt=bt[At];vt===void 0&&At%St!==0?--_t:_t&&(vt==null||vt.forEach(function(dt){q.node(dt).rank||(q.node(dt).rank=0),q.node(dt).rank+=_t}))}};R.removeEmptyRanks=z;var W=function(q,nt,ct,bt){var _t={width:0,height:0};return(0,b.isNumber)(ct)&&(0,b.isNumber)(bt)&&(_t.rank=ct,_t.order=bt),O(q,"border",_t,nt)};R.addBorderNode=W;var $=function(q){var nt=q.nodes().map(function(ct){var bt=q.node(ct).rank;return bt!==void 0?bt:-1/0});return Math.max.apply(Math,nt)};R.maxRank=$;var K=function(q,nt){var ct={lhs:[],rhs:[]};return q==null||q.forEach(function(bt){nt(bt)?ct.lhs.push(bt):ct.rhs.push(bt)}),ct};R.partition=K;var lt=function(q,nt){var ct=Date.now();try{return nt()}finally{console.log(q+" time: "+(Date.now()-ct)+"ms")}};R.time=lt;var st=function(q,nt){return nt()};R.notime=st;var yt=function(q,nt){var ct=1/0,bt;return q==null||q.forEach(function(_t){var St=nt(_t);ct>St&&(ct=St,bt=_t)}),bt};R.minBy=yt,R.default={addDummyNode:O,simplify:T,asNonCompoundGraph:F,successorWeights:A,predecessorWeights:L,intersectRect:I,buildLayerMatrix:k,normalizeRanks:B,removeEmptyRanks:z,addBorderNode:W,maxRank:$,partition:K,time:lt,notime:st,zipObject:M,minBy:yt}},34015:function(at,R,d){"use strict";var x=this&&this.__assign||function(){return x=Object.assign||function(I){for(var k,B=1,z=arguments.length;B<z;B++){k=arguments[B];for(var W in k)Object.prototype.hasOwnProperty.call(k,W)&&(I[W]=k[W])}return I},x.apply(this,arguments)},b=this&&this.__createBinding||(Object.create?function(I,k,B,z){z===void 0&&(z=B),Object.defineProperty(I,z,{enumerable:!0,get:function(){return k[B]}})}:function(I,k,B,z){z===void 0&&(z=B),I[z]=k[B]}),P=this&&this.__setModuleDefault||(Object.create?function(I,k){Object.defineProperty(I,"default",{enumerable:!0,value:k})}:function(I,k){I.default=k}),_=this&&this.__importStar||function(I){if(I&&I.__esModule)return I;var k={};if(I!=null)for(var B in I)B!=="default"&&Object.prototype.hasOwnProperty.call(I,B)&&b(k,I,B);return P(k,I),k},O=this&&this.__importDefault||function(I){return I&&I.__esModule?I:{default:I}};Object.defineProperty(R,"__esModule",{value:!0});var T=_(d(19201)),F=O(d(88221)),M=O(d(87064)),A=d(20171);function L(I,k){var B=I.nodes,z=I.edges,W=k.width,$=k.height;if(!(B!=null&&B.length))return Promise.resolve();var K=[];B.forEach(function(_t){var St=z.filter(function(vt){return vt.source===_t.id||vt.target===_t.id});if(St.length>1){var At=x({},_t);delete At.size,K.push(At)}});var lt=[];z.forEach(function(_t){var St=K.find(function(vt){return vt.id===_t.source}),At=K.find(function(vt){return vt.id===_t.target});St&&At&&lt.push(_t)});var st=new A.DagreLayout({type:"dagre",ranksep:k.nodeMinGap,nodesep:k.nodeMinGap}),yt=st.layout({nodes:K,edges:lt}).nodes;B.forEach(function(_t){var St=(yt||[]).find(function(At){return At.id===_t.id});_t.x=(St==null?void 0:St.x)||W/2,_t.y=(St==null?void 0:St.y)||$/2});var q=JSON.parse(JSON.stringify(B)),nt=JSON.parse(JSON.stringify(z)),ct=T.forceSimulation().nodes(q).force("link",T.forceLink(nt).id(function(_t){return _t.id}).distance(function(_t){var St=lt.find(function(At){return At.source===_t.source&&At.target===_t.target});return St?30:20})).force("charge",T.forceManyBody()).force("center",T.forceCenter(W/2,$/2)).force("x",T.forceX(W/2)).force("y",T.forceY($/2)).alpha(.3).alphaDecay(.08).alphaMin(.001),bt=new Promise(function(_t){ct.on("end",function(){B.forEach(function(Et){var Tt=q.find(function(ot){return ot.id===Et.id});Tt&&(Et.x=Tt.x,Et.y=Tt.y)});var St=Math.min.apply(Math,B.map(function(Et){return Et.x})),At=Math.max.apply(Math,B.map(function(Et){return Et.x})),vt=Math.min.apply(Math,B.map(function(Et){return Et.y})),dt=Math.max.apply(Math,B.map(function(Et){return Et.y})),gt=W/(At-St),Ct=$/(dt-vt);B.forEach(function(Et){Et.x!==void 0&&gt<1&&(Et.x=(Et.x-St)*gt),Et.y!==void 0&&Ct<1&&(Et.y=(Et.y-vt)*Ct)}),B.forEach(function(Et){Et.sizeTemp=Et.size,Et.size=[10,10]}),(0,M.default)(B,z),B.forEach(function(Et){Et.size=Et.sizeTemp||[],delete Et.sizeTemp}),(0,F.default)({nodes:B,edges:z},k),_t()})});return bt}R.default=L},88221:function(at,R,d){"use strict";var x=this&&this.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(R,"__esModule",{value:!0});var b=x(d(28611));function P(_,O){if(!_.nodes||_.nodes.length===0)return _;var T=O.width,F=O.height,M=O.nodeMinGap,A=1e4,L=1e4;_.nodes.forEach(function(nt){var ct=nt.size[0]||50,bt=nt.size[1]||50;A=Math.min(ct,A),L=Math.min(bt,L)});var I=new b.default;I.init(T,F,{CELL_H:L,CELL_W:A}),_.nodes.forEach(function(nt){var ct=I.occupyNearest(nt);ct&&(ct.node={id:nt.id,size:nt.size},nt.x=ct.x,nt.y=ct.y,nt.dx=ct.dx,nt.dy=ct.dy)});for(var k=0;k<_.nodes.length;k++){var B=_.nodes[k],z=I.findGridByNodeId(B.id);if(!z)throw new Error("can not find node cell");var W=z.column,$=z.row;if(B.size[0]+M>A){for(var K=Math.ceil((B.size[0]+M)/A)-1,lt=K,st=0;st<K;st++){var yt=I.additionColumn.indexOf(W+st+1)>-1;if(yt&&!I.cells[W+st+1][$].node)lt--;else break}I.insertColumn(W,lt)}if(B.size[1]+M>L){for(var K=Math.ceil((B.size[1]+M)/L)-1,lt=K,st=0;st<K;st++){var yt=I.additionRow.indexOf($+st+1)>-1;if(yt&&!I.cells[W][$+st+1].node)lt--;else break}I.insertRow($,lt)}}for(var k=0;k<I.columnNum;k++)for(var q=function(ct){var bt=I.cells[k][ct];if(bt.node){var _t=_.nodes.find(function(St){var At;return St.id===((At=bt==null?void 0:bt.node)===null||At===void 0?void 0:At.id)});_t&&(_t.x=bt.x+_t.size[0]/2,_t.y=bt.y+_t.size[1]/2)}},st=0;st<I.rowNum;st++)q(st)}R.default=P},28611:function(at,R){"use strict";var d=this&&this.__assign||function(){return d=Object.assign||function(b){for(var P,_=1,O=arguments.length;_<O;_++){P=arguments[_];for(var T in P)Object.prototype.hasOwnProperty.call(P,T)&&(b[T]=P[T])}return b},d.apply(this,arguments)};Object.defineProperty(R,"__esModule",{value:!0});var x=function(){function b(){this.cells=[],this.columnNum=0,this.rowNum=0,this.additionColumn=[],this.additionRow=[]}return b.prototype.init=function(P,_,O){this.cells=[],this.CELL_W=O.CELL_W||b.DEFAULT_CELL_W,this.CELL_H=O.CELL_H||b.DEFAULT_CELL_H,this.columnNum=Math.ceil(P/this.CELL_W),this.rowNum=Math.ceil(_/this.CELL_H),b.MIN_DIST=Math.pow(P,2)+Math.pow(_,2);for(var T=0;T<this.columnNum;T++){for(var F=[],M=0;M<this.rowNum;M++){var A={dx:T,dy:M,x:T*this.CELL_W,y:M*this.CELL_H,occupied:!1};F.push(A)}this.cells.push(F)}},b.prototype.findGridByNodeId=function(P){for(var _,O,T=0;T<this.columnNum;T++)for(var F=0;F<this.rowNum;F++)if(this.cells[T][F].node&&((O=(_=this.cells[T][F])===null||_===void 0?void 0:_.node)===null||O===void 0?void 0:O.id)===P)return{column:T,row:F};return null},b.prototype.sqdist=function(P,_){return Math.pow(P.x-_.x,2)+Math.pow(P.y-_.y,2)},b.prototype.occupyNearest=function(P){for(var _=b.MIN_DIST,O,T=null,F=0;F<this.columnNum;F++)for(var M=0;M<this.rowNum;M++)!this.cells[F][M].occupied&&(O=this.sqdist(P,this.cells[F][M]))<_&&(_=O,T=this.cells[F][M]);return T&&(T.occupied=!0),T},b.prototype.insertColumn=function(P,_){if(!(_<=0)){for(var O=0;O<_;O++){this.cells[O+this.columnNum]=[];for(var T=0;T<this.rowNum;T++)this.cells[O+this.columnNum][T]={dx:O,dy:T,x:O*this.CELL_W,y:T*this.CELL_H,occupied:!1,node:null}}for(var O=this.columnNum-1;O>P;O--)for(var T=0;T<this.rowNum;T++)this.cells[O+_][T]=d(d({},this.cells[O][T]),{x:(O+_)*this.CELL_W,y:T*this.CELL_H}),this.cells[O][T]={x:O*this.CELL_W,y:T*this.CELL_H,occupied:!0,node:null};for(var T=0;T<this.additionColumn.length;T++)this.additionColumn[T]>=P&&(this.additionColumn[T]+=_);for(var O=0;O<_;O++)this.additionColumn.push(P+O+1);this.columnNum+=_}},b.prototype.insertRow=function(P,_){if(!(_<=0)){for(var O=0;O<_;O++)for(var T=0;T<this.columnNum;T++)this.cells[T][O+this.rowNum]={dx:T,dy:O,x:T*this.CELL_W,y:O*this.CELL_H,occupied:!1,node:null};for(var T=0;T<this.columnNum;T++)for(var O=this.rowNum-1;O>P;O--)this.cells[T][O+_]=d(d({},this.cells[T][O]),{dx:T,dy:O+_,x:T*this.CELL_W,y:(O+_)*this.CELL_H}),this.cells[T][O]={dx:T,dy:O,x:T*this.CELL_W,y:O*this.CELL_H,occupied:!1,node:null};for(var O=0;O<this.additionRow.length;O++)this.additionRow[O]>=P&&(this.additionRow[O]+=_);for(var T=0;T<_;T++)this.additionRow.push(P+T+1);this.rowNum+=_}},b.prototype.getNodes=function(){for(var P=[],_=0;_<this.columnNum;_++)for(var O=0;O<this.rowNum;O++)this.cells[_][O].node&&P.push(this.cells[_][O]);return P},b.MIN_DIST=50,b.DEFAULT_CELL_W=80,b.DEFAULT_CELL_H=80,b}();R.default=x},90441:function(at,R,d){"use strict";var x=this&&this.__extends||function(){var T=function(F,M){return T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,L){A.__proto__=L}||function(A,L){for(var I in L)Object.prototype.hasOwnProperty.call(L,I)&&(A[I]=L[I])},T(F,M)};return function(F,M){if(typeof M!="function"&&M!==null)throw new TypeError("Class extends value "+String(M)+" is not a constructor or null");T(F,M);function A(){this.constructor=F}F.prototype=M===null?Object.create(M):(A.prototype=M.prototype,new A)}}(),b=this&&this.__importDefault||function(T){return T&&T.__esModule?T:{default:T}};Object.defineProperty(R,"__esModule",{value:!0}),R.ERLayout=void 0;var P=d(62329),_=b(d(34015)),O=function(T){x(F,T);function F(M){var A=T.call(this)||this;return A.width=300,A.height=300,A.nodeMinGap=50,A.onLayoutEnd=function(){},M&&A.updateCfg(M),A}return F.prototype.getDefaultCfg=function(){return{width:300,height:300,nodeMinGap:50}},F.prototype.execute=function(){var M=this,A=M.nodes,L=M.edges;return A==null||A.forEach(function(I){I.size||(I.size=[50,50])}),(0,_.default)({nodes:A,edges:L},{width:this.width,height:this.height,nodeMinGap:this.nodeMinGap}).then(function(){M.onLayoutEnd&&M.onLayoutEnd()})},F.prototype.getType=function(){return"er"},F}(P.Base);R.ERLayout=O},87064:function(at,R){"use strict";Object.defineProperty(R,"__esModule",{value:!0});var d=1200,x=800,b=1e7,P=10,_=3.141592653589793,O=1.5707963267948966,T=_*.375,F=_*.625,M=new Map,A=10,L=10,I=.8,k=.1,B=.5;function z(q,nt,ct){var bt=q.x-q.size[0]/2,_t=q.y-q.size[1]/2,St=q.x+q.size[0]/2,At=q.y+q.size[1]/2,vt=nt.x-nt.size[0]/2,dt=nt.y-nt.size[1]/2,gt=nt.x+nt.size[0]/2,Ct=nt.y+nt.size[1]/2,Et=q.x,Tt=q.y,ot=nt.x,Mt=nt.y,Wt=ot-Et,jt=Math.atan2(Wt,Mt-Tt),qt=0,se=0,ae=0,he=0;jt>O?(se=_t-Ct,qt=vt-St,ae=parseFloat(se?(se/Math.cos(jt)).toFixed(2):qt.toFixed(2)),he=parseFloat(qt?(qt/Math.sin(jt)).toFixed(2):se.toFixed(2))):0<jt&&jt<=O?(se=dt-At,qt=vt-St,se>qt?ae=he=parseFloat(se?(se/Math.cos(jt)).toFixed(2):qt.toFixed(2)):ae=he=parseFloat(qt?(qt/Math.sin(jt)).toFixed(2):se.toFixed(2))):jt<-O?(se=_t-Ct,qt=-(gt-bt),se>qt?ae=he=parseFloat(se?(se/Math.cos(jt)).toFixed(2):qt.toFixed(2)):ae=he=parseFloat(qt?(qt/Math.sin(jt)).toFixed(2):se.toFixed(2))):(se=dt-At,Math.abs(Wt)>(St-bt)/2?qt=bt-gt:qt=Wt,se>qt?ae=he=parseFloat(se?(se/Math.cos(jt)).toFixed(2):qt.toFixed(2)):ae=he=parseFloat(qt&&jt!==0?(qt/Math.sin(jt)).toFixed(2):se.toFixed(2)));var ke=parseFloat(jt.toFixed(2)),Le=ct;return ct&&(Le=T<ke&&ke<F),{distance:Math.abs(ae<he?ae:he),isHoriz:Le}}function W(q,nt){var ct=M.get(q.id)||[],bt=ct.find(function(ze){return ze.source===nt.id||ze.target===nt.id}),_t=q.size[0]*q.size[1],St=nt.size[0]*nt.size[1],At=_t>St?nt:q,vt=_t>St?q:nt,dt=At.x-At.size[0]/2,gt=At.y-At.size[1]/2,Ct=At.x+At.size[0]/2,Et=At.y+At.size[1]/2,Tt=vt.x-vt.size[0]/2,ot=vt.y-vt.size[1]/2,Mt=vt.x+vt.size[0]/2,Wt=vt.y+vt.size[1]/2,jt=At.x,qt=At.y,se=vt.x,ae=vt.y,he=Ct>=Tt&&Mt>=dt&&Et>=ot&&Wt>=gt,ke=0,Le=0;if(he){Le=Math.sqrt(Math.pow(se-jt,2)+Math.pow(ae-qt,2));var rr=dt>Tt?dt:Tt,Ee=gt>ot?gt:ot,ge=Ct<Mt?Ct:Mt,we=Et<Wt?Et:Wt,Ce=ge-rr,ye=we-Ee,Gt=Ce*ye;Le===0&&(Le=1e-7),ke=P*1/Le*100+Gt,ke*=b}else{var Xt=!1,Kt=z(At,vt,Xt);Le=Kt.distance,Xt=Kt.isHoriz,Le<=P?Le!==0?bt?ke+=P+b*1/Le:ke+=P+b*P/Le:ke+=b:(ke+=Le,bt&&(ke+=Le*Le))}return ke}function $(q){for(var nt=0,ct=0;ct<q.length;ct++){var bt=q[ct];(bt.x<0||bt.y<0||bt.x>d||bt.y>x)&&(nt+=1e12);for(var _t=ct+1;_t<q.length;_t++)nt+=W(bt,q[_t])}return nt}function K(q,nt,ct,bt){var _t=new Map;ct.forEach(function(jt,qt){_t.set(jt.id,jt)});var St=bt.filter(function(jt){return jt.source===q.id||jt.target===q.id})||[],At=[];St.forEach(function(jt){var qt=jt.source===q.id?jt.target:jt.source,se=_t.get(qt);se&&At.push(se)});for(var vt=!0,dt=0;dt<At.length;dt++){var gt=At[dt],Ct=Math.atan((q.y-gt.y)/(gt.x-q.y))*180,Et=Math.atan((nt.y-gt.y)/(gt.x-nt.y))*180,Tt=Ct<30||Ct>150,ot=Et<30||Et>150,Mt=Ct>70&&Ct<110,Wt=Et>70&&Et<110;if(Tt&&!ot||Ct*Et<0){vt=!1;break}else if(Mt&&!Wt||Ct*Et<0){vt=!1;break}else if((gt.x-q.x)*(gt.x-nt.x)<0){vt=!1;break}else if((gt.y-q.y)*(gt.y-nt.y)<0){vt=!1;break}}return vt}function lt(q,nt){for(var ct=!1,bt=1,_t=A*bt,St=L*bt,At=[_t,-_t,0,0],vt=[0,0,St,-St],dt=0;dt<q.length;++dt)for(var gt=q[dt],Ct=st(gt,q),Et=0;Et<At.length;Et++){var Tt=K(gt,{x:gt.x+At[Et],y:gt.y+vt[Et]},q,nt);if(Tt){gt.x+=At[Et],gt.y+=vt[Et];var ot=st(gt,q),Mt=Math.random();ot<Ct||Mt<I&&Mt>k?(Ct=ot,ct=!0):(gt.x-=At[Et],gt.y-=vt[Et])}}return I>k&&(I*=B),ct?$(q):0}function st(q,nt){var ct=0;(q.x<0||q.y<0||q.x+q.size[0]+20>d||q.y+q.size[1]+20>x)&&(ct+=1e12);for(var bt=0;bt<nt.length;++bt)q.id!==nt[bt].id&&(ct+=W(q,nt[bt]));return ct}function yt(q,nt){if(q.length===0)return{nodes:q,edges:nt};q.forEach(function(gt){var Ct=nt.filter(function(Et){return Et.source===gt.id||Et.target===gt.id});M.set(gt,Ct)}),q.sort(function(gt,Ct){var Et,Tt;return((Et=M.get(gt.id))===null||Et===void 0?void 0:Et.length)-((Tt=M.get(Ct.id))===null||Tt===void 0?void 0:Tt.length)});for(var ct=$(q),bt=20,_t=1,St=0,At=50,vt=0;bt>0&&(vt++,!(vt>=At));){var dt=lt(q,nt);dt!==0&&(St=dt),_t=St-ct,ct=St,_t===0?--bt:bt=20}return q.forEach(function(gt){gt.x=gt.x-gt.size[0]/2,gt.y=gt.y-gt.size[1]/2}),{nodes:q,edges:nt}}R.default=yt},19712:function(at,R){"use strict";Object.defineProperty(R,"__esModule",{value:!0});var d=function(){function x(b){this.id=b.id||0,this.rx=b.rx,this.ry=b.ry,this.fx=0,this.fy=0,this.mass=b.mass,this.degree=b.degree,this.g=b.g||0}return x.prototype.distanceTo=function(b){var P=this.rx-b.rx,_=this.ry-b.ry;return Math.hypot(P,_)},x.prototype.setPos=function(b,P){this.rx=b,this.ry=P},x.prototype.resetForce=function(){this.fx=0,this.fy=0},x.prototype.addForce=function(b){var P=b.rx-this.rx,_=b.ry-this.ry,O=Math.hypot(P,_);O=O<1e-4?1e-4:O;var T=this.g*(this.degree+1)*(b.degree+1)/O;this.fx+=T*P/O,this.fy+=T*_/O},x.prototype.in=function(b){return b.contains(this.rx,this.ry)},x.prototype.add=function(b){var P=this.mass+b.mass,_=(this.rx*this.mass+b.rx*b.mass)/P,O=(this.ry*this.mass+b.ry*b.mass)/P,T=this.degree+b.degree,F={rx:_,ry:O,mass:P,degree:T};return new x(F)},x}();R.default=d},48564:function(at,R,d){"use strict";var x=this&&this.__extends||function(){var A=function(L,I){return A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,B){k.__proto__=B}||function(k,B){for(var z in B)Object.prototype.hasOwnProperty.call(B,z)&&(k[z]=B[z])},A(L,I)};return function(L,I){if(typeof I!="function"&&I!==null)throw new TypeError("Class extends value "+String(I)+" is not a constructor or null");A(L,I);function k(){this.constructor=L}L.prototype=I===null?Object.create(I):(k.prototype=I.prototype,new k)}}(),b=this&&this.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};Object.defineProperty(R,"__esModule",{value:!0}),R.ForceAtlas2Layout=void 0;var P=d(62329),_=d(49784),O=b(d(19712)),T=b(d(51638)),F=b(d(62732)),M=function(A){x(L,A);function L(I){var k=A.call(this)||this;return k.center=[0,0],k.width=300,k.height=300,k.nodes=[],k.edges=[],k.kr=5,k.kg=1,k.mode="normal",k.preventOverlap=!1,k.dissuadeHubs=!1,k.barnesHut=void 0,k.maxIteration=0,k.ks=.1,k.ksmax=10,k.tao=.1,k.onLayoutEnd=function(){},k.prune=void 0,k.updateCfg(I),k}return L.prototype.getDefaultCfg=function(){return{}},L.prototype.execute=function(){var I=this,k=I.nodes,B=I.onLayoutEnd,z=I.prune,W=I.maxIteration;!I.width&&typeof window!="undefined"&&(I.width=window.innerWidth),!I.height&&typeof window!="undefined"&&(I.height=window.innerHeight);for(var $=[],K=k.length,lt=0;lt<K;lt+=1){var st=k[lt],yt=10,q=10;(0,_.isNumber)(st.size)&&(yt=st.size,q=st.size),(0,_.isArray)(st.size)?(isNaN(st.size[0])||(yt=st.size[0]),isNaN(st.size[1])||(q=st.size[1])):(0,_.isObject)(st.size)&&(yt=st.size.width,q=st.size.height),I.getWidth&&!isNaN(I.getWidth(st))&&(q=I.getWidth(st)),I.getHeight&&!isNaN(I.getHeight(st))&&(yt=I.getHeight(st));var nt=Math.max(yt,q);$.push(nt)}I.barnesHut===void 0&&K>250&&(I.barnesHut=!0),I.prune===void 0&&K>100&&(I.prune=!0),this.maxIteration===0&&!I.prune?(W=250,K<=200&&K>100?W=1e3:K>200&&(W=1200),this.maxIteration=W):this.maxIteration===0&&z&&(W=100,K<=200&&K>100?W=500:K>200&&(W=950),this.maxIteration=W),I.kr||(I.kr=50,K>100&&K<=500?I.kr=20:K>500&&(I.kr=1)),I.kg||(I.kg=20,K>100&&K<=500?I.kg=10:K>500&&(I.kg=1)),this.nodes=I.updateNodesByForces($),B()},L.prototype.updateNodesByForces=function(I){for(var k=this,B=k.edges,z=k.maxIteration,W=k.nodes,$=B.filter(function(Et){var Tt=(0,_.getEdgeTerminal)(Et,"source"),ot=(0,_.getEdgeTerminal)(Et,"target");return Tt!==ot}),K=W.length,lt=$.length,st=[],yt={},q={},nt=[],ct=0;ct<K;ct+=1)yt[W[ct].id]=ct,st[ct]=0,(W[ct].x===void 0||isNaN(W[ct].x))&&(W[ct].x=Math.random()*1e3),(W[ct].y===void 0||isNaN(W[ct].y))&&(W[ct].y=Math.random()*1e3),nt.push({x:W[ct].x,y:W[ct].y});for(var ct=0;ct<lt;ct+=1){for(var bt=void 0,_t=void 0,St=0,At=0,vt=0;vt<K;vt+=1){var dt=(0,_.getEdgeTerminal)($[ct],"source"),gt=(0,_.getEdgeTerminal)($[ct],"target");W[vt].id===dt?(bt=W[vt],St=vt):W[vt].id===gt&&(_t=W[vt],At=vt),q[ct]={sourceIdx:St,targetIdx:At}}bt&&(st[yt[bt.id]]+=1),_t&&(st[yt[_t.id]]+=1)}var Ct=z;if(W=this.iterate(Ct,yt,q,lt,st,I),k.prune){for(var vt=0;vt<lt;vt+=1)st[q[vt].sourceIdx]<=1?(W[q[vt].sourceIdx].x=W[q[vt].targetIdx].x,W[q[vt].sourceIdx].y=W[q[vt].targetIdx].y):st[q[vt].targetIdx]<=1&&(W[q[vt].targetIdx].x=W[q[vt].sourceIdx].x,W[q[vt].targetIdx].y=W[q[vt].sourceIdx].y);k.prune=!1,k.barnesHut=!1,Ct=100,W=this.iterate(Ct,yt,q,lt,st,I)}return W},L.prototype.iterate=function(I,k,B,z,W,$){for(var K=this,lt=K.nodes,st=K.kr,yt=K.preventOverlap,q=K.barnesHut,nt=lt.length,ct=0,bt=100,_t=I,St=50,At=[],vt=[],dt=[],gt=0;gt<nt;gt+=1)if(At[2*gt]=0,At[2*gt+1]=0,q){var Ct={id:gt,rx:lt[gt].x,ry:lt[gt].y,mass:1,g:st,degree:W[gt]};dt[gt]=new O.default(Ct)}for(;_t>0;){for(var gt=0;gt<nt;gt+=1)vt[2*gt]=At[2*gt],vt[2*gt+1]=At[2*gt+1],At[2*gt]=0,At[2*gt+1]=0;At=this.getAttrForces(_t,St,z,k,B,W,$,At),q&&(yt&&_t>St||!yt)?At=this.getOptRepGraForces(At,dt,W):At=this.getRepGraForces(_t,St,At,bt,$,W);var Et=this.updatePos(At,vt,ct,W);lt=Et.nodes,ct=Et.sg,_t--,K.tick&&K.tick()}return lt},L.prototype.getAttrForces=function(I,k,B,z,W,$,K,lt){for(var st=this,yt=st.nodes,q=st.preventOverlap,nt=st.dissuadeHubs,ct=st.mode,bt=st.prune,_t=0;_t<B;_t+=1){var St=yt[W[_t].sourceIdx],At=W[_t].sourceIdx,vt=yt[W[_t].targetIdx],dt=W[_t].targetIdx;if(!(bt&&($[At]<=1||$[dt]<=1))){var gt=[vt.x-St.x,vt.y-St.y],Ct=Math.hypot(gt[0],gt[1]);Ct=Ct<1e-4?1e-4:Ct,gt[0]=gt[0]/Ct,gt[1]=gt[1]/Ct,q&&I<k&&(Ct=Ct-K[At]-K[dt]);var Et=Ct,Tt=Et;ct==="linlog"&&(Et=Math.log(1+Ct),Tt=Et),nt&&(Et=Ct/$[At],Tt=Ct/$[dt]),q&&I<k&&Ct<=0?(Et=0,Tt=0):q&&I<k&&Ct>0&&(Et=Ct,Tt=Ct),lt[2*z[St.id]]+=Et*gt[0],lt[2*z[vt.id]]-=Tt*gt[0],lt[2*z[St.id]+1]+=Et*gt[1],lt[2*z[vt.id]+1]-=Tt*gt[1]}}return lt},L.prototype.getRepGraForces=function(I,k,B,z,W,$){for(var K=this,lt=K.nodes,st=K.preventOverlap,yt=K.kr,q=K.kg,nt=K.center,ct=K.prune,bt=lt.length,_t=0;_t<bt;_t+=1){for(var St=_t+1;St<bt;St+=1)if(!(ct&&($[_t]<=1||$[St]<=1))){var At=[lt[St].x-lt[_t].x,lt[St].y-lt[_t].y],vt=Math.hypot(At[0],At[1]);vt=vt<1e-4?1e-4:vt,At[0]=At[0]/vt,At[1]=At[1]/vt,st&&I<k&&(vt=vt-W[_t]-W[St]);var dt=yt*($[_t]+1)*($[St]+1)/vt;st&&I<k&&vt<0?dt=z*($[_t]+1)*($[St]+1):st&&I<k&&vt===0?dt=0:st&&I<k&&vt>0&&(dt=yt*($[_t]+1)*($[St]+1)/vt),B[2*_t]-=dt*At[0],B[2*St]+=dt*At[0],B[2*_t+1]-=dt*At[1],B[2*St+1]+=dt*At[1]}var gt=[lt[_t].x-nt[0],lt[_t].y-nt[1]],Ct=Math.hypot(gt[0],gt[1]);gt[0]=gt[0]/Ct,gt[1]=gt[1]/Ct;var Et=q*($[_t]+1);B[2*_t]-=Et*gt[0],B[2*_t+1]-=Et*gt[1]}return B},L.prototype.getOptRepGraForces=function(I,k,B){for(var z=this,W=z.nodes,$=z.kg,K=z.center,lt=z.prune,st=W.length,yt=9e10,q=-9e10,nt=9e10,ct=-9e10,bt=0;bt<st;bt+=1)lt&&B[bt]<=1||(k[bt].setPos(W[bt].x,W[bt].y),W[bt].x>=q&&(q=W[bt].x),W[bt].x<=yt&&(yt=W[bt].x),W[bt].y>=ct&&(ct=W[bt].y),W[bt].y<=nt&&(nt=W[bt].y));for(var _t=Math.max(q-yt,ct-nt),St={xmid:(q+yt)/2,ymid:(ct+nt)/2,length:_t,massCenter:K,mass:st},At=new T.default(St),vt=new F.default(At),bt=0;bt<st;bt+=1)lt&&B[bt]<=1||k[bt].in(At)&&vt.insert(k[bt]);for(var bt=0;bt<st;bt+=1)if(!(lt&&B[bt]<=1)){k[bt].resetForce(),vt.updateForce(k[bt]),I[2*bt]-=k[bt].fx,I[2*bt+1]-=k[bt].fy;var dt=[W[bt].x-K[0],W[bt].y-K[1]],gt=Math.hypot(dt[0],dt[1]);gt=gt<1e-4?1e-4:gt,dt[0]=dt[0]/gt,dt[1]=dt[1]/gt;var Ct=$*(B[bt]+1);I[2*bt]-=Ct*dt[0],I[2*bt+1]-=Ct*dt[1]}return I},L.prototype.updatePos=function(I,k,B,z){for(var W=this,$=W.nodes,K=W.ks,lt=W.tao,st=W.prune,yt=W.ksmax,q=$.length,nt=[],ct=[],bt=0,_t=0,St=0;St<q;St+=1)if(!(st&&z[St]<=1)){var At=[I[2*St]-k[2*St],I[2*St+1]-k[2*St+1]],vt=Math.hypot(At[0],At[1]),dt=[I[2*St]+k[2*St],I[2*St+1]+k[2*St+1]],gt=Math.hypot(dt[0],dt[1]);nt[St]=vt,ct[St]=gt/2,bt+=(z[St]+1)*nt[St],_t+=(z[St]+1)*ct[St]}var Ct=B;B=lt*_t/bt,Ct!==0&&(B=B>1.5*Ct?1.5*Ct:B);for(var St=0;St<q;St+=1)if(!(st&&z[St]<=1)){var Et=K*B/(1+B*Math.sqrt(nt[St])),Tt=Math.hypot(I[2*St],I[2*St+1]);Tt=Tt<1e-4?1e-4:Tt;var ot=yt/Tt;Et=Et>ot?ot:Et;var Mt=Et*I[2*St],Wt=Et*I[2*St+1];$[St].x+=Mt,$[St].y+=Wt}return{nodes:$,sg:B}},L}(P.Base);R.ForceAtlas2Layout=M},51638:function(at,R){"use strict";Object.defineProperty(R,"__esModule",{value:!0});var d=function(){function x(b){this.xmid=b.xmid,this.ymid=b.ymid,this.length=b.length,this.massCenter=b.massCenter||[0,0],this.mass=b.mass||1}return x.prototype.getLength=function(){return this.length},x.prototype.contains=function(b,P){var _=this.length/2;return b<=this.xmid+_&&b>=this.xmid-_&&P<=this.ymid+_&&P>=this.ymid-_},x.prototype.NW=function(){var b=this.xmid-this.length/4,P=this.ymid+this.length/4,_=this.length/2,O={xmid:b,ymid:P,length:_},T=new x(O);return T},x.prototype.NE=function(){var b=this.xmid+this.length/4,P=this.ymid+this.length/4,_=this.length/2,O={xmid:b,ymid:P,length:_},T=new x(O);return T},x.prototype.SW=function(){var b=this.xmid-this.length/4,P=this.ymid-this.length/4,_=this.length/2,O={xmid:b,ymid:P,length:_},T=new x(O);return T},x.prototype.SE=function(){var b=this.xmid+this.length/4,P=this.ymid-this.length/4,_=this.length/2,O={xmid:b,ymid:P,length:_},T=new x(O);return T},x}();R.default=d},62732:function(at,R){"use strict";Object.defineProperty(R,"__esModule",{value:!0});var d=function(){function x(b){this.body=null,this.quad=null,this.NW=null,this.NE=null,this.SW=null,this.SE=null,this.theta=.5,b!=null&&(this.quad=b)}return x.prototype.insert=function(b){if(this.body==null){this.body=b;return}this._isExternal()?(this.quad&&(this.NW=new x(this.quad.NW()),this.NE=new x(this.quad.NE()),this.SW=new x(this.quad.SW()),this.SE=new x(this.quad.SE())),this._putBody(this.body),this._putBody(b),this.body=this.body.add(b)):(this.body=this.body.add(b),this._putBody(b))},x.prototype._putBody=function(b){!this.quad||(b.in(this.quad.NW())&&this.NW?this.NW.insert(b):b.in(this.quad.NE())&&this.NE?this.NE.insert(b):b.in(this.quad.SW())&&this.SW?this.SW.insert(b):b.in(this.quad.SE())&&this.SE&&this.SE.insert(b))},x.prototype._isExternal=function(){return this.NW==null&&this.NE==null&&this.SW==null&&this.SE==null},x.prototype.updateForce=function(b){if(!(this.body==null||b===this.body))if(this._isExternal())b.addForce(this.body);else{var P=this.quad?this.quad.getLength():0,_=this.body.distanceTo(b);P/_<this.theta?b.addForce(this.body):(this.NW&&this.NW.updateForce(b),this.NE&&this.NE.updateForce(b),this.SW&&this.SW.updateForce(b),this.SE&&this.SE.updateForce(b))}},x}();R.default=d},89806:function(at,R,d){"use strict";var x=this&&this.__createBinding||(Object.create?function(F,M,A,L){L===void 0&&(L=A),Object.defineProperty(F,L,{enumerable:!0,get:function(){return M[A]}})}:function(F,M,A,L){L===void 0&&(L=A),F[L]=M[A]}),b=this&&this.__setModuleDefault||(Object.create?function(F,M){Object.defineProperty(F,"default",{enumerable:!0,value:M})}:function(F,M){F.default=M}),P=this&&this.__importStar||function(F){if(F&&F.__esModule)return F;var M={};if(F!=null)for(var A in F)A!=="default"&&Object.prototype.hasOwnProperty.call(F,A)&&x(M,F,A);return b(M,F),M};Object.defineProperty(R,"__esModule",{value:!0});var _=P(d(19201)),O=d(49784);function T(){function F(we){return function(){return we}}var M=function(we){return we.cluster},A=F(1),L=F(-1),I=F(100),k=F(.1),B=[0,0],z=[],W={},$=[],K=100,lt=100,st={none:{x:0,y:0}},yt=[],q,nt="force",ct=!0,bt=.1;function _t(we){if(!ct)return _t;q.tick(),Ct();for(var Ce=0,ye=z.length,Gt=void 0,Xt=we*bt;Ce<ye;++Ce)Gt=z[Ce],Gt.vx+=(st[M(Gt)].x-Gt.x)*Xt,Gt.vy+=(st[M(Gt)].y-Gt.y)*Xt}function St(){!z||At()}function At(){if(!(!z||!z.length)){if(M(z[0])===void 0)throw Error("Couldnt find the grouping attribute for the nodes. Make sure to set it up with forceInABox.groupBy('clusterAttr') before calling .links()");var we=vt();q=_.forceSimulation(we.nodes).force("x",_.forceX(K).strength(.1)).force("y",_.forceY(lt).strength(.1)).force("collide",_.forceCollide(function(Ce){return Ce.r}).iterations(4)).force("charge",_.forceManyBody().strength(L)).force("links",_.forceLink(we.nodes.length?we.links:[]).distance(I).strength(k)),yt=q.nodes(),Ct()}}function vt(){var we=[],Ce=[],ye={},Gt=[],Xt={},Kt=[];return Xt=dt(z),Kt=gt($),Gt=Object.keys(Xt),Gt.forEach(function(ze,ur){var tr=Xt[ze];we.push({id:ze,size:tr.count,r:Math.sqrt(tr.sumforceNodeSize/Math.PI)}),ye[ze]=ur}),Kt.forEach(function(ze){var ur=(0,O.getEdgeTerminal)(ze,"source"),tr=(0,O.getEdgeTerminal)(ze,"target"),re=ye[ur],Qr=ye[tr];re!==void 0&&Qr!==void 0&&Ce.push({source:re,target:Qr,count:ze.count})}),{nodes:we,links:Ce}}function dt(we){var Ce={};return we.forEach(function(ye){var Gt=M(ye);Ce[Gt]||(Ce[Gt]={count:0,sumforceNodeSize:0})}),we.forEach(function(ye){var Gt=M(ye),Xt=A(ye),Kt=Ce[Gt];Kt.count=Kt.count+1,Kt.sumforceNodeSize=Kt.sumforceNodeSize+Math.PI*(Xt*Xt)*1.3,Ce[Gt]=Kt}),Ce}function gt(we){var Ce={},ye=[];we.forEach(function(Xt){var Kt=Et(Xt),ze=0;Ce[Kt]!==void 0&&(ze=Ce[Kt]),ze+=1,Ce[Kt]=ze});var Gt=Object.entries(Ce);return Gt.forEach(function(Xt){var Kt=Xt[0],ze=Xt[1],ur=Kt.split("~")[0],tr=Kt.split("~")[1];ur!==void 0&&tr!==void 0&&ye.push({source:ur,target:tr,count:ze})}),ye}function Ct(){return st={none:{x:0,y:0}},yt.forEach(function(we){st[we.id]={x:we.x-B[0],y:we.y-B[1]}}),st}function Et(we){var Ce=(0,O.getEdgeTerminal)(we,"source"),ye=(0,O.getEdgeTerminal)(we,"target"),Gt=M(W[Ce]),Xt=M(W[ye]);return Gt<=Xt?Gt+"~"+Xt:Xt+"~"+Gt}function Tt(we){W={},we.forEach(function(Ce){W[Ce.id]=Ce})}function ot(we){return arguments.length?(nt=we,St(),_t):nt}function Mt(we){return arguments.length?typeof we=="string"?(M=function(Ce){return Ce[we]},_t):(M=we,_t):M}function Wt(we){return arguments.length?(ct=we,_t):ct}function jt(we){return arguments.length?(bt=we,_t):bt}function qt(we){return arguments.length?(K=we,_t):K}function se(we){return arguments.length?(lt=we,_t):lt}function ae(we){return arguments.length?(Tt(we||[]),z=we||[],_t):z}function he(we){return arguments.length?($=we||[],St(),_t):$}function ke(we){return arguments.length?(typeof we=="function"?A=we:A=F(+we),St(),_t):A}function Le(we){return arguments.length?(typeof we=="function"?L=we:L=F(+we),St(),_t):L}function rr(we){return arguments.length?(typeof we=="function"?I=we:I=F(+we),St(),_t):I}function Ee(we){return arguments.length?(typeof we=="function"?k=we:k=F(+we),St(),_t):k}function ge(we){return arguments.length?(B=we,_t):B}return _t.initialize=function(we){z=we,St()},_t.template=ot,_t.groupBy=Mt,_t.enableGrouping=Wt,_t.strength=jt,_t.centerX=qt,_t.centerY=se,_t.nodes=ae,_t.links=he,_t.forceNodeSize=ke,_t.nodeSize=_t.forceNodeSize,_t.forceCharge=Le,_t.forceLinkDistance=rr,_t.forceLinkStrength=Ee,_t.offset=ge,_t.getFocis=Ct,_t}R.default=T},8810:function(at,R,d){"use strict";var x=this&&this.__extends||function(){var z=function(W,$){return z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(K,lt){K.__proto__=lt}||function(K,lt){for(var st in lt)Object.prototype.hasOwnProperty.call(lt,st)&&(K[st]=lt[st])},z(W,$)};return function(W,$){if(typeof $!="function"&&$!==null)throw new TypeError("Class extends value "+String($)+" is not a constructor or null");z(W,$);function K(){this.constructor=W}W.prototype=$===null?Object.create($):(K.prototype=$.prototype,new K)}}(),b=this&&this.__createBinding||(Object.create?function(z,W,$,K){K===void 0&&(K=$),Object.defineProperty(z,K,{enumerable:!0,get:function(){return W[$]}})}:function(z,W,$,K){K===void 0&&(K=$),z[K]=W[$]}),P=this&&this.__setModuleDefault||(Object.create?function(z,W){Object.defineProperty(z,"default",{enumerable:!0,value:W})}:function(z,W){z.default=W}),_=this&&this.__importStar||function(z){if(z&&z.__esModule)return z;var W={};if(z!=null)for(var $ in z)$!=="default"&&Object.prototype.hasOwnProperty.call(z,$)&&b(W,z,$);return P(W,z),W},O=this&&this.__importDefault||function(z){return z&&z.__esModule?z:{default:z}};Object.defineProperty(R,"__esModule",{value:!0}),R.ForceLayout=void 0;var T=_(d(19201)),F=O(d(89806)),M=d(49784),A=d(62329),L=d(16470),I=function(z){x(W,z);function W($){var K=z.call(this)||this;return K.center=[0,0],K.nodeStrength=null,K.edgeStrength=null,K.preventOverlap=!1,K.clusterNodeStrength=null,K.clusterEdgeStrength=null,K.clusterEdgeDistance=null,K.clusterNodeSize=null,K.clusterFociStrength=null,K.linkDistance=50,K.alphaDecay=.028,K.alphaMin=.001,K.alpha=.3,K.collideStrength=1,K.workerEnabled=!1,K.tick=function(){},K.onLayoutEnd=function(){},K.ticking=void 0,$&&K.updateCfg($),K}return W.prototype.getDefaultCfg=function(){return{center:[0,0],nodeStrength:null,edgeStrength:null,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,linkDistance:50,forceSimulation:null,alphaDecay:.028,alphaMin:.001,alpha:.3,collideStrength:1,clustering:!1,clusterNodeStrength:-1,clusterEdgeStrength:.1,clusterEdgeDistance:100,clusterFociStrength:.8,clusterNodeSize:10,tick:function(){},onLayoutEnd:function(){},workerEnabled:!1}},W.prototype.init=function($){var K=this;K.nodes=$.nodes||[];var lt=$.edges||[];K.edges=lt.map(function(st){var yt={},q=["targetNode","sourceNode","startPoint","endPoint"];return Object.keys(st).forEach(function(nt){q.indexOf(nt)>-1||(yt[nt]=st[nt])}),yt}),K.ticking=!1},W.prototype.execute=function($){var K=this,lt=K.nodes,st=K.edges;if(!K.ticking){var yt=K.forceSimulation,q=K.alphaMin,nt=K.alphaDecay,ct=K.alpha;if(yt){if($){if(K.clustering&&K.clusterForce&&(K.clusterForce.nodes(lt),K.clusterForce.links(st)),yt.nodes(lt),st&&K.edgeForce)K.edgeForce.links(st);else if(st&&!K.edgeForce){var St=T.forceLink().id(function(gt){return gt.id}).links(st);K.edgeStrength&&St.strength(K.edgeStrength),K.linkDistance&&St.distance(K.linkDistance),K.edgeForce=St,yt.force("link",St)}}K.preventOverlap&&K.overlapProcess(yt),yt.alpha(ct).restart(),this.ticking=!0}else try{var bt=T.forceManyBody();if(K.nodeStrength&&bt.strength(K.nodeStrength),yt=T.forceSimulation().nodes(lt),K.clustering){var _t=(0,F.default)();_t.centerX(K.center[0]).centerY(K.center[1]).template("force").strength(K.clusterFociStrength),st&&_t.links(st),lt&&_t.nodes(lt),_t.forceLinkDistance(K.clusterEdgeDistance).forceLinkStrength(K.clusterEdgeStrength).forceCharge(K.clusterNodeStrength).forceNodeSize(K.clusterNodeSize),K.clusterForce=_t,yt.force("group",_t)}if(yt.force("center",T.forceCenter(K.center[0],K.center[1])).force("charge",bt).alpha(ct).alphaDecay(nt).alphaMin(q),K.preventOverlap&&K.overlapProcess(yt),st){var St=T.forceLink().id(function(dt){return dt.id}).links(st);K.edgeStrength&&St.strength(K.edgeStrength),K.linkDistance&&St.distance(K.linkDistance),K.edgeForce=St,yt.force("link",St)}if(K.workerEnabled&&!B()&&(K.workerEnabled=!1,console.warn("workerEnabled option is only supported when running in web worker.")),!K.workerEnabled)yt.on("tick",function(){K.tick()}).on("end",function(){K.ticking=!1,K.onLayoutEnd&&K.onLayoutEnd()}),K.ticking=!0;else{yt.stop();for(var At=k(yt),vt=1;vt<=At;vt++)yt.tick(),postMessage({nodes:lt,currentTick:vt,totalTicks:At,type:L.LAYOUT_MESSAGE.TICK},void 0);K.ticking=!1}K.forceSimulation=yt,K.ticking=!0}catch(dt){K.ticking=!1,console.warn(dt)}}},W.prototype.overlapProcess=function($){var K=this,lt=K.nodeSize,st=K.nodeSpacing,yt,q,nt=K.collideStrength;if((0,M.isNumber)(st)?q=function(){return st}:(0,M.isFunction)(st)?q=st:q=function(){return 0},!lt)yt=function(St){if(St.size){if((0,M.isArray)(St.size)){var At=St.size[0]>St.size[1]?St.size[0]:St.size[1];return At/2+q(St)}if((0,M.isObject)(St.size)){var At=St.size.width>St.size.height?St.size.width:St.size.height;return At/2+q(St)}return St.size/2+q(St)}return 10+q(St)};else if((0,M.isFunction)(lt))yt=function(St){var At=lt(St);return At+q(St)};else if((0,M.isArray)(lt)){var ct=lt[0]>lt[1]?lt[0]:lt[1],bt=ct/2;yt=function(St){return bt+q(St)}}else if((0,M.isNumber)(lt)){var _t=lt/2;yt=function(St){return _t+q(St)}}else yt=function(){return 10};$.force("collisionForce",T.forceCollide(yt).strength(nt))},W.prototype.updateCfg=function($){var K=this;K.ticking&&(K.forceSimulation.stop(),K.ticking=!1),K.forceSimulation=null,Object.assign(K,$)},W.prototype.destroy=function(){var $=this;$.ticking&&($.forceSimulation.stop(),$.ticking=!1),$.nodes=null,$.edges=null,$.destroyed=!0},W}(A.Base);R.ForceLayout=I;function k(z){var W=z.alphaMin(),$=z.alphaTarget(),K=z.alpha(),lt=Math.log((W-$)/(K-$))/Math.log(1-z.alphaDecay()),st=Math.ceil(lt);return st}function B(){return typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope}},85717:function(at,R,d){"use strict";var x=this&&this.__createBinding||(Object.create?function(P,_,O,T){T===void 0&&(T=O),Object.defineProperty(P,T,{enumerable:!0,get:function(){return _[O]}})}:function(P,_,O,T){T===void 0&&(T=O),P[T]=_[O]}),b=this&&this.__exportStar||function(P,_){for(var O in P)O!=="default"&&!Object.prototype.hasOwnProperty.call(_,O)&&x(_,P,O)};Object.defineProperty(R,"__esModule",{value:!0}),b(d(8810),R)},80374:function(at,R,d){"use strict";var x=this&&this.__extends||function(){var T=function(F,M){return T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,L){A.__proto__=L}||function(A,L){for(var I in L)Object.prototype.hasOwnProperty.call(L,I)&&(A[I]=L[I])},T(F,M)};return function(F,M){if(typeof M!="function"&&M!==null)throw new TypeError("Class extends value "+String(M)+" is not a constructor or null");T(F,M);function A(){this.constructor=F}F.prototype=M===null?Object.create(M):(A.prototype=M.prototype,new A)}}();Object.defineProperty(R,"__esModule",{value:!0}),R.FruchtermanLayout=void 0;var b=d(62329),P=d(49784),_=800,O=function(T){x(F,T);function F(M){var A=T.call(this)||this;return A.maxIteration=1e3,A.workerEnabled=!1,A.gravity=10,A.speed=5,A.clustering=!1,A.clusterGravity=10,A.nodes=[],A.edges=[],A.width=300,A.height=300,A.nodeMap={},A.nodeIdxMap={},A.onLayoutEnd=function(){},A.tick=function(){},A.animate=!0,A.updateCfg(M),A}return F.prototype.getDefaultCfg=function(){return{maxIteration:1e3,gravity:10,speed:1,clustering:!1,clusterGravity:10,animate:!0}},F.prototype.execute=function(){var M=this,A,L,I=this,k=I.nodes;if(I.timeInterval!==void 0&&typeof window!="undefined"&&window.clearInterval(I.timeInterval),!k||k.length===0){(A=I.onLayoutEnd)===null||A===void 0||A.call(I);return}!I.width&&typeof window!="undefined"&&(I.width=window.innerWidth),!I.height&&typeof window!="undefined"&&(I.height=window.innerHeight),I.center||(I.center=[I.width/2,I.height/2]);var B=I.center;if(k.length===1){k[0].x=B[0],k[0].y=B[1],(L=I.onLayoutEnd)===null||L===void 0||L.call(I);return}var z={},W={};return k.forEach(function($,K){(0,P.isNumber)($.x)||($.x=Math.random()*M.width),(0,P.isNumber)($.y)||($.y=Math.random()*M.height),z[$.id]=$,W[$.id]=K}),I.nodeMap=z,I.nodeIdxMap=W,I.run()},F.prototype.run=function(){var M,A=this,L=A.nodes;if(!!L){var I=A.edges,k=A.maxIteration,B=A.workerEnabled,z=A.clustering,W=A.animate,$={};if(z&&L.forEach(function(st){$[st.cluster]===void 0&&($[st.cluster]={name:st.cluster,cx:0,cy:0,count:0})}),B||!W){for(var K=0;K<k;K++)A.runOneStep($);(M=A.onLayoutEnd)===null||M===void 0||M.call(A)}else{if(typeof window=="undefined")return;var lt=0;this.timeInterval=window.setInterval(function(){var st;A.runOneStep($),lt++,lt>=k&&((st=A.onLayoutEnd)===null||st===void 0||st.call(A),window.clearInterval(A.timeInterval))},0)}return{nodes:L,edges:I}}},F.prototype.runOneStep=function(M){var A,L=this,I=L.nodes;if(!!I){var k=L.edges,B=L.center,z=L.gravity,W=L.speed,$=L.clustering,K=L.height*L.width,lt=Math.sqrt(K)/10,st=K/(I.length+1),yt=Math.sqrt(st),q=[];if(I.forEach(function(bt,_t){q[_t]={x:0,y:0}}),L.applyCalculate(I,k,q,yt,st),$){for(var nt in M)M[nt].cx=0,M[nt].cy=0,M[nt].count=0;I.forEach(function(bt){var _t=M[bt.cluster];(0,P.isNumber)(bt.x)&&(_t.cx+=bt.x),(0,P.isNumber)(bt.y)&&(_t.cy+=bt.y),_t.count++});for(var nt in M)M[nt].cx/=M[nt].count,M[nt].cy/=M[nt].count;var ct=L.clusterGravity||z;I.forEach(function(bt,_t){if(!(!(0,P.isNumber)(bt.x)||!(0,P.isNumber)(bt.y))){var St=M[bt.cluster],At=Math.sqrt((bt.x-St.cx)*(bt.x-St.cx)+(bt.y-St.cy)*(bt.y-St.cy)),vt=yt*ct;q[_t].x-=vt*(bt.x-St.cx)/At,q[_t].y-=vt*(bt.y-St.cy)/At}})}I.forEach(function(bt,_t){if(!(!(0,P.isNumber)(bt.x)||!(0,P.isNumber)(bt.y))){var St=.01*yt*z;q[_t].x-=St*(bt.x-B[0]),q[_t].y-=St*(bt.y-B[1])}}),I.forEach(function(bt,_t){if((0,P.isNumber)(bt.fx)&&(0,P.isNumber)(bt.fy)){bt.x=bt.fx,bt.y=bt.fy;return}if(!(!(0,P.isNumber)(bt.x)||!(0,P.isNumber)(bt.y))){var St=Math.sqrt(q[_t].x*q[_t].x+q[_t].y*q[_t].y);if(St>0){var At=Math.min(lt*(W/_),St);bt.x+=q[_t].x/St*At,bt.y+=q[_t].y/St*At}}}),(A=L.tick)===null||A===void 0||A.call(L)}},F.prototype.applyCalculate=function(M,A,L,I,k){var B=this;B.calRepulsive(M,L,k),A&&B.calAttractive(A,L,I)},F.prototype.calRepulsive=function(M,A,L){M.forEach(function(I,k){A[k]={x:0,y:0},M.forEach(function(B,z){if(k!==z&&!(!(0,P.isNumber)(I.x)||!(0,P.isNumber)(B.x)||!(0,P.isNumber)(I.y)||!(0,P.isNumber)(B.y))){var W=I.x-B.x,$=I.y-B.y,K=W*W+$*$;if(K===0){K=1;var lt=k>z?1:-1;W=.01*lt,$=.01*lt}var st=L/K;A[k].x+=W*st,A[k].y+=$*st}})})},F.prototype.calAttractive=function(M,A,L){var I=this;M.forEach(function(k){var B=(0,P.getEdgeTerminal)(k,"source"),z=(0,P.getEdgeTerminal)(k,"target");if(!(!B||!z)){var W=I.nodeIdxMap[B],$=I.nodeIdxMap[z];if(W!==$){var K=I.nodeMap[B],lt=I.nodeMap[z];if(!(!(0,P.isNumber)(lt.x)||!(0,P.isNumber)(K.x)||!(0,P.isNumber)(lt.y)||!(0,P.isNumber)(K.y))){var st=lt.x-K.x,yt=lt.y-K.y,q=Math.sqrt(st*st+yt*yt),nt=q*q/L;A[$].x-=st/q*nt,A[$].y-=yt/q*nt,A[W].x+=st/q*nt,A[W].y+=yt/q*nt}}}})},F.prototype.stop=function(){this.timeInterval&&typeof window!="undefined"&&window.clearInterval(this.timeInterval)},F.prototype.destroy=function(){var M=this;M.stop(),M.tick=null,M.nodes=null,M.edges=null,M.destroyed=!0},F.prototype.getType=function(){return"fruchterman"},F}(b.Base);R.FruchtermanLayout=O},13653:function(at,R,d){"use strict";var x=this&&this.__extends||function(){var T=function(F,M){return T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,L){A.__proto__=L}||function(A,L){for(var I in L)Object.prototype.hasOwnProperty.call(L,I)&&(A[I]=L[I])},T(F,M)};return function(F,M){if(typeof M!="function"&&M!==null)throw new TypeError("Class extends value "+String(M)+" is not a constructor or null");T(F,M);function A(){this.constructor=F}F.prototype=M===null?Object.create(M):(A.prototype=M.prototype,new A)}}();Object.defineProperty(R,"__esModule",{value:!0}),R.GForceLayout=void 0;var b=d(62329),P=d(49784),_=function(T,F){var M;return T?(0,P.isNumber)(T)?M=function(A){return T}:M=T:M=function(A){return F||1},M},O=function(T){x(F,T);function F(M){var A=T.call(this)||this;return A.maxIteration=500,A.workerEnabled=!1,A.edgeStrength=200,A.nodeStrength=1e3,A.coulombDisScale=.005,A.damping=.9,A.maxSpeed=1e3,A.minMovement=.5,A.interval=.02,A.factor=1,A.linkDistance=1,A.gravity=10,A.preventOverlap=!0,A.collideStrength=1,A.tick=function(){},A.nodes=[],A.edges=[],A.width=300,A.height=300,A.nodeMap={},A.nodeIdxMap={},A.animate=!0,A.updateCfg(M),A}return F.prototype.getDefaultCfg=function(){return{maxIteration:500,gravity:10,enableTick:!0,animate:!0}},F.prototype.execute=function(){var M,A,L=this,I=L.nodes;if(L.timeInterval!==void 0&&typeof window!="undefined"&&window.clearInterval(L.timeInterval),!I||I.length===0){(M=L.onLayoutEnd)===null||M===void 0||M.call(L);return}!L.width&&typeof window!="undefined"&&(L.width=window.innerWidth),!L.height&&typeof window!="undefined"&&(L.height=window.innerHeight),L.center||(L.center=[L.width/2,L.height/2]);var k=L.center;if(I.length===1){I[0].x=k[0],I[0].y=k[1],(A=L.onLayoutEnd)===null||A===void 0||A.call(L);return}var B={},z={};I.forEach(function(yt,q){(0,P.isNumber)(yt.x)||(yt.x=Math.random()*L.width),(0,P.isNumber)(yt.y)||(yt.y=Math.random()*L.height),B[yt.id]=yt,z[yt.id]=q}),L.nodeMap=B,L.nodeIdxMap=z,L.linkDistance=_(L.linkDistance,1),L.nodeStrength=_(L.nodeStrength,1),L.edgeStrength=_(L.edgeStrength,1);var W=L.nodeSize,$;if(L.preventOverlap){var K=L.nodeSpacing,lt;(0,P.isNumber)(K)?lt=function(){return K}:(0,P.isFunction)(K)?lt=K:lt=function(){return 0},W?(0,P.isArray)(W)?$=function(yt){return Math.max(W[0],W[1])+lt(yt)}:$=function(yt){return W+lt(yt)}:$=function(yt){return yt.size?(0,P.isArray)(yt.size)?Math.max(yt.size[0],yt.size[1])+lt(yt):(0,P.isObject)(yt.size)?Math.max(yt.size.width,yt.size.height)+lt(yt):yt.size+lt(yt):10+lt(yt)}}L.nodeSize=$;var st=L.edges;L.degrees=(0,P.getDegree)(I.length,L.nodeIdxMap,st),L.getMass||(L.getMass=function(yt){var q=yt.mass||L.degrees[L.nodeIdxMap[yt.id]]||1;return q}),L.run()},F.prototype.run=function(){var M,A=this,L=A.maxIteration,I=A.nodes,k=A.workerEnabled,B=A.minMovement,z=A.animate;if(!!I)if(k||!z){for(var W=0;W<L;W++){var $=A.runOneStep(W);if(A.reachMoveThreshold(I,$,B))break}(M=A.onLayoutEnd)===null||M===void 0||M.call(A)}else{if(typeof window=="undefined")return;var K=0;this.timeInterval=window.setInterval(function(){var lt,st;if(!!I){var yt=A.runOneStep(K)||[];A.reachMoveThreshold(I,yt,B)&&((lt=A.onLayoutEnd)===null||lt===void 0||lt.call(A),window.clearInterval(A.timeInterval)),K++,K>=L&&((st=A.onLayoutEnd)===null||st===void 0||st.call(A),window.clearInterval(A.timeInterval))}},0)}},F.prototype.reachMoveThreshold=function(M,A,L){var I=0;return M.forEach(function(k,B){var z=k.x-A[B].x,W=k.y-A[B].y;I+=Math.sqrt(z*z+W*W)}),I/=M.length,I<L},F.prototype.runOneStep=function(M){var A,L=this,I=L.nodes,k=L.edges,B=[],z=[];if(!!I){I.forEach(function(K,lt){B[2*lt]=0,B[2*lt+1]=0,z[2*lt]=0,z[2*lt+1]=0}),L.calRepulsive(B,I),k&&L.calAttractive(B,k),L.calGravity(B,I);var W=Math.max(.02,L.interval-M*.002);L.updateVelocity(B,z,W,I);var $=[];return I.forEach(function(K){$.push({x:K.x,y:K.y})}),L.updatePosition(z,W,I),(A=L.tick)===null||A===void 0||A.call(L),$}},F.prototype.calRepulsive=function(M,A){var L=this,I=L.getMass,k=L.factor,B=L.coulombDisScale,z=L.preventOverlap,W=L.collideStrength,$=W===void 0?1:W,K=L.nodeStrength,lt=L.nodeSize;A.forEach(function(st,yt){var q=I?I(st):1;A.forEach(function(nt,ct){if(!(yt>=ct)){var bt=st.x-nt.x,_t=st.y-nt.y;bt===0&&_t===0&&(bt=Math.random()*.01,_t=Math.random()*.01);var St=bt*bt+_t*_t,At=Math.sqrt(St),vt=(At+.1)*B,dt=bt/At,gt=_t/At,Ct=(K(st)+K(nt))*.5*k/(vt*vt),Et=I?I(nt):1;if(M[2*yt]+=dt*Ct,M[2*yt+1]+=gt*Ct,M[2*ct]-=dt*Ct,M[2*ct+1]-=gt*Ct,z&&(lt(st)+lt(nt))/2>At){var Tt=$*(K(st)+K(nt))*.5/St;M[2*yt]+=dt*Tt/q,M[2*yt+1]+=gt*Tt/q,M[2*ct]-=dt*Tt/Et,M[2*ct+1]-=gt*Tt/Et}}})})},F.prototype.calAttractive=function(M,A){var L=this,I=L.nodeMap,k=L.nodeIdxMap,B=L.linkDistance,z=L.edgeStrength,W=L.nodeSize,$=L.getMass;A.forEach(function(K,lt){var st=(0,P.getEdgeTerminal)(K,"source"),yt=(0,P.getEdgeTerminal)(K,"target"),q=I[st],nt=I[yt],ct=nt.x-q.x,bt=nt.y-q.y;ct===0&&bt===0&&(ct=Math.random()*.01,bt=Math.random()*.01);var _t=Math.sqrt(ct*ct+bt*bt),St=ct/_t,At=bt/_t,vt=B(K,q,nt)||1+(W(q)+W(q)||0)/2,dt=vt-_t,gt=dt*z(K),Ct=k[st],Et=k[yt],Tt=$?$(q):1,ot=$?$(nt):1;M[2*Ct]-=St*gt/Tt,M[2*Ct+1]-=At*gt/Tt,M[2*Et]+=St*gt/ot,M[2*Et+1]+=At*gt/ot})},F.prototype.calGravity=function(M,A){for(var L=this,I=L.center,k=L.gravity,B=L.degrees,z=A.length,W=0;W<z;W++){var $=A[W],K=$.x-I[0],lt=$.y-I[1],st=k;if(L.getCenter){var yt=L.getCenter($,B[W]);yt&&(0,P.isNumber)(yt[0])&&(0,P.isNumber)(yt[1])&&(0,P.isNumber)(yt[2])&&(K=$.x-yt[0],lt=$.y-yt[1],st=yt[2])}!st||(M[2*W]-=st*K,M[2*W+1]-=st*lt)}},F.prototype.updateVelocity=function(M,A,L,I){var k=this,B=L*k.damping;I.forEach(function(z,W){var $=M[2*W]*B||.01,K=M[2*W+1]*B||.01,lt=Math.sqrt($*$+K*K);if(lt>k.maxSpeed){var st=k.maxSpeed/lt;$=st*$,K=st*K}A[2*W]=$,A[2*W+1]=K})},F.prototype.updatePosition=function(M,A,L){L.forEach(function(I,k){if((0,P.isNumber)(I.fx)&&(0,P.isNumber)(I.fy)){I.x=I.fx,I.y=I.fy;return}var B=M[2*k]*A,z=M[2*k+1]*A;I.x+=B,I.y+=z})},F.prototype.stop=function(){this.timeInterval&&typeof window!="undefined"&&window.clearInterval(this.timeInterval)},F.prototype.destroy=function(){var M=this;M.stop(),M.tick=null,M.nodes=null,M.edges=null,M.destroyed=!0},F.prototype.getType=function(){return"gForce"},F}(b.Base);R.GForceLayout=O},87745:function(at,R,d){"use strict";var x=this&&this.__extends||function(){var I=function(k,B){return I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,W){z.__proto__=W}||function(z,W){for(var $ in W)Object.prototype.hasOwnProperty.call(W,$)&&(z[$]=W[$])},I(k,B)};return function(k,B){if(typeof B!="function"&&B!==null)throw new TypeError("Class extends value "+String(B)+" is not a constructor or null");I(k,B);function z(){this.constructor=k}k.prototype=B===null?Object.create(B):(z.prototype=B.prototype,new z)}}(),b=this&&this.__awaiter||function(I,k,B,z){function W($){return $ instanceof B?$:new B(function(K){K($)})}return new(B||(B=Promise))(function($,K){function lt(q){try{yt(z.next(q))}catch(nt){K(nt)}}function st(q){try{yt(z.throw(q))}catch(nt){K(nt)}}function yt(q){q.done?$(q.value):W(q.value).then(lt,st)}yt((z=z.apply(I,k||[])).next())})},P=this&&this.__generator||function(I,k){var B={label:0,sent:function(){if($[0]&1)throw $[1];return $[1]},trys:[],ops:[]},z,W,$,K;return K={next:lt(0),throw:lt(1),return:lt(2)},typeof Symbol=="function"&&(K[Symbol.iterator]=function(){return this}),K;function lt(yt){return function(q){return st([yt,q])}}function st(yt){if(z)throw new TypeError("Generator is already executing.");for(;B;)try{if(z=1,W&&($=yt[0]&2?W.return:yt[0]?W.throw||(($=W.return)&&$.call(W),0):W.next)&&!($=$.call(W,yt[1])).done)return $;switch(W=0,$&&(yt=[yt[0]&2,$.value]),yt[0]){case 0:case 1:$=yt;break;case 4:return B.label++,{value:yt[1],done:!1};case 5:B.label++,W=yt[1],yt=[0];continue;case 7:yt=B.ops.pop(),B.trys.pop();continue;default:if($=B.trys,!($=$.length>0&&$[$.length-1])&&(yt[0]===6||yt[0]===2)){B=0;continue}if(yt[0]===3&&(!$||yt[1]>$[0]&&yt[1]<$[3])){B.label=yt[1];break}if(yt[0]===6&&B.label<$[1]){B.label=$[1],$=yt;break}if($&&B.label<$[2]){B.label=$[2],B.ops.push(yt);break}$[2]&&B.ops.pop(),B.trys.pop();continue}yt=k.call(I,B)}catch(q){yt=[6,q],W=0}finally{z=$=0}if(yt[0]&5)throw yt[1];return{value:yt[0]?yt[1]:void 0,done:!0}}};Object.defineProperty(R,"__esModule",{value:!0}),R.FruchtermanGPULayout=void 0;var _=d(62329),O=d(49784),T=d(66037),F=d(48835),M=d(8574),A=d(16470),L=function(I){x(k,I);function k(B){var z=I.call(this)||this;return z.maxIteration=1e3,z.gravity=10,z.speed=1,z.clustering=!1,z.clusterField="cluster",z.clusterGravity=10,z.workerEnabled=!1,z.nodes=[],z.edges=[],z.width=300,z.height=300,z.nodeMap={},z.nodeIdxMap={},z.updateCfg(B),z}return k.prototype.getDefaultCfg=function(){return{maxIteration:1e3,gravity:10,speed:1,clustering:!1,clusterGravity:10}},k.prototype.execute=function(){return b(this,void 0,void 0,function(){var B,z,W,$,K,lt=this;return P(this,function(st){switch(st.label){case 0:return B=this,z=B.nodes,!z||z.length===0?(B.onLayoutEnd&&B.onLayoutEnd(),[2]):(!B.width&&typeof window!="undefined"&&(B.width=window.innerWidth),!B.height&&typeof window!="undefined"&&(B.height=window.innerHeight),B.center||(B.center=[B.width/2,B.height/2]),W=B.center,z.length===1?(z[0].x=W[0],z[0].y=W[1],B.onLayoutEnd&&B.onLayoutEnd(),[2]):($={},K={},z.forEach(function(yt,q){(0,O.isNumber)(yt.x)||(yt.x=Math.random()*lt.width),(0,O.isNumber)(yt.y)||(yt.y=Math.random()*lt.height),$[yt.id]=yt,K[yt.id]=q}),B.nodeMap=$,B.nodeIdxMap=K,[4,B.run()]));case 1:return st.sent(),[2]}})})},k.prototype.executeWithWorker=function(B,z){return b(this,void 0,void 0,function(){var W,$,K,lt,st,yt=this;return P(this,function(q){switch(q.label){case 0:return W=this,$=W.nodes,K=W.center,!$||$.length===0?[2]:$.length===1?($[0].x=K[0],$[0].y=K[1],[2]):(lt={},st={},$.forEach(function(nt,ct){(0,O.isNumber)(nt.x)||(nt.x=Math.random()*yt.width),(0,O.isNumber)(nt.y)||(nt.y=Math.random()*yt.height),lt[nt.id]=nt,st[nt.id]=ct}),W.nodeMap=lt,W.nodeIdxMap=st,[4,W.run(B,z)]);case 1:return q.sent(),[2]}})})},k.prototype.run=function(B,z){return b(this,void 0,void 0,function(){var W,$,K,lt,st,yt,q,nt,ct,bt,_t,St,At,vt,dt,gt,Ct,Et,Tt,ot,Mt,Wt,jt,qt,se,ae,he=this;return P(this,function(ke){switch(ke.label){case 0:for(W=this,$=W.nodes,K=W.edges,lt=W.maxIteration,st=W.center,yt=W.height*W.width,q=Math.sqrt(yt)/10,nt=yt/($.length+1),ct=Math.sqrt(nt),bt=W.speed,_t=W.clustering,St=(0,F.attributesToTextureData)([W.clusterField],$),At=St.array,vt=St.count,$.forEach(function(Le,rr){var Ee=0,ge=0;(0,O.isNumber)(Le.fx)&&(0,O.isNumber)(Le.fy)&&(Ee=Le.fx||.001,ge=Le.fy||.001),At[4*rr+1]=Ee,At[4*rr+2]=ge}),dt=$.length,gt=(0,F.buildTextureData)($,K),Ct=gt.maxEdgePerVetex,Et=gt.array,Tt=W.workerEnabled,Tt?ot=T.World.create({canvas:B,engineOptions:{supportCompute:!0}}):ot=T.World.create({engineOptions:{supportCompute:!0}}),Mt=W.onLayoutEnd,Wt=[],jt=0;jt<vt;jt++)Wt.push(0,0,0,0);return qt=ot.createKernel(M.fruchtermanBundle).setDispatch([dt,1,1]).setBinding({u_Data:Et,u_K:ct,u_K2:nt,u_Gravity:W.gravity,u_ClusterGravity:W.clusterGravity||W.gravity||1,u_Speed:bt,u_MaxDisplace:q,u_Clustering:_t?1:0,u_Center:st,u_AttributeArray:At,u_ClusterCenters:Wt,MAX_EDGE_PER_VERTEX:Ct,VERTEX_COUNT:dt}),_t&&(se=ot.createKernel(M.clusterBundle).setDispatch([vt,1,1]).setBinding({u_Data:Et,u_NodeAttributes:At,u_ClusterCenters:Wt,VERTEX_COUNT:dt,CLUSTER_COUNT:vt})),ae=function(){return b(he,void 0,void 0,function(){var Le,rr;return P(this,function(Ee){switch(Ee.label){case 0:Le=0,Ee.label=1;case 1:return Le<lt?[4,qt.execute()]:[3,6];case 2:return Ee.sent(),_t?(se.setBinding({u_Data:qt}),[4,se.execute()]):[3,4];case 3:Ee.sent(),qt.setBinding({u_ClusterCenters:se}),Ee.label=4;case 4:qt.setBinding({u_MaxDisplace:q*=.99}),Ee.label=5;case 5:return Le++,[3,1];case 6:return[4,qt.getOutput()];case 7:return rr=Ee.sent(),B?z.postMessage({type:A.LAYOUT_MESSAGE.GPUEND,vertexEdgeData:rr}):$.forEach(function(ge,we){var Ce=rr[4*we],ye=rr[4*we+1];ge.x=Ce,ge.y=ye}),Mt&&Mt(),[2]}})})},[4,ae()];case 1:return ke.sent(),[2]}})})},k.prototype.getType=function(){return"fruchterman-gpu"},k}(_.Base);R.FruchtermanGPULayout=L},8574:function(at,R){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.clusterBundle=R.clusterCode=R.fruchtermanBundle=R.fruchtermanCode=void 0,R.fruchtermanCode=`
import { globalInvocationID } from 'g-webgpu';
const MAX_EDGE_PER_VERTEX;
const VERTEX_COUNT;
@numthreads(1, 1, 1)
class Fruchterman {
  @in @out
  u_Data: vec4[];
  @in
  u_K: float;
  @in
  u_K2: float;
  
  @in
  u_Center: vec2;
  @in
  u_Gravity: float;
  @in
  u_ClusterGravity: float;
  @in
  u_Speed: float;
  @in
  u_MaxDisplace: float;
  @in
  u_Clustering: float;
  @in
  u_AttributeArray: vec4[];
  @in
  u_ClusterCenters: vec4[];
  calcRepulsive(i: int, currentNode: vec4): vec2 {
    let dx = 0, dy = 0;
    for (let j = 0; j < VERTEX_COUNT; j++) {
      if (i != j) {
        const nextNode = this.u_Data[j];
        const xDist = currentNode[0] - nextNode[0];
        const yDist = currentNode[1] - nextNode[1];
        const dist = (xDist * xDist + yDist * yDist) + 0.01;
        let param = this.u_K2 / dist;
        
        if (dist > 0.0) {
          dx += param * xDist;
          dy += param * yDist;
          if (xDist == 0 && yDist == 0) {
            const sign = i < j ? 1 : -1;
            dx += param * sign;
            dy += param * sign;
          }
        }
      }
    }
    return [dx, dy];
  }
  calcGravity(currentNode: vec4, nodeAttributes: vec4): vec2 { // 
    let dx = 0, dy = 0;
    const vx = currentNode[0] - this.u_Center[0];
    const vy = currentNode[1] - this.u_Center[1];
    const gf = 0.01 * this.u_K * this.u_Gravity;
    dx = gf * vx;
    dy = gf * vy;
    if (this.u_Clustering == 1) {
      const clusterIdx = int(nodeAttributes[0]);
      const center = this.u_ClusterCenters[clusterIdx];
      const cvx = currentNode[0] - center[0];
      const cvy = currentNode[1] - center[1];
      const dist = sqrt(cvx * cvx + cvy * cvy) + 0.01;
      const parma = this.u_K * this.u_ClusterGravity / dist;
      dx += parma * cvx;
      dy += parma * cvy;
    }
    return [dx, dy];
  }
  calcAttractive(i: int, currentNode: vec4): vec2 {
    let dx = 0, dy = 0;
    const arr_offset = int(floor(currentNode[2] + 0.5));
    const length = int(floor(currentNode[3] + 0.5));
    const node_buffer: vec4;
    for (let p = 0; p < MAX_EDGE_PER_VERTEX; p++) {
      if (p >= length) break;
      const arr_idx = arr_offset + p;
      // when arr_idx % 4 == 0 update currentNodedx_buffer
      const buf_offset = arr_idx - arr_idx / 4 * 4;
      if (p == 0 || buf_offset == 0) {
        node_buffer = this.u_Data[int(arr_idx / 4)];
      }
      const float_j = buf_offset == 0 ? node_buffer[0] :
                      buf_offset == 1 ? node_buffer[1] :
                      buf_offset == 2 ? node_buffer[2] :
                                        node_buffer[3];
      const nextNode = this.u_Data[int(float_j)];
      const xDist = currentNode[0] - nextNode[0];
      const yDist = currentNode[1] - nextNode[1];
      const dist = sqrt(xDist * xDist + yDist * yDist) + 0.01;
      let attractiveF = dist / this.u_K;
    
      if (dist > 0.0) {
        dx -= xDist * attractiveF;
        dy -= yDist * attractiveF;
        if (xDist == 0 && yDist == 0) {
          const sign = i < int(float_j) ? 1 : -1;
          dx -= sign * attractiveF;
          dy -= sign * attractiveF;
        }
      }
    }
    return [dx, dy];
  }
  @main
  compute() {
    const i = globalInvocationID.x;
    const currentNode = this.u_Data[i];
    let dx = 0, dy = 0;
    if (i >= VERTEX_COUNT) {
      this.u_Data[i] = currentNode;
      return;
    }

    // [gravity, fx, fy, 0]
    const nodeAttributes = this.u_AttributeArray[i];

    if (nodeAttributes[1] != 0 && nodeAttributes[2] != 0) {
      // the node is fixed
      this.u_Data[i] = [
        nodeAttributes[1],
        nodeAttributes[2],
        currentNode[2],
        currentNode[3]
      ];
      return;
    }

    // repulsive
    const repulsive = this.calcRepulsive(i, currentNode);
    dx += repulsive[0];
    dy += repulsive[1];
    // attractive
    const attractive = this.calcAttractive(i, currentNode);
    dx += attractive[0];
    dy += attractive[1];
    // gravity
    const gravity = this.calcGravity(currentNode, nodeAttributes);
    dx -= gravity[0];
    dy -= gravity[1];
    // speed
    dx *= this.u_Speed;
    dy *= this.u_Speed;

    // move
    const distLength = sqrt(dx * dx + dy * dy);
    if (distLength > 0.0) {
      const limitedDist = min(this.u_MaxDisplace * this.u_Speed, distLength);
      this.u_Data[i] = [
        currentNode[0] + dx / distLength * limitedDist,
        currentNode[1] + dy / distLength * limitedDist,
        currentNode[2],
        currentNode[3]
      ];
    }
  }
}
`,R.fruchtermanBundle='{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\ntype GWebGPUParams = [[block]] struct {\\n  [[offset 0]] u_K : f32;\\n  [[offset 4]] u_K2 : f32;\\n  [[offset 8]] u_Center : vec2<f32>;\\n  [[offset 16]] u_Gravity : f32;\\n  [[offset 20]] u_ClusterGravity : f32;\\n  [[offset 24]] u_Speed : f32;\\n  [[offset 28]] u_MaxDisplace : f32;\\n  [[offset 32]] u_Clustering : f32;\\n};\\n[[binding 0, set 0]] var<uniform> gWebGPUUniformParams : GWebGPUParams;\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_AttributeArray : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\ntype GWebGPUBuffer2 = [[block]] struct {\\n  [[offset 0]] u_ClusterCenters : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 3, set 0]] var<storage_buffer> gWebGPUBuffer2 : GWebGPUBuffer2;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nfn calcRepulsive(i : i32, currentNode : vec4<f32>) -> vec2<f32> {var dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {if (i != j) {var nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nvar xDist : f32 = currentNode.x - nextNode.x;\\nvar yDist : f32 = currentNode.y - nextNode.y;\\nvar dist : f32 = ((xDist * xDist) + (yDist * yDist)) + 0.01;\\nvar param : f32 = gWebGPUUniformParams.u_K2 / dist;\\nif (dist > 0.0) {dx = dx + param * xDist;\\ndy = dy + param * yDist;\\nif ((xDist == 0.0) && (yDist == 0.0)) {var sign : f32 = select(1.0, -1.0, i < j);\\ndx = dx + param * std::sign;\\ndy = dy + param * std::sign;}}}}\\nreturn vec2<f32>(dx, dy);}\\nfn calcGravity(currentNode : vec4<f32>, nodeAttributes : vec4<f32>) -> vec2<f32> {var dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nvar vx : f32 = currentNode.x - gWebGPUUniformParams.u_Center.x;\\nvar vy : f32 = currentNode.y - gWebGPUUniformParams.u_Center.y;\\nvar gf : f32 = (0.01 * gWebGPUUniformParams.u_K) * gWebGPUUniformParams.u_Gravity;\\ndx = gf * vx;\\ndy = gf * vy;\\nif (gWebGPUUniformParams.u_Clustering == 1.0) {var clusterIdx : i32 = i32(nodeAttributes.x);\\nvar center : vec4<f32> = gWebGPUBuffer2.u_ClusterCenters[clusterIdx];\\nvar cvx : f32 = currentNode.x - center.x;\\nvar cvy : f32 = currentNode.y - center.y;\\nvar dist : f32 = std::sqrt((cvx * cvx) + (cvy * cvy)) + 0.01;\\nvar parma : f32 = (gWebGPUUniformParams.u_K * gWebGPUUniformParams.u_ClusterGravity) / dist;\\ndx = dx + parma * cvx;\\ndy = dy + parma * cvy;}\\nreturn vec2<f32>(dx, dy);}\\nfn calcAttractive(i : i32, currentNode : vec4<f32>) -> vec2<f32> {var dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nvar arr_offset : i32 = i32(std::floor(currentNode.z + 0.5));\\nvar length : i32 = i32(std::floor(currentNode.w + 0.5));\\nvar node_buffer : vec4<f32>;\\nfor (var p : i32 = 0; p < __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX; p = p + 1) {if (p >= length) {break;}\\nvar arr_idx : i32 = arr_offset + i32(p);\\nvar buf_offset : i32 = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[i32(arr_idx / 4)];}\\nvar float_j : f32 = select(node_buffer.x, select(node_buffer.y, select(node_buffer.z, node_buffer.w, buf_offset == 2), buf_offset == 1), buf_offset == 0);\\nvar nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[i32(float_j)];\\nvar xDist : f32 = currentNode.x - nextNode.x;\\nvar yDist : f32 = currentNode.y - nextNode.y;\\nvar dist : f32 = std::sqrt((xDist * xDist) + (yDist * yDist)) + 0.01;\\nvar attractiveF : f32 = dist / gWebGPUUniformParams.u_K;\\nif (dist > 0.0) {dx = dx - xDist * attractiveF;\\ndy = dy - yDist * attractiveF;\\nif ((xDist == 0.0) && (yDist == 0.0)) {var sign : f32 = select(1.0, -1.0, i < i32(float_j));\\ndx = dx - std::sign * attractiveF;\\ndy = dy - std::sign * attractiveF;}}}\\nreturn vec2<f32>(dx, dy);}\\nfn main() -> void {var i : i32 = globalInvocationID.x;\\nvar currentNode : vec4<f32> = gWebGPUBuffer0.u_Data[i];\\nvar dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nif (i >= __DefineValuePlaceholder__VERTEX_COUNT) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvar nodeAttributes : vec4<f32> = gWebGPUBuffer1.u_AttributeArray[i];\\nif ((nodeAttributes.y != 0.0) && (nodeAttributes.z != 0.0)) {gWebGPUBuffer0.u_Data[i] = vec4<f32>(nodeAttributes.y, nodeAttributes.z, currentNode.z, currentNode.w);\\nreturn ;}\\nvar repulsive : vec2<f32> = calcRepulsive(i, currentNode);\\ndx = dx + repulsive.x;\\ndy = dy + repulsive.y;\\nvar attractive : vec2<f32> = calcAttractive(i, currentNode);\\ndx = dx + attractive.x;\\ndy = dy + attractive.y;\\nvar gravity : vec2<f32> = calcGravity(currentNode, nodeAttributes);\\ndx = dx - gravity.x;\\ndy = dy - gravity.y;\\ndx = dx * gWebGPUUniformParams.u_Speed;\\ndy = dy * gWebGPUUniformParams.u_Speed;\\nvar distLength : f32 = std::sqrt((dx * dx) + (dy * dy));\\nif (distLength > 0.0) {var limitedDist : f32 = std::min(gWebGPUUniformParams.u_MaxDisplace * gWebGPUUniformParams.u_Speed, distLength);\\ngWebGPUBuffer0.u_Data[i] = vec4<f32>(currentNode.x + ((dx / distLength) * limitedDist), currentNode.y + ((dy / distLength) * limitedDist), currentNode.z, currentNode.w);}\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\nlayout(std140, set = 0, binding = 0) uniform GWebGPUParams {\\n  float u_K;\\n  float u_K2;\\n  vec2 u_Center;\\n  float u_Gravity;\\n  float u_ClusterGravity;\\n  float u_Speed;\\n  float u_MaxDisplace;\\n  float u_Clustering;\\n} gWebGPUUniformParams;\\nlayout(std430, set = 0, binding = 1) buffer   GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 2) buffer readonly  GWebGPUBuffer1 {\\n  vec4 u_AttributeArray[];\\n} gWebGPUBuffer1;\\n\\nlayout(std430, set = 0, binding = 3) buffer readonly  GWebGPUBuffer2 {\\n  vec4 u_ClusterCenters[];\\n} gWebGPUBuffer2;\\n\\n\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nvec2 calcRepulsive(int i, vec4 currentNode) {float dx = 0.0;\\nfloat dy = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = gWebGPUBuffer0.u_Data[j];\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = ((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat param = gWebGPUUniformParams.u_K2 / dist;\\nif (dist > 0.0) {dx += param * xDist;\\ndy += param * yDist;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < j) ? (1.0) : (-1.0);\\ndx += param * sign;\\ndy += param * sign;}}}}\\nreturn vec2(dx, dy);}\\nvec2 calcGravity(vec4 currentNode, vec4 nodeAttributes) {float dx = 0.0;\\nfloat dy = 0.0;\\nfloat vx = currentNode.x - gWebGPUUniformParams.u_Center.x;\\nfloat vy = currentNode.y - gWebGPUUniformParams.u_Center.y;\\nfloat gf = (0.01 * gWebGPUUniformParams.u_K) * gWebGPUUniformParams.u_Gravity;\\ndx = gf * vx;\\ndy = gf * vy;\\nif (gWebGPUUniformParams.u_Clustering == 1.0) {int clusterIdx = int(nodeAttributes.x);\\nvec4 center = gWebGPUBuffer2.u_ClusterCenters[clusterIdx];\\nfloat cvx = currentNode.x - center.x;\\nfloat cvy = currentNode.y - center.y;\\nfloat dist = sqrt((cvx * cvx) + (cvy * cvy)) + 0.01;\\nfloat parma = (gWebGPUUniformParams.u_K * gWebGPUUniformParams.u_ClusterGravity) / dist;\\ndx += parma * cvx;\\ndy += parma * cvy;}\\nreturn vec2(dx, dy);}\\nvec2 calcAttractive(int i, vec4 currentNode) {float dx = 0.0;\\nfloat dy = 0.0;\\nint arr_offset = int(floor(currentNode.z + 0.5));\\nint length = int(floor(currentNode.w + 0.5));\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + int(p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[int(arr_idx / 4)];}\\nfloat float_j = (buf_offset == 0) ? (node_buffer.x) : ((buf_offset == 1) ? (node_buffer.y) : ((buf_offset == 2) ? (node_buffer.z) : (node_buffer.w)));\\nvec4 nextNode = gWebGPUBuffer0.u_Data[int(float_j)];\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = sqrt((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat attractiveF = dist / gWebGPUUniformParams.u_K;\\nif (dist > 0.0) {dx -= xDist * attractiveF;\\ndy -= yDist * attractiveF;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < int(float_j)) ? (1.0) : (-1.0);\\ndx -= sign * attractiveF;\\ndy -= sign * attractiveF;}}}\\nreturn vec2(dx, dy);}\\nvoid main() {int i = globalInvocationID.x;\\nvec4 currentNode = gWebGPUBuffer0.u_Data[i];\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nif (i >= VERTEX_COUNT) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvec4 nodeAttributes = gWebGPUBuffer1.u_AttributeArray[i];\\nif ((nodeAttributes.y != 0.0) && (nodeAttributes.z != 0.0)) {gWebGPUBuffer0.u_Data[i] = vec4(nodeAttributes.y, nodeAttributes.z, currentNode.z, currentNode.w);\\nreturn ;}\\nvec2 repulsive = calcRepulsive(i, currentNode);\\ndx += repulsive.x;\\ndy += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode);\\ndx += attractive.x;\\ndy += attractive.y;\\nvec2 gravity = calcGravity(currentNode, nodeAttributes);\\ndx -= gravity.x;\\ndy -= gravity.y;\\ndx *= gWebGPUUniformParams.u_Speed;\\ndy *= gWebGPUUniformParams.u_Speed;\\nfloat distLength = sqrt((dx * dx) + (dy * dy));\\nif (distLength > 0.0) {float limitedDist = min(gWebGPUUniformParams.u_MaxDisplace * gWebGPUUniformParams.u_Speed, distLength);\\ngWebGPUBuffer0.u_Data[i] = vec4(currentNode.x + ((dx / distLength) * limitedDist), currentNode.y + ((dy / distLength) * limitedDist), currentNode.z, currentNode.w);}}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_K;\\nuniform float u_K2;\\nuniform vec2 u_Center;\\nuniform float u_Gravity;\\nuniform float u_ClusterGravity;\\nuniform float u_Speed;\\nuniform float u_MaxDisplace;\\nuniform float u_Clustering;\\nuniform sampler2D u_AttributeArray;\\nuniform vec2 u_AttributeArraySize;\\nvec4 getDatau_AttributeArray(vec2 address2D) {\\n  return vec4(texture2D(u_AttributeArray, address2D).rgba);\\n}\\nvec4 getDatau_AttributeArray(float address1D) {\\n  return getDatau_AttributeArray(addrTranslation_1Dto2D(address1D, u_AttributeArraySize));\\n}\\nvec4 getDatau_AttributeArray(int address1D) {\\n  return getDatau_AttributeArray(float(address1D));\\n}\\nuniform sampler2D u_ClusterCenters;\\nuniform vec2 u_ClusterCentersSize;\\nvec4 getDatau_ClusterCenters(vec2 address2D) {\\n  return vec4(texture2D(u_ClusterCenters, address2D).rgba);\\n}\\nvec4 getDatau_ClusterCenters(float address1D) {\\n  return getDatau_ClusterCenters(addrTranslation_1Dto2D(address1D, u_ClusterCentersSize));\\n}\\nvec4 getDatau_ClusterCenters(int address1D) {\\n  return getDatau_ClusterCenters(float(address1D));\\n}\\nvec2 calcRepulsive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = getDatau_Data(j);\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = ((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat param = u_K2 / dist;\\nif (dist > 0.0) {dx += param * xDist;\\ndy += param * yDist;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < j) ? (1.0) : (-1.0);\\ndx += param * sign;\\ndy += param * sign;}}}}\\nreturn vec2(dx, dy);}\\nvec2 calcGravity(vec4 currentNode, vec4 nodeAttributes) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nfloat vx = currentNode.x - u_Center.x;\\nfloat vy = currentNode.y - u_Center.y;\\nfloat gf = (0.01 * u_K) * u_Gravity;\\ndx = gf * vx;\\ndy = gf * vy;\\nif (u_Clustering == 1.0) {int clusterIdx = int(nodeAttributes.x);\\nvec4 center = getDatau_ClusterCenters(clusterIdx);\\nfloat cvx = currentNode.x - center.x;\\nfloat cvy = currentNode.y - center.y;\\nfloat dist = sqrt((cvx * cvx) + (cvy * cvy)) + 0.01;\\nfloat parma = (u_K * u_ClusterGravity) / dist;\\ndx += parma * cvx;\\ndy += parma * cvy;}\\nreturn vec2(dx, dy);}\\nvec2 calcAttractive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nint arr_offset = int(floor(currentNode.z + 0.5));\\nint length = int(floor(currentNode.w + 0.5));\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + int(p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = getDatau_Data(int(arr_idx / 4));}\\nfloat float_j = (buf_offset == 0) ? (node_buffer.x) : ((buf_offset == 1) ? (node_buffer.y) : ((buf_offset == 2) ? (node_buffer.z) : (node_buffer.w)));\\nvec4 nextNode = getDatau_Data(int(float_j));\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = sqrt((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat attractiveF = dist / u_K;\\nif (dist > 0.0) {dx -= xDist * attractiveF;\\ndy -= yDist * attractiveF;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < int(float_j)) ? (1.0) : (-1.0);\\ndx -= sign * attractiveF;\\ndy -= sign * attractiveF;}}}\\nreturn vec2(dx, dy);}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 currentNode = getDatau_Data(i);\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nif (i >= VERTEX_COUNT) {gl_FragColor = vec4(currentNode);\\nreturn ;}\\nvec4 nodeAttributes = getDatau_AttributeArray(i);\\nif ((nodeAttributes.y != 0.0) && (nodeAttributes.z != 0.0)) {gl_FragColor = vec4(vec4(nodeAttributes.y, nodeAttributes.z, currentNode.z, currentNode.w));\\nreturn ;}\\nvec2 repulsive = calcRepulsive(i, currentNode);\\ndx += repulsive.x;\\ndy += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode);\\ndx += attractive.x;\\ndy += attractive.y;\\nvec2 gravity = calcGravity(currentNode, nodeAttributes);\\ndx -= gravity.x;\\ndy -= gravity.y;\\ndx *= u_Speed;\\ndy *= u_Speed;\\nfloat distLength = sqrt((dx * dx) + (dy * dy));\\nif (distLength > 0.0) {float limitedDist = min(u_MaxDisplace * u_Speed, distLength);\\ngl_FragColor = vec4(vec4(currentNode.x + ((dx / distLength) * limitedDist), currentNode.y + ((dy / distLength) * limitedDist), currentNode.z, currentNode.w));}if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"MAX_EDGE_PER_VERTEX","type":"Float","runtime":true},{"name":"VERTEX_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]},{"name":"u_K","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_K2","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Center","type":"vec2<f32>","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Gravity","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterGravity","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Speed","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_MaxDisplace","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Clustering","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AttributeArray","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterCenters","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_Data","size":[1,1],"length":1},"needPingpong":true}}',R.clusterCode=`
import { globalInvocationID } from 'g-webgpu';
const VERTEX_COUNT;
const CLUSTER_COUNT;
@numthreads(1, 1, 1)
class CalcCenter {
  @in
  u_Data: vec4[];
  @in
  u_NodeAttributes: vec4[]; // [[clusterIdx, 0, 0, 0], ...]
  @in @out
  u_ClusterCenters: vec4[]; // [[cx, cy, nodeCount, clusterIdx], ...]
  @main
  compute() {
    const i = globalInvocationID.x;
    const center = this.u_ClusterCenters[i];
    let sumx = 0;
    let sumy = 0;
    let count = 0;
    for (let j = 0; j < VERTEX_COUNT; j++) {
      const attributes = this.u_NodeAttributes[j];
      const clusterIdx = int(attributes[0]);
      const vertex = this.u_Data[j];
      if (clusterIdx == i) {
        sumx += vertex.x;
        sumy += vertex.y;
        count += 1;
      }
    }
    this.u_ClusterCenters[i] = [
      sumx / count,
      sumy / count,
      count,
      i
    ];
  }
}
`,R.clusterBundle='{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\n\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 0, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_NodeAttributes : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\ntype GWebGPUBuffer2 = [[block]] struct {\\n  [[offset 0]] u_ClusterCenters : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer2 : GWebGPUBuffer2;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nfn main() -> void {var i : i32 = globalInvocationID.x;\\nvar center : vec4<f32> = gWebGPUBuffer2.u_ClusterCenters[i];\\nvar sumx : f32 = 0.0;\\nvar sumy : f32 = 0.0;\\nvar count : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {var attributes : vec4<f32> = gWebGPUBuffer1.u_NodeAttributes[j];\\nvar clusterIdx : i32 = i32(attributes.x);\\nvar vertex : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nif (clusterIdx == i) {sumx = sumx + vertex.x;\\nsumy = sumy + vertex.y;\\ncount = count + 1.0;}}\\ngWebGPUBuffer2.u_ClusterCenters[i] = vec4<f32>(sumx / count, sumy / count, count, i);\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\n\\nlayout(std430, set = 0, binding = 0) buffer readonly  GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 1) buffer readonly  GWebGPUBuffer1 {\\n  vec4 u_NodeAttributes[];\\n} gWebGPUBuffer1;\\n\\nlayout(std430, set = 0, binding = 2) buffer   GWebGPUBuffer2 {\\n  vec4 u_ClusterCenters[];\\n} gWebGPUBuffer2;\\n\\n\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define CLUSTER_COUNT __DefineValuePlaceholder__CLUSTER_COUNT\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\nvoid main() {int i = globalInvocationID.x;\\nvec4 center = gWebGPUBuffer2.u_ClusterCenters[i];\\nfloat sumx = 0.0;\\nfloat sumy = 0.0;\\nfloat count = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 attributes = gWebGPUBuffer1.u_NodeAttributes[j];\\nint clusterIdx = int(attributes.x);\\nvec4 vertex = gWebGPUBuffer0.u_Data[j];\\nif (clusterIdx == i) {sumx += vertex.x;\\nsumy += vertex.y;\\ncount += 1.0;}}\\ngWebGPUBuffer2.u_ClusterCenters[i] = vec4(sumx / count, sumy / count, count, i);}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define CLUSTER_COUNT __DefineValuePlaceholder__CLUSTER_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform sampler2D u_NodeAttributes;\\nuniform vec2 u_NodeAttributesSize;\\nvec4 getDatau_NodeAttributes(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributes, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributes(float address1D) {\\n  return getDatau_NodeAttributes(addrTranslation_1Dto2D(address1D, u_NodeAttributesSize));\\n}\\nvec4 getDatau_NodeAttributes(int address1D) {\\n  return getDatau_NodeAttributes(float(address1D));\\n}\\nuniform sampler2D u_ClusterCenters;\\nuniform vec2 u_ClusterCentersSize;\\nvec4 getDatau_ClusterCenters(vec2 address2D) {\\n  return vec4(texture2D(u_ClusterCenters, address2D).rgba);\\n}\\nvec4 getDatau_ClusterCenters(float address1D) {\\n  return getDatau_ClusterCenters(addrTranslation_1Dto2D(address1D, u_ClusterCentersSize));\\n}\\nvec4 getDatau_ClusterCenters(int address1D) {\\n  return getDatau_ClusterCenters(float(address1D));\\n}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 center = getDatau_ClusterCenters(i);\\nfloat sumx = 0.0;\\nfloat sumy = 0.0;\\nfloat count = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 attributes = getDatau_NodeAttributes(j);\\nint clusterIdx = int(attributes.x);\\nvec4 vertex = getDatau_Data(j);\\nif (clusterIdx == i) {sumx += vertex.x;\\nsumy += vertex.y;\\ncount += 1.0;}}\\ngl_FragColor = vec4(vec4(sumx / count, sumy / count, count, i));if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"VERTEX_COUNT","type":"Float","runtime":true},{"name":"CLUSTER_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributes","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterCenters","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_ClusterCenters","size":[1,1],"length":1},"needPingpong":true}}'},85194:function(at,R,d){"use strict";var x=this&&this.__extends||function(){var k=function(B,z){return k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(W,$){W.__proto__=$}||function(W,$){for(var K in $)Object.prototype.hasOwnProperty.call($,K)&&(W[K]=$[K])},k(B,z)};return function(B,z){if(typeof z!="function"&&z!==null)throw new TypeError("Class extends value "+String(z)+" is not a constructor or null");k(B,z);function W(){this.constructor=B}B.prototype=z===null?Object.create(z):(W.prototype=z.prototype,new W)}}(),b=this&&this.__awaiter||function(k,B,z,W){function $(K){return K instanceof z?K:new z(function(lt){lt(K)})}return new(z||(z=Promise))(function(K,lt){function st(nt){try{q(W.next(nt))}catch(ct){lt(ct)}}function yt(nt){try{q(W.throw(nt))}catch(ct){lt(ct)}}function q(nt){nt.done?K(nt.value):$(nt.value).then(st,yt)}q((W=W.apply(k,B||[])).next())})},P=this&&this.__generator||function(k,B){var z={label:0,sent:function(){if(K[0]&1)throw K[1];return K[1]},trys:[],ops:[]},W,$,K,lt;return lt={next:st(0),throw:st(1),return:st(2)},typeof Symbol=="function"&&(lt[Symbol.iterator]=function(){return this}),lt;function st(q){return function(nt){return yt([q,nt])}}function yt(q){if(W)throw new TypeError("Generator is already executing.");for(;z;)try{if(W=1,$&&(K=q[0]&2?$.return:q[0]?$.throw||((K=$.return)&&K.call($),0):$.next)&&!(K=K.call($,q[1])).done)return K;switch($=0,K&&(q=[q[0]&2,K.value]),q[0]){case 0:case 1:K=q;break;case 4:return z.label++,{value:q[1],done:!1};case 5:z.label++,$=q[1],q=[0];continue;case 7:q=z.ops.pop(),z.trys.pop();continue;default:if(K=z.trys,!(K=K.length>0&&K[K.length-1])&&(q[0]===6||q[0]===2)){z=0;continue}if(q[0]===3&&(!K||q[1]>K[0]&&q[1]<K[3])){z.label=q[1];break}if(q[0]===6&&z.label<K[1]){z.label=K[1],K=q;break}if(K&&z.label<K[2]){z.label=K[2],z.ops.push(q);break}K[2]&&z.ops.pop(),z.trys.pop();continue}q=B.call(k,z)}catch(nt){q=[6,nt],$=0}finally{W=K=0}if(q[0]&5)throw q[1];return{value:q[0]?q[1]:void 0,done:!0}}};Object.defineProperty(R,"__esModule",{value:!0}),R.GForceGPULayout=void 0;var _=d(62329),O=d(49784),T=d(66037),F=d(48835),M=d(80628),A=d(49762),L=d(16470),I=function(k){x(B,k);function B(z){var W=k.call(this)||this;return W.maxIteration=1e3,W.edgeStrength=200,W.nodeStrength=1e3,W.coulombDisScale=.005,W.damping=.9,W.maxSpeed=1e3,W.minMovement=.5,W.interval=.02,W.factor=1,W.linkDistance=1,W.gravity=10,W.workerEnabled=!1,W.nodes=[],W.edges=[],W.width=300,W.height=300,W.nodeMap={},W.nodeIdxMap={},W.updateCfg(z),W}return B.prototype.getDefaultCfg=function(){return{maxIteration:2e3,gravity:10,clustering:!1,clusterGravity:10}},B.prototype.execute=function(){return b(this,void 0,void 0,function(){var z,W,$,K,lt;return P(this,function(st){switch(st.label){case 0:return z=this,W=z.nodes,!W||W.length===0?(z.onLayoutEnd&&z.onLayoutEnd(),[2]):(!z.width&&typeof window!="undefined"&&(z.width=window.innerWidth),!z.height&&typeof window!="undefined"&&(z.height=window.innerHeight),z.center||(z.center=[z.width/2,z.height/2]),$=z.center,W.length===1?(W[0].x=$[0],W[0].y=$[1],z.onLayoutEnd&&z.onLayoutEnd(),[2]):(K={},lt={},W.forEach(function(yt,q){(0,O.isNumber)(yt.x)||(yt.x=Math.random()*z.width),(0,O.isNumber)(yt.y)||(yt.y=Math.random()*z.height),K[yt.id]=yt,lt[yt.id]=q}),z.nodeMap=K,z.nodeIdxMap=lt,z.nodeStrength=(0,F.proccessToFunc)(z.nodeStrength,1),z.edgeStrength=(0,F.proccessToFunc)(z.edgeStrength,1),[4,z.run()]));case 1:return st.sent(),[2]}})})},B.prototype.executeWithWorker=function(z,W){var $=this,K=$.nodes,lt=$.center;if(!(!K||K.length===0)){if(K.length===1){K[0].x=lt[0],K[0].y=lt[1];return}var st={},yt={};K.forEach(function(q,nt){(0,O.isNumber)(q.x)||(q.x=Math.random()*$.width),(0,O.isNumber)(q.y)||(q.y=Math.random()*$.height),st[q.id]=q,yt[q.id]=nt}),$.nodeMap=st,$.nodeIdxMap=yt,$.nodeStrength=(0,F.proccessToFunc)($.nodeStrength,1),$.edgeStrength=(0,F.proccessToFunc)($.edgeStrength,1),$.run(z,W)}},B.prototype.run=function(z,W){return b(this,void 0,void 0,function(){var $,K,lt,st,yt,q,nt,ct,bt,_t,St,At,vt,dt,gt,Ct,Et,Tt,ot,Mt,Wt,jt,qt,se,ae,he,ke,Le=this;return P(this,function(rr){switch(rr.label){case 0:for($=this,K=$.nodes,lt=$.edges,st=$.maxIteration,!$.width&&typeof window!="undefined"&&($.width=window.innerWidth),!$.height&&typeof window!="undefined"&&($.height=window.innerHeight),yt=K.length,$.linkDistance=(0,F.proccessToFunc)($.linkDistance),$.edgeStrength=(0,F.proccessToFunc)($.edgeStrength),q=(0,F.buildTextureDataWithTwoEdgeAttr)(K,lt,$.linkDistance,$.edgeStrength),nt=q.maxEdgePerVetex,ct=q.array,$.degrees=(0,M.getDegree)(K.length,$.nodeIdxMap,lt),bt=[],_t=[],St=[],At=[],vt=[],dt=[],gt=[],$.getMass||($.getMass=function(Ee){return $.degrees[$.nodeIdxMap[Ee.id]]||1}),Ct=$.gravity,Et=$.center,K.forEach(function(Ee,ge){bt.push($.getMass(Ee)),_t.push($.nodeStrength(Ee)),$.degrees[ge]||($.degrees[ge]=0);var we=[Et[0],Et[1],Ct];if($.getCenter){var Ce=$.getCenter(Ee,$.degrees[ge]);Ce&&(0,O.isNumber)(Ce[0])&&(0,O.isNumber)(Ce[1])&&(0,O.isNumber)(Ce[2])&&(we=Ce)}St.push(we[0]),At.push(we[1]),vt.push(we[2]),(0,O.isNumber)(Ee.fx)&&(0,O.isNumber)(Ee.fy)?(dt.push(Ee.fx||.001),gt.push(Ee.fy||.001)):(dt.push(0),gt.push(0))}),Tt=(0,F.arrayToTextureData)([bt,$.degrees,_t,dt]),ot=(0,F.arrayToTextureData)([St,At,vt,gt]),Mt=$.workerEnabled,Mt?Wt=T.World.create({canvas:z,engineOptions:{supportCompute:!0}}):Wt=T.World.create({engineOptions:{supportCompute:!0}}),jt=$.onLayoutEnd,qt=[],ct.forEach(function(Ee){qt.push(Ee)}),se=0;se<4;se++)qt.push(0);return ae=Wt.createKernel(A.gForceBundle).setDispatch([yt,1,1]).setBinding({u_Data:ct,u_damping:$.damping,u_maxSpeed:$.maxSpeed,u_minMovement:$.minMovement,u_coulombDisScale:$.coulombDisScale,u_factor:$.factor,u_NodeAttributeArray1:Tt,u_NodeAttributeArray2:ot,MAX_EDGE_PER_VERTEX:nt,VERTEX_COUNT:yt,u_AveMovement:qt,u_interval:$.interval}),he=Wt.createKernel(A.aveMovementBundle).setDispatch([1,1,1]).setBinding({u_Data:ct,VERTEX_COUNT:yt,u_AveMovement:[0,0,0,0]}),ke=function(){return b(Le,void 0,void 0,function(){var Ee,ge,we;return P(this,function(Ce){switch(Ce.label){case 0:Ee=0,Ce.label=1;case 1:return Ee<st?[4,ae.execute()]:[3,5];case 2:return Ce.sent(),he.setBinding({u_Data:ae}),[4,he.execute()];case 3:Ce.sent(),ge=Math.max(.02,$.interval-Ee*.002),ae.setBinding({u_interval:ge,u_AveMovement:he}),Ce.label=4;case 4:return Ee++,[3,1];case 5:return[4,ae.getOutput()];case 6:return we=Ce.sent(),z?W.postMessage({type:L.LAYOUT_MESSAGE.GPUEND,vertexEdgeData:we}):K.forEach(function(ye,Gt){var Xt=we[4*Gt],Kt=we[4*Gt+1];ye.x=Xt,ye.y=Kt}),jt&&jt(),[2]}})})},[4,ke()];case 1:return rr.sent(),[2]}})})},B.prototype.getType=function(){return"gForce-gpu"},B}(_.Base);R.GForceGPULayout=I},49762:function(at,R){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.aveMovementBundle=R.aveMovementCode=R.gForceBundle=R.gForceCode=void 0,R.gForceCode=`
import { globalInvocationID } from 'g-webgpu';

const MAX_EDGE_PER_VERTEX;
const VERTEX_COUNT;
const SHIFT_20 = 1048576;

@numthreads(1, 1, 1)
class GGForce {
  @in @out
  u_Data: vec4[];

  @in
  u_damping: float;
  
  @in
  u_maxSpeed: float;

  @in
  u_minMovement: float;

  @in
  u_AveMovement: vec4[];

  @in
  u_coulombDisScale: float;

  @in
  u_factor: float;

  @in
  u_NodeAttributeArray1: vec4[];

  @in
  u_NodeAttributeArray2: vec4[];

  @in
  u_interval: float;

  unpack_float(packedValue: float): ivec2 {
    const packedIntValue = int(packedValue);
    const v0 = packedIntValue / SHIFT_20;
    return [v0, packedIntValue - v0 * SHIFT_20];
  }

  calcRepulsive(i: int, currentNode: vec4): vec2 {
    let ax = 0, ay = 0;
    for (let j: int = 0; j < VERTEX_COUNT; j++) {
      if (i != j) {
        const nextNode = this.u_Data[j];
        const vx = currentNode[0] - nextNode[0];
        const vy = currentNode[1] - nextNode[1];
        const dist = sqrt(vx * vx + vy * vy) + 0.01;
        const n_dist = (dist + 0.1) * this.u_coulombDisScale;
        const direx = vx / dist;
        const direy = vy / dist;
        const attributesi = this.u_NodeAttributeArray1[i];
        const attributesj = this.u_NodeAttributeArray1[j];
        const massi = attributesi[0];
        const nodeStrengthi = attributesi[2];
        const nodeStrengthj = attributesj[2];
        const nodeStrength = (nodeStrengthi + nodeStrengthj) / 2;
        // const param = nodeStrength * this.u_factor / (n_dist * n_dist * massi);
        const param = nodeStrength * this.u_factor / (n_dist * n_dist);
        ax += direx * param;
        ay += direy * param;
      }
    }
    return [ax, ay];
  }

  calcGravity(i: int, currentNode: vec4, attributes2: vec4): vec2 {
    // note: attributes2 = [centerX, centerY, gravity, 0]

    const vx = currentNode[0] - attributes2[0];
    const vy = currentNode[1] - attributes2[1];
    
    const ax = vx * attributes2[2];
    const ay = vy * attributes2[2];
    
    return [ax, ay];
  }

  calcAttractive(i: int, currentNode: vec4, attributes1: vec4): vec2 {
    // note: attributes1 = [mass, degree, nodeSterngth, 0]

    const mass = attributes1[0];
    let ax = 0, ay = 0;
    // const arr_offset = int(floor(currentNode[2] + 0.5));
    // const length = int(floor(currentNode[3] + 0.5));

    const compressed = this.unpack_float(currentNode[2]);
    const length = compressed[0];
    const arr_offset = compressed[1];

    const node_buffer: vec4;
    for (let p: int = 0; p < MAX_EDGE_PER_VERTEX; p++) {
      if (p >= length) break;
      const arr_idx = arr_offset + 4 * p; // i \u8282\u70B9\u7684\u7B2C p \u6761\u8FB9\u5F00\u59CB\u7684\u5C0F\u683C\u5B50\u4F4D\u7F6E
      const buf_offset = arr_idx - arr_idx / 4 * 4;
      if (p == 0 || buf_offset == 0) {
        node_buffer = this.u_Data[int(arr_idx / 4)]; // \u5927\u683C\u5B50\uFF0C\u5927\u683C\u5B50\u4F4D\u7F6E=\u5C0F\u4E2A\u5B50\u4F4D\u7F6E / 4\uFF0C
      }

      let float_j: float = node_buffer[0];

      const nextNode = this.u_Data[int(float_j)];
      const vx = nextNode[0] - currentNode[0];
      const vy = nextNode[1] - currentNode[1];
      const dist = sqrt(vx * vx + vy * vy) + 0.01;
      const direx = vx / dist;
      const direy = vy / dist;
      const edgeLength = node_buffer[1];
      const edgeStrength = node_buffer[2];
      const diff: float = edgeLength - dist;//edgeLength
      // const param = diff * this.u_stiffness / mass; //
      const param = diff * edgeStrength / mass; // 
      ax -= direx * param;
      ay -= direy * param;
    }
    return [ax, ay];
  }

  @main
  compute() {
    const i = globalInvocationID.x;
    const currentNode = this.u_Data[i];
    const movement = u_AveMovement[0];
    let ax = 0, ay = 0;

    if (i >= VERTEX_COUNT || movement.x < u_minMovement) {
      this.u_Data[i] = currentNode;
      return;
    }

    // \u6BCF\u4E2A\u8282\u70B9\u5C5E\u6027\u5360\u4E24\u4E2A\u6570\u7EC4\u4E2D\u5404\u4E00\u683C
    // [mass, degree, nodeStrength, fx]
    const nodeAttributes1 = this.u_NodeAttributeArray1[i];
    // [centerX, centerY, centerGravity, fy]
    const nodeAttributes2 = this.u_NodeAttributeArray2[i];

    // repulsive
    const repulsive = this.calcRepulsive(i, currentNode);
    ax += repulsive[0];
    ay += repulsive[1];

    // attractive
    const attractive = this.calcAttractive(i, currentNode, nodeAttributes1);
    ax += attractive[0];
    ay += attractive[1];

    // gravity
    const gravity = this.calcGravity(i, currentNode, nodeAttributes2);
    ax -= gravity[0];
    ay -= gravity[1];

    // speed
    const param = this.u_interval * this.u_damping;
    let vx = ax * param;
    let vy = ay * param;
    const vlength = sqrt(vx * vx + vy * vy) + 0.0001;
    if (vlength > this.u_maxSpeed) {
      const param2 = this.u_maxSpeed / vlength;
      vx = param2 * vx;
      vy = param2 * vy;
    }

    // move
    if (nodeAttributes1[3] != 0 && nodeAttributes2[3] != 0) {
      this.u_Data[i] = [
        nodeAttributes1[3],
        nodeAttributes2[3],
        currentNode[2],
        0
      ];
    } else {
      const distx = vx * this.u_interval;
      const disty = vy * this.u_interval;
      const distLength = sqrt(distx * distx + disty * disty);
      this.u_Data[i] = [
        currentNode[0] + distx,
        currentNode[1] + disty,
        currentNode[2],
        distLength
      ];
    }
    
    // the avarage move distance
    // need to share memory
    
  }
}
`,R.gForceBundle='{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\ntype GWebGPUParams = [[block]] struct {\\n  [[offset 0]] u_damping : f32;\\n  [[offset 4]] u_maxSpeed : f32;\\n  [[offset 8]] u_minMovement : f32;\\n  \\n  [[offset 12]] u_coulombDisScale : f32;\\n  [[offset 16]] u_factor : f32;\\n  \\n  \\n  [[offset 20]] u_interval : f32;\\n};\\n[[binding 0, set 0]] var<uniform> gWebGPUUniformParams : GWebGPUParams;\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_AveMovement : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\ntype GWebGPUBuffer2 = [[block]] struct {\\n  [[offset 0]] u_NodeAttributeArray1 : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 3, set 0]] var<storage_buffer> gWebGPUBuffer2 : GWebGPUBuffer2;\\ntype GWebGPUBuffer3 = [[block]] struct {\\n  [[offset 0]] u_NodeAttributeArray2 : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 4, set 0]] var<storage_buffer> gWebGPUBuffer3 : GWebGPUBuffer3;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nfn unpack_float(packedValue : f32) -> vec2<i32> {var packedIntValue : i32 = i32(packedValue);\\nvar v0 : i32 = packedIntValue / 1048576;\\nreturn vec2<i32>(v0, packedIntValue - (v0 * 1048576));}\\nfn calcRepulsive(i : i32, currentNode : vec4<f32>) -> vec2<f32> {var ax : f32 = 0.0;\\nvar ay : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {if (i != j) {var nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nvar vx : f32 = currentNode.x - nextNode.x;\\nvar vy : f32 = currentNode.y - nextNode.y;\\nvar dist : f32 = std::sqrt((vx * vx) + (vy * vy)) + 0.01;\\nvar n_dist : f32 = (dist + 0.1) * gWebGPUUniformParams.u_coulombDisScale;\\nvar direx : f32 = vx / dist;\\nvar direy : f32 = vy / dist;\\nvar attributesi : vec4<f32> = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvar attributesj : vec4<f32> = gWebGPUBuffer2.u_NodeAttributeArray1[j];\\nvar massi : f32 = attributesi.x;\\nvar nodeStrengthi : f32 = attributesi.z;\\nvar nodeStrengthj : f32 = attributesj.z;\\nvar nodeStrength : f32 = (nodeStrengthi + nodeStrengthj) / 2.0;\\nvar param : f32 = (nodeStrength * gWebGPUUniformParams.u_factor) / (n_dist * n_dist);\\nax = ax + direx * param;\\nay = ay + direy * param;}}\\nreturn vec2<f32>(ax, ay);}\\nfn calcGravity(i : i32, currentNode : vec4<f32>, attributes2 : vec4<f32>) -> vec2<f32> {var vx : f32 = currentNode.x - attributes2.x;\\nvar vy : f32 = currentNode.y - attributes2.y;\\nvar ax : f32 = vx * attributes2.z;\\nvar ay : f32 = vy * attributes2.z;\\nreturn vec2<f32>(ax, ay);}\\nfn calcAttractive(i : i32, currentNode : vec4<f32>, attributes1 : vec4<f32>) -> vec2<f32> {var mass : f32 = attributes1.x;\\nvar ax : f32 = 0.0;\\nvar ay : f32 = 0.0;\\nvar compressed : vec2<i32> = unpack_float(currentNode.z);\\nvar length : i32 = compressed.x;\\nvar arr_offset : i32 = compressed.y;\\nvar node_buffer : vec4<f32>;\\nfor (var p : i32 = 0; p < __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX; p = p + 1) {if (p >= length) {break;}\\nvar arr_idx : i32 = arr_offset + (4 * p);\\nvar buf_offset : i32 = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[i32(arr_idx / 4)];}\\nvar float_j : f32 = node_buffer.x;\\nvar nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[i32(float_j)];\\nvar vx : f32 = nextNode.x - currentNode.x;\\nvar vy : f32 = nextNode.y - currentNode.y;\\nvar dist : f32 = std::sqrt((vx * vx) + (vy * vy)) + 0.01;\\nvar direx : f32 = vx / dist;\\nvar direy : f32 = vy / dist;\\nvar edgeLength : f32 = node_buffer.y;\\nvar edgeStrength : f32 = node_buffer.z;\\nvar diff : f32 = edgeLength - dist;\\nvar param : f32 = (diff * edgeStrength) / mass;\\nax = ax - direx * param;\\nay = ay - direy * param;}\\nreturn vec2<f32>(ax, ay);}\\nfn main() -> void {var i : i32 = globalInvocationID.x;\\nvar currentNode : vec4<f32> = gWebGPUBuffer0.u_Data[i];\\nvar movement : vec4<f32> = gWebGPUBuffer1.u_AveMovement[0];\\nvar ax : f32 = 0.0;\\nvar ay : f32 = 0.0;\\nif ((i >= __DefineValuePlaceholder__VERTEX_COUNT) || (movement.x < gWebGPUUniformParams.u_minMovement)) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvar nodeAttributes1 : vec4<f32> = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvar nodeAttributes2 : vec4<f32> = gWebGPUBuffer3.u_NodeAttributeArray2[i];\\nvar repulsive : vec2<f32> = calcRepulsive(i, currentNode);\\nax = ax + repulsive.x;\\nay = ay + repulsive.y;\\nvar attractive : vec2<f32> = calcAttractive(i, currentNode, nodeAttributes1);\\nax = ax + attractive.x;\\nay = ay + attractive.y;\\nvar gravity : vec2<f32> = calcGravity(i, currentNode, nodeAttributes2);\\nax = ax - gravity.x;\\nay = ay - gravity.y;\\nvar param : f32 = gWebGPUUniformParams.u_interval * gWebGPUUniformParams.u_damping;\\nvar vx : f32 = ax * param;\\nvar vy : f32 = ay * param;\\nvar vlength : f32 = std::sqrt((vx * vx) + (vy * vy)) + 0.0001;\\nif (vlength > gWebGPUUniformParams.u_maxSpeed) {var param2 : f32 = gWebGPUUniformParams.u_maxSpeed / vlength;\\nvx = param2 * vx;\\nvy = param2 * vy;}\\nvar distx : f32 = vx * gWebGPUUniformParams.u_interval;\\nvar disty : f32 = vy * gWebGPUUniformParams.u_interval;\\nvar distLength : f32 = std::sqrt((distx * distx) + (disty * disty));\\nif ((nodeAttributes1.w != 0.0) && (nodeAttributes2.w != 0.0)) {gWebGPUBuffer0.u_Data[i] = vec4<f32>(nodeAttributes1.w, nodeAttributes2.w, currentNode.z, 0.0);}else {gWebGPUBuffer0.u_Data[i] = vec4<f32>(currentNode.x + distx, currentNode.y + disty, currentNode.z, distLength);}\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\nlayout(std140, set = 0, binding = 0) uniform GWebGPUParams {\\n  float u_damping;\\n  float u_maxSpeed;\\n  float u_minMovement;\\n  \\n  float u_coulombDisScale;\\n  float u_factor;\\n  \\n  \\n  float u_interval;\\n} gWebGPUUniformParams;\\nlayout(std430, set = 0, binding = 1) buffer   GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 2) buffer readonly  GWebGPUBuffer1 {\\n  vec4 u_AveMovement[];\\n} gWebGPUBuffer1;\\n\\nlayout(std430, set = 0, binding = 3) buffer readonly  GWebGPUBuffer2 {\\n  vec4 u_NodeAttributeArray1[];\\n} gWebGPUBuffer2;\\n\\nlayout(std430, set = 0, binding = 4) buffer readonly  GWebGPUBuffer3 {\\n  vec4 u_NodeAttributeArray2[];\\n} gWebGPUBuffer3;\\n\\n\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define SHIFT_20 1048576.0\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nivec2 unpack_float(float packedValue) {int packedIntValue = int(packedValue);\\nint v0 = packedIntValue / int(SHIFT_20);\\nreturn ivec2(v0, packedIntValue - (v0 * int(SHIFT_20)));}\\nvec2 calcRepulsive(int i, vec4 currentNode) {float ax = 0.0;\\nfloat ay = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = gWebGPUBuffer0.u_Data[j];\\nfloat vx = currentNode.x - nextNode.x;\\nfloat vy = currentNode.y - nextNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat n_dist = (dist + 0.1) * gWebGPUUniformParams.u_coulombDisScale;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nvec4 attributesi = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvec4 attributesj = gWebGPUBuffer2.u_NodeAttributeArray1[j];\\nfloat massi = attributesi.x;\\nfloat nodeStrengthi = attributesi.z;\\nfloat nodeStrengthj = attributesj.z;\\nfloat nodeStrength = (nodeStrengthi + nodeStrengthj) / 2.0;\\nfloat param = (nodeStrength * gWebGPUUniformParams.u_factor) / (n_dist * n_dist);\\nax += direx * param;\\nay += direy * param;}}\\nreturn vec2(ax, ay);}\\nvec2 calcGravity(int i, vec4 currentNode, vec4 attributes2) {float vx = currentNode.x - attributes2.x;\\nfloat vy = currentNode.y - attributes2.y;\\nfloat ax = vx * attributes2.z;\\nfloat ay = vy * attributes2.z;\\nreturn vec2(ax, ay);}\\nvec2 calcAttractive(int i, vec4 currentNode, vec4 attributes1) {float mass = attributes1.x;\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nivec2 compressed = unpack_float(currentNode.z);\\nint length = compressed.x;\\nint arr_offset = compressed.y;\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + (4 * p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[int(arr_idx / 4)];}\\nfloat float_j = node_buffer.x;\\nvec4 nextNode = gWebGPUBuffer0.u_Data[int(float_j)];\\nfloat vx = nextNode.x - currentNode.x;\\nfloat vy = nextNode.y - currentNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nfloat edgeLength = node_buffer.y;\\nfloat edgeStrength = node_buffer.z;\\nfloat diff = edgeLength - dist;\\nfloat param = (diff * edgeStrength) / mass;\\nax -= direx * param;\\nay -= direy * param;}\\nreturn vec2(ax, ay);}\\nvoid main() {int i = globalInvocationID.x;\\nvec4 currentNode = gWebGPUBuffer0.u_Data[i];\\nvec4 movement = gWebGPUBuffer1.u_AveMovement[0];\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nif ((i >= VERTEX_COUNT) || (movement.x < gWebGPUUniformParams.u_minMovement)) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvec4 nodeAttributes1 = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvec4 nodeAttributes2 = gWebGPUBuffer3.u_NodeAttributeArray2[i];\\nvec2 repulsive = calcRepulsive(i, currentNode);\\nax += repulsive.x;\\nay += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode, nodeAttributes1);\\nax += attractive.x;\\nay += attractive.y;\\nvec2 gravity = calcGravity(i, currentNode, nodeAttributes2);\\nax -= gravity.x;\\nay -= gravity.y;\\nfloat param = gWebGPUUniformParams.u_interval * gWebGPUUniformParams.u_damping;\\nfloat vx = ax * param;\\nfloat vy = ay * param;\\nfloat vlength = sqrt((vx * vx) + (vy * vy)) + 0.0001;\\nif (vlength > gWebGPUUniformParams.u_maxSpeed) {float param2 = gWebGPUUniformParams.u_maxSpeed / vlength;\\nvx = param2 * vx;\\nvy = param2 * vy;}\\nfloat distx = vx * gWebGPUUniformParams.u_interval;\\nfloat disty = vy * gWebGPUUniformParams.u_interval;\\nfloat distLength = sqrt((distx * distx) + (disty * disty));\\nif ((nodeAttributes1.w != 0.0) && (nodeAttributes2.w != 0.0)) {gWebGPUBuffer0.u_Data[i] = vec4(nodeAttributes1.w, nodeAttributes2.w, currentNode.z, 0.0);}else {gWebGPUBuffer0.u_Data[i] = vec4(currentNode.x + distx, currentNode.y + disty, currentNode.z, distLength);}}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define SHIFT_20 1048576.0\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_damping;\\nuniform float u_maxSpeed;\\nuniform float u_minMovement;\\nuniform sampler2D u_AveMovement;\\nuniform vec2 u_AveMovementSize;\\nvec4 getDatau_AveMovement(vec2 address2D) {\\n  return vec4(texture2D(u_AveMovement, address2D).rgba);\\n}\\nvec4 getDatau_AveMovement(float address1D) {\\n  return getDatau_AveMovement(addrTranslation_1Dto2D(address1D, u_AveMovementSize));\\n}\\nvec4 getDatau_AveMovement(int address1D) {\\n  return getDatau_AveMovement(float(address1D));\\n}\\nuniform float u_coulombDisScale;\\nuniform float u_factor;\\nuniform sampler2D u_NodeAttributeArray1;\\nuniform vec2 u_NodeAttributeArray1Size;\\nvec4 getDatau_NodeAttributeArray1(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributeArray1, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributeArray1(float address1D) {\\n  return getDatau_NodeAttributeArray1(addrTranslation_1Dto2D(address1D, u_NodeAttributeArray1Size));\\n}\\nvec4 getDatau_NodeAttributeArray1(int address1D) {\\n  return getDatau_NodeAttributeArray1(float(address1D));\\n}\\nuniform sampler2D u_NodeAttributeArray2;\\nuniform vec2 u_NodeAttributeArray2Size;\\nvec4 getDatau_NodeAttributeArray2(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributeArray2, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributeArray2(float address1D) {\\n  return getDatau_NodeAttributeArray2(addrTranslation_1Dto2D(address1D, u_NodeAttributeArray2Size));\\n}\\nvec4 getDatau_NodeAttributeArray2(int address1D) {\\n  return getDatau_NodeAttributeArray2(float(address1D));\\n}\\nuniform float u_interval;\\nivec2 unpack_float(float packedValue) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint packedIntValue = int(packedValue);\\nint v0 = packedIntValue / int(SHIFT_20);\\nreturn ivec2(v0, packedIntValue - (v0 * int(SHIFT_20)));}\\nvec2 calcRepulsive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = getDatau_Data(j);\\nfloat vx = currentNode.x - nextNode.x;\\nfloat vy = currentNode.y - nextNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat n_dist = (dist + 0.1) * u_coulombDisScale;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nvec4 attributesi = getDatau_NodeAttributeArray1(i);\\nvec4 attributesj = getDatau_NodeAttributeArray1(j);\\nfloat massi = attributesi.x;\\nfloat nodeStrengthi = attributesi.z;\\nfloat nodeStrengthj = attributesj.z;\\nfloat nodeStrength = (nodeStrengthi + nodeStrengthj) / 2.0;\\nfloat param = (nodeStrength * u_factor) / (n_dist * n_dist);\\nax += direx * param;\\nay += direy * param;}}\\nreturn vec2(ax, ay);}\\nvec2 calcGravity(int i, vec4 currentNode, vec4 attributes2) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat vx = currentNode.x - attributes2.x;\\nfloat vy = currentNode.y - attributes2.y;\\nfloat ax = vx * attributes2.z;\\nfloat ay = vy * attributes2.z;\\nreturn vec2(ax, ay);}\\nvec2 calcAttractive(int i, vec4 currentNode, vec4 attributes1) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat mass = attributes1.x;\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nivec2 compressed = unpack_float(currentNode.z);\\nint length = compressed.x;\\nint arr_offset = compressed.y;\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + (4 * p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = getDatau_Data(int(arr_idx / 4));}\\nfloat float_j = node_buffer.x;\\nvec4 nextNode = getDatau_Data(int(float_j));\\nfloat vx = nextNode.x - currentNode.x;\\nfloat vy = nextNode.y - currentNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nfloat edgeLength = node_buffer.y;\\nfloat edgeStrength = node_buffer.z;\\nfloat diff = edgeLength - dist;\\nfloat param = (diff * edgeStrength) / mass;\\nax -= direx * param;\\nay -= direy * param;}\\nreturn vec2(ax, ay);}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 currentNode = getDatau_Data(i);\\nvec4 movement = getDatau_AveMovement(0.0);\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nif ((i >= VERTEX_COUNT) || (movement.x < u_minMovement)) {gl_FragColor = vec4(currentNode);\\nreturn ;}\\nvec4 nodeAttributes1 = getDatau_NodeAttributeArray1(i);\\nvec4 nodeAttributes2 = getDatau_NodeAttributeArray2(i);\\nvec2 repulsive = calcRepulsive(i, currentNode);\\nax += repulsive.x;\\nay += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode, nodeAttributes1);\\nax += attractive.x;\\nay += attractive.y;\\nvec2 gravity = calcGravity(i, currentNode, nodeAttributes2);\\nax -= gravity.x;\\nay -= gravity.y;\\nfloat param = u_interval * u_damping;\\nfloat vx = ax * param;\\nfloat vy = ay * param;\\nfloat vlength = sqrt((vx * vx) + (vy * vy)) + 0.0001;\\nif (vlength > u_maxSpeed) {float param2 = u_maxSpeed / vlength;\\nvx = param2 * vx;\\nvy = param2 * vy;}\\nfloat distx = vx * u_interval;\\nfloat disty = vy * u_interval;\\nfloat distLength = sqrt((distx * distx) + (disty * disty));\\nif ((nodeAttributes1.w != 0.0) && (nodeAttributes2.w != 0.0)) {gl_FragColor = vec4(vec4(nodeAttributes1.w, nodeAttributes2.w, currentNode.z, 0.0));}else {gl_FragColor = vec4(vec4(currentNode.x + distx, currentNode.y + disty, currentNode.z, distLength));}if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"MAX_EDGE_PER_VERTEX","type":"Float","runtime":true},{"name":"VERTEX_COUNT","type":"Float","runtime":true},{"name":"SHIFT_20","type":"Float","value":1048576,"runtime":false}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]},{"name":"u_damping","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_maxSpeed","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_minMovement","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AveMovement","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_coulombDisScale","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_factor","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributeArray1","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributeArray2","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_interval","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_Data","size":[1,1],"length":1},"needPingpong":true}}',R.aveMovementCode=`
const VERTEX_COUNT;
@numthreads(1, 1, 1)
class CalcAveMovement {
  @in
  u_Data: vec4[];
  @in
  u_iter: float;
  @in @out
  u_AveMovement: vec4[];
  @main
  compute() {
    let movement = 0;
    for (let j: int = 0; j < VERTEX_COUNT; j++) {
      const vertex = this.u_Data[j];
      movement += vertex[3];
    }
    movement = movement / float(VERTEX_COUNT);
    this.u_AveMovement[0] = [movement, 0, 0, 0];
  }
}
`,R.aveMovementBundle='{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\ntype GWebGPUParams = [[block]] struct {\\n  [[offset 0]] u_iter : f32;\\n};\\n[[binding 0, set 0]] var<uniform> gWebGPUUniformParams : GWebGPUParams;\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_AveMovement : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\n\\n\\n\\n\\n\\n\\n\\n\\nfn main() -> void {var movement : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {var vertex : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nmovement = movement + vertex.w;}\\nmovement = movement / f32(__DefineValuePlaceholder__VERTEX_COUNT);\\ngWebGPUBuffer1.u_AveMovement[0] = vec4<f32>(movement, 0.0, 0.0, 0.0);\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\nlayout(std140, set = 0, binding = 0) uniform GWebGPUParams {\\n  float u_iter;\\n} gWebGPUUniformParams;\\nlayout(std430, set = 0, binding = 1) buffer readonly  GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 2) buffer   GWebGPUBuffer1 {\\n  vec4 u_AveMovement[];\\n} gWebGPUBuffer1;\\n\\n\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\nvoid main() {float movement = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 vertex = gWebGPUBuffer0.u_Data[j];\\nmovement += vertex.w;}\\nmovement = movement / float(VERTEX_COUNT);\\ngWebGPUBuffer1.u_AveMovement[0] = vec4(movement, 0.0, 0.0, 0.0);}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_iter;\\nuniform sampler2D u_AveMovement;\\nuniform vec2 u_AveMovementSize;\\nvec4 getDatau_AveMovement(vec2 address2D) {\\n  return vec4(texture2D(u_AveMovement, address2D).rgba);\\n}\\nvec4 getDatau_AveMovement(float address1D) {\\n  return getDatau_AveMovement(addrTranslation_1Dto2D(address1D, u_AveMovementSize));\\n}\\nvec4 getDatau_AveMovement(int address1D) {\\n  return getDatau_AveMovement(float(address1D));\\n}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat movement = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 vertex = getDatau_Data(j);\\nmovement += vertex.w;}\\nmovement = movement / float(VERTEX_COUNT);\\ngl_FragColor = vec4(vec4(movement, 0.0, 0.0, 0.0));if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"VERTEX_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_iter","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AveMovement","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_AveMovement","size":[1,1],"length":1},"needPingpong":true}}'},94414:function(at,R,d){"use strict";var x=this&&this.__extends||function(){var O=function(T,F){return O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,A){M.__proto__=A}||function(M,A){for(var L in A)Object.prototype.hasOwnProperty.call(A,L)&&(M[L]=A[L])},O(T,F)};return function(T,F){if(typeof F!="function"&&F!==null)throw new TypeError("Class extends value "+String(F)+" is not a constructor or null");O(T,F);function M(){this.constructor=T}T.prototype=F===null?Object.create(F):(M.prototype=F.prototype,new M)}}();Object.defineProperty(R,"__esModule",{value:!0}),R.GridLayout=void 0;var b=d(49784),P=d(62329),_=function(O){x(T,O);function T(F){var M=O.call(this)||this;return M.begin=[0,0],M.preventOverlap=!0,M.preventOverlapPadding=10,M.condense=!1,M.sortBy="degree",M.nodes=[],M.edges=[],M.width=300,M.height=300,M.row=0,M.col=0,M.cellWidth=0,M.cellHeight=0,M.cellUsed={},M.id2manPos={},M.onLayoutEnd=function(){},M.updateCfg(F),M}return T.prototype.getDefaultCfg=function(){return{begin:[0,0],preventOverlap:!0,preventOverlapPadding:10,condense:!1,rows:void 0,cols:void 0,position:void 0,sortBy:"degree",nodeSize:30}},T.prototype.execute=function(){var F=this,M=F.nodes,A=F.edges,L=F.begin,I=M.length;if(I===0)return F.onLayoutEnd&&F.onLayoutEnd(),{nodes:M,edges:A};if(I===1)return M[0].x=L[0],M[0].y=L[1],F.onLayoutEnd&&F.onLayoutEnd(),{nodes:M,edges:A};var k=F.sortBy,B=F.width,z=F.height,W=F.condense,$=F.preventOverlapPadding,K=F.preventOverlap,lt=F.nodeSpacing,st=F.nodeSize,yt=[];M.forEach(function(Tt){yt.push(Tt)});var q={};if(yt.forEach(function(Tt,ot){q[Tt.id]=ot}),(k==="degree"||!(0,b.isString)(k)||yt[0][k]===void 0)&&(k="degree",(0,b.isNaN)(M[0].degree))){var nt=(0,b.getDegree)(yt.length,q,A);yt.forEach(function(Tt,ot){Tt.degree=nt[ot]})}yt.sort(function(Tt,ot){return ot[k]-Tt[k]}),!B&&typeof window!="undefined"&&(B=window.innerWidth),!z&&typeof window!="undefined"&&(z=window.innerHeight);var ct=F.rows,bt=F.cols!=null?F.cols:F.columns;if(F.cells=I,ct!=null&&bt!=null?(F.rows=ct,F.cols=bt):ct!=null&&bt==null?(F.rows=ct,F.cols=Math.ceil(F.cells/F.rows)):ct==null&&bt!=null?(F.cols=bt,F.rows=Math.ceil(F.cells/F.cols)):(F.splits=Math.sqrt(F.cells*F.height/F.width),F.rows=Math.round(F.splits),F.cols=Math.round(F.width/F.height*F.splits)),F.cols*F.rows>F.cells){var _t=F.small(),St=F.large();(_t-1)*St>=F.cells?F.small(_t-1):(St-1)*_t>=F.cells&&F.large(St-1)}else for(;F.cols*F.rows<F.cells;){var _t=F.small(),St=F.large();(St+1)*_t>=F.cells?F.large(St+1):F.small(_t+1)}if(F.cellWidth=B/F.cols,F.cellHeight=z/F.rows,W&&(F.cellWidth=0,F.cellHeight=0),K||lt){var At=(0,b.getFuncByUnknownType)(10,lt),vt=(0,b.getFuncByUnknownType)(30,st,!1);yt.forEach(function(Tt){(!Tt.x||!Tt.y)&&(Tt.x=0,Tt.y=0);var ot=vt(Tt),Mt=ot[0],Wt=Mt===void 0?30:Mt,jt=ot[1],qt=jt===void 0?30:jt,se=At!==void 0?At(Tt):$,ae=Wt+se,he=qt+se;F.cellWidth=Math.max(F.cellWidth,ae),F.cellHeight=Math.max(F.cellHeight,he)})}F.cellUsed={},F.row=0,F.col=0,F.id2manPos={};for(var dt=0;dt<yt.length;dt++){var gt=yt[dt],Ct=void 0;if(F.position&&(Ct=F.position(gt)),Ct&&(Ct.row!==void 0||Ct.col!==void 0)){var Et={row:Ct.row,col:Ct.col};if(Et.col===void 0)for(Et.col=0;F.used(Et.row,Et.col);)Et.col++;else if(Et.row===void 0)for(Et.row=0;F.used(Et.row,Et.col);)Et.row++;F.id2manPos[gt.id]=Et,F.use(Et.row,Et.col)}F.getPos(gt)}return F.onLayoutEnd&&F.onLayoutEnd(),{edges:A,nodes:yt}},T.prototype.small=function(F){var M=this,A,L=M.rows||5,I=M.cols||5;if(F==null)A=Math.min(L,I);else{var k=Math.min(L,I);k===M.rows?M.rows=F:M.cols=F}return A},T.prototype.large=function(F){var M=this,A,L=M.rows||5,I=M.cols||5;if(F==null)A=Math.max(L,I);else{var k=Math.max(L,I);k===M.rows?M.rows=F:M.cols=F}return A},T.prototype.used=function(F,M){var A=this;return A.cellUsed["c-"+F+"-"+M]||!1},T.prototype.use=function(F,M){var A=this;A.cellUsed["c-"+F+"-"+M]=!0},T.prototype.moveToNextCell=function(){var F=this,M=F.cols||5;F.col++,F.col>=M&&(F.col=0,F.row++)},T.prototype.getPos=function(F){var M=this,A=M.begin,L=M.cellWidth,I=M.cellHeight,k,B,z=M.id2manPos[F.id];if(z)k=z.col*L+L/2+A[0],B=z.row*I+I/2+A[1];else{for(;M.used(M.row,M.col);)M.moveToNextCell();k=M.col*L+L/2+A[0],B=M.row*I+I/2+A[1],M.use(M.row,M.col),M.moveToNextCell()}F.x=k,F.y=B},T.prototype.getType=function(){return"grid"},T}(P.Base);R.GridLayout=_},2584:function(at,R,d){"use strict";var x=this&&this.__createBinding||(Object.create?function(q,nt,ct,bt){bt===void 0&&(bt=ct),Object.defineProperty(q,bt,{enumerable:!0,get:function(){return nt[ct]}})}:function(q,nt,ct,bt){bt===void 0&&(bt=ct),q[bt]=nt[ct]}),b=this&&this.__exportStar||function(q,nt){for(var ct in q)ct!=="default"&&!Object.prototype.hasOwnProperty.call(nt,ct)&&x(nt,q,ct)};Object.defineProperty(R,"__esModule",{value:!0}),R.ERLayout=R.ForceAtlas2Layout=R.ComboCombinedLayout=R.ComboForceLayout=R.GForceGPULayout=R.FruchtermanGPULayout=R.FruchtermanLayout=R.MDSLayout=R.ConcentricLayout=R.RadialLayout=R.DagreCompoundLayout=R.DagreLayout=R.CircularLayout=R.ForceLayout=R.GForceLayout=R.RandomLayout=R.GridLayout=R.Layouts=R.Layout=void 0;var P=d(94414);Object.defineProperty(R,"GridLayout",{enumerable:!0,get:function(){return P.GridLayout}});var _=d(39711);Object.defineProperty(R,"RandomLayout",{enumerable:!0,get:function(){return _.RandomLayout}});var O=d(13653);Object.defineProperty(R,"GForceLayout",{enumerable:!0,get:function(){return O.GForceLayout}});var T=d(85717);Object.defineProperty(R,"ForceLayout",{enumerable:!0,get:function(){return T.ForceLayout}});var F=d(64885);Object.defineProperty(R,"CircularLayout",{enumerable:!0,get:function(){return F.CircularLayout}});var M=d(20171);Object.defineProperty(R,"DagreLayout",{enumerable:!0,get:function(){return M.DagreLayout}});var A=d(77057);Object.defineProperty(R,"DagreCompoundLayout",{enumerable:!0,get:function(){return A.DagreCompoundLayout}});var L=d(47944);Object.defineProperty(R,"RadialLayout",{enumerable:!0,get:function(){return L.RadialLayout}});var I=d(43281);Object.defineProperty(R,"ConcentricLayout",{enumerable:!0,get:function(){return I.ConcentricLayout}});var k=d(52899);Object.defineProperty(R,"MDSLayout",{enumerable:!0,get:function(){return k.MDSLayout}});var B=d(80374);Object.defineProperty(R,"FruchtermanLayout",{enumerable:!0,get:function(){return B.FruchtermanLayout}});var z=d(87745);Object.defineProperty(R,"FruchtermanGPULayout",{enumerable:!0,get:function(){return z.FruchtermanGPULayout}});var W=d(85194);Object.defineProperty(R,"GForceGPULayout",{enumerable:!0,get:function(){return W.GForceGPULayout}});var $=d(66590);Object.defineProperty(R,"ComboForceLayout",{enumerable:!0,get:function(){return $.ComboForceLayout}});var K=d(63861);Object.defineProperty(R,"ComboCombinedLayout",{enumerable:!0,get:function(){return K.ComboCombinedLayout}});var lt=d(48564);Object.defineProperty(R,"ForceAtlas2Layout",{enumerable:!0,get:function(){return lt.ForceAtlas2Layout}});var st=d(90441);Object.defineProperty(R,"ERLayout",{enumerable:!0,get:function(){return st.ERLayout}});var yt=d(42875);Object.defineProperty(R,"Layout",{enumerable:!0,get:function(){return yt.Layout}}),Object.defineProperty(R,"Layouts",{enumerable:!0,get:function(){return yt.Layouts}}),b(d(32867),R)},42875:function(at,R,d){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.Layouts=R.Layout=void 0;var x=d(95326),b=d(94414),P=d(39711),_=d(13653),O=d(85717),T=d(64885),F=d(20171),M=d(47944),A=d(43281),L=d(52899),I=d(80374),k=d(87745),B=d(85194),z=d(66590),W=d(63861),$=d(48564),K=d(90441),lt=d(77057),st=function(){function yt(q){var nt=(0,x.getLayoutByName)(q.type);this.layoutInstance=new nt(q)}return yt.prototype.layout=function(q){return this.layoutInstance.layout(q)},yt.prototype.updateCfg=function(q){this.layoutInstance.updateCfg(q)},yt.prototype.init=function(q){this.layoutInstance.init(q)},yt.prototype.execute=function(){this.layoutInstance.execute()},yt.prototype.getDefaultCfg=function(){return this.layoutInstance.getDefaultCfg()},yt.prototype.destroy=function(){return this.layoutInstance.destroy()},yt}();R.Layout=st,R.Layouts={force:O.ForceLayout,fruchterman:I.FruchtermanLayout,forceAtlas2:$.ForceAtlas2Layout,gForce:_.GForceLayout,dagre:F.DagreLayout,dagreCompound:lt.DagreCompoundLayout,circular:T.CircularLayout,radial:M.RadialLayout,concentric:A.ConcentricLayout,grid:b.GridLayout,mds:L.MDSLayout,comboForce:z.ComboForceLayout,comboCombined:W.ComboCombinedLayout,random:P.RandomLayout,"gForce-gpu":B.GForceGPULayout,"fruchterman-gpu":k.FruchtermanGPULayout,er:K.ERLayout}},52899:function(at,R,d){"use strict";var x=this&&this.__extends||function(){var T=function(F,M){return T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,L){A.__proto__=L}||function(A,L){for(var I in L)Object.prototype.hasOwnProperty.call(L,I)&&(A[I]=L[I])},T(F,M)};return function(F,M){if(typeof M!="function"&&M!==null)throw new TypeError("Class extends value "+String(M)+" is not a constructor or null");T(F,M);function A(){this.constructor=F}F.prototype=M===null?Object.create(M):(A.prototype=M.prototype,new A)}}();Object.defineProperty(R,"__esModule",{value:!0}),R.MDSLayout=void 0;var b=d(70023),P=d(49784),_=d(62329),O=function(T){x(F,T);function F(M){var A=T.call(this)||this;return A.center=[0,0],A.linkDistance=50,A.nodes=[],A.edges=[],A.onLayoutEnd=function(){},A.updateCfg(M),A}return F.prototype.getDefaultCfg=function(){return{center:[0,0],linkDistance:50}},F.prototype.execute=function(){var M=this,A=M.nodes,L=M.edges,I=L===void 0?[]:L,k=M.center;if(!A||A.length===0){M.onLayoutEnd&&M.onLayoutEnd();return}if(A.length===1){A[0].x=k[0],A[0].y=k[1],M.onLayoutEnd&&M.onLayoutEnd();return}var B=M.linkDistance,z=(0,P.getAdjMatrix)({nodes:A,edges:I},!1),W=(0,P.floydWarshall)(z);M.handleInfinity(W);var $=(0,P.scaleMatrix)(W,B);M.scaledDistances=$;var K=M.runMDS();return M.positions=K,K.forEach(function(lt,st){A[st].x=lt[0]+k[0],A[st].y=lt[1]+k[1]}),M.onLayoutEnd&&M.onLayoutEnd(),{nodes:A,edges:I}},F.prototype.runMDS=function(){var M=this,A=2,L=M.scaledDistances,I=b.Matrix.mul(b.Matrix.pow(L,2),-.5),k=I.mean("row"),B=I.mean("column"),z=I.mean();I.add(z).subRowVector(k).subColumnVector(B);var W=new b.SingularValueDecomposition(I),$=b.Matrix.sqrt(W.diagonalMatrix).diagonal();return W.leftSingularVectors.toJSON().map(function(K){return b.Matrix.mul([K],[$]).toJSON()[0].splice(0,A)})},F.prototype.handleInfinity=function(M){var A=-999999;M.forEach(function(L){L.forEach(function(I){I!==1/0&&A<I&&(A=I)})}),M.forEach(function(L,I){L.forEach(function(k,B){k===1/0&&(M[I][B]=A)})})},F.prototype.getType=function(){return"mds"},F}(_.Base);R.MDSLayout=O},47944:function(at,R,d){"use strict";var x=this&&this.__createBinding||(Object.create?function(P,_,O,T){T===void 0&&(T=O),Object.defineProperty(P,T,{enumerable:!0,get:function(){return _[O]}})}:function(P,_,O,T){T===void 0&&(T=O),P[T]=_[O]}),b=this&&this.__exportStar||function(P,_){for(var O in P)O!=="default"&&!Object.prototype.hasOwnProperty.call(_,O)&&x(_,P,O)};Object.defineProperty(R,"__esModule",{value:!0}),b(d(55974),R)},66082:function(at,R,d){"use strict";Object.defineProperty(R,"__esModule",{value:!0});var x=d(70023),b=function(){function P(_){this.distances=_.distances,this.dimension=_.dimension||2,this.linkDistance=_.linkDistance}return P.prototype.layout=function(){var _=this,O=_.dimension,T=_.distances,F=_.linkDistance;try{var M=x.Matrix.mul(x.Matrix.pow(T,2),-.5),A=M.mean("row"),L=M.mean("column"),I=M.mean();M.add(I).subRowVector(A).subColumnVector(L);var k=new x.SingularValueDecomposition(M),B=x.Matrix.sqrt(k.diagonalMatrix).diagonal();return k.leftSingularVectors.toJSON().map(function(lt){return x.Matrix.mul([lt],[B]).toJSON()[0].splice(0,O)})}catch(lt){for(var z=[],W=0;W<T.length;W++){var $=Math.random()*F,K=Math.random()*F;z.push([$,K])}return z}},P}();R.default=b},55974:function(at,R,d){"use strict";var x=this&&this.__extends||function(){var I=function(k,B){return I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,W){z.__proto__=W}||function(z,W){for(var $ in W)Object.prototype.hasOwnProperty.call(W,$)&&(z[$]=W[$])},I(k,B)};return function(k,B){if(typeof B!="function"&&B!==null)throw new TypeError("Class extends value "+String(B)+" is not a constructor or null");I(k,B);function z(){this.constructor=k}k.prototype=B===null?Object.create(B):(z.prototype=B.prototype,new z)}}(),b=this&&this.__importDefault||function(I){return I&&I.__esModule?I:{default:I}};Object.defineProperty(R,"__esModule",{value:!0}),R.RadialLayout=void 0;var P=d(49784),_=d(62329),O=b(d(66082)),T=b(d(6290));function F(I){for(var k=I.length,B=I[0].length,z=[],W=0;W<k;W++){for(var $=[],K=0;K<B;K++)I[W][K]!==0?$.push(1/(I[W][K]*I[W][K])):$.push(0);z.push($)}return z}function M(I,k){var B=-1;return I.forEach(function(z,W){z.id===k&&(B=W)}),B}function A(I,k){return Math.sqrt((I[0]-k[0])*(I[0]-k[0])+(I[1]-k[1])*(I[1]-k[1]))}var L=function(I){x(k,I);function k(B){var z=I.call(this)||this;return z.maxIteration=1e3,z.focusNode=null,z.unitRadius=null,z.linkDistance=50,z.preventOverlap=!1,z.strictRadial=!0,z.maxPreventOverlapIteration=200,z.sortStrength=10,z.nodes=[],z.edges=[],z.updateCfg(B),z}return k.prototype.getDefaultCfg=function(){return{maxIteration:1e3,focusNode:null,unitRadius:null,linkDistance:50,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,strictRadial:!0,maxPreventOverlapIteration:200,sortBy:void 0,sortStrength:10}},k.prototype.execute=function(){var B=this,z=B.nodes,W=B.edges||[];if(!z||z.length===0){B.onLayoutEnd&&B.onLayoutEnd();return}!B.width&&typeof window!="undefined"&&(B.width=window.innerWidth),!B.height&&typeof window!="undefined"&&(B.height=window.innerHeight),B.center||(B.center=[B.width/2,B.height/2]);var $=B.center;if(z.length===1){z[0].x=$[0],z[0].y=$[1],B.onLayoutEnd&&B.onLayoutEnd();return}var K=B.linkDistance,lt=null;if((0,P.isString)(B.focusNode)){for(var st=!1,yt=0;yt<z.length;yt++)z[yt].id===B.focusNode&&(lt=z[yt],B.focusNode=lt,st=!0,yt=z.length);st||(lt=null)}else lt=B.focusNode;lt||(lt=z[0],B.focusNode=lt);var q=M(z,lt.id);q<0&&(q=0),B.focusIndex=q;var nt=(0,P.getAdjMatrix)({nodes:z,edges:W},!1),ct=(0,P.floydWarshall)(nt),bt=B.maxToFocus(ct,q);B.handleInfinity(ct,q,bt+1),B.distances=ct;var _t=ct[q],St=B.width||500,At=B.height||500,vt=St-$[0]>$[0]?$[0]:St-$[0],dt=At-$[1]>$[1]?$[1]:At-$[1];vt===0&&(vt=St/2),dt===0&&(dt=At/2);var gt=dt>vt?vt:dt,Ct=Math.max.apply(Math,_t),Et=[];_t.forEach(function(Ee,ge){B.unitRadius||(B.unitRadius=gt/Ct),Et[ge]=Ee*B.unitRadius}),B.radii=Et;var Tt=B.eIdealDisMatrix();B.eIdealDistances=Tt;var ot=F(Tt);B.weights=ot;var Mt=new O.default({linkDistance:K,distances:Tt}),Wt=Mt.layout();Wt.forEach(function(Ee){(0,P.isNaN)(Ee[0])&&(Ee[0]=Math.random()*K),(0,P.isNaN)(Ee[1])&&(Ee[1]=Math.random()*K)}),B.positions=Wt,Wt.forEach(function(Ee,ge){z[ge].x=Ee[0]+$[0],z[ge].y=Ee[1]+$[1]}),Wt.forEach(function(Ee){Ee[0]-=Wt[q][0],Ee[1]-=Wt[q][1]}),B.run();var jt=B.preventOverlap,qt=B.nodeSize,se,ae=B.strictRadial;if(jt){var he=B.nodeSpacing,ke;(0,P.isNumber)(he)?ke=function(){return he}:(0,P.isFunction)(he)?ke=he:ke=function(){return 0},qt?(0,P.isArray)(qt)?se=function(Ee){var ge=qt[0]>qt[1]?qt[0]:qt[1];return ge+ke(Ee)}:se=function(Ee){return qt+ke(Ee)}:se=function(Ee){if(Ee.size){if((0,P.isArray)(Ee.size)){var ge=Ee.size[0]>Ee.size[1]?Ee.size[0]:Ee.size[1];return ge+ke(Ee)}if((0,P.isObject)(Ee.size)){var ge=Ee.size.width>Ee.size.height?Ee.size.width:Ee.size.height;return ge+ke(Ee)}return Ee.size+ke(Ee)}return 10+ke(Ee)};var Le={nodes:z,nodeSizeFunc:se,adjMatrix:nt,positions:Wt,radii:Et,height:At,width:St,strictRadial:ae,focusID:q,iterations:B.maxPreventOverlapIteration||200,k:Wt.length/4.5},rr=new T.default(Le);Wt=rr.layout()}return Wt.forEach(function(Ee,ge){z[ge].x=Ee[0]+$[0],z[ge].y=Ee[1]+$[1]}),B.onLayoutEnd&&B.onLayoutEnd(),{nodes:z,edges:W}},k.prototype.run=function(){for(var B=this,z=B.maxIteration,W=B.positions||[],$=B.weights||[],K=B.eIdealDistances||[],lt=B.radii||[],st=0;st<=z;st++){var yt=st/z;B.oneIteration(yt,W,lt,K,$)}},k.prototype.oneIteration=function(B,z,W,$,K){var lt=this,st=1-B,yt=lt.focusIndex;z.forEach(function(q,nt){var ct=A(q,[0,0]),bt=ct===0?0:1/ct;if(nt!==yt){var _t=0,St=0,At=0;z.forEach(function(dt,gt){if(nt!==gt){var Ct=A(q,dt),Et=Ct===0?0:1/Ct,Tt=$[gt][nt];At+=K[nt][gt],_t+=K[nt][gt]*(dt[0]+Tt*(q[0]-dt[0])*Et),St+=K[nt][gt]*(dt[1]+Tt*(q[1]-dt[1])*Et)}});var vt=W[nt]===0?0:1/W[nt];At*=st,At+=B*vt*vt,_t*=st,_t+=B*vt*q[0]*bt,q[0]=_t/At,St*=st,St+=B*vt*q[1]*bt,q[1]=St/At}})},k.prototype.eIdealDisMatrix=function(){var B=this,z=B.nodes;if(!z)return[];var W=B.distances,$=B.linkDistance,K=B.radii||[],lt=B.unitRadius||50,st=[];return W&&W.forEach(function(yt,q){var nt=[];yt.forEach(function(ct,bt){if(q===bt)nt.push(0);else if(K[q]===K[bt])if(B.sortBy==="data")nt.push(ct*(Math.abs(q-bt)*B.sortStrength)/(K[q]/lt));else if(B.sortBy){var _t=z[q][B.sortBy]||0,St=z[bt][B.sortBy]||0;(0,P.isString)(_t)&&(_t=_t.charCodeAt(0)),(0,P.isString)(St)&&(St=St.charCodeAt(0)),nt.push(ct*(Math.abs(_t-St)*B.sortStrength)/(K[q]/lt))}else nt.push(ct*$/(K[q]/lt));else{var At=($+lt)/2;nt.push(ct*At)}}),st.push(nt)}),st},k.prototype.handleInfinity=function(B,z,W){for(var $=B.length,K=0;K<$;K++)if(B[z][K]===1/0){B[z][K]=W,B[K][z]=W;for(var lt=0;lt<$;lt++)B[K][lt]!==1/0&&B[z][lt]===1/0&&(B[z][lt]=W+B[K][lt],B[lt][z]=W+B[K][lt])}for(var K=0;K<$;K++)if(K!==z){for(var lt=0;lt<$;lt++)if(B[K][lt]===1/0){var st=Math.abs(B[z][K]-B[z][lt]);st=st===0?1:st,B[K][lt]=st}}},k.prototype.maxToFocus=function(B,z){for(var W=0,$=0;$<B[z].length;$++)B[z][$]!==1/0&&(W=B[z][$]>W?B[z][$]:W);return W},k.prototype.getType=function(){return"radial"},k}(_.Base);R.RadialLayout=L},6290:function(at,R){"use strict";Object.defineProperty(R,"__esModule",{value:!0});var d=800,x=function(){function b(P){this.disp=[],this.positions=P.positions,this.adjMatrix=P.adjMatrix,this.focusID=P.focusID,this.radii=P.radii,this.iterations=P.iterations||10,this.height=P.height||10,this.width=P.width||10,this.speed=P.speed||100,this.gravity=P.gravity||10,this.nodeSizeFunc=P.nodeSizeFunc,this.k=P.k||5,this.strictRadial=P.strictRadial,this.nodes=P.nodes}return b.prototype.layout=function(){var P=this,_=P.positions,O=[],T=P.iterations,F=P.width/10;P.maxDisplace=F,P.disp=O;for(var M=0;M<T;M++)_.forEach(function(A,L){O[L]={x:0,y:0}}),P.getRepulsion(),P.updatePositions();return _},b.prototype.getRepulsion=function(){var P=this,_=P.positions,O=P.nodes,T=P.disp,F=P.k,M=P.radii||[];_.forEach(function(A,L){T[L]={x:0,y:0},_.forEach(function(I,k){if(L!==k&&M[L]===M[k]){var B=A[0]-I[0],z=A[1]-I[1],W=Math.sqrt(B*B+z*z);if(W===0){W=1;var $=L>k?1:-1;B=.01*$,z=.01*$}if(W<P.nodeSizeFunc(O[L])/2+P.nodeSizeFunc(O[k])/2){var K=F*F/W;T[L].x+=B/W*K,T[L].y+=z/W*K}}})})},b.prototype.updatePositions=function(){var P=this,_=P.positions,O=P.disp,T=P.speed,F=P.strictRadial,M=P.focusID,A=P.maxDisplace||P.width/10;F&&O.forEach(function(I,k){var B=_[k][0]-_[M][0],z=_[k][1]-_[M][1],W=Math.sqrt(B*B+z*z),$=z/W,K=-B/W,lt=Math.sqrt(I.x*I.x+I.y*I.y),st=Math.acos(($*I.x+K*I.y)/lt);st>Math.PI/2&&(st-=Math.PI/2,$*=-1,K*=-1);var yt=Math.cos(st)*lt;I.x=$*yt,I.y=K*yt});var L=P.radii;_.forEach(function(I,k){if(k!==M){var B=Math.sqrt(O[k].x*O[k].x+O[k].y*O[k].y);if(B>0&&k!==M){var z=Math.min(A*(T/d),B);if(I[0]+=O[k].x/B*z,I[1]+=O[k].y/B*z,F){var W=I[0]-_[M][0],$=I[1]-_[M][1],K=Math.sqrt(W*W+$*$);W=W/K*L[k],$=$/K*L[k],I[0]=_[M][0]+W,I[1]=_[M][1]+$}}}})},b}();R.default=x},39711:function(at,R,d){"use strict";var x=this&&this.__extends||function(){var _=function(O,T){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(F,M){F.__proto__=M}||function(F,M){for(var A in M)Object.prototype.hasOwnProperty.call(M,A)&&(F[A]=M[A])},_(O,T)};return function(O,T){if(typeof T!="function"&&T!==null)throw new TypeError("Class extends value "+String(T)+" is not a constructor or null");_(O,T);function F(){this.constructor=O}O.prototype=T===null?Object.create(T):(F.prototype=T.prototype,new F)}}();Object.defineProperty(R,"__esModule",{value:!0}),R.RandomLayout=void 0;var b=d(62329),P=function(_){x(O,_);function O(T){var F=_.call(this)||this;return F.center=[0,0],F.width=300,F.height=300,F.nodes=[],F.edges=[],F.onLayoutEnd=function(){},F.updateCfg(T),F}return O.prototype.getDefaultCfg=function(){return{center:[0,0],width:300,height:300}},O.prototype.execute=function(){var T=this,F=T.nodes,M=.9,A=T.center;return!T.width&&typeof window!="undefined"&&(T.width=window.innerWidth),!T.height&&typeof window!="undefined"&&(T.height=window.innerHeight),F&&F.forEach(function(L){L.x=(Math.random()-.5)*M*T.width+A[0],L.y=(Math.random()-.5)*M*T.height+A[1]}),T.onLayoutEnd&&T.onLayoutEnd(),{nodes:F,edges:this.edges}},O.prototype.getType=function(){return"random"},O}(b.Base);R.RandomLayout=P},32867:function(at,R){"use strict";Object.defineProperty(R,"__esModule",{value:!0})},95326:function(at,R,d){"use strict";var x=this&&this.__extends||function(){var M=function(A,L){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,k){I.__proto__=k}||function(I,k){for(var B in k)Object.prototype.hasOwnProperty.call(k,B)&&(I[B]=k[B])},M(A,L)};return function(A,L){if(typeof L!="function"&&L!==null)throw new TypeError("Class extends value "+String(L)+" is not a constructor or null");M(A,L);function I(){this.constructor=A}A.prototype=L===null?Object.create(L):(I.prototype=L.prototype,new I)}}();Object.defineProperty(R,"__esModule",{value:!0}),R.getLayoutByName=R.unRegisterLayout=R.registerLayout=void 0;var b=d(62329),P=d(49784),_=new Map,O=function(M,A){if(_.get(M)&&console.warn("The layout with the name "+M+" exists already, it will be overridden"),(0,P.isObject)(A)){var L=function(I){x(k,I);function k(B){var z=I.call(this)||this,W=z,$={},K=W.getDefaultCfg();return Object.assign($,K,A,B),Object.keys($).forEach(function(lt){var st=$[lt];W[lt]=st}),z}return k}(b.Base);_.set(M,L)}else _.set(M,A);return _.get(M)};R.registerLayout=O;var T=function(M){_.has(M)&&_.delete(M)};R.unRegisterLayout=T;var F=function(M){return _.has(M)?_.get(M):null};R.getLayoutByName=F},85087:function(at,R){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.isArray=void 0,R.isArray=Array.isArray},78732:function(at,R,d){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.getFuncByUnknownType=R.getFunc=R.isFunction=void 0;var x=d(49784),b=d(30627),P=function(T){return typeof T=="function"};R.isFunction=P;var _=function(T,F,M){var A;return M?A=M:(0,b.isNumber)(T)?A=function(){return T}:A=function(){return F},A};R.getFunc=_;var O=function(T,F,M){return M===void 0&&(M=!0),!F&&F!==0?function(A){return A.size?(0,x.isArray)(A.size)?A.size[0]>A.size[1]?A.size[0]:A.size[1]:(0,x.isObject)(A.size)?A.size.width>A.size.height?A.size.width:A.size.height:A.size:T}:(0,R.isFunction)(F)?F:(0,b.isNumber)(F)?function(){return F}:(0,x.isArray)(F)?function(){if(M){var A=Math.max.apply(Math,F);return isNaN(A)?T:A}return F}:(0,x.isObject)(F)?function(){if(M){var A=Math.max(F.width,F.height);return isNaN(A)?T:A}return[F.width,F.height]}:function(){return T}};R.getFuncByUnknownType=O},48835:function(at,R,d){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.arrayToTextureData=R.attributesToTextureData=R.buildTextureDataWithTwoEdgeAttr=R.buildTextureData=R.proccessToFunc=void 0;var x=d(49784),b=d(80628),P=function(M,A){var L;return M?(0,x.isNumber)(M)?L=function(){return M}:L=M:L=function(){return A||1},L};R.proccessToFunc=P;var _=function(M,A){var L=[],I=[],k={},B=0;for(B=0;B<M.length;B++){var z=M[B];k[z.id]=B,L.push(z.x),L.push(z.y),L.push(0),L.push(0),I.push([])}for(B=0;B<A.length;B++){var W=A[B],$=(0,b.getEdgeTerminal)(W,"source"),K=(0,b.getEdgeTerminal)(W,"target");I[k[$]].push(k[K]),I[k[K]].push(k[$])}var lt=0;for(B=0;B<M.length;B++){var st=L.length,yt=I[B],q=yt.length;L[B*4+2]=st,L[B*4+3]=yt.length,lt=Math.max(lt,yt.length);for(var nt=0;nt<q;++nt){var ct=yt[nt];L.push(+ct)}}for(;L.length%4!==0;)L.push(0);return{maxEdgePerVetex:lt,array:new Float32Array(L)}};R.buildTextureData=_;var O=function(M,A,L,I){var k=[],B=[],z={},W=0;for(W=0;W<M.length;W++){var $=M[W];z[$.id]=W,k.push($.x),k.push($.y),k.push(0),k.push(0),B.push([])}for(W=0;W<A.length;W++){var K=A[W],lt=(0,b.getEdgeTerminal)(K,"source"),st=(0,b.getEdgeTerminal)(K,"target");B[z[lt]].push(z[st]),B[z[lt]].push(L(K)),B[z[lt]].push(I(K)),B[z[lt]].push(0),B[z[st]].push(z[lt]),B[z[st]].push(L(K)),B[z[st]].push(I(K)),B[z[st]].push(0)}var yt=0;for(W=0;W<M.length;W++){var q=k.length,nt=B[W],ct=nt.length;k[W*4+2]=q+1048576*ct/4,k[W*4+3]=0,yt=Math.max(yt,ct/4);for(var bt=0;bt<ct;++bt){var _t=nt[bt];k.push(+_t)}}for(;k.length%4!==0;)k.push(0);return{maxEdgePerVetex:yt,array:new Float32Array(k)}};R.buildTextureDataWithTwoEdgeAttr=O;var T=function(M,A){var L=[],I=M.length,k={};return A.forEach(function(B){M.forEach(function(z,W){if(k[B[z]]===void 0&&(k[B[z]]=Object.keys(k).length),L.push(k[B[z]]),W===I-1)for(;L.length%4!==0;)L.push(0)})}),{array:new Float32Array(L),count:Object.keys(k).length}};R.attributesToTextureData=T;var F=function(M){for(var A=[],L=M.length,I=M[0].length,k=function(z){M.forEach(function(W,$){if(A.push(W[z]),$===L-1)for(;A.length%4!==0;)A.push(0)})},B=0;B<I;B++)k(B);return new Float32Array(A)};R.arrayToTextureData=F},49784:function(at,R,d){"use strict";var x=this&&this.__createBinding||(Object.create?function(P,_,O,T){T===void 0&&(T=O),Object.defineProperty(P,T,{enumerable:!0,get:function(){return _[O]}})}:function(P,_,O,T){T===void 0&&(T=O),P[T]=_[O]}),b=this&&this.__exportStar||function(P,_){for(var O in P)O!=="default"&&!Object.prototype.hasOwnProperty.call(_,O)&&x(_,P,O)};Object.defineProperty(R,"__esModule",{value:!0}),b(d(8055),R),b(d(85087),R),b(d(30627),R),b(d(80628),R),b(d(98130),R),b(d(78732),R)},80628:function(at,R,d){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.findMinMaxNodeXY=R.traverseTreeUp=R.scaleMatrix=R.getAdjMatrix=R.floydWarshall=R.getDegree=R.getEdgeTerminal=void 0;var x=d(98130),b=function(L,I){var k=L[I];return(0,x.isObject)(k)?k.cell:k};R.getEdgeTerminal=b;var P=function(L,I,k){for(var B=[],z=0;z<L;z++)B[z]=0;return k&&k.forEach(function(W){var $=(0,R.getEdgeTerminal)(W,"source"),K=(0,R.getEdgeTerminal)(W,"target");$&&(B[I[$]]+=1),K&&(B[I[K]]+=1)}),B};R.getDegree=P;var _=function(L){for(var I=[],k=L.length,B=0;B<k;B+=1){I[B]=[];for(var z=0;z<k;z+=1)B===z?I[B][z]=0:L[B][z]===0||!L[B][z]?I[B][z]=1/0:I[B][z]=L[B][z]}for(var W=0;W<k;W+=1)for(var B=0;B<k;B+=1)for(var z=0;z<k;z+=1)I[B][z]>I[B][W]+I[W][z]&&(I[B][z]=I[B][W]+I[W][z]);return I};R.floydWarshall=_;var O=function(L,I){var k=L.nodes,B=L.edges,z=[],W={};if(!k)throw new Error("invalid nodes data!");return k&&k.forEach(function($,K){W[$.id]=K;var lt=[];z.push(lt)}),B&&B.forEach(function($){var K=(0,R.getEdgeTerminal)($,"source"),lt=(0,R.getEdgeTerminal)($,"target"),st=W[K],yt=W[lt];z[st][yt]=1,I||(z[yt][st]=1)}),z};R.getAdjMatrix=O;var T=function(L,I){var k=[];return L.forEach(function(B){var z=[];B.forEach(function(W){z.push(W*I)}),k.push(z)}),k};R.scaleMatrix=T;var F=function(L,I){if(L&&L.children){for(var k=L.children.length-1;k>=0;k--)if(!F(L.children[k],I))return}return!!I(L)},M=function(L,I){typeof I=="function"&&F(L,I)};R.traverseTreeUp=M;var A=function(L){var I=1/0,k=1/0,B=-1/0,z=-1/0;return L.forEach(function(W){I>W.x&&(I=W.x),k>W.y&&(k=W.y),B<W.x&&(B=W.x),z<W.y&&(z=W.y)}),{minX:I,minY:k,maxX:B,maxY:z}};R.findMinMaxNodeXY=A},30627:function(at,R){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.toNumber=R.isNaN=R.isNumber=void 0;var d=function(P){return typeof P=="number"};R.isNumber=d;var x=function(P){return Number.isNaN(Number(P))};R.isNaN=x;var b=function(P){var _=parseFloat(P);return(0,R.isNaN)(_)?P:_};R.toNumber=b},98130:function(at,R){"use strict";var d=this&&this.__assign||function(){return d=Object.assign||function(P){for(var _,O=1,T=arguments.length;O<T;O++){_=arguments[O];for(var F in _)Object.prototype.hasOwnProperty.call(_,F)&&(P[F]=_[F])}return P},d.apply(this,arguments)};Object.defineProperty(R,"__esModule",{value:!0}),R.clone=R.isObject=void 0;var x=function(P){return P!==null&&typeof P=="object"};R.isObject=x;var b=function(P){if(P===null)return P;if(P instanceof Date)return new Date(P.getTime());if(P instanceof Array){var _=[];return P.forEach(function(T){_.push(T)}),_.map(function(T){return(0,R.clone)(T)})}if(typeof P=="object"&&P!=={}){var O=d({},P);return Object.keys(O).forEach(function(T){O[T]=(0,R.clone)(O[T])}),O}return P};R.clone=b},8055:function(at,R){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.camelize=R.isString=void 0;var d=function(P){return typeof P=="string"};R.isString=d;var x=function(P){var _=Object.create(null);return function(O){var T=_[O];return T||(_[O]=P(O))}},b=/-(\w)/g;R.camelize=x(function(P){return P.replace(b,function(_,O){return O?O.toUpperCase():""})})},49242:function(at,R,d){"use strict";d.r(R),d.d(R,{Cache:function(){return ju},assign:function(){return Gu},augment:function(){return Du},clamp:function(){return ie},clearAnimationFrame:function(){return Qa},clone:function(){return Hh},contains:function(){return _},debounce:function(){return tv},deepMix:function(){return Yh},difference:function(){return M},each:function(){return lt},endsWith:function(){return Sn},every:function(){return hn},extend:function(){return ns},filter:function(){return T},find:function(){return vt},findIndex:function(){return gt},firstValue:function(){return Et},fixedBase:function(){return ce},flatten:function(){return ot},flattenDeep:function(){return Wt},forIn:function(){return zo},get:function(){return tc},getEllipsisText:function(){return Ns},getRange:function(){return ae},getType:function(){return sl},getWrapBehavior:function(){return jr},group:function(){return Je},groupBy:function(){return xe},groupToMap:function(){return Ge},has:function(){return Po},hasKey:function(){return au},hasValue:function(){return po},head:function(){return Wn},identity:function(){return rc},includes:function(){return _},indexOf:function(){return xs},isArguments:function(){return Br},isArray:function(){return W},isArrayLike:function(){return b},isBoolean:function(){return af},isDate:function(){return Dc},isDecimal:function(){return sn},isElement:function(){return Pc},isEmpty:function(){return If},isEqual:function(){return _o},isEqualWith:function(){return Uu},isError:function(){return Td},isEven:function(){return cn},isFinite:function(){return Md},isFunction:function(){return k},isInteger:function(){return me},isMatch:function(){return nt},isNegative:function(){return Zn},isNil:function(){return z},isNull:function(){return Zl},isNumber:function(){return Ne},isNumberEqual:function(){return Or},isObject:function(){return $},isObjectLike:function(){return bt},isOdd:function(){return Cr},isPlainObject:function(){return St},isPositive:function(){return _n},isPrototype:function(){return of},isRegExp:function(){return go},isString:function(){return ze},isType:function(){return I},isUndefined:function(){return sh},keys:function(){return yt},last:function(){return ui},lowerCase:function(){return za},lowerFirst:function(){return nf},map:function(){return ql},mapValues:function(){return ul},max:function(){return jt},maxBy:function(){return Mi},measureTextWidth:function(){return ic},memoize:function(){return Id},min:function(){return qt},minBy:function(){return or},mix:function(){return Gu},mod:function(){return ti},noop:function(){return Of},number2color:function(){return J},omit:function(){return eo},parseRadius:function(){return Rt},pick:function(){return Pu},pull:function(){return Ee},pullAt:function(){return Ce},reduce:function(){return Gt},remove:function(){return Kt},requestAnimationFrame:function(){return Vh},set:function(){return ec},size:function(){return Rc},some:function(){return En},sortBy:function(){return tr},startsWith:function(){return fr},substitute:function(){return ih},throttle:function(){return ch},toArray:function(){return $h},toDegree:function(){return Rn},toInteger:function(){return fa},toRadian:function(){return da},toString:function(){return Za},union:function(){return Ir},uniq:function(){return re},uniqueId:function(){return Kh},upperCase:function(){return Ic},upperFirst:function(){return Ys},values:function(){return Ha},valuesOfKey:function(){return gn},wrapBehavior:function(){return Ut}});var x=function(fe){return fe!==null&&typeof fe!="function"&&isFinite(fe.length)},b=x,P=function(fe,qe){return b(fe)?fe.indexOf(qe)>-1:!1},_=P,O=function(fe,qe){if(!b(fe))return fe;for(var Sr=[],Kr=0;Kr<fe.length;Kr++){var Pn=fe[Kr];qe(Pn,Kr)&&Sr.push(Pn)}return Sr},T=O,F=function(fe,qe){return qe===void 0&&(qe=[]),T(fe,function(Sr){return!_(qe,Sr)})},M=F,A={}.toString,L=function(fe,qe){return A.call(fe)==="[object "+qe+"]"},I=L,k=function(fe){return I(fe,"Function")},B=function(fe){return fe==null},z=B,W=function(fe){return Array.isArray?Array.isArray(fe):I(fe,"Array")},$=function(fe){var qe=typeof fe;return fe!==null&&qe==="object"||qe==="function"};function K(fe,qe){if(!!fe){var Sr;if(W(fe))for(var Kr=0,Pn=fe.length;Kr<Pn&&(Sr=qe(fe[Kr],Kr),Sr!==!1);Kr++);else if($(fe)){for(var ci in fe)if(fe.hasOwnProperty(ci)&&(Sr=qe(fe[ci],ci),Sr===!1))break}}}var lt=K,st=Object.keys?function(fe){return Object.keys(fe)}:function(fe){var qe=[];return lt(fe,function(Sr,Kr){k(fe)&&Kr==="prototype"||qe.push(Kr)}),qe},yt=st;function q(fe,qe){var Sr=yt(qe),Kr=Sr.length;if(z(fe))return!Kr;for(var Pn=0;Pn<Kr;Pn+=1){var ci=Sr[Pn];if(qe[ci]!==fe[ci]||!(ci in fe))return!1}return!0}var nt=q,ct=function(fe){return typeof fe=="object"&&fe!==null},bt=ct,_t=function(fe){if(!bt(fe)||!I(fe,"Object"))return!1;if(Object.getPrototypeOf(fe)===null)return!0;for(var qe=fe;Object.getPrototypeOf(qe)!==null;)qe=Object.getPrototypeOf(qe);return Object.getPrototypeOf(fe)===qe},St=_t;function At(fe,qe){if(!W(fe))return null;var Sr;if(k(qe)&&(Sr=qe),St(qe)&&(Sr=function(Pn){return nt(Pn,qe)}),Sr){for(var Kr=0;Kr<fe.length;Kr+=1)if(Sr(fe[Kr]))return fe[Kr]}return null}var vt=At;function dt(fe,qe,Sr){Sr===void 0&&(Sr=0);for(var Kr=Sr;Kr<fe.length;Kr++)if(qe(fe[Kr],Kr))return Kr;return-1}var gt=dt,Ct=function(fe,qe){for(var Sr=null,Kr=0;Kr<fe.length;Kr++){var Pn=fe[Kr],ci=Pn[qe];if(!z(ci)){W(ci)?Sr=ci[0]:Sr=ci;break}}return Sr},Et=Ct,Tt=function(fe){if(!W(fe))return[];for(var qe=[],Sr=0;Sr<fe.length;Sr++)qe=qe.concat(fe[Sr]);return qe},ot=Tt,Mt=function(fe,qe){if(qe===void 0&&(qe=[]),!W(fe))qe.push(fe);else for(var Sr=0;Sr<fe.length;Sr+=1)Mt(fe[Sr],qe);return qe},Wt=Mt,jt=function(fe){if(!!W(fe))return fe.reduce(function(qe,Sr){return Math.max(qe,Sr)},fe[0])},qt=function(fe){if(!!W(fe))return fe.reduce(function(qe,Sr){return Math.min(qe,Sr)},fe[0])},se=function(fe){var qe=fe.filter(function(Pi){return!isNaN(Pi)});if(!qe.length)return{min:0,max:0};if(W(fe[0])){for(var Sr=[],Kr=0;Kr<fe.length;Kr++)Sr=Sr.concat(fe[Kr]);qe=Sr}var Pn=jt(qe),ci=qt(qe);return{min:ci,max:Pn}},ae=se,he=Array.prototype,ke=he.splice,Le=he.indexOf,rr=function(fe){for(var qe=[],Sr=1;Sr<arguments.length;Sr++)qe[Sr-1]=arguments[Sr];for(var Kr=0;Kr<qe.length;Kr++)for(var Pn=qe[Kr],ci=-1;(ci=Le.call(fe,Pn))>-1;)ke.call(fe,ci,1);return fe},Ee=rr,ge=Array.prototype.splice,we=function(qe,Sr){if(!b(qe))return[];for(var Kr=qe?Sr.length:0,Pn=Kr-1;Kr--;){var ci=void 0,Pi=Sr[Kr];(Kr===Pn||Pi!==ci)&&(ci=Pi,ge.call(qe,Pi,1))}return qe},Ce=we,ye=function(fe,qe,Sr){if(!W(fe)&&!St(fe))return fe;var Kr=Sr;return lt(fe,function(Pn,ci){Kr=qe(Kr,Pn,ci)}),Kr},Gt=ye,Xt=function(fe,qe){var Sr=[];if(!b(fe))return Sr;for(var Kr=-1,Pn=[],ci=fe.length;++Kr<ci;){var Pi=fe[Kr];qe(Pi,Kr,fe)&&(Sr.push(Pi),Pn.push(Kr))}return Ce(fe,Pn),Sr},Kt=Xt,ze=function(fe){return I(fe,"String")};function ur(fe,qe){var Sr;if(k(qe))Sr=function(Pn,ci){return qe(Pn)-qe(ci)};else{var Kr=[];ze(qe)?Kr.push(qe):W(qe)&&(Kr=qe),Sr=function(Pn,ci){for(var Pi=0;Pi<Kr.length;Pi+=1){var xa=Kr[Pi];if(Pn[xa]>ci[xa])return 1;if(Pn[xa]<ci[xa])return-1}return 0}}return fe.sort(Sr),fe}var tr=ur;function re(fe,qe){qe===void 0&&(qe=new Map);var Sr=[];if(Array.isArray(fe))for(var Kr=0,Pn=fe.length;Kr<Pn;Kr++){var ci=fe[Kr];qe.has(ci)||(Sr.push(ci),qe.set(ci,!0))}return Sr}var Qr=function(){for(var fe=[],qe=0;qe<arguments.length;qe++)fe[qe]=arguments[qe];return re([].concat.apply([],fe))},Ir=Qr,gn=function(fe,qe){for(var Sr=[],Kr={},Pn=0;Pn<fe.length;Pn++){var ci=fe[Pn],Pi=ci[qe];if(!z(Pi)){W(Pi)||(Pi=[Pi]);for(var xa=0;xa<Pi.length;xa++){var ro=Pi[xa];Kr[ro]||(Sr.push(ro),Kr[ro]=!0)}}}return Sr};function Wn(fe){if(b(fe))return fe[0]}function ui(fe){if(b(fe)){var qe=fe;return qe[qe.length-1]}}function bi(fe,qe){return W(fe)||ze(fe)?fe[0]===qe:!1}var fr=bi;function Zr(fe,qe){return W(fe)||ze(fe)?fe[fe.length-1]===qe:!1}var Sn=Zr,Dn=function(fe,qe){for(var Sr=0;Sr<fe.length;Sr++)if(!qe(fe[Sr],Sr))return!1;return!0},hn=Dn,Gn=function(fe,qe){for(var Sr=0;Sr<fe.length;Sr++)if(qe(fe[Sr],Sr))return!0;return!1},En=Gn,In=Object.prototype.hasOwnProperty;function Fn(fe,qe){if(!qe||!W(fe))return{};for(var Sr={},Kr=k(qe)?qe:function(xa){return xa[qe]},Pn,ci=0;ci<fe.length;ci++){var Pi=fe[ci];Pn=Kr(Pi),In.call(Sr,Pn)?Sr[Pn].push(Pi):Sr[Pn]=[Pi]}return Sr}var xe=Fn;function Ge(fe,qe){if(!qe)return{0:fe};if(!k(qe)){var Sr=W(qe)?qe:qe.replace(/\s+/g,"").split("*");qe=function(Kr){for(var Pn="_",ci=0,Pi=Sr.length;ci<Pi;ci++)Pn+=Kr[Sr[ci]]&&Kr[Sr[ci]].toString();return Pn}}return xe(fe,qe)}var Je=function(fe,qe){if(!qe)return[fe];var Sr=Ge(fe,qe),Kr=[];for(var Pn in Sr)Kr.push(Sr[Pn]);return Kr};function br(fe,qe){return fe["_wrap_"+qe]}var jr=br;function Wr(fe,qe){if(fe["_wrap_"+qe])return fe["_wrap_"+qe];var Sr=function(Kr){fe[qe](Kr)};return fe["_wrap_"+qe]=Sr,Sr}var Ut=Wr,ft={};function pt(fe){var qe=ft[fe];if(!qe){for(var Sr=fe.toString(16),Kr=Sr.length;Kr<6;Kr++)Sr="0"+Sr;qe="#"+Sr,ft[fe]=qe}return qe}var J=pt;function xt(fe){var qe=0,Sr=0,Kr=0,Pn=0;return W(fe)?fe.length===1?qe=Sr=Kr=Pn=fe[0]:fe.length===2?(qe=Kr=fe[0],Sr=Pn=fe[1]):fe.length===3?(qe=fe[0],Sr=Pn=fe[1],Kr=fe[2]):(qe=fe[0],Sr=fe[1],Kr=fe[2],Pn=fe[3]):qe=Sr=Kr=Pn=fe,{r1:qe,r2:Sr,r3:Kr,r4:Pn}}var Rt=xt,ue=function(fe,qe,Sr){return fe<qe?qe:fe>Sr?Sr:fe},ie=ue,be=function(fe,qe){var Sr=qe.toString(),Kr=Sr.indexOf(".");if(Kr===-1)return Math.round(fe);var Pn=Sr.substr(Kr+1).length;return Pn>20&&(Pn=20),parseFloat(fe.toFixed(Pn))},ce=be,We=function(fe){return I(fe,"Number")},Ne=We,Mr=function(fe){return Ne(fe)&&fe%1!==0},sn=Mr,hr=function(fe){return Ne(fe)&&fe%2===0},cn=hr,kn=Number.isInteger?Number.isInteger:function(fe){return Ne(fe)&&fe%1===0},me=kn,Tn=function(fe){return Ne(fe)&&fe<0},Zn=Tn,Kn=1e-5;function Or(fe,qe,Sr){return Sr===void 0&&(Sr=Kn),Math.abs(fe-qe)<Sr}var wn=function(fe){return Ne(fe)&&fe%2!==0},Cr=wn,xr=function(fe){return Ne(fe)&&fe>0},_n=xr,Mi=function(fe,qe){if(!!W(fe)){for(var Sr,Kr=-1/0,Pn=0;Pn<fe.length;Pn++){var ci=fe[Pn],Pi=k(qe)?qe(ci):ci[qe];Pi>Kr&&(Sr=ci,Kr=Pi)}return Sr}},or=function(fe,qe){if(!!W(fe)){for(var Sr,Kr=1/0,Pn=0;Pn<fe.length;Pn++){var ci=fe[Pn],Pi=k(qe)?qe(ci):ci[qe];Pi<Kr&&(Sr=ci,Kr=Pi)}return Sr}},Bn=function(fe,qe){return(fe%qe+qe)%qe},ti=Bn,Vn=180/Math.PI,qi=function(fe){return Vn*fe},Rn=qi,fa=parseInt,Ci=Math.PI/180,ga=function(fe){return Ci*fe},da=ga,zo=lt,Po=function(fe,qe){return fe.hasOwnProperty(qe)},au=Po,Yi=Object.values?function(fe){return Object.values(fe)}:function(fe){var qe=[];return lt(fe,function(Sr,Kr){k(fe)&&Kr==="prototype"||qe.push(Sr)}),qe},Ha=Yi,po=function(fe,qe){return _(Ha(fe),qe)},Za=function(fe){return z(fe)?"":fe.toString()},ho=function(fe){return Za(fe).toLowerCase()},za=ho,ol=function(fe){var qe=Za(fe);return qe.charAt(0).toLowerCase()+qe.substring(1)},nf=ol;function $l(fe,qe){return!fe||!qe?fe:fe.replace(/\\?\{([^{}]+)\}/g,function(Sr,Kr){return Sr.charAt(0)==="\\"?Sr.slice(1):qe[Kr]===void 0?"":qe[Kr]})}var ih=$l,Al=function(fe){return Za(fe).toUpperCase()},Ic=Al,ah=function(fe){var qe=Za(fe);return qe.charAt(0).toUpperCase()+qe.substring(1)},Ys=ah,Is={}.toString,Oc=function(fe){return Is.call(fe).replace(/^\[object /,"").replace(/]$/,"")},sl=Oc,oh=function(fe){return I(fe,"Arguments")},Br=oh,Iu=function(fe){return I(fe,"Boolean")},af=Iu,jh=function(fe){return I(fe,"Date")},Dc=jh,Tf=function(fe){return I(fe,"Error")},Td=Tf;function Md(fe){return Ne(fe)&&isFinite(fe)}var Kl=function(fe){return fe===null},Zl=Kl,Wh=Object.prototype,qd=function(fe){var qe=fe&&fe.constructor,Sr=typeof qe=="function"&&qe.prototype||Wh;return fe===Sr},of=qd,Ql=function(fe){return I(fe,"RegExp")},go=Ql,sf=function(fe){return fe===void 0},sh=sf,uh=function(fe){return fe instanceof Element||fe instanceof HTMLDocument},Pc=uh;function Vh(fe){var qe=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(Sr){return setTimeout(Sr,16)};return qe(fe)}function Qa(fe){var qe=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout;qe(fe)}function Ya(fe,qe){for(var Sr in qe)qe.hasOwnProperty(Sr)&&Sr!=="constructor"&&qe[Sr]!==void 0&&(fe[Sr]=qe[Sr])}function Gu(fe,qe,Sr,Kr){return qe&&Ya(fe,qe),Sr&&Ya(fe,Sr),Kr&&Ya(fe,Kr),fe}var Ou=function(){for(var fe=[],qe=0;qe<arguments.length;qe++)fe[qe]=arguments[qe];for(var Sr=fe[0],Kr=1;Kr<fe.length;Kr++){var Pn=fe[Kr];k(Pn)&&(Pn=Pn.prototype),Gu(Sr.prototype,Pn)}},Du=Ou,lh=function(fe){if(typeof fe!="object"||fe===null)return fe;var qe;if(W(fe)){qe=[];for(var Sr=0,Kr=fe.length;Sr<Kr;Sr++)typeof fe[Sr]=="object"&&fe[Sr]!=null?qe[Sr]=lh(fe[Sr]):qe[Sr]=fe[Sr]}else{qe={};for(var Pn in fe)typeof fe[Pn]=="object"&&fe[Pn]!=null?qe[Pn]=lh(fe[Pn]):qe[Pn]=fe[Pn]}return qe},Hh=lh;function Mv(fe,qe,Sr){var Kr;return function(){var Pn=this,ci=arguments,Pi=function(){Kr=null,Sr||fe.apply(Pn,ci)},xa=Sr&&!Kr;clearTimeout(Kr),Kr=setTimeout(Pi,qe),xa&&fe.apply(Pn,ci)}}var tv=Mv,Id=function(fe,qe){if(!k(fe))throw new TypeError("Expected a function");var Sr=function(){for(var Kr=[],Pn=0;Pn<arguments.length;Pn++)Kr[Pn]=arguments[Pn];var ci=qe?qe.apply(this,Kr):Kr[0],Pi=Sr.cache;if(Pi.has(ci))return Pi.get(ci);var xa=fe.apply(this,Kr);return Pi.set(ci,xa),xa};return Sr.cache=new Map,Sr},Jo=5;function yo(fe,qe,Sr,Kr){Sr=Sr||0,Kr=Kr||Jo;for(var Pn in qe)if(qe.hasOwnProperty(Pn)){var ci=qe[Pn];ci!==null&&St(ci)?(St(fe[Pn])||(fe[Pn]={}),Sr<Kr?yo(fe[Pn],ci,Sr+1,Kr):fe[Pn]=qe[Pn]):W(ci)?(fe[Pn]=[],fe[Pn]=fe[Pn].concat(ci)):ci!==void 0&&(fe[Pn]=ci)}}var Lc=function(fe){for(var qe=[],Sr=1;Sr<arguments.length;Sr++)qe[Sr-1]=arguments[Sr];for(var Kr=0;Kr<qe.length;Kr+=1)yo(fe,qe[Kr]);return fe},Yh=Lc,zu=function(fe,qe,Sr,Kr){k(qe)||(Sr=qe,qe=fe,fe=function(){});var Pn=Object.create?function(Pi,xa){return Object.create(Pi,{constructor:{value:xa}})}:function(Pi,xa){function ro(){}ro.prototype=Pi;var su=new ro;return su.constructor=xa,su},ci=Pn(qe.prototype,fe);return fe.prototype=Gu(ci,fe.prototype),fe.superclass=Pn(qe.prototype,qe),Gu(ci,Sr),Gu(fe,Kr),fe},ns=zu,Mf=function(fe,qe){if(!b(fe))return-1;var Sr=Array.prototype.indexOf;if(Sr)return Sr.call(fe,qe);for(var Kr=-1,Pn=0;Pn<fe.length;Pn++)if(fe[Pn]===qe){Kr=Pn;break}return Kr},xs=Mf,Jl=Object.prototype.hasOwnProperty;function Cl(fe){if(z(fe))return!0;if(b(fe))return!fe.length;var qe=sl(fe);if(qe==="Map"||qe==="Set")return!fe.size;if(of(fe))return!Object.keys(fe).length;for(var Sr in fe)if(Jl.call(fe,Sr))return!1;return!0}var If=Cl,Tl=function(fe,qe){if(fe===qe)return!0;if(!fe||!qe||ze(fe)||ze(qe))return!1;if(b(fe)||b(qe)){if(fe.length!==qe.length)return!1;for(var Sr=!0,Kr=0;Kr<fe.length&&(Sr=Tl(fe[Kr],qe[Kr]),!!Sr);Kr++);return Sr}if(bt(fe)||bt(qe)){var Pn=Object.keys(fe),ci=Object.keys(qe);if(Pn.length!==ci.length)return!1;for(var Sr=!0,Kr=0;Kr<Pn.length&&(Sr=Tl(fe[Pn[Kr]],qe[Pn[Kr]]),!!Sr);Kr++);return Sr}return!1},_o=Tl,Uu=function(fe,qe,Sr){return k(Sr)?!!Sr(fe,qe):_o(fe,qe)},ou=function(fe,qe){if(!b(fe))return fe;for(var Sr=[],Kr=0;Kr<fe.length;Kr++){var Pn=fe[Kr];Sr.push(qe(Pn,Kr))}return Sr},ql=ou,Xh=function(fe){return fe},ul=function(fe,qe){qe===void 0&&(qe=Xh);var Sr={};return $(fe)&&!z(fe)&&Object.keys(fe).forEach(function(Kr){Sr[Kr]=qe(fe[Kr],Kr)}),Sr},tc=function(fe,qe,Sr){for(var Kr=0,Pn=ze(qe)?qe.split("."):qe;fe&&Kr<Pn.length;)fe=fe[Pn[Kr++]];return fe===void 0||Kr<Pn.length?Sr:fe},ec=function(fe,qe,Sr){var Kr=fe,Pn=ze(qe)?qe.split("."):qe;return Pn.forEach(function(ci,Pi){Pi<Pn.length-1?($(Kr[ci])||(Kr[ci]=Ne(Pn[Pi+1])?[]:{}),Kr=Kr[ci]):Kr[ci]=Sr}),fe},mo=Object.prototype.hasOwnProperty,Pu=function(fe,qe){if(fe===null||!St(fe))return{};var Sr={};return lt(qe,function(Kr){mo.call(fe,Kr)&&(Sr[Kr]=fe[Kr])}),Sr},eo=function(fe,qe){return Gt(fe,function(Sr,Kr,Pn){return qe.includes(Pn)||(Sr[Pn]=Kr),Sr},{})},ch=function(fe,qe,Sr){var Kr,Pn,ci,Pi,xa=0;Sr||(Sr={});var ro=function(){xa=Sr.leading===!1?0:Date.now(),Kr=null,Pi=fe.apply(Pn,ci),Kr||(Pn=ci=null)},su=function(){var gu=Date.now();!xa&&Sr.leading===!1&&(xa=gu);var hh=qe-(gu-xa);return Pn=this,ci=arguments,hh<=0||hh>qe?(Kr&&(clearTimeout(Kr),Kr=null),xa=gu,Pi=fe.apply(Pn,ci),Kr||(Pn=ci=null)):!Kr&&Sr.trailing!==!1&&(Kr=setTimeout(ro,hh)),Pi};return su.cancel=function(){clearTimeout(Kr),xa=0,Kr=Pn=ci=null},su},$h=function(fe){return b(fe)?Array.prototype.slice.call(fe):[]},Xs={},Kh=function(fe){return fe=fe||"g",Xs[fe]?Xs[fe]+=1:Xs[fe]=1,fe+Xs[fe]},Of=function(){},rc=function(fe){return fe};function Rc(fe){return z(fe)?0:b(fe)?fe.length:Object.keys(fe).length}var nc=d(85524),ll,ic=Id(function(fe,qe){qe===void 0&&(qe={});var Sr=qe.fontSize,Kr=qe.fontFamily,Pn=qe.fontWeight,ci=qe.fontStyle,Pi=qe.fontVariant;return ll||(ll=document.createElement("canvas").getContext("2d")),ll.font=[ci,Pi,Pn,Sr+"px",Kr].join(" "),ll.measureText(ze(fe)?fe:"").width},function(fe,qe){return qe===void 0&&(qe={}),(0,nc.__spreadArrays)([fe],Ha(qe)).join("")}),Ns=function(fe,qe,Sr,Kr){Kr===void 0&&(Kr="...");var Pn=16,ci=ic(Kr,Sr),Pi=ze(fe)?fe:Za(fe),xa=qe,ro=[],su,gu;if(ic(fe,Sr)<=qe)return fe;for(;su=Pi.substr(0,Pn),gu=ic(su,Sr),!(gu+ci>xa&&gu>xa);)if(ro.push(su),xa-=gu,Pi=Pi.substr(Pn),!Pi)return ro.join("");for(;su=Pi.substr(0,1),gu=ic(su,Sr),!(gu+ci>xa);)if(ro.push(su),xa-=gu,Pi=Pi.substr(1),!Pi)return ro.join("");return""+ro.join("")+Kr},fh=function(){function fe(){this.map={}}return fe.prototype.has=function(qe){return this.map[qe]!==void 0},fe.prototype.get=function(qe,Sr){var Kr=this.map[qe];return Kr===void 0?Sr:Kr},fe.prototype.set=function(qe,Sr){this.map[qe]=Sr},fe.prototype.clear=function(){this.map={}},fe.prototype.delete=function(qe){delete this.map[qe]},fe.prototype.size=function(){return Object.keys(this.map).length},fe}(),ju=fh},33124:function(at){function R(d,x,b,P,_){var O={};return Object.keys(P).forEach(function(T){O[T]=P[T]}),O.enumerable=!!O.enumerable,O.configurable=!!O.configurable,("value"in O||O.initializer)&&(O.writable=!0),O=b.slice().reverse().reduce(function(T,F){return F(d,x,T)||T},O),_&&O.initializer!==void 0&&(O.value=O.initializer?O.initializer.call(_):void 0,O.initializer=void 0),O.initializer===void 0&&(Object.defineProperty(d,x,O),O=null),O}at.exports=R,at.exports.__esModule=!0,at.exports.default=at.exports},67228:function(at){function R(d,x){(x==null||x>d.length)&&(x=d.length);for(var b=0,P=new Array(x);b<x;b++)P[b]=d[b];return P}at.exports=R,at.exports.__esModule=!0,at.exports.default=at.exports},22858:function(at){function R(d){if(Array.isArray(d))return d}at.exports=R,at.exports.__esModule=!0,at.exports.default=at.exports},23646:function(at,R,d){var x=d(67228);function b(P){if(Array.isArray(P))return x(P)}at.exports=b,at.exports.__esModule=!0,at.exports.default=at.exports},81506:function(at){function R(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}at.exports=R,at.exports.__esModule=!0,at.exports.default=at.exports},48926:function(at){function R(x,b,P,_,O,T,F){try{var M=x[T](F),A=M.value}catch(L){P(L);return}M.done?b(A):Promise.resolve(A).then(_,O)}function d(x){return function(){var b=this,P=arguments;return new Promise(function(_,O){var T=x.apply(b,P);function F(A){R(T,_,O,F,M,"next",A)}function M(A){R(T,_,O,F,M,"throw",A)}F(void 0)})}}at.exports=d,at.exports.__esModule=!0,at.exports.default=at.exports},34575:function(at){function R(d,x){if(!(d instanceof x))throw new TypeError("Cannot call a class as a function")}at.exports=R,at.exports.__esModule=!0,at.exports.default=at.exports},93913:function(at){function R(x,b){for(var P=0;P<b.length;P++){var _=b[P];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(x,_.key,_)}}function d(x,b,P){return b&&R(x.prototype,b),P&&R(x,P),Object.defineProperty(x,"prototype",{writable:!1}),x}at.exports=d,at.exports.__esModule=!0,at.exports.default=at.exports},59713:function(at){function R(d,x,b){return x in d?Object.defineProperty(d,x,{value:b,enumerable:!0,configurable:!0,writable:!0}):d[x]=b,d}at.exports=R,at.exports.__esModule=!0,at.exports.default=at.exports},29754:function(at){function R(d){return at.exports=R=Object.setPrototypeOf?Object.getPrototypeOf:function(b){return b.__proto__||Object.getPrototypeOf(b)},at.exports.__esModule=!0,at.exports.default=at.exports,R(d)}at.exports=R,at.exports.__esModule=!0,at.exports.default=at.exports},2205:function(at,R,d){var x=d(99489);function b(P,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(_&&_.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),Object.defineProperty(P,"prototype",{writable:!1}),_&&x(P,_)}at.exports=b,at.exports.__esModule=!0,at.exports.default=at.exports},21165:function(at){function R(d,x,b,P){!b||Object.defineProperty(d,x,{enumerable:b.enumerable,configurable:b.configurable,writable:b.writable,value:b.initializer?b.initializer.call(P):void 0})}at.exports=R,at.exports.__esModule=!0,at.exports.default=at.exports},67268:function(at){function R(d,x){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and runs after the decorators transform.")}at.exports=R,at.exports.__esModule=!0,at.exports.default=at.exports},46860:function(at){function R(d){if(typeof Symbol!="undefined"&&d[Symbol.iterator]!=null||d["@@iterator"]!=null)return Array.from(d)}at.exports=R,at.exports.__esModule=!0,at.exports.default=at.exports},13884:function(at){function R(d,x){var b=d==null?null:typeof Symbol!="undefined"&&d[Symbol.iterator]||d["@@iterator"];if(b!=null){var P=[],_=!0,O=!1,T,F;try{for(b=b.call(d);!(_=(T=b.next()).done)&&(P.push(T.value),!(x&&P.length===x));_=!0);}catch(M){O=!0,F=M}finally{try{!_&&b.return!=null&&b.return()}finally{if(O)throw F}}return P}}at.exports=R,at.exports.__esModule=!0,at.exports.default=at.exports},80521:function(at){function R(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}at.exports=R,at.exports.__esModule=!0,at.exports.default=at.exports},98206:function(at){function R(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}at.exports=R,at.exports.__esModule=!0,at.exports.default=at.exports},78585:function(at,R,d){var x=d(50008).default,b=d(81506);function P(_,O){if(O&&(x(O)==="object"||typeof O=="function"))return O;if(O!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b(_)}at.exports=P,at.exports.__esModule=!0,at.exports.default=at.exports},99489:function(at){function R(d,x){return at.exports=R=Object.setPrototypeOf||function(P,_){return P.__proto__=_,P},at.exports.__esModule=!0,at.exports.default=at.exports,R(d,x)}at.exports=R,at.exports.__esModule=!0,at.exports.default=at.exports},63038:function(at,R,d){var x=d(22858),b=d(13884),P=d(60379),_=d(80521);function O(T,F){return x(T)||b(T,F)||P(T,F)||_()}at.exports=O,at.exports.__esModule=!0,at.exports.default=at.exports},319:function(at,R,d){var x=d(23646),b=d(46860),P=d(60379),_=d(98206);function O(T){return x(T)||b(T)||P(T)||_()}at.exports=O,at.exports.__esModule=!0,at.exports.default=at.exports},50008:function(at){function R(d){return at.exports=R=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},at.exports.__esModule=!0,at.exports.default=at.exports,R(d)}at.exports=R,at.exports.__esModule=!0,at.exports.default=at.exports},60379:function(at,R,d){var x=d(67228);function b(P,_){if(!!P){if(typeof P=="string")return x(P,_);var O=Object.prototype.toString.call(P).slice(8,-1);if(O==="Object"&&P.constructor&&(O=P.constructor.name),O==="Map"||O==="Set")return Array.from(P);if(O==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(O))return x(P,_)}}at.exports=b,at.exports.__esModule=!0,at.exports.default=at.exports},87757:function(at,R,d){at.exports=d(35666)},85788:function(at,R,d){var x=d(58579);at.exports={Graph:x.Graph,json:d(62485),alg:d(39100),version:x.version}},74774:function(at,R,d){var x=d(77163);at.exports=b;function b(P){var _={},O=[],T;function F(M){x.has(_,M)||(_[M]=!0,T.push(M),x.each(P.successors(M),F),x.each(P.predecessors(M),F))}return x.each(P.nodes(),function(M){T=[],F(M),T.length&&O.push(T)}),O}},65179:function(at,R,d){var x=d(77163);at.exports=b;function b(_,O,T){x.isArray(O)||(O=[O]);var F=(_.isDirected()?_.successors:_.neighbors).bind(_),M=[],A={};return x.each(O,function(L){if(!_.hasNode(L))throw new Error("Graph does not have node: "+L);P(_,L,T==="post",A,F,M)}),M}function P(_,O,T,F,M,A){x.has(F,O)||(F[O]=!0,T||A.push(O),x.each(M(O),function(L){P(_,L,T,F,M,A)}),T&&A.push(O))}},73897:function(at,R,d){var x=d(69205),b=d(77163);at.exports=P;function P(_,O,T){return b.transform(_.nodes(),function(F,M){F[M]=x(_,M,O,T)},{})}},69205:function(at,R,d){var x=d(77163),b=d(96129);at.exports=_;var P=x.constant(1);function _(T,F,M,A){return O(T,String(F),M||P,A||function(L){return T.outEdges(L)})}function O(T,F,M,A){var L={},I=new b,k,B,z=function(W){var $=W.v!==k?W.v:W.w,K=L[$],lt=M(W),st=B.distance+lt;if(lt<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+W+" Weight: "+lt);st<K.distance&&(K.distance=st,K.predecessor=k,I.decrease($,st))};for(T.nodes().forEach(function(W){var $=W===F?0:Number.POSITIVE_INFINITY;L[W]={distance:$},I.add(W,$)});I.size()>0&&(k=I.removeMin(),B=L[k],B.distance!==Number.POSITIVE_INFINITY);)A(k).forEach(z);return L}},32630:function(at,R,d){var x=d(77163),b=d(93070);at.exports=P;function P(_){return x.filter(b(_),function(O){return O.length>1||O.length===1&&_.hasEdge(O[0],O[0])})}},3171:function(at,R,d){var x=d(77163);at.exports=P;var b=x.constant(1);function P(O,T,F){return _(O,T||b,F||function(M){return O.outEdges(M)})}function _(O,T,F){var M={},A=O.nodes();return A.forEach(function(L){M[L]={},M[L][L]={distance:0},A.forEach(function(I){L!==I&&(M[L][I]={distance:Number.POSITIVE_INFINITY})}),F(L).forEach(function(I){var k=I.v===L?I.w:I.v,B=T(I);M[L][k]={distance:B,predecessor:L}})}),A.forEach(function(L){var I=M[L];A.forEach(function(k){var B=M[k];A.forEach(function(z){var W=B[L],$=I[z],K=B[z],lt=W.distance+$.distance;lt<K.distance&&(K.distance=lt,K.predecessor=$.predecessor)})})}),M}},39100:function(at,R,d){at.exports={components:d(74774),dijkstra:d(69205),dijkstraAll:d(73897),findCycles:d(32630),floydWarshall:d(3171),isAcyclic:d(78149),postorder:d(85979),preorder:d(5340),prim:d(74975),tarjan:d(93070),topsort:d(37034)}},78149:function(at,R,d){var x=d(37034);at.exports=b;function b(P){try{x(P)}catch(_){if(_ instanceof x.CycleException)return!1;throw _}return!0}},85979:function(at,R,d){var x=d(65179);at.exports=b;function b(P,_){return x(P,_,"post")}},5340:function(at,R,d){var x=d(65179);at.exports=b;function b(P,_){return x(P,_,"pre")}},74975:function(at,R,d){var x=d(77163),b=d(1053),P=d(96129);at.exports=_;function _(O,T){var F=new b,M={},A=new P,L;function I(B){var z=B.v===L?B.w:B.v,W=A.priority(z);if(W!==void 0){var $=T(B);$<W&&(M[z]=L,A.decrease(z,$))}}if(O.nodeCount()===0)return F;x.each(O.nodes(),function(B){A.add(B,Number.POSITIVE_INFINITY),F.setNode(B)}),A.decrease(O.nodes()[0],0);for(var k=!1;A.size()>0;){if(L=A.removeMin(),x.has(M,L))F.setEdge(L,M[L]);else{if(k)throw new Error("Input graph is not connected: "+O);k=!0}O.nodeEdges(L).forEach(I)}return F}},93070:function(at,R,d){var x=d(77163);at.exports=b;function b(P){var _=0,O=[],T={},F=[];function M(A){var L=T[A]={onStack:!0,lowlink:_,index:_++};if(O.push(A),P.successors(A).forEach(function(B){x.has(T,B)?T[B].onStack&&(L.lowlink=Math.min(L.lowlink,T[B].index)):(M(B),L.lowlink=Math.min(L.lowlink,T[B].lowlink))}),L.lowlink===L.index){var I=[],k;do k=O.pop(),T[k].onStack=!1,I.push(k);while(A!==k);F.push(I)}}return P.nodes().forEach(function(A){x.has(T,A)||M(A)}),F}},37034:function(at,R,d){var x=d(77163);at.exports=b,b.CycleException=P;function b(_){var O={},T={},F=[];function M(A){if(x.has(T,A))throw new P;x.has(O,A)||(T[A]=!0,O[A]=!0,x.each(_.predecessors(A),M),delete T[A],F.push(A))}if(x.each(_.sinks(),M),x.size(O)!==_.nodeCount())throw new P;return F}function P(){}},96129:function(at,R,d){var x=d(77163);at.exports=b;function b(){this._arr=[],this._keyIndices={}}b.prototype.size=function(){return this._arr.length},b.prototype.keys=function(){return this._arr.map(function(P){return P.key})},b.prototype.has=function(P){return x.has(this._keyIndices,P)},b.prototype.priority=function(P){var _=this._keyIndices[P];if(_!==void 0)return this._arr[_].priority},b.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},b.prototype.add=function(P,_){var O=this._keyIndices;if(P=String(P),!x.has(O,P)){var T=this._arr,F=T.length;return O[P]=F,T.push({key:P,priority:_}),this._decrease(F),!0}return!1},b.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var P=this._arr.pop();return delete this._keyIndices[P.key],this._heapify(0),P.key},b.prototype.decrease=function(P,_){var O=this._keyIndices[P];if(_>this._arr[O].priority)throw new Error("New priority is greater than current priority. Key: "+P+" Old: "+this._arr[O].priority+" New: "+_);this._arr[O].priority=_,this._decrease(O)},b.prototype._heapify=function(P){var _=this._arr,O=2*P,T=O+1,F=P;O<_.length&&(F=_[O].priority<_[F].priority?O:F,T<_.length&&(F=_[T].priority<_[F].priority?T:F),F!==P&&(this._swap(P,F),this._heapify(F)))},b.prototype._decrease=function(P){for(var _=this._arr,O=_[P].priority,T;P!==0&&(T=P>>1,!(_[T].priority<O));)this._swap(P,T),P=T},b.prototype._swap=function(P,_){var O=this._arr,T=this._keyIndices,F=O[P],M=O[_];O[P]=M,O[_]=F,T[M.key]=P,T[F.key]=_}},1053:function(at,R,d){"use strict";var x=d(77163);at.exports=O;var b="\0",P="\0",_="";function O(I){this._isDirected=x.has(I,"directed")?I.directed:!0,this._isMultigraph=x.has(I,"multigraph")?I.multigraph:!1,this._isCompound=x.has(I,"compound")?I.compound:!1,this._label=void 0,this._defaultNodeLabelFn=x.constant(void 0),this._defaultEdgeLabelFn=x.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[P]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}O.prototype._nodeCount=0,O.prototype._edgeCount=0,O.prototype.isDirected=function(){return this._isDirected},O.prototype.isMultigraph=function(){return this._isMultigraph},O.prototype.isCompound=function(){return this._isCompound},O.prototype.setGraph=function(I){return this._label=I,this},O.prototype.graph=function(){return this._label},O.prototype.setDefaultNodeLabel=function(I){return x.isFunction(I)||(I=x.constant(I)),this._defaultNodeLabelFn=I,this},O.prototype.nodeCount=function(){return this._nodeCount},O.prototype.nodes=function(){return x.keys(this._nodes)},O.prototype.sources=function(){return x.filter(this.nodes(),x.bind(function(I){return x.isEmpty(this._in[I])},this))},O.prototype.sinks=function(){return x.filter(this.nodes(),x.bind(function(I){return x.isEmpty(this._out[I])},this))},O.prototype.setNodes=function(I,k){var B=arguments;return x.each(I,x.bind(function(z){B.length>1?this.setNode(z,k):this.setNode(z)},this)),this},O.prototype.setNode=function(I,k){return x.has(this._nodes,I)?(arguments.length>1&&(this._nodes[I]=k),this):(this._nodes[I]=arguments.length>1?k:this._defaultNodeLabelFn(I),this._isCompound&&(this._parent[I]=P,this._children[I]={},this._children[P][I]=!0),this._in[I]={},this._preds[I]={},this._out[I]={},this._sucs[I]={},++this._nodeCount,this)},O.prototype.node=function(I){return this._nodes[I]},O.prototype.hasNode=function(I){return x.has(this._nodes,I)},O.prototype.removeNode=function(I){var k=this;if(x.has(this._nodes,I)){var B=function(z){k.removeEdge(k._edgeObjs[z])};delete this._nodes[I],this._isCompound&&(this._removeFromParentsChildList(I),delete this._parent[I],x.each(this.children(I),x.bind(function(z){this.setParent(z)},this)),delete this._children[I]),x.each(x.keys(this._in[I]),B),delete this._in[I],delete this._preds[I],x.each(x.keys(this._out[I]),B),delete this._out[I],delete this._sucs[I],--this._nodeCount}return this},O.prototype.setParent=function(I,k){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(x.isUndefined(k))k=P;else{k+="";for(var B=k;!x.isUndefined(B);B=this.parent(B))if(B===I)throw new Error("Setting "+k+" as parent of "+I+" would create create a cycle");this.setNode(k)}return this.setNode(I),this._removeFromParentsChildList(I),this._parent[I]=k,this._children[k][I]=!0,this},O.prototype._removeFromParentsChildList=function(I){delete this._children[this._parent[I]][I]},O.prototype.parent=function(I){if(this._isCompound){var k=this._parent[I];if(k!==P)return k}},O.prototype.children=function(I){if(x.isUndefined(I)&&(I=P),this._isCompound){var k=this._children[I];if(k)return x.keys(k)}else{if(I===P)return this.nodes();if(this.hasNode(I))return[]}},O.prototype.predecessors=function(I){var k=this._preds[I];if(k)return x.keys(k)},O.prototype.successors=function(I){var k=this._sucs[I];if(k)return x.keys(k)},O.prototype.neighbors=function(I){var k=this.predecessors(I);if(k)return x.union(k,this.successors(I))},O.prototype.isLeaf=function(I){var k;return this.isDirected()?k=this.successors(I):k=this.neighbors(I),k.length===0},O.prototype.filterNodes=function(I){var k=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});k.setGraph(this.graph()),x.each(this._nodes,x.bind(function($,K){I(K)&&k.setNode(K,$)},this)),x.each(this._edgeObjs,x.bind(function($){k.hasNode($.v)&&k.hasNode($.w)&&k.setEdge($,this.edge($))},this));var B=this,z={};function W($){var K=B.parent($);return K===void 0||k.hasNode(K)?(z[$]=K,K):K in z?z[K]:W(K)}return this._isCompound&&x.each(k.nodes(),function($){k.setParent($,W($))}),k},O.prototype.setDefaultEdgeLabel=function(I){return x.isFunction(I)||(I=x.constant(I)),this._defaultEdgeLabelFn=I,this},O.prototype.edgeCount=function(){return this._edgeCount},O.prototype.edges=function(){return x.values(this._edgeObjs)},O.prototype.setPath=function(I,k){var B=this,z=arguments;return x.reduce(I,function(W,$){return z.length>1?B.setEdge(W,$,k):B.setEdge(W,$),$}),this},O.prototype.setEdge=function(){var I,k,B,z,W=!1,$=arguments[0];typeof $=="object"&&$!==null&&"v"in $?(I=$.v,k=$.w,B=$.name,arguments.length===2&&(z=arguments[1],W=!0)):(I=$,k=arguments[1],B=arguments[3],arguments.length>2&&(z=arguments[2],W=!0)),I=""+I,k=""+k,x.isUndefined(B)||(B=""+B);var K=M(this._isDirected,I,k,B);if(x.has(this._edgeLabels,K))return W&&(this._edgeLabels[K]=z),this;if(!x.isUndefined(B)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(I),this.setNode(k),this._edgeLabels[K]=W?z:this._defaultEdgeLabelFn(I,k,B);var lt=A(this._isDirected,I,k,B);return I=lt.v,k=lt.w,Object.freeze(lt),this._edgeObjs[K]=lt,T(this._preds[k],I),T(this._sucs[I],k),this._in[k][K]=lt,this._out[I][K]=lt,this._edgeCount++,this},O.prototype.edge=function(I,k,B){var z=arguments.length===1?L(this._isDirected,arguments[0]):M(this._isDirected,I,k,B);return this._edgeLabels[z]},O.prototype.hasEdge=function(I,k,B){var z=arguments.length===1?L(this._isDirected,arguments[0]):M(this._isDirected,I,k,B);return x.has(this._edgeLabels,z)},O.prototype.removeEdge=function(I,k,B){var z=arguments.length===1?L(this._isDirected,arguments[0]):M(this._isDirected,I,k,B),W=this._edgeObjs[z];return W&&(I=W.v,k=W.w,delete this._edgeLabels[z],delete this._edgeObjs[z],F(this._preds[k],I),F(this._sucs[I],k),delete this._in[k][z],delete this._out[I][z],this._edgeCount--),this},O.prototype.inEdges=function(I,k){var B=this._in[I];if(B){var z=x.values(B);return k?x.filter(z,function(W){return W.v===k}):z}},O.prototype.outEdges=function(I,k){var B=this._out[I];if(B){var z=x.values(B);return k?x.filter(z,function(W){return W.w===k}):z}},O.prototype.nodeEdges=function(I,k){var B=this.inEdges(I,k);if(B)return B.concat(this.outEdges(I,k))};function T(I,k){I[k]?I[k]++:I[k]=1}function F(I,k){--I[k]||delete I[k]}function M(I,k,B,z){var W=""+k,$=""+B;if(!I&&W>$){var K=W;W=$,$=K}return W+_+$+_+(x.isUndefined(z)?b:z)}function A(I,k,B,z){var W=""+k,$=""+B;if(!I&&W>$){var K=W;W=$,$=K}var lt={v:W,w:$};return z&&(lt.name=z),lt}function L(I,k){return M(I,k.v,k.w,k.name)}},58579:function(at,R,d){at.exports={Graph:d(1053),version:d(82321)}},62485:function(at,R,d){var x=d(77163),b=d(1053);at.exports={write:P,read:T};function P(F){var M={options:{directed:F.isDirected(),multigraph:F.isMultigraph(),compound:F.isCompound()},nodes:_(F),edges:O(F)};return x.isUndefined(F.graph())||(M.value=x.clone(F.graph())),M}function _(F){return x.map(F.nodes(),function(M){var A=F.node(M),L=F.parent(M),I={v:M};return x.isUndefined(A)||(I.value=A),x.isUndefined(L)||(I.parent=L),I})}function O(F){return x.map(F.edges(),function(M){var A=F.edge(M),L={v:M.v,w:M.w};return x.isUndefined(M.name)||(L.name=M.name),x.isUndefined(A)||(L.value=A),L})}function T(F){var M=new b(F.options).setGraph(F.value);return x.each(F.nodes,function(A){M.setNode(A.v,A.value),A.parent&&M.setParent(A.v,A.parent)}),x.each(F.edges,function(A){M.setEdge({v:A.v,w:A.w,name:A.name},A.value)}),M}},77163:function(at,R,d){var x;try{x=d(96486)}catch(b){}x||(x=window._),at.exports=x},82321:function(at){at.exports="2.1.4"},49469:function(at,R){"use strict";var d;d={value:!0};var x;(function(dt){dt.TextureCompressionBC="texture-compression-bc"})(x=R.UX||(R.UX={}));var b;(function(dt){dt.ClampToEdge="clamp-to-edge",dt.Repeat="repeat",dt.MirrorRepeat="mirror-repeat"})(b=R.OB||(R.OB={}));var P;(function(dt){dt.UniformBuffer="uniform-buffer",dt.StorageBuffer="storage-buffer",dt.ReadonlyStorageBuffer="readonly-storage-buffer",dt.Sampler="sampler",dt.ComparisonSampler="comparison-sampler",dt.SampledTexture="sampled-texture",dt.ReadonlyStorageTexture="readonly-storage-texture",dt.WriteonlyStorageTexture="writeonly-storage-texture"})(P=R.$l||(R.$l={}));var _;(function(dt){dt.Zero="zero",dt.One="one",dt.SrcColor="src-color",dt.OneMinusSrcColor="one-minus-src-color",dt.SrcAlpha="src-alpha",dt.OneMinusSrcAlpha="one-minus-src-alpha",dt.DstColor="dst-color",dt.OneMinusDstColor="one-minus-dst-color",dt.DstAlpha="dst-alpha",dt.OneMinusDstAlpha="one-minus-dst-alpha",dt.SrcAlphaSaturated="src-alpha-saturated",dt.BlendColor="blend-color",dt.OneMinusBlendColor="one-minus-blend-color"})(_=R.zi||(R.zi={}));var O;(function(dt){dt.Add="add",dt.Subtract="subtract",dt.ReverseSubtract="reverse-subtract",dt.Min="min",dt.Max="max"})(O=R.db||(R.db={}));var T;(function(dt){dt.Never="never",dt.Less="less",dt.Equal="equal",dt.LessEqual="less-equal",dt.Greater="greater",dt.NotEqual="not-equal",dt.GreaterEqual="greater-equal",dt.Always="always"})(T=R.wb||(R.wb={}));var F;(function(dt){dt.None="none",dt.Front="front",dt.Back="back"})(F=R.Wf||(R.Wf={}));var M;(function(dt){dt.Nearest="nearest",dt.Linear="linear"})(M=R.X9||(R.X9={}));var A;(function(dt){dt.CCW="ccw",dt.CW="cw"})(A=R.zX||(R.zX={}));var L;(function(dt){dt.Uint16="uint16",dt.Uint32="uint32"})(L=R.iD||(R.iD={}));var I;(function(dt){dt.Vertex="vertex",dt.Instance="instance"})(I=R.V||(R.V={}));var k;(function(dt){dt.Load="load"})(k=R.Ws||(R.Ws={}));var B;(function(dt){dt.PointList="point-list",dt.LineList="line-list",dt.LineStrip="line-strip",dt.TriangleList="triangle-list",dt.TriangleStrip="triangle-strip"})(B=R.YV||(R.YV={}));var z;(function(dt){dt.Keep="keep",dt.Zero="zero",dt.Replace="replace",dt.Invert="invert",dt.IncrementClamp="increment-clamp",dt.DecrementClamp="decrement-clamp",dt.IncrementWrap="increment-wrap",dt.DecrementWrap="decrement-wrap"})(z=R.xS||(R.xS={}));var W;(function(dt){dt.Store="store",dt.Clear="clear"})(W=R.EG||(R.EG={}));var $;(function(dt){dt.E1d="1d",dt.E2d="2d",dt.E3d="3d"})($=R.kd||(R.kd={}));var K;(function(dt){dt.R8Unorm="r8unorm",dt.R8Snorm="r8snorm",dt.R8Uint="r8uint",dt.R8Sint="r8sint",dt.R16Uint="r16uint",dt.R16Sint="r16sint",dt.R16Float="r16float",dt.RG8Unorm="rg8unorm",dt.RG8Snorm="rg8snorm",dt.RG8Uint="rg8uint",dt.RG8Sint="rg8sint",dt.R32Uint="r32uint",dt.R32Sint="r32sint",dt.R32Float="r32float",dt.RG16Uint="rg16uint",dt.RG16Sint="rg16sint",dt.RG16Float="rg16float",dt.RGBA8Unorm="rgba8unorm",dt.RGBA8UnormSRGB="rgba8unorm-srgb",dt.RGBA8Snorm="rgba8snorm",dt.RGBA8Uint="rgba8uint",dt.RGBA8Sint="rgba8sint",dt.BGRA8Unorm="bgra8unorm",dt.BGRA8UnormSRGB="bgra8unorm-srgb",dt.RGB10A2Unorm="rgb10a2unorm",dt.RG11B10Float="rg11b10float",dt.RG32Uint="rg32uint",dt.RG32Sint="rg32sint",dt.RG32Float="rg32float",dt.RGBA16Uint="rgba16uint",dt.RGBA16Sint="rgba16sint",dt.RGBA16Float="rgba16float",dt.RGBA32Uint="rgba32uint",dt.RGBA32Sint="rgba32sint",dt.RGBA32Float="rgba32float",dt.Depth32Float="depth32float",dt.Depth24Plus="depth24plus",dt.Depth24PlusStencil8="depth24plus-stencil8"})(K=R.EV||(R.EV={}));var lt;(function(dt){dt.Float="float",dt.Sint="sint",dt.Uint="uint"})(lt=R.Ek||(R.Ek={}));var st;(function(dt){dt.E1d="1d",dt.E2d="2d",dt.E2dArray="2d-array",dt.Cube="cube",dt.CubeArray="cube-array",dt.E3d="3d"})(st=R.p_||(R.p_={}));var yt;(function(dt){dt.Uchar2="uchar2",dt.Uchar4="uchar4",dt.Char2="char2",dt.Char4="char4",dt.Uchar2Norm="uchar2norm",dt.Uchar4Norm="uchar4norm",dt.Char2Norm="char2norm",dt.Char4Norm="char4norm",dt.Ushort2="ushort2",dt.Ushort4="ushort4",dt.Short2="short2",dt.Short4="short4",dt.Ushort2Norm="ushort2norm",dt.Ushort4Norm="ushort4norm",dt.Short2Norm="short2norm",dt.Short4Norm="short4norm",dt.Half2="half2",dt.Half4="half4",dt.Float="float",dt.Float2="float2",dt.Float3="float3",dt.Float4="float4",dt.Uint="uint",dt.Uint2="uint2",dt.Uint3="uint3",dt.Uint4="uint4",dt.Int="int",dt.Int2="int2",dt.Int3="int3",dt.Int4="int4"})(yt=R.gB||(R.gB={}));var q;(function(dt){dt.All="all",dt.StencilOnly="stencil-only",dt.DepthOnly="depth-only"})(q=R.H7||(R.H7={}));var nt;(function(dt){dt.Error="error",dt.Warning="warning",dt.Info="info"})(nt=R.mj||(R.mj={}));var ct;(function(dt){dt.Occlusion="occlusion"})(ct=R.xL||(R.xL={}));var bt;(function(dt){dt[dt.MapRead=1]="MapRead",dt[dt.MapWrite=2]="MapWrite",dt[dt.CopySrc=4]="CopySrc",dt[dt.CopyDst=8]="CopyDst",dt[dt.Index=16]="Index",dt[dt.Vertex=32]="Vertex",dt[dt.Uniform=64]="Uniform",dt[dt.Storage=128]="Storage",dt[dt.Indirect=256]="Indirect",dt[dt.QueryResolve=512]="QueryResolve"})(bt=R.FB||(R.FB={}));var _t;(function(dt){dt[dt.Red=1]="Red",dt[dt.Green=2]="Green",dt[dt.Blue=4]="Blue",dt[dt.Alpha=8]="Alpha",dt[dt.All=15]="All"})(_t=R.Yw||(R.Yw={}));var St;(function(dt){dt[dt.Vertex=1]="Vertex",dt[dt.Fragment=2]="Fragment",dt[dt.Compute=4]="Compute"})(St=R.$X||(R.$X={}));var At;(function(dt){dt[dt.CopySrc=1]="CopySrc",dt[dt.CopyDst=2]="CopyDst",dt[dt.Sampled=4]="Sampled",dt[dt.Storage=8]="Storage",dt[dt.OutputAttachment=16]="OutputAttachment"})(At=R.v2||(R.v2={}));var vt;(function(dt){dt[dt.Read=1]="Read",dt[dt.Write=2]="Write"})(vt=R.gc||(R.gc={}))},94184:function(at,R){var d,x;/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(){"use strict";var b={}.hasOwnProperty;function P(){for(var _=[],O=0;O<arguments.length;O++){var T=arguments[O];if(!!T){var F=typeof T;if(F==="string"||F==="number")_.push(T);else if(Array.isArray(T)){if(T.length){var M=P.apply(null,T);M&&_.push(M)}}else if(F==="object")if(T.toString===Object.prototype.toString)for(var A in T)b.call(T,A)&&T[A]&&_.push(A);else _.push(T.toString())}}return _.join(" ")}at.exports?(P.default=P,at.exports=P):(d=[],x=function(){return P}.apply(R,d),x!==void 0&&(at.exports=x))})()},48168:function(at,R,d){var x=d(39092),b={};for(var P in x)x.hasOwnProperty(P)&&(b[x[P]]=P);var _=at.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var O in _)if(_.hasOwnProperty(O)){if(!("channels"in _[O]))throw new Error("missing channels property: "+O);if(!("labels"in _[O]))throw new Error("missing channel labels property: "+O);if(_[O].labels.length!==_[O].channels)throw new Error("channel and label counts mismatch: "+O);var T=_[O].channels,F=_[O].labels;delete _[O].channels,delete _[O].labels,Object.defineProperty(_[O],"channels",{value:T}),Object.defineProperty(_[O],"labels",{value:F})}_.rgb.hsl=function(A){var L=A[0]/255,I=A[1]/255,k=A[2]/255,B=Math.min(L,I,k),z=Math.max(L,I,k),W=z-B,$,K,lt;return z===B?$=0:L===z?$=(I-k)/W:I===z?$=2+(k-L)/W:k===z&&($=4+(L-I)/W),$=Math.min($*60,360),$<0&&($+=360),lt=(B+z)/2,z===B?K=0:lt<=.5?K=W/(z+B):K=W/(2-z-B),[$,K*100,lt*100]},_.rgb.hsv=function(A){var L,I,k,B,z,W=A[0]/255,$=A[1]/255,K=A[2]/255,lt=Math.max(W,$,K),st=lt-Math.min(W,$,K),yt=function(q){return(lt-q)/6/st+1/2};return st===0?B=z=0:(z=st/lt,L=yt(W),I=yt($),k=yt(K),W===lt?B=k-I:$===lt?B=.3333333333333333+L-k:K===lt&&(B=.6666666666666666+I-L),B<0?B+=1:B>1&&(B-=1)),[B*360,z*100,lt*100]},_.rgb.hwb=function(A){var L=A[0],I=A[1],k=A[2],B=_.rgb.hsl(A)[0],z=1/255*Math.min(L,Math.min(I,k));return k=1-.00392156862745098*Math.max(L,Math.max(I,k)),[B,z*100,k*100]},_.rgb.cmyk=function(A){var L=A[0]/255,I=A[1]/255,k=A[2]/255,B,z,W,$;return $=Math.min(1-L,1-I,1-k),B=(1-L-$)/(1-$)||0,z=(1-I-$)/(1-$)||0,W=(1-k-$)/(1-$)||0,[B*100,z*100,W*100,$*100]};function M(A,L){return Math.pow(A[0]-L[0],2)+Math.pow(A[1]-L[1],2)+Math.pow(A[2]-L[2],2)}_.rgb.keyword=function(A){var L=b[A];if(L)return L;var I=1/0,k;for(var B in x)if(x.hasOwnProperty(B)){var z=x[B],W=M(A,z);W<I&&(I=W,k=B)}return k},_.keyword.rgb=function(A){return x[A]},_.rgb.xyz=function(A){var L=A[0]/255,I=A[1]/255,k=A[2]/255;L=L>.04045?Math.pow((L+.055)/1.055,2.4):L/12.92,I=I>.04045?Math.pow((I+.055)/1.055,2.4):I/12.92,k=k>.04045?Math.pow((k+.055)/1.055,2.4):k/12.92;var B=L*.4124+I*.3576+k*.1805,z=L*.2126+I*.7152+k*.0722,W=L*.0193+I*.1192+k*.9505;return[B*100,z*100,W*100]},_.rgb.lab=function(A){var L=_.rgb.xyz(A),I=L[0],k=L[1],B=L[2],z,W,$;return I/=95.047,k/=100,B/=108.883,I=I>.008856?Math.pow(I,.3333333333333333):7.787*I+.13793103448275862,k=k>.008856?Math.pow(k,.3333333333333333):7.787*k+.13793103448275862,B=B>.008856?Math.pow(B,.3333333333333333):7.787*B+.13793103448275862,z=116*k-16,W=500*(I-k),$=200*(k-B),[z,W,$]},_.hsl.rgb=function(A){var L=A[0]/360,I=A[1]/100,k=A[2]/100,B,z,W,$,K;if(I===0)return K=k*255,[K,K,K];k<.5?z=k*(1+I):z=k+I-k*I,B=2*k-z,$=[0,0,0];for(var lt=0;lt<3;lt++)W=L+.3333333333333333*-(lt-1),W<0&&W++,W>1&&W--,6*W<1?K=B+(z-B)*6*W:2*W<1?K=z:3*W<2?K=B+(z-B)*(.6666666666666666-W)*6:K=B,$[lt]=K*255;return $},_.hsl.hsv=function(A){var L=A[0],I=A[1]/100,k=A[2]/100,B=I,z=Math.max(k,.01),W,$;return k*=2,I*=k<=1?k:2-k,B*=z<=1?z:2-z,$=(k+I)/2,W=k===0?2*B/(z+B):2*I/(k+I),[L,W*100,$*100]},_.hsv.rgb=function(A){var L=A[0]/60,I=A[1]/100,k=A[2]/100,B=Math.floor(L)%6,z=L-Math.floor(L),W=255*k*(1-I),$=255*k*(1-I*z),K=255*k*(1-I*(1-z));switch(k*=255,B){case 0:return[k,K,W];case 1:return[$,k,W];case 2:return[W,k,K];case 3:return[W,$,k];case 4:return[K,W,k];case 5:return[k,W,$]}},_.hsv.hsl=function(A){var L=A[0],I=A[1]/100,k=A[2]/100,B=Math.max(k,.01),z,W,$;return $=(2-I)*k,z=(2-I)*B,W=I*B,W/=z<=1?z:2-z,W=W||0,$/=2,[L,W*100,$*100]},_.hwb.rgb=function(A){var L=A[0]/360,I=A[1]/100,k=A[2]/100,B=I+k,z,W,$,K;B>1&&(I/=B,k/=B),z=Math.floor(6*L),W=1-k,$=6*L-z,(z&1)!==0&&($=1-$),K=I+$*(W-I);var lt,st,yt;switch(z){default:case 6:case 0:lt=W,st=K,yt=I;break;case 1:lt=K,st=W,yt=I;break;case 2:lt=I,st=W,yt=K;break;case 3:lt=I,st=K,yt=W;break;case 4:lt=K,st=I,yt=W;break;case 5:lt=W,st=I,yt=K;break}return[lt*255,st*255,yt*255]},_.cmyk.rgb=function(A){var L=A[0]/100,I=A[1]/100,k=A[2]/100,B=A[3]/100,z,W,$;return z=1-Math.min(1,L*(1-B)+B),W=1-Math.min(1,I*(1-B)+B),$=1-Math.min(1,k*(1-B)+B),[z*255,W*255,$*255]},_.xyz.rgb=function(A){var L=A[0]/100,I=A[1]/100,k=A[2]/100,B,z,W;return B=L*3.2406+I*-1.5372+k*-.4986,z=L*-.9689+I*1.8758+k*.0415,W=L*.0557+I*-.204+k*1.057,B=B>.0031308?1.055*Math.pow(B,.4166666666666667)-.055:B*12.92,z=z>.0031308?1.055*Math.pow(z,.4166666666666667)-.055:z*12.92,W=W>.0031308?1.055*Math.pow(W,.4166666666666667)-.055:W*12.92,B=Math.min(Math.max(0,B),1),z=Math.min(Math.max(0,z),1),W=Math.min(Math.max(0,W),1),[B*255,z*255,W*255]},_.xyz.lab=function(A){var L=A[0],I=A[1],k=A[2],B,z,W;return L/=95.047,I/=100,k/=108.883,L=L>.008856?Math.pow(L,.3333333333333333):7.787*L+.13793103448275862,I=I>.008856?Math.pow(I,.3333333333333333):7.787*I+.13793103448275862,k=k>.008856?Math.pow(k,.3333333333333333):7.787*k+.13793103448275862,B=116*I-16,z=500*(L-I),W=200*(I-k),[B,z,W]},_.lab.xyz=function(A){var L=A[0],I=A[1],k=A[2],B,z,W;z=(L+16)/116,B=I/500+z,W=z-k/200;var $=Math.pow(z,3),K=Math.pow(B,3),lt=Math.pow(W,3);return z=$>.008856?$:(z-.13793103448275862)/7.787,B=K>.008856?K:(B-.13793103448275862)/7.787,W=lt>.008856?lt:(W-.13793103448275862)/7.787,B*=95.047,z*=100,W*=108.883,[B,z,W]},_.lab.lch=function(A){var L=A[0],I=A[1],k=A[2],B,z,W;return B=Math.atan2(k,I),z=B*360/2/Math.PI,z<0&&(z+=360),W=Math.sqrt(I*I+k*k),[L,W,z]},_.lch.lab=function(A){var L=A[0],I=A[1],k=A[2],B,z,W;return W=k/360*2*Math.PI,B=I*Math.cos(W),z=I*Math.sin(W),[L,B,z]},_.rgb.ansi16=function(A){var L=A[0],I=A[1],k=A[2],B=1 in arguments?arguments[1]:_.rgb.hsv(A)[2];if(B=Math.round(B/50),B===0)return 30;var z=30+(Math.round(k/255)<<2|Math.round(I/255)<<1|Math.round(L/255));return B===2&&(z+=60),z},_.hsv.ansi16=function(A){return _.rgb.ansi16(_.hsv.rgb(A),A[2])},_.rgb.ansi256=function(A){var L=A[0],I=A[1],k=A[2];if(L===I&&I===k)return L<8?16:L>248?231:Math.round((L-8)/247*24)+232;var B=16+36*Math.round(L/255*5)+6*Math.round(I/255*5)+Math.round(k/255*5);return B},_.ansi16.rgb=function(A){var L=A%10;if(L===0||L===7)return A>50&&(L+=3.5),L=L/10.5*255,[L,L,L];var I=(~~(A>50)+1)*.5,k=(L&1)*I*255,B=(L>>1&1)*I*255,z=(L>>2&1)*I*255;return[k,B,z]},_.ansi256.rgb=function(A){if(A>=232){var L=(A-232)*10+8;return[L,L,L]}A-=16;var I,k=Math.floor(A/36)/5*255,B=Math.floor((I=A%36)/6)/5*255,z=I%6/5*255;return[k,B,z]},_.rgb.hex=function(A){var L=((Math.round(A[0])&255)<<16)+((Math.round(A[1])&255)<<8)+(Math.round(A[2])&255),I=L.toString(16).toUpperCase();return"000000".substring(I.length)+I},_.hex.rgb=function(A){var L=A.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!L)return[0,0,0];var I=L[0];L[0].length===3&&(I=I.split("").map(function($){return $+$}).join(""));var k=parseInt(I,16),B=k>>16&255,z=k>>8&255,W=k&255;return[B,z,W]},_.rgb.hcg=function(A){var L=A[0]/255,I=A[1]/255,k=A[2]/255,B=Math.max(Math.max(L,I),k),z=Math.min(Math.min(L,I),k),W=B-z,$,K;return W<1?$=z/(1-W):$=0,W<=0?K=0:B===L?K=(I-k)/W%6:B===I?K=2+(k-L)/W:K=4+(L-I)/W+4,K/=6,K%=1,[K*360,W*100,$*100]},_.hsl.hcg=function(A){var L=A[1]/100,I=A[2]/100,k=1,B=0;return I<.5?k=2*L*I:k=2*L*(1-I),k<1&&(B=(I-.5*k)/(1-k)),[A[0],k*100,B*100]},_.hsv.hcg=function(A){var L=A[1]/100,I=A[2]/100,k=L*I,B=0;return k<1&&(B=(I-k)/(1-k)),[A[0],k*100,B*100]},_.hcg.rgb=function(A){var L=A[0]/360,I=A[1]/100,k=A[2]/100;if(I===0)return[k*255,k*255,k*255];var B=[0,0,0],z=L%1*6,W=z%1,$=1-W,K=0;switch(Math.floor(z)){case 0:B[0]=1,B[1]=W,B[2]=0;break;case 1:B[0]=$,B[1]=1,B[2]=0;break;case 2:B[0]=0,B[1]=1,B[2]=W;break;case 3:B[0]=0,B[1]=$,B[2]=1;break;case 4:B[0]=W,B[1]=0,B[2]=1;break;default:B[0]=1,B[1]=0,B[2]=$}return K=(1-I)*k,[(I*B[0]+K)*255,(I*B[1]+K)*255,(I*B[2]+K)*255]},_.hcg.hsv=function(A){var L=A[1]/100,I=A[2]/100,k=L+I*(1-L),B=0;return k>0&&(B=L/k),[A[0],B*100,k*100]},_.hcg.hsl=function(A){var L=A[1]/100,I=A[2]/100,k=I*(1-L)+.5*L,B=0;return k>0&&k<.5?B=L/(2*k):k>=.5&&k<1&&(B=L/(2*(1-k))),[A[0],B*100,k*100]},_.hcg.hwb=function(A){var L=A[1]/100,I=A[2]/100,k=L+I*(1-L);return[A[0],(k-L)*100,(1-k)*100]},_.hwb.hcg=function(A){var L=A[1]/100,I=A[2]/100,k=1-I,B=k-L,z=0;return B<1&&(z=(k-B)/(1-B)),[A[0],B*100,z*100]},_.apple.rgb=function(A){return[A[0]/65535*255,A[1]/65535*255,A[2]/65535*255]},_.rgb.apple=function(A){return[A[0]/255*65535,A[1]/255*65535,A[2]/255*65535]},_.gray.rgb=function(A){return[A[0]/100*255,A[0]/100*255,A[0]/100*255]},_.gray.hsl=_.gray.hsv=function(A){return[0,0,A[0]]},_.gray.hwb=function(A){return[0,100,A[0]]},_.gray.cmyk=function(A){return[0,0,0,A[0]]},_.gray.lab=function(A){return[A[0],0,0]},_.gray.hex=function(A){var L=Math.round(A[0]/100*255)&255,I=(L<<16)+(L<<8)+L,k=I.toString(16).toUpperCase();return"000000".substring(k.length)+k},_.rgb.gray=function(A){var L=(A[0]+A[1]+A[2])/3;return[L/255*100]}},12085:function(at,R,d){var x=d(48168),b=d(4111),P={},_=Object.keys(x);function O(F){var M=function(A){return A==null?A:(arguments.length>1&&(A=Array.prototype.slice.call(arguments)),F(A))};return"conversion"in F&&(M.conversion=F.conversion),M}function T(F){var M=function(A){if(A==null)return A;arguments.length>1&&(A=Array.prototype.slice.call(arguments));var L=F(A);if(typeof L=="object")for(var I=L.length,k=0;k<I;k++)L[k]=Math.round(L[k]);return L};return"conversion"in F&&(M.conversion=F.conversion),M}_.forEach(function(F){P[F]={},Object.defineProperty(P[F],"channels",{value:x[F].channels}),Object.defineProperty(P[F],"labels",{value:x[F].labels});var M=b(F),A=Object.keys(M);A.forEach(function(L){var I=M[L];P[F][L]=T(I),P[F][L].raw=O(I)})}),at.exports=P},39092:function(at){"use strict";at.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},4111:function(at,R,d){var x=d(48168);function b(){for(var T={},F=Object.keys(x),M=F.length,A=0;A<M;A++)T[F[A]]={distance:-1,parent:null};return T}function P(T){var F=b(),M=[T];for(F[T].distance=0;M.length;)for(var A=M.pop(),L=Object.keys(x[A]),I=L.length,k=0;k<I;k++){var B=L[k],z=F[B];z.distance===-1&&(z.distance=F[A].distance+1,z.parent=A,M.unshift(B))}return F}function _(T,F){return function(M){return F(T(M))}}function O(T,F){for(var M=[F[T].parent,T],A=x[F[T].parent][T],L=F[T].parent;F[L].parent;)M.unshift(F[L].parent),A=_(x[F[L].parent][L],A),L=F[L].parent;return A.conversion=M,A}at.exports=function(T){for(var F=P(T),M={},A=Object.keys(F),L=A.length,I=0;I<L;I++){var k=A[I],B=F[k];B.parent!==null&&(M[k]=O(k,F))}return M}},8874:function(at){"use strict";at.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},19818:function(at,R,d){var x=d(8874),b=d(86851),P=Object.hasOwnProperty,_={};for(var O in x)P.call(x,O)&&(_[x[O]]=O);var T=at.exports={to:{},get:{}};T.get=function(A){var L=A.substring(0,3).toLowerCase(),I,k;switch(L){case"hsl":I=T.get.hsl(A),k="hsl";break;case"hwb":I=T.get.hwb(A),k="hwb";break;default:I=T.get.rgb(A),k="rgb";break}return I?{model:k,value:I}:null},T.get.rgb=function(A){if(!A)return null;var L=/^#([a-f0-9]{3,4})$/i,I=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,k=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,B=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,z=/^(\w+)$/,W=[0,0,0,1],$,K,lt;if($=A.match(I)){for(lt=$[2],$=$[1],K=0;K<3;K++){var st=K*2;W[K]=parseInt($.slice(st,st+2),16)}lt&&(W[3]=parseInt(lt,16)/255)}else if($=A.match(L)){for($=$[1],lt=$[3],K=0;K<3;K++)W[K]=parseInt($[K]+$[K],16);lt&&(W[3]=parseInt(lt+lt,16)/255)}else if($=A.match(k)){for(K=0;K<3;K++)W[K]=parseInt($[K+1],0);$[4]&&($[5]?W[3]=parseFloat($[4])*.01:W[3]=parseFloat($[4]))}else if($=A.match(B)){for(K=0;K<3;K++)W[K]=Math.round(parseFloat($[K+1])*2.55);$[4]&&($[5]?W[3]=parseFloat($[4])*.01:W[3]=parseFloat($[4]))}else return($=A.match(z))?$[1]==="transparent"?[0,0,0,0]:P.call(x,$[1])?(W=x[$[1]],W[3]=1,W):null:null;for(K=0;K<3;K++)W[K]=F(W[K],0,255);return W[3]=F(W[3],0,1),W},T.get.hsl=function(A){if(!A)return null;var L=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,I=A.match(L);if(I){var k=parseFloat(I[4]),B=(parseFloat(I[1])%360+360)%360,z=F(parseFloat(I[2]),0,100),W=F(parseFloat(I[3]),0,100),$=F(isNaN(k)?1:k,0,1);return[B,z,W,$]}return null},T.get.hwb=function(A){if(!A)return null;var L=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,I=A.match(L);if(I){var k=parseFloat(I[4]),B=(parseFloat(I[1])%360+360)%360,z=F(parseFloat(I[2]),0,100),W=F(parseFloat(I[3]),0,100),$=F(isNaN(k)?1:k,0,1);return[B,z,W,$]}return null},T.to.hex=function(){var A=b(arguments);return"#"+M(A[0])+M(A[1])+M(A[2])+(A[3]<1?M(Math.round(A[3]*255)):"")},T.to.rgb=function(){var A=b(arguments);return A.length<4||A[3]===1?"rgb("+Math.round(A[0])+", "+Math.round(A[1])+", "+Math.round(A[2])+")":"rgba("+Math.round(A[0])+", "+Math.round(A[1])+", "+Math.round(A[2])+", "+A[3]+")"},T.to.rgb.percent=function(){var A=b(arguments),L=Math.round(A[0]/255*100),I=Math.round(A[1]/255*100),k=Math.round(A[2]/255*100);return A.length<4||A[3]===1?"rgb("+L+"%, "+I+"%, "+k+"%)":"rgba("+L+"%, "+I+"%, "+k+"%, "+A[3]+")"},T.to.hsl=function(){var A=b(arguments);return A.length<4||A[3]===1?"hsl("+A[0]+", "+A[1]+"%, "+A[2]+"%)":"hsla("+A[0]+", "+A[1]+"%, "+A[2]+"%, "+A[3]+")"},T.to.hwb=function(){var A=b(arguments),L="";return A.length>=4&&A[3]!==1&&(L=", "+A[3]),"hwb("+A[0]+", "+A[1]+"%, "+A[2]+"%"+L+")"},T.to.keyword=function(A){return _[A.slice(0,3)]};function F(A,L,I){return Math.min(Math.max(L,A),I)}function M(A){var L=Math.round(A).toString(16).toUpperCase();return L.length<2?"0"+L:L}},6767:function(at,R,d){"use strict";var x=d(19818),b=d(12085),P=[].slice,_=["keyword","gray","hex"],O={};Object.keys(b).forEach(function(z){O[P.call(b[z].labels).sort().join("")]=z});var T={};function F(z,W){if(!(this instanceof F))return new F(z,W);if(W&&W in _&&(W=null),W&&!(W in b))throw new Error("Unknown model: "+W);var $,K;if(z==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(z instanceof F)this.model=z.model,this.color=z.color.slice(),this.valpha=z.valpha;else if(typeof z=="string"){var lt=x.get(z);if(lt===null)throw new Error("Unable to parse color from string: "+z);this.model=lt.model,K=b[this.model].channels,this.color=lt.value.slice(0,K),this.valpha=typeof lt.value[K]=="number"?lt.value[K]:1}else if(z.length){this.model=W||"rgb",K=b[this.model].channels;var st=P.call(z,0,K);this.color=B(st,K),this.valpha=typeof z[K]=="number"?z[K]:1}else if(typeof z=="number")z&=16777215,this.model="rgb",this.color=[z>>16&255,z>>8&255,z&255],this.valpha=1;else{this.valpha=1;var yt=Object.keys(z);"alpha"in z&&(yt.splice(yt.indexOf("alpha"),1),this.valpha=typeof z.alpha=="number"?z.alpha:0);var q=yt.sort().join("");if(!(q in O))throw new Error("Unable to parse color from object: "+JSON.stringify(z));this.model=O[q];var nt=b[this.model].labels,ct=[];for($=0;$<nt.length;$++)ct.push(z[nt[$]]);this.color=B(ct)}if(T[this.model])for(K=b[this.model].channels,$=0;$<K;$++){var bt=T[this.model][$];bt&&(this.color[$]=bt(this.color[$]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}F.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(z){var W=this.model in x.to?this:this.rgb();W=W.round(typeof z=="number"?z:1);var $=W.valpha===1?W.color:W.color.concat(this.valpha);return x.to[W.model]($)},percentString:function(z){var W=this.rgb().round(typeof z=="number"?z:1),$=W.valpha===1?W.color:W.color.concat(this.valpha);return x.to.rgb.percent($)},array:function(){return this.valpha===1?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var z={},W=b[this.model].channels,$=b[this.model].labels,K=0;K<W;K++)z[$[K]]=this.color[K];return this.valpha!==1&&(z.alpha=this.valpha),z},unitArray:function(){var z=this.rgb().color;return z[0]/=255,z[1]/=255,z[2]/=255,this.valpha!==1&&z.push(this.valpha),z},unitObject:function(){var z=this.rgb().object();return z.r/=255,z.g/=255,z.b/=255,this.valpha!==1&&(z.alpha=this.valpha),z},round:function(z){return z=Math.max(z||0,0),new F(this.color.map(A(z)).concat(this.valpha),this.model)},alpha:function(z){return arguments.length?new F(this.color.concat(Math.max(0,Math.min(1,z))),this.model):this.valpha},red:L("rgb",0,I(255)),green:L("rgb",1,I(255)),blue:L("rgb",2,I(255)),hue:L(["hsl","hsv","hsl","hwb","hcg"],0,function(z){return(z%360+360)%360}),saturationl:L("hsl",1,I(100)),lightness:L("hsl",2,I(100)),saturationv:L("hsv",1,I(100)),value:L("hsv",2,I(100)),chroma:L("hcg",1,I(100)),gray:L("hcg",2,I(100)),white:L("hwb",1,I(100)),wblack:L("hwb",2,I(100)),cyan:L("cmyk",0,I(100)),magenta:L("cmyk",1,I(100)),yellow:L("cmyk",2,I(100)),black:L("cmyk",3,I(100)),x:L("xyz",0,I(100)),y:L("xyz",1,I(100)),z:L("xyz",2,I(100)),l:L("lab",0,I(100)),a:L("lab",1),b:L("lab",2),keyword:function(z){return arguments.length?new F(z):b[this.model].keyword(this.color)},hex:function(z){return arguments.length?new F(z):x.to.hex(this.rgb().round().color)},rgbNumber:function(){var z=this.rgb().color;return(z[0]&255)<<16|(z[1]&255)<<8|z[2]&255},luminosity:function(){for(var z=this.rgb().color,W=[],$=0;$<z.length;$++){var K=z[$]/255;W[$]=K<=.03928?K/12.92:Math.pow((K+.055)/1.055,2.4)}return .2126*W[0]+.7152*W[1]+.0722*W[2]},contrast:function(z){var W=this.luminosity(),$=z.luminosity();return W>$?(W+.05)/($+.05):($+.05)/(W+.05)},level:function(z){var W=this.contrast(z);return W>=7.1?"AAA":W>=4.5?"AA":""},isDark:function(){var z=this.rgb().color,W=(z[0]*299+z[1]*587+z[2]*114)/1e3;return W<128},isLight:function(){return!this.isDark()},negate:function(){for(var z=this.rgb(),W=0;W<3;W++)z.color[W]=255-z.color[W];return z},lighten:function(z){var W=this.hsl();return W.color[2]+=W.color[2]*z,W},darken:function(z){var W=this.hsl();return W.color[2]-=W.color[2]*z,W},saturate:function(z){var W=this.hsl();return W.color[1]+=W.color[1]*z,W},desaturate:function(z){var W=this.hsl();return W.color[1]-=W.color[1]*z,W},whiten:function(z){var W=this.hwb();return W.color[1]+=W.color[1]*z,W},blacken:function(z){var W=this.hwb();return W.color[2]+=W.color[2]*z,W},grayscale:function(){var z=this.rgb().color,W=z[0]*.3+z[1]*.59+z[2]*.11;return F.rgb(W,W,W)},fade:function(z){return this.alpha(this.valpha-this.valpha*z)},opaquer:function(z){return this.alpha(this.valpha+this.valpha*z)},rotate:function(z){var W=this.hsl(),$=W.color[0];return $=($+z)%360,$=$<0?360+$:$,W.color[0]=$,W},mix:function(z,W){if(!z||!z.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof z);var $=z.rgb(),K=this.rgb(),lt=W===void 0?.5:W,st=2*lt-1,yt=$.alpha()-K.alpha(),q=((st*yt===-1?st:(st+yt)/(1+st*yt))+1)/2,nt=1-q;return F.rgb(q*$.red()+nt*K.red(),q*$.green()+nt*K.green(),q*$.blue()+nt*K.blue(),$.alpha()*lt+K.alpha()*(1-lt))}},Object.keys(b).forEach(function(z){if(_.indexOf(z)===-1){var W=b[z].channels;F.prototype[z]=function(){if(this.model===z)return new F(this);if(arguments.length)return new F(arguments,z);var $=typeof arguments[W]=="number"?W:this.valpha;return new F(k(b[this.model][z].raw(this.color)).concat($),z)},F[z]=function($){return typeof $=="number"&&($=B(P.call(arguments),W)),new F($,z)}}});function M(z,W){return Number(z.toFixed(W))}function A(z){return function(W){return M(W,z)}}function L(z,W,$){return z=Array.isArray(z)?z:[z],z.forEach(function(K){(T[K]||(T[K]=[]))[W]=$}),z=z[0],function(K){var lt;return arguments.length?($&&(K=$(K)),lt=this[z](),lt.color[W]=K,lt):(lt=this[z]().color[W],$&&(lt=$(lt)),lt)}}function I(z){return function(W){return Math.max(0,Math.min(z,W))}}function k(z){return Array.isArray(z)?z:[z]}function B(z,W){for(var $=0;$<W;$++)typeof z[$]!="number"&&(z[$]=0);return z}at.exports=F},19662:function(at,R,d){var x=d(17854),b=d(60614),P=d(66330),_=x.TypeError;at.exports=function(O){if(b(O))return O;throw _(P(O)+" is not a function")}},39483:function(at,R,d){var x=d(17854),b=d(4411),P=d(66330),_=x.TypeError;at.exports=function(O){if(b(O))return O;throw _(P(O)+" is not a constructor")}},96077:function(at,R,d){var x=d(17854),b=d(60614),P=x.String,_=x.TypeError;at.exports=function(O){if(typeof O=="object"||b(O))return O;throw _("Can't set "+P(O)+" as a prototype")}},51223:function(at,R,d){var x=d(5112),b=d(70030),P=d(3070),_=x("unscopables"),O=Array.prototype;O[_]==null&&P.f(O,_,{configurable:!0,value:b(null)}),at.exports=function(T){O[_][T]=!0}},31530:function(at,R,d){"use strict";var x=d(28710).charAt;at.exports=function(b,P,_){return P+(_?x(b,P).length:1)}},25787:function(at,R,d){var x=d(17854),b=d(47976),P=x.TypeError;at.exports=function(_,O){if(b(O,_))return _;throw P("Incorrect invocation")}},19670:function(at,R,d){var x=d(17854),b=d(70111),P=x.String,_=x.TypeError;at.exports=function(O){if(b(O))return O;throw _(P(O)+" is not an object")}},24019:function(at){at.exports=typeof ArrayBuffer!="undefined"&&typeof DataView!="undefined"},7556:function(at,R,d){var x=d(47293);at.exports=x(function(){if(typeof ArrayBuffer=="function"){var b=new ArrayBuffer(8);Object.isExtensible(b)&&Object.defineProperty(b,"a",{value:8})}})},90260:function(at,R,d){"use strict";var x=d(24019),b=d(19781),P=d(17854),_=d(60614),O=d(70111),T=d(92597),F=d(70648),M=d(66330),A=d(68880),L=d(31320),I=d(3070).f,k=d(47976),B=d(79518),z=d(27674),W=d(5112),$=d(69711),K=P.Int8Array,lt=K&&K.prototype,st=P.Uint8ClampedArray,yt=st&&st.prototype,q=K&&B(K),nt=lt&&B(lt),ct=Object.prototype,bt=P.TypeError,_t=W("toStringTag"),St=$("TYPED_ARRAY_TAG"),At=$("TYPED_ARRAY_CONSTRUCTOR"),vt=x&&!!z&&F(P.opera)!=="Opera",dt=!1,gt,Ct,Et,Tt={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},ot={BigInt64Array:8,BigUint64Array:8},Mt=function(ke){if(!O(ke))return!1;var Le=F(ke);return Le==="DataView"||T(Tt,Le)||T(ot,Le)},Wt=function(he){if(!O(he))return!1;var ke=F(he);return T(Tt,ke)||T(ot,ke)},jt=function(he){if(Wt(he))return he;throw bt("Target is not a typed array")},qt=function(he){if(_(he)&&(!z||k(q,he)))return he;throw bt(M(he)+" is not a typed array constructor")},se=function(he,ke,Le,rr){if(!!b){if(Le)for(var Ee in Tt){var ge=P[Ee];if(ge&&T(ge.prototype,he))try{delete ge.prototype[he]}catch(we){try{ge.prototype[he]=ke}catch(Ce){}}}(!nt[he]||Le)&&L(nt,he,Le?ke:vt&&lt[he]||ke,rr)}},ae=function(he,ke,Le){var rr,Ee;if(!!b){if(z){if(Le){for(rr in Tt)if(Ee=P[rr],Ee&&T(Ee,he))try{delete Ee[he]}catch(ge){}}if(!q[he]||Le)try{return L(q,he,Le?ke:vt&&q[he]||ke)}catch(ge){}else return}for(rr in Tt)Ee=P[rr],Ee&&(!Ee[he]||Le)&&L(Ee,he,ke)}};for(gt in Tt)Ct=P[gt],Et=Ct&&Ct.prototype,Et?A(Et,At,Ct):vt=!1;for(gt in ot)Ct=P[gt],Et=Ct&&Ct.prototype,Et&&A(Et,At,Ct);if((!vt||!_(q)||q===Function.prototype)&&(q=function(){throw bt("Incorrect invocation")},vt))for(gt in Tt)P[gt]&&z(P[gt],q);if((!vt||!nt||nt===ct)&&(nt=q.prototype,vt))for(gt in Tt)P[gt]&&z(P[gt].prototype,nt);if(vt&&B(yt)!==nt&&z(yt,nt),b&&!T(nt,_t)){dt=!0,I(nt,_t,{get:function(){return O(this)?this[St]:void 0}});for(gt in Tt)P[gt]&&A(P[gt],St,gt)}at.exports={NATIVE_ARRAY_BUFFER_VIEWS:vt,TYPED_ARRAY_CONSTRUCTOR:At,TYPED_ARRAY_TAG:dt&&St,aTypedArray:jt,aTypedArrayConstructor:qt,exportTypedArrayMethod:se,exportTypedArrayStaticMethod:ae,isView:Mt,isTypedArray:Wt,TypedArray:q,TypedArrayPrototype:nt}},13331:function(at,R,d){"use strict";var x=d(17854),b=d(1702),P=d(19781),_=d(24019),O=d(76530),T=d(68880),F=d(12248),M=d(47293),A=d(25787),L=d(19303),I=d(17466),k=d(57067),B=d(11179),z=d(79518),W=d(27674),$=d(8006).f,K=d(3070).f,lt=d(21285),st=d(41589),yt=d(58003),q=d(29909),nt=O.PROPER,ct=O.CONFIGURABLE,bt=q.get,_t=q.set,St="ArrayBuffer",At="DataView",vt="prototype",dt="Wrong length",gt="Wrong index",Ct=x[St],Et=Ct,Tt=Et&&Et[vt],ot=x[At],Mt=ot&&ot[vt],Wt=Object.prototype,jt=x.Array,qt=x.RangeError,se=b(lt),ae=b([].reverse),he=B.pack,ke=B.unpack,Le=function(Ir){return[Ir&255]},rr=function(Ir){return[Ir&255,Ir>>8&255]},Ee=function(Ir){return[Ir&255,Ir>>8&255,Ir>>16&255,Ir>>24&255]},ge=function(Ir){return Ir[3]<<24|Ir[2]<<16|Ir[1]<<8|Ir[0]},we=function(Ir){return he(Ir,23,4)},Ce=function(Ir){return he(Ir,52,8)},ye=function(Ir,gn){K(Ir[vt],gn,{get:function(){return bt(this)[gn]}})},Gt=function(Ir,gn,Wn,ui){var bi=k(Wn),fr=bt(Ir);if(bi+gn>fr.byteLength)throw qt(gt);var Zr=bt(fr.buffer).bytes,Sn=bi+fr.byteOffset,Dn=st(Zr,Sn,Sn+gn);return ui?Dn:ae(Dn)},Xt=function(Ir,gn,Wn,ui,bi,fr){var Zr=k(Wn),Sn=bt(Ir);if(Zr+gn>Sn.byteLength)throw qt(gt);for(var Dn=bt(Sn.buffer).bytes,hn=Zr+Sn.byteOffset,Gn=ui(+bi),En=0;En<gn;En++)Dn[hn+En]=Gn[fr?En:gn-En-1]};if(!_)Et=function(gn){A(this,Tt);var Wn=k(gn);_t(this,{bytes:se(jt(Wn),0),byteLength:Wn}),P||(this.byteLength=Wn)},Tt=Et[vt],ot=function(gn,Wn,ui){A(this,Mt),A(gn,Tt);var bi=bt(gn).byteLength,fr=L(Wn);if(fr<0||fr>bi)throw qt("Wrong offset");if(ui=ui===void 0?bi-fr:I(ui),fr+ui>bi)throw qt(dt);_t(this,{buffer:gn,byteLength:ui,byteOffset:fr}),P||(this.buffer=gn,this.byteLength=ui,this.byteOffset=fr)},Mt=ot[vt],P&&(ye(Et,"byteLength"),ye(ot,"buffer"),ye(ot,"byteLength"),ye(ot,"byteOffset")),F(Mt,{getInt8:function(gn){return Gt(this,1,gn)[0]<<24>>24},getUint8:function(gn){return Gt(this,1,gn)[0]},getInt16:function(gn){var Wn=Gt(this,2,gn,arguments.length>1?arguments[1]:void 0);return(Wn[1]<<8|Wn[0])<<16>>16},getUint16:function(gn){var Wn=Gt(this,2,gn,arguments.length>1?arguments[1]:void 0);return Wn[1]<<8|Wn[0]},getInt32:function(gn){return ge(Gt(this,4,gn,arguments.length>1?arguments[1]:void 0))},getUint32:function(gn){return ge(Gt(this,4,gn,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(gn){return ke(Gt(this,4,gn,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(gn){return ke(Gt(this,8,gn,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(gn,Wn){Xt(this,1,gn,Le,Wn)},setUint8:function(gn,Wn){Xt(this,1,gn,Le,Wn)},setInt16:function(gn,Wn){Xt(this,2,gn,rr,Wn,arguments.length>2?arguments[2]:void 0)},setUint16:function(gn,Wn){Xt(this,2,gn,rr,Wn,arguments.length>2?arguments[2]:void 0)},setInt32:function(gn,Wn){Xt(this,4,gn,Ee,Wn,arguments.length>2?arguments[2]:void 0)},setUint32:function(gn,Wn){Xt(this,4,gn,Ee,Wn,arguments.length>2?arguments[2]:void 0)},setFloat32:function(gn,Wn){Xt(this,4,gn,we,Wn,arguments.length>2?arguments[2]:void 0)},setFloat64:function(gn,Wn){Xt(this,8,gn,Ce,Wn,arguments.length>2?arguments[2]:void 0)}});else{var Kt=nt&&Ct.name!==St;if(!M(function(){Ct(1)})||!M(function(){new Ct(-1)})||M(function(){return new Ct,new Ct(1.5),new Ct(NaN),Kt&&!ct})){Et=function(gn){return A(this,Tt),new Ct(k(gn))},Et[vt]=Tt;for(var ze=$(Ct),ur=0,tr;ze.length>ur;)(tr=ze[ur++])in Et||T(Et,tr,Ct[tr]);Tt.constructor=Et}else Kt&&ct&&T(Ct,"name",St);W&&z(Mt)!==Wt&&W(Mt,Wt);var re=new ot(new Et(2)),Qr=b(Mt.setInt8);re.setInt8(0,2147483648),re.setInt8(1,2147483649),(re.getInt8(0)||!re.getInt8(1))&&F(Mt,{setInt8:function(gn,Wn){Qr(this,gn,Wn<<24>>24)},setUint8:function(gn,Wn){Qr(this,gn,Wn<<24>>24)}},{unsafe:!0})}yt(Et,St),yt(ot,At),at.exports={ArrayBuffer:Et,DataView:ot}},1048:function(at,R,d){"use strict";var x=d(47908),b=d(51400),P=d(26244),_=Math.min;at.exports=[].copyWithin||function(T,F){var M=x(this),A=P(M),L=b(T,A),I=b(F,A),k=arguments.length>2?arguments[2]:void 0,B=_((k===void 0?A:b(k,A))-I,A-L),z=1;for(I<L&&L<I+B&&(z=-1,I+=B-1,L+=B-1);B-- >0;)I in M?M[L]=M[I]:delete M[L],L+=z,I+=z;return M}},21285:function(at,R,d){"use strict";var x=d(47908),b=d(51400),P=d(26244);at.exports=function(O){for(var T=x(this),F=P(T),M=arguments.length,A=b(M>1?arguments[1]:void 0,F),L=M>2?arguments[2]:void 0,I=L===void 0?F:b(L,F);I>A;)T[A++]=O;return T}},18533:function(at,R,d){"use strict";var x=d(42092).forEach,b=d(9341),P=b("forEach");at.exports=P?[].forEach:function(O){return x(this,O,arguments.length>1?arguments[1]:void 0)}},97745:function(at,R,d){var x=d(26244);at.exports=function(b,P){for(var _=0,O=x(P),T=new b(O);O>_;)T[_]=P[_++];return T}},48457:function(at,R,d){"use strict";var x=d(17854),b=d(49974),P=d(46916),_=d(47908),O=d(53411),T=d(97659),F=d(4411),M=d(26244),A=d(86135),L=d(18554),I=d(71246),k=x.Array;at.exports=function(z){var W=_(z),$=F(this),K=arguments.length,lt=K>1?arguments[1]:void 0,st=lt!==void 0;st&&(lt=b(lt,K>2?arguments[2]:void 0));var yt=I(W),q=0,nt,ct,bt,_t,St,At;if(yt&&!(this==k&&T(yt)))for(_t=L(W,yt),St=_t.next,ct=$?new this:[];!(bt=P(St,_t)).done;q++)At=st?O(_t,lt,[bt.value,q],!0):bt.value,A(ct,q,At);else for(nt=M(W),ct=$?new this(nt):k(nt);nt>q;q++)At=st?lt(W[q],q):W[q],A(ct,q,At);return ct.length=q,ct}},41318:function(at,R,d){var x=d(45656),b=d(51400),P=d(26244),_=function(O){return function(T,F,M){var A=x(T),L=P(A),I=b(M,L),k;if(O&&F!=F){for(;L>I;)if(k=A[I++],k!=k)return!0}else for(;L>I;I++)if((O||I in A)&&A[I]===F)return O||I||0;return!O&&-1}};at.exports={includes:_(!0),indexOf:_(!1)}},42092:function(at,R,d){var x=d(49974),b=d(1702),P=d(68361),_=d(47908),O=d(26244),T=d(65417),F=b([].push),M=function(A){var L=A==1,I=A==2,k=A==3,B=A==4,z=A==6,W=A==7,$=A==5||z;return function(K,lt,st,yt){for(var q=_(K),nt=P(q),ct=x(lt,st),bt=O(nt),_t=0,St=yt||T,At=L?St(K,bt):I||W?St(K,0):void 0,vt,dt;bt>_t;_t++)if(($||_t in nt)&&(vt=nt[_t],dt=ct(vt,_t,q),A))if(L)At[_t]=dt;else if(dt)switch(A){case 3:return!0;case 5:return vt;case 6:return _t;case 2:F(At,vt)}else switch(A){case 4:return!1;case 7:F(At,vt)}return z?-1:k||B?B:At}};at.exports={forEach:M(0),map:M(1),filter:M(2),some:M(3),every:M(4),find:M(5),findIndex:M(6),filterReject:M(7)}},86583:function(at,R,d){"use strict";var x=d(22104),b=d(45656),P=d(19303),_=d(26244),O=d(9341),T=Math.min,F=[].lastIndexOf,M=!!F&&1/[1].lastIndexOf(1,-0)<0,A=O("lastIndexOf"),L=M||!A;at.exports=L?function(k){if(M)return x(F,this,arguments)||0;var B=b(this),z=_(B),W=z-1;for(arguments.length>1&&(W=T(W,P(arguments[1]))),W<0&&(W=z+W);W>=0;W--)if(W in B&&B[W]===k)return W||0;return-1}:F},81194:function(at,R,d){var x=d(47293),b=d(5112),P=d(7392),_=b("species");at.exports=function(O){return P>=51||!x(function(){var T=[],F=T.constructor={};return F[_]=function(){return{foo:1}},T[O](Boolean).foo!==1})}},9341:function(at,R,d){"use strict";var x=d(47293);at.exports=function(b,P){var _=[][b];return!!_&&x(function(){_.call(null,P||function(){return 1},1)})}},53671:function(at,R,d){var x=d(17854),b=d(19662),P=d(47908),_=d(68361),O=d(26244),T=x.TypeError,F=function(M){return function(A,L,I,k){b(L);var B=P(A),z=_(B),W=O(B),$=M?W-1:0,K=M?-1:1;if(I<2)for(;;){if($ in z){k=z[$],$+=K;break}if($+=K,M?$<0:W<=$)throw T("Reduce of empty array with no initial value")}for(;M?$>=0:W>$;$+=K)$ in z&&(k=L(k,z[$],$,B));return k}};at.exports={left:F(!1),right:F(!0)}},41589:function(at,R,d){var x=d(17854),b=d(51400),P=d(26244),_=d(86135),O=x.Array,T=Math.max;at.exports=function(F,M,A){for(var L=P(F),I=b(M,L),k=b(A===void 0?L:A,L),B=O(T(k-I,0)),z=0;I<k;I++,z++)_(B,z,F[I]);return B.length=z,B}},50206:function(at,R,d){var x=d(1702);at.exports=x([].slice)},94362:function(at,R,d){var x=d(41589),b=Math.floor,P=function(T,F){var M=T.length,A=b(M/2);return M<8?_(T,F):O(T,P(x(T,0,A),F),P(x(T,A),F),F)},_=function(T,F){for(var M=T.length,A=1,L,I;A<M;){for(I=A,L=T[A];I&&F(T[I-1],L)>0;)T[I]=T[--I];I!==A++&&(T[I]=L)}return T},O=function(T,F,M,A){for(var L=F.length,I=M.length,k=0,B=0;k<L||B<I;)T[k+B]=k<L&&B<I?A(F[k],M[B])<=0?F[k++]:M[B++]:k<L?F[k++]:M[B++];return T};at.exports=P},77475:function(at,R,d){var x=d(17854),b=d(43157),P=d(4411),_=d(70111),O=d(5112),T=O("species"),F=x.Array;at.exports=function(M){var A;return b(M)&&(A=M.constructor,P(A)&&(A===F||b(A.prototype))?A=void 0:_(A)&&(A=A[T],A===null&&(A=void 0))),A===void 0?F:A}},65417:function(at,R,d){var x=d(77475);at.exports=function(b,P){return new(x(b))(P===0?0:P)}},53411:function(at,R,d){var x=d(19670),b=d(99212);at.exports=function(P,_,O,T){try{return T?_(x(O)[0],O[1]):_(O)}catch(F){b(P,"throw",F)}}},17072:function(at,R,d){var x=d(5112),b=x("iterator"),P=!1;try{var _=0,O={next:function(){return{done:!!_++}},return:function(){P=!0}};O[b]=function(){return this},Array.from(O,function(){throw 2})}catch(T){}at.exports=function(T,F){if(!F&&!P)return!1;var M=!1;try{var A={};A[b]=function(){return{next:function(){return{done:M=!0}}}},T(A)}catch(L){}return M}},84326:function(at,R,d){var x=d(1702),b=x({}.toString),P=x("".slice);at.exports=function(_){return P(b(_),8,-1)}},70648:function(at,R,d){var x=d(17854),b=d(51694),P=d(60614),_=d(84326),O=d(5112),T=O("toStringTag"),F=x.Object,M=_(function(){return arguments}())=="Arguments",A=function(L,I){try{return L[I]}catch(k){}};at.exports=b?_:function(L){var I,k,B;return L===void 0?"Undefined":L===null?"Null":typeof(k=A(I=F(L),T))=="string"?k:M?_(I):(B=_(I))=="Object"&&P(I.callee)?"Arguments":B}},77741:function(at,R,d){var x=d(1702),b=x("".replace),P=function(T){return String(Error(T).stack)}("zxcasd"),_=/\n\s*at [^:]*:[^\n]*/,O=_.test(P);at.exports=function(T,F){if(O&&typeof T=="string")for(;F--;)T=b(T,_,"");return T}},95631:function(at,R,d){"use strict";var x=d(3070).f,b=d(70030),P=d(12248),_=d(49974),O=d(25787),T=d(20408),F=d(70654),M=d(96340),A=d(19781),L=d(62423).fastKey,I=d(29909),k=I.set,B=I.getterFor;at.exports={getConstructor:function(z,W,$,K){var lt=z(function(ct,bt){O(ct,st),k(ct,{type:W,index:b(null),first:void 0,last:void 0,size:0}),A||(ct.size=0),bt!=null&&T(bt,ct[K],{that:ct,AS_ENTRIES:$})}),st=lt.prototype,yt=B(W),q=function(ct,bt,_t){var St=yt(ct),At=nt(ct,bt),vt,dt;return At?At.value=_t:(St.last=At={index:dt=L(bt,!0),key:bt,value:_t,previous:vt=St.last,next:void 0,removed:!1},St.first||(St.first=At),vt&&(vt.next=At),A?St.size++:ct.size++,dt!=="F"&&(St.index[dt]=At)),ct},nt=function(ct,bt){var _t=yt(ct),St=L(bt),At;if(St!=="F")return _t.index[St];for(At=_t.first;At;At=At.next)if(At.key==bt)return At};return P(st,{clear:function(){for(var bt=this,_t=yt(bt),St=_t.index,At=_t.first;At;)At.removed=!0,At.previous&&(At.previous=At.previous.next=void 0),delete St[At.index],At=At.next;_t.first=_t.last=void 0,A?_t.size=0:bt.size=0},delete:function(ct){var bt=this,_t=yt(bt),St=nt(bt,ct);if(St){var At=St.next,vt=St.previous;delete _t.index[St.index],St.removed=!0,vt&&(vt.next=At),At&&(At.previous=vt),_t.first==St&&(_t.first=At),_t.last==St&&(_t.last=vt),A?_t.size--:bt.size--}return!!St},forEach:function(bt){for(var _t=yt(this),St=_(bt,arguments.length>1?arguments[1]:void 0),At;At=At?At.next:_t.first;)for(St(At.value,At.key,this);At&&At.removed;)At=At.previous},has:function(bt){return!!nt(this,bt)}}),P(st,$?{get:function(bt){var _t=nt(this,bt);return _t&&_t.value},set:function(bt,_t){return q(this,bt===0?0:bt,_t)}}:{add:function(bt){return q(this,bt=bt===0?0:bt,bt)}}),A&&x(st,"size",{get:function(){return yt(this).size}}),lt},setStrong:function(z,W,$){var K=W+" Iterator",lt=B(W),st=B(K);F(z,W,function(yt,q){k(this,{type:K,target:yt,state:lt(yt),kind:q,last:void 0})},function(){for(var yt=st(this),q=yt.kind,nt=yt.last;nt&&nt.removed;)nt=nt.previous;return!yt.target||!(yt.last=nt=nt?nt.next:yt.state.first)?(yt.target=void 0,{value:void 0,done:!0}):q=="keys"?{value:nt.key,done:!1}:q=="values"?{value:nt.value,done:!1}:{value:[nt.key,nt.value],done:!1}},$?"entries":"values",!$,!0),M(W)}}},29320:function(at,R,d){"use strict";var x=d(1702),b=d(12248),P=d(62423).getWeakData,_=d(19670),O=d(70111),T=d(25787),F=d(20408),M=d(42092),A=d(92597),L=d(29909),I=L.set,k=L.getterFor,B=M.find,z=M.findIndex,W=x([].splice),$=0,K=function(yt){return yt.frozen||(yt.frozen=new lt)},lt=function(){this.entries=[]},st=function(yt,q){return B(yt.entries,function(nt){return nt[0]===q})};lt.prototype={get:function(yt){var q=st(this,yt);if(q)return q[1]},has:function(yt){return!!st(this,yt)},set:function(yt,q){var nt=st(this,yt);nt?nt[1]=q:this.entries.push([yt,q])},delete:function(yt){var q=z(this.entries,function(nt){return nt[0]===yt});return~q&&W(this.entries,q,1),!!~q}},at.exports={getConstructor:function(yt,q,nt,ct){var bt=yt(function(vt,dt){T(vt,_t),I(vt,{type:q,id:$++,frozen:void 0}),dt!=null&&F(dt,vt[ct],{that:vt,AS_ENTRIES:nt})}),_t=bt.prototype,St=k(q),At=function(vt,dt,gt){var Ct=St(vt),Et=P(_(dt),!0);return Et===!0?K(Ct).set(dt,gt):Et[Ct.id]=gt,vt};return b(_t,{delete:function(vt){var dt=St(this);if(!O(vt))return!1;var gt=P(vt);return gt===!0?K(dt).delete(vt):gt&&A(gt,dt.id)&&delete gt[dt.id]},has:function(dt){var gt=St(this);if(!O(dt))return!1;var Ct=P(dt);return Ct===!0?K(gt).has(dt):Ct&&A(Ct,gt.id)}}),b(_t,nt?{get:function(dt){var gt=St(this);if(O(dt)){var Ct=P(dt);return Ct===!0?K(gt).get(dt):Ct?Ct[gt.id]:void 0}},set:function(dt,gt){return At(this,dt,gt)}}:{add:function(dt){return At(this,dt,!0)}}),bt}}},77710:function(at,R,d){"use strict";var x=d(82109),b=d(17854),P=d(1702),_=d(54705),O=d(31320),T=d(62423),F=d(20408),M=d(25787),A=d(60614),L=d(70111),I=d(47293),k=d(17072),B=d(58003),z=d(79587);at.exports=function(W,$,K){var lt=W.indexOf("Map")!==-1,st=W.indexOf("Weak")!==-1,yt=lt?"set":"add",q=b[W],nt=q&&q.prototype,ct=q,bt={},_t=function(Et){var Tt=P(nt[Et]);O(nt,Et,Et=="add"?function(Mt){return Tt(this,Mt===0?0:Mt),this}:Et=="delete"?function(ot){return st&&!L(ot)?!1:Tt(this,ot===0?0:ot)}:Et=="get"?function(Mt){return st&&!L(Mt)?void 0:Tt(this,Mt===0?0:Mt)}:Et=="has"?function(Mt){return st&&!L(Mt)?!1:Tt(this,Mt===0?0:Mt)}:function(Mt,Wt){return Tt(this,Mt===0?0:Mt,Wt),this})},St=_(W,!A(q)||!(st||nt.forEach&&!I(function(){new q().entries().next()})));if(St)ct=K.getConstructor($,W,lt,yt),T.enable();else if(_(W,!0)){var At=new ct,vt=At[yt](st?{}:-0,1)!=At,dt=I(function(){At.has(1)}),gt=k(function(Et){new q(Et)}),Ct=!st&&I(function(){for(var Et=new q,Tt=5;Tt--;)Et[yt](Tt,Tt);return!Et.has(-0)});gt||(ct=$(function(Et,Tt){M(Et,nt);var ot=z(new q,Et,ct);return Tt!=null&&F(Tt,ot[yt],{that:ot,AS_ENTRIES:lt}),ot}),ct.prototype=nt,nt.constructor=ct),(dt||Ct)&&(_t("delete"),_t("has"),lt&&_t("get")),(Ct||vt)&&_t(yt),st&&nt.clear&&delete nt.clear}return bt[W]=ct,x({global:!0,forced:ct!=q},bt),B(ct,W),st||K.setStrong(ct,W,lt),ct}},99920:function(at,R,d){var x=d(92597),b=d(53887),P=d(31236),_=d(3070);at.exports=function(O,T,F){for(var M=b(T),A=_.f,L=P.f,I=0;I<M.length;I++){var k=M[I];!x(O,k)&&!(F&&x(F,k))&&A(O,k,L(T,k))}}},84964:function(at,R,d){var x=d(5112),b=x("match");at.exports=function(P){var _=/./;try{"/./"[P](_)}catch(O){try{return _[b]=!1,"/./"[P](_)}catch(T){}}return!1}},49920:function(at,R,d){var x=d(47293);at.exports=!x(function(){function b(){}return b.prototype.constructor=null,Object.getPrototypeOf(new b)!==b.prototype})},14230:function(at,R,d){var x=d(1702),b=d(84488),P=d(41340),_=/"/g,O=x("".replace);at.exports=function(T,F,M,A){var L=P(b(T)),I="<"+F;return M!==""&&(I+=" "+M+'="'+O(P(A),_,"&quot;")+'"'),I+">"+L+"</"+F+">"}},24994:function(at,R,d){"use strict";var x=d(13383).IteratorPrototype,b=d(70030),P=d(79114),_=d(58003),O=d(97497),T=function(){return this};at.exports=function(F,M,A,L){var I=M+" Iterator";return F.prototype=b(x,{next:P(+!L,A)}),_(F,I,!1,!0),O[I]=T,F}},68880:function(at,R,d){var x=d(19781),b=d(3070),P=d(79114);at.exports=x?function(_,O,T){return b.f(_,O,P(1,T))}:function(_,O,T){return _[O]=T,_}},79114:function(at){at.exports=function(R,d){return{enumerable:!(R&1),configurable:!(R&2),writable:!(R&4),value:d}}},86135:function(at,R,d){"use strict";var x=d(34948),b=d(3070),P=d(79114);at.exports=function(_,O,T){var F=x(O);F in _?b.f(_,F,P(0,T)):_[F]=T}},85573:function(at,R,d){"use strict";var x=d(17854),b=d(1702),P=d(47293),_=d(76650).start,O=x.RangeError,T=Math.abs,F=Date.prototype,M=F.toISOString,A=b(F.getTime),L=b(F.getUTCDate),I=b(F.getUTCFullYear),k=b(F.getUTCHours),B=b(F.getUTCMilliseconds),z=b(F.getUTCMinutes),W=b(F.getUTCMonth),$=b(F.getUTCSeconds);at.exports=P(function(){return M.call(new Date(-50000000000001))!="0385-07-25T07:06:39.999Z"})||!P(function(){M.call(new Date(NaN))})?function(){if(!isFinite(A(this)))throw O("Invalid time value");var lt=this,st=I(lt),yt=B(lt),q=st<0?"-":st>9999?"+":"";return q+_(T(st),q?6:4,0)+"-"+_(W(lt)+1,2,0)+"-"+_(L(lt),2,0)+"T"+_(k(lt),2,0)+":"+_(z(lt),2,0)+":"+_($(lt),2,0)+"."+_(yt,3,0)+"Z"}:M},38709:function(at,R,d){"use strict";var x=d(17854),b=d(19670),P=d(92140),_=x.TypeError;at.exports=function(O){if(b(this),O==="string"||O==="default")O="string";else if(O!=="number")throw _("Incorrect hint");return P(this,O)}},70654:function(at,R,d){"use strict";var x=d(82109),b=d(46916),P=d(31913),_=d(76530),O=d(60614),T=d(24994),F=d(79518),M=d(27674),A=d(58003),L=d(68880),I=d(31320),k=d(5112),B=d(97497),z=d(13383),W=_.PROPER,$=_.CONFIGURABLE,K=z.IteratorPrototype,lt=z.BUGGY_SAFARI_ITERATORS,st=k("iterator"),yt="keys",q="values",nt="entries",ct=function(){return this};at.exports=function(bt,_t,St,At,vt,dt,gt){T(St,_t,At);var Ct=function(he){if(he===vt&&Wt)return Wt;if(!lt&&he in ot)return ot[he];switch(he){case yt:return function(){return new St(this,he)};case q:return function(){return new St(this,he)};case nt:return function(){return new St(this,he)}}return function(){return new St(this)}},Et=_t+" Iterator",Tt=!1,ot=bt.prototype,Mt=ot[st]||ot["@@iterator"]||vt&&ot[vt],Wt=!lt&&Mt||Ct(vt),jt=_t=="Array"&&ot.entries||Mt,qt,se,ae;if(jt&&(qt=F(jt.call(new bt)),qt!==Object.prototype&&qt.next&&(!P&&F(qt)!==K&&(M?M(qt,K):O(qt[st])||I(qt,st,ct)),A(qt,Et,!0,!0),P&&(B[Et]=ct))),W&&vt==q&&Mt&&Mt.name!==q&&(!P&&$?L(ot,"name",q):(Tt=!0,Wt=function(){return b(Mt,this)})),vt)if(se={values:Ct(q),keys:dt?Wt:Ct(yt),entries:Ct(nt)},gt)for(ae in se)(lt||Tt||!(ae in ot))&&I(ot,ae,se[ae]);else x({target:_t,proto:!0,forced:lt||Tt},se);return(!P||gt)&&ot[st]!==Wt&&I(ot,st,Wt,{name:vt}),B[_t]=Wt,se}},97235:function(at,R,d){var x=d(40857),b=d(92597),P=d(6061),_=d(3070).f;at.exports=function(O){var T=x.Symbol||(x.Symbol={});b(T,O)||_(T,O,{value:P.f(O)})}},19781:function(at,R,d){var x=d(47293);at.exports=!x(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},80317:function(at,R,d){var x=d(17854),b=d(70111),P=x.document,_=b(P)&&b(P.createElement);at.exports=function(O){return _?P.createElement(O):{}}},48324:function(at){at.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},98509:function(at,R,d){var x=d(80317),b=x("span").classList,P=b&&b.constructor&&b.constructor.prototype;at.exports=P===Object.prototype?void 0:P},68886:function(at,R,d){var x=d(88113),b=x.match(/firefox\/(\d+)/i);at.exports=!!b&&+b[1]},7871:function(at){at.exports=typeof window=="object"},30256:function(at,R,d){var x=d(88113);at.exports=/MSIE|Trident/.test(x)},71528:function(at,R,d){var x=d(88113),b=d(17854);at.exports=/ipad|iphone|ipod/i.test(x)&&b.Pebble!==void 0},6833:function(at,R,d){var x=d(88113);at.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(x)},35268:function(at,R,d){var x=d(84326),b=d(17854);at.exports=x(b.process)=="process"},71036:function(at,R,d){var x=d(88113);at.exports=/web0s(?!.*chrome)/i.test(x)},88113:function(at,R,d){var x=d(35005);at.exports=x("navigator","userAgent")||""},7392:function(at,R,d){var x=d(17854),b=d(88113),P=x.process,_=x.Deno,O=P&&P.versions||_&&_.version,T=O&&O.v8,F,M;T&&(F=T.split("."),M=F[0]>0&&F[0]<4?1:+(F[0]+F[1])),!M&&b&&(F=b.match(/Edge\/(\d+)/),(!F||F[1]>=74)&&(F=b.match(/Chrome\/(\d+)/),F&&(M=+F[1]))),at.exports=M},98008:function(at,R,d){var x=d(88113),b=x.match(/AppleWebKit\/(\d+)\./);at.exports=!!b&&+b[1]},80748:function(at){at.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},22914:function(at,R,d){var x=d(47293),b=d(79114);at.exports=!x(function(){var P=Error("a");return"stack"in P?(Object.defineProperty(P,"stack",b(1,7)),P.stack!==7):!0})},82109:function(at,R,d){var x=d(17854),b=d(31236).f,P=d(68880),_=d(31320),O=d(83505),T=d(99920),F=d(54705);at.exports=function(M,A){var L=M.target,I=M.global,k=M.stat,B,z,W,$,K,lt;if(I?z=x:k?z=x[L]||O(L,{}):z=(x[L]||{}).prototype,z)for(W in A){if(K=A[W],M.noTargetGet?(lt=b(z,W),$=lt&&lt.value):$=z[W],B=F(I?W:L+(k?".":"#")+W,M.forced),!B&&$!==void 0){if(typeof K==typeof $)continue;T(K,$)}(M.sham||$&&$.sham)&&P(K,"sham",!0),_(z,W,K,M)}}},47293:function(at){at.exports=function(R){try{return!!R()}catch(d){return!0}}},27007:function(at,R,d){"use strict";d(74916);var x=d(1702),b=d(31320),P=d(22261),_=d(47293),O=d(5112),T=d(68880),F=O("species"),M=RegExp.prototype;at.exports=function(A,L,I,k){var B=O(A),z=!_(function(){var lt={};return lt[B]=function(){return 7},""[A](lt)!=7}),W=z&&!_(function(){var lt=!1,st=/a/;return A==="split"&&(st={},st.constructor={},st.constructor[F]=function(){return st},st.flags="",st[B]=/./[B]),st.exec=function(){return lt=!0,null},st[B](""),!lt});if(!z||!W||I){var $=x(/./[B]),K=L(B,""[A],function(lt,st,yt,q,nt){var ct=x(lt),bt=st.exec;return bt===P||bt===M.exec?z&&!nt?{done:!0,value:$(st,yt,q)}:{done:!0,value:ct(yt,st,q)}:{done:!1}});b(String.prototype,A,K[0]),b(M,B,K[1])}k&&T(M[B],"sham",!0)}},6790:function(at,R,d){"use strict";var x=d(17854),b=d(43157),P=d(26244),_=d(49974),O=x.TypeError,T=function(F,M,A,L,I,k,B,z){for(var W=I,$=0,K=B?_(B,z):!1,lt,st;$<L;){if($ in A){if(lt=K?K(A[$],$,M):A[$],k>0&&b(lt))st=P(lt),W=T(F,M,lt,st,W,k-1)-1;else{if(W>=9007199254740991)throw O("Exceed the acceptable array length");F[W]=lt}W++}$++}return W};at.exports=T},76677:function(at,R,d){var x=d(47293);at.exports=!x(function(){return Object.isExtensible(Object.preventExtensions({}))})},22104:function(at,R,d){var x=d(34374),b=Function.prototype,P=b.apply,_=b.call;at.exports=typeof Reflect=="object"&&Reflect.apply||(x?_.bind(P):function(){return _.apply(P,arguments)})},49974:function(at,R,d){var x=d(1702),b=d(19662),P=d(34374),_=x(x.bind);at.exports=function(O,T){return b(O),T===void 0?O:P?_(O,T):function(){return O.apply(T,arguments)}}},34374:function(at,R,d){var x=d(47293);at.exports=!x(function(){var b=function(){}.bind();return typeof b!="function"||b.hasOwnProperty("prototype")})},27065:function(at,R,d){"use strict";var x=d(17854),b=d(1702),P=d(19662),_=d(70111),O=d(92597),T=d(50206),F=d(34374),M=x.Function,A=b([].concat),L=b([].join),I={},k=function(B,z,W){if(!O(I,z)){for(var $=[],K=0;K<z;K++)$[K]="a["+K+"]";I[z]=M("C,a","return new C("+L($,",")+")")}return I[z](B,W)};at.exports=F?M.bind:function(z){var W=P(this),$=W.prototype,K=T(arguments,1),lt=function(){var yt=A(K,T(arguments));return this instanceof lt?k(W,yt.length,yt):W.apply(z,yt)};return _($)&&(lt.prototype=$),lt}},46916:function(at,R,d){var x=d(34374),b=Function.prototype.call;at.exports=x?b.bind(b):function(){return b.apply(b,arguments)}},76530:function(at,R,d){var x=d(19781),b=d(92597),P=Function.prototype,_=x&&Object.getOwnPropertyDescriptor,O=b(P,"name"),T=O&&function(){}.name==="something",F=O&&(!x||x&&_(P,"name").configurable);at.exports={EXISTS:O,PROPER:T,CONFIGURABLE:F}},1702:function(at,R,d){var x=d(34374),b=Function.prototype,P=b.bind,_=b.call,O=x&&P.bind(_,_);at.exports=x?function(T){return T&&O(T)}:function(T){return T&&function(){return _.apply(T,arguments)}}},35005:function(at,R,d){var x=d(17854),b=d(60614),P=function(_){return b(_)?_:void 0};at.exports=function(_,O){return arguments.length<2?P(x[_]):x[_]&&x[_][O]}},71246:function(at,R,d){var x=d(70648),b=d(58173),P=d(97497),_=d(5112),O=_("iterator");at.exports=function(T){if(T!=null)return b(T,O)||b(T,"@@iterator")||P[x(T)]}},18554:function(at,R,d){var x=d(17854),b=d(46916),P=d(19662),_=d(19670),O=d(66330),T=d(71246),F=x.TypeError;at.exports=function(M,A){var L=arguments.length<2?T(M):A;if(P(L))return _(b(L,M));throw F(O(M)+" is not iterable")}},58173:function(at,R,d){var x=d(19662);at.exports=function(b,P){var _=b[P];return _==null?void 0:x(_)}},10647:function(at,R,d){var x=d(1702),b=d(47908),P=Math.floor,_=x("".charAt),O=x("".replace),T=x("".slice),F=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,M=/\$([$&'`]|\d{1,2})/g;at.exports=function(A,L,I,k,B,z){var W=I+A.length,$=k.length,K=M;return B!==void 0&&(B=b(B),K=F),O(z,K,function(lt,st){var yt;switch(_(st,0)){case"$":return"$";case"&":return A;case"`":return T(L,0,I);case"'":return T(L,W);case"<":yt=B[T(st,1,-1)];break;default:var q=+st;if(q===0)return lt;if(q>$){var nt=P(q/10);return nt===0?lt:nt<=$?k[nt-1]===void 0?_(st,1):k[nt-1]+_(st,1):lt}yt=k[q-1]}return yt===void 0?"":yt})}},17854:function(at,R,d){var x=function(b){return b&&b.Math==Math&&b};at.exports=x(typeof globalThis=="object"&&globalThis)||x(typeof window=="object"&&window)||x(typeof self=="object"&&self)||x(typeof d.g=="object"&&d.g)||function(){return this}()||Function("return this")()},92597:function(at,R,d){var x=d(1702),b=d(47908),P=x({}.hasOwnProperty);at.exports=Object.hasOwn||function(O,T){return P(b(O),T)}},3501:function(at){at.exports={}},842:function(at,R,d){var x=d(17854);at.exports=function(b,P){var _=x.console;_&&_.error&&(arguments.length==1?_.error(b):_.error(b,P))}},60490:function(at,R,d){var x=d(35005);at.exports=x("document","documentElement")},64664:function(at,R,d){var x=d(19781),b=d(47293),P=d(80317);at.exports=!x&&!b(function(){return Object.defineProperty(P("div"),"a",{get:function(){return 7}}).a!=7})},11179:function(at,R,d){var x=d(17854),b=x.Array,P=Math.abs,_=Math.pow,O=Math.floor,T=Math.log,F=Math.LN2,M=function(L,I,k){var B=b(k),z=k*8-I-1,W=(1<<z)-1,$=W>>1,K=I===23?_(2,-24)-_(2,-77):0,lt=L<0||L===0&&1/L<0?1:0,st=0,yt,q,nt;for(L=P(L),L!=L||L===1/0?(q=L!=L?1:0,yt=W):(yt=O(T(L)/F),nt=_(2,-yt),L*nt<1&&(yt--,nt*=2),yt+$>=1?L+=K/nt:L+=K*_(2,1-$),L*nt>=2&&(yt++,nt/=2),yt+$>=W?(q=0,yt=W):yt+$>=1?(q=(L*nt-1)*_(2,I),yt=yt+$):(q=L*_(2,$-1)*_(2,I),yt=0));I>=8;)B[st++]=q&255,q/=256,I-=8;for(yt=yt<<I|q,z+=I;z>0;)B[st++]=yt&255,yt/=256,z-=8;return B[--st]|=lt*128,B},A=function(L,I){var k=L.length,B=k*8-I-1,z=(1<<B)-1,W=z>>1,$=B-7,K=k-1,lt=L[K--],st=lt&127,yt;for(lt>>=7;$>0;)st=st*256+L[K--],$-=8;for(yt=st&(1<<-$)-1,st>>=-$,$+=I;$>0;)yt=yt*256+L[K--],$-=8;if(st===0)st=1-W;else{if(st===z)return yt?NaN:lt?-1/0:1/0;yt=yt+_(2,I),st=st-W}return(lt?-1:1)*yt*_(2,st-I)};at.exports={pack:M,unpack:A}},68361:function(at,R,d){var x=d(17854),b=d(1702),P=d(47293),_=d(84326),O=x.Object,T=b("".split);at.exports=P(function(){return!O("z").propertyIsEnumerable(0)})?function(F){return _(F)=="String"?T(F,""):O(F)}:O},79587:function(at,R,d){var x=d(60614),b=d(70111),P=d(27674);at.exports=function(_,O,T){var F,M;return P&&x(F=O.constructor)&&F!==T&&b(M=F.prototype)&&M!==T.prototype&&P(_,M),_}},42788:function(at,R,d){var x=d(1702),b=d(60614),P=d(5465),_=x(Function.toString);b(P.inspectSource)||(P.inspectSource=function(O){return _(O)}),at.exports=P.inspectSource},58340:function(at,R,d){var x=d(70111),b=d(68880);at.exports=function(P,_){x(_)&&"cause"in _&&b(P,"cause",_.cause)}},62423:function(at,R,d){var x=d(82109),b=d(1702),P=d(3501),_=d(70111),O=d(92597),T=d(3070).f,F=d(8006),M=d(1156),A=d(52050),L=d(69711),I=d(76677),k=!1,B=L("meta"),z=0,W=function(q){T(q,B,{value:{objectID:"O"+z++,weakData:{}}})},$=function(q,nt){if(!_(q))return typeof q=="symbol"?q:(typeof q=="string"?"S":"P")+q;if(!O(q,B)){if(!A(q))return"F";if(!nt)return"E";W(q)}return q[B].objectID},K=function(q,nt){if(!O(q,B)){if(!A(q))return!0;if(!nt)return!1;W(q)}return q[B].weakData},lt=function(q){return I&&k&&A(q)&&!O(q,B)&&W(q),q},st=function(){yt.enable=function(){},k=!0;var q=F.f,nt=b([].splice),ct={};ct[B]=1,q(ct).length&&(F.f=function(bt){for(var _t=q(bt),St=0,At=_t.length;St<At;St++)if(_t[St]===B){nt(_t,St,1);break}return _t},x({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:M.f}))},yt=at.exports={enable:st,fastKey:$,getWeakData:K,onFreeze:lt};P[B]=!0},29909:function(at,R,d){var x=d(68536),b=d(17854),P=d(1702),_=d(70111),O=d(68880),T=d(92597),F=d(5465),M=d(6200),A=d(3501),L="Object already initialized",I=b.TypeError,k=b.WeakMap,B,z,W,$=function(ct){return W(ct)?z(ct):B(ct,{})},K=function(ct){return function(bt){var _t;if(!_(bt)||(_t=z(bt)).type!==ct)throw I("Incompatible receiver, "+ct+" required");return _t}};if(x||F.state){var lt=F.state||(F.state=new k),st=P(lt.get),yt=P(lt.has),q=P(lt.set);B=function(ct,bt){if(yt(lt,ct))throw new I(L);return bt.facade=ct,q(lt,ct,bt),bt},z=function(ct){return st(lt,ct)||{}},W=function(ct){return yt(lt,ct)}}else{var nt=M("state");A[nt]=!0,B=function(ct,bt){if(T(ct,nt))throw new I(L);return bt.facade=ct,O(ct,nt,bt),bt},z=function(ct){return T(ct,nt)?ct[nt]:{}},W=function(ct){return T(ct,nt)}}at.exports={set:B,get:z,has:W,enforce:$,getterFor:K}},97659:function(at,R,d){var x=d(5112),b=d(97497),P=x("iterator"),_=Array.prototype;at.exports=function(O){return O!==void 0&&(b.Array===O||_[P]===O)}},43157:function(at,R,d){var x=d(84326);at.exports=Array.isArray||function(P){return x(P)=="Array"}},60614:function(at){at.exports=function(R){return typeof R=="function"}},4411:function(at,R,d){var x=d(1702),b=d(47293),P=d(60614),_=d(70648),O=d(35005),T=d(42788),F=function(){},M=[],A=O("Reflect","construct"),L=/^\s*(?:class|function)\b/,I=x(L.exec),k=!L.exec(F),B=function($){if(!P($))return!1;try{return A(F,M,$),!0}catch(K){return!1}},z=function($){if(!P($))return!1;switch(_($)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return k||!!I(L,T($))}catch(K){return!0}};z.sham=!0,at.exports=!A||b(function(){var W;return B(B.call)||!B(Object)||!B(function(){W=!0})||W})?z:B},45032:function(at,R,d){var x=d(92597);at.exports=function(b){return b!==void 0&&(x(b,"value")||x(b,"writable"))}},54705:function(at,R,d){var x=d(47293),b=d(60614),P=/#|\.prototype\./,_=function(A,L){var I=T[O(A)];return I==M?!0:I==F?!1:b(L)?x(L):!!L},O=_.normalize=function(A){return String(A).replace(P,".").toLowerCase()},T=_.data={},F=_.NATIVE="N",M=_.POLYFILL="P";at.exports=_},55988:function(at,R,d){var x=d(70111),b=Math.floor;at.exports=Number.isInteger||function(_){return!x(_)&&isFinite(_)&&b(_)===_}},70111:function(at,R,d){var x=d(60614);at.exports=function(b){return typeof b=="object"?b!==null:x(b)}},31913:function(at){at.exports=!1},47850:function(at,R,d){var x=d(70111),b=d(84326),P=d(5112),_=P("match");at.exports=function(O){var T;return x(O)&&((T=O[_])!==void 0?!!T:b(O)=="RegExp")}},52190:function(at,R,d){var x=d(17854),b=d(35005),P=d(60614),_=d(47976),O=d(43307),T=x.Object;at.exports=O?function(F){return typeof F=="symbol"}:function(F){var M=b("Symbol");return P(M)&&_(M.prototype,T(F))}},20408:function(at,R,d){var x=d(17854),b=d(49974),P=d(46916),_=d(19670),O=d(66330),T=d(97659),F=d(26244),M=d(47976),A=d(18554),L=d(71246),I=d(99212),k=x.TypeError,B=function(W,$){this.stopped=W,this.result=$},z=B.prototype;at.exports=function(W,$,K){var lt=K&&K.that,st=!!(K&&K.AS_ENTRIES),yt=!!(K&&K.IS_ITERATOR),q=!!(K&&K.INTERRUPTED),nt=b($,lt),ct,bt,_t,St,At,vt,dt,gt=function(Et){return ct&&I(ct,"normal",Et),new B(!0,Et)},Ct=function(Et){return st?(_(Et),q?nt(Et[0],Et[1],gt):nt(Et[0],Et[1])):q?nt(Et,gt):nt(Et)};if(yt)ct=W;else{if(bt=L(W),!bt)throw k(O(W)+" is not iterable");if(T(bt)){for(_t=0,St=F(W);St>_t;_t++)if(At=Ct(W[_t]),At&&M(z,At))return At;return new B(!1)}ct=A(W,bt)}for(vt=ct.next;!(dt=P(vt,ct)).done;){try{At=Ct(dt.value)}catch(Et){I(ct,"throw",Et)}if(typeof At=="object"&&At&&M(z,At))return At}return new B(!1)}},99212:function(at,R,d){var x=d(46916),b=d(19670),P=d(58173);at.exports=function(_,O,T){var F,M;b(_);try{if(F=P(_,"return"),!F){if(O==="throw")throw T;return T}F=x(F,_)}catch(A){M=!0,F=A}if(O==="throw")throw T;if(M)throw F;return b(F),T}},13383:function(at,R,d){"use strict";var x=d(47293),b=d(60614),P=d(70030),_=d(79518),O=d(31320),T=d(5112),F=d(31913),M=T("iterator"),A=!1,L,I,k;[].keys&&(k=[].keys(),"next"in k?(I=_(_(k)),I!==Object.prototype&&(L=I)):A=!0);var B=L==null||x(function(){var z={};return L[M].call(z)!==z});B?L={}:F&&(L=P(L)),b(L[M])||O(L,M,function(){return this}),at.exports={IteratorPrototype:L,BUGGY_SAFARI_ITERATORS:A}},97497:function(at){at.exports={}},26244:function(at,R,d){var x=d(17466);at.exports=function(b){return x(b.length)}},66736:function(at){var R=Math.expm1,d=Math.exp;at.exports=!R||R(10)>22025.465794806718||R(10)<22025.465794806718||R(-2e-17)!=-2e-17?function(b){return(b=+b)==0?b:b>-1e-6&&b<1e-6?b+b*b/2:d(b)-1}:R},26130:function(at,R,d){var x=d(64310),b=Math.abs,P=Math.pow,_=P(2,-52),O=P(2,-23),T=P(2,127)*(2-O),F=P(2,-126),M=function(A){return A+1/_-1/_};at.exports=Math.fround||function(L){var I=b(L),k=x(L),B,z;return I<F?k*M(I/F/O)*F*O:(B=(1+O/_)*I,z=B-(B-I),z>T||z!=z?k*(1/0):k*z)}},20403:function(at){var R=Math.log,d=Math.LOG10E;at.exports=Math.log10||function(b){return R(b)*d}},26513:function(at){var R=Math.log;at.exports=Math.log1p||function(x){return(x=+x)>-1e-8&&x<1e-8?x-x*x/2:R(1+x)}},64310:function(at){at.exports=Math.sign||function(d){return(d=+d)==0||d!=d?d:d<0?-1:1}},95948:function(at,R,d){var x=d(17854),b=d(49974),P=d(31236).f,_=d(20261).set,O=d(6833),T=d(71528),F=d(71036),M=d(35268),A=x.MutationObserver||x.WebKitMutationObserver,L=x.document,I=x.process,k=x.Promise,B=P(x,"queueMicrotask"),z=B&&B.value,W,$,K,lt,st,yt,q,nt;z||(W=function(){var ct,bt;for(M&&(ct=I.domain)&&ct.exit();$;){bt=$.fn,$=$.next;try{bt()}catch(_t){throw $?lt():K=void 0,_t}}K=void 0,ct&&ct.enter()},!O&&!M&&!F&&A&&L?(st=!0,yt=L.createTextNode(""),new A(W).observe(yt,{characterData:!0}),lt=function(){yt.data=st=!st}):!T&&k&&k.resolve?(q=k.resolve(void 0),q.constructor=k,nt=b(q.then,q),lt=function(){nt(W)}):M?lt=function(){I.nextTick(W)}:(_=b(_,x),lt=function(){_(W)})),at.exports=z||function(ct){var bt={fn:ct,next:void 0};K&&(K.next=bt),$||($=bt,lt()),K=bt}},13366:function(at,R,d){var x=d(17854);at.exports=x.Promise},30133:function(at,R,d){var x=d(7392),b=d(47293);at.exports=!!Object.getOwnPropertySymbols&&!b(function(){var P=Symbol();return!String(P)||!(Object(P)instanceof Symbol)||!Symbol.sham&&x&&x<41})},590:function(at,R,d){var x=d(47293),b=d(5112),P=d(31913),_=b("iterator");at.exports=!x(function(){var O=new URL("b?a=1&b=2&c=3","http://a"),T=O.searchParams,F="";return O.pathname="c%20d",T.forEach(function(M,A){T.delete("b"),F+=A+M}),P&&!O.toJSON||!T.sort||O.href!=="http://a/c%20d?a=1&c=3"||T.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!T[_]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://\u0442\u0435\u0441\u0442").host!=="xn--e1aybc"||new URL("http://a#\u0431").hash!=="#%D0%B1"||F!=="a1c3"||new URL("http://x",void 0).host!=="x"})},68536:function(at,R,d){var x=d(17854),b=d(60614),P=d(42788),_=x.WeakMap;at.exports=b(_)&&/native code/.test(P(_))},78523:function(at,R,d){"use strict";var x=d(19662),b=function(P){var _,O;this.promise=new P(function(T,F){if(_!==void 0||O!==void 0)throw TypeError("Bad Promise constructor");_=T,O=F}),this.resolve=x(_),this.reject=x(O)};at.exports.f=function(P){return new b(P)}},56277:function(at,R,d){var x=d(41340);at.exports=function(b,P){return b===void 0?arguments.length<2?"":P:x(b)}},3929:function(at,R,d){var x=d(17854),b=d(47850),P=x.TypeError;at.exports=function(_){if(b(_))throw P("The method doesn't accept regular expressions");return _}},77023:function(at,R,d){var x=d(17854),b=x.isFinite;at.exports=Number.isFinite||function(_){return typeof _=="number"&&b(_)}},2814:function(at,R,d){var x=d(17854),b=d(47293),P=d(1702),_=d(41340),O=d(53111).trim,T=d(81361),F=P("".charAt),M=x.parseFloat,A=x.Symbol,L=A&&A.iterator,I=1/M(T+"-0")!==-1/0||L&&!b(function(){M(Object(L))});at.exports=I?function(B){var z=O(_(B)),W=M(z);return W===0&&F(z,0)=="-"?-0:W}:M},83009:function(at,R,d){var x=d(17854),b=d(47293),P=d(1702),_=d(41340),O=d(53111).trim,T=d(81361),F=x.parseInt,M=x.Symbol,A=M&&M.iterator,L=/^[+-]?0x/i,I=P(L.exec),k=F(T+"08")!==8||F(T+"0x16")!==22||A&&!b(function(){F(Object(A))});at.exports=k?function(z,W){var $=O(_(z));return F($,W>>>0||(I(L,$)?16:10))}:F},21574:function(at,R,d){"use strict";var x=d(19781),b=d(1702),P=d(46916),_=d(47293),O=d(81956),T=d(25181),F=d(55296),M=d(47908),A=d(68361),L=Object.assign,I=Object.defineProperty,k=b([].concat);at.exports=!L||_(function(){if(x&&L({b:1},L(I({},"a",{enumerable:!0,get:function(){I(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var B={},z={},W=Symbol(),$="abcdefghijklmnopqrst";return B[W]=7,$.split("").forEach(function(K){z[K]=K}),L({},B)[W]!=7||O(L({},z)).join("")!=$})?function(z,W){for(var $=M(z),K=arguments.length,lt=1,st=T.f,yt=F.f;K>lt;)for(var q=A(arguments[lt++]),nt=st?k(O(q),st(q)):O(q),ct=nt.length,bt=0,_t;ct>bt;)_t=nt[bt++],(!x||P(yt,q,_t))&&($[_t]=q[_t]);return $}:L},70030:function(at,R,d){var x=d(19670),b=d(36048),P=d(80748),_=d(3501),O=d(60490),T=d(80317),F=d(6200),M=">",A="<",L="prototype",I="script",k=F("IE_PROTO"),B=function(){},z=function(st){return A+I+M+st+A+"/"+I+M},W=function(st){st.write(z("")),st.close();var yt=st.parentWindow.Object;return st=null,yt},$=function(){var st=T("iframe"),yt="java"+I+":",q;return st.style.display="none",O.appendChild(st),st.src=String(yt),q=st.contentWindow.document,q.open(),q.write(z("document.F=Object")),q.close(),q.F},K,lt=function(){try{K=new ActiveXObject("htmlfile")}catch(yt){}lt=typeof document!="undefined"?document.domain&&K?W(K):$():W(K);for(var st=P.length;st--;)delete lt[L][P[st]];return lt()};_[k]=!0,at.exports=Object.create||function(yt,q){var nt;return yt!==null?(B[L]=x(yt),nt=new B,B[L]=null,nt[k]=yt):nt=lt(),q===void 0?nt:b.f(nt,q)}},36048:function(at,R,d){var x=d(19781),b=d(3353),P=d(3070),_=d(19670),O=d(45656),T=d(81956);R.f=x&&!b?Object.defineProperties:function(M,A){_(M);for(var L=O(A),I=T(A),k=I.length,B=0,z;k>B;)P.f(M,z=I[B++],L[z]);return M}},3070:function(at,R,d){var x=d(17854),b=d(19781),P=d(64664),_=d(3353),O=d(19670),T=d(34948),F=x.TypeError,M=Object.defineProperty,A=Object.getOwnPropertyDescriptor,L="enumerable",I="configurable",k="writable";R.f=b?_?function(z,W,$){if(O(z),W=T(W),O($),typeof z=="function"&&W==="prototype"&&"value"in $&&k in $&&!$[k]){var K=A(z,W);K&&K[k]&&(z[W]=$.value,$={configurable:I in $?$[I]:K[I],enumerable:L in $?$[L]:K[L],writable:!1})}return M(z,W,$)}:M:function(z,W,$){if(O(z),W=T(W),O($),P)try{return M(z,W,$)}catch(K){}if("get"in $||"set"in $)throw F("Accessors not supported");return"value"in $&&(z[W]=$.value),z}},31236:function(at,R,d){var x=d(19781),b=d(46916),P=d(55296),_=d(79114),O=d(45656),T=d(34948),F=d(92597),M=d(64664),A=Object.getOwnPropertyDescriptor;R.f=x?A:function(I,k){if(I=O(I),k=T(k),M)try{return A(I,k)}catch(B){}if(F(I,k))return _(!b(P.f,I,k),I[k])}},1156:function(at,R,d){var x=d(84326),b=d(45656),P=d(8006).f,_=d(41589),O=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],T=function(F){try{return P(F)}catch(M){return _(O)}};at.exports.f=function(M){return O&&x(M)=="Window"?T(M):P(b(M))}},8006:function(at,R,d){var x=d(16324),b=d(80748),P=b.concat("length","prototype");R.f=Object.getOwnPropertyNames||function(O){return x(O,P)}},25181:function(at,R){R.f=Object.getOwnPropertySymbols},79518:function(at,R,d){var x=d(17854),b=d(92597),P=d(60614),_=d(47908),O=d(6200),T=d(49920),F=O("IE_PROTO"),M=x.Object,A=M.prototype;at.exports=T?M.getPrototypeOf:function(L){var I=_(L);if(b(I,F))return I[F];var k=I.constructor;return P(k)&&I instanceof k?k.prototype:I instanceof M?A:null}},52050:function(at,R,d){var x=d(47293),b=d(70111),P=d(84326),_=d(7556),O=Object.isExtensible,T=x(function(){O(1)});at.exports=T||_?function(M){return!b(M)||_&&P(M)=="ArrayBuffer"?!1:O?O(M):!0}:O},47976:function(at,R,d){var x=d(1702);at.exports=x({}.isPrototypeOf)},16324:function(at,R,d){var x=d(1702),b=d(92597),P=d(45656),_=d(41318).indexOf,O=d(3501),T=x([].push);at.exports=function(F,M){var A=P(F),L=0,I=[],k;for(k in A)!b(O,k)&&b(A,k)&&T(I,k);for(;M.length>L;)b(A,k=M[L++])&&(~_(I,k)||T(I,k));return I}},81956:function(at,R,d){var x=d(16324),b=d(80748);at.exports=Object.keys||function(_){return x(_,b)}},55296:function(at,R){"use strict";var d={}.propertyIsEnumerable,x=Object.getOwnPropertyDescriptor,b=x&&!d.call({1:2},1);R.f=b?function(_){var O=x(this,_);return!!O&&O.enumerable}:d},69026:function(at,R,d){"use strict";var x=d(31913),b=d(17854),P=d(47293),_=d(98008);at.exports=x||!P(function(){if(!(_&&_<535)){var O=Math.random();__defineSetter__.call(null,O,function(){}),delete b[O]}})},27674:function(at,R,d){var x=d(1702),b=d(19670),P=d(96077);at.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var _=!1,O={},T;try{T=x(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),T(O,[]),_=O instanceof Array}catch(F){}return function(M,A){return b(M),P(A),_?T(M,A):M.__proto__=A,M}}():void 0)},44699:function(at,R,d){var x=d(19781),b=d(1702),P=d(81956),_=d(45656),O=d(55296).f,T=b(O),F=b([].push),M=function(A){return function(L){for(var I=_(L),k=P(I),B=k.length,z=0,W=[],$;B>z;)$=k[z++],(!x||T(I,$))&&F(W,A?[$,I[$]]:I[$]);return W}};at.exports={entries:M(!0),values:M(!1)}},90288:function(at,R,d){"use strict";var x=d(51694),b=d(70648);at.exports=x?{}.toString:function(){return"[object "+b(this)+"]"}},92140:function(at,R,d){var x=d(17854),b=d(46916),P=d(60614),_=d(70111),O=x.TypeError;at.exports=function(T,F){var M,A;if(F==="string"&&P(M=T.toString)&&!_(A=b(M,T))||P(M=T.valueOf)&&!_(A=b(M,T))||F!=="string"&&P(M=T.toString)&&!_(A=b(M,T)))return A;throw O("Can't convert object to primitive value")}},53887:function(at,R,d){var x=d(35005),b=d(1702),P=d(8006),_=d(25181),O=d(19670),T=b([].concat);at.exports=x("Reflect","ownKeys")||function(M){var A=P.f(O(M)),L=_.f;return L?T(A,L(M)):A}},40857:function(at,R,d){var x=d(17854);at.exports=x},12534:function(at){at.exports=function(R){try{return{error:!1,value:R()}}catch(d){return{error:!0,value:d}}}},69478:function(at,R,d){var x=d(19670),b=d(70111),P=d(78523);at.exports=function(_,O){if(x(_),b(O)&&O.constructor===_)return O;var T=P.f(_),F=T.resolve;return F(O),T.promise}},18572:function(at){var R=function(){this.head=null,this.tail=null};R.prototype={add:function(d){var x={item:d,next:null};this.head?this.tail.next=x:this.head=x,this.tail=x},get:function(){var d=this.head;if(d)return this.head=d.next,this.tail===d&&(this.tail=null),d.item}},at.exports=R},12248:function(at,R,d){var x=d(31320);at.exports=function(b,P,_){for(var O in P)x(b,O,P[O],_);return b}},31320:function(at,R,d){var x=d(17854),b=d(60614),P=d(92597),_=d(68880),O=d(83505),T=d(42788),F=d(29909),M=d(76530).CONFIGURABLE,A=F.get,L=F.enforce,I=String(String).split("String");(at.exports=function(k,B,z,W){var $=W?!!W.unsafe:!1,K=W?!!W.enumerable:!1,lt=W?!!W.noTargetGet:!1,st=W&&W.name!==void 0?W.name:B,yt;if(b(z)&&(String(st).slice(0,7)==="Symbol("&&(st="["+String(st).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!P(z,"name")||M&&z.name!==st)&&_(z,"name",st),yt=L(z),yt.source||(yt.source=I.join(typeof st=="string"?st:""))),k===x){K?k[B]=z:O(B,z);return}else $?!lt&&k[B]&&(K=!0):delete k[B];K?k[B]=z:_(k,B,z)})(Function.prototype,"toString",function(){return b(this)&&A(this).source||T(this)})},97651:function(at,R,d){var x=d(17854),b=d(46916),P=d(19670),_=d(60614),O=d(84326),T=d(22261),F=x.TypeError;at.exports=function(M,A){var L=M.exec;if(_(L)){var I=b(L,M,A);return I!==null&&P(I),I}if(O(M)==="RegExp")return b(T,M,A);throw F("RegExp#exec called on incompatible receiver")}},22261:function(at,R,d){"use strict";var x=d(46916),b=d(1702),P=d(41340),_=d(67066),O=d(52999),T=d(72309),F=d(70030),M=d(29909).get,A=d(9441),L=d(38173),I=T("native-string-replace",String.prototype.replace),k=RegExp.prototype.exec,B=k,z=b("".charAt),W=b("".indexOf),$=b("".replace),K=b("".slice),lt=function(){var nt=/a/,ct=/b*/g;return x(k,nt,"a"),x(k,ct,"a"),nt.lastIndex!==0||ct.lastIndex!==0}(),st=O.BROKEN_CARET,yt=/()??/.exec("")[1]!==void 0,q=lt||yt||st||A||L;q&&(B=function(ct){var bt=this,_t=M(bt),St=P(ct),At=_t.raw,vt,dt,gt,Ct,Et,Tt,ot;if(At)return At.lastIndex=bt.lastIndex,vt=x(B,At,St),bt.lastIndex=At.lastIndex,vt;var Mt=_t.groups,Wt=st&&bt.sticky,jt=x(_,bt),qt=bt.source,se=0,ae=St;if(Wt&&(jt=$(jt,"y",""),W(jt,"g")===-1&&(jt+="g"),ae=K(St,bt.lastIndex),bt.lastIndex>0&&(!bt.multiline||bt.multiline&&z(St,bt.lastIndex-1)!==`
`)&&(qt="(?: "+qt+")",ae=" "+ae,se++),dt=new RegExp("^(?:"+qt+")",jt)),yt&&(dt=new RegExp("^"+qt+"$(?!\\s)",jt)),lt&&(gt=bt.lastIndex),Ct=x(k,Wt?dt:bt,ae),Wt?Ct?(Ct.input=K(Ct.input,se),Ct[0]=K(Ct[0],se),Ct.index=bt.lastIndex,bt.lastIndex+=Ct[0].length):bt.lastIndex=0:lt&&Ct&&(bt.lastIndex=bt.global?Ct.index+Ct[0].length:gt),yt&&Ct&&Ct.length>1&&x(I,Ct[0],dt,function(){for(Et=1;Et<arguments.length-2;Et++)arguments[Et]===void 0&&(Ct[Et]=void 0)}),Ct&&Mt)for(Ct.groups=Tt=F(null),Et=0;Et<Mt.length;Et++)ot=Mt[Et],Tt[ot[0]]=Ct[ot[1]];return Ct}),at.exports=B},67066:function(at,R,d){"use strict";var x=d(19670);at.exports=function(){var b=x(this),P="";return b.global&&(P+="g"),b.ignoreCase&&(P+="i"),b.multiline&&(P+="m"),b.dotAll&&(P+="s"),b.unicode&&(P+="u"),b.sticky&&(P+="y"),P}},52999:function(at,R,d){var x=d(47293),b=d(17854),P=b.RegExp,_=x(function(){var F=P("a","y");return F.lastIndex=2,F.exec("abcd")!=null}),O=_||x(function(){return!P("a","y").sticky}),T=_||x(function(){var F=P("^r","gy");return F.lastIndex=2,F.exec("str")!=null});at.exports={BROKEN_CARET:T,MISSED_STICKY:O,UNSUPPORTED_Y:_}},9441:function(at,R,d){var x=d(47293),b=d(17854),P=b.RegExp;at.exports=x(function(){var _=P(".","s");return!(_.dotAll&&_.exec(`
`)&&_.flags==="s")})},38173:function(at,R,d){var x=d(47293),b=d(17854),P=b.RegExp;at.exports=x(function(){var _=P("(?<a>b)","g");return _.exec("b").groups.a!=="b"||"b".replace(_,"$<a>c")!=="bc"})},84488:function(at,R,d){var x=d(17854),b=x.TypeError;at.exports=function(P){if(P==null)throw b("Can't call method on "+P);return P}},81150:function(at){at.exports=Object.is||function(d,x){return d===x?d!==0||1/d===1/x:d!=d&&x!=x}},83505:function(at,R,d){var x=d(17854),b=Object.defineProperty;at.exports=function(P,_){try{b(x,P,{value:_,configurable:!0,writable:!0})}catch(O){x[P]=_}return _}},96340:function(at,R,d){"use strict";var x=d(35005),b=d(3070),P=d(5112),_=d(19781),O=P("species");at.exports=function(T){var F=x(T),M=b.f;_&&F&&!F[O]&&M(F,O,{configurable:!0,get:function(){return this}})}},58003:function(at,R,d){var x=d(3070).f,b=d(92597),P=d(5112),_=P("toStringTag");at.exports=function(O,T,F){O&&!F&&(O=O.prototype),O&&!b(O,_)&&x(O,_,{configurable:!0,value:T})}},6200:function(at,R,d){var x=d(72309),b=d(69711),P=x("keys");at.exports=function(_){return P[_]||(P[_]=b(_))}},5465:function(at,R,d){var x=d(17854),b=d(83505),P="__core-js_shared__",_=x[P]||b(P,{});at.exports=_},72309:function(at,R,d){var x=d(31913),b=d(5465);(at.exports=function(P,_){return b[P]||(b[P]=_!==void 0?_:{})})("versions",[]).push({version:"3.21.1",mode:x?"pure":"global",copyright:"\xA9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.21.1/LICENSE",source:"https://github.com/zloirock/core-js"})},36707:function(at,R,d){var x=d(19670),b=d(39483),P=d(5112),_=P("species");at.exports=function(O,T){var F=x(O).constructor,M;return F===void 0||(M=x(F)[_])==null?T:b(M)}},43429:function(at,R,d){var x=d(47293);at.exports=function(b){return x(function(){var P=""[b]('"');return P!==P.toLowerCase()||P.split('"').length>3})}},28710:function(at,R,d){var x=d(1702),b=d(19303),P=d(41340),_=d(84488),O=x("".charAt),T=x("".charCodeAt),F=x("".slice),M=function(A){return function(L,I){var k=P(_(L)),B=b(I),z=k.length,W,$;return B<0||B>=z?A?"":void 0:(W=T(k,B),W<55296||W>56319||B+1===z||($=T(k,B+1))<56320||$>57343?A?O(k,B):W:A?F(k,B,B+2):(W-55296<<10)+($-56320)+65536)}};at.exports={codeAt:M(!1),charAt:M(!0)}},54986:function(at,R,d){var x=d(88113);at.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(x)},76650:function(at,R,d){var x=d(1702),b=d(17466),P=d(41340),_=d(38415),O=d(84488),T=x(_),F=x("".slice),M=Math.ceil,A=function(L){return function(I,k,B){var z=P(O(I)),W=b(k),$=z.length,K=B===void 0?" ":P(B),lt,st;return W<=$||K==""?z:(lt=W-$,st=T(K,M(lt/K.length)),st.length>lt&&(st=F(st,0,lt)),L?z+st:st+z)}};at.exports={start:A(!1),end:A(!0)}},33197:function(at,R,d){"use strict";var x=d(17854),b=d(1702),P=2147483647,_=36,O=1,T=26,F=38,M=700,A=72,L=128,I="-",k=/[^\0-\u007E]/,B=/[.\u3002\uFF0E\uFF61]/g,z="Overflow: input needs wider integers to process",W=_-O,$=x.RangeError,K=b(B.exec),lt=Math.floor,st=String.fromCharCode,yt=b("".charCodeAt),q=b([].join),nt=b([].push),ct=b("".replace),bt=b("".split),_t=b("".toLowerCase),St=function(gt){for(var Ct=[],Et=0,Tt=gt.length;Et<Tt;){var ot=yt(gt,Et++);if(ot>=55296&&ot<=56319&&Et<Tt){var Mt=yt(gt,Et++);(Mt&64512)==56320?nt(Ct,((ot&1023)<<10)+(Mt&1023)+65536):(nt(Ct,ot),Et--)}else nt(Ct,ot)}return Ct},At=function(gt){return gt+22+75*(gt<26)},vt=function(gt,Ct,Et){var Tt=0;for(gt=Et?lt(gt/M):gt>>1,gt+=lt(gt/Ct);gt>W*T>>1;)gt=lt(gt/W),Tt+=_;return lt(Tt+(W+1)*gt/(gt+F))},dt=function(gt){var Ct=[];gt=St(gt);var Et=gt.length,Tt=L,ot=0,Mt=A,Wt,jt;for(Wt=0;Wt<gt.length;Wt++)jt=gt[Wt],jt<128&&nt(Ct,st(jt));var qt=Ct.length,se=qt;for(qt&&nt(Ct,I);se<Et;){var ae=P;for(Wt=0;Wt<gt.length;Wt++)jt=gt[Wt],jt>=Tt&&jt<ae&&(ae=jt);var he=se+1;if(ae-Tt>lt((P-ot)/he))throw $(z);for(ot+=(ae-Tt)*he,Tt=ae,Wt=0;Wt<gt.length;Wt++){if(jt=gt[Wt],jt<Tt&&++ot>P)throw $(z);if(jt==Tt){for(var ke=ot,Le=_;;){var rr=Le<=Mt?O:Le>=Mt+T?T:Le-Mt;if(ke<rr)break;var Ee=ke-rr,ge=_-rr;nt(Ct,st(At(rr+Ee%ge))),ke=lt(Ee/ge),Le+=_}nt(Ct,st(At(ke))),Mt=vt(ot,he,se==qt),ot=0,se++}}ot++,Tt++}return q(Ct,"")};at.exports=function(gt){var Ct=[],Et=bt(ct(_t(gt),B,"."),"."),Tt,ot;for(Tt=0;Tt<Et.length;Tt++)ot=Et[Tt],nt(Ct,K(k,ot)?"xn--"+dt(ot):ot);return q(Ct,".")}},38415:function(at,R,d){"use strict";var x=d(17854),b=d(19303),P=d(41340),_=d(84488),O=x.RangeError;at.exports=function(F){var M=P(_(this)),A="",L=b(F);if(L<0||L==1/0)throw O("Wrong number of repetitions");for(;L>0;(L>>>=1)&&(M+=M))L&1&&(A+=M);return A}},76091:function(at,R,d){var x=d(76530).PROPER,b=d(47293),P=d(81361),_="\u200B\x85\u180E";at.exports=function(O){return b(function(){return!!P[O]()||_[O]()!==_||x&&P[O].name!==O})}},53111:function(at,R,d){var x=d(1702),b=d(84488),P=d(41340),_=d(81361),O=x("".replace),T="["+_+"]",F=RegExp("^"+T+T+"*"),M=RegExp(T+T+"*$"),A=function(L){return function(I){var k=P(b(I));return L&1&&(k=O(k,F,"")),L&2&&(k=O(k,M,"")),k}};at.exports={start:A(1),end:A(2),trim:A(3)}},20261:function(at,R,d){var x=d(17854),b=d(22104),P=d(49974),_=d(60614),O=d(92597),T=d(47293),F=d(60490),M=d(50206),A=d(80317),L=d(48053),I=d(6833),k=d(35268),B=x.setImmediate,z=x.clearImmediate,W=x.process,$=x.Dispatch,K=x.Function,lt=x.MessageChannel,st=x.String,yt=0,q={},nt="onreadystatechange",ct,bt,_t,St;try{ct=x.location}catch(Ct){}var At=function(Ct){if(O(q,Ct)){var Et=q[Ct];delete q[Ct],Et()}},vt=function(Ct){return function(){At(Ct)}},dt=function(Ct){At(Ct.data)},gt=function(Ct){x.postMessage(st(Ct),ct.protocol+"//"+ct.host)};(!B||!z)&&(B=function(Et){L(arguments.length,1);var Tt=_(Et)?Et:K(Et),ot=M(arguments,1);return q[++yt]=function(){b(Tt,void 0,ot)},bt(yt),yt},z=function(Et){delete q[Et]},k?bt=function(Ct){W.nextTick(vt(Ct))}:$&&$.now?bt=function(Ct){$.now(vt(Ct))}:lt&&!I?(_t=new lt,St=_t.port2,_t.port1.onmessage=dt,bt=P(St.postMessage,St)):x.addEventListener&&_(x.postMessage)&&!x.importScripts&&ct&&ct.protocol!=="file:"&&!T(gt)?(bt=gt,x.addEventListener("message",dt,!1)):nt in A("script")?bt=function(Ct){F.appendChild(A("script"))[nt]=function(){F.removeChild(this),At(Ct)}}:bt=function(Ct){setTimeout(vt(Ct),0)}),at.exports={set:B,clear:z}},50863:function(at,R,d){var x=d(1702);at.exports=x(1 .valueOf)},51400:function(at,R,d){var x=d(19303),b=Math.max,P=Math.min;at.exports=function(_,O){var T=x(_);return T<0?b(T+O,0):P(T,O)}},57067:function(at,R,d){var x=d(17854),b=d(19303),P=d(17466),_=x.RangeError;at.exports=function(O){if(O===void 0)return 0;var T=b(O),F=P(T);if(T!==F)throw _("Wrong length or index");return F}},45656:function(at,R,d){var x=d(68361),b=d(84488);at.exports=function(P){return x(b(P))}},19303:function(at){var R=Math.ceil,d=Math.floor;at.exports=function(x){var b=+x;return b!==b||b===0?0:(b>0?d:R)(b)}},17466:function(at,R,d){var x=d(19303),b=Math.min;at.exports=function(P){return P>0?b(x(P),9007199254740991):0}},47908:function(at,R,d){var x=d(17854),b=d(84488),P=x.Object;at.exports=function(_){return P(b(_))}},84590:function(at,R,d){var x=d(17854),b=d(73002),P=x.RangeError;at.exports=function(_,O){var T=b(_);if(T%O)throw P("Wrong offset");return T}},73002:function(at,R,d){var x=d(17854),b=d(19303),P=x.RangeError;at.exports=function(_){var O=b(_);if(O<0)throw P("The argument can't be less than 0");return O}},57593:function(at,R,d){var x=d(17854),b=d(46916),P=d(70111),_=d(52190),O=d(58173),T=d(92140),F=d(5112),M=x.TypeError,A=F("toPrimitive");at.exports=function(L,I){if(!P(L)||_(L))return L;var k=O(L,A),B;if(k){if(I===void 0&&(I="default"),B=b(k,L,I),!P(B)||_(B))return B;throw M("Can't convert object to primitive value")}return I===void 0&&(I="number"),T(L,I)}},34948:function(at,R,d){var x=d(57593),b=d(52190);at.exports=function(P){var _=x(P,"string");return b(_)?_:_+""}},51694:function(at,R,d){var x=d(5112),b=x("toStringTag"),P={};P[b]="z",at.exports=String(P)==="[object z]"},41340:function(at,R,d){var x=d(17854),b=d(70648),P=x.String;at.exports=function(_){if(b(_)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return P(_)}},66330:function(at,R,d){var x=d(17854),b=x.String;at.exports=function(P){try{return b(P)}catch(_){return"Object"}}},19843:function(at,R,d){"use strict";var x=d(82109),b=d(17854),P=d(46916),_=d(19781),O=d(63832),T=d(90260),F=d(13331),M=d(25787),A=d(79114),L=d(68880),I=d(55988),k=d(17466),B=d(57067),z=d(84590),W=d(34948),$=d(92597),K=d(70648),lt=d(70111),st=d(52190),yt=d(70030),q=d(47976),nt=d(27674),ct=d(8006).f,bt=d(97321),_t=d(42092).forEach,St=d(96340),At=d(3070),vt=d(31236),dt=d(29909),gt=d(79587),Ct=dt.get,Et=dt.set,Tt=At.f,ot=vt.f,Mt=Math.round,Wt=b.RangeError,jt=F.ArrayBuffer,qt=jt.prototype,se=F.DataView,ae=T.NATIVE_ARRAY_BUFFER_VIEWS,he=T.TYPED_ARRAY_CONSTRUCTOR,ke=T.TYPED_ARRAY_TAG,Le=T.TypedArray,rr=T.TypedArrayPrototype,Ee=T.aTypedArrayConstructor,ge=T.isTypedArray,we="BYTES_PER_ELEMENT",Ce="Wrong length",ye=function(tr,re){Ee(tr);for(var Qr=0,Ir=re.length,gn=new tr(Ir);Ir>Qr;)gn[Qr]=re[Qr++];return gn},Gt=function(tr,re){Tt(tr,re,{get:function(){return Ct(this)[re]}})},Xt=function(tr){var re;return q(qt,tr)||(re=K(tr))=="ArrayBuffer"||re=="SharedArrayBuffer"},Kt=function(tr,re){return ge(tr)&&!st(re)&&re in tr&&I(+re)&&re>=0},ze=function(re,Qr){return Qr=W(Qr),Kt(re,Qr)?A(2,re[Qr]):ot(re,Qr)},ur=function(re,Qr,Ir){return Qr=W(Qr),Kt(re,Qr)&&lt(Ir)&&$(Ir,"value")&&!$(Ir,"get")&&!$(Ir,"set")&&!Ir.configurable&&(!$(Ir,"writable")||Ir.writable)&&(!$(Ir,"enumerable")||Ir.enumerable)?(re[Qr]=Ir.value,re):Tt(re,Qr,Ir)};_?(ae||(vt.f=ze,At.f=ur,Gt(rr,"buffer"),Gt(rr,"byteOffset"),Gt(rr,"byteLength"),Gt(rr,"length")),x({target:"Object",stat:!0,forced:!ae},{getOwnPropertyDescriptor:ze,defineProperty:ur}),at.exports=function(tr,re,Qr){var Ir=tr.match(/\d+$/)[0]/8,gn=tr+(Qr?"Clamped":"")+"Array",Wn="get"+tr,ui="set"+tr,bi=b[gn],fr=bi,Zr=fr&&fr.prototype,Sn={},Dn=function(En,In){var Fn=Ct(En);return Fn.view[Wn](In*Ir+Fn.byteOffset,!0)},hn=function(En,In,Fn){var xe=Ct(En);Qr&&(Fn=(Fn=Mt(Fn))<0?0:Fn>255?255:Fn&255),xe.view[ui](In*Ir+xe.byteOffset,Fn,!0)},Gn=function(En,In){Tt(En,In,{get:function(){return Dn(this,In)},set:function(Fn){return hn(this,In,Fn)},enumerable:!0})};ae?O&&(fr=re(function(En,In,Fn,xe){return M(En,Zr),gt(function(){return lt(In)?Xt(In)?xe!==void 0?new bi(In,z(Fn,Ir),xe):Fn!==void 0?new bi(In,z(Fn,Ir)):new bi(In):ge(In)?ye(fr,In):P(bt,fr,In):new bi(B(In))}(),En,fr)}),nt&&nt(fr,Le),_t(ct(bi),function(En){En in fr||L(fr,En,bi[En])}),fr.prototype=Zr):(fr=re(function(En,In,Fn,xe){M(En,Zr);var Ge=0,Je=0,br,jr,Wr;if(!lt(In))Wr=B(In),jr=Wr*Ir,br=new jt(jr);else if(Xt(In)){br=In,Je=z(Fn,Ir);var Ut=In.byteLength;if(xe===void 0){if(Ut%Ir||(jr=Ut-Je,jr<0))throw Wt(Ce)}else if(jr=k(xe)*Ir,jr+Je>Ut)throw Wt(Ce);Wr=jr/Ir}else return ge(In)?ye(fr,In):P(bt,fr,In);for(Et(En,{buffer:br,byteOffset:Je,byteLength:jr,length:Wr,view:new se(br)});Ge<Wr;)Gn(En,Ge++)}),nt&&nt(fr,Le),Zr=fr.prototype=yt(rr)),Zr.constructor!==fr&&L(Zr,"constructor",fr),L(Zr,he,fr),ke&&L(Zr,ke,gn),Sn[gn]=fr,x({global:!0,forced:fr!=bi,sham:!ae},Sn),we in fr||L(fr,we,Ir),we in Zr||L(Zr,we,Ir),St(gn)}):at.exports=function(){}},63832:function(at,R,d){var x=d(17854),b=d(47293),P=d(17072),_=d(90260).NATIVE_ARRAY_BUFFER_VIEWS,O=x.ArrayBuffer,T=x.Int8Array;at.exports=!_||!b(function(){T(1)})||!b(function(){new T(-1)})||!P(function(F){new T,new T(null),new T(1.5),new T(F)},!0)||b(function(){return new T(new O(2),1,void 0).length!==1})},43074:function(at,R,d){var x=d(97745),b=d(66304);at.exports=function(P,_){return x(b(P),_)}},97321:function(at,R,d){var x=d(49974),b=d(46916),P=d(39483),_=d(47908),O=d(26244),T=d(18554),F=d(71246),M=d(97659),A=d(90260).aTypedArrayConstructor;at.exports=function(I){var k=P(this),B=_(I),z=arguments.length,W=z>1?arguments[1]:void 0,$=W!==void 0,K=F(B),lt,st,yt,q,nt,ct;if(K&&!M(K))for(nt=T(B,K),ct=nt.next,B=[];!(q=b(ct,nt)).done;)B.push(q.value);for($&&z>2&&(W=x(W,arguments[2])),st=O(B),yt=new(A(k))(st),lt=0;st>lt;lt++)yt[lt]=$?W(B[lt],lt):B[lt];return yt}},66304:function(at,R,d){var x=d(90260),b=d(36707),P=x.TYPED_ARRAY_CONSTRUCTOR,_=x.aTypedArrayConstructor;at.exports=function(O){return _(b(O,O[P]))}},69711:function(at,R,d){var x=d(1702),b=0,P=Math.random(),_=x(1 .toString);at.exports=function(O){return"Symbol("+(O===void 0?"":O)+")_"+_(++b+P,36)}},43307:function(at,R,d){var x=d(30133);at.exports=x&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},3353:function(at,R,d){var x=d(19781),b=d(47293);at.exports=x&&b(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42})},48053:function(at,R,d){var x=d(17854),b=x.TypeError;at.exports=function(P,_){if(P<_)throw b("Not enough arguments");return P}},6061:function(at,R,d){var x=d(5112);R.f=x},5112:function(at,R,d){var x=d(17854),b=d(72309),P=d(92597),_=d(69711),O=d(30133),T=d(43307),F=b("wks"),M=x.Symbol,A=M&&M.for,L=T?M:M&&M.withoutSetter||_;at.exports=function(I){if(!P(F,I)||!(O||typeof F[I]=="string")){var k="Symbol."+I;O&&P(M,I)?F[I]=M[I]:T&&A?F[I]=A(k):F[I]=L(k)}return F[I]}},81361:function(at){at.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`},9170:function(at,R,d){"use strict";var x=d(82109),b=d(17854),P=d(47976),_=d(79518),O=d(27674),T=d(99920),F=d(70030),M=d(68880),A=d(79114),L=d(77741),I=d(58340),k=d(20408),B=d(56277),z=d(5112),W=d(22914),$=z("toStringTag"),K=b.Error,lt=[].push,st=function(nt,ct){var bt=arguments.length>2?arguments[2]:void 0,_t=P(yt,this),St;O?St=O(new K,_t?_(this):yt):(St=_t?this:F(yt),M(St,$,"Error")),ct!==void 0&&M(St,"message",B(ct)),W&&M(St,"stack",L(St.stack,1)),I(St,bt);var At=[];return k(nt,lt,{that:At}),M(St,"errors",At),St};O?O(st,K):T(st,K,{name:!0});var yt=st.prototype=F(K.prototype,{constructor:A(1,st),message:A(1,""),name:A(1,"AggregateError")});x({global:!0},{AggregateError:st})},18264:function(at,R,d){"use strict";var x=d(82109),b=d(17854),P=d(13331),_=d(96340),O="ArrayBuffer",T=P[O],F=b[O];x({global:!0,forced:F!==T},{ArrayBuffer:T}),_(O)},76938:function(at,R,d){var x=d(82109),b=d(90260),P=b.NATIVE_ARRAY_BUFFER_VIEWS;x({target:"ArrayBuffer",stat:!0,forced:!P},{isView:b.isView})},39575:function(at,R,d){"use strict";var x=d(82109),b=d(1702),P=d(47293),_=d(13331),O=d(19670),T=d(51400),F=d(17466),M=d(36707),A=_.ArrayBuffer,L=_.DataView,I=L.prototype,k=b(A.prototype.slice),B=b(I.getUint8),z=b(I.setUint8),W=P(function(){return!new A(2).slice(1,void 0).byteLength});x({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:W},{slice:function(K,lt){if(k&&lt===void 0)return k(O(this),K);for(var st=O(this).byteLength,yt=T(K,st),q=T(lt===void 0?st:lt,st),nt=new(M(this,A))(F(q-yt)),ct=new L(this),bt=new L(nt),_t=0;yt<q;)z(bt,_t++,B(ct,yt++));return nt}})},92222:function(at,R,d){"use strict";var x=d(82109),b=d(17854),P=d(47293),_=d(43157),O=d(70111),T=d(47908),F=d(26244),M=d(86135),A=d(65417),L=d(81194),I=d(5112),k=d(7392),B=I("isConcatSpreadable"),z=9007199254740991,W="Maximum allowed index exceeded",$=b.TypeError,K=k>=51||!P(function(){var q=[];return q[B]=!1,q.concat()[0]!==q}),lt=L("concat"),st=function(q){if(!O(q))return!1;var nt=q[B];return nt!==void 0?!!nt:_(q)},yt=!K||!lt;x({target:"Array",proto:!0,forced:yt},{concat:function(nt){var ct=T(this),bt=A(ct,0),_t=0,St,At,vt,dt,gt;for(St=-1,vt=arguments.length;St<vt;St++)if(gt=St===-1?ct:arguments[St],st(gt)){if(dt=F(gt),_t+dt>z)throw $(W);for(At=0;At<dt;At++,_t++)At in gt&&M(bt,_t,gt[At])}else{if(_t>=z)throw $(W);M(bt,_t++,gt)}return bt.length=_t,bt}})},50545:function(at,R,d){var x=d(82109),b=d(1048),P=d(51223);x({target:"Array",proto:!0},{copyWithin:b}),P("copyWithin")},26541:function(at,R,d){"use strict";var x=d(82109),b=d(42092).every,P=d(9341),_=P("every");x({target:"Array",proto:!0,forced:!_},{every:function(T){return b(this,T,arguments.length>1?arguments[1]:void 0)}})},43290:function(at,R,d){var x=d(82109),b=d(21285),P=d(51223);x({target:"Array",proto:!0},{fill:b}),P("fill")},57327:function(at,R,d){"use strict";var x=d(82109),b=d(42092).filter,P=d(81194),_=P("filter");x({target:"Array",proto:!0,forced:!_},{filter:function(T){return b(this,T,arguments.length>1?arguments[1]:void 0)}})},34553:function(at,R,d){"use strict";var x=d(82109),b=d(42092).findIndex,P=d(51223),_="findIndex",O=!0;_ in[]&&Array(1)[_](function(){O=!1}),x({target:"Array",proto:!0,forced:O},{findIndex:function(F){return b(this,F,arguments.length>1?arguments[1]:void 0)}}),P(_)},69826:function(at,R,d){"use strict";var x=d(82109),b=d(42092).find,P=d(51223),_="find",O=!0;_ in[]&&Array(1)[_](function(){O=!1}),x({target:"Array",proto:!0,forced:O},{find:function(F){return b(this,F,arguments.length>1?arguments[1]:void 0)}}),P(_)},86535:function(at,R,d){"use strict";var x=d(82109),b=d(6790),P=d(19662),_=d(47908),O=d(26244),T=d(65417);x({target:"Array",proto:!0},{flatMap:function(M){var A=_(this),L=O(A),I;return P(M),I=T(A,0),I.length=b(I,A,A,L,0,1,M,arguments.length>1?arguments[1]:void 0),I}})},84944:function(at,R,d){"use strict";var x=d(82109),b=d(6790),P=d(47908),_=d(26244),O=d(19303),T=d(65417);x({target:"Array",proto:!0},{flat:function(){var M=arguments.length?arguments[0]:void 0,A=P(this),L=_(A),I=T(A,0);return I.length=b(I,A,A,L,0,M===void 0?1:O(M)),I}})},89554:function(at,R,d){"use strict";var x=d(82109),b=d(18533);x({target:"Array",proto:!0,forced:[].forEach!=b},{forEach:b})},91038:function(at,R,d){var x=d(82109),b=d(48457),P=d(17072),_=!P(function(O){Array.from(O)});x({target:"Array",stat:!0,forced:_},{from:b})},26699:function(at,R,d){"use strict";var x=d(82109),b=d(41318).includes,P=d(51223);x({target:"Array",proto:!0},{includes:function(O){return b(this,O,arguments.length>1?arguments[1]:void 0)}}),P("includes")},82772:function(at,R,d){"use strict";var x=d(82109),b=d(1702),P=d(41318).indexOf,_=d(9341),O=b([].indexOf),T=!!O&&1/O([1],1,-0)<0,F=_("indexOf");x({target:"Array",proto:!0,forced:T||!F},{indexOf:function(A){var L=arguments.length>1?arguments[1]:void 0;return T?O(this,A,L)||0:P(this,A,L)}})},66992:function(at,R,d){"use strict";var x=d(45656),b=d(51223),P=d(97497),_=d(29909),O=d(3070).f,T=d(70654),F=d(31913),M=d(19781),A="Array Iterator",L=_.set,I=_.getterFor(A);at.exports=T(Array,"Array",function(B,z){L(this,{type:A,target:x(B),index:0,kind:z})},function(){var B=I(this),z=B.target,W=B.kind,$=B.index++;return!z||$>=z.length?(B.target=void 0,{value:void 0,done:!0}):W=="keys"?{value:$,done:!1}:W=="values"?{value:z[$],done:!1}:{value:[$,z[$]],done:!1}},"values");var k=P.Arguments=P.Array;if(b("keys"),b("values"),b("entries"),!F&&M&&k.name!=="values")try{O(k,"name",{value:"values"})}catch(B){}},69600:function(at,R,d){"use strict";var x=d(82109),b=d(1702),P=d(68361),_=d(45656),O=d(9341),T=b([].join),F=P!=Object,M=O("join",",");x({target:"Array",proto:!0,forced:F||!M},{join:function(L){return T(_(this),L===void 0?",":L)}})},94986:function(at,R,d){var x=d(82109),b=d(86583);x({target:"Array",proto:!0,forced:b!==[].lastIndexOf},{lastIndexOf:b})},21249:function(at,R,d){"use strict";var x=d(82109),b=d(42092).map,P=d(81194),_=P("map");x({target:"Array",proto:!0,forced:!_},{map:function(T){return b(this,T,arguments.length>1?arguments[1]:void 0)}})},26572:function(at,R,d){"use strict";var x=d(82109),b=d(17854),P=d(47293),_=d(4411),O=d(86135),T=b.Array,F=P(function(){function M(){}return!(T.of.call(M)instanceof M)});x({target:"Array",stat:!0,forced:F},{of:function(){for(var A=0,L=arguments.length,I=new(_(this)?this:T)(L);L>A;)O(I,A,arguments[A++]);return I.length=L,I}})},96644:function(at,R,d){"use strict";var x=d(82109),b=d(53671).right,P=d(9341),_=d(7392),O=d(35268),T=P("reduceRight"),F=!O&&_>79&&_<83;x({target:"Array",proto:!0,forced:!T||F},{reduceRight:function(A){return b(this,A,arguments.length,arguments.length>1?arguments[1]:void 0)}})},85827:function(at,R,d){"use strict";var x=d(82109),b=d(53671).left,P=d(9341),_=d(7392),O=d(35268),T=P("reduce"),F=!O&&_>79&&_<83;x({target:"Array",proto:!0,forced:!T||F},{reduce:function(A){var L=arguments.length;return b(this,A,L,L>1?arguments[1]:void 0)}})},65069:function(at,R,d){"use strict";var x=d(82109),b=d(1702),P=d(43157),_=b([].reverse),O=[1,2];x({target:"Array",proto:!0,forced:String(O)===String(O.reverse())},{reverse:function(){return P(this)&&(this.length=this.length),_(this)}})},47042:function(at,R,d){"use strict";var x=d(82109),b=d(17854),P=d(43157),_=d(4411),O=d(70111),T=d(51400),F=d(26244),M=d(45656),A=d(86135),L=d(5112),I=d(81194),k=d(50206),B=I("slice"),z=L("species"),W=b.Array,$=Math.max;x({target:"Array",proto:!0,forced:!B},{slice:function(lt,st){var yt=M(this),q=F(yt),nt=T(lt,q),ct=T(st===void 0?q:st,q),bt,_t,St;if(P(yt)&&(bt=yt.constructor,_(bt)&&(bt===W||P(bt.prototype))?bt=void 0:O(bt)&&(bt=bt[z],bt===null&&(bt=void 0)),bt===W||bt===void 0))return k(yt,nt,ct);for(_t=new(bt===void 0?W:bt)($(ct-nt,0)),St=0;nt<ct;nt++,St++)nt in yt&&A(_t,St,yt[nt]);return _t.length=St,_t}})},5212:function(at,R,d){"use strict";var x=d(82109),b=d(42092).some,P=d(9341),_=P("some");x({target:"Array",proto:!0,forced:!_},{some:function(T){return b(this,T,arguments.length>1?arguments[1]:void 0)}})},2707:function(at,R,d){"use strict";var x=d(82109),b=d(1702),P=d(19662),_=d(47908),O=d(26244),T=d(41340),F=d(47293),M=d(94362),A=d(9341),L=d(68886),I=d(30256),k=d(7392),B=d(98008),z=[],W=b(z.sort),$=b(z.push),K=F(function(){z.sort(void 0)}),lt=F(function(){z.sort(null)}),st=A("sort"),yt=!F(function(){if(k)return k<70;if(!(L&&L>3)){if(I)return!0;if(B)return B<603;var ct="",bt,_t,St,At;for(bt=65;bt<76;bt++){switch(_t=String.fromCharCode(bt),bt){case 66:case 69:case 70:case 72:St=3;break;case 68:case 71:St=4;break;default:St=2}for(At=0;At<47;At++)z.push({k:_t+At,v:St})}for(z.sort(function(vt,dt){return dt.v-vt.v}),At=0;At<z.length;At++)_t=z[At].k.charAt(0),ct.charAt(ct.length-1)!==_t&&(ct+=_t);return ct!=="DGBEFHACIJK"}}),q=K||!lt||!st||!yt,nt=function(ct){return function(bt,_t){return _t===void 0?-1:bt===void 0?1:ct!==void 0?+ct(bt,_t)||0:T(bt)>T(_t)?1:-1}};x({target:"Array",proto:!0,forced:q},{sort:function(bt){bt!==void 0&&P(bt);var _t=_(this);if(yt)return bt===void 0?W(_t):W(_t,bt);var St=[],At=O(_t),vt,dt;for(dt=0;dt<At;dt++)dt in _t&&$(St,_t[dt]);for(M(St,nt(bt)),vt=St.length,dt=0;dt<vt;)_t[dt]=St[dt++];for(;dt<At;)delete _t[dt++];return _t}})},38706:function(at,R,d){var x=d(96340);x("Array")},40561:function(at,R,d){"use strict";var x=d(82109),b=d(17854),P=d(51400),_=d(19303),O=d(26244),T=d(47908),F=d(65417),M=d(86135),A=d(81194),L=A("splice"),I=b.TypeError,k=Math.max,B=Math.min,z=9007199254740991,W="Maximum allowed length exceeded";x({target:"Array",proto:!0,forced:!L},{splice:function(K,lt){var st=T(this),yt=O(st),q=P(K,yt),nt=arguments.length,ct,bt,_t,St,At,vt;if(nt===0?ct=bt=0:nt===1?(ct=0,bt=yt-q):(ct=nt-2,bt=B(k(_(lt),0),yt-q)),yt+ct-bt>z)throw I(W);for(_t=F(st,bt),St=0;St<bt;St++)At=q+St,At in st&&M(_t,St,st[At]);if(_t.length=bt,ct<bt){for(St=q;St<yt-bt;St++)At=St+bt,vt=St+ct,At in st?st[vt]=st[At]:delete st[vt];for(St=yt;St>yt-bt+ct;St--)delete st[St-1]}else if(ct>bt)for(St=yt-bt;St>q;St--)At=St+bt-1,vt=St+ct-1,At in st?st[vt]=st[At]:delete st[vt];for(St=0;St<ct;St++)st[St+q]=arguments[St+2];return st.length=yt-bt+ct,_t}})},99244:function(at,R,d){var x=d(51223);x("flatMap")},33792:function(at,R,d){var x=d(51223);x("flat")},16716:function(at,R,d){var x=d(82109),b=d(13331),P=d(24019);x({global:!0,forced:!P},{DataView:b.DataView})},28733:function(at,R,d){var x=d(82109),b=d(85573);x({target:"Date",proto:!0,forced:Date.prototype.toISOString!==b},{toISOString:b})},5735:function(at,R,d){"use strict";var x=d(82109),b=d(47293),P=d(47908),_=d(57593),O=b(function(){return new Date(NaN).toJSON()!==null||Date.prototype.toJSON.call({toISOString:function(){return 1}})!==1});x({target:"Date",proto:!0,forced:O},{toJSON:function(F){var M=P(this),A=_(M,"number");return typeof A=="number"&&!isFinite(A)?null:M.toISOString()}})},96078:function(at,R,d){var x=d(92597),b=d(31320),P=d(38709),_=d(5112),O=_("toPrimitive"),T=Date.prototype;x(T,O)||b(T,O,P)},4855:function(at,R,d){"use strict";var x=d(60614),b=d(70111),P=d(3070),_=d(79518),O=d(5112),T=O("hasInstance"),F=Function.prototype;T in F||P.f(F,T,{value:function(M){if(!x(this)||!b(M))return!1;var A=this.prototype;if(!b(A))return M instanceof this;for(;M=_(M);)if(A===M)return!0;return!1}})},68309:function(at,R,d){var x=d(19781),b=d(76530).EXISTS,P=d(1702),_=d(3070).f,O=Function.prototype,T=P(O.toString),F=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,M=P(F.exec),A="name";x&&!b&&_(O,A,{configurable:!0,get:function(){try{return M(F,T(this))[1]}catch(L){return""}}})},35837:function(at,R,d){var x=d(82109),b=d(17854);x({global:!0},{globalThis:b})},38862:function(at,R,d){var x=d(82109),b=d(17854),P=d(35005),_=d(22104),O=d(1702),T=d(47293),F=b.Array,M=P("JSON","stringify"),A=O(/./.exec),L=O("".charAt),I=O("".charCodeAt),k=O("".replace),B=O(1 .toString),z=/[\uD800-\uDFFF]/g,W=/^[\uD800-\uDBFF]$/,$=/^[\uDC00-\uDFFF]$/,K=function(st,yt,q){var nt=L(q,yt-1),ct=L(q,yt+1);return A(W,st)&&!A($,ct)||A($,st)&&!A(W,nt)?"\\u"+B(I(st,0),16):st},lt=T(function(){return M("\uDF06\uD834")!=='"\\udf06\\ud834"'||M("\uDEAD")!=='"\\udead"'});M&&x({target:"JSON",stat:!0,forced:lt},{stringify:function(yt,q,nt){for(var ct=0,bt=arguments.length,_t=F(bt);ct<bt;ct++)_t[ct]=arguments[ct];var St=_(M,null,_t);return typeof St=="string"?k(St,z,K):St}})},73706:function(at,R,d){var x=d(17854),b=d(58003);b(x.JSON,"JSON",!0)},51532:function(at,R,d){"use strict";var x=d(77710),b=d(95631);x("Map",function(P){return function(){return P(this,arguments.length?arguments[0]:void 0)}},b)},99752:function(at,R,d){var x=d(82109),b=d(26513),P=Math.acosh,_=Math.log,O=Math.sqrt,T=Math.LN2,F=!P||Math.floor(P(Number.MAX_VALUE))!=710||P(1/0)!=1/0;x({target:"Math",stat:!0,forced:F},{acosh:function(A){return(A=+A)<1?NaN:A>9490626562425156e-8?_(A)+T:b(A-1+O(A-1)*O(A+1))}})},82376:function(at,R,d){var x=d(82109),b=Math.asinh,P=Math.log,_=Math.sqrt;function O(T){return!isFinite(T=+T)||T==0?T:T<0?-O(-T):P(T+_(T*T+1))}x({target:"Math",stat:!0,forced:!(b&&1/b(0)>0)},{asinh:O})},73181:function(at,R,d){var x=d(82109),b=Math.atanh,P=Math.log;x({target:"Math",stat:!0,forced:!(b&&1/b(-0)<0)},{atanh:function(O){return(O=+O)==0?O:P((1+O)/(1-O))/2}})},23484:function(at,R,d){var x=d(82109),b=d(64310),P=Math.abs,_=Math.pow;x({target:"Math",stat:!0},{cbrt:function(T){return b(T=+T)*_(P(T),.3333333333333333)}})},2388:function(at,R,d){var x=d(82109),b=Math.floor,P=Math.log,_=Math.LOG2E;x({target:"Math",stat:!0},{clz32:function(T){return(T>>>=0)?31-b(P(T+.5)*_):32}})},88621:function(at,R,d){var x=d(82109),b=d(66736),P=Math.cosh,_=Math.abs,O=Math.E;x({target:"Math",stat:!0,forced:!P||P(710)===1/0},{cosh:function(F){var M=b(_(F)-1)+1;return(M+1/(M*O*O))*(O/2)}})},60403:function(at,R,d){var x=d(82109),b=d(66736);x({target:"Math",stat:!0,forced:b!=Math.expm1},{expm1:b})},84755:function(at,R,d){var x=d(82109),b=d(26130);x({target:"Math",stat:!0},{fround:b})},25438:function(at,R,d){var x=d(82109),b=Math.hypot,P=Math.abs,_=Math.sqrt,O=!!b&&b(1/0,NaN)!==1/0;x({target:"Math",stat:!0,forced:O},{hypot:function(F,M){for(var A=0,L=0,I=arguments.length,k=0,B,z;L<I;)B=P(arguments[L++]),k<B?(z=k/B,A=A*z*z+1,k=B):B>0?(z=B/k,A+=z*z):A+=B;return k===1/0?1/0:k*_(A)}})},90332:function(at,R,d){var x=d(82109),b=d(47293),P=Math.imul,_=b(function(){return P(4294967295,5)!=-5||P.length!=2});x({target:"Math",stat:!0,forced:_},{imul:function(T,F){var M=65535,A=+T,L=+F,I=M&A,k=M&L;return 0|I*k+((M&A>>>16)*k+I*(M&L>>>16)<<16>>>0)}})},40658:function(at,R,d){var x=d(82109),b=d(20403);x({target:"Math",stat:!0},{log10:b})},40197:function(at,R,d){var x=d(82109),b=d(26513);x({target:"Math",stat:!0},{log1p:b})},44914:function(at,R,d){var x=d(82109),b=Math.log,P=Math.LN2;x({target:"Math",stat:!0},{log2:function(O){return b(O)/P}})},52420:function(at,R,d){var x=d(82109),b=d(64310);x({target:"Math",stat:!0},{sign:b})},60160:function(at,R,d){var x=d(82109),b=d(47293),P=d(66736),_=Math.abs,O=Math.exp,T=Math.E,F=b(function(){return Math.sinh(-2e-17)!=-2e-17});x({target:"Math",stat:!0,forced:F},{sinh:function(A){return _(A=+A)<1?(P(A)-P(-A))/2:(O(A-1)-O(-A-1))*(T/2)}})},60970:function(at,R,d){var x=d(82109),b=d(66736),P=Math.exp;x({target:"Math",stat:!0},{tanh:function(O){var T=b(O=+O),F=b(-O);return T==1/0?1:F==1/0?-1:(T-F)/(P(O)+P(-O))}})},10408:function(at,R,d){var x=d(58003);x(Math,"Math",!0)},73689:function(at,R,d){var x=d(82109),b=Math.ceil,P=Math.floor;x({target:"Math",stat:!0},{trunc:function(O){return(O>0?P:b)(O)}})},9653:function(at,R,d){"use strict";var x=d(19781),b=d(17854),P=d(1702),_=d(54705),O=d(31320),T=d(92597),F=d(79587),M=d(47976),A=d(52190),L=d(57593),I=d(47293),k=d(8006).f,B=d(31236).f,z=d(3070).f,W=d(50863),$=d(53111).trim,K="Number",lt=b[K],st=lt.prototype,yt=b.TypeError,q=P("".slice),nt=P("".charCodeAt),ct=function(dt){var gt=L(dt,"number");return typeof gt=="bigint"?gt:bt(gt)},bt=function(dt){var gt=L(dt,"number"),Ct,Et,Tt,ot,Mt,Wt,jt,qt;if(A(gt))throw yt("Cannot convert a Symbol value to a number");if(typeof gt=="string"&&gt.length>2){if(gt=$(gt),Ct=nt(gt,0),Ct===43||Ct===45){if(Et=nt(gt,2),Et===88||Et===120)return NaN}else if(Ct===48){switch(nt(gt,1)){case 66:case 98:Tt=2,ot=49;break;case 79:case 111:Tt=8,ot=55;break;default:return+gt}for(Mt=q(gt,2),Wt=Mt.length,jt=0;jt<Wt;jt++)if(qt=nt(Mt,jt),qt<48||qt>ot)return NaN;return parseInt(Mt,Tt)}}return+gt};if(_(K,!lt(" 0o1")||!lt("0b1")||lt("+0x1"))){for(var _t=function(gt){var Ct=arguments.length<1?0:lt(ct(gt)),Et=this;return M(st,Et)&&I(function(){W(Et)})?F(Object(Ct),Et,_t):Ct},St=x?k(lt):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),At=0,vt;St.length>At;At++)T(lt,vt=St[At])&&!T(_t,vt)&&z(_t,vt,B(lt,vt));_t.prototype=st,st.constructor=_t,O(b,K,_t)}},93299:function(at,R,d){var x=d(82109);x({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)})},35192:function(at,R,d){var x=d(82109),b=d(77023);x({target:"Number",stat:!0},{isFinite:b})},33161:function(at,R,d){var x=d(82109),b=d(55988);x({target:"Number",stat:!0},{isInteger:b})},44048:function(at,R,d){var x=d(82109);x({target:"Number",stat:!0},{isNaN:function(P){return P!=P}})},78285:function(at,R,d){var x=d(82109),b=d(55988),P=Math.abs;x({target:"Number",stat:!0},{isSafeInteger:function(O){return b(O)&&P(O)<=9007199254740991}})},44363:function(at,R,d){var x=d(82109);x({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},55994:function(at,R,d){var x=d(82109);x({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},61874:function(at,R,d){var x=d(82109),b=d(2814);x({target:"Number",stat:!0,forced:Number.parseFloat!=b},{parseFloat:b})},9494:function(at,R,d){var x=d(82109),b=d(83009);x({target:"Number",stat:!0,forced:Number.parseInt!=b},{parseInt:b})},56977:function(at,R,d){"use strict";var x=d(82109),b=d(17854),P=d(1702),_=d(19303),O=d(50863),T=d(38415),F=d(47293),M=b.RangeError,A=b.String,L=Math.floor,I=P(T),k=P("".slice),B=P(1 .toFixed),z=function(yt,q,nt){return q===0?nt:q%2===1?z(yt,q-1,nt*yt):z(yt*yt,q/2,nt)},W=function(yt){for(var q=0,nt=yt;nt>=4096;)q+=12,nt/=4096;for(;nt>=2;)q+=1,nt/=2;return q},$=function(yt,q,nt){for(var ct=-1,bt=nt;++ct<6;)bt+=q*yt[ct],yt[ct]=bt%1e7,bt=L(bt/1e7)},K=function(yt,q){for(var nt=6,ct=0;--nt>=0;)ct+=yt[nt],yt[nt]=L(ct/q),ct=ct%q*1e7},lt=function(yt){for(var q=6,nt="";--q>=0;)if(nt!==""||q===0||yt[q]!==0){var ct=A(yt[q]);nt=nt===""?ct:nt+I("0",7-ct.length)+ct}return nt},st=F(function(){return B(8e-5,3)!=="0.000"||B(.9,0)!=="1"||B(1.255,2)!=="1.25"||B(1000000000000000100,0)!=="1000000000000000128"})||!F(function(){B({})});x({target:"Number",proto:!0,forced:st},{toFixed:function(q){var nt=O(this),ct=_(q),bt=[0,0,0,0,0,0],_t="",St="0",At,vt,dt,gt;if(ct<0||ct>20)throw M("Incorrect fraction digits");if(nt!=nt)return"NaN";if(nt<=-1e21||nt>=1e21)return A(nt);if(nt<0&&(_t="-",nt=-nt),nt>1e-21)if(At=W(nt*z(2,69,1))-69,vt=At<0?nt*z(2,-At,1):nt/z(2,At,1),vt*=4503599627370496,At=52-At,At>0){for($(bt,0,vt),dt=ct;dt>=7;)$(bt,1e7,0),dt-=7;for($(bt,z(10,dt,1),0),dt=At-1;dt>=23;)K(bt,8388608),dt-=23;K(bt,1<<dt),$(bt,1,1),K(bt,2),St=lt(bt)}else $(bt,0,vt),$(bt,1<<-At,0),St=lt(bt)+I("0",ct);return ct>0?(gt=St.length,St=_t+(gt<=ct?"0."+I("0",ct-gt)+St:k(St,0,gt-ct)+"."+k(St,gt-ct))):St=_t+St,St}})},55147:function(at,R,d){"use strict";var x=d(82109),b=d(1702),P=d(47293),_=d(50863),O=b(1 .toPrecision),T=P(function(){return O(1,void 0)!=="1"})||!P(function(){O({})});x({target:"Number",proto:!0,forced:T},{toPrecision:function(M){return M===void 0?O(_(this)):O(_(this),M)}})},19601:function(at,R,d){var x=d(82109),b=d(21574);x({target:"Object",stat:!0,forced:Object.assign!==b},{assign:b})},59595:function(at,R,d){"use strict";var x=d(82109),b=d(19781),P=d(69026),_=d(19662),O=d(47908),T=d(3070);b&&x({target:"Object",proto:!0,forced:P},{__defineGetter__:function(M,A){T.f(O(this),M,{get:_(A),enumerable:!0,configurable:!0})}})},35500:function(at,R,d){"use strict";var x=d(82109),b=d(19781),P=d(69026),_=d(19662),O=d(47908),T=d(3070);b&&x({target:"Object",proto:!0,forced:P},{__defineSetter__:function(M,A){T.f(O(this),M,{set:_(A),enumerable:!0,configurable:!0})}})},69720:function(at,R,d){var x=d(82109),b=d(44699).entries;x({target:"Object",stat:!0},{entries:function(_){return b(_)}})},43371:function(at,R,d){var x=d(82109),b=d(76677),P=d(47293),_=d(70111),O=d(62423).onFreeze,T=Object.freeze,F=P(function(){T(1)});x({target:"Object",stat:!0,forced:F,sham:!b},{freeze:function(A){return T&&_(A)?T(O(A)):A}})},38559:function(at,R,d){var x=d(82109),b=d(20408),P=d(86135);x({target:"Object",stat:!0},{fromEntries:function(O){var T={};return b(O,function(F,M){P(T,F,M)},{AS_ENTRIES:!0}),T}})},38880:function(at,R,d){var x=d(82109),b=d(47293),P=d(45656),_=d(31236).f,O=d(19781),T=b(function(){_(1)}),F=!O||T;x({target:"Object",stat:!0,forced:F,sham:!O},{getOwnPropertyDescriptor:function(A,L){return _(P(A),L)}})},49337:function(at,R,d){var x=d(82109),b=d(19781),P=d(53887),_=d(45656),O=d(31236),T=d(86135);x({target:"Object",stat:!0,sham:!b},{getOwnPropertyDescriptors:function(M){for(var A=_(M),L=O.f,I=P(A),k={},B=0,z,W;I.length>B;)W=L(A,z=I[B++]),W!==void 0&&T(k,z,W);return k}})},36210:function(at,R,d){var x=d(82109),b=d(47293),P=d(1156).f,_=b(function(){return!Object.getOwnPropertyNames(1)});x({target:"Object",stat:!0,forced:_},{getOwnPropertyNames:P})},30489:function(at,R,d){var x=d(82109),b=d(47293),P=d(47908),_=d(79518),O=d(49920),T=b(function(){_(1)});x({target:"Object",stat:!0,forced:T,sham:!O},{getPrototypeOf:function(M){return _(P(M))}})},41825:function(at,R,d){var x=d(82109),b=d(52050);x({target:"Object",stat:!0,forced:Object.isExtensible!==b},{isExtensible:b})},98410:function(at,R,d){var x=d(82109),b=d(47293),P=d(70111),_=d(84326),O=d(7556),T=Object.isFrozen,F=b(function(){T(1)});x({target:"Object",stat:!0,forced:F||O},{isFrozen:function(A){return!P(A)||O&&_(A)=="ArrayBuffer"?!0:T?T(A):!1}})},72200:function(at,R,d){var x=d(82109),b=d(47293),P=d(70111),_=d(84326),O=d(7556),T=Object.isSealed,F=b(function(){T(1)});x({target:"Object",stat:!0,forced:F||O},{isSealed:function(A){return!P(A)||O&&_(A)=="ArrayBuffer"?!0:T?T(A):!1}})},43304:function(at,R,d){var x=d(82109),b=d(81150);x({target:"Object",stat:!0},{is:b})},47941:function(at,R,d){var x=d(82109),b=d(47908),P=d(81956),_=d(47293),O=_(function(){P(1)});x({target:"Object",stat:!0,forced:O},{keys:function(F){return P(b(F))}})},94869:function(at,R,d){"use strict";var x=d(82109),b=d(19781),P=d(69026),_=d(47908),O=d(34948),T=d(79518),F=d(31236).f;b&&x({target:"Object",proto:!0,forced:P},{__lookupGetter__:function(A){var L=_(this),I=O(A),k;do if(k=F(L,I))return k.get;while(L=T(L))}})},33952:function(at,R,d){"use strict";var x=d(82109),b=d(19781),P=d(69026),_=d(47908),O=d(34948),T=d(79518),F=d(31236).f;b&&x({target:"Object",proto:!0,forced:P},{__lookupSetter__:function(A){var L=_(this),I=O(A),k;do if(k=F(L,I))return k.set;while(L=T(L))}})},57227:function(at,R,d){var x=d(82109),b=d(70111),P=d(62423).onFreeze,_=d(76677),O=d(47293),T=Object.preventExtensions,F=O(function(){T(1)});x({target:"Object",stat:!0,forced:F,sham:!_},{preventExtensions:function(A){return T&&b(A)?T(P(A)):A}})},60514:function(at,R,d){var x=d(82109),b=d(70111),P=d(62423).onFreeze,_=d(76677),O=d(47293),T=Object.seal,F=O(function(){T(1)});x({target:"Object",stat:!0,forced:F,sham:!_},{seal:function(A){return T&&b(A)?T(P(A)):A}})},68304:function(at,R,d){var x=d(82109),b=d(27674);x({target:"Object",stat:!0},{setPrototypeOf:b})},41539:function(at,R,d){var x=d(51694),b=d(31320),P=d(90288);x||b(Object.prototype,"toString",P,{unsafe:!0})},26833:function(at,R,d){var x=d(82109),b=d(44699).values;x({target:"Object",stat:!0},{values:function(_){return b(_)}})},54678:function(at,R,d){var x=d(82109),b=d(2814);x({global:!0,forced:parseFloat!=b},{parseFloat:b})},91058:function(at,R,d){var x=d(82109),b=d(83009);x({global:!0,forced:parseInt!=b},{parseInt:b})},17922:function(at,R,d){"use strict";var x=d(82109),b=d(46916),P=d(19662),_=d(78523),O=d(12534),T=d(20408);x({target:"Promise",stat:!0},{allSettled:function(M){var A=this,L=_.f(A),I=L.resolve,k=L.reject,B=O(function(){var z=P(A.resolve),W=[],$=0,K=1;T(M,function(lt){var st=$++,yt=!1;K++,b(z,A,lt).then(function(q){yt||(yt=!0,W[st]={status:"fulfilled",value:q},--K||I(W))},function(q){yt||(yt=!0,W[st]={status:"rejected",reason:q},--K||I(W))})}),--K||I(W)});return B.error&&k(B.value),L.promise}})},34668:function(at,R,d){"use strict";var x=d(82109),b=d(19662),P=d(35005),_=d(46916),O=d(78523),T=d(12534),F=d(20408),M="No one promise resolved";x({target:"Promise",stat:!0},{any:function(L){var I=this,k=P("AggregateError"),B=O.f(I),z=B.resolve,W=B.reject,$=T(function(){var K=b(I.resolve),lt=[],st=0,yt=1,q=!1;F(L,function(nt){var ct=st++,bt=!1;yt++,_(K,I,nt).then(function(_t){bt||q||(q=!0,z(_t))},function(_t){bt||q||(bt=!0,lt[ct]=_t,--yt||W(new k(lt,M)))})}),--yt||W(new k(lt,M))});return $.error&&W($.value),B.promise}})},17727:function(at,R,d){"use strict";var x=d(82109),b=d(31913),P=d(13366),_=d(47293),O=d(35005),T=d(60614),F=d(36707),M=d(69478),A=d(31320),L=!!P&&_(function(){P.prototype.finally.call({then:function(){}},function(){})});if(x({target:"Promise",proto:!0,real:!0,forced:L},{finally:function(k){var B=F(this,O("Promise")),z=T(k);return this.then(z?function(W){return M(B,k()).then(function(){return W})}:k,z?function(W){return M(B,k()).then(function(){throw W})}:k)}}),!b&&T(P)){var I=O("Promise").prototype.finally;P.prototype.finally!==I&&A(P.prototype,"finally",I,{unsafe:!0})}},88674:function(at,R,d){"use strict";var x=d(82109),b=d(31913),P=d(17854),_=d(35005),O=d(46916),T=d(13366),F=d(31320),M=d(12248),A=d(27674),L=d(58003),I=d(96340),k=d(19662),B=d(60614),z=d(70111),W=d(25787),$=d(42788),K=d(20408),lt=d(17072),st=d(36707),yt=d(20261).set,q=d(95948),nt=d(69478),ct=d(842),bt=d(78523),_t=d(12534),St=d(18572),At=d(29909),vt=d(54705),dt=d(5112),gt=d(7871),Ct=d(35268),Et=d(7392),Tt=dt("species"),ot="Promise",Mt=At.getterFor(ot),Wt=At.set,jt=At.getterFor(ot),qt=T&&T.prototype,se=T,ae=qt,he=P.TypeError,ke=P.document,Le=P.process,rr=bt.f,Ee=rr,ge=!!(ke&&ke.createEvent&&P.dispatchEvent),we=B(P.PromiseRejectionEvent),Ce="unhandledrejection",ye="rejectionhandled",Gt=0,Xt=1,Kt=2,ze=1,ur=2,tr=!1,re,Qr,Ir,gn,Wn=vt(ot,function(){var xe=$(se),Ge=xe!==String(se);if(!Ge&&Et===66||b&&!ae.finally)return!0;if(Et>=51&&/native code/.test(xe))return!1;var Je=new se(function(Wr){Wr(1)}),br=function(Wr){Wr(function(){},function(){})},jr=Je.constructor={};return jr[Tt]=br,tr=Je.then(function(){})instanceof br,tr?!Ge&&gt&&!we:!0}),ui=Wn||!lt(function(xe){se.all(xe).catch(function(){})}),bi=function(xe){var Ge;return z(xe)&&B(Ge=xe.then)?Ge:!1},fr=function(xe,Ge){var Je=Ge.value,br=Ge.state==Xt,jr=br?xe.ok:xe.fail,Wr=xe.resolve,Ut=xe.reject,ft=xe.domain,pt,J,xt;try{jr?(br||(Ge.rejection===ur&&Gn(Ge),Ge.rejection=ze),jr===!0?pt=Je:(ft&&ft.enter(),pt=jr(Je),ft&&(ft.exit(),xt=!0)),pt===xe.promise?Ut(he("Promise-chain cycle")):(J=bi(pt))?O(J,pt,Wr,Ut):Wr(pt)):Ut(Je)}catch(Rt){ft&&!xt&&ft.exit(),Ut(Rt)}},Zr=function(xe,Ge){xe.notified||(xe.notified=!0,q(function(){for(var Je=xe.reactions,br;br=Je.get();)fr(br,xe);xe.notified=!1,Ge&&!xe.rejection&&Dn(xe)}))},Sn=function(xe,Ge,Je){var br,jr;ge?(br=ke.createEvent("Event"),br.promise=Ge,br.reason=Je,br.initEvent(xe,!1,!0),P.dispatchEvent(br)):br={promise:Ge,reason:Je},!we&&(jr=P["on"+xe])?jr(br):xe===Ce&&ct("Unhandled promise rejection",Je)},Dn=function(xe){O(yt,P,function(){var Ge=xe.facade,Je=xe.value,br=hn(xe),jr;if(br&&(jr=_t(function(){Ct?Le.emit("unhandledRejection",Je,Ge):Sn(Ce,Ge,Je)}),xe.rejection=Ct||hn(xe)?ur:ze,jr.error))throw jr.value})},hn=function(xe){return xe.rejection!==ze&&!xe.parent},Gn=function(xe){O(yt,P,function(){var Ge=xe.facade;Ct?Le.emit("rejectionHandled",Ge):Sn(ye,Ge,xe.value)})},En=function(xe,Ge,Je){return function(br){xe(Ge,br,Je)}},In=function(xe,Ge,Je){xe.done||(xe.done=!0,Je&&(xe=Je),xe.value=Ge,xe.state=Kt,Zr(xe,!0))},Fn=function(xe,Ge,Je){if(!xe.done){xe.done=!0,Je&&(xe=Je);try{if(xe.facade===Ge)throw he("Promise can't be resolved itself");var br=bi(Ge);br?q(function(){var jr={done:!1};try{O(br,Ge,En(Fn,jr,xe),En(In,jr,xe))}catch(Wr){In(jr,Wr,xe)}}):(xe.value=Ge,xe.state=Xt,Zr(xe,!1))}catch(jr){In({done:!1},jr,xe)}}};if(Wn&&(se=function(Ge){W(this,ae),k(Ge),O(re,this);var Je=Mt(this);try{Ge(En(Fn,Je),En(In,Je))}catch(br){In(Je,br)}},ae=se.prototype,re=function(Ge){Wt(this,{type:ot,done:!1,notified:!1,parent:!1,reactions:new St,rejection:!1,state:Gt,value:void 0})},re.prototype=M(ae,{then:function(Ge,Je){var br=jt(this),jr=rr(st(this,se));return br.parent=!0,jr.ok=B(Ge)?Ge:!0,jr.fail=B(Je)&&Je,jr.domain=Ct?Le.domain:void 0,br.state==Gt?br.reactions.add(jr):q(function(){fr(jr,br)}),jr.promise},catch:function(xe){return this.then(void 0,xe)}}),Qr=function(){var xe=new re,Ge=Mt(xe);this.promise=xe,this.resolve=En(Fn,Ge),this.reject=En(In,Ge)},bt.f=rr=function(xe){return xe===se||xe===Ir?new Qr(xe):Ee(xe)},!b&&B(T)&&qt!==Object.prototype)){gn=qt.then,tr||(F(qt,"then",function(Ge,Je){var br=this;return new se(function(jr,Wr){O(gn,br,jr,Wr)}).then(Ge,Je)},{unsafe:!0}),F(qt,"catch",ae.catch,{unsafe:!0}));try{delete qt.constructor}catch(xe){}A&&A(qt,ae)}x({global:!0,wrap:!0,forced:Wn},{Promise:se}),L(se,ot,!1,!0),I(ot),Ir=_(ot),x({target:ot,stat:!0,forced:Wn},{reject:function(Ge){var Je=rr(this);return O(Je.reject,void 0,Ge),Je.promise}}),x({target:ot,stat:!0,forced:b||Wn},{resolve:function(Ge){return nt(b&&this===Ir?se:this,Ge)}}),x({target:ot,stat:!0,forced:ui},{all:function(Ge){var Je=this,br=rr(Je),jr=br.resolve,Wr=br.reject,Ut=_t(function(){var ft=k(Je.resolve),pt=[],J=0,xt=1;K(Ge,function(Rt){var ue=J++,ie=!1;xt++,O(ft,Je,Rt).then(function(be){ie||(ie=!0,pt[ue]=be,--xt||jr(pt))},Wr)}),--xt||jr(pt)});return Ut.error&&Wr(Ut.value),br.promise},race:function(Ge){var Je=this,br=rr(Je),jr=br.reject,Wr=_t(function(){var Ut=k(Je.resolve);K(Ge,function(ft){O(Ut,Je,ft).then(br.resolve,jr)})});return Wr.error&&jr(Wr.value),br.promise}})},36535:function(at,R,d){var x=d(82109),b=d(22104),P=d(19662),_=d(19670),O=d(47293),T=!O(function(){Reflect.apply(function(){})});x({target:"Reflect",stat:!0,forced:T},{apply:function(M,A,L){return b(P(M),A,_(L))}})},12419:function(at,R,d){var x=d(82109),b=d(35005),P=d(22104),_=d(27065),O=d(39483),T=d(19670),F=d(70111),M=d(70030),A=d(47293),L=b("Reflect","construct"),I=Object.prototype,k=[].push,B=A(function(){function $(){}return!(L(function(){},[],$)instanceof $)}),z=!A(function(){L(function(){})}),W=B||z;x({target:"Reflect",stat:!0,forced:W,sham:W},{construct:function(K,lt){O(K),T(lt);var st=arguments.length<3?K:O(arguments[2]);if(z&&!B)return L(K,lt,st);if(K==st){switch(lt.length){case 0:return new K;case 1:return new K(lt[0]);case 2:return new K(lt[0],lt[1]);case 3:return new K(lt[0],lt[1],lt[2]);case 4:return new K(lt[0],lt[1],lt[2],lt[3])}var yt=[null];return P(k,yt,lt),new(P(_,K,yt))}var q=st.prototype,nt=M(F(q)?q:I),ct=P(K,nt,lt);return F(ct)?ct:nt}})},69596:function(at,R,d){var x=d(82109),b=d(19781),P=d(19670),_=d(34948),O=d(3070),T=d(47293),F=T(function(){Reflect.defineProperty(O.f({},1,{value:1}),1,{value:2})});x({target:"Reflect",stat:!0,forced:F,sham:!b},{defineProperty:function(A,L,I){P(A);var k=_(L);P(I);try{return O.f(A,k,I),!0}catch(B){return!1}}})},52586:function(at,R,d){var x=d(82109),b=d(19670),P=d(31236).f;x({target:"Reflect",stat:!0},{deleteProperty:function(O,T){var F=P(b(O),T);return F&&!F.configurable?!1:delete O[T]}})},95683:function(at,R,d){var x=d(82109),b=d(19781),P=d(19670),_=d(31236);x({target:"Reflect",stat:!0,sham:!b},{getOwnPropertyDescriptor:function(T,F){return _.f(P(T),F)}})},39361:function(at,R,d){var x=d(82109),b=d(19670),P=d(79518),_=d(49920);x({target:"Reflect",stat:!0,sham:!_},{getPrototypeOf:function(T){return P(b(T))}})},74819:function(at,R,d){var x=d(82109),b=d(46916),P=d(70111),_=d(19670),O=d(45032),T=d(31236),F=d(79518);function M(A,L){var I=arguments.length<3?A:arguments[2],k,B;if(_(A)===I)return A[L];if(k=T.f(A,L),k)return O(k)?k.value:k.get===void 0?void 0:b(k.get,I);if(P(B=F(A)))return M(B,L,I)}x({target:"Reflect",stat:!0},{get:M})},51037:function(at,R,d){var x=d(82109);x({target:"Reflect",stat:!0},{has:function(P,_){return _ in P}})},5898:function(at,R,d){var x=d(82109),b=d(19670),P=d(52050);x({target:"Reflect",stat:!0},{isExtensible:function(O){return b(O),P(O)}})},67556:function(at,R,d){var x=d(82109),b=d(53887);x({target:"Reflect",stat:!0},{ownKeys:b})},14361:function(at,R,d){var x=d(82109),b=d(35005),P=d(19670),_=d(76677);x({target:"Reflect",stat:!0,sham:!_},{preventExtensions:function(T){P(T);try{var F=b("Object","preventExtensions");return F&&F(T),!0}catch(M){return!1}}})},39532:function(at,R,d){var x=d(82109),b=d(19670),P=d(96077),_=d(27674);_&&x({target:"Reflect",stat:!0},{setPrototypeOf:function(T,F){b(T),P(F);try{return _(T,F),!0}catch(M){return!1}}})},83593:function(at,R,d){var x=d(82109),b=d(46916),P=d(19670),_=d(70111),O=d(45032),T=d(47293),F=d(3070),M=d(31236),A=d(79518),L=d(79114);function I(B,z,W){var $=arguments.length<4?B:arguments[3],K=M.f(P(B),z),lt,st,yt;if(!K){if(_(st=A(B)))return I(st,z,W,$);K=L(0)}if(O(K)){if(K.writable===!1||!_($))return!1;if(lt=M.f($,z)){if(lt.get||lt.set||lt.writable===!1)return!1;lt.value=W,F.f($,z,lt)}else F.f($,z,L(0,W))}else{if(yt=K.set,yt===void 0)return!1;b(yt,$,W)}return!0}var k=T(function(){var B=function(){},z=F.f(new B,"a",{configurable:!0});return Reflect.set(B.prototype,"a",1,z)!==!1});x({target:"Reflect",stat:!0,forced:k},{set:I})},81299:function(at,R,d){var x=d(82109),b=d(17854),P=d(58003);x({global:!0},{Reflect:{}}),P(b.Reflect,"Reflect",!0)},24603:function(at,R,d){var x=d(19781),b=d(17854),P=d(1702),_=d(54705),O=d(79587),T=d(68880),F=d(3070).f,M=d(8006).f,A=d(47976),L=d(47850),I=d(41340),k=d(67066),B=d(52999),z=d(31320),W=d(47293),$=d(92597),K=d(29909).enforce,lt=d(96340),st=d(5112),yt=d(9441),q=d(38173),nt=st("match"),ct=b.RegExp,bt=ct.prototype,_t=b.SyntaxError,St=P(k),At=P(bt.exec),vt=P("".charAt),dt=P("".replace),gt=P("".indexOf),Ct=P("".slice),Et=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,Tt=/a/g,ot=/a/g,Mt=new ct(Tt)!==Tt,Wt=B.MISSED_STICKY,jt=B.UNSUPPORTED_Y,qt=x&&(!Mt||Wt||yt||q||W(function(){return ot[nt]=!1,ct(Tt)!=Tt||ct(ot)==ot||ct(Tt,"i")!="/a/i"})),se=function(Ee){for(var ge=Ee.length,we=0,Ce="",ye=!1,Gt;we<=ge;we++){if(Gt=vt(Ee,we),Gt==="\\"){Ce+=Gt+vt(Ee,++we);continue}!ye&&Gt==="."?Ce+="[\\s\\S]":(Gt==="["?ye=!0:Gt==="]"&&(ye=!1),Ce+=Gt)}return Ce},ae=function(Ee){for(var ge=Ee.length,we=0,Ce="",ye=[],Gt={},Xt=!1,Kt=!1,ze=0,ur="",tr;we<=ge;we++){if(tr=vt(Ee,we),tr==="\\")tr=tr+vt(Ee,++we);else if(tr==="]")Xt=!1;else if(!Xt)switch(!0){case tr==="[":Xt=!0;break;case tr==="(":At(Et,Ct(Ee,we+1))&&(we+=2,Kt=!0),Ce+=tr,ze++;continue;case(tr===">"&&Kt):if(ur===""||$(Gt,ur))throw new _t("Invalid capture group name");Gt[ur]=!0,ye[ye.length]=[ur,ze],Kt=!1,ur="";continue}Kt?ur+=tr:Ce+=tr}return[Ce,ye]};if(_("RegExp",qt)){for(var he=function(ge,we){var Ce=A(bt,this),ye=L(ge),Gt=we===void 0,Xt=[],Kt=ge,ze,ur,tr,re,Qr,Ir;if(!Ce&&ye&&Gt&&ge.constructor===he)return ge;if((ye||A(bt,ge))&&(ge=ge.source,Gt&&(we="flags"in Kt?Kt.flags:St(Kt))),ge=ge===void 0?"":I(ge),we=we===void 0?"":I(we),Kt=ge,yt&&"dotAll"in Tt&&(ur=!!we&&gt(we,"s")>-1,ur&&(we=dt(we,/s/g,""))),ze=we,Wt&&"sticky"in Tt&&(tr=!!we&&gt(we,"y")>-1,tr&&jt&&(we=dt(we,/y/g,""))),q&&(re=ae(ge),ge=re[0],Xt=re[1]),Qr=O(ct(ge,we),Ce?this:bt,he),(ur||tr||Xt.length)&&(Ir=K(Qr),ur&&(Ir.dotAll=!0,Ir.raw=he(se(ge),ze)),tr&&(Ir.sticky=!0),Xt.length&&(Ir.groups=Xt)),ge!==Kt)try{T(Qr,"source",Kt===""?"(?:)":Kt)}catch(gn){}return Qr},ke=function(Ee){Ee in he||F(he,Ee,{configurable:!0,get:function(){return ct[Ee]},set:function(ge){ct[Ee]=ge}})},Le=M(ct),rr=0;Le.length>rr;)ke(Le[rr++]);bt.constructor=he,he.prototype=bt,z(b,"RegExp",he)}lt("RegExp")},74916:function(at,R,d){"use strict";var x=d(82109),b=d(22261);x({target:"RegExp",proto:!0,forced:/./.exec!==b},{exec:b})},92087:function(at,R,d){var x=d(19781),b=d(3070),P=d(67066),_=d(47293),O=RegExp.prototype,T=x&&_(function(){return Object.getOwnPropertyDescriptor(O,"flags").get.call({dotAll:!0,sticky:!0})!=="sy"});T&&b.f(O,"flags",{configurable:!0,get:P})},88386:function(at,R,d){var x=d(17854),b=d(19781),P=d(52999).MISSED_STICKY,_=d(84326),O=d(3070).f,T=d(29909).get,F=RegExp.prototype,M=x.TypeError;b&&P&&O(F,"sticky",{configurable:!0,get:function(){if(this!==F){if(_(this)==="RegExp")return!!T(this).sticky;throw M("Incompatible receiver, RegExp required")}}})},77601:function(at,R,d){"use strict";d(74916);var x=d(82109),b=d(17854),P=d(46916),_=d(1702),O=d(60614),T=d(70111),F=function(){var L=!1,I=/[ac]/;return I.exec=function(){return L=!0,/./.exec.apply(this,arguments)},I.test("abc")===!0&&L}(),M=b.Error,A=_(/./.test);x({target:"RegExp",proto:!0,forced:!F},{test:function(L){var I=this.exec;if(!O(I))return A(this,L);var k=P(I,this,L);if(k!==null&&!T(k))throw new M("RegExp exec method returned something other than an Object or null");return!!k}})},39714:function(at,R,d){"use strict";var x=d(1702),b=d(76530).PROPER,P=d(31320),_=d(19670),O=d(47976),T=d(41340),F=d(47293),M=d(67066),A="toString",L=RegExp.prototype,I=L[A],k=x(M),B=F(function(){return I.call({source:"a",flags:"b"})!="/a/b"}),z=b&&I.name!=A;(B||z)&&P(RegExp.prototype,A,function(){var $=_(this),K=T($.source),lt=$.flags,st=T(lt===void 0&&O(L,$)&&!("flags"in L)?k($):lt);return"/"+K+"/"+st},{unsafe:!0})},70189:function(at,R,d){"use strict";var x=d(77710),b=d(95631);x("Set",function(P){return function(){return P(this,arguments.length?arguments[0]:void 0)}},b)},15218:function(at,R,d){"use strict";var x=d(82109),b=d(14230),P=d(43429);x({target:"String",proto:!0,forced:P("anchor")},{anchor:function(O){return b(this,"a","name",O)}})},74475:function(at,R,d){"use strict";var x=d(82109),b=d(14230),P=d(43429);x({target:"String",proto:!0,forced:P("big")},{big:function(){return b(this,"big","","")}})},57929:function(at,R,d){"use strict";var x=d(82109),b=d(14230),P=d(43429);x({target:"String",proto:!0,forced:P("blink")},{blink:function(){return b(this,"blink","","")}})},50915:function(at,R,d){"use strict";var x=d(82109),b=d(14230),P=d(43429);x({target:"String",proto:!0,forced:P("bold")},{bold:function(){return b(this,"b","","")}})},79841:function(at,R,d){"use strict";var x=d(82109),b=d(28710).codeAt;x({target:"String",proto:!0},{codePointAt:function(_){return b(this,_)}})},27852:function(at,R,d){"use strict";var x=d(82109),b=d(1702),P=d(31236).f,_=d(17466),O=d(41340),T=d(3929),F=d(84488),M=d(84964),A=d(31913),L=b("".endsWith),I=b("".slice),k=Math.min,B=M("endsWith"),z=!A&&!B&&!!function(){var W=P(String.prototype,"endsWith");return W&&!W.writable}();x({target:"String",proto:!0,forced:!z&&!B},{endsWith:function($){var K=O(F(this));T($);var lt=arguments.length>1?arguments[1]:void 0,st=K.length,yt=lt===void 0?st:k(_(lt),st),q=O($);return L?L(K,q,yt):I(K,yt-q.length,yt)===q}})},29253:function(at,R,d){"use strict";var x=d(82109),b=d(14230),P=d(43429);x({target:"String",proto:!0,forced:P("fixed")},{fixed:function(){return b(this,"tt","","")}})},42125:function(at,R,d){"use strict";var x=d(82109),b=d(14230),P=d(43429);x({target:"String",proto:!0,forced:P("fontcolor")},{fontcolor:function(O){return b(this,"font","color",O)}})},78830:function(at,R,d){"use strict";var x=d(82109),b=d(14230),P=d(43429);x({target:"String",proto:!0,forced:P("fontsize")},{fontsize:function(O){return b(this,"font","size",O)}})},94953:function(at,R,d){var x=d(82109),b=d(17854),P=d(1702),_=d(51400),O=b.RangeError,T=String.fromCharCode,F=String.fromCodePoint,M=P([].join),A=!!F&&F.length!=1;x({target:"String",stat:!0,forced:A},{fromCodePoint:function(I){for(var k=[],B=arguments.length,z=0,W;B>z;){if(W=+arguments[z++],_(W,1114111)!==W)throw O(W+" is not a valid code point");k[z]=W<65536?T(W):T(((W-=65536)>>10)+55296,W%1024+56320)}return M(k,"")}})},32023:function(at,R,d){"use strict";var x=d(82109),b=d(1702),P=d(3929),_=d(84488),O=d(41340),T=d(84964),F=b("".indexOf);x({target:"String",proto:!0,forced:!T("includes")},{includes:function(A){return!!~F(O(_(this)),O(P(A)),arguments.length>1?arguments[1]:void 0)}})},58734:function(at,R,d){"use strict";var x=d(82109),b=d(14230),P=d(43429);x({target:"String",proto:!0,forced:P("italics")},{italics:function(){return b(this,"i","","")}})},78783:function(at,R,d){"use strict";var x=d(28710).charAt,b=d(41340),P=d(29909),_=d(70654),O="String Iterator",T=P.set,F=P.getterFor(O);_(String,"String",function(M){T(this,{type:O,string:b(M),index:0})},function(){var A=F(this),L=A.string,I=A.index,k;return I>=L.length?{value:void 0,done:!0}:(k=x(L,I),A.index+=k.length,{value:k,done:!1})})},29254:function(at,R,d){"use strict";var x=d(82109),b=d(14230),P=d(43429);x({target:"String",proto:!0,forced:P("link")},{link:function(O){return b(this,"a","href",O)}})},76373:function(at,R,d){"use strict";var x=d(82109),b=d(17854),P=d(46916),_=d(1702),O=d(24994),T=d(84488),F=d(17466),M=d(41340),A=d(19670),L=d(84326),I=d(47976),k=d(47850),B=d(67066),z=d(58173),W=d(31320),$=d(47293),K=d(5112),lt=d(36707),st=d(31530),yt=d(97651),q=d(29909),nt=d(31913),ct=K("matchAll"),bt="RegExp String",_t=bt+" Iterator",St=q.set,At=q.getterFor(_t),vt=RegExp.prototype,dt=b.TypeError,gt=_(B),Ct=_("".indexOf),Et=_("".matchAll),Tt=!!Et&&!$(function(){Et("a",/./)}),ot=O(function(jt,qt,se,ae){St(this,{type:_t,regexp:jt,string:qt,global:se,unicode:ae,done:!1})},bt,function(){var jt=At(this);if(jt.done)return{value:void 0,done:!0};var qt=jt.regexp,se=jt.string,ae=yt(qt,se);return ae===null?{value:void 0,done:jt.done=!0}:jt.global?(M(ae[0])===""&&(qt.lastIndex=st(se,F(qt.lastIndex),jt.unicode)),{value:ae,done:!1}):(jt.done=!0,{value:ae,done:!1})}),Mt=function(Wt){var jt=A(this),qt=M(Wt),se,ae,he,ke,Le,rr;return se=lt(jt,RegExp),ae=jt.flags,ae===void 0&&I(vt,jt)&&!("flags"in vt)&&(ae=gt(jt)),he=ae===void 0?"":M(ae),ke=new se(se===RegExp?jt.source:jt,he),Le=!!~Ct(he,"g"),rr=!!~Ct(he,"u"),ke.lastIndex=F(jt.lastIndex),new ot(ke,qt,Le,rr)};x({target:"String",proto:!0,forced:Tt},{matchAll:function(jt){var qt=T(this),se,ae,he,ke;if(jt!=null){if(k(jt)&&(se=M(T("flags"in vt?jt.flags:gt(jt))),!~Ct(se,"g")))throw dt("`.matchAll` does not allow non-global regexes");if(Tt)return Et(qt,jt);if(he=z(jt,ct),he===void 0&&nt&&L(jt)=="RegExp"&&(he=Mt),he)return P(he,jt,qt)}else if(Tt)return Et(qt,jt);return ae=M(qt),ke=new RegExp(jt,"g"),nt?P(Mt,ke,ae):ke[ct](ae)}}),nt||ct in vt||W(vt,ct,Mt)},4723:function(at,R,d){"use strict";var x=d(46916),b=d(27007),P=d(19670),_=d(17466),O=d(41340),T=d(84488),F=d(58173),M=d(31530),A=d(97651);b("match",function(L,I,k){return[function(z){var W=T(this),$=z==null?void 0:F(z,L);return $?x($,z,W):new RegExp(z)[L](O(W))},function(B){var z=P(this),W=O(B),$=k(I,z,W);if($.done)return $.value;if(!z.global)return A(z,W);var K=z.unicode;z.lastIndex=0;for(var lt=[],st=0,yt;(yt=A(z,W))!==null;){var q=O(yt[0]);lt[st]=q,q===""&&(z.lastIndex=M(W,_(z.lastIndex),K)),st++}return st===0?null:lt}]})},66528:function(at,R,d){"use strict";var x=d(82109),b=d(76650).end,P=d(54986);x({target:"String",proto:!0,forced:P},{padEnd:function(O){return b(this,O,arguments.length>1?arguments[1]:void 0)}})},83112:function(at,R,d){"use strict";var x=d(82109),b=d(76650).start,P=d(54986);x({target:"String",proto:!0,forced:P},{padStart:function(O){return b(this,O,arguments.length>1?arguments[1]:void 0)}})},38992:function(at,R,d){var x=d(82109),b=d(1702),P=d(45656),_=d(47908),O=d(41340),T=d(26244),F=b([].push),M=b([].join);x({target:"String",stat:!0},{raw:function(L){for(var I=P(_(L).raw),k=T(I),B=arguments.length,z=[],W=0;k>W;){if(F(z,O(I[W++])),W===k)return M(z,"");W<B&&F(z,O(arguments[W]))}}})},82481:function(at,R,d){var x=d(82109),b=d(38415);x({target:"String",proto:!0},{repeat:b})},68757:function(at,R,d){"use strict";var x=d(82109),b=d(17854),P=d(46916),_=d(1702),O=d(84488),T=d(60614),F=d(47850),M=d(41340),A=d(58173),L=d(67066),I=d(10647),k=d(5112),B=d(31913),z=k("replace"),W=RegExp.prototype,$=b.TypeError,K=_(L),lt=_("".indexOf),st=_("".replace),yt=_("".slice),q=Math.max,nt=function(ct,bt,_t){return _t>ct.length?-1:bt===""?_t:lt(ct,bt,_t)};x({target:"String",proto:!0},{replaceAll:function(bt,_t){var St=O(this),At,vt,dt,gt,Ct,Et,Tt,ot,Mt,Wt=0,jt=0,qt="";if(bt!=null){if(At=F(bt),At&&(vt=M(O("flags"in W?bt.flags:K(bt))),!~lt(vt,"g")))throw $("`.replaceAll` does not allow non-global regexes");if(dt=A(bt,z),dt)return P(dt,bt,St,_t);if(B&&At)return st(M(St),bt,_t)}for(gt=M(St),Ct=M(bt),Et=T(_t),Et||(_t=M(_t)),Tt=Ct.length,ot=q(1,Tt),Wt=nt(gt,Ct,0);Wt!==-1;)Mt=Et?M(_t(Ct,Wt,gt)):I(Ct,gt,Wt,[],void 0,_t),qt+=yt(gt,jt,Wt)+Mt,jt=Wt+Tt,Wt=nt(gt,Ct,Wt+ot);return jt<gt.length&&(qt+=yt(gt,jt)),qt}})},15306:function(at,R,d){"use strict";var x=d(22104),b=d(46916),P=d(1702),_=d(27007),O=d(47293),T=d(19670),F=d(60614),M=d(19303),A=d(17466),L=d(41340),I=d(84488),k=d(31530),B=d(58173),z=d(10647),W=d(97651),$=d(5112),K=$("replace"),lt=Math.max,st=Math.min,yt=P([].concat),q=P([].push),nt=P("".indexOf),ct=P("".slice),bt=function(vt){return vt===void 0?vt:String(vt)},_t=function(){return"a".replace(/./,"$0")==="$0"}(),St=function(){return/./[K]?/./[K]("a","$0")==="":!1}(),At=!O(function(){var vt=/./;return vt.exec=function(){var dt=[];return dt.groups={a:"7"},dt},"".replace(vt,"$<a>")!=="7"});_("replace",function(vt,dt,gt){var Ct=St?"$":"$0";return[function(Tt,ot){var Mt=I(this),Wt=Tt==null?void 0:B(Tt,K);return Wt?b(Wt,Tt,Mt,ot):b(dt,L(Mt),Tt,ot)},function(Et,Tt){var ot=T(this),Mt=L(Et);if(typeof Tt=="string"&&nt(Tt,Ct)===-1&&nt(Tt,"$<")===-1){var Wt=gt(dt,ot,Mt,Tt);if(Wt.done)return Wt.value}var jt=F(Tt);jt||(Tt=L(Tt));var qt=ot.global;if(qt){var se=ot.unicode;ot.lastIndex=0}for(var ae=[];;){var he=W(ot,Mt);if(he===null||(q(ae,he),!qt))break;var ke=L(he[0]);ke===""&&(ot.lastIndex=k(Mt,A(ot.lastIndex),se))}for(var Le="",rr=0,Ee=0;Ee<ae.length;Ee++){he=ae[Ee];for(var ge=L(he[0]),we=lt(st(M(he.index),Mt.length),0),Ce=[],ye=1;ye<he.length;ye++)q(Ce,bt(he[ye]));var Gt=he.groups;if(jt){var Xt=yt([ge],Ce,we,Mt);Gt!==void 0&&q(Xt,Gt);var Kt=L(x(Tt,void 0,Xt))}else Kt=z(ge,Mt,we,Ce,Gt,Tt);we>=rr&&(Le+=ct(Mt,rr,we)+Kt,rr=we+ge.length)}return Le+ct(Mt,rr)}]},!At||!_t||St)},64765:function(at,R,d){"use strict";var x=d(46916),b=d(27007),P=d(19670),_=d(84488),O=d(81150),T=d(41340),F=d(58173),M=d(97651);b("search",function(A,L,I){return[function(B){var z=_(this),W=B==null?void 0:F(B,A);return W?x(W,B,z):new RegExp(B)[A](T(z))},function(k){var B=P(this),z=T(k),W=I(L,B,z);if(W.done)return W.value;var $=B.lastIndex;O($,0)||(B.lastIndex=0);var K=M(B,z);return O(B.lastIndex,$)||(B.lastIndex=$),K===null?-1:K.index}]})},37268:function(at,R,d){"use strict";var x=d(82109),b=d(14230),P=d(43429);x({target:"String",proto:!0,forced:P("small")},{small:function(){return b(this,"small","","")}})},23123:function(at,R,d){"use strict";var x=d(22104),b=d(46916),P=d(1702),_=d(27007),O=d(47850),T=d(19670),F=d(84488),M=d(36707),A=d(31530),L=d(17466),I=d(41340),k=d(58173),B=d(41589),z=d(97651),W=d(22261),$=d(52999),K=d(47293),lt=$.UNSUPPORTED_Y,st=4294967295,yt=Math.min,q=[].push,nt=P(/./.exec),ct=P(q),bt=P("".slice),_t=!K(function(){var St=/(?:)/,At=St.exec;St.exec=function(){return At.apply(this,arguments)};var vt="ab".split(St);return vt.length!==2||vt[0]!=="a"||vt[1]!=="b"});_("split",function(St,At,vt){var dt;return"abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?dt=function(gt,Ct){var Et=I(F(this)),Tt=Ct===void 0?st:Ct>>>0;if(Tt===0)return[];if(gt===void 0)return[Et];if(!O(gt))return b(At,Et,gt,Tt);for(var ot=[],Mt=(gt.ignoreCase?"i":"")+(gt.multiline?"m":"")+(gt.unicode?"u":"")+(gt.sticky?"y":""),Wt=0,jt=new RegExp(gt.source,Mt+"g"),qt,se,ae;(qt=b(W,jt,Et))&&(se=jt.lastIndex,!(se>Wt&&(ct(ot,bt(Et,Wt,qt.index)),qt.length>1&&qt.index<Et.length&&x(q,ot,B(qt,1)),ae=qt[0].length,Wt=se,ot.length>=Tt)));)jt.lastIndex===qt.index&&jt.lastIndex++;return Wt===Et.length?(ae||!nt(jt,""))&&ct(ot,""):ct(ot,bt(Et,Wt)),ot.length>Tt?B(ot,0,Tt):ot}:"0".split(void 0,0).length?dt=function(gt,Ct){return gt===void 0&&Ct===0?[]:b(At,this,gt,Ct)}:dt=At,[function(Ct,Et){var Tt=F(this),ot=Ct==null?void 0:k(Ct,St);return ot?b(ot,Ct,Tt,Et):b(dt,I(Tt),Ct,Et)},function(gt,Ct){var Et=T(this),Tt=I(gt),ot=vt(dt,Et,Tt,Ct,dt!==At);if(ot.done)return ot.value;var Mt=M(Et,RegExp),Wt=Et.unicode,jt=(Et.ignoreCase?"i":"")+(Et.multiline?"m":"")+(Et.unicode?"u":"")+(lt?"g":"y"),qt=new Mt(lt?"^(?:"+Et.source+")":Et,jt),se=Ct===void 0?st:Ct>>>0;if(se===0)return[];if(Tt.length===0)return z(qt,Tt)===null?[Tt]:[];for(var ae=0,he=0,ke=[];he<Tt.length;){qt.lastIndex=lt?0:he;var Le=z(qt,lt?bt(Tt,he):Tt),rr;if(Le===null||(rr=yt(L(qt.lastIndex+(lt?he:0)),Tt.length))===ae)he=A(Tt,he,Wt);else{if(ct(ke,bt(Tt,ae,he)),ke.length===se)return ke;for(var Ee=1;Ee<=Le.length-1;Ee++)if(ct(ke,Le[Ee]),ke.length===se)return ke;he=ae=rr}}return ct(ke,bt(Tt,ae)),ke}]},!_t,lt)},23157:function(at,R,d){"use strict";var x=d(82109),b=d(1702),P=d(31236).f,_=d(17466),O=d(41340),T=d(3929),F=d(84488),M=d(84964),A=d(31913),L=b("".startsWith),I=b("".slice),k=Math.min,B=M("startsWith"),z=!A&&!B&&!!function(){var W=P(String.prototype,"startsWith");return W&&!W.writable}();x({target:"String",proto:!0,forced:!z&&!B},{startsWith:function($){var K=O(F(this));T($);var lt=_(k(arguments.length>1?arguments[1]:void 0,K.length)),st=O($);return L?L(K,st,lt):I(K,lt,lt+st.length)===st}})},7397:function(at,R,d){"use strict";var x=d(82109),b=d(14230),P=d(43429);x({target:"String",proto:!0,forced:P("strike")},{strike:function(){return b(this,"strike","","")}})},60086:function(at,R,d){"use strict";var x=d(82109),b=d(14230),P=d(43429);x({target:"String",proto:!0,forced:P("sub")},{sub:function(){return b(this,"sub","","")}})},80623:function(at,R,d){"use strict";var x=d(82109),b=d(14230),P=d(43429);x({target:"String",proto:!0,forced:P("sup")},{sup:function(){return b(this,"sup","","")}})},48702:function(at,R,d){"use strict";var x=d(82109),b=d(53111).end,P=d(76091),_=P("trimEnd"),O=_?function(){return b(this)}:"".trimEnd;x({target:"String",proto:!0,name:"trimEnd",forced:_},{trimEnd:O,trimRight:O})},55674:function(at,R,d){"use strict";var x=d(82109),b=d(53111).start,P=d(76091),_=P("trimStart"),O=_?function(){return b(this)}:"".trimStart;x({target:"String",proto:!0,name:"trimStart",forced:_},{trimStart:O,trimLeft:O})},73210:function(at,R,d){"use strict";var x=d(82109),b=d(53111).trim,P=d(76091);x({target:"String",proto:!0,forced:P("trim")},{trim:function(){return b(this)}})},72443:function(at,R,d){var x=d(97235);x("asyncIterator")},41817:function(at,R,d){"use strict";var x=d(82109),b=d(19781),P=d(17854),_=d(1702),O=d(92597),T=d(60614),F=d(47976),M=d(41340),A=d(3070).f,L=d(99920),I=P.Symbol,k=I&&I.prototype;if(b&&T(I)&&(!("description"in k)||I().description!==void 0)){var B={},z=function(){var nt=arguments.length<1||arguments[0]===void 0?void 0:M(arguments[0]),ct=F(k,this)?new I(nt):nt===void 0?I():I(nt);return nt===""&&(B[ct]=!0),ct};L(z,I),z.prototype=k,k.constructor=z;var W=String(I("test"))=="Symbol(test)",$=_(k.toString),K=_(k.valueOf),lt=/^Symbol\((.*)\)[^)]+$/,st=_("".replace),yt=_("".slice);A(k,"description",{configurable:!0,get:function(){var nt=K(this),ct=$(nt);if(O(B,nt))return"";var bt=W?yt(ct,7,-1):st(ct,lt,"$1");return bt===""?void 0:bt}}),x({global:!0,forced:!0},{Symbol:z})}},92401:function(at,R,d){var x=d(97235);x("hasInstance")},8722:function(at,R,d){var x=d(97235);x("isConcatSpreadable")},32165:function(at,R,d){var x=d(97235);x("iterator")},82526:function(at,R,d){"use strict";var x=d(82109),b=d(17854),P=d(35005),_=d(22104),O=d(46916),T=d(1702),F=d(31913),M=d(19781),A=d(30133),L=d(47293),I=d(92597),k=d(43157),B=d(60614),z=d(70111),W=d(47976),$=d(52190),K=d(19670),lt=d(47908),st=d(45656),yt=d(34948),q=d(41340),nt=d(79114),ct=d(70030),bt=d(81956),_t=d(8006),St=d(1156),At=d(25181),vt=d(31236),dt=d(3070),gt=d(36048),Ct=d(55296),Et=d(50206),Tt=d(31320),ot=d(72309),Mt=d(6200),Wt=d(3501),jt=d(69711),qt=d(5112),se=d(6061),ae=d(97235),he=d(58003),ke=d(29909),Le=d(42092).forEach,rr=Mt("hidden"),Ee="Symbol",ge="prototype",we=qt("toPrimitive"),Ce=ke.set,ye=ke.getterFor(Ee),Gt=Object[ge],Xt=b.Symbol,Kt=Xt&&Xt[ge],ze=b.TypeError,ur=b.QObject,tr=P("JSON","stringify"),re=vt.f,Qr=dt.f,Ir=St.f,gn=Ct.f,Wn=T([].push),ui=ot("symbols"),bi=ot("op-symbols"),fr=ot("string-to-symbol-registry"),Zr=ot("symbol-to-string-registry"),Sn=ot("wks"),Dn=!ur||!ur[ge]||!ur[ge].findChild,hn=M&&L(function(){return ct(Qr({},"a",{get:function(){return Qr(this,"a",{value:7}).a}})).a!=7})?function(Ut,ft,pt){var J=re(Gt,ft);J&&delete Gt[ft],Qr(Ut,ft,pt),J&&Ut!==Gt&&Qr(Gt,ft,J)}:Qr,Gn=function(Ut,ft){var pt=ui[Ut]=ct(Kt);return Ce(pt,{type:Ee,tag:Ut,description:ft}),M||(pt.description=ft),pt},En=function(ft,pt,J){ft===Gt&&En(bi,pt,J),K(ft);var xt=yt(pt);return K(J),I(ui,xt)?(J.enumerable?(I(ft,rr)&&ft[rr][xt]&&(ft[rr][xt]=!1),J=ct(J,{enumerable:nt(0,!1)})):(I(ft,rr)||Qr(ft,rr,nt(1,{})),ft[rr][xt]=!0),hn(ft,xt,J)):Qr(ft,xt,J)},In=function(ft,pt){K(ft);var J=st(pt),xt=bt(J).concat(br(J));return Le(xt,function(Rt){(!M||O(xe,J,Rt))&&En(ft,Rt,J[Rt])}),ft},Fn=function(ft,pt){return pt===void 0?ct(ft):In(ct(ft),pt)},xe=function(ft){var pt=yt(ft),J=O(gn,this,pt);return this===Gt&&I(ui,pt)&&!I(bi,pt)?!1:J||!I(this,pt)||!I(ui,pt)||I(this,rr)&&this[rr][pt]?J:!0},Ge=function(ft,pt){var J=st(ft),xt=yt(pt);if(!(J===Gt&&I(ui,xt)&&!I(bi,xt))){var Rt=re(J,xt);return Rt&&I(ui,xt)&&!(I(J,rr)&&J[rr][xt])&&(Rt.enumerable=!0),Rt}},Je=function(ft){var pt=Ir(st(ft)),J=[];return Le(pt,function(xt){!I(ui,xt)&&!I(Wt,xt)&&Wn(J,xt)}),J},br=function(ft){var pt=ft===Gt,J=Ir(pt?bi:st(ft)),xt=[];return Le(J,function(Rt){I(ui,Rt)&&(!pt||I(Gt,Rt))&&Wn(xt,ui[Rt])}),xt};if(A||(Xt=function(){if(W(Kt,this))throw ze("Symbol is not a constructor");var ft=!arguments.length||arguments[0]===void 0?void 0:q(arguments[0]),pt=jt(ft),J=function(xt){this===Gt&&O(J,bi,xt),I(this,rr)&&I(this[rr],pt)&&(this[rr][pt]=!1),hn(this,pt,nt(1,xt))};return M&&Dn&&hn(Gt,pt,{configurable:!0,set:J}),Gn(pt,ft)},Kt=Xt[ge],Tt(Kt,"toString",function(){return ye(this).tag}),Tt(Xt,"withoutSetter",function(Ut){return Gn(jt(Ut),Ut)}),Ct.f=xe,dt.f=En,gt.f=In,vt.f=Ge,_t.f=St.f=Je,At.f=br,se.f=function(Ut){return Gn(qt(Ut),Ut)},M&&(Qr(Kt,"description",{configurable:!0,get:function(){return ye(this).description}}),F||Tt(Gt,"propertyIsEnumerable",xe,{unsafe:!0}))),x({global:!0,wrap:!0,forced:!A,sham:!A},{Symbol:Xt}),Le(bt(Sn),function(Ut){ae(Ut)}),x({target:Ee,stat:!0,forced:!A},{for:function(Ut){var ft=q(Ut);if(I(fr,ft))return fr[ft];var pt=Xt(ft);return fr[ft]=pt,Zr[pt]=ft,pt},keyFor:function(ft){if(!$(ft))throw ze(ft+" is not a symbol");if(I(Zr,ft))return Zr[ft]},useSetter:function(){Dn=!0},useSimple:function(){Dn=!1}}),x({target:"Object",stat:!0,forced:!A,sham:!M},{create:Fn,defineProperty:En,defineProperties:In,getOwnPropertyDescriptor:Ge}),x({target:"Object",stat:!0,forced:!A},{getOwnPropertyNames:Je,getOwnPropertySymbols:br}),x({target:"Object",stat:!0,forced:L(function(){At.f(1)})},{getOwnPropertySymbols:function(ft){return At.f(lt(ft))}}),tr){var jr=!A||L(function(){var Ut=Xt();return tr([Ut])!="[null]"||tr({a:Ut})!="{}"||tr(Object(Ut))!="{}"});x({target:"JSON",stat:!0,forced:jr},{stringify:function(ft,pt,J){var xt=Et(arguments),Rt=pt;if(!(!z(pt)&&ft===void 0||$(ft)))return k(pt)||(pt=function(ue,ie){if(B(Rt)&&(ie=O(Rt,this,ue,ie)),!$(ie))return ie}),xt[1]=pt,_(tr,null,xt)}})}if(!Kt[we]){var Wr=Kt.valueOf;Tt(Kt,we,function(Ut){return O(Wr,this)})}he(Xt,Ee),Wt[rr]=!0},16066:function(at,R,d){var x=d(97235);x("matchAll")},69007:function(at,R,d){var x=d(97235);x("match")},83510:function(at,R,d){var x=d(97235);x("replace")},41840:function(at,R,d){var x=d(97235);x("search")},6982:function(at,R,d){var x=d(97235);x("species")},32159:function(at,R,d){var x=d(97235);x("split")},96649:function(at,R,d){var x=d(97235);x("toPrimitive")},39341:function(at,R,d){var x=d(97235);x("toStringTag")},60543:function(at,R,d){var x=d(97235);x("unscopables")},92990:function(at,R,d){"use strict";var x=d(1702),b=d(90260),P=d(1048),_=x(P),O=b.aTypedArray,T=b.exportTypedArrayMethod;T("copyWithin",function(M,A){return _(O(this),M,A,arguments.length>2?arguments[2]:void 0)})},18927:function(at,R,d){"use strict";var x=d(90260),b=d(42092).every,P=x.aTypedArray,_=x.exportTypedArrayMethod;_("every",function(T){return b(P(this),T,arguments.length>1?arguments[1]:void 0)})},33105:function(at,R,d){"use strict";var x=d(90260),b=d(46916),P=d(21285),_=x.aTypedArray,O=x.exportTypedArrayMethod;O("fill",function(F){var M=arguments.length;return b(P,_(this),F,M>1?arguments[1]:void 0,M>2?arguments[2]:void 0)})},35035:function(at,R,d){"use strict";var x=d(90260),b=d(42092).filter,P=d(43074),_=x.aTypedArray,O=x.exportTypedArrayMethod;O("filter",function(F){var M=b(_(this),F,arguments.length>1?arguments[1]:void 0);return P(this,M)})},7174:function(at,R,d){"use strict";var x=d(90260),b=d(42092).findIndex,P=x.aTypedArray,_=x.exportTypedArrayMethod;_("findIndex",function(T){return b(P(this),T,arguments.length>1?arguments[1]:void 0)})},74345:function(at,R,d){"use strict";var x=d(90260),b=d(42092).find,P=x.aTypedArray,_=x.exportTypedArrayMethod;_("find",function(T){return b(P(this),T,arguments.length>1?arguments[1]:void 0)})},44197:function(at,R,d){var x=d(19843);x("Float32",function(b){return function(_,O,T){return b(this,_,O,T)}})},76495:function(at,R,d){var x=d(19843);x("Float64",function(b){return function(_,O,T){return b(this,_,O,T)}})},32846:function(at,R,d){"use strict";var x=d(90260),b=d(42092).forEach,P=x.aTypedArray,_=x.exportTypedArrayMethod;_("forEach",function(T){b(P(this),T,arguments.length>1?arguments[1]:void 0)})},98145:function(at,R,d){"use strict";var x=d(63832),b=d(90260).exportTypedArrayStaticMethod,P=d(97321);b("from",P,x)},44731:function(at,R,d){"use strict";var x=d(90260),b=d(41318).includes,P=x.aTypedArray,_=x.exportTypedArrayMethod;_("includes",function(T){return b(P(this),T,arguments.length>1?arguments[1]:void 0)})},77209:function(at,R,d){"use strict";var x=d(90260),b=d(41318).indexOf,P=x.aTypedArray,_=x.exportTypedArrayMethod;_("indexOf",function(T){return b(P(this),T,arguments.length>1?arguments[1]:void 0)})},35109:function(at,R,d){var x=d(19843);x("Int16",function(b){return function(_,O,T){return b(this,_,O,T)}})},65125:function(at,R,d){var x=d(19843);x("Int32",function(b){return function(_,O,T){return b(this,_,O,T)}})},87145:function(at,R,d){var x=d(19843);x("Int8",function(b){return function(_,O,T){return b(this,_,O,T)}})},96319:function(at,R,d){"use strict";var x=d(17854),b=d(47293),P=d(1702),_=d(90260),O=d(66992),T=d(5112),F=T("iterator"),M=x.Uint8Array,A=P(O.values),L=P(O.keys),I=P(O.entries),k=_.aTypedArray,B=_.exportTypedArrayMethod,z=M&&M.prototype,W=!b(function(){z[F].call([1])}),$=!!z&&z.values&&z[F]===z.values&&z.values.name==="values",K=function(){return A(k(this))};B("entries",function(){return I(k(this))},W),B("keys",function(){return L(k(this))},W),B("values",K,W||!$,{name:"values"}),B(F,K,W||!$,{name:"values"})},58867:function(at,R,d){"use strict";var x=d(90260),b=d(1702),P=x.aTypedArray,_=x.exportTypedArrayMethod,O=b([].join);_("join",function(F){return O(P(this),F)})},37789:function(at,R,d){"use strict";var x=d(90260),b=d(22104),P=d(86583),_=x.aTypedArray,O=x.exportTypedArrayMethod;O("lastIndexOf",function(F){var M=arguments.length;return b(P,_(this),M>1?[F,arguments[1]]:[F])})},33739:function(at,R,d){"use strict";var x=d(90260),b=d(42092).map,P=d(66304),_=x.aTypedArray,O=x.exportTypedArrayMethod;O("map",function(F){return b(_(this),F,arguments.length>1?arguments[1]:void 0,function(M,A){return new(P(M))(A)})})},95206:function(at,R,d){"use strict";var x=d(90260),b=d(63832),P=x.aTypedArrayConstructor,_=x.exportTypedArrayStaticMethod;_("of",function(){for(var T=0,F=arguments.length,M=new(P(this))(F);F>T;)M[T]=arguments[T++];return M},b)},14483:function(at,R,d){"use strict";var x=d(90260),b=d(53671).right,P=x.aTypedArray,_=x.exportTypedArrayMethod;_("reduceRight",function(T){var F=arguments.length;return b(P(this),T,F,F>1?arguments[1]:void 0)})},29368:function(at,R,d){"use strict";var x=d(90260),b=d(53671).left,P=x.aTypedArray,_=x.exportTypedArrayMethod;_("reduce",function(T){var F=arguments.length;return b(P(this),T,F,F>1?arguments[1]:void 0)})},12056:function(at,R,d){"use strict";var x=d(90260),b=x.aTypedArray,P=x.exportTypedArrayMethod,_=Math.floor;P("reverse",function(){for(var T=this,F=b(T).length,M=_(F/2),A=0,L;A<M;)L=T[A],T[A++]=T[--F],T[F]=L;return T})},3462:function(at,R,d){"use strict";var x=d(17854),b=d(46916),P=d(90260),_=d(26244),O=d(84590),T=d(47908),F=d(47293),M=x.RangeError,A=x.Int8Array,L=A&&A.prototype,I=L&&L.set,k=P.aTypedArray,B=P.exportTypedArrayMethod,z=!F(function(){var $=new Uint8ClampedArray(2);return b(I,$,{length:1,0:3},1),$[1]!==3}),W=z&&P.NATIVE_ARRAY_BUFFER_VIEWS&&F(function(){var $=new A(2);return $.set(1),$.set("2",1),$[0]!==0||$[1]!==2});B("set",function(K){k(this);var lt=O(arguments.length>1?arguments[1]:void 0,1),st=T(K);if(z)return b(I,this,st,lt);var yt=this.length,q=_(st),nt=0;if(q+lt>yt)throw M("Wrong length");for(;nt<q;)this[lt+nt]=st[nt++]},!z||W)},30678:function(at,R,d){"use strict";var x=d(90260),b=d(66304),P=d(47293),_=d(50206),O=x.aTypedArray,T=x.exportTypedArrayMethod,F=P(function(){new Int8Array(1).slice()});T("slice",function(A,L){for(var I=_(O(this),A,L),k=b(this),B=0,z=I.length,W=new k(z);z>B;)W[B]=I[B++];return W},F)},27462:function(at,R,d){"use strict";var x=d(90260),b=d(42092).some,P=x.aTypedArray,_=x.exportTypedArrayMethod;_("some",function(T){return b(P(this),T,arguments.length>1?arguments[1]:void 0)})},33824:function(at,R,d){"use strict";var x=d(17854),b=d(1702),P=d(47293),_=d(19662),O=d(94362),T=d(90260),F=d(68886),M=d(30256),A=d(7392),L=d(98008),I=x.Array,k=T.aTypedArray,B=T.exportTypedArrayMethod,z=x.Uint16Array,W=z&&b(z.prototype.sort),$=!!W&&!(P(function(){W(new z(2),null)})&&P(function(){W(new z(2),{})})),K=!!W&&!P(function(){if(A)return A<74;if(F)return F<67;if(M)return!0;if(L)return L<602;var st=new z(516),yt=I(516),q,nt;for(q=0;q<516;q++)nt=q%4,st[q]=515-q,yt[q]=q-2*nt+3;for(W(st,function(ct,bt){return(ct/4|0)-(bt/4|0)}),q=0;q<516;q++)if(st[q]!==yt[q])return!0}),lt=function(st){return function(yt,q){return st!==void 0?+st(yt,q)||0:q!==q?-1:yt!==yt?1:yt===0&&q===0?1/yt>0&&1/q<0?1:-1:yt>q}};B("sort",function(yt){return yt!==void 0&&_(yt),K?W(this,yt):O(k(this),lt(yt))},!K||$)},55021:function(at,R,d){"use strict";var x=d(90260),b=d(17466),P=d(51400),_=d(66304),O=x.aTypedArray,T=x.exportTypedArrayMethod;T("subarray",function(M,A){var L=O(this),I=L.length,k=P(M,I),B=_(L);return new B(L.buffer,L.byteOffset+k*L.BYTES_PER_ELEMENT,b((A===void 0?I:P(A,I))-k))})},12974:function(at,R,d){"use strict";var x=d(17854),b=d(22104),P=d(90260),_=d(47293),O=d(50206),T=x.Int8Array,F=P.aTypedArray,M=P.exportTypedArrayMethod,A=[].toLocaleString,L=!!T&&_(function(){A.call(new T(1))}),I=_(function(){return[1,2].toLocaleString()!=new T([1,2]).toLocaleString()})||!_(function(){T.prototype.toLocaleString.call([1,2])});M("toLocaleString",function(){return b(A,L?O(F(this)):F(this),O(arguments))},I)},15016:function(at,R,d){"use strict";var x=d(90260).exportTypedArrayMethod,b=d(47293),P=d(17854),_=d(1702),O=P.Uint8Array,T=O&&O.prototype||{},F=[].toString,M=_([].join);b(function(){F.call({})})&&(F=function(){return M(this)});var A=T.toString!=F;x("toString",F,A)},8255:function(at,R,d){var x=d(19843);x("Uint16",function(b){return function(_,O,T){return b(this,_,O,T)}})},29135:function(at,R,d){var x=d(19843);x("Uint32",function(b){return function(_,O,T){return b(this,_,O,T)}})},82472:function(at,R,d){var x=d(19843);x("Uint8",function(b){return function(_,O,T){return b(this,_,O,T)}})},49743:function(at,R,d){var x=d(19843);x("Uint8",function(b){return function(_,O,T){return b(this,_,O,T)}},!0)},4129:function(at,R,d){"use strict";var x=d(17854),b=d(1702),P=d(12248),_=d(62423),O=d(77710),T=d(29320),F=d(70111),M=d(52050),A=d(29909).enforce,L=d(68536),I=!x.ActiveXObject&&"ActiveXObject"in x,k,B=function(yt){return function(){return yt(this,arguments.length?arguments[0]:void 0)}},z=O("WeakMap",B,T);if(L&&I){k=T.getConstructor(B,"WeakMap",!0),_.enable();var W=z.prototype,$=b(W.delete),K=b(W.has),lt=b(W.get),st=b(W.set);P(W,{delete:function(yt){if(F(yt)&&!M(yt)){var q=A(this);return q.frozen||(q.frozen=new k),$(this,yt)||q.frozen.delete(yt)}return $(this,yt)},has:function(q){if(F(q)&&!M(q)){var nt=A(this);return nt.frozen||(nt.frozen=new k),K(this,q)||nt.frozen.has(q)}return K(this,q)},get:function(q){if(F(q)&&!M(q)){var nt=A(this);return nt.frozen||(nt.frozen=new k),K(this,q)?lt(this,q):nt.frozen.get(q)}return lt(this,q)},set:function(q,nt){if(F(q)&&!M(q)){var ct=A(this);ct.frozen||(ct.frozen=new k),K(this,q)?st(this,q,nt):ct.frozen.set(q,nt)}else st(this,q,nt);return this}})}},38478:function(at,R,d){"use strict";var x=d(77710),b=d(29320);x("WeakSet",function(P){return function(){return P(this,arguments.length?arguments[0]:void 0)}},b)},54747:function(at,R,d){var x=d(17854),b=d(48324),P=d(98509),_=d(18533),O=d(68880),T=function(M){if(M&&M.forEach!==_)try{O(M,"forEach",_)}catch(A){M.forEach=_}};for(var F in b)b[F]&&T(x[F]&&x[F].prototype);T(P)},33948:function(at,R,d){var x=d(17854),b=d(48324),P=d(98509),_=d(66992),O=d(68880),T=d(5112),F=T("iterator"),M=T("toStringTag"),A=_.values,L=function(k,B){if(k){if(k[F]!==A)try{O(k,F,A)}catch(W){k[F]=A}if(k[M]||O(k,M,B),b[B]){for(var z in _)if(k[z]!==_[z])try{O(k,z,_[z])}catch(W){k[z]=_[z]}}}};for(var I in b)L(x[I]&&x[I].prototype,I);L(P,"DOMTokenList")},84633:function(at,R,d){var x=d(82109),b=d(17854),P=d(20261),_=!b.setImmediate||!b.clearImmediate;x({global:!0,bind:!0,enumerable:!0,forced:_},{setImmediate:P.set,clearImmediate:P.clear})},85844:function(at,R,d){var x=d(82109),b=d(17854),P=d(95948),_=d(19662),O=d(48053),T=d(35268),F=b.process;x({global:!0,enumerable:!0,noTargetGet:!0},{queueMicrotask:function(A){O(arguments.length,1),_(A);var L=T&&F.domain;P(L?L.bind(A):A)}})},32564:function(at,R,d){var x=d(82109),b=d(17854),P=d(22104),_=d(60614),O=d(88113),T=d(50206),F=d(48053),M=/MSIE .\./.test(O),A=b.Function,L=function(I){return function(k,B){var z=F(arguments.length,1)>2,W=_(k)?k:A(k),$=z?T(arguments,2):void 0;return I(z?function(){P(W,this,$)}:W,B)}};x({global:!0,bind:!0,forced:M},{setTimeout:L(b.setTimeout),setInterval:L(b.setInterval)})},41637:function(at,R,d){"use strict";d(66992);var x=d(82109),b=d(17854),P=d(35005),_=d(46916),O=d(1702),T=d(590),F=d(31320),M=d(12248),A=d(58003),L=d(24994),I=d(29909),k=d(25787),B=d(60614),z=d(92597),W=d(49974),$=d(70648),K=d(19670),lt=d(70111),st=d(41340),yt=d(70030),q=d(79114),nt=d(18554),ct=d(71246),bt=d(48053),_t=d(5112),St=d(94362),At=_t("iterator"),vt="URLSearchParams",dt=vt+"Iterator",gt=I.set,Ct=I.getterFor(vt),Et=I.getterFor(dt),Tt=P("fetch"),ot=P("Request"),Mt=P("Headers"),Wt=ot&&ot.prototype,jt=Mt&&Mt.prototype,qt=b.RegExp,se=b.TypeError,ae=b.decodeURIComponent,he=b.encodeURIComponent,ke=O("".charAt),Le=O([].join),rr=O([].push),Ee=O("".replace),ge=O([].shift),we=O([].splice),Ce=O("".split),ye=O("".slice),Gt=/\+/g,Xt=Array(4),Kt=function(hn){return Xt[hn-1]||(Xt[hn-1]=qt("((?:%[\\da-f]{2}){"+hn+"})","gi"))},ze=function(hn){try{return ae(hn)}catch(Gn){return hn}},ur=function(hn){var Gn=Ee(hn,Gt," "),En=4;try{return ae(Gn)}catch(In){for(;En;)Gn=Ee(Gn,Kt(En--),ze);return Gn}},tr=/[!'()~]|%20/g,re={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},Qr=function(hn){return re[hn]},Ir=function(hn){return Ee(he(hn),tr,Qr)},gn=L(function(Gn,En){gt(this,{type:dt,iterator:nt(Ct(Gn).entries),kind:En})},"Iterator",function(){var Gn=Et(this),En=Gn.kind,In=Gn.iterator.next(),Fn=In.value;return In.done||(In.value=En==="keys"?Fn.key:En==="values"?Fn.value:[Fn.key,Fn.value]),In},!0),Wn=function(hn){this.entries=[],this.url=null,hn!==void 0&&(lt(hn)?this.parseObject(hn):this.parseQuery(typeof hn=="string"?ke(hn,0)==="?"?ye(hn,1):hn:st(hn)))};Wn.prototype={type:vt,bindURL:function(hn){this.url=hn,this.update()},parseObject:function(hn){var Gn=ct(hn),En,In,Fn,xe,Ge,Je,br;if(Gn)for(En=nt(hn,Gn),In=En.next;!(Fn=_(In,En)).done;){if(xe=nt(K(Fn.value)),Ge=xe.next,(Je=_(Ge,xe)).done||(br=_(Ge,xe)).done||!_(Ge,xe).done)throw se("Expected sequence with length 2");rr(this.entries,{key:st(Je.value),value:st(br.value)})}else for(var jr in hn)z(hn,jr)&&rr(this.entries,{key:jr,value:st(hn[jr])})},parseQuery:function(hn){if(hn)for(var Gn=Ce(hn,"&"),En=0,In,Fn;En<Gn.length;)In=Gn[En++],In.length&&(Fn=Ce(In,"="),rr(this.entries,{key:ur(ge(Fn)),value:ur(Le(Fn,"="))}))},serialize:function(){for(var hn=this.entries,Gn=[],En=0,In;En<hn.length;)In=hn[En++],rr(Gn,Ir(In.key)+"="+Ir(In.value));return Le(Gn,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var ui=function(){k(this,bi);var Gn=arguments.length>0?arguments[0]:void 0;gt(this,new Wn(Gn))},bi=ui.prototype;if(M(bi,{append:function(Gn,En){bt(arguments.length,2);var In=Ct(this);rr(In.entries,{key:st(Gn),value:st(En)}),In.updateURL()},delete:function(hn){bt(arguments.length,1);for(var Gn=Ct(this),En=Gn.entries,In=st(hn),Fn=0;Fn<En.length;)En[Fn].key===In?we(En,Fn,1):Fn++;Gn.updateURL()},get:function(Gn){bt(arguments.length,1);for(var En=Ct(this).entries,In=st(Gn),Fn=0;Fn<En.length;Fn++)if(En[Fn].key===In)return En[Fn].value;return null},getAll:function(Gn){bt(arguments.length,1);for(var En=Ct(this).entries,In=st(Gn),Fn=[],xe=0;xe<En.length;xe++)En[xe].key===In&&rr(Fn,En[xe].value);return Fn},has:function(Gn){bt(arguments.length,1);for(var En=Ct(this).entries,In=st(Gn),Fn=0;Fn<En.length;)if(En[Fn++].key===In)return!0;return!1},set:function(Gn,En){bt(arguments.length,1);for(var In=Ct(this),Fn=In.entries,xe=!1,Ge=st(Gn),Je=st(En),br=0,jr;br<Fn.length;br++)jr=Fn[br],jr.key===Ge&&(xe?we(Fn,br--,1):(xe=!0,jr.value=Je));xe||rr(Fn,{key:Ge,value:Je}),In.updateURL()},sort:function(){var Gn=Ct(this);St(Gn.entries,function(En,In){return En.key>In.key?1:-1}),Gn.updateURL()},forEach:function(Gn){for(var En=Ct(this).entries,In=W(Gn,arguments.length>1?arguments[1]:void 0),Fn=0,xe;Fn<En.length;)xe=En[Fn++],In(xe.value,xe.key,this)},keys:function(){return new gn(this,"keys")},values:function(){return new gn(this,"values")},entries:function(){return new gn(this,"entries")}},{enumerable:!0}),F(bi,At,bi.entries,{name:"entries"}),F(bi,"toString",function(){return Ct(this).serialize()},{enumerable:!0}),A(ui,vt),x({global:!0,forced:!T},{URLSearchParams:ui}),!T&&B(Mt)){var fr=O(jt.has),Zr=O(jt.set),Sn=function(hn){if(lt(hn)){var Gn=hn.body,En;if($(Gn)===vt)return En=hn.headers?new Mt(hn.headers):new Mt,fr(En,"content-type")||Zr(En,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),yt(hn,{body:q(0,st(Gn)),headers:q(0,En)})}return hn};if(B(Tt)&&x({global:!0,enumerable:!0,forced:!0},{fetch:function(Gn){return Tt(Gn,arguments.length>1?Sn(arguments[1]):{})}}),B(ot)){var Dn=function(Gn){return k(this,Wt),new ot(Gn,arguments.length>1?Sn(arguments[1]):{})};Wt.constructor=Dn,Dn.prototype=Wt,x({global:!0,forced:!0},{Request:Dn})}}at.exports={URLSearchParams:ui,getState:Ct}},60285:function(at,R,d){"use strict";d(78783);var x=d(82109),b=d(19781),P=d(590),_=d(17854),O=d(49974),T=d(1702),F=d(36048).f,M=d(31320),A=d(25787),L=d(92597),I=d(21574),k=d(48457),B=d(41589),z=d(28710).codeAt,W=d(33197),$=d(41340),K=d(58003),lt=d(48053),st=d(41637),yt=d(29909),q=yt.set,nt=yt.getterFor("URL"),ct=st.URLSearchParams,bt=st.getState,_t=_.URL,St=_.TypeError,At=_.parseInt,vt=Math.floor,dt=Math.pow,gt=T("".charAt),Ct=T(/./.exec),Et=T([].join),Tt=T(1 .toString),ot=T([].pop),Mt=T([].push),Wt=T("".replace),jt=T([].shift),qt=T("".split),se=T("".slice),ae=T("".toLowerCase),he=T([].unshift),ke="Invalid authority",Le="Invalid scheme",rr="Invalid host",Ee="Invalid port",ge=/[a-z]/i,we=/[\d+-.a-z]/i,Ce=/\d/,ye=/^0x/i,Gt=/^[0-7]+$/,Xt=/^\d+$/,Kt=/^[\da-f]+$/i,ze=/[\0\t\n\r #%/:<>?@[\\\]^|]/,ur=/[\0\t\n\r #/:<>?@[\\\]^|]/,tr=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,re=/[\t\n\r]/g,Qr,Ir=function(Or){var wn=qt(Or,"."),Cr,xr,_n,Mi,or,Bn,ti;if(wn.length&&wn[wn.length-1]==""&&wn.length--,Cr=wn.length,Cr>4)return Or;for(xr=[],_n=0;_n<Cr;_n++){if(Mi=wn[_n],Mi=="")return Or;if(or=10,Mi.length>1&&gt(Mi,0)=="0"&&(or=Ct(ye,Mi)?16:8,Mi=se(Mi,or==8?1:2)),Mi==="")Bn=0;else{if(!Ct(or==10?Xt:or==8?Gt:Kt,Mi))return Or;Bn=At(Mi,or)}Mt(xr,Bn)}for(_n=0;_n<Cr;_n++)if(Bn=xr[_n],_n==Cr-1){if(Bn>=dt(256,5-Cr))return null}else if(Bn>255)return null;for(ti=ot(xr),_n=0;_n<xr.length;_n++)ti+=xr[_n]*dt(256,3-_n);return ti},gn=function(Or){var wn=[0,0,0,0,0,0,0,0],Cr=0,xr=null,_n=0,Mi,or,Bn,ti,Vn,qi,Rn,fa=function(){return gt(Or,_n)};if(fa()==":"){if(gt(Or,1)!=":")return;_n+=2,Cr++,xr=Cr}for(;fa();){if(Cr==8)return;if(fa()==":"){if(xr!==null)return;_n++,Cr++,xr=Cr;continue}for(Mi=or=0;or<4&&Ct(Kt,fa());)Mi=Mi*16+At(fa(),16),_n++,or++;if(fa()=="."){if(or==0||(_n-=or,Cr>6))return;for(Bn=0;fa();){if(ti=null,Bn>0)if(fa()=="."&&Bn<4)_n++;else return;if(!Ct(Ce,fa()))return;for(;Ct(Ce,fa());){if(Vn=At(fa(),10),ti===null)ti=Vn;else{if(ti==0)return;ti=ti*10+Vn}if(ti>255)return;_n++}wn[Cr]=wn[Cr]*256+ti,Bn++,(Bn==2||Bn==4)&&Cr++}if(Bn!=4)return;break}else if(fa()==":"){if(_n++,!fa())return}else if(fa())return;wn[Cr++]=Mi}if(xr!==null)for(qi=Cr-xr,Cr=7;Cr!=0&&qi>0;)Rn=wn[Cr],wn[Cr--]=wn[xr+qi-1],wn[xr+--qi]=Rn;else if(Cr!=8)return;return wn},Wn=function(Or){for(var wn=null,Cr=1,xr=null,_n=0,Mi=0;Mi<8;Mi++)Or[Mi]!==0?(_n>Cr&&(wn=xr,Cr=_n),xr=null,_n=0):(xr===null&&(xr=Mi),++_n);return _n>Cr&&(wn=xr,Cr=_n),wn},ui=function(Or){var wn,Cr,xr,_n;if(typeof Or=="number"){for(wn=[],Cr=0;Cr<4;Cr++)he(wn,Or%256),Or=vt(Or/256);return Et(wn,".")}else if(typeof Or=="object"){for(wn="",xr=Wn(Or),Cr=0;Cr<8;Cr++)_n&&Or[Cr]===0||(_n&&(_n=!1),xr===Cr?(wn+=Cr?":":"::",_n=!0):(wn+=Tt(Or[Cr],16),Cr<7&&(wn+=":")));return"["+wn+"]"}return Or},bi={},fr=I({},bi,{" ":1,'"':1,"<":1,">":1,"`":1}),Zr=I({},fr,{"#":1,"?":1,"{":1,"}":1}),Sn=I({},Zr,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Dn=function(Or,wn){var Cr=z(Or,0);return Cr>32&&Cr<127&&!L(wn,Or)?Or:encodeURIComponent(Or)},hn={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Gn=function(Or,wn){var Cr;return Or.length==2&&Ct(ge,gt(Or,0))&&((Cr=gt(Or,1))==":"||!wn&&Cr=="|")},En=function(Or){var wn;return Or.length>1&&Gn(se(Or,0,2))&&(Or.length==2||(wn=gt(Or,2))==="/"||wn==="\\"||wn==="?"||wn==="#")},In=function(Or){return Or==="."||ae(Or)==="%2e"},Fn=function(Or){return Or=ae(Or),Or===".."||Or==="%2e."||Or===".%2e"||Or==="%2e%2e"},xe={},Ge={},Je={},br={},jr={},Wr={},Ut={},ft={},pt={},J={},xt={},Rt={},ue={},ie={},be={},ce={},We={},Ne={},Mr={},sn={},hr={},cn=function(Or,wn,Cr){var xr=$(Or),_n,Mi,or;if(wn){if(Mi=this.parse(xr),Mi)throw St(Mi);this.searchParams=null}else{if(Cr!==void 0&&(_n=new cn(Cr,!0)),Mi=this.parse(xr,null,_n),Mi)throw St(Mi);or=bt(new ct),or.bindURL(this),this.searchParams=or}};cn.prototype={type:"URL",parse:function(Or,wn,Cr){var xr=this,_n=wn||xe,Mi=0,or="",Bn=!1,ti=!1,Vn=!1,qi,Rn,fa,Ci;for(Or=$(Or),wn||(xr.scheme="",xr.username="",xr.password="",xr.host=null,xr.port=null,xr.path=[],xr.query=null,xr.fragment=null,xr.cannotBeABaseURL=!1,Or=Wt(Or,tr,"")),Or=Wt(Or,re,""),qi=k(Or);Mi<=qi.length;){switch(Rn=qi[Mi],_n){case xe:if(Rn&&Ct(ge,Rn))or+=ae(Rn),_n=Ge;else{if(wn)return Le;_n=Je;continue}break;case Ge:if(Rn&&(Ct(we,Rn)||Rn=="+"||Rn=="-"||Rn=="."))or+=ae(Rn);else if(Rn==":"){if(wn&&(xr.isSpecial()!=L(hn,or)||or=="file"&&(xr.includesCredentials()||xr.port!==null)||xr.scheme=="file"&&!xr.host))return;if(xr.scheme=or,wn){xr.isSpecial()&&hn[xr.scheme]==xr.port&&(xr.port=null);return}or="",xr.scheme=="file"?_n=ie:xr.isSpecial()&&Cr&&Cr.scheme==xr.scheme?_n=br:xr.isSpecial()?_n=ft:qi[Mi+1]=="/"?(_n=jr,Mi++):(xr.cannotBeABaseURL=!0,Mt(xr.path,""),_n=Mr)}else{if(wn)return Le;or="",_n=Je,Mi=0;continue}break;case Je:if(!Cr||Cr.cannotBeABaseURL&&Rn!="#")return Le;if(Cr.cannotBeABaseURL&&Rn=="#"){xr.scheme=Cr.scheme,xr.path=B(Cr.path),xr.query=Cr.query,xr.fragment="",xr.cannotBeABaseURL=!0,_n=hr;break}_n=Cr.scheme=="file"?ie:Wr;continue;case br:if(Rn=="/"&&qi[Mi+1]=="/")_n=pt,Mi++;else{_n=Wr;continue}break;case jr:if(Rn=="/"){_n=J;break}else{_n=Ne;continue}case Wr:if(xr.scheme=Cr.scheme,Rn==Qr)xr.username=Cr.username,xr.password=Cr.password,xr.host=Cr.host,xr.port=Cr.port,xr.path=B(Cr.path),xr.query=Cr.query;else if(Rn=="/"||Rn=="\\"&&xr.isSpecial())_n=Ut;else if(Rn=="?")xr.username=Cr.username,xr.password=Cr.password,xr.host=Cr.host,xr.port=Cr.port,xr.path=B(Cr.path),xr.query="",_n=sn;else if(Rn=="#")xr.username=Cr.username,xr.password=Cr.password,xr.host=Cr.host,xr.port=Cr.port,xr.path=B(Cr.path),xr.query=Cr.query,xr.fragment="",_n=hr;else{xr.username=Cr.username,xr.password=Cr.password,xr.host=Cr.host,xr.port=Cr.port,xr.path=B(Cr.path),xr.path.length--,_n=Ne;continue}break;case Ut:if(xr.isSpecial()&&(Rn=="/"||Rn=="\\"))_n=pt;else if(Rn=="/")_n=J;else{xr.username=Cr.username,xr.password=Cr.password,xr.host=Cr.host,xr.port=Cr.port,_n=Ne;continue}break;case ft:if(_n=pt,Rn!="/"||gt(or,Mi+1)!="/")continue;Mi++;break;case pt:if(Rn!="/"&&Rn!="\\"){_n=J;continue}break;case J:if(Rn=="@"){Bn&&(or="%40"+or),Bn=!0,fa=k(or);for(var ga=0;ga<fa.length;ga++){var da=fa[ga];if(da==":"&&!Vn){Vn=!0;continue}var zo=Dn(da,Sn);Vn?xr.password+=zo:xr.username+=zo}or=""}else if(Rn==Qr||Rn=="/"||Rn=="?"||Rn=="#"||Rn=="\\"&&xr.isSpecial()){if(Bn&&or=="")return ke;Mi-=k(or).length+1,or="",_n=xt}else or+=Rn;break;case xt:case Rt:if(wn&&xr.scheme=="file"){_n=ce;continue}else if(Rn==":"&&!ti){if(or=="")return rr;if(Ci=xr.parseHost(or),Ci)return Ci;if(or="",_n=ue,wn==Rt)return}else if(Rn==Qr||Rn=="/"||Rn=="?"||Rn=="#"||Rn=="\\"&&xr.isSpecial()){if(xr.isSpecial()&&or=="")return rr;if(wn&&or==""&&(xr.includesCredentials()||xr.port!==null))return;if(Ci=xr.parseHost(or),Ci)return Ci;if(or="",_n=We,wn)return;continue}else Rn=="["?ti=!0:Rn=="]"&&(ti=!1),or+=Rn;break;case ue:if(Ct(Ce,Rn))or+=Rn;else if(Rn==Qr||Rn=="/"||Rn=="?"||Rn=="#"||Rn=="\\"&&xr.isSpecial()||wn){if(or!=""){var Po=At(or,10);if(Po>65535)return Ee;xr.port=xr.isSpecial()&&Po===hn[xr.scheme]?null:Po,or=""}if(wn)return;_n=We;continue}else return Ee;break;case ie:if(xr.scheme="file",Rn=="/"||Rn=="\\")_n=be;else if(Cr&&Cr.scheme=="file")if(Rn==Qr)xr.host=Cr.host,xr.path=B(Cr.path),xr.query=Cr.query;else if(Rn=="?")xr.host=Cr.host,xr.path=B(Cr.path),xr.query="",_n=sn;else if(Rn=="#")xr.host=Cr.host,xr.path=B(Cr.path),xr.query=Cr.query,xr.fragment="",_n=hr;else{En(Et(B(qi,Mi),""))||(xr.host=Cr.host,xr.path=B(Cr.path),xr.shortenPath()),_n=Ne;continue}else{_n=Ne;continue}break;case be:if(Rn=="/"||Rn=="\\"){_n=ce;break}Cr&&Cr.scheme=="file"&&!En(Et(B(qi,Mi),""))&&(Gn(Cr.path[0],!0)?Mt(xr.path,Cr.path[0]):xr.host=Cr.host),_n=Ne;continue;case ce:if(Rn==Qr||Rn=="/"||Rn=="\\"||Rn=="?"||Rn=="#"){if(!wn&&Gn(or))_n=Ne;else if(or==""){if(xr.host="",wn)return;_n=We}else{if(Ci=xr.parseHost(or),Ci)return Ci;if(xr.host=="localhost"&&(xr.host=""),wn)return;or="",_n=We}continue}else or+=Rn;break;case We:if(xr.isSpecial()){if(_n=Ne,Rn!="/"&&Rn!="\\")continue}else if(!wn&&Rn=="?")xr.query="",_n=sn;else if(!wn&&Rn=="#")xr.fragment="",_n=hr;else if(Rn!=Qr&&(_n=Ne,Rn!="/"))continue;break;case Ne:if(Rn==Qr||Rn=="/"||Rn=="\\"&&xr.isSpecial()||!wn&&(Rn=="?"||Rn=="#")){if(Fn(or)?(xr.shortenPath(),Rn!="/"&&!(Rn=="\\"&&xr.isSpecial())&&Mt(xr.path,"")):In(or)?Rn!="/"&&!(Rn=="\\"&&xr.isSpecial())&&Mt(xr.path,""):(xr.scheme=="file"&&!xr.path.length&&Gn(or)&&(xr.host&&(xr.host=""),or=gt(or,0)+":"),Mt(xr.path,or)),or="",xr.scheme=="file"&&(Rn==Qr||Rn=="?"||Rn=="#"))for(;xr.path.length>1&&xr.path[0]==="";)jt(xr.path);Rn=="?"?(xr.query="",_n=sn):Rn=="#"&&(xr.fragment="",_n=hr)}else or+=Dn(Rn,Zr);break;case Mr:Rn=="?"?(xr.query="",_n=sn):Rn=="#"?(xr.fragment="",_n=hr):Rn!=Qr&&(xr.path[0]+=Dn(Rn,bi));break;case sn:!wn&&Rn=="#"?(xr.fragment="",_n=hr):Rn!=Qr&&(Rn=="'"&&xr.isSpecial()?xr.query+="%27":Rn=="#"?xr.query+="%23":xr.query+=Dn(Rn,bi));break;case hr:Rn!=Qr&&(xr.fragment+=Dn(Rn,fr));break}Mi++}},parseHost:function(Or){var wn,Cr,xr;if(gt(Or,0)=="["){if(gt(Or,Or.length-1)!="]"||(wn=gn(se(Or,1,-1)),!wn))return rr;this.host=wn}else if(this.isSpecial()){if(Or=W(Or),Ct(ze,Or)||(wn=Ir(Or),wn===null))return rr;this.host=wn}else{if(Ct(ur,Or))return rr;for(wn="",Cr=k(Or),xr=0;xr<Cr.length;xr++)wn+=Dn(Cr[xr],bi);this.host=wn}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||this.scheme=="file"},includesCredentials:function(){return this.username!=""||this.password!=""},isSpecial:function(){return L(hn,this.scheme)},shortenPath:function(){var Or=this.path,wn=Or.length;wn&&(this.scheme!="file"||wn!=1||!Gn(Or[0],!0))&&Or.length--},serialize:function(){var Or=this,wn=Or.scheme,Cr=Or.username,xr=Or.password,_n=Or.host,Mi=Or.port,or=Or.path,Bn=Or.query,ti=Or.fragment,Vn=wn+":";return _n!==null?(Vn+="//",Or.includesCredentials()&&(Vn+=Cr+(xr?":"+xr:"")+"@"),Vn+=ui(_n),Mi!==null&&(Vn+=":"+Mi)):wn=="file"&&(Vn+="//"),Vn+=Or.cannotBeABaseURL?or[0]:or.length?"/"+Et(or,"/"):"",Bn!==null&&(Vn+="?"+Bn),ti!==null&&(Vn+="#"+ti),Vn},setHref:function(Or){var wn=this.parse(Or);if(wn)throw St(wn);this.searchParams.update()},getOrigin:function(){var Or=this.scheme,wn=this.port;if(Or=="blob")try{return new kn(Or.path[0]).origin}catch(Cr){return"null"}return Or=="file"||!this.isSpecial()?"null":Or+"://"+ui(this.host)+(wn!==null?":"+wn:"")},getProtocol:function(){return this.scheme+":"},setProtocol:function(Or){this.parse($(Or)+":",xe)},getUsername:function(){return this.username},setUsername:function(Or){var wn=k($(Or));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var Cr=0;Cr<wn.length;Cr++)this.username+=Dn(wn[Cr],Sn)}},getPassword:function(){return this.password},setPassword:function(Or){var wn=k($(Or));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var Cr=0;Cr<wn.length;Cr++)this.password+=Dn(wn[Cr],Sn)}},getHost:function(){var Or=this.host,wn=this.port;return Or===null?"":wn===null?ui(Or):ui(Or)+":"+wn},setHost:function(Or){this.cannotBeABaseURL||this.parse(Or,xt)},getHostname:function(){var Or=this.host;return Or===null?"":ui(Or)},setHostname:function(Or){this.cannotBeABaseURL||this.parse(Or,Rt)},getPort:function(){var Or=this.port;return Or===null?"":$(Or)},setPort:function(Or){this.cannotHaveUsernamePasswordPort()||(Or=$(Or),Or==""?this.port=null:this.parse(Or,ue))},getPathname:function(){var Or=this.path;return this.cannotBeABaseURL?Or[0]:Or.length?"/"+Et(Or,"/"):""},setPathname:function(Or){this.cannotBeABaseURL||(this.path=[],this.parse(Or,We))},getSearch:function(){var Or=this.query;return Or?"?"+Or:""},setSearch:function(Or){Or=$(Or),Or==""?this.query=null:(gt(Or,0)=="?"&&(Or=se(Or,1)),this.query="",this.parse(Or,sn)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var Or=this.fragment;return Or?"#"+Or:""},setHash:function(Or){if(Or=$(Or),Or==""){this.fragment=null;return}gt(Or,0)=="#"&&(Or=se(Or,1)),this.fragment="",this.parse(Or,hr)},update:function(){this.query=this.searchParams.serialize()||null}};var kn=function(wn){var Cr=A(this,me),xr=lt(arguments.length,1)>1?arguments[1]:void 0,_n=q(Cr,new cn(wn,!1,xr));b||(Cr.href=_n.serialize(),Cr.origin=_n.getOrigin(),Cr.protocol=_n.getProtocol(),Cr.username=_n.getUsername(),Cr.password=_n.getPassword(),Cr.host=_n.getHost(),Cr.hostname=_n.getHostname(),Cr.port=_n.getPort(),Cr.pathname=_n.getPathname(),Cr.search=_n.getSearch(),Cr.searchParams=_n.getSearchParams(),Cr.hash=_n.getHash())},me=kn.prototype,Tn=function(Or,wn){return{get:function(){return nt(this)[Or]()},set:wn&&function(Cr){return nt(this)[wn](Cr)},configurable:!0,enumerable:!0}};if(b&&F(me,{href:Tn("serialize","setHref"),origin:Tn("getOrigin"),protocol:Tn("getProtocol","setProtocol"),username:Tn("getUsername","setUsername"),password:Tn("getPassword","setPassword"),host:Tn("getHost","setHost"),hostname:Tn("getHostname","setHostname"),port:Tn("getPort","setPort"),pathname:Tn("getPathname","setPathname"),search:Tn("getSearch","setSearch"),searchParams:Tn("getSearchParams"),hash:Tn("getHash","setHash")}),M(me,"toJSON",function(){return nt(this).serialize()},{enumerable:!0}),M(me,"toString",function(){return nt(this).serialize()},{enumerable:!0}),_t){var Zn=_t.createObjectURL,Kn=_t.revokeObjectURL;Zn&&M(kn,"createObjectURL",O(Zn,_t)),Kn&&M(kn,"revokeObjectURL",O(Kn,_t))}K(kn,"URL"),x({global:!0,forced:!P,sham:!b},{URL:kn})},83753:function(at,R,d){"use strict";var x=d(82109),b=d(46916);x({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return b(URL.prototype.toString,this)}})},19201:function(at,R,d){"use strict";d.r(R),d.d(R,{forceCenter:function(){return x},forceCollide:function(){return vt},forceLink:function(){return Ct},forceManyBody:function(){return Gn},forceRadial:function(){return En},forceSimulation:function(){return hn},forceX:function(){return In},forceY:function(){return Fn}});function x(xe,Ge){var Je,br=1;xe==null&&(xe=0),Ge==null&&(Ge=0);function jr(){var Wr,Ut=Je.length,ft,pt=0,J=0;for(Wr=0;Wr<Ut;++Wr)ft=Je[Wr],pt+=ft.x,J+=ft.y;for(pt=(pt/Ut-xe)*br,J=(J/Ut-Ge)*br,Wr=0;Wr<Ut;++Wr)ft=Je[Wr],ft.x-=pt,ft.y-=J}return jr.initialize=function(Wr){Je=Wr},jr.x=function(Wr){return arguments.length?(xe=+Wr,jr):xe},jr.y=function(Wr){return arguments.length?(Ge=+Wr,jr):Ge},jr.strength=function(Wr){return arguments.length?(br=+Wr,jr):br},jr}function b(xe){const Ge=+this._x.call(null,xe),Je=+this._y.call(null,xe);return P(this.cover(Ge,Je),Ge,Je,xe)}function P(xe,Ge,Je,br){if(isNaN(Ge)||isNaN(Je))return xe;var jr,Wr=xe._root,Ut={data:br},ft=xe._x0,pt=xe._y0,J=xe._x1,xt=xe._y1,Rt,ue,ie,be,ce,We,Ne,Mr;if(!Wr)return xe._root=Ut,xe;for(;Wr.length;)if((ce=Ge>=(Rt=(ft+J)/2))?ft=Rt:J=Rt,(We=Je>=(ue=(pt+xt)/2))?pt=ue:xt=ue,jr=Wr,!(Wr=Wr[Ne=We<<1|ce]))return jr[Ne]=Ut,xe;if(ie=+xe._x.call(null,Wr.data),be=+xe._y.call(null,Wr.data),Ge===ie&&Je===be)return Ut.next=Wr,jr?jr[Ne]=Ut:xe._root=Ut,xe;do jr=jr?jr[Ne]=new Array(4):xe._root=new Array(4),(ce=Ge>=(Rt=(ft+J)/2))?ft=Rt:J=Rt,(We=Je>=(ue=(pt+xt)/2))?pt=ue:xt=ue;while((Ne=We<<1|ce)===(Mr=(be>=ue)<<1|ie>=Rt));return jr[Mr]=Wr,jr[Ne]=Ut,xe}function _(xe){var Ge,Je,br=xe.length,jr,Wr,Ut=new Array(br),ft=new Array(br),pt=1/0,J=1/0,xt=-1/0,Rt=-1/0;for(Je=0;Je<br;++Je)isNaN(jr=+this._x.call(null,Ge=xe[Je]))||isNaN(Wr=+this._y.call(null,Ge))||(Ut[Je]=jr,ft[Je]=Wr,jr<pt&&(pt=jr),jr>xt&&(xt=jr),Wr<J&&(J=Wr),Wr>Rt&&(Rt=Wr));if(pt>xt||J>Rt)return this;for(this.cover(pt,J).cover(xt,Rt),Je=0;Je<br;++Je)P(this,Ut[Je],ft[Je],xe[Je]);return this}function O(xe,Ge){if(isNaN(xe=+xe)||isNaN(Ge=+Ge))return this;var Je=this._x0,br=this._y0,jr=this._x1,Wr=this._y1;if(isNaN(Je))jr=(Je=Math.floor(xe))+1,Wr=(br=Math.floor(Ge))+1;else{for(var Ut=jr-Je||1,ft=this._root,pt,J;Je>xe||xe>=jr||br>Ge||Ge>=Wr;)switch(J=(Ge<br)<<1|xe<Je,pt=new Array(4),pt[J]=ft,ft=pt,Ut*=2,J){case 0:jr=Je+Ut,Wr=br+Ut;break;case 1:Je=jr-Ut,Wr=br+Ut;break;case 2:jr=Je+Ut,br=Wr-Ut;break;case 3:Je=jr-Ut,br=Wr-Ut;break}this._root&&this._root.length&&(this._root=ft)}return this._x0=Je,this._y0=br,this._x1=jr,this._y1=Wr,this}function T(){var xe=[];return this.visit(function(Ge){if(!Ge.length)do xe.push(Ge.data);while(Ge=Ge.next)}),xe}function F(xe){return arguments.length?this.cover(+xe[0][0],+xe[0][1]).cover(+xe[1][0],+xe[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function M(xe,Ge,Je,br,jr){this.node=xe,this.x0=Ge,this.y0=Je,this.x1=br,this.y1=jr}function A(xe,Ge,Je){var br,jr=this._x0,Wr=this._y0,Ut,ft,pt,J,xt=this._x1,Rt=this._y1,ue=[],ie=this._root,be,ce;for(ie&&ue.push(new M(ie,jr,Wr,xt,Rt)),Je==null?Je=1/0:(jr=xe-Je,Wr=Ge-Je,xt=xe+Je,Rt=Ge+Je,Je*=Je);be=ue.pop();)if(!(!(ie=be.node)||(Ut=be.x0)>xt||(ft=be.y0)>Rt||(pt=be.x1)<jr||(J=be.y1)<Wr))if(ie.length){var We=(Ut+pt)/2,Ne=(ft+J)/2;ue.push(new M(ie[3],We,Ne,pt,J),new M(ie[2],Ut,Ne,We,J),new M(ie[1],We,ft,pt,Ne),new M(ie[0],Ut,ft,We,Ne)),(ce=(Ge>=Ne)<<1|xe>=We)&&(be=ue[ue.length-1],ue[ue.length-1]=ue[ue.length-1-ce],ue[ue.length-1-ce]=be)}else{var Mr=xe-+this._x.call(null,ie.data),sn=Ge-+this._y.call(null,ie.data),hr=Mr*Mr+sn*sn;if(hr<Je){var cn=Math.sqrt(Je=hr);jr=xe-cn,Wr=Ge-cn,xt=xe+cn,Rt=Ge+cn,br=ie.data}}return br}function L(xe){if(isNaN(xt=+this._x.call(null,xe))||isNaN(Rt=+this._y.call(null,xe)))return this;var Ge,Je=this._root,br,jr,Wr,Ut=this._x0,ft=this._y0,pt=this._x1,J=this._y1,xt,Rt,ue,ie,be,ce,We,Ne;if(!Je)return this;if(Je.length)for(;;){if((be=xt>=(ue=(Ut+pt)/2))?Ut=ue:pt=ue,(ce=Rt>=(ie=(ft+J)/2))?ft=ie:J=ie,Ge=Je,!(Je=Je[We=ce<<1|be]))return this;if(!Je.length)break;(Ge[We+1&3]||Ge[We+2&3]||Ge[We+3&3])&&(br=Ge,Ne=We)}for(;Je.data!==xe;)if(jr=Je,!(Je=Je.next))return this;return(Wr=Je.next)&&delete Je.next,jr?(Wr?jr.next=Wr:delete jr.next,this):Ge?(Wr?Ge[We]=Wr:delete Ge[We],(Je=Ge[0]||Ge[1]||Ge[2]||Ge[3])&&Je===(Ge[3]||Ge[2]||Ge[1]||Ge[0])&&!Je.length&&(br?br[Ne]=Je:this._root=Je),this):(this._root=Wr,this)}function I(xe){for(var Ge=0,Je=xe.length;Ge<Je;++Ge)this.remove(xe[Ge]);return this}function k(){return this._root}function B(){var xe=0;return this.visit(function(Ge){if(!Ge.length)do++xe;while(Ge=Ge.next)}),xe}function z(xe){var Ge=[],Je,br=this._root,jr,Wr,Ut,ft,pt;for(br&&Ge.push(new M(br,this._x0,this._y0,this._x1,this._y1));Je=Ge.pop();)if(!xe(br=Je.node,Wr=Je.x0,Ut=Je.y0,ft=Je.x1,pt=Je.y1)&&br.length){var J=(Wr+ft)/2,xt=(Ut+pt)/2;(jr=br[3])&&Ge.push(new M(jr,J,xt,ft,pt)),(jr=br[2])&&Ge.push(new M(jr,Wr,xt,J,pt)),(jr=br[1])&&Ge.push(new M(jr,J,Ut,ft,xt)),(jr=br[0])&&Ge.push(new M(jr,Wr,Ut,J,xt))}return this}function W(xe){var Ge=[],Je=[],br;for(this._root&&Ge.push(new M(this._root,this._x0,this._y0,this._x1,this._y1));br=Ge.pop();){var jr=br.node;if(jr.length){var Wr,Ut=br.x0,ft=br.y0,pt=br.x1,J=br.y1,xt=(Ut+pt)/2,Rt=(ft+J)/2;(Wr=jr[0])&&Ge.push(new M(Wr,Ut,ft,xt,Rt)),(Wr=jr[1])&&Ge.push(new M(Wr,xt,ft,pt,Rt)),(Wr=jr[2])&&Ge.push(new M(Wr,Ut,Rt,xt,J)),(Wr=jr[3])&&Ge.push(new M(Wr,xt,Rt,pt,J))}Je.push(br)}for(;br=Je.pop();)xe(br.node,br.x0,br.y0,br.x1,br.y1);return this}function $(xe){return xe[0]}function K(xe){return arguments.length?(this._x=xe,this):this._x}function lt(xe){return xe[1]}function st(xe){return arguments.length?(this._y=xe,this):this._y}function yt(xe,Ge,Je){var br=new q(Ge==null?$:Ge,Je==null?lt:Je,NaN,NaN,NaN,NaN);return xe==null?br:br.addAll(xe)}function q(xe,Ge,Je,br,jr,Wr){this._x=xe,this._y=Ge,this._x0=Je,this._y0=br,this._x1=jr,this._y1=Wr,this._root=void 0}function nt(xe){for(var Ge={data:xe.data},Je=Ge;xe=xe.next;)Je=Je.next={data:xe.data};return Ge}var ct=yt.prototype=q.prototype;ct.copy=function(){var xe=new q(this._x,this._y,this._x0,this._y0,this._x1,this._y1),Ge=this._root,Je,br;if(!Ge)return xe;if(!Ge.length)return xe._root=nt(Ge),xe;for(Je=[{source:Ge,target:xe._root=new Array(4)}];Ge=Je.pop();)for(var jr=0;jr<4;++jr)(br=Ge.source[jr])&&(br.length?Je.push({source:br,target:Ge.target[jr]=new Array(4)}):Ge.target[jr]=nt(br));return xe},ct.add=b,ct.addAll=_,ct.cover=O,ct.data=T,ct.extent=F,ct.find=A,ct.remove=L,ct.removeAll=I,ct.root=k,ct.size=B,ct.visit=z,ct.visitAfter=W,ct.x=K,ct.y=st;function bt(xe){return function(){return xe}}function _t(xe){return(xe()-.5)*1e-6}function St(xe){return xe.x+xe.vx}function At(xe){return xe.y+xe.vy}function vt(xe){var Ge,Je,br,jr=1,Wr=1;typeof xe!="function"&&(xe=bt(xe==null?1:+xe));function Ut(){for(var J,xt=Ge.length,Rt,ue,ie,be,ce,We,Ne=0;Ne<Wr;++Ne)for(Rt=yt(Ge,St,At).visitAfter(ft),J=0;J<xt;++J)ue=Ge[J],ce=Je[ue.index],We=ce*ce,ie=ue.x+ue.vx,be=ue.y+ue.vy,Rt.visit(Mr);function Mr(sn,hr,cn,kn,me){var Tn=sn.data,Zn=sn.r,Kn=ce+Zn;if(Tn){if(Tn.index>ue.index){var Or=ie-Tn.x-Tn.vx,wn=be-Tn.y-Tn.vy,Cr=Or*Or+wn*wn;Cr<Kn*Kn&&(Or===0&&(Or=_t(br),Cr+=Or*Or),wn===0&&(wn=_t(br),Cr+=wn*wn),Cr=(Kn-(Cr=Math.sqrt(Cr)))/Cr*jr,ue.vx+=(Or*=Cr)*(Kn=(Zn*=Zn)/(We+Zn)),ue.vy+=(wn*=Cr)*Kn,Tn.vx-=Or*(Kn=1-Kn),Tn.vy-=wn*Kn)}return}return hr>ie+Kn||kn<ie-Kn||cn>be+Kn||me<be-Kn}}function ft(J){if(J.data)return J.r=Je[J.data.index];for(var xt=J.r=0;xt<4;++xt)J[xt]&&J[xt].r>J.r&&(J.r=J[xt].r)}function pt(){if(!!Ge){var J,xt=Ge.length,Rt;for(Je=new Array(xt),J=0;J<xt;++J)Rt=Ge[J],Je[Rt.index]=+xe(Rt,J,Ge)}}return Ut.initialize=function(J,xt){Ge=J,br=xt,pt()},Ut.iterations=function(J){return arguments.length?(Wr=+J,Ut):Wr},Ut.strength=function(J){return arguments.length?(jr=+J,Ut):jr},Ut.radius=function(J){return arguments.length?(xe=typeof J=="function"?J:bt(+J),pt(),Ut):xe},Ut}function dt(xe){return xe.index}function gt(xe,Ge){var Je=xe.get(Ge);if(!Je)throw new Error("node not found: "+Ge);return Je}function Ct(xe){var Ge=dt,Je=Rt,br,jr=bt(30),Wr,Ut,ft,pt,J,xt=1;xe==null&&(xe=[]);function Rt(We){return 1/Math.min(ft[We.source.index],ft[We.target.index])}function ue(We){for(var Ne=0,Mr=xe.length;Ne<xt;++Ne)for(var sn=0,hr,cn,kn,me,Tn,Zn,Kn;sn<Mr;++sn)hr=xe[sn],cn=hr.source,kn=hr.target,me=kn.x+kn.vx-cn.x-cn.vx||_t(J),Tn=kn.y+kn.vy-cn.y-cn.vy||_t(J),Zn=Math.sqrt(me*me+Tn*Tn),Zn=(Zn-Wr[sn])/Zn*We*br[sn],me*=Zn,Tn*=Zn,kn.vx-=me*(Kn=pt[sn]),kn.vy-=Tn*Kn,cn.vx+=me*(Kn=1-Kn),cn.vy+=Tn*Kn}function ie(){if(!!Ut){var We,Ne=Ut.length,Mr=xe.length,sn=new Map(Ut.map((cn,kn)=>[Ge(cn,kn,Ut),cn])),hr;for(We=0,ft=new Array(Ne);We<Mr;++We)hr=xe[We],hr.index=We,typeof hr.source!="object"&&(hr.source=gt(sn,hr.source)),typeof hr.target!="object"&&(hr.target=gt(sn,hr.target)),ft[hr.source.index]=(ft[hr.source.index]||0)+1,ft[hr.target.index]=(ft[hr.target.index]||0)+1;for(We=0,pt=new Array(Mr);We<Mr;++We)hr=xe[We],pt[We]=ft[hr.source.index]/(ft[hr.source.index]+ft[hr.target.index]);br=new Array(Mr),be(),Wr=new Array(Mr),ce()}}function be(){if(!!Ut)for(var We=0,Ne=xe.length;We<Ne;++We)br[We]=+Je(xe[We],We,xe)}function ce(){if(!!Ut)for(var We=0,Ne=xe.length;We<Ne;++We)Wr[We]=+jr(xe[We],We,xe)}return ue.initialize=function(We,Ne){Ut=We,J=Ne,ie()},ue.links=function(We){return arguments.length?(xe=We,ie(),ue):xe},ue.id=function(We){return arguments.length?(Ge=We,ue):Ge},ue.iterations=function(We){return arguments.length?(xt=+We,ue):xt},ue.strength=function(We){return arguments.length?(Je=typeof We=="function"?We:bt(+We),be(),ue):Je},ue.distance=function(We){return arguments.length?(jr=typeof We=="function"?We:bt(+We),ce(),ue):jr},ue}var Et={value:()=>{}};function Tt(){for(var xe=0,Ge=arguments.length,Je={},br;xe<Ge;++xe){if(!(br=arguments[xe]+"")||br in Je||/[\s.]/.test(br))throw new Error("illegal type: "+br);Je[br]=[]}return new ot(Je)}function ot(xe){this._=xe}function Mt(xe,Ge){return xe.trim().split(/^|\s+/).map(function(Je){var br="",jr=Je.indexOf(".");if(jr>=0&&(br=Je.slice(jr+1),Je=Je.slice(0,jr)),Je&&!Ge.hasOwnProperty(Je))throw new Error("unknown type: "+Je);return{type:Je,name:br}})}ot.prototype=Tt.prototype={constructor:ot,on:function(xe,Ge){var Je=this._,br=Mt(xe+"",Je),jr,Wr=-1,Ut=br.length;if(arguments.length<2){for(;++Wr<Ut;)if((jr=(xe=br[Wr]).type)&&(jr=Wt(Je[jr],xe.name)))return jr;return}if(Ge!=null&&typeof Ge!="function")throw new Error("invalid callback: "+Ge);for(;++Wr<Ut;)if(jr=(xe=br[Wr]).type)Je[jr]=jt(Je[jr],xe.name,Ge);else if(Ge==null)for(jr in Je)Je[jr]=jt(Je[jr],xe.name,null);return this},copy:function(){var xe={},Ge=this._;for(var Je in Ge)xe[Je]=Ge[Je].slice();return new ot(xe)},call:function(xe,Ge){if((jr=arguments.length-2)>0)for(var Je=new Array(jr),br=0,jr,Wr;br<jr;++br)Je[br]=arguments[br+2];if(!this._.hasOwnProperty(xe))throw new Error("unknown type: "+xe);for(Wr=this._[xe],br=0,jr=Wr.length;br<jr;++br)Wr[br].value.apply(Ge,Je)},apply:function(xe,Ge,Je){if(!this._.hasOwnProperty(xe))throw new Error("unknown type: "+xe);for(var br=this._[xe],jr=0,Wr=br.length;jr<Wr;++jr)br[jr].value.apply(Ge,Je)}};function Wt(xe,Ge){for(var Je=0,br=xe.length,jr;Je<br;++Je)if((jr=xe[Je]).name===Ge)return jr.value}function jt(xe,Ge,Je){for(var br=0,jr=xe.length;br<jr;++br)if(xe[br].name===Ge){xe[br]=Et,xe=xe.slice(0,br).concat(xe.slice(br+1));break}return Je!=null&&xe.push({name:Ge,value:Je}),xe}var qt=Tt,se=0,ae=0,he=0,ke=1e3,Le,rr,Ee=0,ge=0,we=0,Ce=typeof performance=="object"&&performance.now?performance:Date,ye=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(xe){setTimeout(xe,17)};function Gt(){return ge||(ye(Xt),ge=Ce.now()+we)}function Xt(){ge=0}function Kt(){this._call=this._time=this._next=null}Kt.prototype=ze.prototype={constructor:Kt,restart:function(xe,Ge,Je){if(typeof xe!="function")throw new TypeError("callback is not a function");Je=(Je==null?Gt():+Je)+(Ge==null?0:+Ge),!this._next&&rr!==this&&(rr?rr._next=this:Le=this,rr=this),this._call=xe,this._time=Je,Ir()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ir())}};function ze(xe,Ge,Je){var br=new Kt;return br.restart(xe,Ge,Je),br}function ur(){Gt(),++se;for(var xe=Le,Ge;xe;)(Ge=ge-xe._time)>=0&&xe._call.call(null,Ge),xe=xe._next;--se}function tr(){ge=(Ee=Ce.now())+we,se=ae=0;try{ur()}finally{se=0,Qr(),ge=0}}function re(){var xe=Ce.now(),Ge=xe-Ee;Ge>ke&&(we-=Ge,Ee=xe)}function Qr(){for(var xe,Ge=Le,Je,br=1/0;Ge;)Ge._call?(br>Ge._time&&(br=Ge._time),xe=Ge,Ge=Ge._next):(Je=Ge._next,Ge._next=null,Ge=xe?xe._next=Je:Le=Je);rr=xe,Ir(br)}function Ir(xe){if(!se){ae&&(ae=clearTimeout(ae));var Ge=xe-ge;Ge>24?(xe<1/0&&(ae=setTimeout(tr,xe-Ce.now()-we)),he&&(he=clearInterval(he))):(he||(Ee=Ce.now(),he=setInterval(re,ke)),se=1,ye(tr))}}const gn=1664525,Wn=1013904223,ui=4294967296;function bi(){let xe=1;return()=>(xe=(gn*xe+Wn)%ui)/ui}function fr(xe){return xe.x}function Zr(xe){return xe.y}var Sn=10,Dn=Math.PI*(3-Math.sqrt(5));function hn(xe){var Ge,Je=1,br=.001,jr=1-Math.pow(br,1/300),Wr=0,Ut=.6,ft=new Map,pt=ze(Rt),J=qt("tick","end"),xt=bi();xe==null&&(xe=[]);function Rt(){ue(),J.call("tick",Ge),Je<br&&(pt.stop(),J.call("end",Ge))}function ue(ce){var We,Ne=xe.length,Mr;ce===void 0&&(ce=1);for(var sn=0;sn<ce;++sn)for(Je+=(Wr-Je)*jr,ft.forEach(function(hr){hr(Je)}),We=0;We<Ne;++We)Mr=xe[We],Mr.fx==null?Mr.x+=Mr.vx*=Ut:(Mr.x=Mr.fx,Mr.vx=0),Mr.fy==null?Mr.y+=Mr.vy*=Ut:(Mr.y=Mr.fy,Mr.vy=0);return Ge}function ie(){for(var ce=0,We=xe.length,Ne;ce<We;++ce){if(Ne=xe[ce],Ne.index=ce,Ne.fx!=null&&(Ne.x=Ne.fx),Ne.fy!=null&&(Ne.y=Ne.fy),isNaN(Ne.x)||isNaN(Ne.y)){var Mr=Sn*Math.sqrt(.5+ce),sn=ce*Dn;Ne.x=Mr*Math.cos(sn),Ne.y=Mr*Math.sin(sn)}(isNaN(Ne.vx)||isNaN(Ne.vy))&&(Ne.vx=Ne.vy=0)}}function be(ce){return ce.initialize&&ce.initialize(xe,xt),ce}return ie(),Ge={tick:ue,restart:function(){return pt.restart(Rt),Ge},stop:function(){return pt.stop(),Ge},nodes:function(ce){return arguments.length?(xe=ce,ie(),ft.forEach(be),Ge):xe},alpha:function(ce){return arguments.length?(Je=+ce,Ge):Je},alphaMin:function(ce){return arguments.length?(br=+ce,Ge):br},alphaDecay:function(ce){return arguments.length?(jr=+ce,Ge):+jr},alphaTarget:function(ce){return arguments.length?(Wr=+ce,Ge):Wr},velocityDecay:function(ce){return arguments.length?(Ut=1-ce,Ge):1-Ut},randomSource:function(ce){return arguments.length?(xt=ce,ft.forEach(be),Ge):xt},force:function(ce,We){return arguments.length>1?(We==null?ft.delete(ce):ft.set(ce,be(We)),Ge):ft.get(ce)},find:function(ce,We,Ne){var Mr=0,sn=xe.length,hr,cn,kn,me,Tn;for(Ne==null?Ne=1/0:Ne*=Ne,Mr=0;Mr<sn;++Mr)me=xe[Mr],hr=ce-me.x,cn=We-me.y,kn=hr*hr+cn*cn,kn<Ne&&(Tn=me,Ne=kn);return Tn},on:function(ce,We){return arguments.length>1?(J.on(ce,We),Ge):J.on(ce)}}}function Gn(){var xe,Ge,Je,br,jr=bt(-30),Wr,Ut=1,ft=1/0,pt=.81;function J(ie){var be,ce=xe.length,We=yt(xe,fr,Zr).visitAfter(Rt);for(br=ie,be=0;be<ce;++be)Ge=xe[be],We.visit(ue)}function xt(){if(!!xe){var ie,be=xe.length,ce;for(Wr=new Array(be),ie=0;ie<be;++ie)ce=xe[ie],Wr[ce.index]=+jr(ce,ie,xe)}}function Rt(ie){var be=0,ce,We,Ne=0,Mr,sn,hr;if(ie.length){for(Mr=sn=hr=0;hr<4;++hr)(ce=ie[hr])&&(We=Math.abs(ce.value))&&(be+=ce.value,Ne+=We,Mr+=We*ce.x,sn+=We*ce.y);ie.x=Mr/Ne,ie.y=sn/Ne}else{ce=ie,ce.x=ce.data.x,ce.y=ce.data.y;do be+=Wr[ce.data.index];while(ce=ce.next)}ie.value=be}function ue(ie,be,ce,We){if(!ie.value)return!0;var Ne=ie.x-Ge.x,Mr=ie.y-Ge.y,sn=We-be,hr=Ne*Ne+Mr*Mr;if(sn*sn/pt<hr)return hr<ft&&(Ne===0&&(Ne=_t(Je),hr+=Ne*Ne),Mr===0&&(Mr=_t(Je),hr+=Mr*Mr),hr<Ut&&(hr=Math.sqrt(Ut*hr)),Ge.vx+=Ne*ie.value*br/hr,Ge.vy+=Mr*ie.value*br/hr),!0;if(ie.length||hr>=ft)return;(ie.data!==Ge||ie.next)&&(Ne===0&&(Ne=_t(Je),hr+=Ne*Ne),Mr===0&&(Mr=_t(Je),hr+=Mr*Mr),hr<Ut&&(hr=Math.sqrt(Ut*hr)));do ie.data!==Ge&&(sn=Wr[ie.data.index]*br/hr,Ge.vx+=Ne*sn,Ge.vy+=Mr*sn);while(ie=ie.next)}return J.initialize=function(ie,be){xe=ie,Je=be,xt()},J.strength=function(ie){return arguments.length?(jr=typeof ie=="function"?ie:bt(+ie),xt(),J):jr},J.distanceMin=function(ie){return arguments.length?(Ut=ie*ie,J):Math.sqrt(Ut)},J.distanceMax=function(ie){return arguments.length?(ft=ie*ie,J):Math.sqrt(ft)},J.theta=function(ie){return arguments.length?(pt=ie*ie,J):Math.sqrt(pt)},J}function En(xe,Ge,Je){var br,jr=bt(.1),Wr,Ut;typeof xe!="function"&&(xe=bt(+xe)),Ge==null&&(Ge=0),Je==null&&(Je=0);function ft(J){for(var xt=0,Rt=br.length;xt<Rt;++xt){var ue=br[xt],ie=ue.x-Ge||1e-6,be=ue.y-Je||1e-6,ce=Math.sqrt(ie*ie+be*be),We=(Ut[xt]-ce)*Wr[xt]*J/ce;ue.vx+=ie*We,ue.vy+=be*We}}function pt(){if(!!br){var J,xt=br.length;for(Wr=new Array(xt),Ut=new Array(xt),J=0;J<xt;++J)Ut[J]=+xe(br[J],J,br),Wr[J]=isNaN(Ut[J])?0:+jr(br[J],J,br)}}return ft.initialize=function(J){br=J,pt()},ft.strength=function(J){return arguments.length?(jr=typeof J=="function"?J:bt(+J),pt(),ft):jr},ft.radius=function(J){return arguments.length?(xe=typeof J=="function"?J:bt(+J),pt(),ft):xe},ft.x=function(J){return arguments.length?(Ge=+J,ft):Ge},ft.y=function(J){return arguments.length?(Je=+J,ft):Je},ft}function In(xe){var Ge=bt(.1),Je,br,jr;typeof xe!="function"&&(xe=bt(xe==null?0:+xe));function Wr(ft){for(var pt=0,J=Je.length,xt;pt<J;++pt)xt=Je[pt],xt.vx+=(jr[pt]-xt.x)*br[pt]*ft}function Ut(){if(!!Je){var ft,pt=Je.length;for(br=new Array(pt),jr=new Array(pt),ft=0;ft<pt;++ft)br[ft]=isNaN(jr[ft]=+xe(Je[ft],ft,Je))?0:+Ge(Je[ft],ft,Je)}}return Wr.initialize=function(ft){Je=ft,Ut()},Wr.strength=function(ft){return arguments.length?(Ge=typeof ft=="function"?ft:bt(+ft),Ut(),Wr):Ge},Wr.x=function(ft){return arguments.length?(xe=typeof ft=="function"?ft:bt(+ft),Ut(),Wr):xe},Wr}function Fn(xe){var Ge=bt(.1),Je,br,jr;typeof xe!="function"&&(xe=bt(xe==null?0:+xe));function Wr(ft){for(var pt=0,J=Je.length,xt;pt<J;++pt)xt=Je[pt],xt.vy+=(jr[pt]-xt.y)*br[pt]*ft}function Ut(){if(!!Je){var ft,pt=Je.length;for(br=new Array(pt),jr=new Array(pt),ft=0;ft<pt;++ft)br[ft]=isNaN(jr[ft]=+xe(Je[ft],ft,Je))?0:+Ge(Je[ft],ft,Je)}}return Wr.initialize=function(ft){Je=ft,Ut()},Wr.strength=function(ft){return arguments.length?(Ge=typeof ft=="function"?ft:bt(+ft),Ut(),Wr):Ge},Wr.y=function(ft){return arguments.length?(xe=typeof ft=="function"?ft:bt(+ft),Ut(),Wr):xe},Wr}},56645:function(at,R){(function(d,x){x(R)})(this,function(d){"use strict";function x(At,vt){return b(At)||P(At,vt)||_()}function b(At){if(Array.isArray(At))return At}function P(At,vt){var dt=[],gt=!0,Ct=!1,Et=void 0;try{for(var Tt=At[Symbol.iterator](),ot;!(gt=(ot=Tt.next()).done)&&(dt.push(ot.value),!(vt&&dt.length===vt));gt=!0);}catch(Mt){Ct=!0,Et=Mt}finally{try{!gt&&Tt.return!=null&&Tt.return()}finally{if(Ct)throw Et}}return dt}function _(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function O(At,vt,dt,gt){At=At.filter(function(he,ke){var Le=vt(he,ke),rr=dt(he,ke);return Le!=null&&isFinite(Le)&&rr!=null&&isFinite(rr)}),gt&&At.sort(function(he,ke){return vt(he)-vt(ke)});for(var Ct=At.length,Et=new Float64Array(Ct),Tt=new Float64Array(Ct),ot=0,Mt=0,Wt,jt,qt,se=0;se<Ct;)qt=At[se],Et[se]=Wt=+vt(qt,se,At),Tt[se]=jt=+dt(qt,se,At),++se,ot+=(Wt-ot)/se,Mt+=(jt-Mt)/se;for(var ae=0;ae<Ct;++ae)Et[ae]-=ot,Tt[ae]-=Mt;return[Et,Tt,ot,Mt]}function T(At,vt,dt,gt){for(var Ct=0,Et=0,Tt=At.length;Et<Tt;Et++){var ot=At[Et],Mt=+vt(ot,Et,At),Wt=+dt(ot,Et,At);Mt!=null&&isFinite(Mt)&&Wt!=null&&isFinite(Wt)&&gt(Mt,Wt,Ct++)}}function F(At,vt,dt,gt,Ct){var Et=0,Tt=0;return T(At,vt,dt,function(ot,Mt){var Wt=Mt-Ct(ot),jt=Mt-gt;Et+=Wt*Wt,Tt+=jt*jt}),1-Et/Tt}function M(At){return Math.atan2(At[1][1]-At[0][1],At[1][0]-At[0][0])*180/Math.PI}function A(At){return[(At[0][0]+At[1][0])/2,(At[0][1]+At[1][1])/2]}function L(At,vt,dt){for(var gt=Math.log(vt-At)*Math.LOG10E+1|0,Ct=1*Math.pow(10,-gt/2-1),Et=1e4,Tt=[Mt(At),Mt(vt)],ot=0;Wt(Tt)&&ot<Et;);return Tt;function Mt(jt){return[jt,dt(jt)]}function Wt(jt){ot++;for(var qt=jt.length,se=!1,ae=0;ae<qt-1;ae++){var he=jt[ae],ke=jt[ae+1],Le=A([he,ke]),rr=Mt(Le[0]),Ee=M([he,Le]),ge=M([he,rr]),we=Math.abs(Ee-ge);we>Ct&&(jt.splice(ae+1,0,rr),se=!0)}return se}}function I(At,vt,dt,gt){var Ct=gt-At*At,Et=Math.abs(Ct)<1e-24?0:(dt-At*vt)/Ct,Tt=vt-Et*At;return[Tt,Et]}function k(){var At=function(Et){return Et[0]},vt=function(Et){return Et[1]},dt;function gt(Ct){var Et=0,Tt=0,ot=0,Mt=0,Wt=0,jt=0,qt=dt?+dt[0]:1/0,se=dt?+dt[1]:-1/0;T(Ct,At,vt,function(ge,we){var Ce=Math.log(we),ye=ge*we;++Et,Tt+=(we-Tt)/Et,Mt+=(ye-Mt)/Et,jt+=(ge*ye-jt)/Et,ot+=(we*Ce-ot)/Et,Wt+=(ye*Ce-Wt)/Et,dt||(ge<qt&&(qt=ge),ge>se&&(se=ge))});var ae=I(Mt/Tt,ot/Tt,Wt/Tt,jt/Tt),he=x(ae,2),ke=he[0],Le=he[1];ke=Math.exp(ke);var rr=function(we){return ke*Math.exp(Le*we)},Ee=L(qt,se,rr);return Ee.a=ke,Ee.b=Le,Ee.predict=rr,Ee.rSquared=F(Ct,At,vt,Tt,rr),Ee}return gt.domain=function(Ct){return arguments.length?(dt=Ct,gt):dt},gt.x=function(Ct){return arguments.length?(At=Ct,gt):At},gt.y=function(Ct){return arguments.length?(vt=Ct,gt):vt},gt}function B(){var At=function(Et){return Et[0]},vt=function(Et){return Et[1]},dt;function gt(Ct){var Et=0,Tt=0,ot=0,Mt=0,Wt=0,jt=dt?+dt[0]:1/0,qt=dt?+dt[1]:-1/0;T(Ct,At,vt,function(Ee,ge){++Et,Tt+=(Ee-Tt)/Et,ot+=(ge-ot)/Et,Mt+=(Ee*ge-Mt)/Et,Wt+=(Ee*Ee-Wt)/Et,dt||(Ee<jt&&(jt=Ee),Ee>qt&&(qt=Ee))});var se=I(Tt,ot,Mt,Wt),ae=x(se,2),he=ae[0],ke=ae[1],Le=function(ge){return ke*ge+he},rr=[[jt,Le(jt)],[qt,Le(qt)]];return rr.a=ke,rr.b=he,rr.predict=Le,rr.rSquared=F(Ct,At,vt,ot,Le),rr}return gt.domain=function(Ct){return arguments.length?(dt=Ct,gt):dt},gt.x=function(Ct){return arguments.length?(At=Ct,gt):At},gt.y=function(Ct){return arguments.length?(vt=Ct,gt):vt},gt}function z(At){At.sort(function(dt,gt){return dt-gt});var vt=At.length/2;return vt%1===0?(At[vt-1]+At[vt])/2:At[Math.floor(vt)]}var W=2,$=1e-12;function K(){var At=function(Et){return Et[0]},vt=function(Et){return Et[1]},dt=.3;function gt(Ct){for(var Et=O(Ct,At,vt,!0),Tt=x(Et,4),ot=Tt[0],Mt=Tt[1],Wt=Tt[2],jt=Tt[3],qt=ot.length,se=Math.max(2,~~(dt*qt)),ae=new Float64Array(qt),he=new Float64Array(qt),ke=new Float64Array(qt).fill(1),Le=-1;++Le<=W;){for(var rr=[0,se-1],Ee=0;Ee<qt;++Ee){for(var ge=ot[Ee],we=rr[0],Ce=rr[1],ye=ge-ot[we]>ot[Ce]-ge?we:Ce,Gt=0,Xt=0,Kt=0,ze=0,ur=0,tr=1/Math.abs(ot[ye]-ge||1),re=we;re<=Ce;++re){var Qr=ot[re],Ir=Mt[re],gn=lt(Math.abs(ge-Qr)*tr)*ke[re],Wn=Qr*gn;Gt+=gn,Xt+=Wn,Kt+=Ir*gn,ze+=Ir*Wn,ur+=Qr*Wn}var ui=I(Xt/Gt,Kt/Gt,ze/Gt,ur/Gt),bi=x(ui,2),fr=bi[0],Zr=bi[1];ae[Ee]=fr+Zr*ge,he[Ee]=Math.abs(Mt[Ee]-ae[Ee]),st(ot,Ee+1,rr)}if(Le===W)break;var Sn=z(he);if(Math.abs(Sn)<$)break;for(var Dn=0,hn,Gn;Dn<qt;++Dn)hn=he[Dn]/(6*Sn),ke[Dn]=hn>=1?$:(Gn=1-hn*hn)*Gn}return yt(ot,ae,Wt,jt)}return gt.bandwidth=function(Ct){return arguments.length?(dt=Ct,gt):dt},gt.x=function(Ct){return arguments.length?(At=Ct,gt):At},gt.y=function(Ct){return arguments.length?(vt=Ct,gt):vt},gt}function lt(At){return(At=1-At*At*At)*At*At}function st(At,vt,dt){var gt=At[vt],Ct=dt[0],Et=dt[1]+1;if(!(Et>=At.length))for(;vt>Ct&&At[Et]-gt<=gt-At[Ct];)dt[0]=++Ct,dt[1]=Et,++Et}function yt(At,vt,dt,gt){for(var Ct=At.length,Et=[],Tt=0,ot=0,Mt=[],Wt;Tt<Ct;++Tt)Wt=At[Tt]+dt,Mt[0]===Wt?Mt[1]+=(vt[Tt]-Mt[1])/++ot:(ot=0,Mt[1]+=gt,Mt=[Wt,vt[Tt]],Et.push(Mt));return Mt[1]+=gt,Et}function q(){var At=function(Tt){return Tt[0]},vt=function(Tt){return Tt[1]},dt=Math.E,gt;function Ct(Et){var Tt=0,ot=0,Mt=0,Wt=0,jt=0,qt=gt?+gt[0]:1/0,se=gt?+gt[1]:-1/0,ae=Math.log(dt);T(Et,At,vt,function(we,Ce){var ye=Math.log(we)/ae;++Tt,ot+=(ye-ot)/Tt,Mt+=(Ce-Mt)/Tt,Wt+=(ye*Ce-Wt)/Tt,jt+=(ye*ye-jt)/Tt,gt||(we<qt&&(qt=we),we>se&&(se=we))});var he=I(ot,Mt,Wt,jt),ke=x(he,2),Le=ke[0],rr=ke[1],Ee=function(Ce){return rr*Math.log(Ce)/ae+Le},ge=L(qt,se,Ee);return ge.a=rr,ge.b=Le,ge.predict=Ee,ge.rSquared=F(Et,At,vt,Mt,Ee),ge}return Ct.domain=function(Et){return arguments.length?(gt=Et,Ct):gt},Ct.x=function(Et){return arguments.length?(At=Et,Ct):At},Ct.y=function(Et){return arguments.length?(vt=Et,Ct):vt},Ct.base=function(Et){return arguments.length?(dt=Et,Ct):dt},Ct}function nt(){var At=function(Et){return Et[0]},vt=function(Et){return Et[1]},dt;function gt(Ct){var Et=O(Ct,At,vt),Tt=x(Et,4),ot=Tt[0],Mt=Tt[1],Wt=Tt[2],jt=Tt[3],qt=ot.length,se=0,ae=0,he=0,ke=0,Le=0,rr,Ee,ge,we;for(rr=0;rr<qt;)Ee=ot[rr],ge=Mt[rr++],we=Ee*Ee,se+=(we-se)/rr,ae+=(we*Ee-ae)/rr,he+=(we*we-he)/rr,ke+=(Ee*ge-ke)/rr,Le+=(we*ge-Le)/rr;var Ce=0,ye=0,Gt=dt?+dt[0]:1/0,Xt=dt?+dt[1]:-1/0;T(Ct,At,vt,function(gn,Wn){ye++,Ce+=(Wn-Ce)/ye,dt||(gn<Gt&&(Gt=gn),gn>Xt&&(Xt=gn))});var Kt=he-se*se,ze=se*Kt-ae*ae,ur=(Le*se-ke*ae)/ze,tr=(ke*Kt-Le*ae)/ze,re=-ur*se,Qr=function(Wn){return Wn=Wn-Wt,ur*Wn*Wn+tr*Wn+re+jt},Ir=L(Gt,Xt,Qr);return Ir.a=ur,Ir.b=tr-2*ur*Wt,Ir.c=re-tr*Wt+ur*Wt*Wt+jt,Ir.predict=Qr,Ir.rSquared=F(Ct,At,vt,Ce,Qr),Ir}return gt.domain=function(Ct){return arguments.length?(dt=Ct,gt):dt},gt.x=function(Ct){return arguments.length?(At=Ct,gt):At},gt.y=function(Ct){return arguments.length?(vt=Ct,gt):vt},gt}function ct(){var At=function(Tt){return Tt[0]},vt=function(Tt){return Tt[1]},dt=3,gt;function Ct(Et){if(dt===1){var Tt=B().x(At).y(vt).domain(gt)(Et);return Tt.coefficients=[Tt.b,Tt.a],delete Tt.a,delete Tt.b,Tt}if(dt===2){var ot=nt().x(At).y(vt).domain(gt)(Et);return ot.coefficients=[ot.c,ot.b,ot.a],delete ot.a,delete ot.b,delete ot.c,ot}var Mt=O(Et,At,vt),Wt=x(Mt,4),jt=Wt[0],qt=Wt[1],se=Wt[2],ae=Wt[3],he=jt.length,ke=[],Le=[],rr=dt+1,Ee=0,ge=0,we=gt?+gt[0]:1/0,Ce=gt?+gt[1]:-1/0;T(Et,At,vt,function(Qr,Ir){++ge,Ee+=(Ir-Ee)/ge,gt||(Qr<we&&(we=Qr),Qr>Ce&&(Ce=Qr))});var ye,Gt,Xt,Kt,ze;for(ye=0;ye<rr;++ye){for(Xt=0,Kt=0;Xt<he;++Xt)Kt+=Math.pow(jt[Xt],ye)*qt[Xt];for(ke.push(Kt),ze=new Float64Array(rr),Gt=0;Gt<rr;++Gt){for(Xt=0,Kt=0;Xt<he;++Xt)Kt+=Math.pow(jt[Xt],ye+Gt);ze[Gt]=Kt}Le.push(ze)}Le.push(ke);var ur=_t(Le),tr=function(Ir){Ir-=se;var gn=ae+ur[0]+ur[1]*Ir+ur[2]*Ir*Ir;for(ye=3;ye<rr;++ye)gn+=ur[ye]*Math.pow(Ir,ye);return gn},re=L(we,Ce,tr);return re.coefficients=bt(rr,ur,-se,ae),re.predict=tr,re.rSquared=F(Et,At,vt,Ee,tr),re}return Ct.domain=function(Et){return arguments.length?(gt=Et,Ct):gt},Ct.x=function(Et){return arguments.length?(At=Et,Ct):At},Ct.y=function(Et){return arguments.length?(vt=Et,Ct):vt},Ct.order=function(Et){return arguments.length?(dt=Et,Ct):dt},Ct}function bt(At,vt,dt,gt){var Ct=Array(At),Et,Tt,ot,Mt;for(Et=0;Et<At;++Et)Ct[Et]=0;for(Et=At-1;Et>=0;--Et)for(ot=vt[Et],Mt=1,Ct[Et]+=ot,Tt=1;Tt<=Et;++Tt)Mt*=(Et+1-Tt)/Tt,Ct[Et-Tt]+=ot*Math.pow(dt,Tt)*Mt;return Ct[0]+=gt,Ct}function _t(At){var vt=At.length-1,dt=[],gt,Ct,Et,Tt,ot;for(gt=0;gt<vt;++gt){for(Tt=gt,Ct=gt+1;Ct<vt;++Ct)Math.abs(At[gt][Ct])>Math.abs(At[gt][Tt])&&(Tt=Ct);for(Et=gt;Et<vt+1;++Et)ot=At[Et][gt],At[Et][gt]=At[Et][Tt],At[Et][Tt]=ot;for(Ct=gt+1;Ct<vt;++Ct)for(Et=vt;Et>=gt;Et--)At[Et][Ct]-=At[Et][gt]*At[gt][Ct]/At[gt][gt]}for(Ct=vt-1;Ct>=0;--Ct){for(ot=0,Et=Ct+1;Et<vt;++Et)ot+=At[Et][Ct]*dt[Et];dt[Ct]=(At[vt][Ct]-ot)/At[Ct][Ct]}return dt}function St(){var At=function(Et){return Et[0]},vt=function(Et){return Et[1]},dt;function gt(Ct){var Et=0,Tt=0,ot=0,Mt=0,Wt=0,jt=0,qt=dt?+dt[0]:1/0,se=dt?+dt[1]:-1/0;T(Ct,At,vt,function(ge,we){var Ce=Math.log(ge),ye=Math.log(we);++Et,Tt+=(Ce-Tt)/Et,ot+=(ye-ot)/Et,Mt+=(Ce*ye-Mt)/Et,Wt+=(Ce*Ce-Wt)/Et,jt+=(we-jt)/Et,dt||(ge<qt&&(qt=ge),ge>se&&(se=ge))});var ae=I(Tt,ot,Mt,Wt),he=x(ae,2),ke=he[0],Le=he[1];ke=Math.exp(ke);var rr=function(we){return ke*Math.pow(we,Le)},Ee=L(qt,se,rr);return Ee.a=ke,Ee.b=Le,Ee.predict=rr,Ee.rSquared=F(Ct,At,vt,jt,rr),Ee}return gt.domain=function(Ct){return arguments.length?(dt=Ct,gt):dt},gt.x=function(Ct){return arguments.length?(At=Ct,gt):At},gt.y=function(Ct){return arguments.length?(vt=Ct,gt):vt},gt}d.regressionExp=k,d.regressionLinear=B,d.regressionLoess=K,d.regressionLog=q,d.regressionPoly=ct,d.regressionPow=St,d.regressionQuad=nt,Object.defineProperty(d,"__esModule",{value:!0})})},31969:function(at,R,d){"use strict";d.r(R),d.d(R,{BRIDGE_GRAPH_NAME:function(){return O},GraphType:function(){return M},HierarchyNodeType:function(){return A},InclusionType:function(){return F},LAYOUT_CONFIG:function(){return x},NodeType:function(){return T},ROOT_NAME:function(){return _},buildGraph:function(){return dn},flatGraph:function(){return Mn},getEdges:function(){return Yn},mergeConfig:function(){return b}});const x={graph:{meta:{rankDir:"TB",nodeSep:50,rankSep:50,edgeSep:5,align:void 0}},subScene:{meta:{paddingTop:20,paddingBottom:20,paddingLeft:20,paddingRight:20,labelHeight:20}},nodeSize:{meta:{width:100,maxLabelWidth:0,height:20},node:{width:80,height:20,labelOffset:10,maxLabelWidth:40},bridge:{width:5,height:5,radius:2,labelOffset:0}}};function b(j={},et=x){var wt,It,Nt,Ft;const Yt=JSON.parse(JSON.stringify(et)),Qt=((wt=j==null?void 0:j.graph)===null||wt===void 0?void 0:wt.meta)||{},ee=((It=j==null?void 0:j.subScene)===null||It===void 0?void 0:It.meta)||{},de=((Nt=j==null?void 0:j.nodeSize)===null||Nt===void 0?void 0:Nt.meta)||{},Ie=((Ft=j==null?void 0:j.nodeSize)===null||Ft===void 0?void 0:Ft.node)||{},Pe=Yt.nodeSize.bridge;return{graph:{meta:Object.assign(Yt.graph.meta,Qt)},subScene:{meta:Object.assign(Yt.subScene.meta,ee)},nodeSize:{meta:Object.assign(Yt.nodeSize.meta,de),node:Object.assign(Yt.nodeSize.node,Ie),bridge:Pe}}}function P(j){return`\u25EC${j}\u25EC`}const _=P("ROOT"),O=P("BRIDGE_GRAPH");var T,F,M,A;(function(j){j[j.META=0]="META",j[j.NODE=1]="NODE",j[j.BRIDGE=2]="BRIDGE"})(T||(T={})),function(j){j[j.INCLUDE=0]="INCLUDE",j[j.EXCLUDE=1]="EXCLUDE",j[j.UNSPECIFIED=2]="UNSPECIFIED"}(F||(F={})),function(j){j[j.META=0]="META",j[j.CORE=1]="CORE",j[j.BRIDGE=2]="BRIDGE"}(M||(M={})),function(j){j[j.META=0]="META",j[j.OP=1]="OP",j[j.SERIES=2]="SERIES"}(A||(A={}));var L=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof d.g!="undefined"?d.g:typeof self!="undefined"?self:{};function I(j,et){return j(et={exports:{}},et.exports),et.exports}var k=function(){this.__data__=[],this.size=0},B=function(j,et){return j===et||j!=j&&et!=et},z=function(j,et){for(var wt=j.length;wt--;)if(B(j[wt][0],et))return wt;return-1},W=Array.prototype.splice,$=function(j){var et=this.__data__,wt=z(et,j);return!(wt<0)&&(wt==et.length-1?et.pop():W.call(et,wt,1),--this.size,!0)},K=function(j){var et=this.__data__,wt=z(et,j);return wt<0?void 0:et[wt][1]},lt=function(j){return z(this.__data__,j)>-1},st=function(j,et){var wt=this.__data__,It=z(wt,j);return It<0?(++this.size,wt.push([j,et])):wt[It][1]=et,this};function yt(j){var et=-1,wt=j==null?0:j.length;for(this.clear();++et<wt;){var It=j[et];this.set(It[0],It[1])}}yt.prototype.clear=k,yt.prototype.delete=$,yt.prototype.get=K,yt.prototype.has=lt,yt.prototype.set=st;var q=yt,nt=function(){this.__data__=new q,this.size=0},ct=function(j){var et=this.__data__,wt=et.delete(j);return this.size=et.size,wt},bt=function(j){return this.__data__.get(j)},_t=function(j){return this.__data__.has(j)},St=typeof L=="object"&&L&&L.Object===Object&&L,At=typeof self=="object"&&self&&self.Object===Object&&self,vt=St||At||Function("return this")(),dt=vt.Symbol,gt=Object.prototype,Ct=gt.hasOwnProperty,Et=gt.toString,Tt=dt?dt.toStringTag:void 0,ot=function(j){var et=Ct.call(j,Tt),wt=j[Tt];try{j[Tt]=void 0;var It=!0}catch(Ft){}var Nt=Et.call(j);return It&&(et?j[Tt]=wt:delete j[Tt]),Nt},Mt=Object.prototype.toString,Wt=function(j){return Mt.call(j)},jt=dt?dt.toStringTag:void 0,qt=function(j){return j==null?j===void 0?"[object Undefined]":"[object Null]":jt&&jt in Object(j)?ot(j):Wt(j)},se=function(j){var et=typeof j;return j!=null&&(et=="object"||et=="function")},ae,he=function(j){if(!se(j))return!1;var et=qt(j);return et=="[object Function]"||et=="[object GeneratorFunction]"||et=="[object AsyncFunction]"||et=="[object Proxy]"},ke=vt["__core-js_shared__"],Le=(ae=/[^.]+$/.exec(ke&&ke.keys&&ke.keys.IE_PROTO||""))?"Symbol(src)_1."+ae:"",rr=function(j){return!!Le&&Le in j},Ee=Function.prototype.toString,ge=function(j){if(j!=null){try{return Ee.call(j)}catch(et){}try{return j+""}catch(et){}}return""},we=/^\[object .+?Constructor\]$/,Ce=Function.prototype,ye=Object.prototype,Gt=Ce.toString,Xt=ye.hasOwnProperty,Kt=RegExp("^"+Gt.call(Xt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ze=function(j){return!(!se(j)||rr(j))&&(he(j)?Kt:we).test(ge(j))},ur=function(j,et){return j==null?void 0:j[et]},tr=function(j,et){var wt=ur(j,et);return ze(wt)?wt:void 0},re=tr(vt,"Map"),Qr=tr(Object,"create"),Ir=function(){this.__data__=Qr?Qr(null):{},this.size=0},gn=function(j){var et=this.has(j)&&delete this.__data__[j];return this.size-=et?1:0,et},Wn=Object.prototype.hasOwnProperty,ui=function(j){var et=this.__data__;if(Qr){var wt=et[j];return wt==="__lodash_hash_undefined__"?void 0:wt}return Wn.call(et,j)?et[j]:void 0},bi=Object.prototype.hasOwnProperty,fr=function(j){var et=this.__data__;return Qr?et[j]!==void 0:bi.call(et,j)},Zr=function(j,et){var wt=this.__data__;return this.size+=this.has(j)?0:1,wt[j]=Qr&&et===void 0?"__lodash_hash_undefined__":et,this};function Sn(j){var et=-1,wt=j==null?0:j.length;for(this.clear();++et<wt;){var It=j[et];this.set(It[0],It[1])}}Sn.prototype.clear=Ir,Sn.prototype.delete=gn,Sn.prototype.get=ui,Sn.prototype.has=fr,Sn.prototype.set=Zr;var Dn=Sn,hn=function(){this.size=0,this.__data__={hash:new Dn,map:new(re||q),string:new Dn}},Gn=function(j){var et=typeof j;return et=="string"||et=="number"||et=="symbol"||et=="boolean"?j!=="__proto__":j===null},En=function(j,et){var wt=j.__data__;return Gn(et)?wt[typeof et=="string"?"string":"hash"]:wt.map},In=function(j){var et=En(this,j).delete(j);return this.size-=et?1:0,et},Fn=function(j){return En(this,j).get(j)},xe=function(j){return En(this,j).has(j)},Ge=function(j,et){var wt=En(this,j),It=wt.size;return wt.set(j,et),this.size+=wt.size==It?0:1,this};function Je(j){var et=-1,wt=j==null?0:j.length;for(this.clear();++et<wt;){var It=j[et];this.set(It[0],It[1])}}Je.prototype.clear=hn,Je.prototype.delete=In,Je.prototype.get=Fn,Je.prototype.has=xe,Je.prototype.set=Ge;var br=Je,jr=function(j,et){var wt=this.__data__;if(wt instanceof q){var It=wt.__data__;if(!re||It.length<199)return It.push([j,et]),this.size=++wt.size,this;wt=this.__data__=new br(It)}return wt.set(j,et),this.size=wt.size,this};function Wr(j){var et=this.__data__=new q(j);this.size=et.size}Wr.prototype.clear=nt,Wr.prototype.delete=ct,Wr.prototype.get=bt,Wr.prototype.has=_t,Wr.prototype.set=jr;var Ut=Wr,ft=function(j,et){for(var wt=-1,It=j==null?0:j.length;++wt<It&&et(j[wt],wt,j)!==!1;);return j},pt=function(){try{var j=tr(Object,"defineProperty");return j({},"",{}),j}catch(et){}}(),J=function(j,et,wt){et=="__proto__"&&pt?pt(j,et,{configurable:!0,enumerable:!0,value:wt,writable:!0}):j[et]=wt},xt=Object.prototype.hasOwnProperty,Rt=function(j,et,wt){var It=j[et];xt.call(j,et)&&B(It,wt)&&(wt!==void 0||et in j)||J(j,et,wt)},ue=function(j,et,wt,It){var Nt=!wt;wt||(wt={});for(var Ft=-1,Yt=et.length;++Ft<Yt;){var Qt=et[Ft],ee=It?It(wt[Qt],j[Qt],Qt,wt,j):void 0;ee===void 0&&(ee=j[Qt]),Nt?J(wt,Qt,ee):Rt(wt,Qt,ee)}return wt},ie=function(j,et){for(var wt=-1,It=Array(j);++wt<j;)It[wt]=et(wt);return It},be=function(j){return j!=null&&typeof j=="object"},ce=function(j){return be(j)&&qt(j)=="[object Arguments]"},We=Object.prototype,Ne=We.hasOwnProperty,Mr=We.propertyIsEnumerable,sn=ce(function(){return arguments}())?ce:function(j){return be(j)&&Ne.call(j,"callee")&&!Mr.call(j,"callee")},hr=Array.isArray,cn=function(){return!1},kn=I(function(j,et){var wt=et&&!et.nodeType&&et,It=wt&&j&&!j.nodeType&&j,Nt=It&&It.exports===wt?vt.Buffer:void 0,Ft=(Nt?Nt.isBuffer:void 0)||cn;j.exports=Ft}),me=/^(?:0|[1-9]\d*)$/,Tn=function(j,et){var wt=typeof j;return!!(et=et==null?9007199254740991:et)&&(wt=="number"||wt!="symbol"&&me.test(j))&&j>-1&&j%1==0&&j<et},Zn=function(j){return typeof j=="number"&&j>-1&&j%1==0&&j<=9007199254740991},Kn={};Kn["[object Float32Array]"]=Kn["[object Float64Array]"]=Kn["[object Int8Array]"]=Kn["[object Int16Array]"]=Kn["[object Int32Array]"]=Kn["[object Uint8Array]"]=Kn["[object Uint8ClampedArray]"]=Kn["[object Uint16Array]"]=Kn["[object Uint32Array]"]=!0,Kn["[object Arguments]"]=Kn["[object Array]"]=Kn["[object ArrayBuffer]"]=Kn["[object Boolean]"]=Kn["[object DataView]"]=Kn["[object Date]"]=Kn["[object Error]"]=Kn["[object Function]"]=Kn["[object Map]"]=Kn["[object Number]"]=Kn["[object Object]"]=Kn["[object RegExp]"]=Kn["[object Set]"]=Kn["[object String]"]=Kn["[object WeakMap]"]=!1;var Or=function(j){return be(j)&&Zn(j.length)&&!!Kn[qt(j)]},wn=function(j){return function(et){return j(et)}},Cr=I(function(j,et){var wt=et&&!et.nodeType&&et,It=wt&&j&&!j.nodeType&&j,Nt=It&&It.exports===wt&&St.process,Ft=function(){try{var Yt=It&&It.require&&It.require("util").types;return Yt||Nt&&Nt.binding&&Nt.binding("util")}catch(Qt){}}();j.exports=Ft}),xr=Cr&&Cr.isTypedArray,_n=xr?wn(xr):Or,Mi=Object.prototype.hasOwnProperty,or=function(j,et){var wt=hr(j),It=!wt&&sn(j),Nt=!wt&&!It&&kn(j),Ft=!wt&&!It&&!Nt&&_n(j),Yt=wt||It||Nt||Ft,Qt=Yt?ie(j.length,String):[],ee=Qt.length;for(var de in j)!et&&!Mi.call(j,de)||Yt&&(de=="length"||Nt&&(de=="offset"||de=="parent")||Ft&&(de=="buffer"||de=="byteLength"||de=="byteOffset")||Tn(de,ee))||Qt.push(de);return Qt},Bn=Object.prototype,ti=function(j){var et=j&&j.constructor;return j===(typeof et=="function"&&et.prototype||Bn)},Vn=function(j,et){return function(wt){return j(et(wt))}},qi=Vn(Object.keys,Object),Rn=Object.prototype.hasOwnProperty,fa=function(j){if(!ti(j))return qi(j);var et=[];for(var wt in Object(j))Rn.call(j,wt)&&wt!="constructor"&&et.push(wt);return et},Ci=function(j){return j!=null&&Zn(j.length)&&!he(j)},ga=function(j){return Ci(j)?or(j):fa(j)},da=function(j,et){return j&&ue(et,ga(et),j)},zo=function(j){var et=[];if(j!=null)for(var wt in Object(j))et.push(wt);return et},Po=Object.prototype.hasOwnProperty,au=function(j){if(!se(j))return zo(j);var et=ti(j),wt=[];for(var It in j)(It!="constructor"||!et&&Po.call(j,It))&&wt.push(It);return wt},Yi=function(j){return Ci(j)?or(j,!0):au(j)},Ha=function(j,et){return j&&ue(et,Yi(et),j)},po=I(function(j,et){var wt=et&&!et.nodeType&&et,It=wt&&j&&!j.nodeType&&j,Nt=It&&It.exports===wt?vt.Buffer:void 0,Ft=Nt?Nt.allocUnsafe:void 0;j.exports=function(Yt,Qt){if(Qt)return Yt.slice();var ee=Yt.length,de=Ft?Ft(ee):new Yt.constructor(ee);return Yt.copy(de),de}}),Za=function(j,et){var wt=-1,It=j.length;for(et||(et=Array(It));++wt<It;)et[wt]=j[wt];return et},ho=function(j,et){for(var wt=-1,It=j==null?0:j.length,Nt=0,Ft=[];++wt<It;){var Yt=j[wt];et(Yt,wt,j)&&(Ft[Nt++]=Yt)}return Ft},za=function(){return[]},ol=Object.prototype.propertyIsEnumerable,nf=Object.getOwnPropertySymbols,$l=nf?function(j){return j==null?[]:(j=Object(j),ho(nf(j),function(et){return ol.call(j,et)}))}:za,ih=function(j,et){return ue(j,$l(j),et)},Al=function(j,et){for(var wt=-1,It=et.length,Nt=j.length;++wt<It;)j[Nt+wt]=et[wt];return j},Ic=Vn(Object.getPrototypeOf,Object),ah=Object.getOwnPropertySymbols?function(j){for(var et=[];j;)Al(et,$l(j)),j=Ic(j);return et}:za,Ys=function(j,et){return ue(j,ah(j),et)},Is=function(j,et,wt){var It=et(j);return hr(j)?It:Al(It,wt(j))},Oc=function(j){return Is(j,ga,$l)},sl=function(j){return Is(j,Yi,ah)},oh=tr(vt,"DataView"),Br=tr(vt,"Promise"),Iu=tr(vt,"Set"),af=tr(vt,"WeakMap"),jh=ge(oh),Dc=ge(re),Tf=ge(Br),Td=ge(Iu),Md=ge(af),Kl=qt;(oh&&Kl(new oh(new ArrayBuffer(1)))!="[object DataView]"||re&&Kl(new re)!="[object Map]"||Br&&Kl(Br.resolve())!="[object Promise]"||Iu&&Kl(new Iu)!="[object Set]"||af&&Kl(new af)!="[object WeakMap]")&&(Kl=function(j){var et=qt(j),wt=et=="[object Object]"?j.constructor:void 0,It=wt?ge(wt):"";if(It)switch(It){case jh:return"[object DataView]";case Dc:return"[object Map]";case Tf:return"[object Promise]";case Td:return"[object Set]";case Md:return"[object WeakMap]"}return et});var Zl=Kl,Wh=Object.prototype.hasOwnProperty,qd=function(j){var et=j.length,wt=new j.constructor(et);return et&&typeof j[0]=="string"&&Wh.call(j,"index")&&(wt.index=j.index,wt.input=j.input),wt},of=vt.Uint8Array,Ql=function(j){var et=new j.constructor(j.byteLength);return new of(et).set(new of(j)),et},go=function(j,et){var wt=et?Ql(j.buffer):j.buffer;return new j.constructor(wt,j.byteOffset,j.byteLength)},sf=/\w*$/,sh=function(j){var et=new j.constructor(j.source,sf.exec(j));return et.lastIndex=j.lastIndex,et},uh=dt?dt.prototype:void 0,Pc=uh?uh.valueOf:void 0,Vh=function(j){return Pc?Object(Pc.call(j)):{}},Qa=function(j,et){var wt=et?Ql(j.buffer):j.buffer;return new j.constructor(wt,j.byteOffset,j.length)},Ya=function(j,et,wt){var It=j.constructor;switch(et){case"[object ArrayBuffer]":return Ql(j);case"[object Boolean]":case"[object Date]":return new It(+j);case"[object DataView]":return go(j,wt);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Qa(j,wt);case"[object Map]":return new It;case"[object Number]":case"[object String]":return new It(j);case"[object RegExp]":return sh(j);case"[object Set]":return new It;case"[object Symbol]":return Vh(j)}},Gu=Object.create,Ou=function(){function j(){}return function(et){if(!se(et))return{};if(Gu)return Gu(et);j.prototype=et;var wt=new j;return j.prototype=void 0,wt}}(),Du=function(j){return typeof j.constructor!="function"||ti(j)?{}:Ou(Ic(j))},lh=function(j){return be(j)&&Zl(j)=="[object Map]"},Hh=Cr&&Cr.isMap,Mv=Hh?wn(Hh):lh,tv=function(j){return be(j)&&Zl(j)=="[object Set]"},Id=Cr&&Cr.isSet,Jo=Id?wn(Id):tv,yo={};yo["[object Arguments]"]=yo["[object Array]"]=yo["[object ArrayBuffer]"]=yo["[object DataView]"]=yo["[object Boolean]"]=yo["[object Date]"]=yo["[object Float32Array]"]=yo["[object Float64Array]"]=yo["[object Int8Array]"]=yo["[object Int16Array]"]=yo["[object Int32Array]"]=yo["[object Map]"]=yo["[object Number]"]=yo["[object Object]"]=yo["[object RegExp]"]=yo["[object Set]"]=yo["[object String]"]=yo["[object Symbol]"]=yo["[object Uint8Array]"]=yo["[object Uint8ClampedArray]"]=yo["[object Uint16Array]"]=yo["[object Uint32Array]"]=!0,yo["[object Error]"]=yo["[object Function]"]=yo["[object WeakMap]"]=!1;var Lc=function j(et,wt,It,Nt,Ft,Yt){var Qt,ee=1&wt,de=2&wt,Ie=4&wt;if(It&&(Qt=Ft?It(et,Nt,Ft,Yt):It(et)),Qt!==void 0)return Qt;if(!se(et))return et;var Pe=hr(et);if(Pe){if(Qt=qd(et),!ee)return Za(et,Qt)}else{var Ke=Zl(et),Ar=Ke=="[object Function]"||Ke=="[object GeneratorFunction]";if(kn(et))return po(et,ee);if(Ke=="[object Object]"||Ke=="[object Arguments]"||Ar&&!Ft){if(Qt=de||Ar?{}:Du(et),!ee)return de?Ys(et,Ha(Qt,et)):ih(et,da(Qt,et))}else{if(!yo[Ke])return Ft?et:{};Qt=Ya(et,Ke,ee)}}Yt||(Yt=new Ut);var pn=Yt.get(et);if(pn)return pn;Yt.set(et,Qt),Jo(et)?et.forEach(function(Pr){Qt.add(j(Pr,wt,It,Pr,et,Yt))}):Mv(et)&&et.forEach(function(Pr,Rr){Qt.set(Rr,j(Pr,wt,It,Rr,et,Yt))});var Dr=Pe?void 0:(Ie?de?sl:Oc:de?Yi:ga)(et);return ft(Dr||et,function(Pr,Rr){Dr&&(Pr=et[Rr=Pr]),Rt(Qt,Rr,j(Pr,wt,It,Rr,et,Yt))}),Qt},Yh=function(j){return Lc(j,4)},zu=function(j){return function(){return j}},ns=function(j){return function(et,wt,It){for(var Nt=-1,Ft=Object(et),Yt=It(et),Qt=Yt.length;Qt--;){var ee=Yt[j?Qt:++Nt];if(wt(Ft[ee],ee,Ft)===!1)break}return et}}(),Mf=function(j,et){return j&&ns(j,et,ga)},xs=function(j,et){return function(wt,It){if(wt==null)return wt;if(!Ci(wt))return j(wt,It);for(var Nt=wt.length,Ft=et?Nt:-1,Yt=Object(wt);(et?Ft--:++Ft<Nt)&&It(Yt[Ft],Ft,Yt)!==!1;);return wt}}(Mf),Jl=function(j){return j},Cl=function(j){return typeof j=="function"?j:Jl},If=function(j,et){return(hr(j)?ft:xs)(j,Cl(et))},Tl=If,_o=function(j,et){var wt=[];return xs(j,function(It,Nt,Ft){et(It,Nt,Ft)&&wt.push(It)}),wt},Uu=function(j){return this.__data__.set(j,"__lodash_hash_undefined__"),this},ou=function(j){return this.__data__.has(j)};function ql(j){var et=-1,wt=j==null?0:j.length;for(this.__data__=new br;++et<wt;)this.add(j[et])}ql.prototype.add=ql.prototype.push=Uu,ql.prototype.has=ou;var Xh=ql,ul=function(j,et){for(var wt=-1,It=j==null?0:j.length;++wt<It;)if(et(j[wt],wt,j))return!0;return!1},tc=function(j,et){return j.has(et)},ec=function(j,et,wt,It,Nt,Ft){var Yt=1&wt,Qt=j.length,ee=et.length;if(Qt!=ee&&!(Yt&&ee>Qt))return!1;var de=Ft.get(j),Ie=Ft.get(et);if(de&&Ie)return de==et&&Ie==j;var Pe=-1,Ke=!0,Ar=2&wt?new Xh:void 0;for(Ft.set(j,et),Ft.set(et,j);++Pe<Qt;){var pn=j[Pe],Dr=et[Pe];if(It)var Pr=Yt?It(Dr,pn,Pe,et,j,Ft):It(pn,Dr,Pe,j,et,Ft);if(Pr!==void 0){if(Pr)continue;Ke=!1;break}if(Ar){if(!ul(et,function(Rr,zn){if(!tc(Ar,zn)&&(pn===Rr||Nt(pn,Rr,wt,It,Ft)))return Ar.push(zn)})){Ke=!1;break}}else if(pn!==Dr&&!Nt(pn,Dr,wt,It,Ft)){Ke=!1;break}}return Ft.delete(j),Ft.delete(et),Ke},mo=function(j){var et=-1,wt=Array(j.size);return j.forEach(function(It,Nt){wt[++et]=[Nt,It]}),wt},Pu=function(j){var et=-1,wt=Array(j.size);return j.forEach(function(It){wt[++et]=It}),wt},eo=dt?dt.prototype:void 0,ch=eo?eo.valueOf:void 0,$h=function(j,et,wt,It,Nt,Ft,Yt){switch(wt){case"[object DataView]":if(j.byteLength!=et.byteLength||j.byteOffset!=et.byteOffset)return!1;j=j.buffer,et=et.buffer;case"[object ArrayBuffer]":return!(j.byteLength!=et.byteLength||!Ft(new of(j),new of(et)));case"[object Boolean]":case"[object Date]":case"[object Number]":return B(+j,+et);case"[object Error]":return j.name==et.name&&j.message==et.message;case"[object RegExp]":case"[object String]":return j==et+"";case"[object Map]":var Qt=mo;case"[object Set]":var ee=1&It;if(Qt||(Qt=Pu),j.size!=et.size&&!ee)return!1;var de=Yt.get(j);if(de)return de==et;It|=2,Yt.set(j,et);var Ie=ec(Qt(j),Qt(et),It,Nt,Ft,Yt);return Yt.delete(j),Ie;case"[object Symbol]":if(ch)return ch.call(j)==ch.call(et)}return!1},Xs=Object.prototype.hasOwnProperty,Kh=function(j,et,wt,It,Nt,Ft){var Yt=1&wt,Qt=Oc(j),ee=Qt.length;if(ee!=Oc(et).length&&!Yt)return!1;for(var de=ee;de--;){var Ie=Qt[de];if(!(Yt?Ie in et:Xs.call(et,Ie)))return!1}var Pe=Ft.get(j),Ke=Ft.get(et);if(Pe&&Ke)return Pe==et&&Ke==j;var Ar=!0;Ft.set(j,et),Ft.set(et,j);for(var pn=Yt;++de<ee;){var Dr=j[Ie=Qt[de]],Pr=et[Ie];if(It)var Rr=Yt?It(Pr,Dr,Ie,et,j,Ft):It(Dr,Pr,Ie,j,et,Ft);if(!(Rr===void 0?Dr===Pr||Nt(Dr,Pr,wt,It,Ft):Rr)){Ar=!1;break}pn||(pn=Ie=="constructor")}if(Ar&&!pn){var zn=j.constructor,ni=et.constructor;zn==ni||!("constructor"in j)||!("constructor"in et)||typeof zn=="function"&&zn instanceof zn&&typeof ni=="function"&&ni instanceof ni||(Ar=!1)}return Ft.delete(j),Ft.delete(et),Ar},Of=Object.prototype.hasOwnProperty,rc=function(j,et,wt,It,Nt,Ft){var Yt=hr(j),Qt=hr(et),ee=Yt?"[object Array]":Zl(j),de=Qt?"[object Array]":Zl(et),Ie=(ee=ee=="[object Arguments]"?"[object Object]":ee)=="[object Object]",Pe=(de=de=="[object Arguments]"?"[object Object]":de)=="[object Object]",Ke=ee==de;if(Ke&&kn(j)){if(!kn(et))return!1;Yt=!0,Ie=!1}if(Ke&&!Ie)return Ft||(Ft=new Ut),Yt||_n(j)?ec(j,et,wt,It,Nt,Ft):$h(j,et,ee,wt,It,Nt,Ft);if(!(1&wt)){var Ar=Ie&&Of.call(j,"__wrapped__"),pn=Pe&&Of.call(et,"__wrapped__");if(Ar||pn){var Dr=Ar?j.value():j,Pr=pn?et.value():et;return Ft||(Ft=new Ut),Nt(Dr,Pr,wt,It,Ft)}}return!!Ke&&(Ft||(Ft=new Ut),Kh(j,et,wt,It,Nt,Ft))},Rc=function j(et,wt,It,Nt,Ft){return et===wt||(et==null||wt==null||!be(et)&&!be(wt)?et!=et&&wt!=wt:rc(et,wt,It,Nt,j,Ft))},nc=function(j,et,wt,It){var Nt=wt.length,Ft=Nt,Yt=!It;if(j==null)return!Ft;for(j=Object(j);Nt--;){var Qt=wt[Nt];if(Yt&&Qt[2]?Qt[1]!==j[Qt[0]]:!(Qt[0]in j))return!1}for(;++Nt<Ft;){var ee=(Qt=wt[Nt])[0],de=j[ee],Ie=Qt[1];if(Yt&&Qt[2]){if(de===void 0&&!(ee in j))return!1}else{var Pe=new Ut;if(It)var Ke=It(de,Ie,ee,j,et,Pe);if(!(Ke===void 0?Rc(Ie,de,3,It,Pe):Ke))return!1}}return!0},ll=function(j){return j==j&&!se(j)},ic=function(j){for(var et=ga(j),wt=et.length;wt--;){var It=et[wt],Nt=j[It];et[wt]=[It,Nt,ll(Nt)]}return et},Ns=function(j,et){return function(wt){return wt!=null&&wt[j]===et&&(et!==void 0||j in Object(wt))}},fh=function(j){var et=ic(j);return et.length==1&&et[0][2]?Ns(et[0][0],et[0][1]):function(wt){return wt===j||nc(wt,j,et)}},ju=function(j){return typeof j=="symbol"||be(j)&&qt(j)=="[object Symbol]"},fe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,qe=/^\w*$/,Sr=function(j,et){if(hr(j))return!1;var wt=typeof j;return!(wt!="number"&&wt!="symbol"&&wt!="boolean"&&j!=null&&!ju(j))||qe.test(j)||!fe.test(j)||et!=null&&j in Object(et)};function Kr(j,et){if(typeof j!="function"||et!=null&&typeof et!="function")throw new TypeError("Expected a function");var wt=function(){var It=arguments,Nt=et?et.apply(this,It):It[0],Ft=wt.cache;if(Ft.has(Nt))return Ft.get(Nt);var Yt=j.apply(this,It);return wt.cache=Ft.set(Nt,Yt)||Ft,Yt};return wt.cache=new(Kr.Cache||br),wt}Kr.Cache=br;var Pn=Kr,ci=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Pi=/\\(\\)?/g,xa=function(j){var et=Pn(j,function(It){return wt.size===500&&wt.clear(),It}),wt=et.cache;return et}(function(j){var et=[];return j.charCodeAt(0)===46&&et.push(""),j.replace(ci,function(wt,It,Nt,Ft){et.push(Nt?Ft.replace(Pi,"$1"):It||wt)}),et}),ro=function(j,et){for(var wt=-1,It=j==null?0:j.length,Nt=Array(It);++wt<It;)Nt[wt]=et(j[wt],wt,j);return Nt},su=dt?dt.prototype:void 0,gu=su?su.toString:void 0,hh=function j(et){if(typeof et=="string")return et;if(hr(et))return ro(et,j)+"";if(ju(et))return gu?gu.call(et):"";var wt=et+"";return wt=="0"&&1/et==-1/0?"-0":wt},Zh=function(j){return j==null?"":hh(j)},Df=function(j,et){return hr(j)?j:Sr(j,et)?[j]:xa(Zh(j))},Od=function(j){if(typeof j=="string"||ju(j))return j;var et=j+"";return et=="0"&&1/j==-1/0?"-0":et},Dd=function(j,et){for(var wt=0,It=(et=Df(et,j)).length;j!=null&&wt<It;)j=j[Od(et[wt++])];return wt&&wt==It?j:void 0},dh=function(j,et,wt){var It=j==null?void 0:Dd(j,et);return It===void 0?wt:It},rp=function(j,et){return j!=null&&et in Object(j)},Iv=function(j,et,wt){for(var It=-1,Nt=(et=Df(et,j)).length,Ft=!1;++It<Nt;){var Yt=Od(et[It]);if(!(Ft=j!=null&&wt(j,Yt)))break;j=j[Yt]}return Ft||++It!=Nt?Ft:!!(Nt=j==null?0:j.length)&&Zn(Nt)&&Tn(Yt,Nt)&&(hr(j)||sn(j))},Pd=function(j,et){return j!=null&&Iv(j,et,rp)},Pf=function(j,et){return Sr(j)&&ll(et)?Ns(Od(j),et):function(wt){var It=dh(wt,j);return It===void 0&&It===et?Pd(wt,j):Rc(et,It,3)}},cl=function(j){return function(et){return et==null?void 0:et[j]}},Fc=function(j){return function(et){return Dd(et,j)}},Lf=function(j){return Sr(j)?cl(Od(j)):Fc(j)},$s=function(j){return typeof j=="function"?j:j==null?Jl:typeof j=="object"?hr(j)?Pf(j[0],j[1]):fh(j):Lf(j)},Ov=function(j,et){return(hr(j)?ho:_o)(j,$s(et))},uf=Object.prototype.hasOwnProperty,yu=function(j,et){return j!=null&&uf.call(j,et)},ev=function(j,et){return j!=null&&Iv(j,et,yu)},rv=Object.prototype.hasOwnProperty,Sp=function(j){if(j==null)return!0;if(Ci(j)&&(hr(j)||typeof j=="string"||typeof j.splice=="function"||kn(j)||_n(j)||sn(j)))return!j.length;var et=Zl(j);if(et=="[object Map]"||et=="[object Set]")return!j.size;if(ti(j))return!fa(j).length;for(var wt in j)if(rv.call(j,wt))return!1;return!0},np=function(j){return j===void 0},Ld=function(j,et){var wt=-1,It=Ci(j)?Array(j.length):[];return xs(j,function(Nt,Ft,Yt){It[++wt]=et(Nt,Ft,Yt)}),It},nv=function(j,et){return(hr(j)?ro:Ld)(j,$s(et))},_e=function(j,et,wt,It){var Nt=-1,Ft=j==null?0:j.length;for(It&&Ft&&(wt=j[++Nt]);++Nt<Ft;)wt=et(wt,j[Nt],Nt,j);return wt},tn=function(j,et,wt,It,Nt){return Nt(j,function(Ft,Yt,Qt){wt=It?(It=!1,Ft):et(wt,Ft,Yt,Qt)}),wt},Z=function(j,et,wt){var It=hr(j)?_e:tn,Nt=arguments.length<3;return It(j,$s(et),wt,Nt,xs)},w=function(j){return typeof j=="string"||!hr(j)&&be(j)&&qt(j)=="[object String]"},hi=cl("length"),An=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),ua=function(j){return An.test(j)},qo="[\\ud800-\\udfff]",pi="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Nc="\\ud83c[\\udffb-\\udfff]",ks="[^\\ud800-\\udfff]",uu="(?:\\ud83c[\\udde6-\\uddff]){2}",ac="[\\ud800-\\udbff][\\udc00-\\udfff]",Ja="(?:"+pi+"|"+Nc+")?",Wu="[\\ufe0e\\ufe0f]?"+Ja+("(?:\\u200d(?:"+[ks,uu,ac].join("|")+")[\\ufe0e\\ufe0f]?"+Ja+")*"),lf="(?:"+[ks+pi+"?",pi,uu,ac,qo].join("|")+")",oc=RegExp(Nc+"(?="+Nc+")|"+lf+Wu,"g"),ha=function(j){for(var et=oc.lastIndex=0;oc.test(j);)++et;return et},sc=function(j){return ua(j)?ha(j):hi(j)},uc=function(j){if(j==null)return 0;if(Ci(j))return w(j)?sc(j):j.length;var et=Zl(j);return et=="[object Map]"||et=="[object Set]"?j.size:fa(j).length},fl=function(j,et,wt){var It=hr(j),Nt=It||kn(j)||_n(j);if(et=$s(et),wt==null){var Ft=j&&j.constructor;wt=Nt?It?new Ft:[]:se(j)&&he(Ft)?Ou(Ic(j)):{}}return(Nt?ft:Mf)(j,function(Yt,Qt,ee){return et(wt,Yt,Qt,ee)}),wt},Rf=dt?dt.isConcatSpreadable:void 0,Qh=function(j){return hr(j)||sn(j)||!!(Rf&&j&&j[Rf])},kc=function j(et,wt,It,Nt,Ft){var Yt=-1,Qt=et.length;for(It||(It=Qh),Ft||(Ft=[]);++Yt<Qt;){var ee=et[Yt];wt>0&&It(ee)?wt>1?j(ee,wt-1,It,Nt,Ft):Al(Ft,ee):Nt||(Ft[Ft.length]=ee)}return Ft},lc=function(j,et,wt){switch(wt.length){case 0:return j.call(et);case 1:return j.call(et,wt[0]);case 2:return j.call(et,wt[0],wt[1]);case 3:return j.call(et,wt[0],wt[1],wt[2])}return j.apply(et,wt)},Fa=Math.max,Ri=function(j,et,wt){return et=Fa(et===void 0?j.length-1:et,0),function(){for(var It=arguments,Nt=-1,Ft=Fa(It.length-et,0),Yt=Array(Ft);++Nt<Ft;)Yt[Nt]=It[et+Nt];Nt=-1;for(var Qt=Array(et+1);++Nt<et;)Qt[Nt]=It[Nt];return Qt[et]=wt(Yt),lc(j,this,Qt)}},ds=pt?function(j,et){return pt(j,"toString",{configurable:!0,enumerable:!1,value:zu(et),writable:!0})}:Jl,co=Date.now,Ff=function(j){var et=0,wt=0;return function(){var It=co(),Nt=16-(It-wt);if(wt=It,Nt>0){if(++et>=800)return arguments[0]}else et=0;return j.apply(void 0,arguments)}}(ds),Vu=function(j,et){return Ff(Ri(j,et,Jl),j+"")},cf=function(j,et,wt,It){for(var Nt=j.length,Ft=wt+(It?1:-1);It?Ft--:++Ft<Nt;)if(et(j[Ft],Ft,j))return Ft;return-1},Jh=function(j){return j!=j},cc=function(j,et,wt){for(var It=wt-1,Nt=j.length;++It<Nt;)if(j[It]===et)return It;return-1},hl=function(j,et,wt){return et==et?cc(j,et,wt):cf(j,Jh,wt)},fc=function(j,et){return!!(j!=null&&j.length)&&hl(j,et,0)>-1},Ml=function(j,et,wt){for(var It=-1,Nt=j==null?0:j.length;++It<Nt;)if(wt(et,j[It]))return!0;return!1},qh=function(){},ff=Iu&&1/Pu(new Iu([,-0]))[1]==1/0?function(j){return new Iu(j)}:qh,Il=function(j,et,wt){var It=-1,Nt=fc,Ft=j.length,Yt=!0,Qt=[],ee=Qt;if(wt)Yt=!1,Nt=Ml;else if(Ft>=200){var de=et?null:ff(j);if(de)return Pu(de);Yt=!1,Nt=tc,ee=new Xh}else ee=et?[]:Qt;t:for(;++It<Ft;){var Ie=j[It],Pe=et?et(Ie):Ie;if(Ie=wt||Ie!==0?Ie:0,Yt&&Pe==Pe){for(var Ke=ee.length;Ke--;)if(ee[Ke]===Pe)continue t;et&&ee.push(Pe),Qt.push(Ie)}else Nt(ee,Pe,wt)||(ee!==Qt&&ee.push(Pe),Qt.push(Ie))}return Qt},Ol=function(j){return be(j)&&Ci(j)},Hu=Vu(function(j){return Il(kc(j,1,Ol,!0))}),vh=function(j,et){return ro(et,function(wt){return j[wt]})},Yu,Rd=function(j){return j==null?[]:vh(j,ga(j))};try{Yu={clone:Yh,constant:zu,each:Tl,filter:Ov,has:ev,isArray:hr,isEmpty:Sp,isFunction:he,isUndefined:np,keys:ga,map:nv,reduce:Z,size:uc,transform:fl,union:Hu,values:Rd}}catch(j){}Yu||(Yu=window._);var vi=Yu,uo=Ki;function Ki(j){this._isDirected=!vi.has(j,"directed")||j.directed,this._isMultigraph=!!vi.has(j,"multigraph")&&j.multigraph,this._isCompound=!!vi.has(j,"compound")&&j.compound,this._label=void 0,this._defaultNodeLabelFn=vi.constant(void 0),this._defaultEdgeLabelFn=vi.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children["\0"]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function Dl(j,et){j[et]?j[et]++:j[et]=1}function td(j,et){--j[et]||delete j[et]}function dl(j,et,wt,It){var Nt=""+et,Ft=""+wt;if(!j&&Nt>Ft){var Yt=Nt;Nt=Ft,Ft=Yt}return Nt+""+Ft+""+(vi.isUndefined(It)?"\0":It)}function hc(j,et,wt,It){var Nt=""+et,Ft=""+wt;if(!j&&Nt>Ft){var Yt=Nt;Nt=Ft,Ft=Yt}var Qt={v:Nt,w:Ft};return It&&(Qt.name=It),Qt}function dc(j,et){return dl(j,et.v,et.w,et.name)}Ki.prototype._nodeCount=0,Ki.prototype._edgeCount=0,Ki.prototype.isDirected=function(){return this._isDirected},Ki.prototype.isMultigraph=function(){return this._isMultigraph},Ki.prototype.isCompound=function(){return this._isCompound},Ki.prototype.setGraph=function(j){return this._label=j,this},Ki.prototype.graph=function(){return this._label},Ki.prototype.setDefaultNodeLabel=function(j){return vi.isFunction(j)||(j=vi.constant(j)),this._defaultNodeLabelFn=j,this},Ki.prototype.nodeCount=function(){return this._nodeCount},Ki.prototype.nodes=function(){return vi.keys(this._nodes)},Ki.prototype.sources=function(){var j=this;return vi.filter(this.nodes(),function(et){return vi.isEmpty(j._in[et])})},Ki.prototype.sinks=function(){var j=this;return vi.filter(this.nodes(),function(et){return vi.isEmpty(j._out[et])})},Ki.prototype.setNodes=function(j,et){var wt=arguments,It=this;return vi.each(j,function(Nt){wt.length>1?It.setNode(Nt,et):It.setNode(Nt)}),this},Ki.prototype.setNode=function(j,et){return vi.has(this._nodes,j)?(arguments.length>1&&(this._nodes[j]=et),this):(this._nodes[j]=arguments.length>1?et:this._defaultNodeLabelFn(j),this._isCompound&&(this._parent[j]="\0",this._children[j]={},this._children["\0"][j]=!0),this._in[j]={},this._preds[j]={},this._out[j]={},this._sucs[j]={},++this._nodeCount,this)},Ki.prototype.node=function(j){return this._nodes[j]},Ki.prototype.hasNode=function(j){return vi.has(this._nodes,j)},Ki.prototype.removeNode=function(j){var et=this;if(vi.has(this._nodes,j)){var wt=function(It){et.removeEdge(et._edgeObjs[It])};delete this._nodes[j],this._isCompound&&(this._removeFromParentsChildList(j),delete this._parent[j],vi.each(this.children(j),function(It){et.setParent(It)}),delete this._children[j]),vi.each(vi.keys(this._in[j]),wt),delete this._in[j],delete this._preds[j],vi.each(vi.keys(this._out[j]),wt),delete this._out[j],delete this._sucs[j],--this._nodeCount}return this},Ki.prototype.setParent=function(j,et){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(vi.isUndefined(et))et="\0";else{for(var wt=et+="";!vi.isUndefined(wt);wt=this.parent(wt))if(wt===j)throw new Error("Setting "+et+" as parent of "+j+" would create a cycle");this.setNode(et)}return this.setNode(j),this._removeFromParentsChildList(j),this._parent[j]=et,this._children[et][j]=!0,this},Ki.prototype._removeFromParentsChildList=function(j){delete this._children[this._parent[j]][j]},Ki.prototype.parent=function(j){if(this._isCompound){var et=this._parent[j];if(et!=="\0")return et}},Ki.prototype.children=function(j){if(vi.isUndefined(j)&&(j="\0"),this._isCompound){var et=this._children[j];if(et)return vi.keys(et)}else{if(j==="\0")return this.nodes();if(this.hasNode(j))return[]}},Ki.prototype.predecessors=function(j){var et=this._preds[j];if(et)return vi.keys(et)},Ki.prototype.successors=function(j){var et=this._sucs[j];if(et)return vi.keys(et)},Ki.prototype.neighbors=function(j){var et=this.predecessors(j);if(et)return vi.union(et,this.successors(j))},Ki.prototype.isLeaf=function(j){return(this.isDirected()?this.successors(j):this.neighbors(j)).length===0},Ki.prototype.filterNodes=function(j){var et=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});et.setGraph(this.graph());var wt=this;vi.each(this._nodes,function(Ft,Yt){j(Yt)&&et.setNode(Yt,Ft)}),vi.each(this._edgeObjs,function(Ft){et.hasNode(Ft.v)&&et.hasNode(Ft.w)&&et.setEdge(Ft,wt.edge(Ft))});var It={};function Nt(Ft){var Yt=wt.parent(Ft);return Yt===void 0||et.hasNode(Yt)?(It[Ft]=Yt,Yt):Yt in It?It[Yt]:Nt(Yt)}return this._isCompound&&vi.each(et.nodes(),function(Ft){et.setParent(Ft,Nt(Ft))}),et},Ki.prototype.setDefaultEdgeLabel=function(j){return vi.isFunction(j)||(j=vi.constant(j)),this._defaultEdgeLabelFn=j,this},Ki.prototype.edgeCount=function(){return this._edgeCount},Ki.prototype.edges=function(){return vi.values(this._edgeObjs)},Ki.prototype.setPath=function(j,et){var wt=this,It=arguments;return vi.reduce(j,function(Nt,Ft){return It.length>1?wt.setEdge(Nt,Ft,et):wt.setEdge(Nt,Ft),Ft}),this},Ki.prototype.setEdge=function(){var j,et,wt,It,Nt=!1,Ft=arguments[0];typeof Ft=="object"&&Ft!==null&&"v"in Ft?(j=Ft.v,et=Ft.w,wt=Ft.name,arguments.length===2&&(It=arguments[1],Nt=!0)):(j=Ft,et=arguments[1],wt=arguments[3],arguments.length>2&&(It=arguments[2],Nt=!0)),j=""+j,et=""+et,vi.isUndefined(wt)||(wt=""+wt);var Yt=dl(this._isDirected,j,et,wt);if(vi.has(this._edgeLabels,Yt))return Nt&&(this._edgeLabels[Yt]=It),this;if(!vi.isUndefined(wt)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(j),this.setNode(et),this._edgeLabels[Yt]=Nt?It:this._defaultEdgeLabelFn(j,et,wt);var Qt=hc(this._isDirected,j,et,wt);return j=Qt.v,et=Qt.w,Object.freeze(Qt),this._edgeObjs[Yt]=Qt,Dl(this._preds[et],j),Dl(this._sucs[j],et),this._in[et][Yt]=Qt,this._out[j][Yt]=Qt,this._edgeCount++,this},Ki.prototype.edge=function(j,et,wt){var It=arguments.length===1?dc(this._isDirected,arguments[0]):dl(this._isDirected,j,et,wt);return this._edgeLabels[It]},Ki.prototype.hasEdge=function(j,et,wt){var It=arguments.length===1?dc(this._isDirected,arguments[0]):dl(this._isDirected,j,et,wt);return vi.has(this._edgeLabels,It)},Ki.prototype.removeEdge=function(j,et,wt){var It=arguments.length===1?dc(this._isDirected,arguments[0]):dl(this._isDirected,j,et,wt),Nt=this._edgeObjs[It];return Nt&&(j=Nt.v,et=Nt.w,delete this._edgeLabels[It],delete this._edgeObjs[It],td(this._preds[et],j),td(this._sucs[j],et),delete this._in[et][It],delete this._out[j][It],this._edgeCount--),this},Ki.prototype.inEdges=function(j,et){var wt=this._in[j];if(wt){var It=vi.values(wt);return et?vi.filter(It,function(Nt){return Nt.v===et}):It}},Ki.prototype.outEdges=function(j,et){var wt=this._out[j];if(wt){var It=vi.values(wt);return et?vi.filter(It,function(Nt){return Nt.w===et}):It}},Ki.prototype.nodeEdges=function(j,et){var wt=this.inEdges(j,et);if(wt)return wt.concat(this.outEdges(j,et))};var bs={Graph:uo,version:"2.1.8"},Nf={write:function(j){var et={options:{directed:j.isDirected(),multigraph:j.isMultigraph(),compound:j.isCompound()},nodes:Ks(j),edges:Os(j)};return vi.isUndefined(j.graph())||(et.value=vi.clone(j.graph())),et},read:function(j){var et=new uo(j.options).setGraph(j.value);return vi.each(j.nodes,function(wt){et.setNode(wt.v,wt.value),wt.parent&&et.setParent(wt.v,wt.parent)}),vi.each(j.edges,function(wt){et.setEdge({v:wt.v,w:wt.w,name:wt.name},wt.value)}),et}};function Ks(j){return vi.map(j.nodes(),function(et){var wt=j.node(et),It=j.parent(et),Nt={v:et};return vi.isUndefined(wt)||(Nt.value=wt),vi.isUndefined(It)||(Nt.parent=It),Nt})}function Os(j){return vi.map(j.edges(),function(et){var wt=j.edge(et),It={v:et.v,w:et.w};return vi.isUndefined(et.name)||(It.name=et.name),vi.isUndefined(wt)||(It.value=wt),It})}var Xu=function(j){var et,wt={},It=[];function Nt(Ft){vi.has(wt,Ft)||(wt[Ft]=!0,et.push(Ft),vi.each(j.successors(Ft),Nt),vi.each(j.predecessors(Ft),Nt))}return vi.each(j.nodes(),function(Ft){et=[],Nt(Ft),et.length&&It.push(et)}),It},Pl=Ao;function Ao(){this._arr=[],this._keyIndices={}}Ao.prototype.size=function(){return this._arr.length},Ao.prototype.keys=function(){return this._arr.map(function(j){return j.key})},Ao.prototype.has=function(j){return vi.has(this._keyIndices,j)},Ao.prototype.priority=function(j){var et=this._keyIndices[j];if(et!==void 0)return this._arr[et].priority},Ao.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},Ao.prototype.add=function(j,et){var wt=this._keyIndices;if(j=String(j),!vi.has(wt,j)){var It=this._arr,Nt=It.length;return wt[j]=Nt,It.push({key:j,priority:et}),this._decrease(Nt),!0}return!1},Ao.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var j=this._arr.pop();return delete this._keyIndices[j.key],this._heapify(0),j.key},Ao.prototype.decrease=function(j,et){var wt=this._keyIndices[j];if(et>this._arr[wt].priority)throw new Error("New priority is greater than current priority. Key: "+j+" Old: "+this._arr[wt].priority+" New: "+et);this._arr[wt].priority=et,this._decrease(wt)},Ao.prototype._heapify=function(j){var et=this._arr,wt=2*j,It=wt+1,Nt=j;wt<et.length&&(Nt=et[wt].priority<et[Nt].priority?wt:Nt,It<et.length&&(Nt=et[It].priority<et[Nt].priority?It:Nt),Nt!==j&&(this._swap(j,Nt),this._heapify(Nt)))},Ao.prototype._decrease=function(j){for(var et,wt=this._arr,It=wt[j].priority;j!==0&&!(wt[et=j>>1].priority<It);)this._swap(j,et),j=et},Ao.prototype._swap=function(j,et){var wt=this._arr,It=this._keyIndices,Nt=wt[j],Ft=wt[et];wt[j]=Ft,wt[et]=Nt,It[Ft.key]=j,It[Nt.key]=et};var kf=function(j,et,wt,It){return function(Nt,Ft,Yt,Qt){var ee,de,Ie={},Pe=new Pl,Ke=function(Ar){var pn=Ar.v!==ee?Ar.v:Ar.w,Dr=Ie[pn],Pr=Yt(Ar),Rr=de.distance+Pr;if(Pr<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+Ar+" Weight: "+Pr);Rr<Dr.distance&&(Dr.distance=Rr,Dr.predecessor=ee,Pe.decrease(pn,Rr))};for(Nt.nodes().forEach(function(Ar){var pn=Ar===Ft?0:Number.POSITIVE_INFINITY;Ie[Ar]={distance:pn},Pe.add(Ar,pn)});Pe.size()>0&&(ee=Pe.removeMin(),(de=Ie[ee]).distance!==Number.POSITIVE_INFINITY);)Qt(ee).forEach(Ke);return Ie}(j,String(et),wt||$u,It||function(Nt){return j.outEdges(Nt)})},$u=vi.constant(1),vl=function(j,et,wt){return vi.transform(j.nodes(),function(It,Nt){It[Nt]=kf(j,Nt,et,wt)},{})},Co=function(j){var et=0,wt=[],It={},Nt=[];function Ft(Yt){var Qt=It[Yt]={onStack:!0,lowlink:et,index:et++};if(wt.push(Yt),j.successors(Yt).forEach(function(Ie){vi.has(It,Ie)?It[Ie].onStack&&(Qt.lowlink=Math.min(Qt.lowlink,It[Ie].index)):(Ft(Ie),Qt.lowlink=Math.min(Qt.lowlink,It[Ie].lowlink))}),Qt.lowlink===Qt.index){var ee,de=[];do ee=wt.pop(),It[ee].onStack=!1,de.push(ee);while(Yt!==ee);Nt.push(de)}}return j.nodes().forEach(function(Yt){vi.has(It,Yt)||Ft(Yt)}),Nt},Uo=function(j){return vi.filter(Co(j),function(et){return et.length>1||et.length===1&&j.hasEdge(et[0],et[0])})},Ku=function(j,et,wt){return function(It,Nt,Ft){var Yt={},Qt=It.nodes();return Qt.forEach(function(ee){Yt[ee]={},Yt[ee][ee]={distance:0},Qt.forEach(function(de){ee!==de&&(Yt[ee][de]={distance:Number.POSITIVE_INFINITY})}),Ft(ee).forEach(function(de){var Ie=de.v===ee?de.w:de.v,Pe=Nt(de);Yt[ee][Ie]={distance:Pe,predecessor:ee}})}),Qt.forEach(function(ee){var de=Yt[ee];Qt.forEach(function(Ie){var Pe=Yt[Ie];Qt.forEach(function(Ke){var Ar=Pe[ee],pn=de[Ke],Dr=Pe[Ke],Pr=Ar.distance+pn.distance;Pr<Dr.distance&&(Dr.distance=Pr,Dr.predecessor=pn.predecessor)})})}),Yt}(j,et||is,wt||function(It){return j.outEdges(It)})},is=vi.constant(1),Ds=Re;function Re(j){var et={},wt={},It=[];if(vi.each(j.sinks(),function Nt(Ft){if(vi.has(wt,Ft))throw new mu;vi.has(et,Ft)||(wt[Ft]=!0,et[Ft]=!0,vi.each(j.predecessors(Ft),Nt),delete wt[Ft],It.push(Ft))}),vi.size(et)!==j.nodeCount())throw new mu;return It}function mu(){}Re.CycleException=mu,mu.prototype=new Error;var Es=function(j,et,wt){vi.isArray(et)||(et=[et]);var It=(j.isDirected()?j.successors:j.neighbors).bind(j),Nt=[],Ft={};return vi.each(et,function(Yt){if(!j.hasNode(Yt))throw new Error("Graph does not have node: "+Yt);Zs(j,Yt,wt==="post",Ft,It,Nt)}),Nt};function Zs(j,et,wt,It,Nt,Ft){vi.has(It,et)||(It[et]=!0,wt||Ft.push(et),vi.each(Nt(et),function(Yt){Zs(j,Yt,wt,It,Nt,Ft)}),wt&&Ft.push(et))}var wa,ed={Graph:bs.Graph,json:Nf,alg:{components:Xu,dijkstra:kf,dijkstraAll:vl,findCycles:Uo,floydWarshall:Ku,isAcyclic:function(j){try{Ds(j)}catch(et){if(et instanceof Ds.CycleException)return!1;throw et}return!0},postorder:function(j,et){return Es(j,et,"post")},preorder:function(j,et){return Es(j,et,"pre")},prim:function(j,et){var wt,It=new uo,Nt={},Ft=new Pl;function Yt(ee){var de=ee.v===wt?ee.w:ee.v,Ie=Ft.priority(de);if(Ie!==void 0){var Pe=et(ee);Pe<Ie&&(Nt[de]=wt,Ft.decrease(de,Pe))}}if(j.nodeCount()===0)return It;vi.each(j.nodes(),function(ee){Ft.add(ee,Number.POSITIVE_INFINITY),It.setNode(ee)}),Ft.decrease(j.nodes()[0],0);for(var Qt=!1;Ft.size()>0;){if(wt=Ft.removeMin(),vi.has(Nt,wt))It.setEdge(wt,Nt[wt]);else{if(Qt)throw new Error("Input graph is not connected: "+j);Qt=!0}j.nodeEdges(wt).forEach(Yt)}return It},tarjan:Co,topsort:Ds},version:bs.version};try{wa=ed}catch(j){}wa||(wa=window.graphlib);var Ss=wa,rd=function(j){return Lc(j,5)},lu=function(j,et,wt){if(!se(wt))return!1;var It=typeof et;return!!(It=="number"?Ci(wt)&&Tn(et,wt.length):It=="string"&&et in wt)&&B(wt[et],j)},vc=Object.prototype,ph=vc.hasOwnProperty,gh=Vu(function(j,et){j=Object(j);var wt=-1,It=et.length,Nt=It>2?et[2]:void 0;for(Nt&&lu(et[0],et[1],Nt)&&(It=1);++wt<It;)for(var Ft=et[wt],Yt=Yi(Ft),Qt=-1,ee=Yt.length;++Qt<ee;){var de=Yt[Qt],Ie=j[de];(Ie===void 0||B(Ie,vc[de])&&!ph.call(j,de))&&(j[de]=Ft[de])}return j}),pc=function(j){return function(et,wt,It){var Nt=Object(et);if(!Ci(et)){var Ft=$s(wt);et=ga(et),wt=function(Qt){return Ft(Nt[Qt],Qt,Nt)}}var Yt=j(et,wt,It);return Yt>-1?Nt[Ft?et[Yt]:Yt]:void 0}},Bc=/^\s+|\s+$/g,pl=/^[-+]0x[0-9a-f]+$/i,Fd=/^0b[01]+$/i,Dv=/^0o[0-7]+$/i,nd=parseInt,Nd=function(j){if(typeof j=="number")return j;if(ju(j))return NaN;if(se(j)){var et=typeof j.valueOf=="function"?j.valueOf():j;j=se(et)?et+"":et}if(typeof j!="string")return j===0?j:+j;j=j.replace(Bc,"");var wt=Fd.test(j);return wt||Dv.test(j)?nd(j.slice(2),wt?2:8):pl.test(j)?NaN:+j},id=function(j){return j?(j=Nd(j))===1/0||j===-1/0?17976931348623157e292*(j<0?-1:1):j==j?j:0:j===0?j:0},gc=function(j){var et=id(j),wt=et%1;return et==et?wt?et-wt:et:0},Pv=Math.max,kd=pc(function(j,et,wt){var It=j==null?0:j.length;if(!It)return-1;var Nt=wt==null?0:gc(wt);return Nt<0&&(Nt=Pv(It+Nt,0)),cf(j,$s(et),Nt)}),iv=function(j){return j!=null&&j.length?kc(j,1):[]},cu=function(j,et){return j==null?j:ns(j,Cl(et),Yi)},yh=function(j){var et=j==null?0:j.length;return et?j[et-1]:void 0},Ll=function(j,et){var wt={};return et=$s(et),Mf(j,function(It,Nt,Ft){J(wt,Nt,et(It,Nt,Ft))}),wt},ad=function(j,et,wt){for(var It=-1,Nt=j.length;++It<Nt;){var Ft=j[It],Yt=et(Ft);if(Yt!=null&&(Qt===void 0?Yt==Yt&&!ju(Yt):wt(Yt,Qt)))var Qt=Yt,ee=Ft}return ee},ts=function(j,et){return j>et},Qs=function(j){return j&&j.length?ad(j,Jl,ts):void 0},mh=function(j,et,wt){(wt!==void 0&&!B(j[et],wt)||wt===void 0&&!(et in j))&&J(j,et,wt)},hf=Function.prototype,fu=Object.prototype,gl=hf.toString,ws=fu.hasOwnProperty,wp=gl.call(Object),vs=function(j){if(!be(j)||qt(j)!="[object Object]")return!1;var et=Ic(j);if(et===null)return!0;var wt=ws.call(et,"constructor")&&et.constructor;return typeof wt=="function"&&wt instanceof wt&&gl.call(wt)==wp},Bd=function(j,et){if((et!=="constructor"||typeof j[et]!="function")&&et!="__proto__")return j[et]},od=function(j){return ue(j,Yi(j))},Da=function(j,et,wt,It,Nt,Ft,Yt){var Qt=Bd(j,wt),ee=Bd(et,wt),de=Yt.get(ee);if(de)mh(j,wt,de);else{var Ie=Ft?Ft(Qt,ee,wt+"",j,et,Yt):void 0,Pe=Ie===void 0;if(Pe){var Ke=hr(ee),Ar=!Ke&&kn(ee),pn=!Ke&&!Ar&&_n(ee);Ie=ee,Ke||Ar||pn?hr(Qt)?Ie=Qt:Ol(Qt)?Ie=Za(Qt):Ar?(Pe=!1,Ie=po(ee,!0)):pn?(Pe=!1,Ie=Qa(ee,!0)):Ie=[]:vs(ee)||sn(ee)?(Ie=Qt,sn(Qt)?Ie=od(Qt):se(Qt)&&!he(Qt)||(Ie=Du(ee))):Pe=!1}Pe&&(Yt.set(ee,Ie),Nt(Ie,ee,It,Ft,Yt),Yt.delete(ee)),mh(j,wt,Ie)}},Zu=function j(et,wt,It,Nt,Ft){et!==wt&&ns(wt,function(Yt,Qt){if(Ft||(Ft=new Ut),se(Yt))Da(et,wt,Qt,It,j,Nt,Ft);else{var ee=Nt?Nt(Bd(et,Qt),Yt,Qt+"",et,wt,Ft):void 0;ee===void 0&&(ee=Yt),mh(et,Qt,ee)}},Yi)},Gc=function(j){return Vu(function(et,wt){var It=-1,Nt=wt.length,Ft=Nt>1?wt[Nt-1]:void 0,Yt=Nt>2?wt[2]:void 0;for(Ft=j.length>3&&typeof Ft=="function"?(Nt--,Ft):void 0,Yt&&lu(wt[0],wt[1],Yt)&&(Ft=Nt<3?void 0:Ft,Nt=1),et=Object(et);++It<Nt;){var Qt=wt[It];Qt&&j(et,Qt,It,Ft)}return et})}(function(j,et,wt){Zu(j,et,wt)}),Lv=function(j,et){return j<et},xh=function(j){return j&&j.length?ad(j,Jl,Lv):void 0},bh=function(j,et){return j&&j.length?ad(j,$s(et),Lv):void 0},_a=function(){return vt.Date.now()},To=function(j,et,wt,It){if(!se(j))return j;for(var Nt=-1,Ft=(et=Df(et,j)).length,Yt=Ft-1,Qt=j;Qt!=null&&++Nt<Ft;){var ee=Od(et[Nt]),de=wt;if(ee==="__proto__"||ee==="constructor"||ee==="prototype")return j;if(Nt!=Yt){var Ie=Qt[ee];(de=It?It(Ie,ee,Qt):void 0)===void 0&&(de=se(Ie)?Ie:Tn(et[Nt+1])?[]:{})}Rt(Qt,ee,de),Qt=Qt[ee]}return j},Qu=function(j,et,wt){for(var It=-1,Nt=et.length,Ft={};++It<Nt;){var Yt=et[It],Qt=Dd(j,Yt);wt(Qt,Yt)&&To(Ft,Df(Yt,j),Qt)}return Ft},Ua=function(j,et){return Qu(j,et,function(wt,It){return Pd(j,It)})},yc=function(j){return Ff(Ri(j,void 0,iv),j+"")}(function(j,et){return j==null?{}:Ua(j,et)}),xu=Math.ceil,sd=Math.max,Js=function(j,et,wt,It){for(var Nt=-1,Ft=sd(xu((et-j)/(wt||1)),0),Yt=Array(Ft);Ft--;)Yt[It?Ft:++Nt]=j,j+=wt;return Yt},df=function(j){return function(et,wt,It){return It&&typeof It!="number"&&lu(et,wt,It)&&(wt=It=void 0),et=id(et),wt===void 0?(wt=et,et=0):wt=id(wt),It=It===void 0?et<wt?1:-1:id(It),Js(et,wt,It,j)}}(),Rv=function(j,et){var wt=j.length;for(j.sort(et);wt--;)j[wt]=j[wt].value;return j},Eh=function(j,et){if(j!==et){var wt=j!==void 0,It=j===null,Nt=j==j,Ft=ju(j),Yt=et!==void 0,Qt=et===null,ee=et==et,de=ju(et);if(!Qt&&!de&&!Ft&&j>et||Ft&&Yt&&ee&&!Qt&&!de||It&&Yt&&ee||!wt&&ee||!Nt)return 1;if(!It&&!Ft&&!de&&j<et||de&&wt&&Nt&&!It&&!Ft||Qt&&wt&&Nt||!Yt&&Nt||!ee)return-1}return 0},Ps=function(j,et,wt){for(var It=-1,Nt=j.criteria,Ft=et.criteria,Yt=Nt.length,Qt=wt.length;++It<Yt;){var ee=Eh(Nt[It],Ft[It]);if(ee)return It>=Qt?ee:ee*(wt[It]=="desc"?-1:1)}return j.index-et.index},ud=function(j,et,wt){et=et.length?ro(et,function(Ft){return hr(Ft)?function(Yt){return Dd(Yt,Ft.length===1?Ft[0]:Ft)}:Ft}):[Jl];var It=-1;et=ro(et,wn($s));var Nt=Ld(j,function(Ft,Yt,Qt){return{criteria:ro(et,function(ee){return ee(Ft)}),index:++It,value:Ft}});return Rv(Nt,function(Ft,Yt){return Ps(Ft,Yt,wt)})},av=Vu(function(j,et){if(j==null)return[];var wt=et.length;return wt>1&&lu(j,et[0],et[1])?et=[]:wt>2&&lu(et[0],et[1],et[2])&&(et=[et[0]]),ud(j,kc(et,1),[])}),Bs=0,ld=function(j){var et=++Bs;return Zh(j)+et},cd=function(j,et,wt){for(var It=-1,Nt=j.length,Ft=et.length,Yt={};++It<Nt;){var Qt=It<Ft?et[It]:void 0;wt(Yt,j[It],Qt)}return Yt},hu,Bf=function(j,et){return cd(j||[],et||[],Rt)};try{hu={cloneDeep:rd,constant:zu,defaults:gh,each:Tl,filter:Ov,find:kd,flatten:iv,forEach:If,forIn:cu,has:ev,isUndefined:np,last:yh,map:nv,mapValues:Ll,max:Qs,merge:Gc,min:xh,minBy:bh,now:_a,pick:yc,range:df,reduce:Z,sortBy:av,uniqueId:ld,values:Rd,zipObject:Bf}}catch(j){}hu||(hu=window._);var dr=hu,zc=Uc;function Uc(){var j={};j._next=j._prev=j,this._sentinel=j}function jo(j){j._prev._next=j._next,j._next._prev=j._prev,delete j._next,delete j._prev}function Rl(j,et){if(j!=="_next"&&j!=="_prev")return et}Uc.prototype.dequeue=function(){var j=this._sentinel,et=j._prev;if(et!==j)return jo(et),et},Uc.prototype.enqueue=function(j){var et=this._sentinel;j._prev&&j._next&&jo(j),j._next=et._next,et._next._prev=j,et._next=j,j._prev=et},Uc.prototype.toString=function(){for(var j=[],et=this._sentinel,wt=et._prev;wt!==et;)j.push(JSON.stringify(wt,Rl)),wt=wt._prev;return"["+j.join(", ")+"]"};var Gf=Ss.Graph,Gd=function(j,et){if(j.nodeCount()<=1)return[];var wt=function(Nt,Ft){var Yt=new Gf,Qt=0,ee=0;dr.forEach(Nt.nodes(),function(Pe){Yt.setNode(Pe,{v:Pe,in:0,out:0})}),dr.forEach(Nt.edges(),function(Pe){var Ke=Yt.edge(Pe.v,Pe.w)||0,Ar=Ft(Pe),pn=Ke+Ar;Yt.setEdge(Pe.v,Pe.w,pn),ee=Math.max(ee,Yt.node(Pe.v).out+=Ar),Qt=Math.max(Qt,Yt.node(Pe.w).in+=Ar)});var de=dr.range(ee+Qt+3).map(function(){return new zc}),Ie=Qt+1;return dr.forEach(Yt.nodes(),function(Pe){vf(de,Ie,Yt.node(Pe))}),{graph:Yt,buckets:de,zeroIdx:Ie}}(j,et||Sh),It=function(Nt,Ft,Yt){for(var Qt,ee=[],de=Ft[Ft.length-1],Ie=Ft[0];Nt.nodeCount();){for(;Qt=Ie.dequeue();)Lu(Nt,Ft,Yt,Qt);for(;Qt=de.dequeue();)Lu(Nt,Ft,Yt,Qt);if(Nt.nodeCount()){for(var Pe=Ft.length-2;Pe>0;--Pe)if(Qt=Ft[Pe].dequeue()){ee=ee.concat(Lu(Nt,Ft,Yt,Qt,!0));break}}}return ee}(wt.graph,wt.buckets,wt.zeroIdx);return dr.flatten(dr.map(It,function(Nt){return j.outEdges(Nt.v,Nt.w)}),!0)},Sh=dr.constant(1);function Lu(j,et,wt,It,Nt){var Ft=Nt?[]:void 0;return dr.forEach(j.inEdges(It.v),function(Yt){var Qt=j.edge(Yt),ee=j.node(Yt.v);Nt&&Ft.push({v:Yt.v,w:Yt.w}),ee.out-=Qt,vf(et,wt,ee)}),dr.forEach(j.outEdges(It.v),function(Yt){var Qt=j.edge(Yt),ee=Yt.w,de=j.node(ee);de.in-=Qt,vf(et,wt,de)}),j.removeNode(It.v),Ft}function vf(j,et,wt){wt.out?wt.in?j[wt.out-wt.in+et].enqueue(wt):j[j.length-1].enqueue(wt):j[0].enqueue(wt)}var zf={run:function(j){var et=j.graph().acyclicer==="greedy"?Gd(j,function(wt){return function(It){return wt.edge(It).weight}}(j)):function(wt){var It=[],Nt={},Ft={};function Yt(Qt){dr.has(Ft,Qt)||(Ft[Qt]=!0,Nt[Qt]=!0,dr.forEach(wt.outEdges(Qt),function(ee){dr.has(Nt,ee.w)?It.push(ee):Yt(ee.w)}),delete Nt[Qt])}return dr.forEach(wt.nodes(),Yt),It}(j);dr.forEach(et,function(wt){var It=j.edge(wt);j.removeEdge(wt),It.forwardName=wt.name,It.reversed=!0,j.setEdge(wt.w,wt.v,It,dr.uniqueId("rev"))})},undo:function(j){dr.forEach(j.edges(),function(et){var wt=j.edge(et);if(wt.reversed){j.removeEdge(et);var It=wt.forwardName;delete wt.reversed,delete wt.forwardName,j.setEdge(et.w,et.v,wt,It)}})}},Uf=Ss.Graph,Na={addDummyNode:jc,simplify:function(j){var et=new Uf().setGraph(j.graph());return dr.forEach(j.nodes(),function(wt){et.setNode(wt,j.node(wt))}),dr.forEach(j.edges(),function(wt){var It=et.edge(wt.v,wt.w)||{weight:0,minlen:1},Nt=j.edge(wt);et.setEdge(wt.v,wt.w,{weight:It.weight+Nt.weight,minlen:Math.max(It.minlen,Nt.minlen)})}),et},asNonCompoundGraph:function(j){var et=new Uf({multigraph:j.isMultigraph()}).setGraph(j.graph());return dr.forEach(j.nodes(),function(wt){j.children(wt).length||et.setNode(wt,j.node(wt))}),dr.forEach(j.edges(),function(wt){et.setEdge(wt,j.edge(wt))}),et},successorWeights:function(j){var et=dr.map(j.nodes(),function(wt){var It={};return dr.forEach(j.outEdges(wt),function(Nt){It[Nt.w]=(It[Nt.w]||0)+j.edge(Nt).weight}),It});return dr.zipObject(j.nodes(),et)},predecessorWeights:function(j){var et=dr.map(j.nodes(),function(wt){var It={};return dr.forEach(j.inEdges(wt),function(Nt){It[Nt.v]=(It[Nt.v]||0)+j.edge(Nt).weight}),It});return dr.zipObject(j.nodes(),et)},intersectRect:function(j,et){var wt,It,Nt=j.x,Ft=j.y,Yt=et.x-Nt,Qt=et.y-Ft,ee=j.width/2,de=j.height/2;if(!Yt&&!Qt)throw new Error("Not possible to find intersection inside of the rectangle");return Math.abs(Qt)*ee>Math.abs(Yt)*de?(Qt<0&&(de=-de),wt=de*Yt/Qt,It=de):(Yt<0&&(ee=-ee),wt=ee,It=ee*Qt/Yt),{x:Nt+wt,y:Ft+It}},buildLayerMatrix:function(j){var et=dr.map(dr.range(bu(j)+1),function(){return[]});return dr.forEach(j.nodes(),function(wt){var It=j.node(wt),Nt=It.rank;dr.isUndefined(Nt)||(et[Nt][It.order]=wt)}),et},normalizeRanks:function(j){var et=dr.min(dr.map(j.nodes(),function(wt){return j.node(wt).rank}));dr.forEach(j.nodes(),function(wt){var It=j.node(wt);dr.has(It,"rank")&&(It.rank-=et)})},removeEmptyRanks:function(j){var et=dr.min(dr.map(j.nodes(),function(Ft){return j.node(Ft).rank})),wt=[];dr.forEach(j.nodes(),function(Ft){var Yt=j.node(Ft).rank-et;wt[Yt]||(wt[Yt]=[]),wt[Yt].push(Ft)});var It=0,Nt=j.graph().nodeRankFactor;dr.forEach(wt,function(Ft,Yt){dr.isUndefined(Ft)&&Yt%Nt!=0?--It:It&&dr.forEach(Ft,function(Qt){j.node(Qt).rank+=It})})},addBorderNode:function(j,et,wt,It){var Nt={width:0,height:0};return arguments.length>=4&&(Nt.rank=wt,Nt.order=It),jc(j,"border",Nt,et)},maxRank:bu,partition:function(j,et){var wt={lhs:[],rhs:[]};return dr.forEach(j,function(It){et(It)?wt.lhs.push(It):wt.rhs.push(It)}),wt},time:function(j,et){var wt=dr.now();try{return et()}finally{console.log(j+" time: "+(dr.now()-wt)+"ms")}},notime:function(j,et){return et()}};function jc(j,et,wt,It){var Nt;do Nt=dr.uniqueId(It);while(j.hasNode(Nt));return wt.dummy=et,j.setNode(Nt,wt),Nt}function bu(j){return dr.max(dr.map(j.nodes(),function(et){var wt=j.node(et).rank;if(!dr.isUndefined(wt))return wt}))}var Gs={run:function(j){j.graph().dummyChains=[],dr.forEach(j.edges(),function(et){(function(wt,It){var Nt,Ft,Yt,Qt=It.v,ee=wt.node(Qt).rank,de=It.w,Ie=wt.node(de).rank,Pe=It.name,Ke=wt.edge(It),Ar=Ke.labelRank;if(Ie!==ee+1){for(wt.removeEdge(It),Yt=0,++ee;ee<Ie;++Yt,++ee)Ke.points=[],Ft={width:0,height:0,edgeLabel:Ke,edgeObj:It,rank:ee},Nt=Na.addDummyNode(wt,"edge",Ft,"_d"),ee===Ar&&(Ft.width=Ke.width,Ft.height=Ke.height,Ft.dummy="edge-label",Ft.labelpos=Ke.labelpos),wt.setEdge(Qt,Nt,{weight:Ke.weight},Pe),Yt===0&&wt.graph().dummyChains.push(Nt),Qt=Nt;wt.setEdge(Qt,de,{weight:Ke.weight},Pe)}})(j,et)})},undo:function(j){dr.forEach(j.graph().dummyChains,function(et){var wt,It=j.node(et),Nt=It.edgeLabel;for(j.setEdge(It.edgeObj,Nt);It.dummy;)wt=j.successors(et)[0],j.removeNode(et),Nt.points.push({x:It.x,y:It.y}),It.dummy==="edge-label"&&(Nt.x=It.x,Nt.y=It.y,Nt.width=It.width,Nt.height=It.height),et=wt,It=j.node(et)})}},es=function(j){var et={};dr.forEach(j.sources(),function wt(It){var Nt=j.node(It);if(dr.has(et,It))return Nt.rank;et[It]=!0;var Ft=dr.min(dr.map(j.outEdges(It),function(Yt){return wt(Yt.w)-j.edge(Yt).minlen}));return Ft!==Number.POSITIVE_INFINITY&&Ft!=null||(Ft=0),Nt.rank=Ft})},Fl=function(j,et){return j.node(et.w).rank-j.node(et.v).rank-j.edge(et).minlen},mc=Ss.Graph,ka=Fl,jf=function(j){var et,wt,It=new mc({directed:!1}),Nt=j.nodes()[0],Ft=j.nodeCount();for(It.setNode(Nt,{});yl(It,j)<Ft;)et=Wc(It,j),wt=It.hasNode(et.v)?ka(j,et):-ka(j,et),du(It,j,wt);return It};function yl(j,et){return dr.forEach(j.nodes(),function wt(It){dr.forEach(et.nodeEdges(It),function(Nt){var Ft=Nt.v,Yt=It===Ft?Nt.w:Ft;j.hasNode(Yt)||ka(et,Nt)||(j.setNode(Yt,{}),j.setEdge(It,Yt,{}),wt(Yt))})}),j.nodeCount()}function Wc(j,et){return dr.minBy(et.edges(),function(wt){if(j.hasNode(wt.v)!==j.hasNode(wt.w))return ka(et,wt)})}function du(j,et,wt){dr.forEach(j.nodes(),function(It){et.node(It).rank+=wt})}var Eu=Fl,Ru=es,ps=Ss.alg.preorder,Nl=Ss.alg.postorder,Wo=Na.simplify,Vo=Mo;function Mo(j){j=Wo(j),Ru(j);var et,wt=jf(j);for(zs(wt),Wf(wt,j);et=_h(wt);)vu(wt,j,et,kl(wt,j,et))}function Wf(j,et){var wt=Nl(j,j.nodes());wt=wt.slice(0,wt.length-1),dr.forEach(wt,function(It){(function(Nt,Ft,Yt){var Qt=Nt.node(Yt).parent;Nt.edge(Yt,Qt).cutvalue=Vf(Nt,Ft,Yt)})(j,et,It)})}function Vf(j,et,wt){var It=j.node(wt).parent,Nt=!0,Ft=et.edge(wt,It),Yt=0;return Ft||(Nt=!1,Ft=et.edge(It,wt)),Yt=Ft.weight,dr.forEach(et.nodeEdges(wt),function(Qt){var ee,de,Ie=Qt.v===wt,Pe=Ie?Qt.w:Qt.v;if(Pe!==It){var Ke=Ie===Nt,Ar=et.edge(Qt).weight;if(Yt+=Ke?Ar:-Ar,ee=wt,de=Pe,j.hasEdge(ee,de)){var pn=j.edge(wt,Pe).cutvalue;Yt+=Ke?-pn:pn}}}),Yt}function zs(j,et){arguments.length<2&&(et=j.nodes()[0]),wh(j,{},1,et)}function wh(j,et,wt,It,Nt){var Ft=wt,Yt=j.node(It);return et[It]=!0,dr.forEach(j.neighbors(It),function(Qt){dr.has(et,Qt)||(wt=wh(j,et,wt,Qt,It))}),Yt.low=Ft,Yt.lim=wt++,Nt?Yt.parent=Nt:delete Yt.parent,wt}function _h(j){return dr.find(j.edges(),function(et){return j.edge(et).cutvalue<0})}function kl(j,et,wt){var It=wt.v,Nt=wt.w;et.hasEdge(It,Nt)||(It=wt.w,Nt=wt.v);var Ft=j.node(It),Yt=j.node(Nt),Qt=Ft,ee=!1;Ft.lim>Yt.lim&&(Qt=Yt,ee=!0);var de=dr.filter(et.edges(),function(Ie){return ee===Su(j,j.node(Ie.v),Qt)&&ee!==Su(j,j.node(Ie.w),Qt)});return dr.minBy(de,function(Ie){return Eu(et,Ie)})}function vu(j,et,wt,It){var Nt=wt.v,Ft=wt.w;j.removeEdge(Nt,Ft),j.setEdge(It.v,It.w,{}),zs(j),Wf(j,et),function(Yt,Qt){var ee=dr.find(Yt.nodes(),function(Ie){return!Qt.node(Ie).parent}),de=ps(Yt,ee);de=de.slice(1),dr.forEach(de,function(Ie){var Pe=Yt.node(Ie).parent,Ke=Qt.edge(Ie,Pe),Ar=!1;Ke||(Ke=Qt.edge(Pe,Ie),Ar=!0),Qt.node(Ie).rank=Qt.node(Pe).rank+(Ar?Ke.minlen:-Ke.minlen)})}(j,et)}function Su(j,et,wt){return wt.low<=et.lim&&et.lim<=wt.lim}Mo.initLowLimValues=zs,Mo.initCutValues=Wf,Mo.calcCutValue=Vf,Mo.leaveEdge=_h,Mo.enterEdge=kl,Mo.exchangeEdges=vu;var ml=es,pf=function(j){switch(j.graph().ranker){case"network-simplex":Fv(j);break;case"tight-tree":(function(et){ml(et),jf(et)})(j);break;case"longest-path":Aa(j);break;default:Fv(j)}},Aa=ml;function Fv(j){Vo(j)}var Nv=function(j){var et=function(wt){var It={},Nt=0;function Ft(Yt){var Qt=Nt;dr.forEach(wt.children(Yt),Ft),It[Yt]={low:Qt,lim:Nt++}}return dr.forEach(wt.children(),Ft),It}(j);dr.forEach(j.graph().dummyChains,function(wt){for(var It=j.node(wt),Nt=It.edgeObj,Ft=function(Pe,Ke,Ar,pn){var Dr,Pr,Rr=[],zn=[],ni=Math.min(Ke[Ar].low,Ke[pn].low),Qn=Math.max(Ke[Ar].lim,Ke[pn].lim);Dr=Ar;do Dr=Pe.parent(Dr),Rr.push(Dr);while(Dr&&(Ke[Dr].low>ni||Qn>Ke[Dr].lim));for(Pr=Dr,Dr=pn;(Dr=Pe.parent(Dr))!==Pr;)zn.push(Dr);return{path:Rr.concat(zn.reverse()),lca:Pr}}(j,et,Nt.v,Nt.w),Yt=Ft.path,Qt=Ft.lca,ee=0,de=Yt[ee],Ie=!0;wt!==Nt.w;){if(It=j.node(wt),Ie){for(;(de=Yt[ee])!==Qt&&j.node(de).maxRank<It.rank;)ee++;de===Qt&&(Ie=!1)}if(!Ie){for(;ee<Yt.length-1&&j.node(de=Yt[ee+1]).minRank<=It.rank;)ee++;de=Yt[ee]}j.setParent(wt,de),wt=j.successors(wt)[0]}})},xc={run:function(j){var et=Na.addDummyNode(j,"root",{},"_root"),wt=function(Yt){var Qt={};function ee(de,Ie){var Pe=Yt.children(de);Pe&&Pe.length&&dr.forEach(Pe,function(Ke){ee(Ke,Ie+1)}),Qt[de]=Ie}return dr.forEach(Yt.children(),function(de){ee(de,1)}),Qt}(j),It=dr.max(dr.values(wt))-1,Nt=2*It+1;j.graph().nestingRoot=et,dr.forEach(j.edges(),function(Yt){j.edge(Yt).minlen*=Nt});var Ft=function(Yt){return dr.reduce(Yt.edges(),function(Qt,ee){return Qt+Yt.edge(ee).weight},0)}(j)+1;dr.forEach(j.children(),function(Yt){Ah(j,et,Nt,Ft,It,wt,Yt)}),j.graph().nodeRankFactor=Nt},cleanup:function(j){var et=j.graph();j.removeNode(et.nestingRoot),delete et.nestingRoot,dr.forEach(j.edges(),function(wt){j.edge(wt).nestingEdge&&j.removeEdge(wt)})}};function Ah(j,et,wt,It,Nt,Ft,Yt){var Qt=j.children(Yt);if(Qt.length){var ee=Na.addBorderNode(j,"_bt"),de=Na.addBorderNode(j,"_bb"),Ie=j.node(Yt);j.setParent(ee,Yt),Ie.borderTop=ee,j.setParent(de,Yt),Ie.borderBottom=de,dr.forEach(Qt,function(Pe){Ah(j,et,wt,It,Nt,Ft,Pe);var Ke=j.node(Pe),Ar=Ke.borderTop?Ke.borderTop:Pe,pn=Ke.borderBottom?Ke.borderBottom:Pe,Dr=Ke.borderTop?It:2*It,Pr=Ar!==pn?1:Nt-Ft[Yt]+1;j.setEdge(ee,Ar,{weight:Dr,minlen:Pr,nestingEdge:!0}),j.setEdge(pn,de,{weight:Dr,minlen:Pr,nestingEdge:!0})}),j.parent(Yt)||j.setEdge(et,ee,{weight:0,minlen:Nt+Ft[Yt]})}else Yt!==et&&j.setEdge(et,Yt,{weight:0,minlen:wt})}var ov=function(j){dr.forEach(j.children(),function et(wt){var It=j.children(wt),Nt=j.node(wt);if(It.length&&dr.forEach(It,et),dr.has(Nt,"minRank")){Nt.borderLeft=[],Nt.borderRight=[];for(var Ft=Nt.minRank,Yt=Nt.maxRank+1;Ft<Yt;++Ft)Ls(j,"borderLeft","_bl",wt,Nt,Ft),Ls(j,"borderRight","_br",wt,Nt,Ft)}})};function Ls(j,et,wt,It,Nt,Ft){var Yt={width:0,height:0,rank:Ft,borderType:et},Qt=Nt[et][Ft-1],ee=Na.addDummyNode(j,"border",Yt,wt);Nt[et][Ft]=ee,j.setParent(ee,It),Qt&&j.setEdge(Qt,ee,{weight:1})}var _s={adjust:function(j){var et=j.graph().rankdir.toLowerCase();et!=="lr"&&et!=="rl"||Hf(j)},undo:function(j){var et=j.graph().rankdir.toLowerCase();et!=="bt"&&et!=="rl"||function(wt){dr.forEach(wt.nodes(),function(It){Bl(wt.node(It))}),dr.forEach(wt.edges(),function(It){var Nt=wt.edge(It);dr.forEach(Nt.points,Bl),dr.has(Nt,"y")&&Bl(Nt)})}(j),et!=="lr"&&et!=="rl"||(function(wt){dr.forEach(wt.nodes(),function(It){Ju(wt.node(It))}),dr.forEach(wt.edges(),function(It){var Nt=wt.edge(It);dr.forEach(Nt.points,Ju),dr.has(Nt,"x")&&Ju(Nt)})}(j),Hf(j))}};function Hf(j){dr.forEach(j.nodes(),function(et){Ch(j.node(et))}),dr.forEach(j.edges(),function(et){Ch(j.edge(et))})}function Ch(j){var et=j.width;j.width=j.height,j.height=et}function Bl(j){j.y=-j.y}function Ju(j){var et=j.x;j.x=j.y,j.y=et}var as=function(j){var et={},wt=dr.filter(j.nodes(),function(Qt){return!j.children(Qt).length}),It=dr.max(dr.map(wt,function(Qt){return j.node(Qt).rank})),Nt=dr.map(dr.range(It+1),function(){return[]});function Ft(Qt){if(!dr.has(et,Qt)){et[Qt]=!0;var ee=j.node(Qt);Nt[ee.rank].push(Qt),dr.forEach(j.successors(Qt),Ft)}}var Yt=dr.sortBy(wt,function(Qt){return j.node(Qt).rank});return dr.forEach(Yt,Ft),Nt},os=function(j,et){for(var wt=0,It=1;It<et.length;++It)wt+=wu(j,et[It-1],et[It]);return wt};function wu(j,et,wt){for(var It=dr.zipObject(wt,dr.map(wt,function(de,Ie){return Ie})),Nt=dr.flatten(dr.map(et,function(de){return dr.sortBy(dr.map(j.outEdges(de),function(Ie){return{pos:It[Ie.w],weight:j.edge(Ie).weight}}),"pos")}),!0),Ft=1;Ft<wt.length;)Ft<<=1;var Yt=2*Ft-1;Ft-=1;var Qt=dr.map(new Array(Yt),function(){return 0}),ee=0;return dr.forEach(Nt.forEach(function(de){var Ie=de.pos+Ft;Qt[Ie]+=de.weight;for(var Pe=0;Ie>0;)Ie%2&&(Pe+=Qt[Ie+1]),Qt[Ie=Ie-1>>1]+=de.weight;ee+=de.weight*Pe})),ee}var Vc=function(j,et){return dr.map(et,function(wt){var It=j.inEdges(wt);if(It.length){var Nt=dr.reduce(It,function(Ft,Yt){var Qt=j.edge(Yt),ee=j.node(Yt.v);return{sum:Ft.sum+Qt.weight*ee.order,weight:Ft.weight+Qt.weight}},{sum:0,weight:0});return{v:wt,barycenter:Nt.sum/Nt.weight,weight:Nt.weight}}return{v:wt}})},Th=function(j,et){var wt={};return dr.forEach(j,function(It,Nt){var Ft=wt[It.v]={indegree:0,in:[],out:[],vs:[It.v],i:Nt};dr.isUndefined(It.barycenter)||(Ft.barycenter=It.barycenter,Ft.weight=It.weight)}),dr.forEach(et.edges(),function(It){var Nt=wt[It.v],Ft=wt[It.w];dr.isUndefined(Nt)||dr.isUndefined(Ft)||(Ft.indegree++,Nt.out.push(wt[It.w]))}),function(It){var Nt=[];function Ft(ee){return function(de){de.merged||(dr.isUndefined(de.barycenter)||dr.isUndefined(ee.barycenter)||de.barycenter>=ee.barycenter)&&function(Ie,Pe){var Ke=0,Ar=0;Ie.weight&&(Ke+=Ie.barycenter*Ie.weight,Ar+=Ie.weight),Pe.weight&&(Ke+=Pe.barycenter*Pe.weight,Ar+=Pe.weight),Ie.vs=Pe.vs.concat(Ie.vs),Ie.barycenter=Ke/Ar,Ie.weight=Ar,Ie.i=Math.min(Pe.i,Ie.i),Pe.merged=!0}(ee,de)}}function Yt(ee){return function(de){de.in.push(ee),--de.indegree==0&&It.push(de)}}for(;It.length;){var Qt=It.pop();Nt.push(Qt),dr.forEach(Qt.in.reverse(),Ft(Qt)),dr.forEach(Qt.out,Yt(Qt))}return dr.map(dr.filter(Nt,function(ee){return!ee.merged}),function(ee){return dr.pick(ee,["vs","i","barycenter","weight"])})}(dr.filter(wt,function(It){return!It.indegree}))},Yf=function(j,et){var wt=Na.partition(j,function(Pe){return dr.has(Pe,"barycenter")}),It=wt.lhs,Nt=dr.sortBy(wt.rhs,function(Pe){return-Pe.i}),Ft=[],Yt=0,Qt=0,ee=0;It.sort((de=!!et,function(Pe,Ke){return Pe.barycenter<Ke.barycenter?-1:Pe.barycenter>Ke.barycenter?1:de?Ke.i-Pe.i:Pe.i-Ke.i})),ee=Xf(Ft,Nt,ee),dr.forEach(It,function(Pe){ee+=Pe.vs.length,Ft.push(Pe.vs),Yt+=Pe.barycenter*Pe.weight,Qt+=Pe.weight,ee=Xf(Ft,Nt,ee)});var de,Ie={vs:dr.flatten(Ft,!0)};return Qt&&(Ie.barycenter=Yt/Qt,Ie.weight=Qt),Ie};function Xf(j,et,wt){for(var It;et.length&&(It=dr.last(et)).i<=wt;)et.pop(),j.push(It.vs),wt++;return wt}var Hc=function j(et,wt,It,Nt){var Ft=et.children(wt),Yt=et.node(wt),Qt=Yt?Yt.borderLeft:void 0,ee=Yt?Yt.borderRight:void 0,de={};Qt&&(Ft=dr.filter(Ft,function(Dr){return Dr!==Qt&&Dr!==ee}));var Ie=Vc(et,Ft);dr.forEach(Ie,function(Dr){if(et.children(Dr.v).length){var Pr=j(et,Dr.v,It,Nt);de[Dr.v]=Pr,dr.has(Pr,"barycenter")&&(Rr=Dr,zn=Pr,dr.isUndefined(Rr.barycenter)?(Rr.barycenter=zn.barycenter,Rr.weight=zn.weight):(Rr.barycenter=(Rr.barycenter*Rr.weight+zn.barycenter*zn.weight)/(Rr.weight+zn.weight),Rr.weight+=zn.weight))}var Rr,zn});var Pe=Th(Ie,It);(function(Dr,Pr){dr.forEach(Dr,function(Rr){Rr.vs=dr.flatten(Rr.vs.map(function(zn){return Pr[zn]?Pr[zn].vs:zn}),!0)})})(Pe,de);var Ke=Yf(Pe,Nt);if(Qt&&(Ke.vs=dr.flatten([Qt,Ke.vs,ee],!0),et.predecessors(Qt).length)){var Ar=et.node(et.predecessors(Qt)[0]),pn=et.node(et.predecessors(ee)[0]);dr.has(Ke,"barycenter")||(Ke.barycenter=0,Ke.weight=0),Ke.barycenter=(Ke.barycenter*Ke.weight+Ar.order+pn.order)/(Ke.weight+2),Ke.weight+=2}return Ke},fd=Ss.Graph,hd=function(j,et,wt){var It=function(Ft){for(var Yt;Ft.hasNode(Yt=dr.uniqueId("_root")););return Yt}(j),Nt=new fd({compound:!0}).setGraph({root:It}).setDefaultNodeLabel(function(Ft){return j.node(Ft)});return dr.forEach(j.nodes(),function(Ft){var Yt=j.node(Ft),Qt=j.parent(Ft);(Yt.rank===et||Yt.minRank<=et&&et<=Yt.maxRank)&&(Nt.setNode(Ft),Nt.setParent(Ft,Qt||It),dr.forEach(j[wt](Ft),function(ee){var de=ee.v===Ft?ee.w:ee.v,Ie=Nt.edge(de,Ft),Pe=dr.isUndefined(Ie)?0:Ie.weight;Nt.setEdge(de,Ft,{weight:j.edge(ee).weight+Pe})}),dr.has(Yt,"minRank")&&Nt.setNode(Ft,{borderLeft:Yt.borderLeft[et],borderRight:Yt.borderRight[et]}))}),Nt},Mh=function(j,et,wt){var It,Nt={};dr.forEach(wt,function(Ft){for(var Yt,Qt,ee=j.parent(Ft);ee;){if((Yt=j.parent(ee))?(Qt=Nt[Yt],Nt[Yt]=ee):(Qt=It,It=ee),Qt&&Qt!==ee)return void et.setEdge(Qt,ee);ee=Yt}})},Gl=Ss.Graph,Fu=function(j){var et=Na.maxRank(j),wt=Lo(j,dr.range(1,et+1),"inEdges"),It=Lo(j,dr.range(et-1,-1,-1),"outEdges"),Nt=as(j);bc(j,Nt);for(var Ft,Yt=Number.POSITIVE_INFINITY,Qt=0,ee=0;ee<4;++Qt,++ee){gf(Qt%2?wt:It,Qt%4>=2),Nt=Na.buildLayerMatrix(j);var de=os(j,Nt);de<Yt&&(ee=0,Ft=dr.cloneDeep(Nt),Yt=de)}bc(j,Ft)};function Lo(j,et,wt){return dr.map(et,function(It){return hd(j,It,wt)})}function gf(j,et){var wt=new Gl;dr.forEach(j,function(It){var Nt=It.graph().root,Ft=Hc(It,Nt,wt,et);dr.forEach(Ft.vs,function(Yt,Qt){It.node(Yt).order=Qt}),Mh(It,wt,Ft.vs)})}function bc(j,et){dr.forEach(et,function(wt){dr.forEach(wt,function(It,Nt){j.node(It).order=Nt})})}var yf=Ss.Graph,Ec=function(j){var et,wt=Na.buildLayerMatrix(j),It=dr.merge(Sc(j,wt),mf(j,wt)),Nt={};dr.forEach(["u","d"],function(Yt){et=Yt==="u"?wt:dr.values(wt).reverse(),dr.forEach(["l","r"],function(Qt){Qt==="r"&&(et=dr.map(et,function(Pe){return dr.values(Pe).reverse()}));var ee=(Yt==="u"?j.predecessors:j.successors).bind(j),de=xf(j,et,It,ee),Ie=Ih(j,et,de.root,de.align,Qt==="r");Qt==="r"&&(Ie=dr.mapValues(Ie,function(Pe){return-Pe})),Nt[Yt+Qt]=Ie})});var Ft=qs(j,Nt);return As(Nt,Ft),bl(Nt,j.graph().align)};function Sc(j,et){var wt={};return dr.reduce(et,function(It,Nt){var Ft=0,Yt=0,Qt=It.length,ee=dr.last(Nt);return dr.forEach(Nt,function(de,Ie){var Pe=function(Ar,pn){if(Ar.node(pn).dummy)return dr.find(Ar.predecessors(pn),function(Dr){return Ar.node(Dr).dummy})}(j,de),Ke=Pe?j.node(Pe).order:Qt;(Pe||de===ee)&&(dr.forEach(Nt.slice(Yt,Ie+1),function(Ar){dr.forEach(j.predecessors(Ar),function(pn){var Dr=j.node(pn),Pr=Dr.order;!(Pr<Ft||Ke<Pr)||Dr.dummy&&j.node(Ar).dummy||Yc(wt,pn,Ar)})}),Yt=Ie+1,Ft=Ke)}),Nt}),wt}function mf(j,et){var wt={};function It(Nt,Ft,Yt,Qt,ee){var de;dr.forEach(dr.range(Ft,Yt),function(Ie){de=Nt[Ie],j.node(de).dummy&&dr.forEach(j.predecessors(de),function(Pe){var Ke=j.node(Pe);Ke.dummy&&(Ke.order<Qt||Ke.order>ee)&&Yc(wt,Pe,de)})})}return dr.reduce(et,function(Nt,Ft){var Yt,Qt=-1,ee=0;return dr.forEach(Ft,function(de,Ie){if(j.node(de).dummy==="border"){var Pe=j.predecessors(de);Pe.length&&(Yt=j.node(Pe[0]).order,It(Ft,ee,Ie,Qt,Yt),ee=Ie,Qt=Yt)}It(Ft,ee,Ft.length,Yt,Nt.length)}),Ft}),wt}function Yc(j,et,wt){if(et>wt){var It=et;et=wt,wt=It}var Nt=j[et];Nt||(j[et]=Nt={}),Nt[wt]=!0}function xl(j,et,wt){if(et>wt){var It=et;et=wt,wt=It}return dr.has(j[et],wt)}function xf(j,et,wt,It){var Nt={},Ft={},Yt={};return dr.forEach(et,function(Qt){dr.forEach(Qt,function(ee,de){Nt[ee]=ee,Ft[ee]=ee,Yt[ee]=de})}),dr.forEach(et,function(Qt){var ee=-1;dr.forEach(Qt,function(de){var Ie=It(de);if(Ie.length)for(var Pe=((Ie=dr.sortBy(Ie,function(Dr){return Yt[Dr]})).length-1)/2,Ke=Math.floor(Pe),Ar=Math.ceil(Pe);Ke<=Ar;++Ke){var pn=Ie[Ke];Ft[de]===de&&ee<Yt[pn]&&!xl(wt,de,pn)&&(Ft[pn]=de,Ft[de]=Nt[de]=Nt[pn],ee=Yt[pn])}})}),{root:Nt,align:Ft}}function Ih(j,et,wt,It,Nt){var Ft={},Yt=function(de,Ie,Pe,Ke){var Ar=new yf,pn=de.graph(),Dr=function(Pr,Rr,zn){return function(ni,Qn,Ti){var li,Di=ni.node(Qn),Wi=ni.node(Ti),zi=0;if(zi+=Di.width/2,dr.has(Di,"labelpos"))switch(Di.labelpos.toLowerCase()){case"l":li=-Di.width/2;break;case"r":li=Di.width/2}if(li&&(zi+=zn?li:-li),li=0,zi+=(Di.dummy?Rr:Pr)/2,zi+=(Wi.dummy?Rr:Pr)/2,zi+=Wi.width/2,dr.has(Wi,"labelpos"))switch(Wi.labelpos.toLowerCase()){case"l":li=Wi.width/2;break;case"r":li=-Wi.width/2}return li&&(zi+=zn?li:-li),li=0,zi}}(pn.nodesep,pn.edgesep,Ke);return dr.forEach(Ie,function(Pr){var Rr;dr.forEach(Pr,function(zn){var ni=Pe[zn];if(Ar.setNode(ni),Rr){var Qn=Pe[Rr],Ti=Ar.edge(Qn,ni);Ar.setEdge(Qn,ni,Math.max(Dr(de,zn,Rr),Ti||0))}Rr=zn})}),Ar}(j,et,wt,Nt),Qt=Nt?"borderLeft":"borderRight";function ee(de,Ie){for(var Pe=Yt.nodes(),Ke=Pe.pop(),Ar={};Ke;)Ar[Ke]?de(Ke):(Ar[Ke]=!0,Pe.push(Ke),Pe=Pe.concat(Ie(Ke))),Ke=Pe.pop()}return ee(function(de){Ft[de]=Yt.inEdges(de).reduce(function(Ie,Pe){return Math.max(Ie,Ft[Pe.v]+Yt.edge(Pe))},0)},Yt.predecessors.bind(Yt)),ee(function(de){var Ie=Yt.outEdges(de).reduce(function(Ke,Ar){return Math.min(Ke,Ft[Ar.w]-Yt.edge(Ar))},Number.POSITIVE_INFINITY),Pe=j.node(de);Ie!==Number.POSITIVE_INFINITY&&Pe.borderType!==Qt&&(Ft[de]=Math.max(Ft[de],Ie))},Yt.successors.bind(Yt)),dr.forEach(It,function(de){Ft[de]=Ft[wt[de]]}),Ft}function qs(j,et){return dr.minBy(dr.values(et),function(wt){var It=Number.NEGATIVE_INFINITY,Nt=Number.POSITIVE_INFINITY;return dr.forIn(wt,function(Ft,Yt){var Qt=function(ee,de){return ee.node(de).width}(j,Yt)/2;It=Math.max(Ft+Qt,It),Nt=Math.min(Ft-Qt,Nt)}),It-Nt})}function As(j,et){var wt=dr.values(et),It=dr.min(wt),Nt=dr.max(wt);dr.forEach(["u","d"],function(Ft){dr.forEach(["l","r"],function(Yt){var Qt,ee=Ft+Yt,de=j[ee];if(de!==et){var Ie=dr.values(de);(Qt=Yt==="l"?It-dr.min(Ie):Nt-dr.max(Ie))&&(j[ee]=dr.mapValues(de,function(Pe){return Pe+Qt}))}})})}function bl(j,et){return dr.mapValues(j.ul,function(wt,It){if(et)return j[et.toLowerCase()][It];var Nt=dr.sortBy(dr.map(j,It));return(Nt[1]+Nt[2])/2})}var dd=Ec,wc=function(j){(function(et){var wt=Na.buildLayerMatrix(et),It=et.graph().ranksep,Nt=0;dr.forEach(wt,function(Ft){var Yt=dr.max(dr.map(Ft,function(Qt){return et.node(Qt).height}));dr.forEach(Ft,function(Qt){et.node(Qt).y=Nt+Yt/2}),Nt+=Yt+It})})(j=Na.asNonCompoundGraph(j)),dr.forEach(dd(j),function(et,wt){j.node(wt).x=et})},Nu=Na.normalizeRanks,Xc=Na.removeEmptyRanks,Ro=Na,Oh=Ss.Graph,qu=function(j,et){var wt=et&&et.debugTiming?Ro.time:Ro.notime;wt("layout",function(){var It=wt("  buildLayoutGraph",function(){return function(Nt){var Ft=new Oh({multigraph:!0,compound:!0}),Yt=_c(Nt.graph());return Ft.setGraph(dr.merge({},El,Io(Yt,tl),dr.pick(Yt,Sl))),dr.forEach(Nt.nodes(),function(Qt){var ee=_c(Nt.node(Qt));Ft.setNode(Qt,dr.defaults(Io(ee,bf),ya)),Ft.setParent(Qt,Nt.parent(Qt))}),dr.forEach(Nt.edges(),function(Qt){var ee=_c(Nt.edge(Qt));Ft.setEdge(Qt,dr.merge({},Cs,Io(ee,ss),dr.pick(ee,no)))}),Ft}(j)});wt("  runLayout",function(){(function(Nt,Ft){Ft("    makeSpaceForEdgeLabels",function(){(function(Yt){var Qt=Yt.graph();Qt.ranksep/=2,dr.forEach(Yt.edges(),function(ee){var de=Yt.edge(ee);de.minlen*=2,de.labelpos.toLowerCase()!=="c"&&(Qt.rankdir==="TB"||Qt.rankdir==="BT"?de.width+=de.labeloffset:de.height+=de.labeloffset)})})(Nt)}),Ft("    removeSelfEdges",function(){(function(Yt){dr.forEach(Yt.edges(),function(Qt){if(Qt.v===Qt.w){var ee=Yt.node(Qt.v);ee.selfEdges||(ee.selfEdges=[]),ee.selfEdges.push({e:Qt,label:Yt.edge(Qt)}),Yt.removeEdge(Qt)}})})(Nt)}),Ft("    acyclic",function(){zf.run(Nt)}),Ft("    nestingGraph.run",function(){xc.run(Nt)}),Ft("    rank",function(){pf(Ro.asNonCompoundGraph(Nt))}),Ft("    injectEdgeLabelProxies",function(){(function(Yt){dr.forEach(Yt.edges(),function(Qt){var ee=Yt.edge(Qt);if(ee.width&&ee.height){var de=Yt.node(Qt.v),Ie={rank:(Yt.node(Qt.w).rank-de.rank)/2+de.rank,e:Qt};Ro.addDummyNode(Yt,"edge-proxy",Ie,"_ep")}})})(Nt)}),Ft("    removeEmptyRanks",function(){Xc(Nt)}),Ft("    nestingGraph.cleanup",function(){xc.cleanup(Nt)}),Ft("    normalizeRanks",function(){Nu(Nt)}),Ft("    assignRankMinMax",function(){(function(Yt){var Qt=0;dr.forEach(Yt.nodes(),function(ee){var de=Yt.node(ee);de.borderTop&&(de.minRank=Yt.node(de.borderTop).rank,de.maxRank=Yt.node(de.borderBottom).rank,Qt=dr.max(Qt,de.maxRank))}),Yt.graph().maxRank=Qt})(Nt)}),Ft("    removeEdgeLabelProxies",function(){(function(Yt){dr.forEach(Yt.nodes(),function(Qt){var ee=Yt.node(Qt);ee.dummy==="edge-proxy"&&(Yt.edge(ee.e).labelRank=ee.rank,Yt.removeNode(Qt))})})(Nt)}),Ft("    normalize.run",function(){Gs.run(Nt)}),Ft("    parentDummyChains",function(){Nv(Nt)}),Ft("    addBorderSegments",function(){ov(Nt)}),Ft("    order",function(){Fu(Nt)}),Ft("    insertSelfEdges",function(){(function(Yt){var Qt=Ro.buildLayerMatrix(Yt);dr.forEach(Qt,function(ee){var de=0;dr.forEach(ee,function(Ie,Pe){var Ke=Yt.node(Ie);Ke.order=Pe+de,dr.forEach(Ke.selfEdges,function(Ar){Ro.addDummyNode(Yt,"selfedge",{width:Ar.label.width,height:Ar.label.height,rank:Ke.rank,order:Pe+ ++de,e:Ar.e,label:Ar.label},"_se")}),delete Ke.selfEdges})})})(Nt)}),Ft("    adjustCoordinateSystem",function(){_s.adjust(Nt)}),Ft("    position",function(){wc(Nt)}),Ft("    positionSelfEdges",function(){(function(Yt){dr.forEach(Yt.nodes(),function(Qt){var ee=Yt.node(Qt);if(ee.dummy==="selfedge"){var de=Yt.node(ee.e.v),Ie=de.x+de.width/2,Pe=de.y,Ke=ee.x-Ie,Ar=de.height/2;Yt.setEdge(ee.e,ee.label),Yt.removeNode(Qt),ee.label.points=[{x:Ie+2*Ke/3,y:Pe-Ar},{x:Ie+5*Ke/6,y:Pe-Ar},{x:Ie+Ke,y:Pe},{x:Ie+5*Ke/6,y:Pe+Ar},{x:Ie+2*Ke/3,y:Pe+Ar}],ee.label.x=ee.x,ee.label.y=ee.y}})})(Nt)}),Ft("    removeBorderNodes",function(){(function(Yt){dr.forEach(Yt.nodes(),function(Qt){if(Yt.children(Qt).length){var ee=Yt.node(Qt),de=Yt.node(ee.borderTop),Ie=Yt.node(ee.borderBottom),Pe=Yt.node(dr.last(ee.borderLeft)),Ke=Yt.node(dr.last(ee.borderRight));ee.width=Math.abs(Ke.x-Pe.x),ee.height=Math.abs(Ie.y-de.y),ee.x=Pe.x+ee.width/2,ee.y=de.y+ee.height/2}}),dr.forEach(Yt.nodes(),function(Qt){Yt.node(Qt).dummy==="border"&&Yt.removeNode(Qt)})})(Nt)}),Ft("    normalize.undo",function(){Gs.undo(Nt)}),Ft("    fixupEdgeLabelCoords",function(){(function(Yt){dr.forEach(Yt.edges(),function(Qt){var ee=Yt.edge(Qt);if(dr.has(ee,"x"))switch(ee.labelpos!=="l"&&ee.labelpos!=="r"||(ee.width-=ee.labeloffset),ee.labelpos){case"l":ee.x-=ee.width/2+ee.labeloffset;break;case"r":ee.x+=ee.width/2+ee.labeloffset}})})(Nt)}),Ft("    undoCoordinateSystem",function(){_s.undo(Nt)}),Ft("    translateGraph",function(){(function(Yt){var Qt=Number.POSITIVE_INFINITY,ee=0,de=Number.POSITIVE_INFINITY,Ie=0,Pe=Yt.graph(),Ke=Pe.marginx||0,Ar=Pe.marginy||0;function pn(Dr){var Pr=Dr.x,Rr=Dr.y,zn=Dr.width,ni=Dr.height;Qt=Math.min(Qt,Pr-zn/2),ee=Math.max(ee,Pr+zn/2),de=Math.min(de,Rr-ni/2),Ie=Math.max(Ie,Rr+ni/2)}dr.forEach(Yt.nodes(),function(Dr){pn(Yt.node(Dr))}),dr.forEach(Yt.edges(),function(Dr){var Pr=Yt.edge(Dr);dr.has(Pr,"x")&&pn(Pr)}),Qt-=Ke,de-=Ar,dr.forEach(Yt.nodes(),function(Dr){var Pr=Yt.node(Dr);Pr.x-=Qt,Pr.y-=de}),dr.forEach(Yt.edges(),function(Dr){var Pr=Yt.edge(Dr);dr.forEach(Pr.points,function(Rr){Rr.x-=Qt,Rr.y-=de}),dr.has(Pr,"x")&&(Pr.x-=Qt),dr.has(Pr,"y")&&(Pr.y-=de)}),Pe.width=ee-Qt+Ke,Pe.height=Ie-de+Ar})(Nt)}),Ft("    assignNodeIntersects",function(){(function(Yt){dr.forEach(Yt.edges(),function(Qt){var ee,de,Ie=Yt.edge(Qt),Pe=Yt.node(Qt.v),Ke=Yt.node(Qt.w);Ie.points?(ee=Ie.points[0],de=Ie.points[Ie.points.length-1]):(Ie.points=[],ee=Ke,de=Pe),Ie.points.unshift(Ro.intersectRect(Pe,ee)),Ie.points.push(Ro.intersectRect(Ke,de))})})(Nt)}),Ft("    reversePoints",function(){(function(Yt){dr.forEach(Yt.edges(),function(Qt){var ee=Yt.edge(Qt);ee.reversed&&ee.points.reverse()})})(Nt)}),Ft("    acyclic.undo",function(){zf.undo(Nt)})})(It,wt)}),wt("  updateInputGraph",function(){(function(Nt,Ft){dr.forEach(Nt.nodes(),function(Yt){var Qt=Nt.node(Yt),ee=Ft.node(Yt);Qt&&(Qt.x=ee.x,Qt.y=ee.y,Ft.children(Yt).length&&(Qt.width=ee.width,Qt.height=ee.height))}),dr.forEach(Nt.edges(),function(Yt){var Qt=Nt.edge(Yt),ee=Ft.edge(Yt);Qt.points=ee.points,dr.has(ee,"x")&&(Qt.x=ee.x,Qt.y=ee.y)}),Nt.graph().width=Ft.graph().width,Nt.graph().height=Ft.graph().height})(j,It)})})},tl=["nodesep","edgesep","ranksep","marginx","marginy"],El={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},Sl=["acyclicer","ranker","rankdir","align"],bf=["width","height"],ya={width:0,height:0},ss=["minlen","weight","width","height","labeloffset"],Cs={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},no=["labelpos"];function Io(j,et){return dr.mapValues(dr.pick(j,et),Number)}function _c(j){var et={};return dr.forEach(j,function(wt,It){et[It.toLowerCase()]=wt}),et}var vd=Ss.Graph,el={graphlib:Ss,layout:qu,debug:{debugOrdering:function(j){var et=Na.buildLayerMatrix(j),wt=new vd({compound:!0,multigraph:!0}).setGraph({});return dr.forEach(j.nodes(),function(It){wt.setNode(It,{label:It}),wt.setParent(It,"layer"+j.node(It).rank)}),dr.forEach(j.edges(),function(It){wt.setEdge(It.v,It.w,{},It.name)}),dr.forEach(et,function(It,Nt){var Ft="layer"+Nt;wt.setNode(Ft,{rank:"same"}),dr.reduce(It,function(Yt,Qt){return wt.setEdge(Yt,Qt,{style:"invis"}),Qt})}),wt}},util:{time:Na.time,notime:Na.notime},version:"0.8.5"},pd=el.graphlib,$f=el.layout;class gd{constructor(et){this.cardinality=1,this.include=F.UNSPECIFIED,this.isGroupNode=!1,this.parentNode=null,this.type=T.NODE,this.name=et.name,this.attr=et.attr||{},this.inputs=et.inputs,this.path=et.path||[],this.width=et.width,this.height=et.height}}class Ef{constructor(){this.nodes={},this.edges=[],this.nodes={},this.edges=[]}}function yd(j){const et=new Ef;return j.nodes.map(wt=>new gd(wt)).forEach(wt=>{et.nodes[wt.name]=wt,wt.inputs.forEach(It=>{(function(Nt,Ft,Yt){Yt.name!==Ft.name&&Nt.edges.push(Object.assign(Object.assign({},Yt.attr),{v:Yt.name,w:Ft.name}))})(et,wt,It)})}),et}class wl{constructor(et,wt={}){this.attr=null,this.bridgeGraph=null,this.cardinality=0,this.depth=1,this.include=F.UNSPECIFIED,this.isGroupNode=!0,this.parentNode=null,this.type=T.META,this.path=[],this.name=et,this.metaGraph=Ph(et,M.META,wt)}getFirstChild(){return this.metaGraph.node(this.metaGraph.nodes()[0])}getChildren(){return this.metaGraph.nodes().map(et=>this.metaGraph.node(et))}leaves(){let et,wt=[],It=[this];for(;It.length;){let Nt=It.shift();Nt.isGroupNode?(et=Nt.metaGraph,et.nodes().forEach(Ft=>It.push(et.node(Ft)))):wt.push(Nt.name)}return wt}}class ri{constructor(et,wt){this.v=et,this.w=wt,this.baseEdgeList=[],this.inbound=null,this.name=null}addBaseEdge(et,wt){this.baseEdgeList.push(et)}}function md(j,et={}){return new wl(j,et)}function Dh(j,et){return new ri(j,et)}function Ph(j,et,wt){const It=wt||{},Nt=new pd.Graph(It);return Nt.setGraph({name:j,rankdir:It.rankdir,type:et,align:It.align}),Nt}class Lh{constructor(et={}){this.graphOptions=et,this.index={},this.graphOptions.compound=!0,this.root=md(_,this.graphOptions),this.index[_]=this.root}getNodeMap(){return this.index}node(et){return this.index[et]}setNode(et,wt){this.index[et]=wt}getBridgeGraph(et){const wt=this.index[et];if(!wt)throw Error("Could not find node in hierarchy: "+et);if(!("metaGraph"in wt))return null;const It=wt;if(It.bridgeGraph)return It.bridgeGraph;const Nt=Ph(O,M.BRIDGE,this.graphOptions);if(It.bridgeGraph=Nt,!wt.parentNode||!("metaGraph"in wt.parentNode))return Nt;const Ft=wt.parentNode;return[Ft.metaGraph,this.getBridgeGraph(Ft.name)].forEach(Yt=>{Yt.edges().filter(Qt=>Qt.v===et||Qt.w===et).forEach(Qt=>{const ee=Qt.w===et;Yt.edge(Qt).baseEdgeList.forEach(de=>{const[Ie,Pe]=ee?[de.w,Qt.v]:[de.v,Qt.w],Ke=this.getChildName(et,Ie),Ar={v:ee?Pe:Ke,w:ee?Ke:Pe};let pn=Nt.edge(Ar);pn||(pn=Dh(Ar.v,Ar.w),pn.inbound=ee,Nt.setEdge(Ar.v,Ar.w,pn)),pn.addBaseEdge(de,this)})})}),Nt}getChildName(et,wt){let It=this.index[wt];for(;It;){if(It.parentNode&&It.parentNode.name===et)return It.name;It=It.parentNode}throw Error("Could not find immediate child for descendant: "+wt)}getPredecessors(et){const wt=this.index[et];if(!wt)throw Error("Could not find node with name: "+et);return this.getOneWayEdges(wt,!0)}getSuccessors(et){const wt=this.index[et];if(!wt)throw Error("Could not find node with name: "+et);return this.getOneWayEdges(wt,!1)}getOneWayEdges(et,wt){const It=[];if(!et.parentNode||!et.parentNode.isGroupNode)return It;const Nt=et.parentNode,Ft=Nt.metaGraph,Yt=this.getBridgeGraph(Nt.name);return ip(Ft,et,wt,It),ip(Yt,et,wt,It),It}}function sv(j,et){const{rankDirection:wt,align:It}=et,Nt=new Lh({rankdir:wt,align:It});return function(Ft,Yt){Object.keys(Yt.nodes).forEach(Qt=>{const ee=Yt.nodes[Qt],de=ee.path;let Ie=Ft.root;Ie.depth=Math.max(de.length,Ie.depth);for(let Pe=0;Pe<de.length&&(Ie.depth=Math.max(Ie.depth,de.length-Pe),Ie.cardinality+=ee.cardinality,Pe!==de.length-1);Pe++){const Ke=de[Pe];let Ar=Ft.node(Ke);Ar||(Ar=md(Ke,Ft.graphOptions),Ar.path=ee.path.slice(0,Pe+1),Ar.parentNode=Ie,Ft.setNode(Ke,Ar),Ie.metaGraph.setNode(Ke,Ar)),Ie=Ar}Ft.setNode(ee.name,ee),ee.parentNode=Ie,Ie.metaGraph.setNode(ee.name,ee)})}(Nt,j),function(Ft,Yt){const Qt=Ft.getNodeMap();let ee=[],de=[];const Ie=(Pe,Ke)=>{let Ar=0;for(;Pe;)Ke[Ar++]=Pe.name,Pe=Pe.parentNode;return Ar-1};Yt.edges.forEach(Pe=>{ee=[],de=[];let Ke=Ie(Yt.nodes[Pe.v],ee),Ar=Ie(Yt.nodes[Pe.w],de);for(;ee[Ke]===de[Ar];)if(Ke--,Ar--,Ke<0||Ar<0)throw Error("No difference found between ancestor paths.");const pn=Qt[ee[Ke+1]],Dr=ee[Ke],Pr=de[Ar];let Rr=pn.metaGraph.edge(Dr,Pr);Rr||(Rr=Dh(Dr,Pr),pn.metaGraph.setEdge(Dr,Pr,Rr)),Rr.addBaseEdge(Pe,Ft)})}(Nt,j),Nt}function ip(j,et,wt,It){(wt?j.inEdges(et.name):j.outEdges(et.name)).forEach(Nt=>{const Ft=j.edge(Nt);It.push(Ft)})}class $c{constructor(et){this.hierarchy=et,this.index={},this.hasSubHierarchy={},this.root=new Ae(this.hierarchy.root,this.hierarchy.graphOptions),this.index[et.root.name]=this.root,this.buildSubHierarchy(et.root.name),this.root.expanded=!0}getRenderInfoNodes(){return Object.values(this.index)}getSubHierarchy(){return this.hasSubHierarchy}buildSubHierarchy(et){if(et in this.hasSubHierarchy)return;this.hasSubHierarchy[et]=!0;const wt=this.index[et];if(wt.node.type!==T.META)return;const It=wt,Nt=It.node.metaGraph,Ft=It.coreGraph;Nt.nodes().forEach(Ie=>{const Pe=this.getOrCreateRenderNodeByName(Ie);Ft.setNode(Ie,Pe)}),Nt.edges().forEach(Ie=>{const Pe=Nt.edge(Ie),Ke=new $t(Pe);Ft.setEdge(Ie.v,Ie.w,Ke)});const Yt=It.node.parentNode;if(!Yt)return;const Qt=this.getRenderNodeByName(Yt.name),ee=(Ie,...Pe)=>Pe.concat([Ie?"IN":"OUT"]).join("~~"),de=this.hierarchy.getBridgeGraph(et);de.edges().forEach(Ie=>{const Pe=de.edge(Ie),Ke=!!Nt.node(Ie.w),[Ar,pn]=Ke?[Ie.w,Ie.v]:[Ie.v,Ie.w],Dr=Ti=>{const li=Ke?{v:Ti,w:et}:{v:et,w:Ti};return Qt.coreGraph.edge(li)};let Pr=Dr(pn);Pr||(Pr=Dr(ee(Ke,pn,Yt.name)));const Rr=ee(Ke,et),zn=ee(Ke,pn,et);let ni=Ft.node(zn);if(!ni){let Ti=Ft.node(Rr);if(!Ti){const Di={name:Rr,type:T.BRIDGE,isGroupNode:!1,cardinality:0,parentNode:null,include:F.UNSPECIFIED,inbound:Ke,attr:{}};Ti=new Ac(Di),this.index[Rr]=Ti,Ft.setNode(Rr,Ti)}const li={name:zn,type:T.BRIDGE,isGroupNode:!1,cardinality:1,parentNode:null,include:F.UNSPECIFIED,inbound:Ke,attr:{}};ni=new Ac(li),this.index[zn]=ni,Ft.setNode(zn,ni),Ft.setParent(zn,Rr),Ti.node.cardinality++}const Qn=new $t(Pe);Qn.adjoiningMetaEdge=Pr,Ke?Ft.setEdge(zn,Ar,Qn):Ft.setEdge(Ar,zn,Qn)})}getOrCreateRenderNodeByName(et){if(!et)return null;if(et in this.index)return this.index[et];const wt=this.getNodeByName(et);return wt?(this.index[et]=wt.isGroupNode?new Ae(wt,this.hierarchy.graphOptions):new Ac(wt),this.index[et]):null}getRenderNodeByName(et){return this.index[et]}getNodeByName(et){return this.hierarchy.node(et)}}class Ac{constructor(et){this.node=et,this.expanded=!1,this.x=0,this.y=0,this.coreBox={width:0,height:0},this.outboxWidth=0,this.labelOffset=0,this.radius=0,this.labelHeight=0,this.paddingTop=0,this.paddingLeft=0,this.paddingRight=0,this.paddingBottom=0,this.width=et.width||0,this.height=et.height||0,this.displayName=et.name,this.attr=et.attr}}class $t{constructor(et){this.metaEdge=et,this.adjoiningMetaEdge=null,this.weight=1,this.points=[]}}class Ae extends Ac{constructor(et,wt){super(et);const It=et.metaGraph.graph();wt.compound=!0,this.coreGraph=Ph(It.name,M.CORE,wt)}}function Qe(j,et){j.node.isGroupNode&&function(wt,It){const Nt=b(It);wt.coreGraph.nodes().map(Ft=>wt.coreGraph.node(Ft)).forEach(Ft=>{var Yt,Qt,ee,de,Ie,Pe;const{height:Ke,width:Ar}=Ft;switch(Ft.node.type){case T.NODE:Object.assign(Ft,Nt.nodeSize.node),Ft.height=Ke||Nt.nodeSize.node.height,Ft.width=Ar||Nt.nodeSize.node.width;break;case T.BRIDGE:Object.assign(Ft,Nt.nodeSize.bridge);break;case T.META:Ft.expanded?Qe(Ft,It):(Object.assign(Ft,Nt.nodeSize.meta),Ft.height=Nt.nodeSize.meta.height,Ft.width=Nt.nodeSize.meta.width);break;default:throw Error("Unrecognized node type: "+Ft.node.type)}if(!Ft.expanded){const pn=Ft.attr;(function(Dr,Pr=!1){if(Dr.coreBox.width=Dr.width,Dr.coreBox.height=Dr.height,!Pr){const Rr=`${Dr.displayName}`.length,zn=3;Dr.width=Math.max(Dr.coreBox.width,Rr*zn)}})(Ft,It&&(Ft.node.type===0&&!!(!((Qt=(Yt=It==null?void 0:It.nodeSize)===null||Yt===void 0?void 0:Yt.meta)===null||Qt===void 0)&&Qt.width)||Ft.node.type===1&&(!!(!((de=(ee=It==null?void 0:It.nodeSize)===null||ee===void 0?void 0:ee.node)===null||de===void 0)&&de.width)||!!pn.width)||Ft.node.type===2&&!!(!((Pe=(Ie=It==null?void 0:It.nodeSize)===null||Ie===void 0?void 0:Ie.bridge)===null||Pe===void 0)&&Pe.width)))}})}(j,et),j.node.type===T.META&&function(wt,It){const Nt=b(It),Ft=Nt.subScene.meta;Object.assign(wt,Ft);const{nodeSep:Yt,rankSep:Qt,edgeSep:ee,align:de}=Nt.graph.meta,Ie={nodesep:Yt,ranksep:Qt,edgesep:ee,align:de};Object.assign(wt.coreBox,function(Ar,pn){const{ranksep:Dr,nodesep:Pr,edgesep:Rr,align:zn}=pn;Object.assign(Ar.graph(),{ranksep:Dr,nodesep:Pr,edgesep:Rr,align:zn});const ni=[];if(Ar.nodes().forEach(Wi=>{Ar.node(Wi).node.type!==T.BRIDGE&&ni.push(Wi)}),!ni.length)return{width:0,height:0};$f(Ar);let Qn=1/0,Ti=1/0,li=-1/0,Di=-1/0;return ni.forEach(Wi=>{const zi=Ar.node(Wi),Pa=.5*zi.width,Xi=zi.x-Pa,io=zi.x+Pa;Qn=Xi<Qn?Xi:Qn,li=io>li?io:li;const Ka=.5*zi.height,ma=zi.y-Ka,vo=zi.y+Ka;Ti=ma<Ti?ma:Ti,Di=vo>Di?vo:Di}),Ar.edges().forEach(Wi=>{const zi=Ar.edge(Wi),Pa=Ar.node(zi.metaEdge.v),Xi=Ar.node(zi.metaEdge.w);if(zi.points.length===3&&function(ma){let vo=Hr(ma[0],ma[1]);for(let fo=1;fo<ma.length-1;fo++){const ao=Hr(ma[fo],ma[fo+1]);if(Math.abs(ao-vo)>1)return!1;vo=ao}return!0}(zi.points)){if(Pa!=null){const ma=Pa.expanded?Pa.x:Lr(Pa);zi.points[0].x=ma}if(Xi!=null){const ma=Xi.expanded?Xi.x:Lr(Xi);zi.points[2].x=ma}zi.points=[zi.points[0],zi.points[1]]}const io=zi.points[zi.points.length-2];Xi!=null&&(zi.points[zi.points.length-1]=rn(io,Xi));const Ka=zi.points[1];Pa!=null&&(zi.points[0]=rn(Ka,Pa)),zi.points.forEach(ma=>{Qn=ma.x<Qn?ma.x:Qn,li=ma.x>li?ma.x:li,Ti=ma.y<Ti?ma.y:Ti,Di=ma.y>Di?ma.y:Di})}),Ar.nodes().forEach(Wi=>{const zi=Ar.node(Wi);zi.x-=Qn,zi.y-=Ti}),Ar.edges().forEach(Wi=>{Ar.edge(Wi).points.forEach(zi=>{zi.x-=Qn,zi.y-=Ti})}),{width:li-Qn,height:Di-Ti}}(wt.coreGraph,Ie));let Pe=0;wt.coreGraph.nodeCount()>0&&Pe++;const Ke=Pe<=1?0:Pe;wt.coreBox.width+=Ke+Ke,wt.coreBox.height=Ft.labelHeight+wt.coreBox.height,wt.width=wt.coreBox.width+Ft.paddingLeft+Ft.paddingRight,wt.height=wt.paddingTop+wt.coreBox.height+wt.paddingBottom}(j,et)}function Hr(j,et){const wt=et.x-j.x,It=et.y-j.y;return 180*Math.atan(It/wt)/Math.PI}function Lr(j){return j.expanded?j.x:j.x-j.width/2+0+j.coreBox.width/2}function rn(j,et){const wt=et.expanded?et.x:Lr(et),It=et.y,Nt=j.x-wt,Ft=j.y-It;let Yt,Qt,ee=et.expanded?et.width:et.coreBox.width,de=et.expanded?et.height:et.coreBox.height;return Math.abs(Ft)*ee/2>Math.abs(Nt)*de/2?(Ft<0&&(de=-de),Yt=Ft===0?0:de/2*Nt/Ft,Qt=de/2):(Nt<0&&(ee=-ee),Yt=ee/2,Qt=Nt===0?0:ee/2*Ft/Nt),{x:wt+Yt,y:It+Qt}}function dn(j,et,wt){var It,Nt,Ft,Yt;const Qt=j.nodes.filter((Pe,Ke,Ar)=>Ar.findIndex(pn=>pn.id===Pe.id)!==Ke).map(Pe=>Pe.id);if(Qt.length)throw new Error(`Duplicated ids found: ${Qt.join(", ")}`);const ee=function(Pe){const Ke={nodes:[]},Ar=Pe.compound,pn=Object.keys(Ar||{}),Dr=new Map,Pr=(zn,ni=[])=>{if(Dr.has(zn))return Dr.get(zn);for(let Qn=0;Qn<pn.length;Qn++){let Ti=pn[Qn];if(Ar&&Ar[Ti].indexOf(zn)!==-1)return ni.unshift(Ti),Pr(Ti,ni)}return ni.length===0&&Dr.set(zn,ni),ni},Rr=zn=>Pe.edges.filter(ni=>ni.w===zn).map(ni=>({name:ni.v}));return Pe.nodes.forEach(zn=>{const ni=zn.id,Qn=[...Pr(ni),ni];let Ti=Rr(ni);Ke.nodes.push({name:ni,path:Qn,inputs:Ti,width:zn.width,height:zn.height,attr:Object.assign({},zn)})}),Ke}(j),de=function(Pe,Ke){const Ar=(Dr,Pr)=>{for(let Rr of Pr.values())if(Rr.includes(Dr))return!0;return!1},pn=(Dr,Pr=[])=>{if(Object.keys(Dr).length===0)return[...new Set(Pr)];const Rr=new Map(Object.keys(Dr).map(ni=>[ni,Dr[ni]])),zn={};for(let[ni,Qn]of Rr)Ar(ni,Rr)?zn[ni]=Qn:Pr=Pr.concat(ni,Qn);return pn(zn,Pr)};return pn(Pe).filter(Dr=>Ke.includes(Dr))}(j.compound||{},(et==null?void 0:et.expanded)||[]),Ie=function(Pe,Ke){return function(Ar){return new $c(Ar)}(sv(yd(Pe),Ke))}(ee,{rankDirection:((Nt=(It=wt==null?void 0:wt.graph)===null||It===void 0?void 0:It.meta)===null||Nt===void 0?void 0:Nt.rankDir)||(et==null?void 0:et.rankDirection)||x.graph.meta.rankDir,align:((Yt=(Ft=wt==null?void 0:wt.graph)===null||Ft===void 0?void 0:Ft.meta)===null||Yt===void 0?void 0:Yt.align)||x.graph.meta.align});return function(Pe,Ke){Ke.forEach(Ar=>{const pn=Pe.getRenderInfoNodes().find(Rr=>Rr.displayName===Ar);let Dr=pn&&pn.node&&pn.node.name||"";const Pr=Pe.getRenderNodeByName(Dr);if(!Pr)throw new Error(`No nodes found: ${Dr}`);Pr.expanded=!0,Pe.buildSubHierarchy(Dr)})}(Ie,de),Qe(Ie.root,wt),Hn(Ie.root)}function Mn(j,et=!1){const wt=JSON.parse(JSON.stringify(j)),It={nodes:[wt],edges:[...wt.edges]};return wt.nodes.forEach(function Nt(Ft){(Ft.type===0||Ft.type===1)&&It.nodes.push(Ft),Ft.type===0&&(It.edges=It.edges.concat(Ft.edges)),Array.isArray(Ft.nodes)&&Ft.nodes.forEach(Nt)}),et&&It.nodes.forEach(Nt=>{const Ft=It.nodes.find(Yt=>Yt.id===Nt.parentNodeName);if(Ft){const Yt=Ft.x-Ft.width/2+Ft.paddingLeft,Qt=Ft.y-Ft.height/2+Ft.labelHeight+Ft.paddingTop;Ft.id!==_&&(Nt.x+=Yt,Nt.y+=Qt),Nt.type===0&&Nt.edges.forEach(ee=>{ee.points.forEach(de=>{de.x+=Nt.x-Nt.width/2+Nt.paddingLeft,de.y+=Nt.y-Nt.height/2+Nt.labelHeight+Nt.paddingTop})})}}),It}function Yn(j,et,wt,It){var Nt,Ft;let Yt=[];const Qt=((Nt=wt.find(Pe=>Pe.id===j))===null||Nt===void 0?void 0:Nt.path)||[],ee=((Ft=wt.find(Pe=>Pe.id===et))===null||Ft===void 0?void 0:Ft.path)||[],de=[_,...Qt].slice(0,Qt.length).reverse(),Ie=[_,...ee].slice(0,ee.length);return de.forEach(Pe=>{const Ke=wt.find(Ar=>Ar.id===Pe);Yt=Yt.concat(Ke.edges.filter(Ar=>Ar.baseEdgeList.some(pn=>pn.v===((It==null?void 0:It.v)||j)&&pn.w===((It==null?void 0:It.w)||et))))}),Ie.filter(Pe=>!de.includes(Pe)).forEach(Pe=>{const Ke=wt.find(Ar=>Ar.id===Pe);Yt=Yt.concat(Ke.edges.filter(Ar=>Ar.baseEdgeList.some(pn=>pn.v===((It==null?void 0:It.v)||j)&&pn.w===((It==null?void 0:It.w)||et))))}),Yt}function Hn(j){const et=j.coreGraph.nodes().map(It=>j.coreGraph.node(It));return Object.assign(Object.assign({},Un(j)),{expanded:j.expanded,nodes:j.expanded?(wt=et,wt.map(It=>It.node.type===T.META?Hn(It):Un(It))):[],edges:j.expanded?Nn(j):[]});var wt}function Un(j){return{id:j.node.name,name:j.node.name,type:j.node.type,cardinality:j.node.cardinality,attr:j.attr,parentNodeName:j.node.parentNode?j.node.parentNode.name:null,coreBox:Object.assign({},j.coreBox),x:j.x,y:j.y,width:j.width,height:j.height,radius:j.radius,labelHeight:j.labelHeight,labelOffset:j.labelOffset,outboxWidth:j.outboxWidth,paddingLeft:j.paddingLeft,paddingTop:j.paddingTop,paddingRight:j.paddingRight,paddingBottom:j.paddingBottom,path:j.node.path}}function Nn(j){return j.coreGraph.edges().map(et=>({renderInfoEdge:j.coreGraph.edge(et),edge:et})).filter(({renderInfoEdge:et})=>et.metaEdge).map(({edge:et,renderInfoEdge:wt})=>{const It=function(Nt,Ft){const Yt=Ft.points.map(Qt=>Object.assign({},Qt));if(Ft.adjoiningMetaEdge){const Qt=Ft.adjoiningMetaEdge.points,ee=Ft.metaEdge.inbound,de=ee?Qt[Qt.length-1]:Qt[0],Ie=Yt[ee?0:Yt.length-1],Pe=Nt.x-Nt.width/2,Ke=Nt.y-Nt.height/2,Ar=de.x-Pe,pn=de.y-Ke,Dr=-Nt.paddingLeft,Pr=-(Nt.paddingTop+Nt.labelHeight);Ie.x=Ar+Dr,Ie.y=pn+Pr}return Yt}(j,wt);return{adjoiningEdge:wt.adjoiningMetaEdge?{w:wt.adjoiningMetaEdge.metaEdge.w,v:wt.adjoiningMetaEdge.metaEdge.v}:null,inbound:wt.metaEdge.inbound,w:et.w,v:et.v,points:It,weight:wt.weight,baseEdgeList:wt.metaEdge.baseEdgeList,parentNodeName:j.node.name}})}},69916:function(at,R){(function(d,x){x(R)})(this,function(d){"use strict";function x(B,z,W,$){$=$||{};var K=$.maxIterations||100,lt=$.tolerance||1e-10,st=B(z),yt=B(W),q=W-z;if(st*yt>0)throw"Initial bisect points must have opposite signs";if(st===0)return z;if(yt===0)return W;for(var nt=0;nt<K;++nt){q/=2;var ct=z+q,bt=B(ct);if(bt*st>=0&&(z=ct),Math.abs(q)<lt||bt===0)return ct}return z+q}function b(B){for(var z=new Array(B),W=0;W<B;++W)z[W]=0;return z}function P(B,z){return b(B).map(function(){return b(z)})}function _(B,z){for(var W=0,$=0;$<B.length;++$)W+=B[$]*z[$];return W}function O(B){return Math.sqrt(_(B,B))}function T(B,z,W){for(var $=0;$<z.length;++$)B[$]=z[$]*W}function F(B,z,W,$,K){for(var lt=0;lt<B.length;++lt)B[lt]=z*W[lt]+$*K[lt]}function M(B,z,W){W=W||{};var $=W.maxIterations||z.length*200,K=W.nonZeroDelta||1.05,lt=W.zeroDelta||.001,st=W.minErrorDelta||1e-6,yt=W.minErrorDelta||1e-5,q=W.rho!==void 0?W.rho:1,nt=W.chi!==void 0?W.chi:2,ct=W.psi!==void 0?W.psi:-.5,bt=W.sigma!==void 0?W.sigma:.5,_t,St=z.length,At=new Array(St+1);At[0]=z,At[0].fx=B(z),At[0].id=0;for(var vt=0;vt<St;++vt){var dt=z.slice();dt[vt]=dt[vt]?dt[vt]*K:lt,At[vt+1]=dt,At[vt+1].fx=B(dt),At[vt+1].id=vt+1}function gt(he){for(var ke=0;ke<he.length;ke++)At[St][ke]=he[ke];At[St].fx=he.fx}for(var Ct=function(he,ke){return he.fx-ke.fx},Et=z.slice(),Tt=z.slice(),ot=z.slice(),Mt=z.slice(),Wt=0;Wt<$;++Wt){if(At.sort(Ct),W.history){var jt=At.map(function(he){var ke=he.slice();return ke.fx=he.fx,ke.id=he.id,ke});jt.sort(function(he,ke){return he.id-ke.id}),W.history.push({x:At[0].slice(),fx:At[0].fx,simplex:jt})}for(_t=0,vt=0;vt<St;++vt)_t=Math.max(_t,Math.abs(At[0][vt]-At[1][vt]));if(Math.abs(At[0].fx-At[St].fx)<st&&_t<yt)break;for(vt=0;vt<St;++vt){Et[vt]=0;for(var qt=0;qt<St;++qt)Et[vt]+=At[qt][vt];Et[vt]/=St}var se=At[St];if(F(Tt,1+q,Et,-q,se),Tt.fx=B(Tt),Tt.fx<At[0].fx)F(Mt,1+nt,Et,-nt,se),Mt.fx=B(Mt),Mt.fx<Tt.fx?gt(Mt):gt(Tt);else if(Tt.fx>=At[St-1].fx){var ae=!1;if(Tt.fx>se.fx?(F(ot,1+ct,Et,-ct,se),ot.fx=B(ot),ot.fx<se.fx?gt(ot):ae=!0):(F(ot,1-ct*q,Et,ct*q,se),ot.fx=B(ot),ot.fx<Tt.fx?gt(ot):ae=!0),ae){if(bt>=1)break;for(vt=1;vt<At.length;++vt)F(At[vt],1-bt,At[0],bt,At[vt]),At[vt].fx=B(At[vt])}}else gt(Tt)}return At.sort(Ct),{fx:At[0].fx,x:At[0]}}function A(B,z,W,$,K,lt,st){var yt=W.fx,q=_(W.fxprime,z),nt=yt,ct=yt,bt=q,_t=0;K=K||1,lt=lt||1e-6,st=st||.1;function St(vt,dt,gt){for(var Ct=0;Ct<16;++Ct)if(K=(vt+dt)/2,F($.x,1,W.x,K,z),nt=$.fx=B($.x,$.fxprime),bt=_($.fxprime,z),nt>yt+lt*K*q||nt>=gt)dt=K;else{if(Math.abs(bt)<=-st*q)return K;bt*(dt-vt)>=0&&(dt=vt),vt=K,gt=nt}return 0}for(var At=0;At<10;++At){if(F($.x,1,W.x,K,z),nt=$.fx=B($.x,$.fxprime),bt=_($.fxprime,z),nt>yt+lt*K*q||At&&nt>=ct)return St(_t,K,ct);if(Math.abs(bt)<=-st*q)return K;if(bt>=0)return St(K,_t,nt);ct=nt,_t=K,K*=2}return K}function L(B,z,W){var $={x:z.slice(),fx:0,fxprime:z.slice()},K={x:z.slice(),fx:0,fxprime:z.slice()},lt=z.slice(),st,yt,q=1,nt;W=W||{},nt=W.maxIterations||z.length*20,$.fx=B($.x,$.fxprime),st=$.fxprime.slice(),T(st,$.fxprime,-1);for(var ct=0;ct<nt;++ct){if(q=A(B,st,$,K,q),W.history&&W.history.push({x:$.x.slice(),fx:$.fx,fxprime:$.fxprime.slice(),alpha:q}),!q)T(st,$.fxprime,-1);else{F(lt,1,K.fxprime,-1,$.fxprime);var bt=_($.fxprime,$.fxprime),_t=Math.max(0,_(lt,K.fxprime)/bt);F(st,_t,st,-1,K.fxprime),yt=$,$=K,K=yt}if(O($.fxprime)<=1e-5)break}return W.history&&W.history.push({x:$.x.slice(),fx:$.fx,fxprime:$.fxprime.slice(),alpha:q}),$}function I(B,z,W){W=W||{};for(var $=W.maxIterations||z.length*100,K=W.learnRate||.001,lt={x:z.slice(),fx:0,fxprime:z.slice()},st=0;st<$&&(lt.fx=B(lt.x,lt.fxprime),W.history&&W.history.push({x:lt.x.slice(),fx:lt.fx,fxprime:lt.fxprime.slice()}),F(lt.x,1,lt.x,-K,lt.fxprime),!(O(lt.fxprime)<=1e-5));++st);return lt}function k(B,z,W){W=W||{};var $={x:z.slice(),fx:0,fxprime:z.slice()},K={x:z.slice(),fx:0,fxprime:z.slice()},lt=W.maxIterations||z.length*100,st=W.learnRate||1,yt=z.slice(),q=W.c1||.001,nt=W.c2||.1,ct,bt=[];if(W.history){var _t=B;B=function(At,vt){return bt.push(At.slice()),_t(At,vt)}}$.fx=B($.x,$.fxprime);for(var St=0;St<lt&&(T(yt,$.fxprime,-1),st=A(B,yt,$,K,st,q,nt),W.history&&(W.history.push({x:$.x.slice(),fx:$.fx,fxprime:$.fxprime.slice(),functionCalls:bt,learnRate:st,alpha:st}),bt=[]),ct=$,$=K,K=ct,!(st===0||O($.fxprime)<1e-5));++St);return $}d.bisect=x,d.nelderMead=M,d.conjugateGradient=L,d.gradientDescent=I,d.gradientDescentLineSearch=k,d.zeros=b,d.zerosM=P,d.norm2=O,d.weightedSum=F,d.scale=T})},49685:function(at,R,d){"use strict";d.d(R,{Ib:function(){return x},WT:function(){return b}});var x=1e-6,b=typeof Float32Array!="undefined"?Float32Array:Array,P=Math.random;function _(M){b=M}var O=Math.PI/180;function T(M){return M*O}function F(M,A){return Math.abs(M-A)<=x*Math.max(1,Math.abs(M),Math.abs(A))}Math.hypot||(Math.hypot=function(){for(var M=0,A=arguments.length;A--;)M+=arguments[A]*arguments[A];return Math.sqrt(M)})},35600:function(at,R,d){"use strict";d.r(R),d.d(R,{create:function(){return b},fromMat4:function(){return P},clone:function(){return _},copy:function(){return O},fromValues:function(){return T},set:function(){return F},identity:function(){return M},transpose:function(){return A},invert:function(){return L},adjoint:function(){return I},determinant:function(){return k},multiply:function(){return B},translate:function(){return z},rotate:function(){return W},scale:function(){return $},fromTranslation:function(){return K},fromRotation:function(){return lt},fromScaling:function(){return st},fromMat2d:function(){return yt},fromQuat:function(){return q},normalFromMat4:function(){return nt},projection:function(){return ct},str:function(){return bt},frob:function(){return _t},add:function(){return St},subtract:function(){return At},multiplyScalar:function(){return vt},multiplyScalarAndAdd:function(){return dt},exactEquals:function(){return gt},equals:function(){return Ct},mul:function(){return Et},sub:function(){return Tt}});var x=d(49685);function b(){var ot=new x.WT(9);return x.WT!=Float32Array&&(ot[1]=0,ot[2]=0,ot[3]=0,ot[5]=0,ot[6]=0,ot[7]=0),ot[0]=1,ot[4]=1,ot[8]=1,ot}function P(ot,Mt){return ot[0]=Mt[0],ot[1]=Mt[1],ot[2]=Mt[2],ot[3]=Mt[4],ot[4]=Mt[5],ot[5]=Mt[6],ot[6]=Mt[8],ot[7]=Mt[9],ot[8]=Mt[10],ot}function _(ot){var Mt=new x.WT(9);return Mt[0]=ot[0],Mt[1]=ot[1],Mt[2]=ot[2],Mt[3]=ot[3],Mt[4]=ot[4],Mt[5]=ot[5],Mt[6]=ot[6],Mt[7]=ot[7],Mt[8]=ot[8],Mt}function O(ot,Mt){return ot[0]=Mt[0],ot[1]=Mt[1],ot[2]=Mt[2],ot[3]=Mt[3],ot[4]=Mt[4],ot[5]=Mt[5],ot[6]=Mt[6],ot[7]=Mt[7],ot[8]=Mt[8],ot}function T(ot,Mt,Wt,jt,qt,se,ae,he,ke){var Le=new x.WT(9);return Le[0]=ot,Le[1]=Mt,Le[2]=Wt,Le[3]=jt,Le[4]=qt,Le[5]=se,Le[6]=ae,Le[7]=he,Le[8]=ke,Le}function F(ot,Mt,Wt,jt,qt,se,ae,he,ke,Le){return ot[0]=Mt,ot[1]=Wt,ot[2]=jt,ot[3]=qt,ot[4]=se,ot[5]=ae,ot[6]=he,ot[7]=ke,ot[8]=Le,ot}function M(ot){return ot[0]=1,ot[1]=0,ot[2]=0,ot[3]=0,ot[4]=1,ot[5]=0,ot[6]=0,ot[7]=0,ot[8]=1,ot}function A(ot,Mt){if(ot===Mt){var Wt=Mt[1],jt=Mt[2],qt=Mt[5];ot[1]=Mt[3],ot[2]=Mt[6],ot[3]=Wt,ot[5]=Mt[7],ot[6]=jt,ot[7]=qt}else ot[0]=Mt[0],ot[1]=Mt[3],ot[2]=Mt[6],ot[3]=Mt[1],ot[4]=Mt[4],ot[5]=Mt[7],ot[6]=Mt[2],ot[7]=Mt[5],ot[8]=Mt[8];return ot}function L(ot,Mt){var Wt=Mt[0],jt=Mt[1],qt=Mt[2],se=Mt[3],ae=Mt[4],he=Mt[5],ke=Mt[6],Le=Mt[7],rr=Mt[8],Ee=rr*ae-he*Le,ge=-rr*se+he*ke,we=Le*se-ae*ke,Ce=Wt*Ee+jt*ge+qt*we;return Ce?(Ce=1/Ce,ot[0]=Ee*Ce,ot[1]=(-rr*jt+qt*Le)*Ce,ot[2]=(he*jt-qt*ae)*Ce,ot[3]=ge*Ce,ot[4]=(rr*Wt-qt*ke)*Ce,ot[5]=(-he*Wt+qt*se)*Ce,ot[6]=we*Ce,ot[7]=(-Le*Wt+jt*ke)*Ce,ot[8]=(ae*Wt-jt*se)*Ce,ot):null}function I(ot,Mt){var Wt=Mt[0],jt=Mt[1],qt=Mt[2],se=Mt[3],ae=Mt[4],he=Mt[5],ke=Mt[6],Le=Mt[7],rr=Mt[8];return ot[0]=ae*rr-he*Le,ot[1]=qt*Le-jt*rr,ot[2]=jt*he-qt*ae,ot[3]=he*ke-se*rr,ot[4]=Wt*rr-qt*ke,ot[5]=qt*se-Wt*he,ot[6]=se*Le-ae*ke,ot[7]=jt*ke-Wt*Le,ot[8]=Wt*ae-jt*se,ot}function k(ot){var Mt=ot[0],Wt=ot[1],jt=ot[2],qt=ot[3],se=ot[4],ae=ot[5],he=ot[6],ke=ot[7],Le=ot[8];return Mt*(Le*se-ae*ke)+Wt*(-Le*qt+ae*he)+jt*(ke*qt-se*he)}function B(ot,Mt,Wt){var jt=Mt[0],qt=Mt[1],se=Mt[2],ae=Mt[3],he=Mt[4],ke=Mt[5],Le=Mt[6],rr=Mt[7],Ee=Mt[8],ge=Wt[0],we=Wt[1],Ce=Wt[2],ye=Wt[3],Gt=Wt[4],Xt=Wt[5],Kt=Wt[6],ze=Wt[7],ur=Wt[8];return ot[0]=ge*jt+we*ae+Ce*Le,ot[1]=ge*qt+we*he+Ce*rr,ot[2]=ge*se+we*ke+Ce*Ee,ot[3]=ye*jt+Gt*ae+Xt*Le,ot[4]=ye*qt+Gt*he+Xt*rr,ot[5]=ye*se+Gt*ke+Xt*Ee,ot[6]=Kt*jt+ze*ae+ur*Le,ot[7]=Kt*qt+ze*he+ur*rr,ot[8]=Kt*se+ze*ke+ur*Ee,ot}function z(ot,Mt,Wt){var jt=Mt[0],qt=Mt[1],se=Mt[2],ae=Mt[3],he=Mt[4],ke=Mt[5],Le=Mt[6],rr=Mt[7],Ee=Mt[8],ge=Wt[0],we=Wt[1];return ot[0]=jt,ot[1]=qt,ot[2]=se,ot[3]=ae,ot[4]=he,ot[5]=ke,ot[6]=ge*jt+we*ae+Le,ot[7]=ge*qt+we*he+rr,ot[8]=ge*se+we*ke+Ee,ot}function W(ot,Mt,Wt){var jt=Mt[0],qt=Mt[1],se=Mt[2],ae=Mt[3],he=Mt[4],ke=Mt[5],Le=Mt[6],rr=Mt[7],Ee=Mt[8],ge=Math.sin(Wt),we=Math.cos(Wt);return ot[0]=we*jt+ge*ae,ot[1]=we*qt+ge*he,ot[2]=we*se+ge*ke,ot[3]=we*ae-ge*jt,ot[4]=we*he-ge*qt,ot[5]=we*ke-ge*se,ot[6]=Le,ot[7]=rr,ot[8]=Ee,ot}function $(ot,Mt,Wt){var jt=Wt[0],qt=Wt[1];return ot[0]=jt*Mt[0],ot[1]=jt*Mt[1],ot[2]=jt*Mt[2],ot[3]=qt*Mt[3],ot[4]=qt*Mt[4],ot[5]=qt*Mt[5],ot[6]=Mt[6],ot[7]=Mt[7],ot[8]=Mt[8],ot}function K(ot,Mt){return ot[0]=1,ot[1]=0,ot[2]=0,ot[3]=0,ot[4]=1,ot[5]=0,ot[6]=Mt[0],ot[7]=Mt[1],ot[8]=1,ot}function lt(ot,Mt){var Wt=Math.sin(Mt),jt=Math.cos(Mt);return ot[0]=jt,ot[1]=Wt,ot[2]=0,ot[3]=-Wt,ot[4]=jt,ot[5]=0,ot[6]=0,ot[7]=0,ot[8]=1,ot}function st(ot,Mt){return ot[0]=Mt[0],ot[1]=0,ot[2]=0,ot[3]=0,ot[4]=Mt[1],ot[5]=0,ot[6]=0,ot[7]=0,ot[8]=1,ot}function yt(ot,Mt){return ot[0]=Mt[0],ot[1]=Mt[1],ot[2]=0,ot[3]=Mt[2],ot[4]=Mt[3],ot[5]=0,ot[6]=Mt[4],ot[7]=Mt[5],ot[8]=1,ot}function q(ot,Mt){var Wt=Mt[0],jt=Mt[1],qt=Mt[2],se=Mt[3],ae=Wt+Wt,he=jt+jt,ke=qt+qt,Le=Wt*ae,rr=jt*ae,Ee=jt*he,ge=qt*ae,we=qt*he,Ce=qt*ke,ye=se*ae,Gt=se*he,Xt=se*ke;return ot[0]=1-Ee-Ce,ot[3]=rr-Xt,ot[6]=ge+Gt,ot[1]=rr+Xt,ot[4]=1-Le-Ce,ot[7]=we-ye,ot[2]=ge-Gt,ot[5]=we+ye,ot[8]=1-Le-Ee,ot}function nt(ot,Mt){var Wt=Mt[0],jt=Mt[1],qt=Mt[2],se=Mt[3],ae=Mt[4],he=Mt[5],ke=Mt[6],Le=Mt[7],rr=Mt[8],Ee=Mt[9],ge=Mt[10],we=Mt[11],Ce=Mt[12],ye=Mt[13],Gt=Mt[14],Xt=Mt[15],Kt=Wt*he-jt*ae,ze=Wt*ke-qt*ae,ur=Wt*Le-se*ae,tr=jt*ke-qt*he,re=jt*Le-se*he,Qr=qt*Le-se*ke,Ir=rr*ye-Ee*Ce,gn=rr*Gt-ge*Ce,Wn=rr*Xt-we*Ce,ui=Ee*Gt-ge*ye,bi=Ee*Xt-we*ye,fr=ge*Xt-we*Gt,Zr=Kt*fr-ze*bi+ur*ui+tr*Wn-re*gn+Qr*Ir;return Zr?(Zr=1/Zr,ot[0]=(he*fr-ke*bi+Le*ui)*Zr,ot[1]=(ke*Wn-ae*fr-Le*gn)*Zr,ot[2]=(ae*bi-he*Wn+Le*Ir)*Zr,ot[3]=(qt*bi-jt*fr-se*ui)*Zr,ot[4]=(Wt*fr-qt*Wn+se*gn)*Zr,ot[5]=(jt*Wn-Wt*bi-se*Ir)*Zr,ot[6]=(ye*Qr-Gt*re+Xt*tr)*Zr,ot[7]=(Gt*ur-Ce*Qr-Xt*ze)*Zr,ot[8]=(Ce*re-ye*ur+Xt*Kt)*Zr,ot):null}function ct(ot,Mt,Wt){return ot[0]=2/Mt,ot[1]=0,ot[2]=0,ot[3]=0,ot[4]=-2/Wt,ot[5]=0,ot[6]=-1,ot[7]=1,ot[8]=1,ot}function bt(ot){return"mat3("+ot[0]+", "+ot[1]+", "+ot[2]+", "+ot[3]+", "+ot[4]+", "+ot[5]+", "+ot[6]+", "+ot[7]+", "+ot[8]+")"}function _t(ot){return Math.hypot(ot[0],ot[1],ot[2],ot[3],ot[4],ot[5],ot[6],ot[7],ot[8])}function St(ot,Mt,Wt){return ot[0]=Mt[0]+Wt[0],ot[1]=Mt[1]+Wt[1],ot[2]=Mt[2]+Wt[2],ot[3]=Mt[3]+Wt[3],ot[4]=Mt[4]+Wt[4],ot[5]=Mt[5]+Wt[5],ot[6]=Mt[6]+Wt[6],ot[7]=Mt[7]+Wt[7],ot[8]=Mt[8]+Wt[8],ot}function At(ot,Mt,Wt){return ot[0]=Mt[0]-Wt[0],ot[1]=Mt[1]-Wt[1],ot[2]=Mt[2]-Wt[2],ot[3]=Mt[3]-Wt[3],ot[4]=Mt[4]-Wt[4],ot[5]=Mt[5]-Wt[5],ot[6]=Mt[6]-Wt[6],ot[7]=Mt[7]-Wt[7],ot[8]=Mt[8]-Wt[8],ot}function vt(ot,Mt,Wt){return ot[0]=Mt[0]*Wt,ot[1]=Mt[1]*Wt,ot[2]=Mt[2]*Wt,ot[3]=Mt[3]*Wt,ot[4]=Mt[4]*Wt,ot[5]=Mt[5]*Wt,ot[6]=Mt[6]*Wt,ot[7]=Mt[7]*Wt,ot[8]=Mt[8]*Wt,ot}function dt(ot,Mt,Wt,jt){return ot[0]=Mt[0]+Wt[0]*jt,ot[1]=Mt[1]+Wt[1]*jt,ot[2]=Mt[2]+Wt[2]*jt,ot[3]=Mt[3]+Wt[3]*jt,ot[4]=Mt[4]+Wt[4]*jt,ot[5]=Mt[5]+Wt[5]*jt,ot[6]=Mt[6]+Wt[6]*jt,ot[7]=Mt[7]+Wt[7]*jt,ot[8]=Mt[8]+Wt[8]*jt,ot}function gt(ot,Mt){return ot[0]===Mt[0]&&ot[1]===Mt[1]&&ot[2]===Mt[2]&&ot[3]===Mt[3]&&ot[4]===Mt[4]&&ot[5]===Mt[5]&&ot[6]===Mt[6]&&ot[7]===Mt[7]&&ot[8]===Mt[8]}function Ct(ot,Mt){var Wt=ot[0],jt=ot[1],qt=ot[2],se=ot[3],ae=ot[4],he=ot[5],ke=ot[6],Le=ot[7],rr=ot[8],Ee=Mt[0],ge=Mt[1],we=Mt[2],Ce=Mt[3],ye=Mt[4],Gt=Mt[5],Xt=Mt[6],Kt=Mt[7],ze=Mt[8];return Math.abs(Wt-Ee)<=x.Ib*Math.max(1,Math.abs(Wt),Math.abs(Ee))&&Math.abs(jt-ge)<=x.Ib*Math.max(1,Math.abs(jt),Math.abs(ge))&&Math.abs(qt-we)<=x.Ib*Math.max(1,Math.abs(qt),Math.abs(we))&&Math.abs(se-Ce)<=x.Ib*Math.max(1,Math.abs(se),Math.abs(Ce))&&Math.abs(ae-ye)<=x.Ib*Math.max(1,Math.abs(ae),Math.abs(ye))&&Math.abs(he-Gt)<=x.Ib*Math.max(1,Math.abs(he),Math.abs(Gt))&&Math.abs(ke-Xt)<=x.Ib*Math.max(1,Math.abs(ke),Math.abs(Xt))&&Math.abs(Le-Kt)<=x.Ib*Math.max(1,Math.abs(Le),Math.abs(Kt))&&Math.abs(rr-ze)<=x.Ib*Math.max(1,Math.abs(rr),Math.abs(ze))}var Et=B,Tt=At},77160:function(at,R,d){"use strict";d.d(R,{Ue:function(){return b},d9:function(){return P},kE:function(){return _},al:function(){return O},JG:function(){return T},t8:function(){return F},IH:function(){return M},$X:function(){return A},Jp:function(){return L},bA:function(){return K},Fv:function(){return bt},AK:function(){return _t},kC:function(){return St},t7:function(){return At},fF:function(){return Ct},kK:function(){return Et},VC:function(){return Tt},lu:function(){return ke},TK:function(){return Ee},Zh:function(){return we}});var x=d(49685);function b(){var Gt=new x.WT(3);return x.WT!=Float32Array&&(Gt[0]=0,Gt[1]=0,Gt[2]=0),Gt}function P(Gt){var Xt=new x.WT(3);return Xt[0]=Gt[0],Xt[1]=Gt[1],Xt[2]=Gt[2],Xt}function _(Gt){var Xt=Gt[0],Kt=Gt[1],ze=Gt[2];return Math.hypot(Xt,Kt,ze)}function O(Gt,Xt,Kt){var ze=new x.WT(3);return ze[0]=Gt,ze[1]=Xt,ze[2]=Kt,ze}function T(Gt,Xt){return Gt[0]=Xt[0],Gt[1]=Xt[1],Gt[2]=Xt[2],Gt}function F(Gt,Xt,Kt,ze){return Gt[0]=Xt,Gt[1]=Kt,Gt[2]=ze,Gt}function M(Gt,Xt,Kt){return Gt[0]=Xt[0]+Kt[0],Gt[1]=Xt[1]+Kt[1],Gt[2]=Xt[2]+Kt[2],Gt}function A(Gt,Xt,Kt){return Gt[0]=Xt[0]-Kt[0],Gt[1]=Xt[1]-Kt[1],Gt[2]=Xt[2]-Kt[2],Gt}function L(Gt,Xt,Kt){return Gt[0]=Xt[0]*Kt[0],Gt[1]=Xt[1]*Kt[1],Gt[2]=Xt[2]*Kt[2],Gt}function I(Gt,Xt,Kt){return Gt[0]=Xt[0]/Kt[0],Gt[1]=Xt[1]/Kt[1],Gt[2]=Xt[2]/Kt[2],Gt}function k(Gt,Xt){return Gt[0]=Math.ceil(Xt[0]),Gt[1]=Math.ceil(Xt[1]),Gt[2]=Math.ceil(Xt[2]),Gt}function B(Gt,Xt){return Gt[0]=Math.floor(Xt[0]),Gt[1]=Math.floor(Xt[1]),Gt[2]=Math.floor(Xt[2]),Gt}function z(Gt,Xt,Kt){return Gt[0]=Math.min(Xt[0],Kt[0]),Gt[1]=Math.min(Xt[1],Kt[1]),Gt[2]=Math.min(Xt[2],Kt[2]),Gt}function W(Gt,Xt,Kt){return Gt[0]=Math.max(Xt[0],Kt[0]),Gt[1]=Math.max(Xt[1],Kt[1]),Gt[2]=Math.max(Xt[2],Kt[2]),Gt}function $(Gt,Xt){return Gt[0]=Math.round(Xt[0]),Gt[1]=Math.round(Xt[1]),Gt[2]=Math.round(Xt[2]),Gt}function K(Gt,Xt,Kt){return Gt[0]=Xt[0]*Kt,Gt[1]=Xt[1]*Kt,Gt[2]=Xt[2]*Kt,Gt}function lt(Gt,Xt,Kt,ze){return Gt[0]=Xt[0]+Kt[0]*ze,Gt[1]=Xt[1]+Kt[1]*ze,Gt[2]=Xt[2]+Kt[2]*ze,Gt}function st(Gt,Xt){var Kt=Xt[0]-Gt[0],ze=Xt[1]-Gt[1],ur=Xt[2]-Gt[2];return Math.hypot(Kt,ze,ur)}function yt(Gt,Xt){var Kt=Xt[0]-Gt[0],ze=Xt[1]-Gt[1],ur=Xt[2]-Gt[2];return Kt*Kt+ze*ze+ur*ur}function q(Gt){var Xt=Gt[0],Kt=Gt[1],ze=Gt[2];return Xt*Xt+Kt*Kt+ze*ze}function nt(Gt,Xt){return Gt[0]=-Xt[0],Gt[1]=-Xt[1],Gt[2]=-Xt[2],Gt}function ct(Gt,Xt){return Gt[0]=1/Xt[0],Gt[1]=1/Xt[1],Gt[2]=1/Xt[2],Gt}function bt(Gt,Xt){var Kt=Xt[0],ze=Xt[1],ur=Xt[2],tr=Kt*Kt+ze*ze+ur*ur;return tr>0&&(tr=1/Math.sqrt(tr)),Gt[0]=Xt[0]*tr,Gt[1]=Xt[1]*tr,Gt[2]=Xt[2]*tr,Gt}function _t(Gt,Xt){return Gt[0]*Xt[0]+Gt[1]*Xt[1]+Gt[2]*Xt[2]}function St(Gt,Xt,Kt){var ze=Xt[0],ur=Xt[1],tr=Xt[2],re=Kt[0],Qr=Kt[1],Ir=Kt[2];return Gt[0]=ur*Ir-tr*Qr,Gt[1]=tr*re-ze*Ir,Gt[2]=ze*Qr-ur*re,Gt}function At(Gt,Xt,Kt,ze){var ur=Xt[0],tr=Xt[1],re=Xt[2];return Gt[0]=ur+ze*(Kt[0]-ur),Gt[1]=tr+ze*(Kt[1]-tr),Gt[2]=re+ze*(Kt[2]-re),Gt}function vt(Gt,Xt,Kt,ze,ur,tr){var re=tr*tr,Qr=re*(2*tr-3)+1,Ir=re*(tr-2)+tr,gn=re*(tr-1),Wn=re*(3-2*tr);return Gt[0]=Xt[0]*Qr+Kt[0]*Ir+ze[0]*gn+ur[0]*Wn,Gt[1]=Xt[1]*Qr+Kt[1]*Ir+ze[1]*gn+ur[1]*Wn,Gt[2]=Xt[2]*Qr+Kt[2]*Ir+ze[2]*gn+ur[2]*Wn,Gt}function dt(Gt,Xt,Kt,ze,ur,tr){var re=1-tr,Qr=re*re,Ir=tr*tr,gn=Qr*re,Wn=3*tr*Qr,ui=3*Ir*re,bi=Ir*tr;return Gt[0]=Xt[0]*gn+Kt[0]*Wn+ze[0]*ui+ur[0]*bi,Gt[1]=Xt[1]*gn+Kt[1]*Wn+ze[1]*ui+ur[1]*bi,Gt[2]=Xt[2]*gn+Kt[2]*Wn+ze[2]*ui+ur[2]*bi,Gt}function gt(Gt,Xt){Xt=Xt||1;var Kt=glMatrix.RANDOM()*2*Math.PI,ze=glMatrix.RANDOM()*2-1,ur=Math.sqrt(1-ze*ze)*Xt;return Gt[0]=Math.cos(Kt)*ur,Gt[1]=Math.sin(Kt)*ur,Gt[2]=ze*Xt,Gt}function Ct(Gt,Xt,Kt){var ze=Xt[0],ur=Xt[1],tr=Xt[2],re=Kt[3]*ze+Kt[7]*ur+Kt[11]*tr+Kt[15];return re=re||1,Gt[0]=(Kt[0]*ze+Kt[4]*ur+Kt[8]*tr+Kt[12])/re,Gt[1]=(Kt[1]*ze+Kt[5]*ur+Kt[9]*tr+Kt[13])/re,Gt[2]=(Kt[2]*ze+Kt[6]*ur+Kt[10]*tr+Kt[14])/re,Gt}function Et(Gt,Xt,Kt){var ze=Xt[0],ur=Xt[1],tr=Xt[2];return Gt[0]=ze*Kt[0]+ur*Kt[3]+tr*Kt[6],Gt[1]=ze*Kt[1]+ur*Kt[4]+tr*Kt[7],Gt[2]=ze*Kt[2]+ur*Kt[5]+tr*Kt[8],Gt}function Tt(Gt,Xt,Kt){var ze=Kt[0],ur=Kt[1],tr=Kt[2],re=Kt[3],Qr=Xt[0],Ir=Xt[1],gn=Xt[2],Wn=ur*gn-tr*Ir,ui=tr*Qr-ze*gn,bi=ze*Ir-ur*Qr,fr=ur*bi-tr*ui,Zr=tr*Wn-ze*bi,Sn=ze*ui-ur*Wn,Dn=re*2;return Wn*=Dn,ui*=Dn,bi*=Dn,fr*=2,Zr*=2,Sn*=2,Gt[0]=Qr+Wn+fr,Gt[1]=Ir+ui+Zr,Gt[2]=gn+bi+Sn,Gt}function ot(Gt,Xt,Kt,ze){var ur=[],tr=[];return ur[0]=Xt[0]-Kt[0],ur[1]=Xt[1]-Kt[1],ur[2]=Xt[2]-Kt[2],tr[0]=ur[0],tr[1]=ur[1]*Math.cos(ze)-ur[2]*Math.sin(ze),tr[2]=ur[1]*Math.sin(ze)+ur[2]*Math.cos(ze),Gt[0]=tr[0]+Kt[0],Gt[1]=tr[1]+Kt[1],Gt[2]=tr[2]+Kt[2],Gt}function Mt(Gt,Xt,Kt,ze){var ur=[],tr=[];return ur[0]=Xt[0]-Kt[0],ur[1]=Xt[1]-Kt[1],ur[2]=Xt[2]-Kt[2],tr[0]=ur[2]*Math.sin(ze)+ur[0]*Math.cos(ze),tr[1]=ur[1],tr[2]=ur[2]*Math.cos(ze)-ur[0]*Math.sin(ze),Gt[0]=tr[0]+Kt[0],Gt[1]=tr[1]+Kt[1],Gt[2]=tr[2]+Kt[2],Gt}function Wt(Gt,Xt,Kt,ze){var ur=[],tr=[];return ur[0]=Xt[0]-Kt[0],ur[1]=Xt[1]-Kt[1],ur[2]=Xt[2]-Kt[2],tr[0]=ur[0]*Math.cos(ze)-ur[1]*Math.sin(ze),tr[1]=ur[0]*Math.sin(ze)+ur[1]*Math.cos(ze),tr[2]=ur[2],Gt[0]=tr[0]+Kt[0],Gt[1]=tr[1]+Kt[1],Gt[2]=tr[2]+Kt[2],Gt}function jt(Gt,Xt){var Kt=Gt[0],ze=Gt[1],ur=Gt[2],tr=Xt[0],re=Xt[1],Qr=Xt[2],Ir=Math.sqrt(Kt*Kt+ze*ze+ur*ur),gn=Math.sqrt(tr*tr+re*re+Qr*Qr),Wn=Ir*gn,ui=Wn&&_t(Gt,Xt)/Wn;return Math.acos(Math.min(Math.max(ui,-1),1))}function qt(Gt){return Gt[0]=0,Gt[1]=0,Gt[2]=0,Gt}function se(Gt){return"vec3("+Gt[0]+", "+Gt[1]+", "+Gt[2]+")"}function ae(Gt,Xt){return Gt[0]===Xt[0]&&Gt[1]===Xt[1]&&Gt[2]===Xt[2]}function he(Gt,Xt){var Kt=Gt[0],ze=Gt[1],ur=Gt[2],tr=Xt[0],re=Xt[1],Qr=Xt[2];return Math.abs(Kt-tr)<=glMatrix.EPSILON*Math.max(1,Math.abs(Kt),Math.abs(tr))&&Math.abs(ze-re)<=glMatrix.EPSILON*Math.max(1,Math.abs(ze),Math.abs(re))&&Math.abs(ur-Qr)<=glMatrix.EPSILON*Math.max(1,Math.abs(ur),Math.abs(Qr))}var ke=A,Le=null,rr=null,Ee=st,ge=null,we=_,Ce=null,ye=function(){var Gt=b();return function(Xt,Kt,ze,ur,tr,re){var Qr,Ir;for(Kt||(Kt=3),ze||(ze=0),ur?Ir=Math.min(ur*Kt+ze,Xt.length):Ir=Xt.length,Qr=ze;Qr<Ir;Qr+=Kt)Gt[0]=Xt[Qr],Gt[1]=Xt[Qr+1],Gt[2]=Xt[Qr+2],tr(Gt,Gt,re),Xt[Qr]=Gt[0],Xt[Qr+1]=Gt[1],Xt[Qr+2]=Gt[2];return Xt}}()},89550:function(at){at.exports=R;function R(d,x,b){return d[0]=x[0]+b[0],d[1]=x[1]+b[1],d}},62189:function(at){at.exports=R;function R(d,x){return d[0]=Math.ceil(x[0]),d[1]=Math.ceil(x[1]),d}},76057:function(at){at.exports=R;function R(d){var x=new Float32Array(2);return x[0]=d[0],x[1]=d[1],x}},3492:function(at){at.exports=R;function R(d,x){return d[0]=x[0],d[1]=x[1],d}},61589:function(at){at.exports=R;function R(){var d=new Float32Array(2);return d[0]=0,d[1]=0,d}},56439:function(at){at.exports=R;function R(d,x,b){var P=x[0]*b[1]-x[1]*b[0];return d[0]=d[1]=0,d[2]=P,d}},80278:function(at,R,d){at.exports=d(27953)},27953:function(at){at.exports=R;function R(d,x){var b=x[0]-d[0],P=x[1]-d[1];return Math.sqrt(b*b+P*P)}},49973:function(at,R,d){at.exports=d(6773)},6773:function(at){at.exports=R;function R(d,x,b){return d[0]=x[0]/b[0],d[1]=x[1]/b[1],d}},56601:function(at){at.exports=R;function R(d,x){return d[0]*x[0]+d[1]*x[1]}},89936:function(at){at.exports=1e-6},51232:function(at,R,d){at.exports=b;var x=d(89936);function b(P,_){var O=P[0],T=P[1],F=_[0],M=_[1];return Math.abs(O-F)<=x*Math.max(1,Math.abs(O),Math.abs(F))&&Math.abs(T-M)<=x*Math.max(1,Math.abs(T),Math.abs(M))}},39546:function(at){at.exports=R;function R(d,x){return d[0]===x[0]&&d[1]===x[1]}},67744:function(at){at.exports=R;function R(d,x){return d[0]=Math.floor(x[0]),d[1]=Math.floor(x[1]),d}},49002:function(at,R,d){at.exports=b;var x=d(61589)();function b(P,_,O,T,F,M){var A,L;for(_||(_=2),O||(O=0),T?L=Math.min(T*_+O,P.length):L=P.length,A=O;A<L;A+=_)x[0]=P[A],x[1]=P[A+1],F(x,x,M),P[A]=x[0],P[A+1]=x[1];return P}},69878:function(at){at.exports=R;function R(d,x){var b=new Float32Array(2);return b[0]=d,b[1]=x,b}},32644:function(at,R,d){at.exports={EPSILON:d(89936),create:d(61589),clone:d(76057),fromValues:d(69878),copy:d(3492),set:d(68854),equals:d(51232),exactEquals:d(39546),add:d(89550),subtract:d(43650),sub:d(45222),multiply:d(79920),mul:d(23113),divide:d(6773),div:d(49973),inverse:d(83793),min:d(20676),max:d(97899),rotate:d(48677),floor:d(67744),ceil:d(62189),round:d(57074),scale:d(47838),scaleAndAdd:d(21066),distance:d(27953),dist:d(80278),squaredDistance:d(14290),sqrDist:d(79569),length:d(37781),len:d(8123),squaredLength:d(26791),sqrLen:d(1791),negate:d(90549),normalize:d(36820),dot:d(56601),cross:d(56439),lerp:d(20577),random:d(85773),transformMat2:d(904),transformMat2d:d(60736),transformMat3:d(60221),transformMat4:d(37674),forEach:d(49002),limit:d(82418)}},83793:function(at){at.exports=R;function R(d,x){return d[0]=1/x[0],d[1]=1/x[1],d}},8123:function(at,R,d){at.exports=d(37781)},37781:function(at){at.exports=R;function R(d){var x=d[0],b=d[1];return Math.sqrt(x*x+b*b)}},20577:function(at){at.exports=R;function R(d,x,b,P){var _=x[0],O=x[1];return d[0]=_+P*(b[0]-_),d[1]=O+P*(b[1]-O),d}},82418:function(at){at.exports=R;function R(d,x,b){var P=x[0]*x[0]+x[1]*x[1];if(P>b*b){var _=Math.sqrt(P);d[0]=x[0]/_*b,d[1]=x[1]/_*b}else d[0]=x[0],d[1]=x[1];return d}},97899:function(at){at.exports=R;function R(d,x,b){return d[0]=Math.max(x[0],b[0]),d[1]=Math.max(x[1],b[1]),d}},20676:function(at){at.exports=R;function R(d,x,b){return d[0]=Math.min(x[0],b[0]),d[1]=Math.min(x[1],b[1]),d}},23113:function(at,R,d){at.exports=d(79920)},79920:function(at){at.exports=R;function R(d,x,b){return d[0]=x[0]*b[0],d[1]=x[1]*b[1],d}},90549:function(at){at.exports=R;function R(d,x){return d[0]=-x[0],d[1]=-x[1],d}},36820:function(at){at.exports=R;function R(d,x){var b=x[0],P=x[1],_=b*b+P*P;return _>0&&(_=1/Math.sqrt(_),d[0]=x[0]*_,d[1]=x[1]*_),d}},85773:function(at){at.exports=R;function R(d,x){x=x||1;var b=Math.random()*2*Math.PI;return d[0]=Math.cos(b)*x,d[1]=Math.sin(b)*x,d}},48677:function(at){at.exports=R;function R(d,x,b){var P=Math.cos(b),_=Math.sin(b),O=x[0],T=x[1];return d[0]=O*P-T*_,d[1]=O*_+T*P,d}},57074:function(at){at.exports=R;function R(d,x){return d[0]=Math.round(x[0]),d[1]=Math.round(x[1]),d}},47838:function(at){at.exports=R;function R(d,x,b){return d[0]=x[0]*b,d[1]=x[1]*b,d}},21066:function(at){at.exports=R;function R(d,x,b,P){return d[0]=x[0]+b[0]*P,d[1]=x[1]+b[1]*P,d}},68854:function(at){at.exports=R;function R(d,x,b){return d[0]=x,d[1]=b,d}},79569:function(at,R,d){at.exports=d(14290)},1791:function(at,R,d){at.exports=d(26791)},14290:function(at){at.exports=R;function R(d,x){var b=x[0]-d[0],P=x[1]-d[1];return b*b+P*P}},26791:function(at){at.exports=R;function R(d){var x=d[0],b=d[1];return x*x+b*b}},45222:function(at,R,d){at.exports=d(43650)},43650:function(at){at.exports=R;function R(d,x,b){return d[0]=x[0]-b[0],d[1]=x[1]-b[1],d}},904:function(at){at.exports=R;function R(d,x,b){var P=x[0],_=x[1];return d[0]=b[0]*P+b[2]*_,d[1]=b[1]*P+b[3]*_,d}},60736:function(at){at.exports=R;function R(d,x,b){var P=x[0],_=x[1];return d[0]=b[0]*P+b[2]*_+b[4],d[1]=b[1]*P+b[3]*_+b[5],d}},60221:function(at){at.exports=R;function R(d,x,b){var P=x[0],_=x[1];return d[0]=b[0]*P+b[3]*_+b[6],d[1]=b[1]*P+b[4]*_+b[7],d}},37674:function(at){at.exports=R;function R(d,x,b){var P=x[0],_=x[1];return d[0]=b[0]*P+b[4]*_+b[12],d[1]=b[1]*P+b[5]*_+b[13],d}},8679:function(at,R,d){"use strict";var x=d(59864),b={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},P={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},_={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},O={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},T={};T[x.ForwardRef]=_,T[x.Memo]=O;function F(W){return x.isMemo(W)?O:T[W.$$typeof]||b}var M=Object.defineProperty,A=Object.getOwnPropertyNames,L=Object.getOwnPropertySymbols,I=Object.getOwnPropertyDescriptor,k=Object.getPrototypeOf,B=Object.prototype;function z(W,$,K){if(typeof $!="string"){if(B){var lt=k($);lt&&lt!==B&&z(W,lt,K)}var st=A($);L&&(st=st.concat(L($)));for(var yt=F(W),q=F($),nt=0;nt<st.length;++nt){var ct=st[nt];if(!P[ct]&&!(K&&K[ct])&&!(q&&q[ct])&&!(yt&&yt[ct])){var bt=I($,ct);try{M(W,ct,bt)}catch(_t){}}}}return W}at.exports=z},38186:function(at){var R=[],d=[],x="insert-css: You need to provide a CSS string. Usage: insertCss(cssString[, options]).";function b(_,O){if(O=O||{},_===void 0)throw new Error(x);var T=O.prepend===!0?"prepend":"append",F=O.container!==void 0?O.container:document.querySelector("head"),M=R.indexOf(F);M===-1&&(M=R.push(F)-1,d[M]={});var A;return d[M]!==void 0&&d[M][T]!==void 0?A=d[M][T]:(A=d[M][T]=P(),T==="prepend"?F.insertBefore(A,F.childNodes[0]):F.appendChild(A)),_.charCodeAt(0)===65279&&(_=_.substr(1,_.length)),A.styleSheet?A.styleSheet.cssText+=_:A.textContent+=_,A}function P(){var _=document.createElement("style");return _.setAttribute("type","text/css"),_}at.exports=b,at.exports.insertCss=b},7375:function(at,R){"use strict";Object.defineProperty(R,"__esModule",{value:!0});var d=Symbol.for("INJECTION");function x(T,F,M,A){function L(){return A&&!Reflect.hasMetadata(d,this,F)&&Reflect.defineMetadata(d,M(),this,F),Reflect.hasMetadata(d,this,F)?Reflect.getMetadata(d,this,F):M()}function I(k){Reflect.defineMetadata(d,k,this,F)}Object.defineProperty(T,F,{configurable:!0,enumerable:!0,get:L,set:I})}function b(T,F){return function(M){return function(A,L){var I=function(){return T.get(M)};x(A,L,I,F)}}}R.makePropertyInjectDecorator=b;function P(T,F){return function(M,A){return function(L,I){var k=function(){return T.getNamed(M,A)};x(L,I,k,F)}}}R.makePropertyInjectNamedDecorator=P;function _(T,F){return function(M,A,L){return function(I,k){var B=function(){return T.getTagged(M,A,L)};x(I,k,B,F)}}}R.makePropertyInjectTaggedDecorator=_;function O(T,F){return function(M){return function(A,L){var I=function(){return T.getAll(M)};x(A,L,I,F)}}}R.makePropertyMultiInjectDecorator=O},84879:function(at,R,d){"use strict";var x;x={value:!0};var b=d(7375);function P(_,O){O===void 0&&(O=!0);var T=b.makePropertyInjectDecorator(_,O),F=b.makePropertyInjectNamedDecorator(_,O),M=b.makePropertyInjectTaggedDecorator(_,O),A=b.makePropertyMultiInjectDecorator(_,O);return{lazyInject:T,lazyInjectNamed:F,lazyInjectTagged:M,lazyMultiInject:A}}R.Z=P},99934:function(at,R,d){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.tagProperty=R.tagParameter=R.decorate=void 0;var x=d(16674),b=d(6867);function P(A,L,I,k){var B=b.TAGGED;O(B,A,L,k,I)}R.tagParameter=P;function _(A,L,I){var k=b.TAGGED_PROP;O(k,A.constructor,L,I)}R.tagProperty=_;function O(A,L,I,k,B){var z={},W=typeof B=="number",$=B!==void 0&&W?B.toString():I;if(W&&I!==void 0)throw new Error(x.INVALID_DECORATOR_OPERATION);Reflect.hasOwnMetadata(A,L)&&(z=Reflect.getMetadata(A,L));var K=z[$];if(!Array.isArray(K))K=[];else for(var lt=0,st=K;lt<st.length;lt++){var yt=st[lt];if(yt.key===k.key)throw new Error(x.DUPLICATED_METADATA+" "+yt.key.toString())}K.push(k),z[$]=K,Reflect.defineMetadata(A,z,L)}function T(A,L){Reflect.decorate(A,L)}function F(A,L){return function(I,k){L(I,k,A)}}function M(A,L,I){typeof I=="number"?T([F(I,A)],L):typeof I=="string"?Reflect.decorate([A],L,I):T([A],L)}R.decorate=M},5744:function(at,R,d){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.inject=R.LazyServiceIdentifer=void 0;var x=d(16674),b=d(6867),P=d(47738),_=d(99934),O=function(){function F(M){this._cb=M}return F.prototype.unwrap=function(){return this._cb()},F}();R.LazyServiceIdentifer=O;function T(F){return function(M,A,L){if(F===void 0)throw new Error(x.UNDEFINED_INJECT_ANNOTATION(M.name));var I=new P.Metadata(b.INJECT_TAG,F);typeof L=="number"?_.tagParameter(M,A,L,I):_.tagProperty(M,A,I)}}R.inject=T},64315:function(at,R,d){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.injectable=void 0;var x=d(16674),b=d(6867);function P(){return function(_){if(Reflect.hasOwnMetadata(b.PARAM_TYPES,_))throw new Error(x.DUPLICATED_INJECTABLE_DECORATOR);var O=Reflect.getMetadata(b.DESIGN_PARAM_TYPES,_)||[];return Reflect.defineMetadata(b.PARAM_TYPES,O,_),_}}R.injectable=P},71693:function(at,R,d){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.multiInject=void 0;var x=d(6867),b=d(47738),P=d(99934);function _(O){return function(T,F,M){var A=new b.Metadata(x.MULTI_INJECT_TAG,O);typeof M=="number"?P.tagParameter(T,F,M,A):P.tagProperty(T,F,A)}}R.multiInject=_},38085:function(at,R,d){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.named=void 0;var x=d(6867),b=d(47738),P=d(99934);function _(O){return function(T,F,M){var A=new b.Metadata(x.NAMED_TAG,O);typeof M=="number"?P.tagParameter(T,F,M,A):P.tagProperty(T,F,A)}}R.named=_},6515:function(at,R,d){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.optional=void 0;var x=d(6867),b=d(47738),P=d(99934);function _(){return function(O,T,F){var M=new b.Metadata(x.OPTIONAL_TAG,!0);typeof F=="number"?P.tagParameter(O,T,F,M):P.tagProperty(O,T,M)}}R.optional=_},7014:function(at,R,d){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.postConstruct=void 0;var x=d(16674),b=d(6867),P=d(47738);function _(){return function(O,T,F){var M=new P.Metadata(b.POST_CONSTRUCT,T);if(Reflect.hasOwnMetadata(b.POST_CONSTRUCT,O.constructor))throw new Error(x.MULTIPLE_POST_CONSTRUCT_METHODS);Reflect.defineMetadata(b.POST_CONSTRUCT,M,O.constructor)}}R.postConstruct=_},32052:function(at,R,d){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.tagged=void 0;var x=d(47738),b=d(99934);function P(_,O){return function(T,F,M){var A=new x.Metadata(_,O);typeof M=="number"?b.tagParameter(T,F,M,A):b.tagProperty(T,F,A)}}R.tagged=P},55638:function(at,R,d){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.targetName=void 0;var x=d(6867),b=d(47738),P=d(99934);function _(O){return function(T,F,M){var A=new b.Metadata(x.NAME_TAG,O);P.tagParameter(T,F,M,A)}}R.targetName=_},86757:function(at,R,d){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.unmanaged=void 0;var x=d(6867),b=d(47738),P=d(99934);function _(){return function(O,T,F){var M=new b.Metadata(x.UNMANAGED_TAG,!0);P.tagParameter(O,T,F,M)}}R.unmanaged=_},44290:function(at,R,d){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.Binding=void 0;var x=d(28421),b=d(37791),P=function(){function _(O,T){this.id=b.id(),this.activated=!1,this.serviceIdentifier=O,this.scope=T,this.type=x.BindingTypeEnum.Invalid,this.constraint=function(F){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.dynamicValue=null}return _.prototype.clone=function(){var O=new _(this.serviceIdentifier,this.scope);return O.activated=O.scope===x.BindingScopeEnum.Singleton?this.activated:!1,O.implementationType=this.implementationType,O.dynamicValue=this.dynamicValue,O.scope=this.scope,O.type=this.type,O.factory=this.factory,O.provider=this.provider,O.constraint=this.constraint,O.onActivation=this.onActivation,O.cache=this.cache,O},_}();R.Binding=P},23184:function(at,R){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.BindingCount=void 0;var d={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1};R.BindingCount=d},16674:function(at,R){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.STACK_OVERFLOW=R.CIRCULAR_DEPENDENCY_IN_FACTORY=R.POST_CONSTRUCT_ERROR=R.MULTIPLE_POST_CONSTRUCT_METHODS=R.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK=R.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE=R.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE=R.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT=R.ARGUMENTS_LENGTH_MISMATCH=R.INVALID_DECORATOR_OPERATION=R.INVALID_TO_SELF_VALUE=R.INVALID_FUNCTION_BINDING=R.INVALID_MIDDLEWARE_RETURN=R.NO_MORE_SNAPSHOTS_AVAILABLE=R.INVALID_BINDING_TYPE=R.NOT_IMPLEMENTED=R.CIRCULAR_DEPENDENCY=R.UNDEFINED_INJECT_ANNOTATION=R.MISSING_INJECT_ANNOTATION=R.MISSING_INJECTABLE_ANNOTATION=R.NOT_REGISTERED=R.CANNOT_UNBIND=R.AMBIGUOUS_MATCH=R.KEY_NOT_FOUND=R.NULL_ARGUMENT=R.DUPLICATED_METADATA=R.DUPLICATED_INJECTABLE_DECORATOR=void 0,R.DUPLICATED_INJECTABLE_DECORATOR="Cannot apply @injectable decorator multiple times.",R.DUPLICATED_METADATA="Metadata key was used more than once in a parameter:",R.NULL_ARGUMENT="NULL argument",R.KEY_NOT_FOUND="Key Not Found",R.AMBIGUOUS_MATCH="Ambiguous match found for serviceIdentifier:",R.CANNOT_UNBIND="Could not unbind serviceIdentifier:",R.NOT_REGISTERED="No matching bindings found for serviceIdentifier:",R.MISSING_INJECTABLE_ANNOTATION="Missing required @injectable annotation in:",R.MISSING_INJECT_ANNOTATION="Missing required @inject or @multiInject annotation in:";var d=function(_){return"@inject called with undefined this could mean that the class "+_+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation."};R.UNDEFINED_INJECT_ANNOTATION=d,R.CIRCULAR_DEPENDENCY="Circular dependency found:",R.NOT_IMPLEMENTED="Sorry, this feature is not fully implemented yet.",R.INVALID_BINDING_TYPE="Invalid binding type:",R.NO_MORE_SNAPSHOTS_AVAILABLE="No snapshot available to restore.",R.INVALID_MIDDLEWARE_RETURN="Invalid return type in middleware. Middleware must return!",R.INVALID_FUNCTION_BINDING="Value provided to function binding must be a function!",R.INVALID_TO_SELF_VALUE="The toSelf function can only be applied when a constructor is used as service identifier",R.INVALID_DECORATOR_OPERATION="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";var x=function(){for(var _=[],O=0;O<arguments.length;O++)_[O]=arguments[O];return"The number of constructor arguments in the derived class "+(_[0]+" must be >= than the number of constructor arguments of its base class.")};R.ARGUMENTS_LENGTH_MISMATCH=x,R.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT="Invalid Container constructor argument. Container options must be an object.",R.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE="Invalid Container option. Default scope must be a string ('singleton' or 'transient').",R.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE="Invalid Container option. Auto bind injectable must be a boolean",R.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK="Invalid Container option. Skip base check must be a boolean",R.MULTIPLE_POST_CONSTRUCT_METHODS="Cannot apply @postConstruct decorator multiple times in the same class";var b=function(){for(var _=[],O=0;O<arguments.length;O++)_[O]=arguments[O];return"@postConstruct error in class "+_[0]+": "+_[1]};R.POST_CONSTRUCT_ERROR=b;var P=function(){for(var _=[],O=0;O<arguments.length;O++)_[O]=arguments[O];return"It looks like there is a circular dependency "+("in one of the '"+_[0]+"' bindings. Please investigate bindings with")+("service identifier '"+_[1]+"'.")};R.CIRCULAR_DEPENDENCY_IN_FACTORY=P,R.STACK_OVERFLOW="Maximum call stack size exceeded"},28421:function(at,R){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.TargetTypeEnum=R.BindingTypeEnum=R.BindingScopeEnum=void 0;var d={Request:"Request",Singleton:"Singleton",Transient:"Transient"};R.BindingScopeEnum=d;var x={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"};R.BindingTypeEnum=x;var b={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"};R.TargetTypeEnum=b},6867:function(at,R){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.NON_CUSTOM_TAG_KEYS=R.POST_CONSTRUCT=R.DESIGN_PARAM_TYPES=R.PARAM_TYPES=R.TAGGED_PROP=R.TAGGED=R.MULTI_INJECT_TAG=R.INJECT_TAG=R.OPTIONAL_TAG=R.UNMANAGED_TAG=R.NAME_TAG=R.NAMED_TAG=void 0,R.NAMED_TAG="named",R.NAME_TAG="name",R.UNMANAGED_TAG="unmanaged",R.OPTIONAL_TAG="optional",R.INJECT_TAG="inject",R.MULTI_INJECT_TAG="multi_inject",R.TAGGED="inversify:tagged",R.TAGGED_PROP="inversify:tagged_props",R.PARAM_TYPES="inversify:paramtypes",R.DESIGN_PARAM_TYPES="design:paramtypes",R.POST_CONSTRUCT="post_construct";function d(){return[R.INJECT_TAG,R.MULTI_INJECT_TAG,R.NAME_TAG,R.UNMANAGED_TAG,R.NAMED_TAG,R.OPTIONAL_TAG]}R.NON_CUSTOM_TAG_KEYS=d()},51389:function(at,R,d){"use strict";var x=this&&this.__awaiter||function(K,lt,st,yt){function q(nt){return nt instanceof st?nt:new st(function(ct){ct(nt)})}return new(st||(st=Promise))(function(nt,ct){function bt(At){try{St(yt.next(At))}catch(vt){ct(vt)}}function _t(At){try{St(yt.throw(At))}catch(vt){ct(vt)}}function St(At){At.done?nt(At.value):q(At.value).then(bt,_t)}St((yt=yt.apply(K,lt||[])).next())})},b=this&&this.__generator||function(K,lt){var st={label:0,sent:function(){if(nt[0]&1)throw nt[1];return nt[1]},trys:[],ops:[]},yt,q,nt,ct;return ct={next:bt(0),throw:bt(1),return:bt(2)},typeof Symbol=="function"&&(ct[Symbol.iterator]=function(){return this}),ct;function bt(St){return function(At){return _t([St,At])}}function _t(St){if(yt)throw new TypeError("Generator is already executing.");for(;st;)try{if(yt=1,q&&(nt=St[0]&2?q.return:St[0]?q.throw||((nt=q.return)&&nt.call(q),0):q.next)&&!(nt=nt.call(q,St[1])).done)return nt;switch(q=0,nt&&(St=[St[0]&2,nt.value]),St[0]){case 0:case 1:nt=St;break;case 4:return st.label++,{value:St[1],done:!1};case 5:st.label++,q=St[1],St=[0];continue;case 7:St=st.ops.pop(),st.trys.pop();continue;default:if(nt=st.trys,!(nt=nt.length>0&&nt[nt.length-1])&&(St[0]===6||St[0]===2)){st=0;continue}if(St[0]===3&&(!nt||St[1]>nt[0]&&St[1]<nt[3])){st.label=St[1];break}if(St[0]===6&&st.label<nt[1]){st.label=nt[1],nt=St;break}if(nt&&st.label<nt[2]){st.label=nt[2],st.ops.push(St);break}nt[2]&&st.ops.pop(),st.trys.pop();continue}St=lt.call(K,st)}catch(At){St=[6,At],q=0}finally{yt=nt=0}if(St[0]&5)throw St[1];return{value:St[0]?St[1]:void 0,done:!0}}},P=this&&this.__spreadArray||function(K,lt){for(var st=0,yt=lt.length,q=K.length;st<yt;st++,q++)K[q]=lt[st];return K};Object.defineProperty(R,"__esModule",{value:!0}),R.Container=void 0;var _=d(44290),O=d(16674),T=d(28421),F=d(6867),M=d(51377),A=d(86311),L=d(31927),I=d(51860),k=d(37791),B=d(55800),z=d(85700),W=d(80175),$=function(){function K(lt){this._appliedMiddleware=[];var st=lt||{};if(typeof st!="object")throw new Error(""+O.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT);if(st.defaultScope===void 0)st.defaultScope=T.BindingScopeEnum.Transient;else if(st.defaultScope!==T.BindingScopeEnum.Singleton&&st.defaultScope!==T.BindingScopeEnum.Transient&&st.defaultScope!==T.BindingScopeEnum.Request)throw new Error(""+O.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE);if(st.autoBindInjectable===void 0)st.autoBindInjectable=!1;else if(typeof st.autoBindInjectable!="boolean")throw new Error(""+O.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE);if(st.skipBaseClassChecks===void 0)st.skipBaseClassChecks=!1;else if(typeof st.skipBaseClassChecks!="boolean")throw new Error(""+O.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK);this.options={autoBindInjectable:st.autoBindInjectable,defaultScope:st.defaultScope,skipBaseClassChecks:st.skipBaseClassChecks},this.id=k.id(),this._bindingDictionary=new W.Lookup,this._snapshots=[],this._middleware=null,this.parent=null,this._metadataReader=new M.MetadataReader}return K.merge=function(lt,st){for(var yt=[],q=2;q<arguments.length;q++)yt[q-2]=arguments[q];var nt=new K,ct=P([lt,st],yt).map(function(St){return A.getBindingDictionary(St)}),bt=A.getBindingDictionary(nt);function _t(St,At){St.traverse(function(vt,dt){dt.forEach(function(gt){At.add(gt.serviceIdentifier,gt.clone())})})}return ct.forEach(function(St){_t(St,bt)}),nt},K.prototype.load=function(){for(var lt=[],st=0;st<arguments.length;st++)lt[st]=arguments[st];for(var yt=this._getContainerModuleHelpersFactory(),q=0,nt=lt;q<nt.length;q++){var ct=nt[q],bt=yt(ct.id);ct.registry(bt.bindFunction,bt.unbindFunction,bt.isboundFunction,bt.rebindFunction)}},K.prototype.loadAsync=function(){for(var lt=[],st=0;st<arguments.length;st++)lt[st]=arguments[st];return x(this,void 0,void 0,function(){var yt,q,nt,ct,bt;return b(this,function(_t){switch(_t.label){case 0:yt=this._getContainerModuleHelpersFactory(),q=0,nt=lt,_t.label=1;case 1:return q<nt.length?(ct=nt[q],bt=yt(ct.id),[4,ct.registry(bt.bindFunction,bt.unbindFunction,bt.isboundFunction,bt.rebindFunction)]):[3,4];case 2:_t.sent(),_t.label=3;case 3:return q++,[3,1];case 4:return[2]}})})},K.prototype.unload=function(){for(var lt=this,st=[],yt=0;yt<arguments.length;yt++)st[yt]=arguments[yt];var q=function(nt){return function(ct){return ct.moduleId===nt}};st.forEach(function(nt){var ct=q(nt.id);lt._bindingDictionary.removeByCondition(ct)})},K.prototype.bind=function(lt){var st=this.options.defaultScope||T.BindingScopeEnum.Transient,yt=new _.Binding(lt,st);return this._bindingDictionary.add(lt,yt),new I.BindingToSyntax(yt)},K.prototype.rebind=function(lt){return this.unbind(lt),this.bind(lt)},K.prototype.unbind=function(lt){try{this._bindingDictionary.remove(lt)}catch(st){throw new Error(O.CANNOT_UNBIND+" "+B.getServiceIdentifierAsString(lt))}},K.prototype.unbindAll=function(){this._bindingDictionary=new W.Lookup},K.prototype.isBound=function(lt){var st=this._bindingDictionary.hasKey(lt);return!st&&this.parent&&(st=this.parent.isBound(lt)),st},K.prototype.isBoundNamed=function(lt,st){return this.isBoundTagged(lt,F.NAMED_TAG,st)},K.prototype.isBoundTagged=function(lt,st,yt){var q=!1;if(this._bindingDictionary.hasKey(lt)){var nt=this._bindingDictionary.get(lt),ct=A.createMockRequest(this,lt,st,yt);q=nt.some(function(bt){return bt.constraint(ct)})}return!q&&this.parent&&(q=this.parent.isBoundTagged(lt,st,yt)),q},K.prototype.snapshot=function(){this._snapshots.push(z.ContainerSnapshot.of(this._bindingDictionary.clone(),this._middleware))},K.prototype.restore=function(){var lt=this._snapshots.pop();if(lt===void 0)throw new Error(O.NO_MORE_SNAPSHOTS_AVAILABLE);this._bindingDictionary=lt.bindings,this._middleware=lt.middleware},K.prototype.createChild=function(lt){var st=new K(lt||this.options);return st.parent=this,st},K.prototype.applyMiddleware=function(){for(var lt=[],st=0;st<arguments.length;st++)lt[st]=arguments[st];this._appliedMiddleware=this._appliedMiddleware.concat(lt);var yt=this._middleware?this._middleware:this._planAndResolve();this._middleware=lt.reduce(function(q,nt){return nt(q)},yt)},K.prototype.applyCustomMetadataReader=function(lt){this._metadataReader=lt},K.prototype.get=function(lt){return this._get(!1,!1,T.TargetTypeEnum.Variable,lt)},K.prototype.getTagged=function(lt,st,yt){return this._get(!1,!1,T.TargetTypeEnum.Variable,lt,st,yt)},K.prototype.getNamed=function(lt,st){return this.getTagged(lt,F.NAMED_TAG,st)},K.prototype.getAll=function(lt){return this._get(!0,!0,T.TargetTypeEnum.Variable,lt)},K.prototype.getAllTagged=function(lt,st,yt){return this._get(!1,!0,T.TargetTypeEnum.Variable,lt,st,yt)},K.prototype.getAllNamed=function(lt,st){return this.getAllTagged(lt,F.NAMED_TAG,st)},K.prototype.resolve=function(lt){var st=this.createChild();return st.bind(lt).toSelf(),this._appliedMiddleware.forEach(function(yt){st.applyMiddleware(yt)}),st.get(lt)},K.prototype._getContainerModuleHelpersFactory=function(){var lt=this,st=function(bt,_t){bt._binding.moduleId=_t},yt=function(bt){return function(_t){var St=lt.bind.bind(lt),At=St(_t);return st(At,bt),At}},q=function(bt){return function(_t){var St=lt.unbind.bind(lt);St(_t)}},nt=function(bt){return function(_t){var St=lt.isBound.bind(lt);return St(_t)}},ct=function(bt){return function(_t){var St=lt.rebind.bind(lt),At=St(_t);return st(At,bt),At}};return function(bt){return{bindFunction:yt(bt),isboundFunction:nt(bt),rebindFunction:ct(bt),unbindFunction:q(bt)}}},K.prototype._get=function(lt,st,yt,q,nt,ct){var bt=null,_t={avoidConstraints:lt,contextInterceptor:function(St){return St},isMultiInject:st,key:nt,serviceIdentifier:q,targetType:yt,value:ct};if(this._middleware){if(bt=this._middleware(_t),bt==null)throw new Error(O.INVALID_MIDDLEWARE_RETURN)}else bt=this._planAndResolve()(_t);return bt},K.prototype._planAndResolve=function(){var lt=this;return function(st){var yt=A.plan(lt._metadataReader,lt,st.isMultiInject,st.targetType,st.serviceIdentifier,st.key,st.value,st.avoidConstraints);yt=st.contextInterceptor(yt);var q=L.resolve(yt);return q}},K}();R.Container=$},33244:function(at,R,d){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.AsyncContainerModule=R.ContainerModule=void 0;var x=d(37791),b=function(){function _(O){this.id=x.id(),this.registry=O}return _}();R.ContainerModule=b;var P=function(){function _(O){this.id=x.id(),this.registry=O}return _}();R.AsyncContainerModule=P},85700:function(at,R){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.ContainerSnapshot=void 0;var d=function(){function x(){}return x.of=function(b,P){var _=new x;return _.bindings=b,_.middleware=P,_},x}();R.ContainerSnapshot=d},80175:function(at,R,d){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.Lookup=void 0;var x=d(16674),b=function(){function P(){this._map=new Map}return P.prototype.getMap=function(){return this._map},P.prototype.add=function(_,O){if(_==null)throw new Error(x.NULL_ARGUMENT);if(O==null)throw new Error(x.NULL_ARGUMENT);var T=this._map.get(_);T!==void 0?(T.push(O),this._map.set(_,T)):this._map.set(_,[O])},P.prototype.get=function(_){if(_==null)throw new Error(x.NULL_ARGUMENT);var O=this._map.get(_);if(O!==void 0)return O;throw new Error(x.KEY_NOT_FOUND)},P.prototype.remove=function(_){if(_==null)throw new Error(x.NULL_ARGUMENT);if(!this._map.delete(_))throw new Error(x.KEY_NOT_FOUND)},P.prototype.removeByCondition=function(_){var O=this;this._map.forEach(function(T,F){var M=T.filter(function(A){return!_(A)});M.length>0?O._map.set(F,M):O._map.delete(F)})},P.prototype.hasKey=function(_){if(_==null)throw new Error(x.NULL_ARGUMENT);return this._map.has(_)},P.prototype.clone=function(){var _=new P;return this._map.forEach(function(O,T){O.forEach(function(F){return _.add(T,F.clone())})}),_},P.prototype.traverse=function(_){this._map.forEach(function(O,T){_(T,O)})},P}();R.Lookup=b},86700:function(at,R,d){"use strict";var x;x={value:!0},x=x=x=x=x=x=x=x=x=x=x=x=x=x=x=R.f3=R.t6=x=R.b2=x=x=x=x=x=R.W2=x=void 0;var b=d(6867);x=b;var P=d(51389);Object.defineProperty(R,"W2",{enumerable:!0,get:function(){return P.Container}});var _=d(28421);x={enumerable:!0,get:function(){return _.BindingScopeEnum}},x={enumerable:!0,get:function(){return _.BindingTypeEnum}},x={enumerable:!0,get:function(){return _.TargetTypeEnum}};var O=d(33244);x={enumerable:!0,get:function(){return O.AsyncContainerModule}},x={enumerable:!0,get:function(){return O.ContainerModule}};var T=d(64315);Object.defineProperty(R,"b2",{enumerable:!0,get:function(){return T.injectable}});var F=d(32052);x={enumerable:!0,get:function(){return F.tagged}};var M=d(38085);Object.defineProperty(R,"t6",{enumerable:!0,get:function(){return M.named}});var A=d(5744);Object.defineProperty(R,"f3",{enumerable:!0,get:function(){return A.inject}}),x={enumerable:!0,get:function(){return A.LazyServiceIdentifer}};var L=d(6515);x={enumerable:!0,get:function(){return L.optional}};var I=d(86757);x={enumerable:!0,get:function(){return I.unmanaged}};var k=d(71693);x={enumerable:!0,get:function(){return k.multiInject}};var B=d(55638);x={enumerable:!0,get:function(){return B.targetName}};var z=d(7014);x={enumerable:!0,get:function(){return z.postConstruct}};var W=d(51377);x={enumerable:!0,get:function(){return W.MetadataReader}};var $=d(37791);x={enumerable:!0,get:function(){return $.id}};var K=d(99934);x={enumerable:!0,get:function(){return K.decorate}};var lt=d(80758);x={enumerable:!0,get:function(){return lt.traverseAncerstors}},x={enumerable:!0,get:function(){return lt.taggedConstraint}},x={enumerable:!0,get:function(){return lt.namedConstraint}},x={enumerable:!0,get:function(){return lt.typeConstraint}};var st=d(55800);x={enumerable:!0,get:function(){return st.getServiceIdentifierAsString}};var yt=d(70600);x={enumerable:!0,get:function(){return yt.multiBindToService}}},95228:function(at,R,d){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.Context=void 0;var x=d(37791),b=function(){function P(_){this.id=x.id(),this.container=_}return P.prototype.addPlan=function(_){this.plan=_},P.prototype.setCurrentRequest=function(_){this.currentRequest=_},P}();R.Context=b},47738:function(at,R,d){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.Metadata=void 0;var x=d(6867),b=function(){function P(_,O){this.key=_,this.value=O}return P.prototype.toString=function(){return this.key===x.NAMED_TAG?"named: "+this.value.toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+this.value+" }"},P}();R.Metadata=b},51377:function(at,R,d){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.MetadataReader=void 0;var x=d(6867),b=function(){function P(){}return P.prototype.getConstructorMetadata=function(_){var O=Reflect.getMetadata(x.PARAM_TYPES,_),T=Reflect.getMetadata(x.TAGGED,_);return{compilerGeneratedMetadata:O,userGeneratedMetadata:T||{}}},P.prototype.getPropertiesMetadata=function(_){var O=Reflect.getMetadata(x.TAGGED_PROP,_)||[];return O},P}();R.MetadataReader=b},55314:function(at,R){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.Plan=void 0;var d=function(){function x(b,P){this.parentContext=b,this.rootRequest=P}return x}();R.Plan=d},86311:function(at,R,d){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.getBindingDictionary=R.createMockRequest=R.plan=void 0;var x=d(23184),b=d(16674),P=d(28421),_=d(6867),O=d(85265),T=d(55800),F=d(95228),M=d(47738),A=d(55314),L=d(6e3),I=d(6748),k=d(18924);function B(q){return q._bindingDictionary}R.getBindingDictionary=B;function z(q,nt,ct,bt,_t,St){var At=q?_.MULTI_INJECT_TAG:_.INJECT_TAG,vt=new M.Metadata(At,ct),dt=new k.Target(nt,bt,ct,vt);if(_t!==void 0){var gt=new M.Metadata(_t,St);dt.metadata.push(gt)}return dt}function W(q,nt,ct,bt,_t){var St=lt(ct.container,_t.serviceIdentifier),At=[];return St.length===x.BindingCount.NoBindingsAvailable&&ct.container.options.autoBindInjectable&&typeof _t.serviceIdentifier=="function"&&q.getConstructorMetadata(_t.serviceIdentifier).compilerGeneratedMetadata&&(ct.container.bind(_t.serviceIdentifier).toSelf(),St=lt(ct.container,_t.serviceIdentifier)),nt?At=St:At=St.filter(function(vt){var dt=new I.Request(vt.serviceIdentifier,ct,bt,vt,_t);return vt.constraint(dt)}),$(_t.serviceIdentifier,At,_t,ct.container),At}function $(q,nt,ct,bt){switch(nt.length){case x.BindingCount.NoBindingsAvailable:if(ct.isOptional())return nt;var _t=T.getServiceIdentifierAsString(q),St=b.NOT_REGISTERED;throw St+=T.listMetadataForTarget(_t,ct),St+=T.listRegisteredBindingsForServiceIdentifier(bt,_t,lt),new Error(St);case x.BindingCount.OnlyOneBindingAvailable:if(!ct.isArray())return nt;case x.BindingCount.MultipleBindingsAvailable:default:if(ct.isArray())return nt;var _t=T.getServiceIdentifierAsString(q),St=b.AMBIGUOUS_MATCH+" "+_t;throw St+=T.listRegisteredBindingsForServiceIdentifier(bt,_t,lt),new Error(St)}}function K(q,nt,ct,bt,_t,St){var At,vt;if(_t===null){At=W(q,nt,bt,null,St),vt=new I.Request(ct,bt,null,At,St);var dt=new A.Plan(bt,vt);bt.addPlan(dt)}else At=W(q,nt,bt,_t,St),vt=_t.addChildRequest(St.serviceIdentifier,At,St);At.forEach(function(gt){var Ct=null;if(St.isArray())Ct=vt.addChildRequest(gt.serviceIdentifier,gt,St);else{if(gt.cache)return;Ct=vt}if(gt.type===P.BindingTypeEnum.Instance&&gt.implementationType!==null){var Et=L.getDependencies(q,gt.implementationType);if(!bt.container.options.skipBaseClassChecks){var Tt=L.getBaseClassDependencyCount(q,gt.implementationType);if(Et.length<Tt){var ot=b.ARGUMENTS_LENGTH_MISMATCH(L.getFunctionName(gt.implementationType));throw new Error(ot)}}Et.forEach(function(Mt){K(q,!1,Mt.serviceIdentifier,bt,Ct,Mt)})}})}function lt(q,nt){var ct=[],bt=B(q);return bt.hasKey(nt)?ct=bt.get(nt):q.parent!==null&&(ct=lt(q.parent,nt)),ct}function st(q,nt,ct,bt,_t,St,At,vt){vt===void 0&&(vt=!1);var dt=new F.Context(nt),gt=z(ct,bt,_t,"",St,At);try{return K(q,vt,_t,dt,null,gt),dt}catch(Ct){throw O.isStackOverflowExeption(Ct)&&dt.plan&&T.circularDependencyToException(dt.plan.rootRequest),Ct}}R.plan=st;function yt(q,nt,ct,bt){var _t=new k.Target(P.TargetTypeEnum.Variable,"",nt,new M.Metadata(ct,bt)),St=new F.Context(q),At=new I.Request(nt,St,null,[],_t);return At}R.createMockRequest=yt},88460:function(at,R){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.QueryableString=void 0;var d=function(){function x(b){this.str=b}return x.prototype.startsWith=function(b){return this.str.indexOf(b)===0},x.prototype.endsWith=function(b){var P="",_=b.split("").reverse().join("");return P=this.str.split("").reverse().join(""),this.startsWith.call({str:P},_)},x.prototype.contains=function(b){return this.str.indexOf(b)!==-1},x.prototype.equals=function(b){return this.str===b},x.prototype.value=function(){return this.str},x}();R.QueryableString=d},6e3:function(at,R,d){"use strict";var x=this&&this.__spreadArray||function(W,$){for(var K=0,lt=$.length,st=W.length;K<lt;K++,st++)W[st]=$[K];return W};Object.defineProperty(R,"__esModule",{value:!0}),R.getFunctionName=R.getBaseClassDependencyCount=R.getDependencies=void 0;var b=d(5744),P=d(16674),_=d(28421),O=d(6867),T=d(55800);Object.defineProperty(R,"getFunctionName",{enumerable:!0,get:function(){return T.getFunctionName}});var F=d(18924);function M(W,$){var K=T.getFunctionName($),lt=A(W,K,$,!1);return lt}R.getDependencies=M;function A(W,$,K,lt){var st=W.getConstructorMetadata(K),yt=st.compilerGeneratedMetadata;if(yt===void 0){var q=P.MISSING_INJECTABLE_ANNOTATION+" "+$+".";throw new Error(q)}var nt=st.userGeneratedMetadata,ct=Object.keys(nt),bt=K.length===0&&ct.length>0,_t=ct.length>K.length,St=bt||_t?ct.length:K.length,At=I(lt,$,yt,nt,St),vt=k(W,K),dt=x(x([],At),vt);return dt}function L(W,$,K,lt,st){var yt=st[W.toString()]||[],q=z(yt),nt=q.unmanaged!==!0,ct=lt[W],bt=q.inject||q.multiInject;if(ct=bt||ct,ct instanceof b.LazyServiceIdentifer&&(ct=ct.unwrap()),nt){var _t=ct===Object,St=ct===Function,At=ct===void 0,vt=_t||St||At;if(!$&&vt){var dt=P.MISSING_INJECT_ANNOTATION+" argument "+W+" in class "+K+".";throw new Error(dt)}var gt=new F.Target(_.TargetTypeEnum.ConstructorArgument,q.targetName,ct);return gt.metadata=yt,gt}return null}function I(W,$,K,lt,st){for(var yt=[],q=0;q<st;q++){var nt=q,ct=L(nt,W,$,K,lt);ct!==null&&yt.push(ct)}return yt}function k(W,$){for(var K=W.getPropertiesMetadata($),lt=[],st=Object.keys(K),yt=0,q=st;yt<q.length;yt++){var nt=q[yt],ct=K[nt],bt=z(K[nt]),_t=bt.targetName||nt,St=bt.inject||bt.multiInject,At=new F.Target(_.TargetTypeEnum.ClassProperty,_t,St);At.metadata=ct,lt.push(At)}var vt=Object.getPrototypeOf($.prototype).constructor;if(vt!==Object){var dt=k(W,vt);lt=x(x([],lt),dt)}return lt}function B(W,$){var K=Object.getPrototypeOf($.prototype).constructor;if(K!==Object){var lt=T.getFunctionName(K),st=A(W,lt,K,!0),yt=st.map(function(ct){return ct.metadata.filter(function(bt){return bt.key===O.UNMANAGED_TAG})}),q=[].concat.apply([],yt).length,nt=st.length-q;return nt>0?nt:B(W,K)}else return 0}R.getBaseClassDependencyCount=B;function z(W){var $={};return W.forEach(function(K){$[K.key.toString()]=K.value}),{inject:$[O.INJECT_TAG],multiInject:$[O.MULTI_INJECT_TAG],targetName:$[O.NAME_TAG],unmanaged:$[O.UNMANAGED_TAG]}}},6748:function(at,R,d){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.Request=void 0;var x=d(37791),b=function(){function P(_,O,T,F,M){this.id=x.id(),this.serviceIdentifier=_,this.parentContext=O,this.parentRequest=T,this.target=M,this.childRequests=[],this.bindings=Array.isArray(F)?F:[F],this.requestScope=T===null?new Map:null}return P.prototype.addChildRequest=function(_,O,T){var F=new P(_,this.parentContext,this,O,T);return this.childRequests.push(F),F},P}();R.Request=b},18924:function(at,R,d){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.Target=void 0;var x=d(6867),b=d(37791),P=d(47738),_=d(88460),O=function(){function T(F,M,A,L){this.id=b.id(),this.type=F,this.serviceIdentifier=A,this.name=new _.QueryableString(M||""),this.metadata=new Array;var I=null;typeof L=="string"?I=new P.Metadata(x.NAMED_TAG,L):L instanceof P.Metadata&&(I=L),I!==null&&this.metadata.push(I)}return T.prototype.hasTag=function(F){for(var M=0,A=this.metadata;M<A.length;M++){var L=A[M];if(L.key===F)return!0}return!1},T.prototype.isArray=function(){return this.hasTag(x.MULTI_INJECT_TAG)},T.prototype.matchesArray=function(F){return this.matchesTag(x.MULTI_INJECT_TAG)(F)},T.prototype.isNamed=function(){return this.hasTag(x.NAMED_TAG)},T.prototype.isTagged=function(){return this.metadata.some(function(F){return x.NON_CUSTOM_TAG_KEYS.every(function(M){return F.key!==M})})},T.prototype.isOptional=function(){return this.matchesTag(x.OPTIONAL_TAG)(!0)},T.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter(function(F){return F.key===x.NAMED_TAG})[0]:null},T.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter(function(F){return x.NON_CUSTOM_TAG_KEYS.every(function(M){return F.key!==M})}):null},T.prototype.matchesNamedTag=function(F){return this.matchesTag(x.NAMED_TAG)(F)},T.prototype.matchesTag=function(F){var M=this;return function(A){for(var L=0,I=M.metadata;L<I.length;L++){var k=I[L];if(k.key===F&&k.value===A)return!0}return!1}},T}();R.Target=O},52279:function(at,R,d){"use strict";var x=this&&this.__spreadArray||function(A,L){for(var I=0,k=L.length,B=A.length;I<k;I++,B++)A[B]=L[I];return A};Object.defineProperty(R,"__esModule",{value:!0}),R.resolveInstance=void 0;var b=d(16674),P=d(28421),_=d(6867);function O(A,L,I){var k=L.filter(function(z){return z.target!==null&&z.target.type===P.TargetTypeEnum.ClassProperty}),B=k.map(I);return k.forEach(function(z,W){var $="";$=z.target.name.value();var K=B[W];A[$]=K}),A}function T(A,L){return new(A.bind.apply(A,x([void 0],L)))}function F(A,L){if(Reflect.hasMetadata(_.POST_CONSTRUCT,A)){var I=Reflect.getMetadata(_.POST_CONSTRUCT,A);try{L[I.value]()}catch(k){throw new Error(b.POST_CONSTRUCT_ERROR(A.name,k.message))}}}function M(A,L,I){var k=null;if(L.length>0){var B=L.filter(function(W){return W.target!==null&&W.target.type===P.TargetTypeEnum.ConstructorArgument}),z=B.map(I);k=T(A,z),k=O(k,L,I)}else k=new A;return F(A,k),k}R.resolveInstance=M},31927:function(at,R,d){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.resolve=void 0;var x=d(16674),b=d(28421),P=d(85265),_=d(55800),O=d(52279),T=function(A,L,I){try{return I()}catch(k){throw P.isStackOverflowExeption(k)?new Error(x.CIRCULAR_DEPENDENCY_IN_FACTORY(A,L.toString())):k}},F=function(A){return function(L){L.parentContext.setCurrentRequest(L);var I=L.bindings,k=L.childRequests,B=L.target&&L.target.isArray(),z=!L.parentRequest||!L.parentRequest.target||!L.target||!L.parentRequest.target.matchesArray(L.target.serviceIdentifier);if(B&&z)return k.map(function(yt){var q=F(A);return q(yt)});var W=null;if(L.target.isOptional()&&I.length===0)return;var $=I[0],K=$.scope===b.BindingScopeEnum.Singleton,lt=$.scope===b.BindingScopeEnum.Request;if(K&&$.activated)return $.cache;if(lt&&A!==null&&A.has($.id))return A.get($.id);if($.type===b.BindingTypeEnum.ConstantValue)W=$.cache,$.activated=!0;else if($.type===b.BindingTypeEnum.Function)W=$.cache,$.activated=!0;else if($.type===b.BindingTypeEnum.Constructor)W=$.implementationType;else if($.type===b.BindingTypeEnum.DynamicValue&&$.dynamicValue!==null)W=T("toDynamicValue",$.serviceIdentifier,function(){return $.dynamicValue(L.parentContext)});else if($.type===b.BindingTypeEnum.Factory&&$.factory!==null)W=T("toFactory",$.serviceIdentifier,function(){return $.factory(L.parentContext)});else if($.type===b.BindingTypeEnum.Provider&&$.provider!==null)W=T("toProvider",$.serviceIdentifier,function(){return $.provider(L.parentContext)});else if($.type===b.BindingTypeEnum.Instance&&$.implementationType!==null)W=O.resolveInstance($.implementationType,k,F(A));else{var st=_.getServiceIdentifierAsString(L.serviceIdentifier);throw new Error(x.INVALID_BINDING_TYPE+" "+st)}return typeof $.onActivation=="function"&&(W=$.onActivation(L.parentContext,W)),K&&($.cache=W,$.activated=!0),lt&&A!==null&&!A.has($.id)&&A.set($.id,W),W}};function M(A){var L=F(A.plan.rootRequest.requestScope);return L(A.plan.rootRequest)}R.resolve=M},83366:function(at,R,d){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.BindingInSyntax=void 0;var x=d(28421),b=d(71325),P=function(){function _(O){this._binding=O}return _.prototype.inRequestScope=function(){return this._binding.scope=x.BindingScopeEnum.Request,new b.BindingWhenOnSyntax(this._binding)},_.prototype.inSingletonScope=function(){return this._binding.scope=x.BindingScopeEnum.Singleton,new b.BindingWhenOnSyntax(this._binding)},_.prototype.inTransientScope=function(){return this._binding.scope=x.BindingScopeEnum.Transient,new b.BindingWhenOnSyntax(this._binding)},_}();R.BindingInSyntax=P},99812:function(at,R,d){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.BindingInWhenOnSyntax=void 0;var x=d(83366),b=d(51811),P=d(98370),_=function(){function O(T){this._binding=T,this._bindingWhenSyntax=new P.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new b.BindingOnSyntax(this._binding),this._bindingInSyntax=new x.BindingInSyntax(T)}return O.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},O.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},O.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},O.prototype.when=function(T){return this._bindingWhenSyntax.when(T)},O.prototype.whenTargetNamed=function(T){return this._bindingWhenSyntax.whenTargetNamed(T)},O.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},O.prototype.whenTargetTagged=function(T,F){return this._bindingWhenSyntax.whenTargetTagged(T,F)},O.prototype.whenInjectedInto=function(T){return this._bindingWhenSyntax.whenInjectedInto(T)},O.prototype.whenParentNamed=function(T){return this._bindingWhenSyntax.whenParentNamed(T)},O.prototype.whenParentTagged=function(T,F){return this._bindingWhenSyntax.whenParentTagged(T,F)},O.prototype.whenAnyAncestorIs=function(T){return this._bindingWhenSyntax.whenAnyAncestorIs(T)},O.prototype.whenNoAncestorIs=function(T){return this._bindingWhenSyntax.whenNoAncestorIs(T)},O.prototype.whenAnyAncestorNamed=function(T){return this._bindingWhenSyntax.whenAnyAncestorNamed(T)},O.prototype.whenAnyAncestorTagged=function(T,F){return this._bindingWhenSyntax.whenAnyAncestorTagged(T,F)},O.prototype.whenNoAncestorNamed=function(T){return this._bindingWhenSyntax.whenNoAncestorNamed(T)},O.prototype.whenNoAncestorTagged=function(T,F){return this._bindingWhenSyntax.whenNoAncestorTagged(T,F)},O.prototype.whenAnyAncestorMatches=function(T){return this._bindingWhenSyntax.whenAnyAncestorMatches(T)},O.prototype.whenNoAncestorMatches=function(T){return this._bindingWhenSyntax.whenNoAncestorMatches(T)},O.prototype.onActivation=function(T){return this._bindingOnSyntax.onActivation(T)},O}();R.BindingInWhenOnSyntax=_},51811:function(at,R,d){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.BindingOnSyntax=void 0;var x=d(98370),b=function(){function P(_){this._binding=_}return P.prototype.onActivation=function(_){return this._binding.onActivation=_,new x.BindingWhenSyntax(this._binding)},P}();R.BindingOnSyntax=b},51860:function(at,R,d){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.BindingToSyntax=void 0;var x=d(16674),b=d(28421),P=d(99812),_=d(71325),O=function(){function T(F){this._binding=F}return T.prototype.to=function(F){return this._binding.type=b.BindingTypeEnum.Instance,this._binding.implementationType=F,new P.BindingInWhenOnSyntax(this._binding)},T.prototype.toSelf=function(){if(typeof this._binding.serviceIdentifier!="function")throw new Error(""+x.INVALID_TO_SELF_VALUE);var F=this._binding.serviceIdentifier;return this.to(F)},T.prototype.toConstantValue=function(F){return this._binding.type=b.BindingTypeEnum.ConstantValue,this._binding.cache=F,this._binding.dynamicValue=null,this._binding.implementationType=null,this._binding.scope=b.BindingScopeEnum.Singleton,new _.BindingWhenOnSyntax(this._binding)},T.prototype.toDynamicValue=function(F){return this._binding.type=b.BindingTypeEnum.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=F,this._binding.implementationType=null,new P.BindingInWhenOnSyntax(this._binding)},T.prototype.toConstructor=function(F){return this._binding.type=b.BindingTypeEnum.Constructor,this._binding.implementationType=F,this._binding.scope=b.BindingScopeEnum.Singleton,new _.BindingWhenOnSyntax(this._binding)},T.prototype.toFactory=function(F){return this._binding.type=b.BindingTypeEnum.Factory,this._binding.factory=F,this._binding.scope=b.BindingScopeEnum.Singleton,new _.BindingWhenOnSyntax(this._binding)},T.prototype.toFunction=function(F){if(typeof F!="function")throw new Error(x.INVALID_FUNCTION_BINDING);var M=this.toConstantValue(F);return this._binding.type=b.BindingTypeEnum.Function,this._binding.scope=b.BindingScopeEnum.Singleton,M},T.prototype.toAutoFactory=function(F){return this._binding.type=b.BindingTypeEnum.Factory,this._binding.factory=function(M){var A=function(){return M.container.get(F)};return A},this._binding.scope=b.BindingScopeEnum.Singleton,new _.BindingWhenOnSyntax(this._binding)},T.prototype.toProvider=function(F){return this._binding.type=b.BindingTypeEnum.Provider,this._binding.provider=F,this._binding.scope=b.BindingScopeEnum.Singleton,new _.BindingWhenOnSyntax(this._binding)},T.prototype.toService=function(F){this.toDynamicValue(function(M){return M.container.get(F)})},T}();R.BindingToSyntax=O},71325:function(at,R,d){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.BindingWhenOnSyntax=void 0;var x=d(51811),b=d(98370),P=function(){function _(O){this._binding=O,this._bindingWhenSyntax=new b.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new x.BindingOnSyntax(this._binding)}return _.prototype.when=function(O){return this._bindingWhenSyntax.when(O)},_.prototype.whenTargetNamed=function(O){return this._bindingWhenSyntax.whenTargetNamed(O)},_.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},_.prototype.whenTargetTagged=function(O,T){return this._bindingWhenSyntax.whenTargetTagged(O,T)},_.prototype.whenInjectedInto=function(O){return this._bindingWhenSyntax.whenInjectedInto(O)},_.prototype.whenParentNamed=function(O){return this._bindingWhenSyntax.whenParentNamed(O)},_.prototype.whenParentTagged=function(O,T){return this._bindingWhenSyntax.whenParentTagged(O,T)},_.prototype.whenAnyAncestorIs=function(O){return this._bindingWhenSyntax.whenAnyAncestorIs(O)},_.prototype.whenNoAncestorIs=function(O){return this._bindingWhenSyntax.whenNoAncestorIs(O)},_.prototype.whenAnyAncestorNamed=function(O){return this._bindingWhenSyntax.whenAnyAncestorNamed(O)},_.prototype.whenAnyAncestorTagged=function(O,T){return this._bindingWhenSyntax.whenAnyAncestorTagged(O,T)},_.prototype.whenNoAncestorNamed=function(O){return this._bindingWhenSyntax.whenNoAncestorNamed(O)},_.prototype.whenNoAncestorTagged=function(O,T){return this._bindingWhenSyntax.whenNoAncestorTagged(O,T)},_.prototype.whenAnyAncestorMatches=function(O){return this._bindingWhenSyntax.whenAnyAncestorMatches(O)},_.prototype.whenNoAncestorMatches=function(O){return this._bindingWhenSyntax.whenNoAncestorMatches(O)},_.prototype.onActivation=function(O){return this._bindingOnSyntax.onActivation(O)},_}();R.BindingWhenOnSyntax=P},98370:function(at,R,d){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.BindingWhenSyntax=void 0;var x=d(51811),b=d(80758),P=function(){function _(O){this._binding=O}return _.prototype.when=function(O){return this._binding.constraint=O,new x.BindingOnSyntax(this._binding)},_.prototype.whenTargetNamed=function(O){return this._binding.constraint=b.namedConstraint(O),new x.BindingOnSyntax(this._binding)},_.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(O){var T=O.target!==null&&!O.target.isNamed()&&!O.target.isTagged();return T},new x.BindingOnSyntax(this._binding)},_.prototype.whenTargetTagged=function(O,T){return this._binding.constraint=b.taggedConstraint(O)(T),new x.BindingOnSyntax(this._binding)},_.prototype.whenInjectedInto=function(O){return this._binding.constraint=function(T){return b.typeConstraint(O)(T.parentRequest)},new x.BindingOnSyntax(this._binding)},_.prototype.whenParentNamed=function(O){return this._binding.constraint=function(T){return b.namedConstraint(O)(T.parentRequest)},new x.BindingOnSyntax(this._binding)},_.prototype.whenParentTagged=function(O,T){return this._binding.constraint=function(F){return b.taggedConstraint(O)(T)(F.parentRequest)},new x.BindingOnSyntax(this._binding)},_.prototype.whenAnyAncestorIs=function(O){return this._binding.constraint=function(T){return b.traverseAncerstors(T,b.typeConstraint(O))},new x.BindingOnSyntax(this._binding)},_.prototype.whenNoAncestorIs=function(O){return this._binding.constraint=function(T){return!b.traverseAncerstors(T,b.typeConstraint(O))},new x.BindingOnSyntax(this._binding)},_.prototype.whenAnyAncestorNamed=function(O){return this._binding.constraint=function(T){return b.traverseAncerstors(T,b.namedConstraint(O))},new x.BindingOnSyntax(this._binding)},_.prototype.whenNoAncestorNamed=function(O){return this._binding.constraint=function(T){return!b.traverseAncerstors(T,b.namedConstraint(O))},new x.BindingOnSyntax(this._binding)},_.prototype.whenAnyAncestorTagged=function(O,T){return this._binding.constraint=function(F){return b.traverseAncerstors(F,b.taggedConstraint(O)(T))},new x.BindingOnSyntax(this._binding)},_.prototype.whenNoAncestorTagged=function(O,T){return this._binding.constraint=function(F){return!b.traverseAncerstors(F,b.taggedConstraint(O)(T))},new x.BindingOnSyntax(this._binding)},_.prototype.whenAnyAncestorMatches=function(O){return this._binding.constraint=function(T){return b.traverseAncerstors(T,O)},new x.BindingOnSyntax(this._binding)},_.prototype.whenNoAncestorMatches=function(O){return this._binding.constraint=function(T){return!b.traverseAncerstors(T,O)},new x.BindingOnSyntax(this._binding)},_}();R.BindingWhenSyntax=P},80758:function(at,R,d){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.typeConstraint=R.namedConstraint=R.taggedConstraint=R.traverseAncerstors=void 0;var x=d(6867),b=d(47738),P=function(F,M){var A=F.parentRequest;return A!==null?M(A)?!0:P(A,M):!1};R.traverseAncerstors=P;var _=function(F){return function(M){var A=function(L){return L!==null&&L.target!==null&&L.target.matchesTag(F)(M)};return A.metaData=new b.Metadata(F,M),A}};R.taggedConstraint=_;var O=_(x.NAMED_TAG);R.namedConstraint=O;var T=function(F){return function(M){var A=null;if(M!==null)if(A=M.bindings[0],typeof F=="string"){var L=A.serviceIdentifier;return L===F}else{var I=M.bindings[0].implementationType;return F===I}return!1}};R.typeConstraint=T},70600:function(at,R){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.multiBindToService=void 0;var d=function(x){return function(b){return function(){for(var P=[],_=0;_<arguments.length;_++)P[_]=arguments[_];return P.forEach(function(O){return x.bind(O).toService(b)})}}};R.multiBindToService=d},85265:function(at,R,d){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.isStackOverflowExeption=void 0;var x=d(16674);function b(P){return P instanceof RangeError||P.message===x.STACK_OVERFLOW}R.isStackOverflowExeption=b},37791:function(at,R){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.id=void 0;var d=0;function x(){return d++}R.id=x},55800:function(at,R,d){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.circularDependencyToException=R.listMetadataForTarget=R.listRegisteredBindingsForServiceIdentifier=R.getServiceIdentifierAsString=R.getFunctionName=void 0;var x=d(16674);function b(A){if(typeof A=="function"){var L=A;return L.name}else{if(typeof A=="symbol")return A.toString();var L=A;return L}}R.getServiceIdentifierAsString=b;function P(A,L,I){var k="",B=I(A,L);return B.length!==0&&(k=`
Registered bindings:`,B.forEach(function(z){var W="Object";z.implementationType!==null&&(W=M(z.implementationType)),k=k+`
 `+W,z.constraint.metaData&&(k=k+" - "+z.constraint.metaData)})),k}R.listRegisteredBindingsForServiceIdentifier=P;function _(A,L){return A.parentRequest===null?!1:A.parentRequest.serviceIdentifier===L?!0:_(A.parentRequest,L)}function O(A){function L(k,B){B===void 0&&(B=[]);var z=b(k.serviceIdentifier);return B.push(z),k.parentRequest!==null?L(k.parentRequest,B):B}var I=L(A);return I.reverse().join(" --> ")}function T(A){A.childRequests.forEach(function(L){if(_(L,L.serviceIdentifier)){var I=O(L);throw new Error(x.CIRCULAR_DEPENDENCY+" "+I)}else T(L)})}R.circularDependencyToException=T;function F(A,L){if(L.isTagged()||L.isNamed()){var I="",k=L.getNamedTag(),B=L.getCustomTags();return k!==null&&(I+=k.toString()+`
`),B!==null&&B.forEach(function(z){I+=z.toString()+`
`})," "+A+`
 `+A+" - "+I}else return" "+A}R.listMetadataForTarget=F;function M(A){if(A.name)return A.name;var L=A.toString(),I=L.match(/^function\s*([^\s(]+)/);return I?I[1]:"Anonymous function: "+L}R.getFunctionName=M},96486:function(at,R,d){at=d.nmd(at);var x;/**
* @license
* Lodash <https://lodash.com/>
* Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
* Released under MIT license <https://lodash.com/license>
* Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
* Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
*/(function(){var b,P="4.17.21",_=200,O="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",T="Expected a function",F="Invalid `variable` option passed into `_.template`",M="__lodash_hash_undefined__",A=500,L="__lodash_placeholder__",I=1,k=2,B=4,z=1,W=2,$=1,K=2,lt=4,st=8,yt=16,q=32,nt=64,ct=128,bt=256,_t=512,St=30,At="...",vt=800,dt=16,gt=1,Ct=2,Et=3,Tt=1/0,ot=9007199254740991,Mt=17976931348623157e292,Wt=0/0,jt=4294967295,qt=jt-1,se=jt>>>1,ae=[["ary",ct],["bind",$],["bindKey",K],["curry",st],["curryRight",yt],["flip",_t],["partial",q],["partialRight",nt],["rearg",bt]],he="[object Arguments]",ke="[object Array]",Le="[object AsyncFunction]",rr="[object Boolean]",Ee="[object Date]",ge="[object DOMException]",we="[object Error]",Ce="[object Function]",ye="[object GeneratorFunction]",Gt="[object Map]",Xt="[object Number]",Kt="[object Null]",ze="[object Object]",ur="[object Promise]",tr="[object Proxy]",re="[object RegExp]",Qr="[object Set]",Ir="[object String]",gn="[object Symbol]",Wn="[object Undefined]",ui="[object WeakMap]",bi="[object WeakSet]",fr="[object ArrayBuffer]",Zr="[object DataView]",Sn="[object Float32Array]",Dn="[object Float64Array]",hn="[object Int8Array]",Gn="[object Int16Array]",En="[object Int32Array]",In="[object Uint8Array]",Fn="[object Uint8ClampedArray]",xe="[object Uint16Array]",Ge="[object Uint32Array]",Je=/\b__p \+= '';/g,br=/\b(__p \+=) '' \+/g,jr=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Wr=/&(?:amp|lt|gt|quot|#39);/g,Ut=/[&<>"']/g,ft=RegExp(Wr.source),pt=RegExp(Ut.source),J=/<%-([\s\S]+?)%>/g,xt=/<%([\s\S]+?)%>/g,Rt=/<%=([\s\S]+?)%>/g,ue=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ie=/^\w*$/,be=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ce=/[\\^$.*+?()[\]{}|]/g,We=RegExp(ce.source),Ne=/^\s+/,Mr=/\s/,sn=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,hr=/\{\n\/\* \[wrapped with (.+)\] \*/,cn=/,? & /,kn=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,me=/[()=,{}\[\]\/\s]/,Tn=/\\(\\)?/g,Zn=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Kn=/\w*$/,Or=/^[-+]0x[0-9a-f]+$/i,wn=/^0b[01]+$/i,Cr=/^\[object .+?Constructor\]$/,xr=/^0o[0-7]+$/i,_n=/^(?:0|[1-9]\d*)$/,Mi=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,or=/($^)/,Bn=/['\n\r\u2028\u2029\\]/g,ti="\\ud800-\\udfff",Vn="\\u0300-\\u036f",qi="\\ufe20-\\ufe2f",Rn="\\u20d0-\\u20ff",fa=Vn+qi+Rn,Ci="\\u2700-\\u27bf",ga="a-z\\xdf-\\xf6\\xf8-\\xff",da="\\xac\\xb1\\xd7\\xf7",zo="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Po="\\u2000-\\u206f",au=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Yi="A-Z\\xc0-\\xd6\\xd8-\\xde",Ha="\\ufe0e\\ufe0f",po=da+zo+Po+au,Za="['\u2019]",ho="["+ti+"]",za="["+po+"]",ol="["+fa+"]",nf="\\d+",$l="["+Ci+"]",ih="["+ga+"]",Al="[^"+ti+po+nf+Ci+ga+Yi+"]",Ic="\\ud83c[\\udffb-\\udfff]",ah="(?:"+ol+"|"+Ic+")",Ys="[^"+ti+"]",Is="(?:\\ud83c[\\udde6-\\uddff]){2}",Oc="[\\ud800-\\udbff][\\udc00-\\udfff]",sl="["+Yi+"]",oh="\\u200d",Br="(?:"+ih+"|"+Al+")",Iu="(?:"+sl+"|"+Al+")",af="(?:"+Za+"(?:d|ll|m|re|s|t|ve))?",jh="(?:"+Za+"(?:D|LL|M|RE|S|T|VE))?",Dc=ah+"?",Tf="["+Ha+"]?",Td="(?:"+oh+"(?:"+[Ys,Is,Oc].join("|")+")"+Tf+Dc+")*",Md="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Kl="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Zl=Tf+Dc+Td,Wh="(?:"+[$l,Is,Oc].join("|")+")"+Zl,qd="(?:"+[Ys+ol+"?",ol,Is,Oc,ho].join("|")+")",of=RegExp(Za,"g"),Ql=RegExp(ol,"g"),go=RegExp(Ic+"(?="+Ic+")|"+qd+Zl,"g"),sf=RegExp([sl+"?"+ih+"+"+af+"(?="+[za,sl,"$"].join("|")+")",Iu+"+"+jh+"(?="+[za,sl+Br,"$"].join("|")+")",sl+"?"+Br+"+"+af,sl+"+"+jh,Kl,Md,nf,Wh].join("|"),"g"),sh=RegExp("["+oh+ti+fa+Ha+"]"),uh=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Pc=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Vh=-1,Qa={};Qa[Sn]=Qa[Dn]=Qa[hn]=Qa[Gn]=Qa[En]=Qa[In]=Qa[Fn]=Qa[xe]=Qa[Ge]=!0,Qa[he]=Qa[ke]=Qa[fr]=Qa[rr]=Qa[Zr]=Qa[Ee]=Qa[we]=Qa[Ce]=Qa[Gt]=Qa[Xt]=Qa[ze]=Qa[re]=Qa[Qr]=Qa[Ir]=Qa[ui]=!1;var Ya={};Ya[he]=Ya[ke]=Ya[fr]=Ya[Zr]=Ya[rr]=Ya[Ee]=Ya[Sn]=Ya[Dn]=Ya[hn]=Ya[Gn]=Ya[En]=Ya[Gt]=Ya[Xt]=Ya[ze]=Ya[re]=Ya[Qr]=Ya[Ir]=Ya[gn]=Ya[In]=Ya[Fn]=Ya[xe]=Ya[Ge]=!0,Ya[we]=Ya[Ce]=Ya[ui]=!1;var Gu={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Ou={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Du={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},lh={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Hh=parseFloat,Mv=parseInt,tv=typeof d.g=="object"&&d.g&&d.g.Object===Object&&d.g,Id=typeof self=="object"&&self&&self.Object===Object&&self,Jo=tv||Id||Function("return this")(),yo=R&&!R.nodeType&&R,Lc=yo&&!0&&at&&!at.nodeType&&at,Yh=Lc&&Lc.exports===yo,zu=Yh&&tv.process,ns=function(){try{var tn=Lc&&Lc.require&&Lc.require("util").types;return tn||zu&&zu.binding&&zu.binding("util")}catch(Z){}}(),Mf=ns&&ns.isArrayBuffer,xs=ns&&ns.isDate,Jl=ns&&ns.isMap,Cl=ns&&ns.isRegExp,If=ns&&ns.isSet,Tl=ns&&ns.isTypedArray;function _o(tn,Z,w){switch(w.length){case 0:return tn.call(Z);case 1:return tn.call(Z,w[0]);case 2:return tn.call(Z,w[0],w[1]);case 3:return tn.call(Z,w[0],w[1],w[2])}return tn.apply(Z,w)}function Uu(tn,Z,w,hi){for(var An=-1,ua=tn==null?0:tn.length;++An<ua;){var qo=tn[An];Z(hi,qo,w(qo),tn)}return hi}function ou(tn,Z){for(var w=-1,hi=tn==null?0:tn.length;++w<hi&&Z(tn[w],w,tn)!==!1;);return tn}function ql(tn,Z){for(var w=tn==null?0:tn.length;w--&&Z(tn[w],w,tn)!==!1;);return tn}function Xh(tn,Z){for(var w=-1,hi=tn==null?0:tn.length;++w<hi;)if(!Z(tn[w],w,tn))return!1;return!0}function ul(tn,Z){for(var w=-1,hi=tn==null?0:tn.length,An=0,ua=[];++w<hi;){var qo=tn[w];Z(qo,w,tn)&&(ua[An++]=qo)}return ua}function tc(tn,Z){var w=tn==null?0:tn.length;return!!w&&nc(tn,Z,0)>-1}function ec(tn,Z,w){for(var hi=-1,An=tn==null?0:tn.length;++hi<An;)if(w(Z,tn[hi]))return!0;return!1}function mo(tn,Z){for(var w=-1,hi=tn==null?0:tn.length,An=Array(hi);++w<hi;)An[w]=Z(tn[w],w,tn);return An}function Pu(tn,Z){for(var w=-1,hi=Z.length,An=tn.length;++w<hi;)tn[An+w]=Z[w];return tn}function eo(tn,Z,w,hi){var An=-1,ua=tn==null?0:tn.length;for(hi&&ua&&(w=tn[++An]);++An<ua;)w=Z(w,tn[An],An,tn);return w}function ch(tn,Z,w,hi){var An=tn==null?0:tn.length;for(hi&&An&&(w=tn[--An]);An--;)w=Z(w,tn[An],An,tn);return w}function $h(tn,Z){for(var w=-1,hi=tn==null?0:tn.length;++w<hi;)if(Z(tn[w],w,tn))return!0;return!1}var Xs=fh("length");function Kh(tn){return tn.split("")}function Of(tn){return tn.match(kn)||[]}function rc(tn,Z,w){var hi;return w(tn,function(An,ua,qo){if(Z(An,ua,qo))return hi=ua,!1}),hi}function Rc(tn,Z,w,hi){for(var An=tn.length,ua=w+(hi?1:-1);hi?ua--:++ua<An;)if(Z(tn[ua],ua,tn))return ua;return-1}function nc(tn,Z,w){return Z===Z?$s(tn,Z,w):Rc(tn,ic,w)}function ll(tn,Z,w,hi){for(var An=w-1,ua=tn.length;++An<ua;)if(hi(tn[An],Z))return An;return-1}function ic(tn){return tn!==tn}function Ns(tn,Z){var w=tn==null?0:tn.length;return w?Sr(tn,Z)/w:Wt}function fh(tn){return function(Z){return Z==null?b:Z[tn]}}function ju(tn){return function(Z){return tn==null?b:tn[Z]}}function fe(tn,Z,w,hi,An){return An(tn,function(ua,qo,pi){w=hi?(hi=!1,ua):Z(w,ua,qo,pi)}),w}function qe(tn,Z){var w=tn.length;for(tn.sort(Z);w--;)tn[w]=tn[w].value;return tn}function Sr(tn,Z){for(var w,hi=-1,An=tn.length;++hi<An;){var ua=Z(tn[hi]);ua!==b&&(w=w===b?ua:w+ua)}return w}function Kr(tn,Z){for(var w=-1,hi=Array(tn);++w<tn;)hi[w]=Z(w);return hi}function Pn(tn,Z){return mo(Z,function(w){return[w,tn[w]]})}function ci(tn){return tn&&tn.slice(0,ev(tn)+1).replace(Ne,"")}function Pi(tn){return function(Z){return tn(Z)}}function xa(tn,Z){return mo(Z,function(w){return tn[w]})}function ro(tn,Z){return tn.has(Z)}function su(tn,Z){for(var w=-1,hi=tn.length;++w<hi&&nc(Z,tn[w],0)>-1;);return w}function gu(tn,Z){for(var w=tn.length;w--&&nc(Z,tn[w],0)>-1;);return w}function hh(tn,Z){for(var w=tn.length,hi=0;w--;)tn[w]===Z&&++hi;return hi}var Zh=ju(Gu),Df=ju(Ou);function Od(tn){return"\\"+lh[tn]}function Dd(tn,Z){return tn==null?b:tn[Z]}function dh(tn){return sh.test(tn)}function rp(tn){return uh.test(tn)}function Iv(tn){for(var Z,w=[];!(Z=tn.next()).done;)w.push(Z.value);return w}function Pd(tn){var Z=-1,w=Array(tn.size);return tn.forEach(function(hi,An){w[++Z]=[An,hi]}),w}function Pf(tn,Z){return function(w){return tn(Z(w))}}function cl(tn,Z){for(var w=-1,hi=tn.length,An=0,ua=[];++w<hi;){var qo=tn[w];(qo===Z||qo===L)&&(tn[w]=L,ua[An++]=w)}return ua}function Fc(tn){var Z=-1,w=Array(tn.size);return tn.forEach(function(hi){w[++Z]=hi}),w}function Lf(tn){var Z=-1,w=Array(tn.size);return tn.forEach(function(hi){w[++Z]=[hi,hi]}),w}function $s(tn,Z,w){for(var hi=w-1,An=tn.length;++hi<An;)if(tn[hi]===Z)return hi;return-1}function Ov(tn,Z,w){for(var hi=w+1;hi--;)if(tn[hi]===Z)return hi;return hi}function uf(tn){return dh(tn)?Sp(tn):Xs(tn)}function yu(tn){return dh(tn)?np(tn):Kh(tn)}function ev(tn){for(var Z=tn.length;Z--&&Mr.test(tn.charAt(Z)););return Z}var rv=ju(Du);function Sp(tn){for(var Z=go.lastIndex=0;go.test(tn);)++Z;return Z}function np(tn){return tn.match(go)||[]}function Ld(tn){return tn.match(sf)||[]}var nv=function tn(Z){Z=Z==null?Jo:_e.defaults(Jo.Object(),Z,_e.pick(Jo,Pc));var w=Z.Array,hi=Z.Date,An=Z.Error,ua=Z.Function,qo=Z.Math,pi=Z.Object,Nc=Z.RegExp,ks=Z.String,uu=Z.TypeError,ac=w.prototype,Ja=ua.prototype,Wu=pi.prototype,lf=Z["__core-js_shared__"],oc=Ja.toString,ha=Wu.hasOwnProperty,sc=0,uc=function(){var C=/[^.]+$/.exec(lf&&lf.keys&&lf.keys.IE_PROTO||"");return C?"Symbol(src)_1."+C:""}(),fl=Wu.toString,Rf=oc.call(pi),Qh=Jo._,kc=Nc("^"+oc.call(ha).replace(ce,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),lc=Yh?Z.Buffer:b,Fa=Z.Symbol,Ri=Z.Uint8Array,ds=lc?lc.allocUnsafe:b,co=Pf(pi.getPrototypeOf,pi),Ff=pi.create,Vu=Wu.propertyIsEnumerable,cf=ac.splice,Jh=Fa?Fa.isConcatSpreadable:b,cc=Fa?Fa.iterator:b,hl=Fa?Fa.toStringTag:b,fc=function(){try{var C=Mn(pi,"defineProperty");return C({},"",{}),C}catch(U){}}(),Ml=Z.clearTimeout!==Jo.clearTimeout&&Z.clearTimeout,qh=hi&&hi.now!==Jo.Date.now&&hi.now,ff=Z.setTimeout!==Jo.setTimeout&&Z.setTimeout,Il=qo.ceil,Ol=qo.floor,Hu=pi.getOwnPropertySymbols,vh=lc?lc.isBuffer:b,Yu=Z.isFinite,Rd=ac.join,vi=Pf(pi.keys,pi),uo=qo.max,Ki=qo.min,Dl=hi.now,td=Z.parseInt,dl=qo.random,hc=ac.reverse,dc=Mn(Z,"DataView"),bs=Mn(Z,"Map"),Nf=Mn(Z,"Promise"),Ks=Mn(Z,"Set"),Os=Mn(Z,"WeakMap"),Xu=Mn(pi,"create"),Pl=Os&&new Os,Ao={},kf=xo(dc),$u=xo(bs),vl=xo(Nf),Co=xo(Ks),Uo=xo(Os),Ku=Fa?Fa.prototype:b,is=Ku?Ku.valueOf:b,Ds=Ku?Ku.toString:b;function Re(C){if(ru(C)&&!Ra(C)&&!(C instanceof wa)){if(C instanceof Zs)return C;if(ha.call(C,"__wrapped__"))return Qi(C)}return new Zs(C)}var mu=function(){function C(){}return function(U){if(!eu(U))return{};if(Ff)return Ff(U);C.prototype=U;var it=new C;return C.prototype=b,it}}();function Es(){}function Zs(C,U){this.__wrapped__=C,this.__actions__=[],this.__chain__=!!U,this.__index__=0,this.__values__=b}Re.templateSettings={escape:J,evaluate:xt,interpolate:Rt,variable:"",imports:{_:Re}},Re.prototype=Es.prototype,Re.prototype.constructor=Re,Zs.prototype=mu(Es.prototype),Zs.prototype.constructor=Zs;function wa(C){this.__wrapped__=C,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=jt,this.__views__=[]}function ed(){var C=new wa(this.__wrapped__);return C.__actions__=As(this.__actions__),C.__dir__=this.__dir__,C.__filtered__=this.__filtered__,C.__iteratees__=As(this.__iteratees__),C.__takeCount__=this.__takeCount__,C.__views__=As(this.__views__),C}function Ss(){if(this.__filtered__){var C=new wa(this);C.__dir__=-1,C.__filtered__=!0}else C=this.clone(),C.__dir__*=-1;return C}function rd(){var C=this.__wrapped__.value(),U=this.__dir__,it=Ra(C),Lt=U<0,Zt=it?C.length:0,ve=j(0,Zt,this.__views__),Me=ve.start,He=ve.end,$e=He-Me,zr=Lt?He:Me-1,nn=this.__iteratees__,ln=nn.length,$n=0,ii=Ki($e,this.__takeCount__);if(!it||!Lt&&Zt==$e&&ii==$e)return Xf(C,this.__actions__);var yi=[];t:for(;$e--&&$n<ii;){zr+=U;for(var Ei=-1,mi=C[zr];++Ei<ln;){var di=nn[Ei],Ji=di.iteratee,us=di.type,ls=Ji(mi);if(us==Ct)mi=ls;else if(!ls){if(us==gt)continue t;break t}}yi[$n++]=mi}return yi}wa.prototype=mu(Es.prototype),wa.prototype.constructor=wa;function lu(C){var U=-1,it=C==null?0:C.length;for(this.clear();++U<it;){var Lt=C[U];this.set(Lt[0],Lt[1])}}function vc(){this.__data__=Xu?Xu(null):{},this.size=0}function ph(C){var U=this.has(C)&&delete this.__data__[C];return this.size-=U?1:0,U}function gh(C){var U=this.__data__;if(Xu){var it=U[C];return it===M?b:it}return ha.call(U,C)?U[C]:b}function pc(C){var U=this.__data__;return Xu?U[C]!==b:ha.call(U,C)}function Bc(C,U){var it=this.__data__;return this.size+=this.has(C)?0:1,it[C]=Xu&&U===b?M:U,this}lu.prototype.clear=vc,lu.prototype.delete=ph,lu.prototype.get=gh,lu.prototype.has=pc,lu.prototype.set=Bc;function pl(C){var U=-1,it=C==null?0:C.length;for(this.clear();++U<it;){var Lt=C[U];this.set(Lt[0],Lt[1])}}function Fd(){this.__data__=[],this.size=0}function Dv(C){var U=this.__data__,it=Gc(U,C);if(it<0)return!1;var Lt=U.length-1;return it==Lt?U.pop():cf.call(U,it,1),--this.size,!0}function nd(C){var U=this.__data__,it=Gc(U,C);return it<0?b:U[it][1]}function Nd(C){return Gc(this.__data__,C)>-1}function id(C,U){var it=this.__data__,Lt=Gc(it,C);return Lt<0?(++this.size,it.push([C,U])):it[Lt][1]=U,this}pl.prototype.clear=Fd,pl.prototype.delete=Dv,pl.prototype.get=nd,pl.prototype.has=Nd,pl.prototype.set=id;function gc(C){var U=-1,it=C==null?0:C.length;for(this.clear();++U<it;){var Lt=C[U];this.set(Lt[0],Lt[1])}}function Pv(){this.size=0,this.__data__={hash:new lu,map:new(bs||pl),string:new lu}}function kd(C){var U=rn(this,C).delete(C);return this.size-=U?1:0,U}function iv(C){return rn(this,C).get(C)}function cu(C){return rn(this,C).has(C)}function yh(C,U){var it=rn(this,C),Lt=it.size;return it.set(C,U),this.size+=it.size==Lt?0:1,this}gc.prototype.clear=Pv,gc.prototype.delete=kd,gc.prototype.get=iv,gc.prototype.has=cu,gc.prototype.set=yh;function Ll(C){var U=-1,it=C==null?0:C.length;for(this.__data__=new gc;++U<it;)this.add(C[U])}function ad(C){return this.__data__.set(C,M),this}function ts(C){return this.__data__.has(C)}Ll.prototype.add=Ll.prototype.push=ad,Ll.prototype.has=ts;function Qs(C){var U=this.__data__=new pl(C);this.size=U.size}function mh(){this.__data__=new pl,this.size=0}function hf(C){var U=this.__data__,it=U.delete(C);return this.size=U.size,it}function fu(C){return this.__data__.get(C)}function gl(C){return this.__data__.has(C)}function ws(C,U){var it=this.__data__;if(it instanceof pl){var Lt=it.__data__;if(!bs||Lt.length<_-1)return Lt.push([C,U]),this.size=++it.size,this;it=this.__data__=new gc(Lt)}return it.set(C,U),this.size=it.size,this}Qs.prototype.clear=mh,Qs.prototype.delete=hf,Qs.prototype.get=fu,Qs.prototype.has=gl,Qs.prototype.set=ws;function wp(C,U){var it=Ra(C),Lt=!it&&Mp(C),Zt=!it&&!Lt&&Ud(C),ve=!it&&!Lt&&!Zt&&jd(C),Me=it||Lt||Zt||ve,He=Me?Kr(C.length,ks):[],$e=He.length;for(var zr in C)(U||ha.call(C,zr))&&!(Me&&(zr=="length"||Zt&&(zr=="offset"||zr=="parent")||ve&&(zr=="buffer"||zr=="byteLength"||zr=="byteOffset")||ee(zr,$e)))&&He.push(zr);return He}function vs(C){var U=C.length;return U?C[Su(0,U-1)]:b}function Bd(C,U){return vo(As(C),Qu(U,0,C.length))}function od(C){return vo(As(C))}function Da(C,U,it){(it!==b&&!Ul(C[U],it)||it===b&&!(U in C))&&_a(C,U,it)}function Zu(C,U,it){var Lt=C[U];(!(ha.call(C,U)&&Ul(Lt,it))||it===b&&!(U in C))&&_a(C,U,it)}function Gc(C,U){for(var it=C.length;it--;)if(Ul(C[it][0],U))return it;return-1}function Lv(C,U,it,Lt){return df(C,function(Zt,ve,Me){U(Lt,Zt,it(Zt),Me)}),Lt}function xh(C,U){return C&&bl(U,rl(U),C)}function bh(C,U){return C&&bl(U,nl(U),C)}function _a(C,U,it){U=="__proto__"&&fc?fc(C,U,{configurable:!0,enumerable:!0,value:it,writable:!0}):C[U]=it}function To(C,U){for(var it=-1,Lt=U.length,Zt=w(Lt),ve=C==null;++it<Lt;)Zt[it]=ve?b:cv(C,U[it]);return Zt}function Qu(C,U,it){return C===C&&(it!==b&&(C=C<=it?C:it),U!==b&&(C=C>=U?C:U)),C}function Ua(C,U,it,Lt,Zt,ve){var Me,He=U&I,$e=U&k,zr=U&B;if(it&&(Me=Zt?it(C,Lt,Zt,ve):it(C)),Me!==b)return Me;if(!eu(C))return C;var nn=Ra(C);if(nn){if(Me=It(C),!He)return As(C,Me)}else{var ln=Nn(C),$n=ln==Ce||ln==ye;if(Ud(C))return bc(C,He);if(ln==ze||ln==he||$n&&!Zt){if(Me=$e||$n?{}:Nt(C),!He)return $e?wc(C,bh(Me,C)):dd(C,xh(Me,C))}else{if(!Ya[ln])return Zt?C:{};Me=Ft(C,ln,He)}}ve||(ve=new Qs);var ii=ve.get(C);if(ii)return ii;ve.set(C,Me),Ip(C)?C.forEach(function(mi){Me.add(Ua(mi,U,it,mi,C,ve))}):C0(C)&&C.forEach(function(mi,di){Me.set(di,Ua(mi,U,it,di,C,ve))});var yi=zr?$e?$t:Ac:$e?nl:rl,Ei=nn?b:yi(C);return ou(Ei||C,function(mi,di){Ei&&(di=mi,mi=C[di]),Zu(Me,di,Ua(mi,U,it,di,C,ve))}),Me}function yc(C){var U=rl(C);return function(it){return xu(it,C,U)}}function xu(C,U,it){var Lt=it.length;if(C==null)return!Lt;for(C=pi(C);Lt--;){var Zt=it[Lt],ve=U[Zt],Me=C[Zt];if(Me===b&&!(Zt in C)||!ve(Me))return!1}return!0}function sd(C,U,it){if(typeof C!="function")throw new uu(T);return Xi(function(){C.apply(b,it)},U)}function Js(C,U,it,Lt){var Zt=-1,ve=tc,Me=!0,He=C.length,$e=[],zr=U.length;if(!He)return $e;it&&(U=mo(U,Pi(it))),Lt?(ve=ec,Me=!1):U.length>=_&&(ve=ro,Me=!1,U=new Ll(U));t:for(;++Zt<He;){var nn=C[Zt],ln=it==null?nn:it(nn);if(nn=Lt||nn!==0?nn:0,Me&&ln===ln){for(var $n=zr;$n--;)if(U[$n]===ln)continue t;$e.push(nn)}else ve(U,ln,Lt)||$e.push(nn)}return $e}var df=Ro(hu),Rv=Ro(Bf,!0);function Eh(C,U){var it=!0;return df(C,function(Lt,Zt,ve){return it=!!U(Lt,Zt,ve),it}),it}function Ps(C,U,it){for(var Lt=-1,Zt=C.length;++Lt<Zt;){var ve=C[Lt],Me=U(ve);if(Me!=null&&(He===b?Me===Me&&!jl(Me):it(Me,He)))var He=Me,$e=ve}return $e}function ud(C,U,it,Lt){var Zt=C.length;for(it=to(it),it<0&&(it=-it>Zt?0:Zt+it),Lt=Lt===b||Lt>Zt?Zt:to(Lt),Lt<0&&(Lt+=Zt),Lt=it>Lt?0:k1(Lt);it<Lt;)C[it++]=U;return C}function av(C,U){var it=[];return df(C,function(Lt,Zt,ve){U(Lt,Zt,ve)&&it.push(Lt)}),it}function Bs(C,U,it,Lt,Zt){var ve=-1,Me=C.length;for(it||(it=Qt),Zt||(Zt=[]);++ve<Me;){var He=C[ve];U>0&&it(He)?U>1?Bs(He,U-1,it,Lt,Zt):Pu(Zt,He):Lt||(Zt[Zt.length]=He)}return Zt}var ld=Oh(),cd=Oh(!0);function hu(C,U){return C&&ld(C,U,rl)}function Bf(C,U){return C&&cd(C,U,rl)}function dr(C,U){return ul(U,function(it){return xd(C[it])})}function zc(C,U){U=Gl(U,C);for(var it=0,Lt=U.length;C!=null&&it<Lt;)C=C[ao(U[it++])];return it&&it==Lt?C:b}function Uc(C,U,it){var Lt=U(C);return Ra(C)?Lt:Pu(Lt,it(C))}function jo(C){return C==null?C===b?Wn:Kt:hl&&hl in pi(C)?Yn(C):Ti(C)}function Rl(C,U){return C>U}function Gf(C,U){return C!=null&&ha.call(C,U)}function Gd(C,U){return C!=null&&U in pi(C)}function Sh(C,U,it){return C>=Ki(U,it)&&C<uo(U,it)}function Lu(C,U,it){for(var Lt=it?ec:tc,Zt=C[0].length,ve=C.length,Me=ve,He=w(ve),$e=1/0,zr=[];Me--;){var nn=C[Me];Me&&U&&(nn=mo(nn,Pi(U))),$e=Ki(nn.length,$e),He[Me]=!it&&(U||Zt>=120&&nn.length>=120)?new Ll(Me&&nn):b}nn=C[0];var ln=-1,$n=He[0];t:for(;++ln<Zt&&zr.length<$e;){var ii=nn[ln],yi=U?U(ii):ii;if(ii=it||ii!==0?ii:0,!($n?ro($n,yi):Lt(zr,yi,it))){for(Me=ve;--Me;){var Ei=He[Me];if(!(Ei?ro(Ei,yi):Lt(C[Me],yi,it)))continue t}$n&&$n.push(yi),zr.push(ii)}}return zr}function vf(C,U,it,Lt){return hu(C,function(Zt,ve,Me){U(Lt,it(Zt),ve,Me)}),Lt}function zf(C,U,it){U=Gl(U,C),C=Di(C,U);var Lt=C==null?C:C[ao(wr(U))];return Lt==null?b:_o(Lt,C,it)}function Uf(C){return ru(C)&&jo(C)==he}function Na(C){return ru(C)&&jo(C)==fr}function jc(C){return ru(C)&&jo(C)==Ee}function bu(C,U,it,Lt,Zt){return C===U?!0:C==null||U==null||!ru(C)&&!ru(U)?C!==C&&U!==U:Gs(C,U,it,Lt,bu,Zt)}function Gs(C,U,it,Lt,Zt,ve){var Me=Ra(C),He=Ra(U),$e=Me?ke:Nn(C),zr=He?ke:Nn(U);$e=$e==he?ze:$e,zr=zr==he?ze:zr;var nn=$e==ze,ln=zr==ze,$n=$e==zr;if($n&&Ud(C)){if(!Ud(U))return!1;Me=!0,nn=!1}if($n&&!nn)return ve||(ve=new Qs),Me||jd(C)?Lh(C,U,it,Lt,Zt,ve):sv(C,U,$e,it,Lt,Zt,ve);if(!(it&z)){var ii=nn&&ha.call(C,"__wrapped__"),yi=ln&&ha.call(U,"__wrapped__");if(ii||yi){var Ei=ii?C.value():C,mi=yi?U.value():U;return ve||(ve=new Qs),Zt(Ei,mi,it,Lt,ve)}}return $n?(ve||(ve=new Qs),ip(C,U,it,Lt,Zt,ve)):!1}function es(C){return ru(C)&&Nn(C)==Gt}function Fl(C,U,it,Lt){var Zt=it.length,ve=Zt,Me=!Lt;if(C==null)return!ve;for(C=pi(C);Zt--;){var He=it[Zt];if(Me&&He[2]?He[1]!==C[He[0]]:!(He[0]in C))return!1}for(;++Zt<ve;){He=it[Zt];var $e=He[0],zr=C[$e],nn=He[1];if(Me&&He[2]){if(zr===b&&!($e in C))return!1}else{var ln=new Qs;if(Lt)var $n=Lt(zr,nn,$e,C,U,ln);if(!($n===b?bu(nn,zr,z|W,Lt,ln):$n))return!1}}return!0}function mc(C){if(!eu(C)||Ar(C))return!1;var U=xd(C)?kc:Cr;return U.test(xo(C))}function ka(C){return ru(C)&&jo(C)==re}function jf(C){return ru(C)&&Nn(C)==Qr}function yl(C){return ru(C)&&Zp(C.length)&&!!Qa[jo(C)]}function Wc(C){return typeof C=="function"?C:C==null?Zc:typeof C=="object"?Ra(C)?Wo(C[0],C[1]):Nl(C):Yg(C)}function du(C){if(!Dr(C))return vi(C);var U=[];for(var it in pi(C))ha.call(C,it)&&it!="constructor"&&U.push(it);return U}function Eu(C){if(!eu(C))return Qn(C);var U=Dr(C),it=[];for(var Lt in C)Lt=="constructor"&&(U||!ha.call(C,Lt))||it.push(Lt);return it}function Ru(C,U){return C<U}function ps(C,U){var it=-1,Lt=Mc(C)?w(C.length):[];return df(C,function(Zt,ve,Me){Lt[++it]=U(Zt,ve,Me)}),Lt}function Nl(C){var U=dn(C);return U.length==1&&U[0][2]?Rr(U[0][0],U[0][1]):function(it){return it===C||Fl(it,C,U)}}function Wo(C,U){return Ie(C)&&Pr(U)?Rr(ao(C),U):function(it){var Lt=cv(it,C);return Lt===b&&Lt===U?Ug(it,C):bu(U,Lt,z|W)}}function Vo(C,U,it,Lt,Zt){C!==U&&ld(U,function(ve,Me){if(Zt||(Zt=new Qs),eu(ve))Mo(C,U,Me,it,Vo,Lt,Zt);else{var He=Lt?Lt(zi(C,Me),ve,Me+"",C,U,Zt):b;He===b&&(He=ve),Da(C,Me,He)}},nl)}function Mo(C,U,it,Lt,Zt,ve,Me){var He=zi(C,it),$e=zi(U,it),zr=Me.get($e);if(zr){Da(C,it,zr);return}var nn=ve?ve(He,$e,it+"",C,U,Me):b,ln=nn===b;if(ln){var $n=Ra($e),ii=!$n&&Ud($e),yi=!$n&&!ii&&jd($e);nn=$e,$n||ii||yi?Ra(He)?nn=He:tu(He)?nn=As(He):ii?(ln=!1,nn=bc($e,!0)):yi?(ln=!1,nn=Yc($e,!0)):nn=[]:Qp($e)||Mp($e)?(nn=He,Mp(He)?nn=rm(He):(!eu(He)||xd(He))&&(nn=Nt($e))):ln=!1}ln&&(Me.set($e,nn),Zt(nn,$e,Lt,ve,Me),Me.delete($e)),Da(C,it,nn)}function Wf(C,U){var it=C.length;if(!!it)return U+=U<0?it:0,ee(U,it)?C[U]:b}function Vf(C,U,it){U.length?U=mo(U,function(ve){return Ra(ve)?function(Me){return zc(Me,ve.length===1?ve[0]:ve)}:ve}):U=[Zc];var Lt=-1;U=mo(U,Pi(Lr()));var Zt=ps(C,function(ve,Me,He){var $e=mo(U,function(zr){return zr(ve)});return{criteria:$e,index:++Lt,value:ve}});return qe(Zt,function(ve,Me){return xf(ve,Me,it)})}function zs(C,U){return wh(C,U,function(it,Lt){return Ug(C,Lt)})}function wh(C,U,it){for(var Lt=-1,Zt=U.length,ve={};++Lt<Zt;){var Me=U[Lt],He=zc(C,Me);it(He,Me)&&xc(ve,Gl(Me,C),He)}return ve}function _h(C){return function(U){return zc(U,C)}}function kl(C,U,it,Lt){var Zt=Lt?ll:nc,ve=-1,Me=U.length,He=C;for(C===U&&(U=As(U)),it&&(He=mo(C,Pi(it)));++ve<Me;)for(var $e=0,zr=U[ve],nn=it?it(zr):zr;($e=Zt(He,nn,$e,Lt))>-1;)He!==C&&cf.call(He,$e,1),cf.call(C,$e,1);return C}function vu(C,U){for(var it=C?U.length:0,Lt=it-1;it--;){var Zt=U[it];if(it==Lt||Zt!==ve){var ve=Zt;ee(Zt)?cf.call(C,Zt,1):Vc(C,Zt)}}return C}function Su(C,U){return C+Ol(dl()*(U-C+1))}function ml(C,U,it,Lt){for(var Zt=-1,ve=uo(Il((U-C)/(it||1)),0),Me=w(ve);ve--;)Me[Lt?ve:++Zt]=C,C+=it;return Me}function pf(C,U){var it="";if(!C||U<1||U>ot)return it;do U%2&&(it+=C),U=Ol(U/2),U&&(C+=C);while(U);return it}function Aa(C,U){return io(li(C,U,Zc),C+"")}function Fv(C){return vs(Dp(C))}function Nv(C,U){var it=Dp(C);return vo(it,Qu(U,0,it.length))}function xc(C,U,it,Lt){if(!eu(C))return C;U=Gl(U,C);for(var Zt=-1,ve=U.length,Me=ve-1,He=C;He!=null&&++Zt<ve;){var $e=ao(U[Zt]),zr=it;if($e==="__proto__"||$e==="constructor"||$e==="prototype")return C;if(Zt!=Me){var nn=He[$e];zr=Lt?Lt(nn,$e,He):b,zr===b&&(zr=eu(nn)?nn:ee(U[Zt+1])?[]:{})}Zu(He,$e,zr),He=He[$e]}return C}var Ah=Pl?function(C,U){return Pl.set(C,U),C}:Zc,ov=fc?function(C,U){return fc(C,"toString",{configurable:!0,enumerable:!1,value:dv(U),writable:!0})}:Zc;function Ls(C){return vo(Dp(C))}function _s(C,U,it){var Lt=-1,Zt=C.length;U<0&&(U=-U>Zt?0:Zt+U),it=it>Zt?Zt:it,it<0&&(it+=Zt),Zt=U>it?0:it-U>>>0,U>>>=0;for(var ve=w(Zt);++Lt<Zt;)ve[Lt]=C[Lt+U];return ve}function Hf(C,U){var it;return df(C,function(Lt,Zt,ve){return it=U(Lt,Zt,ve),!it}),!!it}function Ch(C,U,it){var Lt=0,Zt=C==null?Lt:C.length;if(typeof U=="number"&&U===U&&Zt<=se){for(;Lt<Zt;){var ve=Lt+Zt>>>1,Me=C[ve];Me!==null&&!jl(Me)&&(it?Me<=U:Me<U)?Lt=ve+1:Zt=ve}return Zt}return Bl(C,U,Zc,it)}function Bl(C,U,it,Lt){var Zt=0,ve=C==null?0:C.length;if(ve===0)return 0;U=it(U);for(var Me=U!==U,He=U===null,$e=jl(U),zr=U===b;Zt<ve;){var nn=Ol((Zt+ve)/2),ln=it(C[nn]),$n=ln!==b,ii=ln===null,yi=ln===ln,Ei=jl(ln);if(Me)var mi=Lt||yi;else zr?mi=yi&&(Lt||$n):He?mi=yi&&$n&&(Lt||!ii):$e?mi=yi&&$n&&!ii&&(Lt||!Ei):ii||Ei?mi=!1:mi=Lt?ln<=U:ln<U;mi?Zt=nn+1:ve=nn}return Ki(ve,qt)}function Ju(C,U){for(var it=-1,Lt=C.length,Zt=0,ve=[];++it<Lt;){var Me=C[it],He=U?U(Me):Me;if(!it||!Ul(He,$e)){var $e=He;ve[Zt++]=Me===0?0:Me}}return ve}function as(C){return typeof C=="number"?C:jl(C)?Wt:+C}function os(C){if(typeof C=="string")return C;if(Ra(C))return mo(C,os)+"";if(jl(C))return Ds?Ds.call(C):"";var U=C+"";return U=="0"&&1/C==-Tt?"-0":U}function wu(C,U,it){var Lt=-1,Zt=tc,ve=C.length,Me=!0,He=[],$e=He;if(it)Me=!1,Zt=ec;else if(ve>=_){var zr=U?null:yd(C);if(zr)return Fc(zr);Me=!1,Zt=ro,$e=new Ll}else $e=U?[]:He;t:for(;++Lt<ve;){var nn=C[Lt],ln=U?U(nn):nn;if(nn=it||nn!==0?nn:0,Me&&ln===ln){for(var $n=$e.length;$n--;)if($e[$n]===ln)continue t;U&&$e.push(ln),He.push(nn)}else Zt($e,ln,it)||($e!==He&&$e.push(ln),He.push(nn))}return He}function Vc(C,U){return U=Gl(U,C),C=Di(C,U),C==null||delete C[ao(wr(U))]}function Th(C,U,it,Lt){return xc(C,U,it(zc(C,U)),Lt)}function Yf(C,U,it,Lt){for(var Zt=C.length,ve=Lt?Zt:-1;(Lt?ve--:++ve<Zt)&&U(C[ve],ve,C););return it?_s(C,Lt?0:ve,Lt?ve+1:Zt):_s(C,Lt?ve+1:0,Lt?Zt:ve)}function Xf(C,U){var it=C;return it instanceof wa&&(it=it.value()),eo(U,function(Lt,Zt){return Zt.func.apply(Zt.thisArg,Pu([Lt],Zt.args))},it)}function Hc(C,U,it){var Lt=C.length;if(Lt<2)return Lt?wu(C[0]):[];for(var Zt=-1,ve=w(Lt);++Zt<Lt;)for(var Me=C[Zt],He=-1;++He<Lt;)He!=Zt&&(ve[Zt]=Js(ve[Zt]||Me,C[He],U,it));return wu(Bs(ve,1),U,it)}function fd(C,U,it){for(var Lt=-1,Zt=C.length,ve=U.length,Me={};++Lt<Zt;){var He=Lt<ve?U[Lt]:b;it(Me,C[Lt],He)}return Me}function hd(C){return tu(C)?C:[]}function Mh(C){return typeof C=="function"?C:Zc}function Gl(C,U){return Ra(C)?C:Ie(C,U)?[C]:fo(Xo(C))}var Fu=Aa;function Lo(C,U,it){var Lt=C.length;return it=it===b?Lt:it,!U&&it>=Lt?C:_s(C,U,it)}var gf=Ml||function(C){return Jo.clearTimeout(C)};function bc(C,U){if(U)return C.slice();var it=C.length,Lt=ds?ds(it):new C.constructor(it);return C.copy(Lt),Lt}function yf(C){var U=new C.constructor(C.byteLength);return new Ri(U).set(new Ri(C)),U}function Ec(C,U){var it=U?yf(C.buffer):C.buffer;return new C.constructor(it,C.byteOffset,C.byteLength)}function Sc(C){var U=new C.constructor(C.source,Kn.exec(C));return U.lastIndex=C.lastIndex,U}function mf(C){return is?pi(is.call(C)):{}}function Yc(C,U){var it=U?yf(C.buffer):C.buffer;return new C.constructor(it,C.byteOffset,C.length)}function xl(C,U){if(C!==U){var it=C!==b,Lt=C===null,Zt=C===C,ve=jl(C),Me=U!==b,He=U===null,$e=U===U,zr=jl(U);if(!He&&!zr&&!ve&&C>U||ve&&Me&&$e&&!He&&!zr||Lt&&Me&&$e||!it&&$e||!Zt)return 1;if(!Lt&&!ve&&!zr&&C<U||zr&&it&&Zt&&!Lt&&!ve||He&&it&&Zt||!Me&&Zt||!$e)return-1}return 0}function xf(C,U,it){for(var Lt=-1,Zt=C.criteria,ve=U.criteria,Me=Zt.length,He=it.length;++Lt<Me;){var $e=xl(Zt[Lt],ve[Lt]);if($e){if(Lt>=He)return $e;var zr=it[Lt];return $e*(zr=="desc"?-1:1)}}return C.index-U.index}function Ih(C,U,it,Lt){for(var Zt=-1,ve=C.length,Me=it.length,He=-1,$e=U.length,zr=uo(ve-Me,0),nn=w($e+zr),ln=!Lt;++He<$e;)nn[He]=U[He];for(;++Zt<Me;)(ln||Zt<ve)&&(nn[it[Zt]]=C[Zt]);for(;zr--;)nn[He++]=C[Zt++];return nn}function qs(C,U,it,Lt){for(var Zt=-1,ve=C.length,Me=-1,He=it.length,$e=-1,zr=U.length,nn=uo(ve-He,0),ln=w(nn+zr),$n=!Lt;++Zt<nn;)ln[Zt]=C[Zt];for(var ii=Zt;++$e<zr;)ln[ii+$e]=U[$e];for(;++Me<He;)($n||Zt<ve)&&(ln[ii+it[Me]]=C[Zt++]);return ln}function As(C,U){var it=-1,Lt=C.length;for(U||(U=w(Lt));++it<Lt;)U[it]=C[it];return U}function bl(C,U,it,Lt){var Zt=!it;it||(it={});for(var ve=-1,Me=U.length;++ve<Me;){var He=U[ve],$e=Lt?Lt(it[He],C[He],He,it,C):b;$e===b&&($e=C[He]),Zt?_a(it,He,$e):Zu(it,He,$e)}return it}function dd(C,U){return bl(C,Hn(C),U)}function wc(C,U){return bl(C,Un(C),U)}function Nu(C,U){return function(it,Lt){var Zt=Ra(it)?Uu:Lv,ve=U?U():{};return Zt(it,C,Lr(Lt,2),ve)}}function Xc(C){return Aa(function(U,it){var Lt=-1,Zt=it.length,ve=Zt>1?it[Zt-1]:b,Me=Zt>2?it[2]:b;for(ve=C.length>3&&typeof ve=="function"?(Zt--,ve):b,Me&&de(it[0],it[1],Me)&&(ve=Zt<3?b:ve,Zt=1),U=pi(U);++Lt<Zt;){var He=it[Lt];He&&C(U,He,Lt,ve)}return U})}function Ro(C,U){return function(it,Lt){if(it==null)return it;if(!Mc(it))return C(it,Lt);for(var Zt=it.length,ve=U?Zt:-1,Me=pi(it);(U?ve--:++ve<Zt)&&Lt(Me[ve],ve,Me)!==!1;);return it}}function Oh(C){return function(U,it,Lt){for(var Zt=-1,ve=pi(U),Me=Lt(U),He=Me.length;He--;){var $e=Me[C?He:++Zt];if(it(ve[$e],$e,ve)===!1)break}return U}}function qu(C,U,it){var Lt=U&$,Zt=Sl(C);function ve(){var Me=this&&this!==Jo&&this instanceof ve?Zt:C;return Me.apply(Lt?it:this,arguments)}return ve}function tl(C){return function(U){U=Xo(U);var it=dh(U)?yu(U):b,Lt=it?it[0]:U.charAt(0),Zt=it?Lo(it,1).join(""):U.slice(1);return Lt[C]()+Zt}}function El(C){return function(U){return eo(P0(M0(U).replace(of,"")),C,"")}}function Sl(C){return function(){var U=arguments;switch(U.length){case 0:return new C;case 1:return new C(U[0]);case 2:return new C(U[0],U[1]);case 3:return new C(U[0],U[1],U[2]);case 4:return new C(U[0],U[1],U[2],U[3]);case 5:return new C(U[0],U[1],U[2],U[3],U[4]);case 6:return new C(U[0],U[1],U[2],U[3],U[4],U[5]);case 7:return new C(U[0],U[1],U[2],U[3],U[4],U[5],U[6])}var it=mu(C.prototype),Lt=C.apply(it,U);return eu(Lt)?Lt:it}}function bf(C,U,it){var Lt=Sl(C);function Zt(){for(var ve=arguments.length,Me=w(ve),He=ve,$e=Hr(Zt);He--;)Me[He]=arguments[He];var zr=ve<3&&Me[0]!==$e&&Me[ve-1]!==$e?[]:cl(Me,$e);if(ve-=zr.length,ve<it)return gd(C,U,Cs,Zt.placeholder,b,Me,zr,b,b,it-ve);var nn=this&&this!==Jo&&this instanceof Zt?Lt:C;return _o(nn,this,Me)}return Zt}function ya(C){return function(U,it,Lt){var Zt=pi(U);if(!Mc(U)){var ve=Lr(it,3);U=rl(U),it=function(He){return ve(Zt[He],He,Zt)}}var Me=C(U,it,Lt);return Me>-1?Zt[ve?U[Me]:Me]:b}}function ss(C){return $c(function(U){var it=U.length,Lt=it,Zt=Zs.prototype.thru;for(C&&U.reverse();Lt--;){var ve=U[Lt];if(typeof ve!="function")throw new uu(T);if(Zt&&!Me&&Qe(ve)=="wrapper")var Me=new Zs([],!0)}for(Lt=Me?Lt:it;++Lt<it;){ve=U[Lt];var He=Qe(ve),$e=He=="wrapper"?Ae(ve):b;$e&&Ke($e[0])&&$e[1]==(ct|st|q|bt)&&!$e[4].length&&$e[9]==1?Me=Me[Qe($e[0])].apply(Me,$e[3]):Me=ve.length==1&&Ke(ve)?Me[He]():Me.thru(ve)}return function(){var zr=arguments,nn=zr[0];if(Me&&zr.length==1&&Ra(nn))return Me.plant(nn).value();for(var ln=0,$n=it?U[ln].apply(this,zr):nn;++ln<it;)$n=U[ln].call(this,$n);return $n}})}function Cs(C,U,it,Lt,Zt,ve,Me,He,$e,zr){var nn=U&ct,ln=U&$,$n=U&K,ii=U&(st|yt),yi=U&_t,Ei=$n?b:Sl(C);function mi(){for(var di=arguments.length,Ji=w(di),us=di;us--;)Ji[us]=arguments[us];if(ii)var ls=Hr(mi),Va=hh(Ji,ls);if(Lt&&(Ji=Ih(Ji,Lt,Zt,ii)),ve&&(Ji=qs(Ji,ve,Me,ii)),di-=Va,ii&&di<zr){var cs=cl(Ji,ls);return gd(C,U,Cs,mi.placeholder,it,Ji,cs,He,$e,zr-di)}var il=ln?it:this,js=$n?il[C]:C;return di=Ji.length,He?Ji=Wi(Ji,He):yi&&di>1&&Ji.reverse(),nn&&$e<di&&(Ji.length=$e),this&&this!==Jo&&this instanceof mi&&(js=Ei||Sl(js)),js.apply(il,Ji)}return mi}function no(C,U){return function(it,Lt){return vf(it,C,U(Lt),{})}}function Io(C,U){return function(it,Lt){var Zt;if(it===b&&Lt===b)return U;if(it!==b&&(Zt=it),Lt!==b){if(Zt===b)return Lt;typeof it=="string"||typeof Lt=="string"?(it=os(it),Lt=os(Lt)):(it=as(it),Lt=as(Lt)),Zt=C(it,Lt)}return Zt}}function _c(C){return $c(function(U){return U=mo(U,Pi(Lr())),Aa(function(it){var Lt=this;return C(U,function(Zt){return _o(Zt,Lt,it)})})})}function vd(C,U){U=U===b?" ":os(U);var it=U.length;if(it<2)return it?pf(U,C):U;var Lt=pf(U,Il(C/uf(U)));return dh(U)?Lo(yu(Lt),0,C).join(""):Lt.slice(0,C)}function el(C,U,it,Lt){var Zt=U&$,ve=Sl(C);function Me(){for(var He=-1,$e=arguments.length,zr=-1,nn=Lt.length,ln=w(nn+$e),$n=this&&this!==Jo&&this instanceof Me?ve:C;++zr<nn;)ln[zr]=Lt[zr];for(;$e--;)ln[zr++]=arguments[++He];return _o($n,Zt?it:this,ln)}return Me}function pd(C){return function(U,it,Lt){return Lt&&typeof Lt!="number"&&de(U,it,Lt)&&(it=Lt=b),U=jv(U),it===b?(it=U,U=0):it=jv(it),Lt=Lt===b?U<it?1:-1:jv(Lt),ml(U,it,Lt,C)}}function $f(C){return function(U,it){return typeof U=="string"&&typeof it=="string"||(U=Fh(U),it=Fh(it)),C(U,it)}}function gd(C,U,it,Lt,Zt,ve,Me,He,$e,zr){var nn=U&st,ln=nn?Me:b,$n=nn?b:Me,ii=nn?ve:b,yi=nn?b:ve;U|=nn?q:nt,U&=~(nn?nt:q),U&lt||(U&=~($|K));var Ei=[C,U,Zt,ii,ln,yi,$n,He,$e,zr],mi=it.apply(b,Ei);return Ke(C)&&Pa(mi,Ei),mi.placeholder=Lt,Ka(mi,C,U)}function Ef(C){var U=qo[C];return function(it,Lt){if(it=Fh(it),Lt=Lt==null?0:Ki(to(Lt),292),Lt&&Yu(it)){var Zt=(Xo(it)+"e").split("e"),ve=U(Zt[0]+"e"+(+Zt[1]+Lt));return Zt=(Xo(ve)+"e").split("e"),+(Zt[0]+"e"+(+Zt[1]-Lt))}return U(it)}}var yd=Ks&&1/Fc(new Ks([,-0]))[1]==Tt?function(C){return new Ks(C)}:ig;function wl(C){return function(U){var it=Nn(U);return it==Gt?Pd(U):it==Qr?Lf(U):Pn(U,C(U))}}function ri(C,U,it,Lt,Zt,ve,Me,He){var $e=U&K;if(!$e&&typeof C!="function")throw new uu(T);var zr=Lt?Lt.length:0;if(zr||(U&=~(q|nt),Lt=Zt=b),Me=Me===b?Me:uo(to(Me),0),He=He===b?He:to(He),zr-=Zt?Zt.length:0,U&nt){var nn=Lt,ln=Zt;Lt=Zt=b}var $n=$e?b:Ae(C),ii=[C,U,it,Lt,Zt,nn,ln,ve,Me,He];if($n&&ni(ii,$n),C=ii[0],U=ii[1],it=ii[2],Lt=ii[3],Zt=ii[4],He=ii[9]=ii[9]===b?$e?0:C.length:uo(ii[9]-zr,0),!He&&U&(st|yt)&&(U&=~(st|yt)),!U||U==$)var yi=qu(C,U,it);else U==st||U==yt?yi=bf(C,U,He):(U==q||U==($|q))&&!Zt.length?yi=el(C,U,it,Lt):yi=Cs.apply(b,ii);var Ei=$n?Ah:Pa;return Ka(Ei(yi,ii),C,U)}function md(C,U,it,Lt){return C===b||Ul(C,Wu[it])&&!ha.call(Lt,it)?U:C}function Dh(C,U,it,Lt,Zt,ve){return eu(C)&&eu(U)&&(ve.set(U,C),Vo(C,U,b,Dh,ve),ve.delete(U)),C}function Ph(C){return Qp(C)?b:C}function Lh(C,U,it,Lt,Zt,ve){var Me=it&z,He=C.length,$e=U.length;if(He!=$e&&!(Me&&$e>He))return!1;var zr=ve.get(C),nn=ve.get(U);if(zr&&nn)return zr==U&&nn==C;var ln=-1,$n=!0,ii=it&W?new Ll:b;for(ve.set(C,U),ve.set(U,C);++ln<He;){var yi=C[ln],Ei=U[ln];if(Lt)var mi=Me?Lt(Ei,yi,ln,U,C,ve):Lt(yi,Ei,ln,C,U,ve);if(mi!==b){if(mi)continue;$n=!1;break}if(ii){if(!$h(U,function(di,Ji){if(!ro(ii,Ji)&&(yi===di||Zt(yi,di,it,Lt,ve)))return ii.push(Ji)})){$n=!1;break}}else if(!(yi===Ei||Zt(yi,Ei,it,Lt,ve))){$n=!1;break}}return ve.delete(C),ve.delete(U),$n}function sv(C,U,it,Lt,Zt,ve,Me){switch(it){case Zr:if(C.byteLength!=U.byteLength||C.byteOffset!=U.byteOffset)return!1;C=C.buffer,U=U.buffer;case fr:return!(C.byteLength!=U.byteLength||!ve(new Ri(C),new Ri(U)));case rr:case Ee:case Xt:return Ul(+C,+U);case we:return C.name==U.name&&C.message==U.message;case re:case Ir:return C==U+"";case Gt:var He=Pd;case Qr:var $e=Lt&z;if(He||(He=Fc),C.size!=U.size&&!$e)return!1;var zr=Me.get(C);if(zr)return zr==U;Lt|=W,Me.set(C,U);var nn=Lh(He(C),He(U),Lt,Zt,ve,Me);return Me.delete(C),nn;case gn:if(is)return is.call(C)==is.call(U)}return!1}function ip(C,U,it,Lt,Zt,ve){var Me=it&z,He=Ac(C),$e=He.length,zr=Ac(U),nn=zr.length;if($e!=nn&&!Me)return!1;for(var ln=$e;ln--;){var $n=He[ln];if(!(Me?$n in U:ha.call(U,$n)))return!1}var ii=ve.get(C),yi=ve.get(U);if(ii&&yi)return ii==U&&yi==C;var Ei=!0;ve.set(C,U),ve.set(U,C);for(var mi=Me;++ln<$e;){$n=He[ln];var di=C[$n],Ji=U[$n];if(Lt)var us=Me?Lt(Ji,di,$n,U,C,ve):Lt(di,Ji,$n,C,U,ve);if(!(us===b?di===Ji||Zt(di,Ji,it,Lt,ve):us)){Ei=!1;break}mi||(mi=$n=="constructor")}if(Ei&&!mi){var ls=C.constructor,Va=U.constructor;ls!=Va&&"constructor"in C&&"constructor"in U&&!(typeof ls=="function"&&ls instanceof ls&&typeof Va=="function"&&Va instanceof Va)&&(Ei=!1)}return ve.delete(C),ve.delete(U),Ei}function $c(C){return io(li(C,b,Ve),C+"")}function Ac(C){return Uc(C,rl,Hn)}function $t(C){return Uc(C,nl,Un)}var Ae=Pl?function(C){return Pl.get(C)}:ig;function Qe(C){for(var U=C.name+"",it=Ao[U],Lt=ha.call(Ao,U)?it.length:0;Lt--;){var Zt=it[Lt],ve=Zt.func;if(ve==null||ve==C)return Zt.name}return U}function Hr(C){var U=ha.call(Re,"placeholder")?Re:C;return U.placeholder}function Lr(){var C=Re.iteratee||Vg;return C=C===Vg?Wc:C,arguments.length?C(arguments[0],arguments[1]):C}function rn(C,U){var it=C.__data__;return Pe(U)?it[typeof U=="string"?"string":"hash"]:it.map}function dn(C){for(var U=rl(C),it=U.length;it--;){var Lt=U[it],Zt=C[Lt];U[it]=[Lt,Zt,Pr(Zt)]}return U}function Mn(C,U){var it=Dd(C,U);return mc(it)?it:b}function Yn(C){var U=ha.call(C,hl),it=C[hl];try{C[hl]=b;var Lt=!0}catch(ve){}var Zt=fl.call(C);return Lt&&(U?C[hl]=it:delete C[hl]),Zt}var Hn=Hu?function(C){return C==null?[]:(C=pi(C),ul(Hu(C),function(U){return Vu.call(C,U)}))}:og,Un=Hu?function(C){for(var U=[];C;)Pu(U,Hn(C)),C=co(C);return U}:og,Nn=jo;(dc&&Nn(new dc(new ArrayBuffer(1)))!=Zr||bs&&Nn(new bs)!=Gt||Nf&&Nn(Nf.resolve())!=ur||Ks&&Nn(new Ks)!=Qr||Os&&Nn(new Os)!=ui)&&(Nn=function(C){var U=jo(C),it=U==ze?C.constructor:b,Lt=it?xo(it):"";if(Lt)switch(Lt){case kf:return Zr;case $u:return Gt;case vl:return ur;case Co:return Qr;case Uo:return ui}return U});function j(C,U,it){for(var Lt=-1,Zt=it.length;++Lt<Zt;){var ve=it[Lt],Me=ve.size;switch(ve.type){case"drop":C+=Me;break;case"dropRight":U-=Me;break;case"take":U=Ki(U,C+Me);break;case"takeRight":C=uo(C,U-Me);break}}return{start:C,end:U}}function et(C){var U=C.match(hr);return U?U[1].split(cn):[]}function wt(C,U,it){U=Gl(U,C);for(var Lt=-1,Zt=U.length,ve=!1;++Lt<Zt;){var Me=ao(U[Lt]);if(!(ve=C!=null&&it(C,Me)))break;C=C[Me]}return ve||++Lt!=Zt?ve:(Zt=C==null?0:C.length,!!Zt&&Zp(Zt)&&ee(Me,Zt)&&(Ra(C)||Mp(C)))}function It(C){var U=C.length,it=new C.constructor(U);return U&&typeof C[0]=="string"&&ha.call(C,"index")&&(it.index=C.index,it.input=C.input),it}function Nt(C){return typeof C.constructor=="function"&&!Dr(C)?mu(co(C)):{}}function Ft(C,U,it){var Lt=C.constructor;switch(U){case fr:return yf(C);case rr:case Ee:return new Lt(+C);case Zr:return Ec(C,it);case Sn:case Dn:case hn:case Gn:case En:case In:case Fn:case xe:case Ge:return Yc(C,it);case Gt:return new Lt;case Xt:case Ir:return new Lt(C);case re:return Sc(C);case Qr:return new Lt;case gn:return mf(C)}}function Yt(C,U){var it=U.length;if(!it)return C;var Lt=it-1;return U[Lt]=(it>1?"& ":"")+U[Lt],U=U.join(it>2?", ":" "),C.replace(sn,`{
/* [wrapped with `+U+`] */
`)}function Qt(C){return Ra(C)||Mp(C)||!!(Jh&&C&&C[Jh])}function ee(C,U){var it=typeof C;return U=U==null?ot:U,!!U&&(it=="number"||it!="symbol"&&_n.test(C))&&C>-1&&C%1==0&&C<U}function de(C,U,it){if(!eu(it))return!1;var Lt=typeof U;return(Lt=="number"?Mc(it)&&ee(U,it.length):Lt=="string"&&U in it)?Ul(it[U],C):!1}function Ie(C,U){if(Ra(C))return!1;var it=typeof C;return it=="number"||it=="symbol"||it=="boolean"||C==null||jl(C)?!0:ie.test(C)||!ue.test(C)||U!=null&&C in pi(U)}function Pe(C){var U=typeof C;return U=="string"||U=="number"||U=="symbol"||U=="boolean"?C!=="__proto__":C===null}function Ke(C){var U=Qe(C),it=Re[U];if(typeof it!="function"||!(U in wa.prototype))return!1;if(C===it)return!0;var Lt=Ae(it);return!!Lt&&C===Lt[0]}function Ar(C){return!!uc&&uc in C}var pn=lf?xd:sg;function Dr(C){var U=C&&C.constructor,it=typeof U=="function"&&U.prototype||Wu;return C===it}function Pr(C){return C===C&&!eu(C)}function Rr(C,U){return function(it){return it==null?!1:it[C]===U&&(U!==b||C in pi(it))}}function zn(C){var U=Cc(C,function(Lt){return it.size===A&&it.clear(),Lt}),it=U.cache;return U}function ni(C,U){var it=C[1],Lt=U[1],Zt=it|Lt,ve=Zt<($|K|ct),Me=Lt==ct&&it==st||Lt==ct&&it==bt&&C[7].length<=U[8]||Lt==(ct|bt)&&U[7].length<=U[8]&&it==st;if(!(ve||Me))return C;Lt&$&&(C[2]=U[2],Zt|=it&$?0:lt);var He=U[3];if(He){var $e=C[3];C[3]=$e?Ih($e,He,U[4]):He,C[4]=$e?cl(C[3],L):U[4]}return He=U[5],He&&($e=C[5],C[5]=$e?qs($e,He,U[6]):He,C[6]=$e?cl(C[5],L):U[6]),He=U[7],He&&(C[7]=He),Lt&ct&&(C[8]=C[8]==null?U[8]:Ki(C[8],U[8])),C[9]==null&&(C[9]=U[9]),C[0]=U[0],C[1]=Zt,C}function Qn(C){var U=[];if(C!=null)for(var it in pi(C))U.push(it);return U}function Ti(C){return fl.call(C)}function li(C,U,it){return U=uo(U===b?C.length-1:U,0),function(){for(var Lt=arguments,Zt=-1,ve=uo(Lt.length-U,0),Me=w(ve);++Zt<ve;)Me[Zt]=Lt[U+Zt];Zt=-1;for(var He=w(U+1);++Zt<U;)He[Zt]=Lt[Zt];return He[U]=it(Me),_o(C,this,He)}}function Di(C,U){return U.length<2?C:zc(C,_s(U,0,-1))}function Wi(C,U){for(var it=C.length,Lt=Ki(U.length,it),Zt=As(C);Lt--;){var ve=U[Lt];C[Lt]=ee(ve,it)?Zt[ve]:b}return C}function zi(C,U){if(!(U==="constructor"&&typeof C[U]=="function")&&U!="__proto__")return C[U]}var Pa=ma(Ah),Xi=ff||function(C,U){return Jo.setTimeout(C,U)},io=ma(ov);function Ka(C,U,it){var Lt=U+"";return io(C,Yt(Lt,Fo(et(Lt),it)))}function ma(C){var U=0,it=0;return function(){var Lt=Dl(),Zt=dt-(Lt-it);if(it=Lt,Zt>0){if(++U>=vt)return arguments[0]}else U=0;return C.apply(b,arguments)}}function vo(C,U){var it=-1,Lt=C.length,Zt=Lt-1;for(U=U===b?Lt:U;++it<U;){var ve=Su(it,Zt),Me=C[ve];C[ve]=C[it],C[it]=Me}return C.length=U,C}var fo=zn(function(C){var U=[];return C.charCodeAt(0)===46&&U.push(""),C.replace(be,function(it,Lt,Zt,ve){U.push(Zt?ve.replace(Tn,"$1"):Lt||it)}),U});function ao(C){if(typeof C=="string"||jl(C))return C;var U=C+"";return U=="0"&&1/C==-Tt?"-0":U}function xo(C){if(C!=null){try{return oc.call(C)}catch(U){}try{return C+""}catch(U){}}return""}function Fo(C,U){return ou(ae,function(it){var Lt="_."+it[0];U&it[1]&&!tc(C,Lt)&&C.push(Lt)}),C.sort()}function Qi(C){if(C instanceof wa)return C.clone();var U=new Zs(C.__wrapped__,C.__chain__);return U.__actions__=As(C.__actions__),U.__index__=C.__index__,U.__values__=C.__values__,U}function Us(C,U,it){(it?de(C,U,it):U===b)?U=1:U=uo(to(U),0);var Lt=C==null?0:C.length;if(!Lt||U<1)return[];for(var Zt=0,ve=0,Me=w(Il(Lt/U));Zt<Lt;)Me[ve++]=_s(C,Zt,Zt+=U);return Me}function Ga(C){for(var U=-1,it=C==null?0:C.length,Lt=0,Zt=[];++U<it;){var ve=C[U];ve&&(Zt[Lt++]=ve)}return Zt}function Ui(){var C=arguments.length;if(!C)return[];for(var U=w(C-1),it=arguments[0],Lt=C;Lt--;)U[Lt-1]=arguments[Lt];return Pu(Ra(it)?As(it):[it],Bs(U,1))}var aa=Aa(function(C,U){return tu(C)?Js(C,Bs(U,1,tu,!0)):[]}),Ca=Aa(function(C,U){var it=wr(U);return tu(it)&&(it=b),tu(C)?Js(C,Bs(U,1,tu,!0),Lr(it,2)):[]}),Ho=Aa(function(C,U){var it=wr(U);return tu(it)&&(it=b),tu(C)?Js(C,Bs(U,1,tu,!0),b,it):[]});function _u(C,U,it){var Lt=C==null?0:C.length;return Lt?(U=it||U===b?1:to(U),_s(C,U<0?0:U,Lt)):[]}function zl(C,U,it){var Lt=C==null?0:C.length;return Lt?(U=it||U===b?1:to(U),U=Lt-U,_s(C,0,U<0?0:U)):[]}function Ze(C,U){return C&&C.length?Yf(C,Lr(U,3),!0,!0):[]}function on(C,U){return C&&C.length?Yf(C,Lr(U,3),!0):[]}function an(C,U,it,Lt){var Zt=C==null?0:C.length;return Zt?(it&&typeof it!="number"&&de(C,U,it)&&(it=0,Lt=Zt),ud(C,U,it,Lt)):[]}function gi(C,U,it){var Lt=C==null?0:C.length;if(!Lt)return-1;var Zt=it==null?0:to(it);return Zt<0&&(Zt=uo(Lt+Zt,0)),Rc(C,Lr(U,3),Zt)}function la(C,U,it){var Lt=C==null?0:C.length;if(!Lt)return-1;var Zt=Lt-1;return it!==b&&(Zt=to(it),Zt=it<0?uo(Lt+Zt,0):Ki(Zt,Lt-1)),Rc(C,Lr(U,3),Zt,!0)}function Ve(C){var U=C==null?0:C.length;return U?Bs(C,1):[]}function Oe(C){var U=C==null?0:C.length;return U?Bs(C,Tt):[]}function vr(C,U){var it=C==null?0:C.length;return it?(U=U===b?1:to(U),Bs(C,U)):[]}function Ur(C){for(var U=-1,it=C==null?0:C.length,Lt={};++U<it;){var Zt=C[U];Lt[Zt[0]]=Zt[1]}return Lt}function Xr(C){return C&&C.length?C[0]:b}function gr(C,U,it){var Lt=C==null?0:C.length;if(!Lt)return-1;var Zt=it==null?0:to(it);return Zt<0&&(Zt=uo(Lt+Zt,0)),nc(C,U,Zt)}function lr(C){var U=C==null?0:C.length;return U?_s(C,0,-1):[]}var Tr=Aa(function(C){var U=mo(C,hd);return U.length&&U[0]===C[0]?Lu(U):[]}),Ue=Aa(function(C){var U=wr(C),it=mo(C,hd);return U===wr(it)?U=b:it.pop(),it.length&&it[0]===C[0]?Lu(it,Lr(U,2)):[]}),sr=Aa(function(C){var U=wr(C),it=mo(C,hd);return U=typeof U=="function"?U:b,U&&it.pop(),it.length&&it[0]===C[0]?Lu(it,b,U):[]});function Be(C,U){return C==null?"":Rd.call(C,U)}function wr(C){var U=C==null?0:C.length;return U?C[U-1]:b}function Jr(C,U,it){var Lt=C==null?0:C.length;if(!Lt)return-1;var Zt=Lt;return it!==b&&(Zt=to(it),Zt=Zt<0?uo(Lt+Zt,0):Ki(Zt,Lt-1)),U===U?Ov(C,U,Zt):Rc(C,ic,Zt,!0)}function bn(C,U){return C&&C.length?Wf(C,to(U)):b}var Cn=Aa(fn);function fn(C,U){return C&&C.length&&U&&U.length?kl(C,U):C}function jn(C,U,it){return C&&C.length&&U&&U.length?kl(C,U,Lr(it,2)):C}function Si(C,U,it){return C&&C.length&&U&&U.length?kl(C,U,b,it):C}var ta=$c(function(C,U){var it=C==null?0:C.length,Lt=To(C,U);return vu(C,mo(U,function(Zt){return ee(Zt,it)?+Zt:Zt}).sort(xl)),Lt});function wi(C,U){var it=[];if(!(C&&C.length))return it;var Lt=-1,Zt=[],ve=C.length;for(U=Lr(U,3);++Lt<ve;){var Me=C[Lt];U(Me,Lt,C)&&(it.push(Me),Zt.push(Lt))}return vu(C,Zt),it}function Gi(C){return C==null?C:hc.call(C)}function Zi(C,U,it){var Lt=C==null?0:C.length;return Lt?(it&&typeof it!="number"&&de(C,U,it)?(U=0,it=Lt):(U=U==null?0:to(U),it=it===b?Lt:to(it)),_s(C,U,it)):[]}function ja(C,U){return Ch(C,U)}function bo(C,U,it){return Bl(C,U,Lr(it,2))}function Au(C,U){var it=C==null?0:C.length;if(it){var Lt=Ch(C,U);if(Lt<it&&Ul(C[Lt],U))return Lt}return-1}function pu(C,U){return Ch(C,U,!0)}function ku(C,U,it){return Bl(C,U,Lr(it,2),!0)}function ap(C,U){var it=C==null?0:C.length;if(it){var Lt=Ch(C,U,!0)-1;if(Ul(C[Lt],U))return Lt}return-1}function Cu(C){return C&&C.length?Ju(C):[]}function Rh(C,U){return C&&C.length?Ju(C,Lr(U,2)):[]}function uv(C){var U=C==null?0:C.length;return U?_s(C,1,U):[]}function S(C,U,it){return C&&C.length?(U=it||U===b?1:to(U),_s(C,0,U<0?0:U)):[]}function N(C,U,it){var Lt=C==null?0:C.length;return Lt?(U=it||U===b?1:to(U),U=Lt-U,_s(C,U<0?0:U,Lt)):[]}function Q(C,U){return C&&C.length?Yf(C,Lr(U,3),!1,!0):[]}function Pt(C,U){return C&&C.length?Yf(C,Lr(U,3)):[]}var zt=Aa(function(C){return wu(Bs(C,1,tu,!0))}),ne=Aa(function(C){var U=wr(C);return tu(U)&&(U=b),wu(Bs(C,1,tu,!0),Lr(U,2))}),Fe=Aa(function(C){var U=wr(C);return U=typeof U=="function"?U:b,wu(Bs(C,1,tu,!0),b,U)});function er(C){return C&&C.length?wu(C):[]}function Nr(C,U){return C&&C.length?wu(C,Lr(U,2)):[]}function On(C,U){return U=typeof U=="function"?U:b,C&&C.length?wu(C,b,U):[]}function Fi(C){if(!(C&&C.length))return[];var U=0;return C=ul(C,function(it){if(tu(it))return U=uo(it.length,U),!0}),Kr(U,function(it){return mo(C,fh(it))})}function ba(C,U){if(!(C&&C.length))return[];var it=Fi(C);return U==null?it:mo(it,function(Lt){return _o(U,b,Lt)})}var si=Aa(function(C,U){return tu(C)?Js(C,U):[]}),$i=Aa(function(C){return Hc(ul(C,tu))}),Ea=Aa(function(C){var U=wr(C);return tu(U)&&(U=b),Hc(ul(C,tu),Lr(U,2))}),ra=Aa(function(C){var U=wr(C);return U=typeof U=="function"?U:b,Hc(ul(C,tu),b,U)}),vn=Aa(Fi);function $r(C,U){return fd(C||[],U||[],Zu)}function un(C,U){return fd(C||[],U||[],xc)}var Jn=Aa(function(C){var U=C.length,it=U>1?C[U-1]:b;return it=typeof it=="function"?(C.pop(),it):b,ba(C,it)});function ei(C){var U=Re(C);return U.__chain__=!0,U}function La(C,U){return U(C),C}function Vi(C,U){return U(C)}var Ba=$c(function(C){var U=C.length,it=U?C[0]:0,Lt=this.__wrapped__,Zt=function(ve){return To(ve,C)};return U>1||this.__actions__.length||!(Lt instanceof wa)||!ee(it)?this.thru(Zt):(Lt=Lt.slice(it,+it+(U?1:0)),Lt.__actions__.push({func:Vi,args:[Zt],thisArg:b}),new Zs(Lt,this.__chain__).thru(function(ve){return U&&!ve.length&&ve.push(b),ve}))});function qa(){return ei(this)}function Wa(){return new Zs(this.value(),this.__chain__)}function zd(){this.__values__===b&&(this.__values__=N1(this.value()));var C=this.__index__>=this.__values__.length,U=C?b:this.__values__[this.__index__++];return{done:C,value:U}}function Tg(){return this}function My(C){for(var U,it=this;it instanceof Es;){var Lt=Qi(it);Lt.__index__=0,Lt.__values__=b,U?Zt.__wrapped__=Lt:U=Lt;var Zt=Lt;it=it.__wrapped__}return Zt.__wrapped__=C,U}function x1(){var C=this.__wrapped__;if(C instanceof wa){var U=C;return this.__actions__.length&&(U=new wa(this)),U=U.reverse(),U.__actions__.push({func:Vi,args:[Gi],thisArg:b}),new Zs(U,this.__chain__)}return this.thru(Gi)}function Ts(){return Xf(this.__wrapped__,this.__actions__)}var b1=Nu(function(C,U,it){ha.call(C,it)?++C[it]:_a(C,it,1)});function E1(C,U,it){var Lt=Ra(C)?Xh:Eh;return it&&de(C,U,it)&&(U=b),Lt(C,Lr(U,3))}function Iy(C,U){var it=Ra(C)?ul:av;return it(C,Lr(U,3))}var Oy=ya(gi),Dy=ya(la);function Py(C,U){return Bs(Cp(C,U),1)}function Mg(C,U){return Bs(Cp(C,U),Tt)}function Ig(C,U,it){return it=it===b?1:to(it),Bs(Cp(C,U),it)}function _p(C,U){var it=Ra(C)?ou:df;return it(C,Lr(U,3))}function S1(C,U){var it=Ra(C)?ql:Rv;return it(C,Lr(U,3))}var b0=Nu(function(C,U,it){ha.call(C,it)?C[it].push(U):_a(C,it,[U])});function Ap(C,U,it,Lt){C=Mc(C)?C:Dp(C),it=it&&!Lt?to(it):0;var Zt=C.length;return it<0&&(it=uo(Zt+it,0)),Op(C)?it<=Zt&&C.indexOf(U,it)>-1:!!Zt&&nc(C,U,it)>-1}var w1=Aa(function(C,U,it){var Lt=-1,Zt=typeof U=="function",ve=Mc(C)?w(C.length):[];return df(C,function(Me){ve[++Lt]=Zt?_o(U,Me,it):zf(Me,U,it)}),ve}),_1=Nu(function(C,U,it){_a(C,it,U)});function Cp(C,U){var it=Ra(C)?mo:ps;return it(C,Lr(U,3))}function Og(C,U,it,Lt){return C==null?[]:(Ra(U)||(U=U==null?[]:[U]),it=Lt?b:it,Ra(it)||(it=it==null?[]:[it]),Vf(C,U,it))}var kv=Nu(function(C,U,it){C[it?0:1].push(U)},function(){return[[],[]]});function E0(C,U,it){var Lt=Ra(C)?eo:fe,Zt=arguments.length<3;return Lt(C,Lr(U,4),it,Zt,df)}function Ly(C,U,it){var Lt=Ra(C)?ch:fe,Zt=arguments.length<3;return Lt(C,Lr(U,4),it,Zt,Rv)}function lv(C,U){var it=Ra(C)?ul:av;return it(C,Kc(Lr(U,3)))}function A1(C){var U=Ra(C)?vs:Fv;return U(C)}function C1(C,U,it){(it?de(C,U,it):U===b)?U=1:U=to(U);var Lt=Ra(C)?Bd:Nv;return Lt(C,U)}function Ry(C){var U=Ra(C)?od:Ls;return U(C)}function Fy(C){if(C==null)return 0;if(Mc(C))return Op(C)?uf(C):C.length;var U=Nn(C);return U==Gt||U==Qr?C.size:du(C).length}function Ny(C,U,it){var Lt=Ra(C)?$h:Hf;return it&&de(C,U,it)&&(U=b),Lt(C,Lr(U,3))}var T1=Aa(function(C,U){if(C==null)return[];var it=U.length;return it>1&&de(C,U[0],U[1])?U=[]:it>2&&de(U[0],U[1],U[2])&&(U=[U[0]]),Vf(C,Bs(U,1),[])}),Dg=qh||function(){return Jo.Date.now()};function S0(C,U){if(typeof U!="function")throw new uu(T);return C=to(C),function(){if(--C<1)return U.apply(this,arguments)}}function ky(C,U,it){return U=it?b:U,U=C&&U==null?C.length:U,ri(C,ct,b,b,b,b,U)}function Yp(C,U){var it;if(typeof U!="function")throw new uu(T);return C=to(C),function(){return--C>0&&(it=U.apply(this,arguments)),C<=1&&(U=b),it}}var By=Aa(function(C,U,it){var Lt=$;if(it.length){var Zt=cl(it,Hr(By));Lt|=q}return ri(C,Lt,U,it,Zt)}),Bv=Aa(function(C,U,it){var Lt=$|K;if(it.length){var Zt=cl(it,Hr(Bv));Lt|=q}return ri(U,Lt,C,it,Zt)});function Gy(C,U,it){U=it?b:U;var Lt=ri(C,st,b,b,b,b,b,U);return Lt.placeholder=Gy.placeholder,Lt}function op(C,U,it){U=it?b:U;var Lt=ri(C,yt,b,b,b,b,b,U);return Lt.placeholder=op.placeholder,Lt}function Tp(C,U,it){var Lt,Zt,ve,Me,He,$e,zr=0,nn=!1,ln=!1,$n=!0;if(typeof C!="function")throw new uu(T);U=Fh(U)||0,eu(it)&&(nn=!!it.leading,ln="maxWait"in it,ve=ln?uo(Fh(it.maxWait)||0,U):ve,$n="trailing"in it?!!it.trailing:$n);function ii(cs){var il=Lt,js=Zt;return Lt=Zt=b,zr=cs,Me=C.apply(js,il),Me}function yi(cs){return zr=cs,He=Xi(di,U),nn?ii(cs):Me}function Ei(cs){var il=cs-$e,js=cs-zr,Wv=U-il;return ln?Ki(Wv,ve-js):Wv}function mi(cs){var il=cs-$e,js=cs-zr;return $e===b||il>=U||il<0||ln&&js>=ve}function di(){var cs=Dg();if(mi(cs))return Ji(cs);He=Xi(di,Ei(cs))}function Ji(cs){return He=b,$n&&Lt?ii(cs):(Lt=Zt=b,Me)}function us(){He!==b&&gf(He),zr=0,Lt=$e=Zt=He=b}function ls(){return He===b?Me:Ji(Dg())}function Va(){var cs=Dg(),il=mi(cs);if(Lt=arguments,Zt=this,$e=cs,il){if(He===b)return yi($e);if(ln)return gf(He),He=Xi(di,U),ii($e)}return He===b&&(He=Xi(di,U)),Me}return Va.cancel=us,Va.flush=ls,Va}var M1=Aa(function(C,U){return sd(C,1,U)}),zy=Aa(function(C,U,it){return sd(C,Fh(U)||0,it)});function Uy(C){return ri(C,_t)}function Cc(C,U){if(typeof C!="function"||U!=null&&typeof U!="function")throw new uu(T);var it=function(){var Lt=arguments,Zt=U?U.apply(this,Lt):Lt[0],ve=it.cache;if(ve.has(Zt))return ve.get(Zt);var Me=C.apply(this,Lt);return it.cache=ve.set(Zt,Me)||ve,Me};return it.cache=new(Cc.Cache||gc),it}Cc.Cache=gc;function Kc(C){if(typeof C!="function")throw new uu(T);return function(){var U=arguments;switch(U.length){case 0:return!C.call(this);case 1:return!C.call(this,U[0]);case 2:return!C.call(this,U[0],U[1]);case 3:return!C.call(this,U[0],U[1],U[2])}return!C.apply(this,U)}}function sp(C){return Yp(2,C)}var Tc=Fu(function(C,U){U=U.length==1&&Ra(U[0])?mo(U[0],Pi(Lr())):mo(Bs(U,1),Pi(Lr()));var it=U.length;return Aa(function(Lt){for(var Zt=-1,ve=Ki(Lt.length,it);++Zt<ve;)Lt[Zt]=U[Zt].call(this,Lt[Zt]);return _o(C,this,Lt)})}),Gv=Aa(function(C,U){var it=cl(U,Hr(Gv));return ri(C,q,b,U,it)}),Xp=Aa(function(C,U){var it=cl(U,Hr(Xp));return ri(C,nt,b,U,it)}),Pg=$c(function(C,U){return ri(C,bt,b,b,b,U)});function Nb(C,U){if(typeof C!="function")throw new uu(T);return U=U===b?U:to(U),Aa(C,U)}function kb(C,U){if(typeof C!="function")throw new uu(T);return U=U==null?0:uo(to(U),0),Aa(function(it){var Lt=it[U],Zt=Lo(it,0,U);return Lt&&Pu(Zt,Lt),_o(C,this,Zt)})}function jy(C,U,it){var Lt=!0,Zt=!0;if(typeof C!="function")throw new uu(T);return eu(it)&&(Lt="leading"in it?!!it.leading:Lt,Zt="trailing"in it?!!it.trailing:Zt),Tp(C,U,{leading:Lt,maxWait:U,trailing:Zt})}function $p(C){return ky(C,1)}function Wy(C,U){return Gv(Mh(U),C)}function Vy(){if(!arguments.length)return[];var C=arguments[0];return Ra(C)?C:[C]}function w0(C){return Ua(C,B)}function zv(C,U){return U=typeof U=="function"?U:b,Ua(C,B,U)}function _0(C){return Ua(C,I|B)}function I1(C,U){return U=typeof U=="function"?U:b,Ua(C,I|B,U)}function A0(C,U){return U==null||xu(C,U,rl(U))}function Ul(C,U){return C===U||C!==C&&U!==U}var O1=$f(Rl),D1=$f(function(C,U){return C>=U}),Mp=Uf(function(){return arguments}())?Uf:function(C){return ru(C)&&ha.call(C,"callee")&&!Vu.call(C,"callee")},Ra=w.isArray,Lg=Mf?Pi(Mf):Na;function Mc(C){return C!=null&&Zp(C.length)&&!xd(C)}function tu(C){return ru(C)&&Mc(C)}function Hy(C){return C===!0||C===!1||ru(C)&&jo(C)==rr}var Ud=vh||sg,Yy=xs?Pi(xs):jc;function P1(C){return ru(C)&&C.nodeType===1&&!Qp(C)}function Kp(C){if(C==null)return!0;if(Mc(C)&&(Ra(C)||typeof C=="string"||typeof C.splice=="function"||Ud(C)||jd(C)||Mp(C)))return!C.length;var U=Nn(C);if(U==Gt||U==Qr)return!C.size;if(Dr(C))return!du(C).length;for(var it in C)if(ha.call(C,it))return!1;return!0}function Xy(C,U){return bu(C,U)}function $y(C,U,it){it=typeof it=="function"?it:b;var Lt=it?it(C,U):b;return Lt===b?bu(C,U,b,it):!!Lt}function Rg(C){if(!ru(C))return!1;var U=jo(C);return U==we||U==ge||typeof C.message=="string"&&typeof C.name=="string"&&!Qp(C)}function Ky(C){return typeof C=="number"&&Yu(C)}function xd(C){if(!eu(C))return!1;var U=jo(C);return U==Ce||U==ye||U==Le||U==tr}function Zy(C){return typeof C=="number"&&C==to(C)}function Zp(C){return typeof C=="number"&&C>-1&&C%1==0&&C<=ot}function eu(C){var U=typeof C;return C!=null&&(U=="object"||U=="function")}function ru(C){return C!=null&&typeof C=="object"}var C0=Jl?Pi(Jl):es;function Fg(C,U){return C===U||Fl(C,U,dn(U))}function L1(C,U,it){return it=typeof it=="function"?it:b,Fl(C,U,dn(U),it)}function R1(C){return qy(C)&&C!=+C}function Qy(C){if(pn(C))throw new An(O);return mc(C)}function F1(C){return C===null}function Jy(C){return C==null}function qy(C){return typeof C=="number"||ru(C)&&jo(C)==Xt}function Qp(C){if(!ru(C)||jo(C)!=ze)return!1;var U=co(C);if(U===null)return!0;var it=ha.call(U,"constructor")&&U.constructor;return typeof it=="function"&&it instanceof it&&oc.call(it)==Rf}var Ng=Cl?Pi(Cl):ka;function tm(C){return Zy(C)&&C>=-ot&&C<=ot}var Ip=If?Pi(If):jf;function Op(C){return typeof C=="string"||!Ra(C)&&ru(C)&&jo(C)==Ir}function jl(C){return typeof C=="symbol"||ru(C)&&jo(C)==gn}var jd=Tl?Pi(Tl):yl;function em(C){return C===b}function Jp(C){return ru(C)&&Nn(C)==ui}function Uv(C){return ru(C)&&jo(C)==bi}var Bb=$f(Ru),Gb=$f(function(C,U){return C<=U});function N1(C){if(!C)return[];if(Mc(C))return Op(C)?yu(C):As(C);if(cc&&C[cc])return Iv(C[cc]());var U=Nn(C),it=U==Gt?Pd:U==Qr?Fc:Dp;return it(C)}function jv(C){if(!C)return C===0?C:0;if(C=Fh(C),C===Tt||C===-Tt){var U=C<0?-1:1;return U*Mt}return C===C?C:0}function to(C){var U=jv(C),it=U%1;return U===U?it?U-it:U:0}function k1(C){return C?Qu(to(C),0,jt):0}function Fh(C){if(typeof C=="number")return C;if(jl(C))return Wt;if(eu(C)){var U=typeof C.valueOf=="function"?C.valueOf():C;C=eu(U)?U+"":U}if(typeof C!="string")return C===0?C:+C;C=ci(C);var it=wn.test(C);return it||xr.test(C)?Mv(C.slice(2),it?2:8):Or.test(C)?Wt:+C}function rm(C){return bl(C,nl(C))}function B1(C){return C?Qu(to(C),-ot,ot):C===0?C:0}function Xo(C){return C==null?"":os(C)}var G1=Xc(function(C,U){if(Dr(U)||Mc(U)){bl(U,rl(U),C);return}for(var it in U)ha.call(U,it)&&Zu(C,it,U[it])}),nm=Xc(function(C,U){bl(U,nl(U),C)}),kg=Xc(function(C,U,it,Lt){bl(U,nl(U),C,Lt)}),Bg=Xc(function(C,U,it,Lt){bl(U,rl(U),C,Lt)}),z1=$c(To);function U1(C,U){var it=mu(C);return U==null?it:xh(it,U)}var j1=Aa(function(C,U){C=pi(C);var it=-1,Lt=U.length,Zt=Lt>2?U[2]:b;for(Zt&&de(U[0],U[1],Zt)&&(Lt=1);++it<Lt;)for(var ve=U[it],Me=nl(ve),He=-1,$e=Me.length;++He<$e;){var zr=Me[He],nn=C[zr];(nn===b||Ul(nn,Wu[zr])&&!ha.call(C,zr))&&(C[zr]=ve[zr])}return C}),W1=Aa(function(C){return C.push(b,Dh),_o(sm,b,C)});function zb(C,U){return rc(C,Lr(U,3),hu)}function Ub(C,U){return rc(C,Lr(U,3),Bf)}function jb(C,U){return C==null?C:ld(C,Lr(U,3),nl)}function V1(C,U){return C==null?C:cd(C,Lr(U,3),nl)}function H1(C,U){return C&&hu(C,Lr(U,3))}function Gg(C,U){return C&&Bf(C,Lr(U,3))}function up(C){return C==null?[]:dr(C,rl(C))}function zg(C){return C==null?[]:dr(C,nl(C))}function cv(C,U,it){var Lt=C==null?b:zc(C,U);return Lt===b?it:Lt}function Y1(C,U){return C!=null&&wt(C,U,Gf)}function Ug(C,U){return C!=null&&wt(C,U,Gd)}var im=no(function(C,U,it){U!=null&&typeof U.toString!="function"&&(U=fl.call(U)),C[U]=it},dv(Zc)),am=no(function(C,U,it){U!=null&&typeof U.toString!="function"&&(U=fl.call(U)),ha.call(C,U)?C[U].push(it):C[U]=[it]},Lr),T0=Aa(zf);function rl(C){return Mc(C)?wp(C):du(C)}function nl(C){return Mc(C)?wp(C,!0):Eu(C)}function om(C,U){var it={};return U=Lr(U,3),hu(C,function(Lt,Zt,ve){_a(it,U(Lt,Zt,ve),Lt)}),it}function fv(C,U){var it={};return U=Lr(U,3),hu(C,function(Lt,Zt,ve){_a(it,Zt,U(Lt,Zt,ve))}),it}var X1=Xc(function(C,U,it){Vo(C,U,it)}),sm=Xc(function(C,U,it,Lt){Vo(C,U,it,Lt)}),$1=$c(function(C,U){var it={};if(C==null)return it;var Lt=!1;U=mo(U,function(ve){return ve=Gl(ve,C),Lt||(Lt=ve.length>1),ve}),bl(C,$t(C),it),Lt&&(it=Ua(it,I|k|B,Ph));for(var Zt=U.length;Zt--;)Vc(it,U[Zt]);return it});function K1(C,U){return Z1(C,Kc(Lr(U)))}var Wb=$c(function(C,U){return C==null?{}:zs(C,U)});function Z1(C,U){if(C==null)return{};var it=mo($t(C),function(Lt){return[Lt]});return U=Lr(U),wh(C,it,function(Lt,Zt){return U(Lt,Zt[0])})}function Vb(C,U,it){U=Gl(U,C);var Lt=-1,Zt=U.length;for(Zt||(Zt=1,C=b);++Lt<Zt;){var ve=C==null?b:C[ao(U[Lt])];ve===b&&(Lt=Zt,ve=it),C=xd(ve)?ve.call(C):ve}return C}function Hb(C,U,it){return C==null?C:xc(C,U,it)}function Yb(C,U,it,Lt){return Lt=typeof Lt=="function"?Lt:b,C==null?C:xc(C,U,it,Lt)}var Q1=wl(rl),um=wl(nl);function J1(C,U,it){var Lt=Ra(C),Zt=Lt||Ud(C)||jd(C);if(U=Lr(U,4),it==null){var ve=C&&C.constructor;Zt?it=Lt?new ve:[]:eu(C)?it=xd(ve)?mu(co(C)):{}:it={}}return(Zt?ou:hu)(C,function(Me,He,$e){return U(it,Me,He,$e)}),it}function q1(C,U){return C==null?!0:Vc(C,U)}function tx(C,U,it){return C==null?C:Th(C,U,Mh(it))}function ex(C,U,it,Lt){return Lt=typeof Lt=="function"?Lt:b,C==null?C:Th(C,U,Mh(it),Lt)}function Dp(C){return C==null?[]:xa(C,rl(C))}function rx(C){return C==null?[]:xa(C,nl(C))}function jg(C,U,it){return it===b&&(it=U,U=b),it!==b&&(it=Fh(it),it=it===it?it:0),U!==b&&(U=Fh(U),U=U===U?U:0),Qu(Fh(C),U,it)}function nx(C,U,it){return U=jv(U),it===b?(it=U,U=0):it=jv(it),C=Fh(C),Sh(C,U,it)}function ix(C,U,it){if(it&&typeof it!="boolean"&&de(C,U,it)&&(U=it=b),it===b&&(typeof U=="boolean"?(it=U,U=b):typeof C=="boolean"&&(it=C,C=b)),C===b&&U===b?(C=0,U=1):(C=jv(C),U===b?(U=C,C=0):U=jv(U)),C>U){var Lt=C;C=U,U=Lt}if(it||C%1||U%1){var Zt=dl();return Ki(C+Zt*(U-C+Hh("1e-"+((Zt+"").length-1))),U)}return Su(C,U)}var ax=El(function(C,U,it){return U=U.toLowerCase(),C+(it?lm(U):U)});function lm(C){return eg(Xo(C).toLowerCase())}function M0(C){return C=Xo(C),C&&C.replace(Mi,Zh).replace(Ql,"")}function ox(C,U,it){C=Xo(C),U=os(U);var Lt=C.length;it=it===b?Lt:Qu(to(it),0,Lt);var Zt=it;return it-=U.length,it>=0&&C.slice(it,Zt)==U}function sx(C){return C=Xo(C),C&&pt.test(C)?C.replace(Ut,Df):C}function ux(C){return C=Xo(C),C&&We.test(C)?C.replace(ce,"\\$&"):C}var lx=El(function(C,U,it){return C+(it?"-":"")+U.toLowerCase()}),cx=El(function(C,U,it){return C+(it?" ":"")+U.toLowerCase()}),I0=tl("toLowerCase");function cm(C,U,it){C=Xo(C),U=to(U);var Lt=U?uf(C):0;if(!U||Lt>=U)return C;var Zt=(U-Lt)/2;return vd(Ol(Zt),it)+C+vd(Il(Zt),it)}function O0(C,U,it){C=Xo(C),U=to(U);var Lt=U?uf(C):0;return U&&Lt<U?C+vd(U-Lt,it):C}function Wg(C,U,it){C=Xo(C),U=to(U);var Lt=U?uf(C):0;return U&&Lt<U?vd(U-Lt,it)+C:C}function fm(C,U,it){return it||U==null?U=0:U&&(U=+U),td(Xo(C).replace(Ne,""),U||0)}function qp(C,U,it){return(it?de(C,U,it):U===b)?U=1:U=to(U),pf(Xo(C),U)}function D0(){var C=arguments,U=Xo(C[0]);return C.length<3?U:U.replace(C[1],C[2])}var tg=El(function(C,U,it){return C+(it?"_":"")+U.toLowerCase()});function hm(C,U,it){return it&&typeof it!="number"&&de(C,U,it)&&(U=it=b),it=it===b?jt:it>>>0,it?(C=Xo(C),C&&(typeof U=="string"||U!=null&&!Ng(U))&&(U=os(U),!U&&dh(C))?Lo(yu(C),0,it):C.split(U,it)):[]}var hv=El(function(C,U,it){return C+(it?" ":"")+eg(U)});function dm(C,U,it){return C=Xo(C),it=it==null?0:Qu(to(it),0,C.length),U=os(U),C.slice(it,it+U.length)==U}function vm(C,U,it){var Lt=Re.templateSettings;it&&de(C,U,it)&&(U=b),C=Xo(C),U=kg({},U,Lt,md);var Zt=kg({},U.imports,Lt.imports,md),ve=rl(Zt),Me=xa(Zt,ve),He,$e,zr=0,nn=U.interpolate||or,ln="__p += '",$n=Nc((U.escape||or).source+"|"+nn.source+"|"+(nn===Rt?Zn:or).source+"|"+(U.evaluate||or).source+"|$","g"),ii="//# sourceURL="+(ha.call(U,"sourceURL")?(U.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Vh+"]")+`
`;C.replace($n,function(mi,di,Ji,us,ls,Va){return Ji||(Ji=us),ln+=C.slice(zr,Va).replace(Bn,Od),di&&(He=!0,ln+=`' +
__e(`+di+`) +
'`),ls&&($e=!0,ln+=`';
`+ls+`;
__p += '`),Ji&&(ln+=`' +
((__t = (`+Ji+`)) == null ? '' : __t) +
'`),zr=Va+mi.length,mi}),ln+=`';
`;var yi=ha.call(U,"variable")&&U.variable;if(!yi)ln=`with (obj) {
`+ln+`
}
`;else if(me.test(yi))throw new An(F);ln=($e?ln.replace(Je,""):ln).replace(br,"$1").replace(jr,"$1;"),ln="function("+(yi||"obj")+`) {
`+(yi?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(He?", __e = _.escape":"")+($e?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ln+`return __p
}`;var Ei=Nh(function(){return ua(ve,ii+"return "+ln).apply(b,Me)});if(Ei.source=ln,Rg(Ei))throw Ei;return Ei}function pm(C){return Xo(C).toLowerCase()}function fx(C){return Xo(C).toUpperCase()}function gm(C,U,it){if(C=Xo(C),C&&(it||U===b))return ci(C);if(!C||!(U=os(U)))return C;var Lt=yu(C),Zt=yu(U),ve=su(Lt,Zt),Me=gu(Lt,Zt)+1;return Lo(Lt,ve,Me).join("")}function hx(C,U,it){if(C=Xo(C),C&&(it||U===b))return C.slice(0,ev(C)+1);if(!C||!(U=os(U)))return C;var Lt=yu(C),Zt=gu(Lt,yu(U))+1;return Lo(Lt,0,Zt).join("")}function dx(C,U,it){if(C=Xo(C),C&&(it||U===b))return C.replace(Ne,"");if(!C||!(U=os(U)))return C;var Lt=yu(C),Zt=su(Lt,yu(U));return Lo(Lt,Zt).join("")}function vx(C,U){var it=St,Lt=At;if(eu(U)){var Zt="separator"in U?U.separator:Zt;it="length"in U?to(U.length):it,Lt="omission"in U?os(U.omission):Lt}C=Xo(C);var ve=C.length;if(dh(C)){var Me=yu(C);ve=Me.length}if(it>=ve)return C;var He=it-uf(Lt);if(He<1)return Lt;var $e=Me?Lo(Me,0,He).join(""):C.slice(0,He);if(Zt===b)return $e+Lt;if(Me&&(He+=$e.length-He),Ng(Zt)){if(C.slice(He).search(Zt)){var zr,nn=$e;for(Zt.global||(Zt=Nc(Zt.source,Xo(Kn.exec(Zt))+"g")),Zt.lastIndex=0;zr=Zt.exec(nn);)var ln=zr.index;$e=$e.slice(0,ln===b?He:ln)}}else if(C.indexOf(os(Zt),He)!=He){var $n=$e.lastIndexOf(Zt);$n>-1&&($e=$e.slice(0,$n))}return $e+Lt}function px(C){return C=Xo(C),C&&ft.test(C)?C.replace(Wr,rv):C}var gx=El(function(C,U,it){return C+(it?" ":"")+U.toUpperCase()}),eg=tl("toUpperCase");function P0(C,U,it){return C=Xo(C),U=it?b:U,U===b?rp(C)?Ld(C):Of(C):C.match(U)||[]}var Nh=Aa(function(C,U){try{return _o(C,b,U)}catch(it){return Rg(it)?it:new An(it)}}),ym=$c(function(C,U){return ou(U,function(it){it=ao(it),_a(C,it,By(C[it],C))}),C});function rg(C){var U=C==null?0:C.length,it=Lr();return C=U?mo(C,function(Lt){if(typeof Lt[1]!="function")throw new uu(T);return[it(Lt[0]),Lt[1]]}):[],Aa(function(Lt){for(var Zt=-1;++Zt<U;){var ve=C[Zt];if(_o(ve[0],this,Lt))return _o(ve[1],this,Lt)}})}function mm(C){return yc(Ua(C,I))}function dv(C){return function(){return C}}function L0(C,U){return C==null||C!==C?U:C}var vv=ss(),pv=ss(!0);function Zc(C){return C}function Vg(C){return Wc(typeof C=="function"?C:Ua(C,I))}function Pp(C){return Nl(Ua(C,I))}function ng(C,U){return Wo(C,Ua(U,I))}var R0=Aa(function(C,U){return function(it){return zf(it,C,U)}}),F0=Aa(function(C,U){return function(it){return zf(C,it,U)}});function bd(C,U,it){var Lt=rl(U),Zt=dr(U,Lt);it==null&&!(eu(U)&&(Zt.length||!Lt.length))&&(it=U,U=C,C=this,Zt=dr(U,rl(U)));var ve=!(eu(it)&&"chain"in it)||!!it.chain,Me=xd(C);return ou(Zt,function(He){var $e=U[He];C[He]=$e,Me&&(C.prototype[He]=function(){var zr=this.__chain__;if(ve||zr){var nn=C(this.__wrapped__),ln=nn.__actions__=As(this.__actions__);return ln.push({func:$e,args:arguments,thisArg:C}),nn.__chain__=zr,nn}return $e.apply(C,Pu([this.value()],arguments))})}),C}function N0(){return Jo._===this&&(Jo._=Qh),this}function ig(){}function xm(C){return C=to(C),Aa(function(U){return Wf(U,C)})}var bm=_c(mo),Hg=_c(Xh),ag=_c($h);function Yg(C){return Ie(C)?fh(ao(C)):_h(C)}function Xg(C){return function(U){return C==null?b:zc(C,U)}}var Qc=pd(),Em=pd(!0);function og(){return[]}function sg(){return!1}function k0(){return{}}function B0(){return""}function $g(){return!0}function Sm(C,U){if(C=to(C),C<1||C>ot)return[];var it=jt,Lt=Ki(C,jt);U=Lr(U),C-=jt;for(var Zt=Kr(Lt,U);++it<C;)U(it);return Zt}function ug(C){return Ra(C)?mo(C,ao):jl(C)?[C]:As(fo(Xo(C)))}function G0(C){var U=++sc;return Xo(C)+U}var wm=Io(function(C,U){return C+U},0),_m=Ef("ceil"),m=Io(function(C,U){return C/U},1),Y=Ef("floor");function V(C){return C&&C.length?Ps(C,Zc,Rl):b}function tt(C,U){return C&&C.length?Ps(C,Lr(U,2),Rl):b}function ut(C){return Ns(C,Zc)}function Ot(C,U){return Ns(C,Lr(U,2))}function Bt(C){return C&&C.length?Ps(C,Zc,Ru):b}function Ht(C,U){return C&&C.length?Ps(C,Lr(U,2),Ru):b}var Jt=Io(function(C,U){return C*U},1),oe=Ef("round"),Se=Io(function(C,U){return C-U},0);function Ye(C){return C&&C.length?Sr(C,Zc):0}function ir(C,U){return C&&C.length?Sr(C,Lr(U,2)):0}return Re.after=S0,Re.ary=ky,Re.assign=G1,Re.assignIn=nm,Re.assignInWith=kg,Re.assignWith=Bg,Re.at=z1,Re.before=Yp,Re.bind=By,Re.bindAll=ym,Re.bindKey=Bv,Re.castArray=Vy,Re.chain=ei,Re.chunk=Us,Re.compact=Ga,Re.concat=Ui,Re.cond=rg,Re.conforms=mm,Re.constant=dv,Re.countBy=b1,Re.create=U1,Re.curry=Gy,Re.curryRight=op,Re.debounce=Tp,Re.defaults=j1,Re.defaultsDeep=W1,Re.defer=M1,Re.delay=zy,Re.difference=aa,Re.differenceBy=Ca,Re.differenceWith=Ho,Re.drop=_u,Re.dropRight=zl,Re.dropRightWhile=Ze,Re.dropWhile=on,Re.fill=an,Re.filter=Iy,Re.flatMap=Py,Re.flatMapDeep=Mg,Re.flatMapDepth=Ig,Re.flatten=Ve,Re.flattenDeep=Oe,Re.flattenDepth=vr,Re.flip=Uy,Re.flow=vv,Re.flowRight=pv,Re.fromPairs=Ur,Re.functions=up,Re.functionsIn=zg,Re.groupBy=b0,Re.initial=lr,Re.intersection=Tr,Re.intersectionBy=Ue,Re.intersectionWith=sr,Re.invert=im,Re.invertBy=am,Re.invokeMap=w1,Re.iteratee=Vg,Re.keyBy=_1,Re.keys=rl,Re.keysIn=nl,Re.map=Cp,Re.mapKeys=om,Re.mapValues=fv,Re.matches=Pp,Re.matchesProperty=ng,Re.memoize=Cc,Re.merge=X1,Re.mergeWith=sm,Re.method=R0,Re.methodOf=F0,Re.mixin=bd,Re.negate=Kc,Re.nthArg=xm,Re.omit=$1,Re.omitBy=K1,Re.once=sp,Re.orderBy=Og,Re.over=bm,Re.overArgs=Tc,Re.overEvery=Hg,Re.overSome=ag,Re.partial=Gv,Re.partialRight=Xp,Re.partition=kv,Re.pick=Wb,Re.pickBy=Z1,Re.property=Yg,Re.propertyOf=Xg,Re.pull=Cn,Re.pullAll=fn,Re.pullAllBy=jn,Re.pullAllWith=Si,Re.pullAt=ta,Re.range=Qc,Re.rangeRight=Em,Re.rearg=Pg,Re.reject=lv,Re.remove=wi,Re.rest=Nb,Re.reverse=Gi,Re.sampleSize=C1,Re.set=Hb,Re.setWith=Yb,Re.shuffle=Ry,Re.slice=Zi,Re.sortBy=T1,Re.sortedUniq=Cu,Re.sortedUniqBy=Rh,Re.split=hm,Re.spread=kb,Re.tail=uv,Re.take=S,Re.takeRight=N,Re.takeRightWhile=Q,Re.takeWhile=Pt,Re.tap=La,Re.throttle=jy,Re.thru=Vi,Re.toArray=N1,Re.toPairs=Q1,Re.toPairsIn=um,Re.toPath=ug,Re.toPlainObject=rm,Re.transform=J1,Re.unary=$p,Re.union=zt,Re.unionBy=ne,Re.unionWith=Fe,Re.uniq=er,Re.uniqBy=Nr,Re.uniqWith=On,Re.unset=q1,Re.unzip=Fi,Re.unzipWith=ba,Re.update=tx,Re.updateWith=ex,Re.values=Dp,Re.valuesIn=rx,Re.without=si,Re.words=P0,Re.wrap=Wy,Re.xor=$i,Re.xorBy=Ea,Re.xorWith=ra,Re.zip=vn,Re.zipObject=$r,Re.zipObjectDeep=un,Re.zipWith=Jn,Re.entries=Q1,Re.entriesIn=um,Re.extend=nm,Re.extendWith=kg,bd(Re,Re),Re.add=wm,Re.attempt=Nh,Re.camelCase=ax,Re.capitalize=lm,Re.ceil=_m,Re.clamp=jg,Re.clone=w0,Re.cloneDeep=_0,Re.cloneDeepWith=I1,Re.cloneWith=zv,Re.conformsTo=A0,Re.deburr=M0,Re.defaultTo=L0,Re.divide=m,Re.endsWith=ox,Re.eq=Ul,Re.escape=sx,Re.escapeRegExp=ux,Re.every=E1,Re.find=Oy,Re.findIndex=gi,Re.findKey=zb,Re.findLast=Dy,Re.findLastIndex=la,Re.findLastKey=Ub,Re.floor=Y,Re.forEach=_p,Re.forEachRight=S1,Re.forIn=jb,Re.forInRight=V1,Re.forOwn=H1,Re.forOwnRight=Gg,Re.get=cv,Re.gt=O1,Re.gte=D1,Re.has=Y1,Re.hasIn=Ug,Re.head=Xr,Re.identity=Zc,Re.includes=Ap,Re.indexOf=gr,Re.inRange=nx,Re.invoke=T0,Re.isArguments=Mp,Re.isArray=Ra,Re.isArrayBuffer=Lg,Re.isArrayLike=Mc,Re.isArrayLikeObject=tu,Re.isBoolean=Hy,Re.isBuffer=Ud,Re.isDate=Yy,Re.isElement=P1,Re.isEmpty=Kp,Re.isEqual=Xy,Re.isEqualWith=$y,Re.isError=Rg,Re.isFinite=Ky,Re.isFunction=xd,Re.isInteger=Zy,Re.isLength=Zp,Re.isMap=C0,Re.isMatch=Fg,Re.isMatchWith=L1,Re.isNaN=R1,Re.isNative=Qy,Re.isNil=Jy,Re.isNull=F1,Re.isNumber=qy,Re.isObject=eu,Re.isObjectLike=ru,Re.isPlainObject=Qp,Re.isRegExp=Ng,Re.isSafeInteger=tm,Re.isSet=Ip,Re.isString=Op,Re.isSymbol=jl,Re.isTypedArray=jd,Re.isUndefined=em,Re.isWeakMap=Jp,Re.isWeakSet=Uv,Re.join=Be,Re.kebabCase=lx,Re.last=wr,Re.lastIndexOf=Jr,Re.lowerCase=cx,Re.lowerFirst=I0,Re.lt=Bb,Re.lte=Gb,Re.max=V,Re.maxBy=tt,Re.mean=ut,Re.meanBy=Ot,Re.min=Bt,Re.minBy=Ht,Re.stubArray=og,Re.stubFalse=sg,Re.stubObject=k0,Re.stubString=B0,Re.stubTrue=$g,Re.multiply=Jt,Re.nth=bn,Re.noConflict=N0,Re.noop=ig,Re.now=Dg,Re.pad=cm,Re.padEnd=O0,Re.padStart=Wg,Re.parseInt=fm,Re.random=ix,Re.reduce=E0,Re.reduceRight=Ly,Re.repeat=qp,Re.replace=D0,Re.result=Vb,Re.round=oe,Re.runInContext=tn,Re.sample=A1,Re.size=Fy,Re.snakeCase=tg,Re.some=Ny,Re.sortedIndex=ja,Re.sortedIndexBy=bo,Re.sortedIndexOf=Au,Re.sortedLastIndex=pu,Re.sortedLastIndexBy=ku,Re.sortedLastIndexOf=ap,Re.startCase=hv,Re.startsWith=dm,Re.subtract=Se,Re.sum=Ye,Re.sumBy=ir,Re.template=vm,Re.times=Sm,Re.toFinite=jv,Re.toInteger=to,Re.toLength=k1,Re.toLower=pm,Re.toNumber=Fh,Re.toSafeInteger=B1,Re.toString=Xo,Re.toUpper=fx,Re.trim=gm,Re.trimEnd=hx,Re.trimStart=dx,Re.truncate=vx,Re.unescape=px,Re.uniqueId=G0,Re.upperCase=gx,Re.upperFirst=eg,Re.each=_p,Re.eachRight=S1,Re.first=Xr,bd(Re,function(){var C={};return hu(Re,function(U,it){ha.call(Re.prototype,it)||(C[it]=U)}),C}(),{chain:!1}),Re.VERSION=P,ou(["bind","bindKey","curry","curryRight","partial","partialRight"],function(C){Re[C].placeholder=Re}),ou(["drop","take"],function(C,U){wa.prototype[C]=function(it){it=it===b?1:uo(to(it),0);var Lt=this.__filtered__&&!U?new wa(this):this.clone();return Lt.__filtered__?Lt.__takeCount__=Ki(it,Lt.__takeCount__):Lt.__views__.push({size:Ki(it,jt),type:C+(Lt.__dir__<0?"Right":"")}),Lt},wa.prototype[C+"Right"]=function(it){return this.reverse()[C](it).reverse()}}),ou(["filter","map","takeWhile"],function(C,U){var it=U+1,Lt=it==gt||it==Et;wa.prototype[C]=function(Zt){var ve=this.clone();return ve.__iteratees__.push({iteratee:Lr(Zt,3),type:it}),ve.__filtered__=ve.__filtered__||Lt,ve}}),ou(["head","last"],function(C,U){var it="take"+(U?"Right":"");wa.prototype[C]=function(){return this[it](1).value()[0]}}),ou(["initial","tail"],function(C,U){var it="drop"+(U?"":"Right");wa.prototype[C]=function(){return this.__filtered__?new wa(this):this[it](1)}}),wa.prototype.compact=function(){return this.filter(Zc)},wa.prototype.find=function(C){return this.filter(C).head()},wa.prototype.findLast=function(C){return this.reverse().find(C)},wa.prototype.invokeMap=Aa(function(C,U){return typeof C=="function"?new wa(this):this.map(function(it){return zf(it,C,U)})}),wa.prototype.reject=function(C){return this.filter(Kc(Lr(C)))},wa.prototype.slice=function(C,U){C=to(C);var it=this;return it.__filtered__&&(C>0||U<0)?new wa(it):(C<0?it=it.takeRight(-C):C&&(it=it.drop(C)),U!==b&&(U=to(U),it=U<0?it.dropRight(-U):it.take(U-C)),it)},wa.prototype.takeRightWhile=function(C){return this.reverse().takeWhile(C).reverse()},wa.prototype.toArray=function(){return this.take(jt)},hu(wa.prototype,function(C,U){var it=/^(?:filter|find|map|reject)|While$/.test(U),Lt=/^(?:head|last)$/.test(U),Zt=Re[Lt?"take"+(U=="last"?"Right":""):U],ve=Lt||/^find/.test(U);!Zt||(Re.prototype[U]=function(){var Me=this.__wrapped__,He=Lt?[1]:arguments,$e=Me instanceof wa,zr=He[0],nn=$e||Ra(Me),ln=function(di){var Ji=Zt.apply(Re,Pu([di],He));return Lt&&$n?Ji[0]:Ji};nn&&it&&typeof zr=="function"&&zr.length!=1&&($e=nn=!1);var $n=this.__chain__,ii=!!this.__actions__.length,yi=ve&&!$n,Ei=$e&&!ii;if(!ve&&nn){Me=Ei?Me:new wa(this);var mi=C.apply(Me,He);return mi.__actions__.push({func:Vi,args:[ln],thisArg:b}),new Zs(mi,$n)}return yi&&Ei?C.apply(this,He):(mi=this.thru(ln),yi?Lt?mi.value()[0]:mi.value():mi)})}),ou(["pop","push","shift","sort","splice","unshift"],function(C){var U=ac[C],it=/^(?:push|sort|unshift)$/.test(C)?"tap":"thru",Lt=/^(?:pop|shift)$/.test(C);Re.prototype[C]=function(){var Zt=arguments;if(Lt&&!this.__chain__){var ve=this.value();return U.apply(Ra(ve)?ve:[],Zt)}return this[it](function(Me){return U.apply(Ra(Me)?Me:[],Zt)})}}),hu(wa.prototype,function(C,U){var it=Re[U];if(it){var Lt=it.name+"";ha.call(Ao,Lt)||(Ao[Lt]=[]),Ao[Lt].push({name:U,func:it})}}),Ao[Cs(b,K).name]=[{name:"wrapper",func:b}],wa.prototype.clone=ed,wa.prototype.reverse=Ss,wa.prototype.value=rd,Re.prototype.at=Ba,Re.prototype.chain=qa,Re.prototype.commit=Wa,Re.prototype.next=zd,Re.prototype.plant=My,Re.prototype.reverse=x1,Re.prototype.toJSON=Re.prototype.valueOf=Re.prototype.value=Ts,Re.prototype.first=Re.prototype.head,cc&&(Re.prototype[cc]=Tg),Re},_e=nv();Jo._=_e,x=function(){return _e}.call(R,d,R,at),x!==b&&(at.exports=x)}).call(this)},70023:function(at,R,d){"use strict";d.r(R),d.d(R,{AbstractMatrix:function(){return he},CHO:function(){return jr},CholeskyDecomposition:function(){return jr},EVD:function(){return In},EigenvalueDecomposition:function(){return In},LU:function(){return Qr},LuDecomposition:function(){return Qr},Matrix:function(){return Le},MatrixColumnSelectionView:function(){return ge},MatrixColumnView:function(){return Ee},MatrixFlipColumnView:function(){return we},MatrixFlipRowView:function(){return Ce},MatrixRowSelectionView:function(){return Gt},MatrixRowView:function(){return ye},MatrixSelectionView:function(){return Xt},MatrixSubView:function(){return Kt},MatrixTransposeView:function(){return ze},NIPALS:function(){return Wr},Nipals:function(){return Wr},QR:function(){return gn},QrDecomposition:function(){return gn},SVD:function(){return Wn},SingularValueDecomposition:function(){return Wn},WrapperMatrix1D:function(){return ur},WrapperMatrix2D:function(){return tr},correlation:function(){return En},covariance:function(){return Gn},default:function(){return Le},determinant:function(){return fr},inverse:function(){return ui},linearDependencies:function(){return Dn},pseudoInverse:function(){return hn},solve:function(){return bi},wrap:function(){return re}});const x=Object.prototype.toString;function b(Ut){return x.call(Ut).endsWith("Array]")}function P(Ut){var ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!b(Ut))throw new TypeError("input must be an array");if(Ut.length===0)throw new TypeError("input must not be empty");var pt=ft.fromIndex,J=pt===void 0?0:pt,xt=ft.toIndex,Rt=xt===void 0?Ut.length:xt;if(J<0||J>=Ut.length||!Number.isInteger(J))throw new Error("fromIndex must be a positive integer smaller than length");if(Rt<=J||Rt>Ut.length||!Number.isInteger(Rt))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var ue=Ut[J],ie=J+1;ie<Rt;ie++)Ut[ie]>ue&&(ue=Ut[ie]);return ue}function _(Ut){var ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!b(Ut))throw new TypeError("input must be an array");if(Ut.length===0)throw new TypeError("input must not be empty");var pt=ft.fromIndex,J=pt===void 0?0:pt,xt=ft.toIndex,Rt=xt===void 0?Ut.length:xt;if(J<0||J>=Ut.length||!Number.isInteger(J))throw new Error("fromIndex must be a positive integer smaller than length");if(Rt<=J||Rt>Ut.length||!Number.isInteger(Rt))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var ue=Ut[J],ie=J+1;ie<Rt;ie++)Ut[ie]<ue&&(ue=Ut[ie]);return ue}function O(Ut){var ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(b(Ut)){if(Ut.length===0)throw new TypeError("input must not be empty")}else throw new TypeError("input must be an array");var pt;if(ft.output!==void 0){if(!b(ft.output))throw new TypeError("output option must be an array if specified");pt=ft.output}else pt=new Array(Ut.length);var J=_(Ut),xt=P(Ut);if(J===xt)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var Rt=ft.min,ue=Rt===void 0?ft.autoMinMax?J:0:Rt,ie=ft.max,be=ie===void 0?ft.autoMinMax?xt:1:ie;if(ue>=be)throw new RangeError("min option must be smaller than max option");for(var ce=(be-ue)/(xt-J),We=0;We<Ut.length;We++)pt[We]=(Ut[We]-J)*ce+ue;return pt}const T=" ".repeat(2),F=" ".repeat(4);function M(){return A(this)}function A(Ut,ft={}){const{maxRows:pt=15,maxColumns:J=10,maxNumSize:xt=8}=ft;return`${Ut.constructor.name} {
${T}[
${F}${L(Ut,pt,J,xt)}
${T}]
${T}rows: ${Ut.rows}
${T}columns: ${Ut.columns}
}`}function L(Ut,ft,pt,J){const{rows:xt,columns:Rt}=Ut,ue=Math.min(xt,ft),ie=Math.min(Rt,pt),be=[];for(let ce=0;ce<ue;ce++){let We=[];for(let Ne=0;Ne<ie;Ne++)We.push(I(Ut.get(ce,Ne),J));be.push(`${We.join(" ")}`)}return ie!==Rt&&(be[be.length-1]+=` ... ${Rt-pt} more columns`),ue!==xt&&be.push(`... ${xt-ft} more rows`),be.join(`
${F}`)}function I(Ut,ft){const pt=String(Ut);if(pt.length<=ft)return pt.padEnd(ft," ");const J=Ut.toPrecision(ft-2);if(J.length<=ft)return J;const xt=Ut.toExponential(ft-2),Rt=xt.indexOf("e"),ue=xt.slice(Rt);return xt.slice(0,ft-ue.length)+ue}function k(Ut,ft){Ut.prototype.add=function(J){return typeof J=="number"?this.addS(J):this.addM(J)},Ut.prototype.addS=function(J){for(let xt=0;xt<this.rows;xt++)for(let Rt=0;Rt<this.columns;Rt++)this.set(xt,Rt,this.get(xt,Rt)+J);return this},Ut.prototype.addM=function(J){if(J=ft.checkMatrix(J),this.rows!==J.rows||this.columns!==J.columns)throw new RangeError("Matrices dimensions must be equal");for(let xt=0;xt<this.rows;xt++)for(let Rt=0;Rt<this.columns;Rt++)this.set(xt,Rt,this.get(xt,Rt)+J.get(xt,Rt));return this},Ut.add=function(J,xt){return new ft(J).add(xt)},Ut.prototype.sub=function(J){return typeof J=="number"?this.subS(J):this.subM(J)},Ut.prototype.subS=function(J){for(let xt=0;xt<this.rows;xt++)for(let Rt=0;Rt<this.columns;Rt++)this.set(xt,Rt,this.get(xt,Rt)-J);return this},Ut.prototype.subM=function(J){if(J=ft.checkMatrix(J),this.rows!==J.rows||this.columns!==J.columns)throw new RangeError("Matrices dimensions must be equal");for(let xt=0;xt<this.rows;xt++)for(let Rt=0;Rt<this.columns;Rt++)this.set(xt,Rt,this.get(xt,Rt)-J.get(xt,Rt));return this},Ut.sub=function(J,xt){return new ft(J).sub(xt)},Ut.prototype.subtract=Ut.prototype.sub,Ut.prototype.subtractS=Ut.prototype.subS,Ut.prototype.subtractM=Ut.prototype.subM,Ut.subtract=Ut.sub,Ut.prototype.mul=function(J){return typeof J=="number"?this.mulS(J):this.mulM(J)},Ut.prototype.mulS=function(J){for(let xt=0;xt<this.rows;xt++)for(let Rt=0;Rt<this.columns;Rt++)this.set(xt,Rt,this.get(xt,Rt)*J);return this},Ut.prototype.mulM=function(J){if(J=ft.checkMatrix(J),this.rows!==J.rows||this.columns!==J.columns)throw new RangeError("Matrices dimensions must be equal");for(let xt=0;xt<this.rows;xt++)for(let Rt=0;Rt<this.columns;Rt++)this.set(xt,Rt,this.get(xt,Rt)*J.get(xt,Rt));return this},Ut.mul=function(J,xt){return new ft(J).mul(xt)},Ut.prototype.multiply=Ut.prototype.mul,Ut.prototype.multiplyS=Ut.prototype.mulS,Ut.prototype.multiplyM=Ut.prototype.mulM,Ut.multiply=Ut.mul,Ut.prototype.div=function(J){return typeof J=="number"?this.divS(J):this.divM(J)},Ut.prototype.divS=function(J){for(let xt=0;xt<this.rows;xt++)for(let Rt=0;Rt<this.columns;Rt++)this.set(xt,Rt,this.get(xt,Rt)/J);return this},Ut.prototype.divM=function(J){if(J=ft.checkMatrix(J),this.rows!==J.rows||this.columns!==J.columns)throw new RangeError("Matrices dimensions must be equal");for(let xt=0;xt<this.rows;xt++)for(let Rt=0;Rt<this.columns;Rt++)this.set(xt,Rt,this.get(xt,Rt)/J.get(xt,Rt));return this},Ut.div=function(J,xt){return new ft(J).div(xt)},Ut.prototype.divide=Ut.prototype.div,Ut.prototype.divideS=Ut.prototype.divS,Ut.prototype.divideM=Ut.prototype.divM,Ut.divide=Ut.div,Ut.prototype.mod=function(J){return typeof J=="number"?this.modS(J):this.modM(J)},Ut.prototype.modS=function(J){for(let xt=0;xt<this.rows;xt++)for(let Rt=0;Rt<this.columns;Rt++)this.set(xt,Rt,this.get(xt,Rt)%J);return this},Ut.prototype.modM=function(J){if(J=ft.checkMatrix(J),this.rows!==J.rows||this.columns!==J.columns)throw new RangeError("Matrices dimensions must be equal");for(let xt=0;xt<this.rows;xt++)for(let Rt=0;Rt<this.columns;Rt++)this.set(xt,Rt,this.get(xt,Rt)%J.get(xt,Rt));return this},Ut.mod=function(J,xt){return new ft(J).mod(xt)},Ut.prototype.modulus=Ut.prototype.mod,Ut.prototype.modulusS=Ut.prototype.modS,Ut.prototype.modulusM=Ut.prototype.modM,Ut.modulus=Ut.mod,Ut.prototype.and=function(J){return typeof J=="number"?this.andS(J):this.andM(J)},Ut.prototype.andS=function(J){for(let xt=0;xt<this.rows;xt++)for(let Rt=0;Rt<this.columns;Rt++)this.set(xt,Rt,this.get(xt,Rt)&J);return this},Ut.prototype.andM=function(J){if(J=ft.checkMatrix(J),this.rows!==J.rows||this.columns!==J.columns)throw new RangeError("Matrices dimensions must be equal");for(let xt=0;xt<this.rows;xt++)for(let Rt=0;Rt<this.columns;Rt++)this.set(xt,Rt,this.get(xt,Rt)&J.get(xt,Rt));return this},Ut.and=function(J,xt){return new ft(J).and(xt)},Ut.prototype.or=function(J){return typeof J=="number"?this.orS(J):this.orM(J)},Ut.prototype.orS=function(J){for(let xt=0;xt<this.rows;xt++)for(let Rt=0;Rt<this.columns;Rt++)this.set(xt,Rt,this.get(xt,Rt)|J);return this},Ut.prototype.orM=function(J){if(J=ft.checkMatrix(J),this.rows!==J.rows||this.columns!==J.columns)throw new RangeError("Matrices dimensions must be equal");for(let xt=0;xt<this.rows;xt++)for(let Rt=0;Rt<this.columns;Rt++)this.set(xt,Rt,this.get(xt,Rt)|J.get(xt,Rt));return this},Ut.or=function(J,xt){return new ft(J).or(xt)},Ut.prototype.xor=function(J){return typeof J=="number"?this.xorS(J):this.xorM(J)},Ut.prototype.xorS=function(J){for(let xt=0;xt<this.rows;xt++)for(let Rt=0;Rt<this.columns;Rt++)this.set(xt,Rt,this.get(xt,Rt)^J);return this},Ut.prototype.xorM=function(J){if(J=ft.checkMatrix(J),this.rows!==J.rows||this.columns!==J.columns)throw new RangeError("Matrices dimensions must be equal");for(let xt=0;xt<this.rows;xt++)for(let Rt=0;Rt<this.columns;Rt++)this.set(xt,Rt,this.get(xt,Rt)^J.get(xt,Rt));return this},Ut.xor=function(J,xt){return new ft(J).xor(xt)},Ut.prototype.leftShift=function(J){return typeof J=="number"?this.leftShiftS(J):this.leftShiftM(J)},Ut.prototype.leftShiftS=function(J){for(let xt=0;xt<this.rows;xt++)for(let Rt=0;Rt<this.columns;Rt++)this.set(xt,Rt,this.get(xt,Rt)<<J);return this},Ut.prototype.leftShiftM=function(J){if(J=ft.checkMatrix(J),this.rows!==J.rows||this.columns!==J.columns)throw new RangeError("Matrices dimensions must be equal");for(let xt=0;xt<this.rows;xt++)for(let Rt=0;Rt<this.columns;Rt++)this.set(xt,Rt,this.get(xt,Rt)<<J.get(xt,Rt));return this},Ut.leftShift=function(J,xt){return new ft(J).leftShift(xt)},Ut.prototype.signPropagatingRightShift=function(J){return typeof J=="number"?this.signPropagatingRightShiftS(J):this.signPropagatingRightShiftM(J)},Ut.prototype.signPropagatingRightShiftS=function(J){for(let xt=0;xt<this.rows;xt++)for(let Rt=0;Rt<this.columns;Rt++)this.set(xt,Rt,this.get(xt,Rt)>>J);return this},Ut.prototype.signPropagatingRightShiftM=function(J){if(J=ft.checkMatrix(J),this.rows!==J.rows||this.columns!==J.columns)throw new RangeError("Matrices dimensions must be equal");for(let xt=0;xt<this.rows;xt++)for(let Rt=0;Rt<this.columns;Rt++)this.set(xt,Rt,this.get(xt,Rt)>>J.get(xt,Rt));return this},Ut.signPropagatingRightShift=function(J,xt){return new ft(J).signPropagatingRightShift(xt)},Ut.prototype.rightShift=function(J){return typeof J=="number"?this.rightShiftS(J):this.rightShiftM(J)},Ut.prototype.rightShiftS=function(J){for(let xt=0;xt<this.rows;xt++)for(let Rt=0;Rt<this.columns;Rt++)this.set(xt,Rt,this.get(xt,Rt)>>>J);return this},Ut.prototype.rightShiftM=function(J){if(J=ft.checkMatrix(J),this.rows!==J.rows||this.columns!==J.columns)throw new RangeError("Matrices dimensions must be equal");for(let xt=0;xt<this.rows;xt++)for(let Rt=0;Rt<this.columns;Rt++)this.set(xt,Rt,this.get(xt,Rt)>>>J.get(xt,Rt));return this},Ut.rightShift=function(J,xt){return new ft(J).rightShift(xt)},Ut.prototype.zeroFillRightShift=Ut.prototype.rightShift,Ut.prototype.zeroFillRightShiftS=Ut.prototype.rightShiftS,Ut.prototype.zeroFillRightShiftM=Ut.prototype.rightShiftM,Ut.zeroFillRightShift=Ut.rightShift,Ut.prototype.not=function(){for(let J=0;J<this.rows;J++)for(let xt=0;xt<this.columns;xt++)this.set(J,xt,~this.get(J,xt));return this},Ut.not=function(J){return new ft(J).not()},Ut.prototype.abs=function(){for(let J=0;J<this.rows;J++)for(let xt=0;xt<this.columns;xt++)this.set(J,xt,Math.abs(this.get(J,xt)));return this},Ut.abs=function(J){return new ft(J).abs()},Ut.prototype.acos=function(){for(let J=0;J<this.rows;J++)for(let xt=0;xt<this.columns;xt++)this.set(J,xt,Math.acos(this.get(J,xt)));return this},Ut.acos=function(J){return new ft(J).acos()},Ut.prototype.acosh=function(){for(let J=0;J<this.rows;J++)for(let xt=0;xt<this.columns;xt++)this.set(J,xt,Math.acosh(this.get(J,xt)));return this},Ut.acosh=function(J){return new ft(J).acosh()},Ut.prototype.asin=function(){for(let J=0;J<this.rows;J++)for(let xt=0;xt<this.columns;xt++)this.set(J,xt,Math.asin(this.get(J,xt)));return this},Ut.asin=function(J){return new ft(J).asin()},Ut.prototype.asinh=function(){for(let J=0;J<this.rows;J++)for(let xt=0;xt<this.columns;xt++)this.set(J,xt,Math.asinh(this.get(J,xt)));return this},Ut.asinh=function(J){return new ft(J).asinh()},Ut.prototype.atan=function(){for(let J=0;J<this.rows;J++)for(let xt=0;xt<this.columns;xt++)this.set(J,xt,Math.atan(this.get(J,xt)));return this},Ut.atan=function(J){return new ft(J).atan()},Ut.prototype.atanh=function(){for(let J=0;J<this.rows;J++)for(let xt=0;xt<this.columns;xt++)this.set(J,xt,Math.atanh(this.get(J,xt)));return this},Ut.atanh=function(J){return new ft(J).atanh()},Ut.prototype.cbrt=function(){for(let J=0;J<this.rows;J++)for(let xt=0;xt<this.columns;xt++)this.set(J,xt,Math.cbrt(this.get(J,xt)));return this},Ut.cbrt=function(J){return new ft(J).cbrt()},Ut.prototype.ceil=function(){for(let J=0;J<this.rows;J++)for(let xt=0;xt<this.columns;xt++)this.set(J,xt,Math.ceil(this.get(J,xt)));return this},Ut.ceil=function(J){return new ft(J).ceil()},Ut.prototype.clz32=function(){for(let J=0;J<this.rows;J++)for(let xt=0;xt<this.columns;xt++)this.set(J,xt,Math.clz32(this.get(J,xt)));return this},Ut.clz32=function(J){return new ft(J).clz32()},Ut.prototype.cos=function(){for(let J=0;J<this.rows;J++)for(let xt=0;xt<this.columns;xt++)this.set(J,xt,Math.cos(this.get(J,xt)));return this},Ut.cos=function(J){return new ft(J).cos()},Ut.prototype.cosh=function(){for(let J=0;J<this.rows;J++)for(let xt=0;xt<this.columns;xt++)this.set(J,xt,Math.cosh(this.get(J,xt)));return this},Ut.cosh=function(J){return new ft(J).cosh()},Ut.prototype.exp=function(){for(let J=0;J<this.rows;J++)for(let xt=0;xt<this.columns;xt++)this.set(J,xt,Math.exp(this.get(J,xt)));return this},Ut.exp=function(J){return new ft(J).exp()},Ut.prototype.expm1=function(){for(let J=0;J<this.rows;J++)for(let xt=0;xt<this.columns;xt++)this.set(J,xt,Math.expm1(this.get(J,xt)));return this},Ut.expm1=function(J){return new ft(J).expm1()},Ut.prototype.floor=function(){for(let J=0;J<this.rows;J++)for(let xt=0;xt<this.columns;xt++)this.set(J,xt,Math.floor(this.get(J,xt)));return this},Ut.floor=function(J){return new ft(J).floor()},Ut.prototype.fround=function(){for(let J=0;J<this.rows;J++)for(let xt=0;xt<this.columns;xt++)this.set(J,xt,Math.fround(this.get(J,xt)));return this},Ut.fround=function(J){return new ft(J).fround()},Ut.prototype.log=function(){for(let J=0;J<this.rows;J++)for(let xt=0;xt<this.columns;xt++)this.set(J,xt,Math.log(this.get(J,xt)));return this},Ut.log=function(J){return new ft(J).log()},Ut.prototype.log1p=function(){for(let J=0;J<this.rows;J++)for(let xt=0;xt<this.columns;xt++)this.set(J,xt,Math.log1p(this.get(J,xt)));return this},Ut.log1p=function(J){return new ft(J).log1p()},Ut.prototype.log10=function(){for(let J=0;J<this.rows;J++)for(let xt=0;xt<this.columns;xt++)this.set(J,xt,Math.log10(this.get(J,xt)));return this},Ut.log10=function(J){return new ft(J).log10()},Ut.prototype.log2=function(){for(let J=0;J<this.rows;J++)for(let xt=0;xt<this.columns;xt++)this.set(J,xt,Math.log2(this.get(J,xt)));return this},Ut.log2=function(J){return new ft(J).log2()},Ut.prototype.round=function(){for(let J=0;J<this.rows;J++)for(let xt=0;xt<this.columns;xt++)this.set(J,xt,Math.round(this.get(J,xt)));return this},Ut.round=function(J){return new ft(J).round()},Ut.prototype.sign=function(){for(let J=0;J<this.rows;J++)for(let xt=0;xt<this.columns;xt++)this.set(J,xt,Math.sign(this.get(J,xt)));return this},Ut.sign=function(J){return new ft(J).sign()},Ut.prototype.sin=function(){for(let J=0;J<this.rows;J++)for(let xt=0;xt<this.columns;xt++)this.set(J,xt,Math.sin(this.get(J,xt)));return this},Ut.sin=function(J){return new ft(J).sin()},Ut.prototype.sinh=function(){for(let J=0;J<this.rows;J++)for(let xt=0;xt<this.columns;xt++)this.set(J,xt,Math.sinh(this.get(J,xt)));return this},Ut.sinh=function(J){return new ft(J).sinh()},Ut.prototype.sqrt=function(){for(let J=0;J<this.rows;J++)for(let xt=0;xt<this.columns;xt++)this.set(J,xt,Math.sqrt(this.get(J,xt)));return this},Ut.sqrt=function(J){return new ft(J).sqrt()},Ut.prototype.tan=function(){for(let J=0;J<this.rows;J++)for(let xt=0;xt<this.columns;xt++)this.set(J,xt,Math.tan(this.get(J,xt)));return this},Ut.tan=function(J){return new ft(J).tan()},Ut.prototype.tanh=function(){for(let J=0;J<this.rows;J++)for(let xt=0;xt<this.columns;xt++)this.set(J,xt,Math.tanh(this.get(J,xt)));return this},Ut.tanh=function(J){return new ft(J).tanh()},Ut.prototype.trunc=function(){for(let J=0;J<this.rows;J++)for(let xt=0;xt<this.columns;xt++)this.set(J,xt,Math.trunc(this.get(J,xt)));return this},Ut.trunc=function(J){return new ft(J).trunc()},Ut.pow=function(J,xt){return new ft(J).pow(xt)},Ut.prototype.pow=function(J){return typeof J=="number"?this.powS(J):this.powM(J)},Ut.prototype.powS=function(J){for(let xt=0;xt<this.rows;xt++)for(let Rt=0;Rt<this.columns;Rt++)this.set(xt,Rt,Math.pow(this.get(xt,Rt),J));return this},Ut.prototype.powM=function(J){if(J=ft.checkMatrix(J),this.rows!==J.rows||this.columns!==J.columns)throw new RangeError("Matrices dimensions must be equal");for(let xt=0;xt<this.rows;xt++)for(let Rt=0;Rt<this.columns;Rt++)this.set(xt,Rt,Math.pow(this.get(xt,Rt),J.get(xt,Rt)));return this}}function B(Ut,ft,pt){let J=pt?Ut.rows:Ut.rows-1;if(ft<0||ft>J)throw new RangeError("Row index out of range")}function z(Ut,ft,pt){let J=pt?Ut.columns:Ut.columns-1;if(ft<0||ft>J)throw new RangeError("Column index out of range")}function W(Ut,ft){if(ft.to1DArray&&(ft=ft.to1DArray()),ft.length!==Ut.columns)throw new RangeError("vector size must be the same as the number of columns");return ft}function $(Ut,ft){if(ft.to1DArray&&(ft=ft.to1DArray()),ft.length!==Ut.rows)throw new RangeError("vector size must be the same as the number of rows");return ft}function K(Ut,ft){if(!b(ft))throw new TypeError("row indices must be an array");for(let pt=0;pt<ft.length;pt++)if(ft[pt]<0||ft[pt]>=Ut.rows)throw new RangeError("row indices are out of range")}function lt(Ut,ft){if(!b(ft))throw new TypeError("column indices must be an array");for(let pt=0;pt<ft.length;pt++)if(ft[pt]<0||ft[pt]>=Ut.columns)throw new RangeError("column indices are out of range")}function st(Ut,ft,pt,J,xt){if(arguments.length!==5)throw new RangeError("expected 4 arguments");if(q("startRow",ft),q("endRow",pt),q("startColumn",J),q("endColumn",xt),ft>pt||J>xt||ft<0||ft>=Ut.rows||pt<0||pt>=Ut.rows||J<0||J>=Ut.columns||xt<0||xt>=Ut.columns)throw new RangeError("Submatrix indices are out of range")}function yt(Ut,ft=0){let pt=[];for(let J=0;J<Ut;J++)pt.push(ft);return pt}function q(Ut,ft){if(typeof ft!="number")throw new TypeError(`${Ut} must be a number`)}function nt(Ut){if(Ut.isEmpty())throw new Error("Empty matrix has no elements to index")}function ct(Ut){let ft=yt(Ut.rows);for(let pt=0;pt<Ut.rows;++pt)for(let J=0;J<Ut.columns;++J)ft[pt]+=Ut.get(pt,J);return ft}function bt(Ut){let ft=yt(Ut.columns);for(let pt=0;pt<Ut.rows;++pt)for(let J=0;J<Ut.columns;++J)ft[J]+=Ut.get(pt,J);return ft}function _t(Ut){let ft=0;for(let pt=0;pt<Ut.rows;pt++)for(let J=0;J<Ut.columns;J++)ft+=Ut.get(pt,J);return ft}function St(Ut){let ft=yt(Ut.rows,1);for(let pt=0;pt<Ut.rows;++pt)for(let J=0;J<Ut.columns;++J)ft[pt]*=Ut.get(pt,J);return ft}function At(Ut){let ft=yt(Ut.columns,1);for(let pt=0;pt<Ut.rows;++pt)for(let J=0;J<Ut.columns;++J)ft[J]*=Ut.get(pt,J);return ft}function vt(Ut){let ft=1;for(let pt=0;pt<Ut.rows;pt++)for(let J=0;J<Ut.columns;J++)ft*=Ut.get(pt,J);return ft}function dt(Ut,ft,pt){const J=Ut.rows,xt=Ut.columns,Rt=[];for(let ue=0;ue<J;ue++){let ie=0,be=0,ce=0;for(let We=0;We<xt;We++)ce=Ut.get(ue,We)-pt[ue],ie+=ce,be+=ce*ce;ft?Rt.push((be-ie*ie/xt)/(xt-1)):Rt.push((be-ie*ie/xt)/xt)}return Rt}function gt(Ut,ft,pt){const J=Ut.rows,xt=Ut.columns,Rt=[];for(let ue=0;ue<xt;ue++){let ie=0,be=0,ce=0;for(let We=0;We<J;We++)ce=Ut.get(We,ue)-pt[ue],ie+=ce,be+=ce*ce;ft?Rt.push((be-ie*ie/J)/(J-1)):Rt.push((be-ie*ie/J)/J)}return Rt}function Ct(Ut,ft,pt){const J=Ut.rows,xt=Ut.columns,Rt=J*xt;let ue=0,ie=0,be=0;for(let ce=0;ce<J;ce++)for(let We=0;We<xt;We++)be=Ut.get(ce,We)-pt,ue+=be,ie+=be*be;return ft?(ie-ue*ue/Rt)/(Rt-1):(ie-ue*ue/Rt)/Rt}function Et(Ut,ft){for(let pt=0;pt<Ut.rows;pt++)for(let J=0;J<Ut.columns;J++)Ut.set(pt,J,Ut.get(pt,J)-ft[pt])}function Tt(Ut,ft){for(let pt=0;pt<Ut.rows;pt++)for(let J=0;J<Ut.columns;J++)Ut.set(pt,J,Ut.get(pt,J)-ft[J])}function ot(Ut,ft){for(let pt=0;pt<Ut.rows;pt++)for(let J=0;J<Ut.columns;J++)Ut.set(pt,J,Ut.get(pt,J)-ft)}function Mt(Ut){const ft=[];for(let pt=0;pt<Ut.rows;pt++){let J=0;for(let xt=0;xt<Ut.columns;xt++)J+=Math.pow(Ut.get(pt,xt),2)/(Ut.columns-1);ft.push(Math.sqrt(J))}return ft}function Wt(Ut,ft){for(let pt=0;pt<Ut.rows;pt++)for(let J=0;J<Ut.columns;J++)Ut.set(pt,J,Ut.get(pt,J)/ft[pt])}function jt(Ut){const ft=[];for(let pt=0;pt<Ut.columns;pt++){let J=0;for(let xt=0;xt<Ut.rows;xt++)J+=Math.pow(Ut.get(xt,pt),2)/(Ut.rows-1);ft.push(Math.sqrt(J))}return ft}function qt(Ut,ft){for(let pt=0;pt<Ut.rows;pt++)for(let J=0;J<Ut.columns;J++)Ut.set(pt,J,Ut.get(pt,J)/ft[J])}function se(Ut){const ft=Ut.size-1;let pt=0;for(let J=0;J<Ut.columns;J++)for(let xt=0;xt<Ut.rows;xt++)pt+=Math.pow(Ut.get(xt,J),2)/ft;return Math.sqrt(pt)}function ae(Ut,ft){for(let pt=0;pt<Ut.rows;pt++)for(let J=0;J<Ut.columns;J++)Ut.set(pt,J,Ut.get(pt,J)/ft)}class he{static from1DArray(ft,pt,J){if(ft*pt!==J.length)throw new RangeError("data length does not match given dimensions");let Rt=new Le(ft,pt);for(let ue=0;ue<ft;ue++)for(let ie=0;ie<pt;ie++)Rt.set(ue,ie,J[ue*pt+ie]);return Rt}static rowVector(ft){let pt=new Le(1,ft.length);for(let J=0;J<ft.length;J++)pt.set(0,J,ft[J]);return pt}static columnVector(ft){let pt=new Le(ft.length,1);for(let J=0;J<ft.length;J++)pt.set(J,0,ft[J]);return pt}static zeros(ft,pt){return new Le(ft,pt)}static ones(ft,pt){return new Le(ft,pt).fill(1)}static rand(ft,pt,J={}){if(typeof J!="object")throw new TypeError("options must be an object");const{random:xt=Math.random}=J;let Rt=new Le(ft,pt);for(let ue=0;ue<ft;ue++)for(let ie=0;ie<pt;ie++)Rt.set(ue,ie,xt());return Rt}static randInt(ft,pt,J={}){if(typeof J!="object")throw new TypeError("options must be an object");const{min:xt=0,max:Rt=1e3,random:ue=Math.random}=J;if(!Number.isInteger(xt))throw new TypeError("min must be an integer");if(!Number.isInteger(Rt))throw new TypeError("max must be an integer");if(xt>=Rt)throw new RangeError("min must be smaller than max");let ie=Rt-xt,be=new Le(ft,pt);for(let ce=0;ce<ft;ce++)for(let We=0;We<pt;We++){let Ne=xt+Math.round(ue()*ie);be.set(ce,We,Ne)}return be}static eye(ft,pt,J){pt===void 0&&(pt=ft),J===void 0&&(J=1);let xt=Math.min(ft,pt),Rt=this.zeros(ft,pt);for(let ue=0;ue<xt;ue++)Rt.set(ue,ue,J);return Rt}static diag(ft,pt,J){let xt=ft.length;pt===void 0&&(pt=xt),J===void 0&&(J=pt);let Rt=Math.min(xt,pt,J),ue=this.zeros(pt,J);for(let ie=0;ie<Rt;ie++)ue.set(ie,ie,ft[ie]);return ue}static min(ft,pt){ft=this.checkMatrix(ft),pt=this.checkMatrix(pt);let J=ft.rows,xt=ft.columns,Rt=new Le(J,xt);for(let ue=0;ue<J;ue++)for(let ie=0;ie<xt;ie++)Rt.set(ue,ie,Math.min(ft.get(ue,ie),pt.get(ue,ie)));return Rt}static max(ft,pt){ft=this.checkMatrix(ft),pt=this.checkMatrix(pt);let J=ft.rows,xt=ft.columns,Rt=new this(J,xt);for(let ue=0;ue<J;ue++)for(let ie=0;ie<xt;ie++)Rt.set(ue,ie,Math.max(ft.get(ue,ie),pt.get(ue,ie)));return Rt}static checkMatrix(ft){return he.isMatrix(ft)?ft:new Le(ft)}static isMatrix(ft){return ft!=null&&ft.klass==="Matrix"}get size(){return this.rows*this.columns}apply(ft){if(typeof ft!="function")throw new TypeError("callback must be a function");for(let pt=0;pt<this.rows;pt++)for(let J=0;J<this.columns;J++)ft.call(this,pt,J);return this}to1DArray(){let ft=[];for(let pt=0;pt<this.rows;pt++)for(let J=0;J<this.columns;J++)ft.push(this.get(pt,J));return ft}to2DArray(){let ft=[];for(let pt=0;pt<this.rows;pt++){ft.push([]);for(let J=0;J<this.columns;J++)ft[pt].push(this.get(pt,J))}return ft}toJSON(){return this.to2DArray()}isRowVector(){return this.rows===1}isColumnVector(){return this.columns===1}isVector(){return this.rows===1||this.columns===1}isSquare(){return this.rows===this.columns}isEmpty(){return this.rows===0||this.columns===0}isSymmetric(){if(this.isSquare()){for(let ft=0;ft<this.rows;ft++)for(let pt=0;pt<=ft;pt++)if(this.get(ft,pt)!==this.get(pt,ft))return!1;return!0}return!1}isEchelonForm(){let ft=0,pt=0,J=-1,xt=!0,Rt=!1;for(;ft<this.rows&&xt;){for(pt=0,Rt=!1;pt<this.columns&&Rt===!1;)this.get(ft,pt)===0?pt++:this.get(ft,pt)===1&&pt>J?(Rt=!0,J=pt):(xt=!1,Rt=!0);ft++}return xt}isReducedEchelonForm(){let ft=0,pt=0,J=-1,xt=!0,Rt=!1;for(;ft<this.rows&&xt;){for(pt=0,Rt=!1;pt<this.columns&&Rt===!1;)this.get(ft,pt)===0?pt++:this.get(ft,pt)===1&&pt>J?(Rt=!0,J=pt):(xt=!1,Rt=!0);for(let ue=pt+1;ue<this.rows;ue++)this.get(ft,ue)!==0&&(xt=!1);ft++}return xt}echelonForm(){let ft=this.clone(),pt=0,J=0;for(;pt<ft.rows&&J<ft.columns;){let xt=pt;for(let Rt=pt;Rt<ft.rows;Rt++)ft.get(Rt,J)>ft.get(xt,J)&&(xt=Rt);if(ft.get(xt,J)===0)J++;else{ft.swapRows(pt,xt);let Rt=ft.get(pt,J);for(let ue=J;ue<ft.columns;ue++)ft.set(pt,ue,ft.get(pt,ue)/Rt);for(let ue=pt+1;ue<ft.rows;ue++){let ie=ft.get(ue,J)/ft.get(pt,J);ft.set(ue,J,0);for(let be=J+1;be<ft.columns;be++)ft.set(ue,be,ft.get(ue,be)-ft.get(pt,be)*ie)}pt++,J++}}return ft}reducedEchelonForm(){let ft=this.echelonForm(),pt=ft.columns,J=ft.rows,xt=J-1;for(;xt>=0;)if(ft.maxRow(xt)===0)xt--;else{let Rt=0,ue=!1;for(;Rt<J&&ue===!1;)ft.get(xt,Rt)===1?ue=!0:Rt++;for(let ie=0;ie<xt;ie++){let be=ft.get(ie,Rt);for(let ce=Rt;ce<pt;ce++){let We=ft.get(ie,ce)-be*ft.get(xt,ce);ft.set(ie,ce,We)}}xt--}return ft}set(){throw new Error("set method is unimplemented")}get(){throw new Error("get method is unimplemented")}repeat(ft={}){if(typeof ft!="object")throw new TypeError("options must be an object");const{rows:pt=1,columns:J=1}=ft;if(!Number.isInteger(pt)||pt<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(J)||J<=0)throw new TypeError("columns must be a positive integer");let xt=new Le(this.rows*pt,this.columns*J);for(let Rt=0;Rt<pt;Rt++)for(let ue=0;ue<J;ue++)xt.setSubMatrix(this,this.rows*Rt,this.columns*ue);return xt}fill(ft){for(let pt=0;pt<this.rows;pt++)for(let J=0;J<this.columns;J++)this.set(pt,J,ft);return this}neg(){return this.mulS(-1)}getRow(ft){B(this,ft);let pt=[];for(let J=0;J<this.columns;J++)pt.push(this.get(ft,J));return pt}getRowVector(ft){return Le.rowVector(this.getRow(ft))}setRow(ft,pt){B(this,ft),pt=W(this,pt);for(let J=0;J<this.columns;J++)this.set(ft,J,pt[J]);return this}swapRows(ft,pt){B(this,ft),B(this,pt);for(let J=0;J<this.columns;J++){let xt=this.get(ft,J);this.set(ft,J,this.get(pt,J)),this.set(pt,J,xt)}return this}getColumn(ft){z(this,ft);let pt=[];for(let J=0;J<this.rows;J++)pt.push(this.get(J,ft));return pt}getColumnVector(ft){return Le.columnVector(this.getColumn(ft))}setColumn(ft,pt){z(this,ft),pt=$(this,pt);for(let J=0;J<this.rows;J++)this.set(J,ft,pt[J]);return this}swapColumns(ft,pt){z(this,ft),z(this,pt);for(let J=0;J<this.rows;J++){let xt=this.get(J,ft);this.set(J,ft,this.get(J,pt)),this.set(J,pt,xt)}return this}addRowVector(ft){ft=W(this,ft);for(let pt=0;pt<this.rows;pt++)for(let J=0;J<this.columns;J++)this.set(pt,J,this.get(pt,J)+ft[J]);return this}subRowVector(ft){ft=W(this,ft);for(let pt=0;pt<this.rows;pt++)for(let J=0;J<this.columns;J++)this.set(pt,J,this.get(pt,J)-ft[J]);return this}mulRowVector(ft){ft=W(this,ft);for(let pt=0;pt<this.rows;pt++)for(let J=0;J<this.columns;J++)this.set(pt,J,this.get(pt,J)*ft[J]);return this}divRowVector(ft){ft=W(this,ft);for(let pt=0;pt<this.rows;pt++)for(let J=0;J<this.columns;J++)this.set(pt,J,this.get(pt,J)/ft[J]);return this}addColumnVector(ft){ft=$(this,ft);for(let pt=0;pt<this.rows;pt++)for(let J=0;J<this.columns;J++)this.set(pt,J,this.get(pt,J)+ft[pt]);return this}subColumnVector(ft){ft=$(this,ft);for(let pt=0;pt<this.rows;pt++)for(let J=0;J<this.columns;J++)this.set(pt,J,this.get(pt,J)-ft[pt]);return this}mulColumnVector(ft){ft=$(this,ft);for(let pt=0;pt<this.rows;pt++)for(let J=0;J<this.columns;J++)this.set(pt,J,this.get(pt,J)*ft[pt]);return this}divColumnVector(ft){ft=$(this,ft);for(let pt=0;pt<this.rows;pt++)for(let J=0;J<this.columns;J++)this.set(pt,J,this.get(pt,J)/ft[pt]);return this}mulRow(ft,pt){B(this,ft);for(let J=0;J<this.columns;J++)this.set(ft,J,this.get(ft,J)*pt);return this}mulColumn(ft,pt){z(this,ft);for(let J=0;J<this.rows;J++)this.set(J,ft,this.get(J,ft)*pt);return this}max(){if(this.isEmpty())return NaN;let ft=this.get(0,0);for(let pt=0;pt<this.rows;pt++)for(let J=0;J<this.columns;J++)this.get(pt,J)>ft&&(ft=this.get(pt,J));return ft}maxIndex(){nt(this);let ft=this.get(0,0),pt=[0,0];for(let J=0;J<this.rows;J++)for(let xt=0;xt<this.columns;xt++)this.get(J,xt)>ft&&(ft=this.get(J,xt),pt[0]=J,pt[1]=xt);return pt}min(){if(this.isEmpty())return NaN;let ft=this.get(0,0);for(let pt=0;pt<this.rows;pt++)for(let J=0;J<this.columns;J++)this.get(pt,J)<ft&&(ft=this.get(pt,J));return ft}minIndex(){nt(this);let ft=this.get(0,0),pt=[0,0];for(let J=0;J<this.rows;J++)for(let xt=0;xt<this.columns;xt++)this.get(J,xt)<ft&&(ft=this.get(J,xt),pt[0]=J,pt[1]=xt);return pt}maxRow(ft){if(B(this,ft),this.isEmpty())return NaN;let pt=this.get(ft,0);for(let J=1;J<this.columns;J++)this.get(ft,J)>pt&&(pt=this.get(ft,J));return pt}maxRowIndex(ft){B(this,ft),nt(this);let pt=this.get(ft,0),J=[ft,0];for(let xt=1;xt<this.columns;xt++)this.get(ft,xt)>pt&&(pt=this.get(ft,xt),J[1]=xt);return J}minRow(ft){if(B(this,ft),this.isEmpty())return NaN;let pt=this.get(ft,0);for(let J=1;J<this.columns;J++)this.get(ft,J)<pt&&(pt=this.get(ft,J));return pt}minRowIndex(ft){B(this,ft),nt(this);let pt=this.get(ft,0),J=[ft,0];for(let xt=1;xt<this.columns;xt++)this.get(ft,xt)<pt&&(pt=this.get(ft,xt),J[1]=xt);return J}maxColumn(ft){if(z(this,ft),this.isEmpty())return NaN;let pt=this.get(0,ft);for(let J=1;J<this.rows;J++)this.get(J,ft)>pt&&(pt=this.get(J,ft));return pt}maxColumnIndex(ft){z(this,ft),nt(this);let pt=this.get(0,ft),J=[0,ft];for(let xt=1;xt<this.rows;xt++)this.get(xt,ft)>pt&&(pt=this.get(xt,ft),J[0]=xt);return J}minColumn(ft){if(z(this,ft),this.isEmpty())return NaN;let pt=this.get(0,ft);for(let J=1;J<this.rows;J++)this.get(J,ft)<pt&&(pt=this.get(J,ft));return pt}minColumnIndex(ft){z(this,ft),nt(this);let pt=this.get(0,ft),J=[0,ft];for(let xt=1;xt<this.rows;xt++)this.get(xt,ft)<pt&&(pt=this.get(xt,ft),J[0]=xt);return J}diag(){let ft=Math.min(this.rows,this.columns),pt=[];for(let J=0;J<ft;J++)pt.push(this.get(J,J));return pt}norm(ft="frobenius"){let pt=0;if(ft==="max")return this.max();if(ft==="frobenius"){for(let J=0;J<this.rows;J++)for(let xt=0;xt<this.columns;xt++)pt=pt+this.get(J,xt)*this.get(J,xt);return Math.sqrt(pt)}else throw new RangeError(`unknown norm type: ${ft}`)}cumulativeSum(){let ft=0;for(let pt=0;pt<this.rows;pt++)for(let J=0;J<this.columns;J++)ft+=this.get(pt,J),this.set(pt,J,ft);return this}dot(ft){he.isMatrix(ft)&&(ft=ft.to1DArray());let pt=this.to1DArray();if(pt.length!==ft.length)throw new RangeError("vectors do not have the same size");let J=0;for(let xt=0;xt<pt.length;xt++)J+=pt[xt]*ft[xt];return J}mmul(ft){ft=Le.checkMatrix(ft);let pt=this.rows,J=this.columns,xt=ft.columns,Rt=new Le(pt,xt),ue=new Float64Array(J);for(let ie=0;ie<xt;ie++){for(let be=0;be<J;be++)ue[be]=ft.get(be,ie);for(let be=0;be<pt;be++){let ce=0;for(let We=0;We<J;We++)ce+=this.get(be,We)*ue[We];Rt.set(be,ie,ce)}}return Rt}strassen2x2(ft){ft=Le.checkMatrix(ft);let pt=new Le(2,2);const J=this.get(0,0),xt=ft.get(0,0),Rt=this.get(0,1),ue=ft.get(0,1),ie=this.get(1,0),be=ft.get(1,0),ce=this.get(1,1),We=ft.get(1,1),Ne=(J+ce)*(xt+We),Mr=(ie+ce)*xt,sn=J*(ue-We),hr=ce*(be-xt),cn=(J+Rt)*We,kn=(ie-J)*(xt+ue),me=(Rt-ce)*(be+We),Tn=Ne+hr-cn+me,Zn=sn+cn,Kn=Mr+hr,Or=Ne-Mr+sn+kn;return pt.set(0,0,Tn),pt.set(0,1,Zn),pt.set(1,0,Kn),pt.set(1,1,Or),pt}strassen3x3(ft){ft=Le.checkMatrix(ft);let pt=new Le(3,3);const J=this.get(0,0),xt=this.get(0,1),Rt=this.get(0,2),ue=this.get(1,0),ie=this.get(1,1),be=this.get(1,2),ce=this.get(2,0),We=this.get(2,1),Ne=this.get(2,2),Mr=ft.get(0,0),sn=ft.get(0,1),hr=ft.get(0,2),cn=ft.get(1,0),kn=ft.get(1,1),me=ft.get(1,2),Tn=ft.get(2,0),Zn=ft.get(2,1),Kn=ft.get(2,2),Or=(J+xt+Rt-ue-ie-We-Ne)*kn,wn=(J-ue)*(-sn+kn),Cr=ie*(-Mr+sn+cn-kn-me-Tn+Kn),xr=(-J+ue+ie)*(Mr-sn+kn),_n=(ue+ie)*(-Mr+sn),Mi=J*Mr,or=(-J+ce+We)*(Mr-hr+me),Bn=(-J+ce)*(hr-me),ti=(ce+We)*(-Mr+hr),Vn=(J+xt+Rt-ie-be-ce-We)*me,qi=We*(-Mr+hr+cn-kn-me-Tn+Zn),Rn=(-Rt+We+Ne)*(kn+Tn-Zn),fa=(Rt-Ne)*(kn-Zn),Ci=Rt*Tn,ga=(We+Ne)*(-Tn+Zn),da=(-Rt+ie+be)*(me+Tn-Kn),zo=(Rt-be)*(me-Kn),Po=(ie+be)*(-Tn+Kn),au=xt*cn,Yi=be*Zn,Ha=ue*hr,po=ce*sn,Za=Ne*Kn,ho=Mi+Ci+au,za=Or+xr+_n+Mi+Rn+Ci+ga,ol=Mi+or+ti+Vn+Ci+da+Po,nf=wn+Cr+xr+Mi+Ci+da+zo,$l=wn+xr+_n+Mi+Yi,ih=Ci+da+zo+Po+Ha,Al=Mi+or+Bn+qi+Rn+fa+Ci,Ic=Rn+fa+Ci+ga+po,ah=Mi+or+Bn+ti+Za;return pt.set(0,0,ho),pt.set(0,1,za),pt.set(0,2,ol),pt.set(1,0,nf),pt.set(1,1,$l),pt.set(1,2,ih),pt.set(2,0,Al),pt.set(2,1,Ic),pt.set(2,2,ah),pt}mmulStrassen(ft){ft=Le.checkMatrix(ft);let pt=this.clone(),J=pt.rows,xt=pt.columns,Rt=ft.rows,ue=ft.columns;xt!==Rt&&console.warn(`Multiplying ${J} x ${xt} and ${Rt} x ${ue} matrix: dimensions do not match.`);function ie(Ne,Mr,sn){let hr=Ne.rows,cn=Ne.columns;if(hr===Mr&&cn===sn)return Ne;{let kn=he.zeros(Mr,sn);return kn=kn.setSubMatrix(Ne,0,0),kn}}let be=Math.max(J,Rt),ce=Math.max(xt,ue);pt=ie(pt,be,ce),ft=ie(ft,be,ce);function We(Ne,Mr,sn,hr){if(sn<=512||hr<=512)return Ne.mmul(Mr);sn%2===1&&hr%2===1?(Ne=ie(Ne,sn+1,hr+1),Mr=ie(Mr,sn+1,hr+1)):sn%2===1?(Ne=ie(Ne,sn+1,hr),Mr=ie(Mr,sn+1,hr)):hr%2===1&&(Ne=ie(Ne,sn,hr+1),Mr=ie(Mr,sn,hr+1));let cn=parseInt(Ne.rows/2,10),kn=parseInt(Ne.columns/2,10),me=Ne.subMatrix(0,cn-1,0,kn-1),Tn=Mr.subMatrix(0,cn-1,0,kn-1),Zn=Ne.subMatrix(0,cn-1,kn,Ne.columns-1),Kn=Mr.subMatrix(0,cn-1,kn,Mr.columns-1),Or=Ne.subMatrix(cn,Ne.rows-1,0,kn-1),wn=Mr.subMatrix(cn,Mr.rows-1,0,kn-1),Cr=Ne.subMatrix(cn,Ne.rows-1,kn,Ne.columns-1),xr=Mr.subMatrix(cn,Mr.rows-1,kn,Mr.columns-1),_n=We(he.add(me,Cr),he.add(Tn,xr),cn,kn),Mi=We(he.add(Or,Cr),Tn,cn,kn),or=We(me,he.sub(Kn,xr),cn,kn),Bn=We(Cr,he.sub(wn,Tn),cn,kn),ti=We(he.add(me,Zn),xr,cn,kn),Vn=We(he.sub(Or,me),he.add(Tn,Kn),cn,kn),qi=We(he.sub(Zn,Cr),he.add(wn,xr),cn,kn),Rn=he.add(_n,Bn);Rn.sub(ti),Rn.add(qi);let fa=he.add(or,ti),Ci=he.add(Mi,Bn),ga=he.sub(_n,Mi);ga.add(or),ga.add(Vn);let da=he.zeros(2*Rn.rows,2*Rn.columns);return da=da.setSubMatrix(Rn,0,0),da=da.setSubMatrix(fa,Rn.rows,0),da=da.setSubMatrix(Ci,0,Rn.columns),da=da.setSubMatrix(ga,Rn.rows,Rn.columns),da.subMatrix(0,sn-1,0,hr-1)}return We(pt,ft,be,ce)}scaleRows(ft={}){if(typeof ft!="object")throw new TypeError("options must be an object");const{min:pt=0,max:J=1}=ft;if(!Number.isFinite(pt))throw new TypeError("min must be a number");if(!Number.isFinite(J))throw new TypeError("max must be a number");if(pt>=J)throw new RangeError("min must be smaller than max");let xt=new Le(this.rows,this.columns);for(let Rt=0;Rt<this.rows;Rt++){const ue=this.getRow(Rt);ue.length>0&&O(ue,{min:pt,max:J,output:ue}),xt.setRow(Rt,ue)}return xt}scaleColumns(ft={}){if(typeof ft!="object")throw new TypeError("options must be an object");const{min:pt=0,max:J=1}=ft;if(!Number.isFinite(pt))throw new TypeError("min must be a number");if(!Number.isFinite(J))throw new TypeError("max must be a number");if(pt>=J)throw new RangeError("min must be smaller than max");let xt=new Le(this.rows,this.columns);for(let Rt=0;Rt<this.columns;Rt++){const ue=this.getColumn(Rt);ue.length&&O(ue,{min:pt,max:J,output:ue}),xt.setColumn(Rt,ue)}return xt}flipRows(){const ft=Math.ceil(this.columns/2);for(let pt=0;pt<this.rows;pt++)for(let J=0;J<ft;J++){let xt=this.get(pt,J),Rt=this.get(pt,this.columns-1-J);this.set(pt,J,Rt),this.set(pt,this.columns-1-J,xt)}return this}flipColumns(){const ft=Math.ceil(this.rows/2);for(let pt=0;pt<this.columns;pt++)for(let J=0;J<ft;J++){let xt=this.get(J,pt),Rt=this.get(this.rows-1-J,pt);this.set(J,pt,Rt),this.set(this.rows-1-J,pt,xt)}return this}kroneckerProduct(ft){ft=Le.checkMatrix(ft);let pt=this.rows,J=this.columns,xt=ft.rows,Rt=ft.columns,ue=new Le(pt*xt,J*Rt);for(let ie=0;ie<pt;ie++)for(let be=0;be<J;be++)for(let ce=0;ce<xt;ce++)for(let We=0;We<Rt;We++)ue.set(xt*ie+ce,Rt*be+We,this.get(ie,be)*ft.get(ce,We));return ue}kroneckerSum(ft){if(ft=Le.checkMatrix(ft),!this.isSquare()||!ft.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");let pt=this.rows,J=ft.rows,xt=this.kroneckerProduct(Le.eye(J,J)),Rt=Le.eye(pt,pt).kroneckerProduct(ft);return xt.add(Rt)}transpose(){let ft=new Le(this.columns,this.rows);for(let pt=0;pt<this.rows;pt++)for(let J=0;J<this.columns;J++)ft.set(J,pt,this.get(pt,J));return ft}sortRows(ft=ke){for(let pt=0;pt<this.rows;pt++)this.setRow(pt,this.getRow(pt).sort(ft));return this}sortColumns(ft=ke){for(let pt=0;pt<this.columns;pt++)this.setColumn(pt,this.getColumn(pt).sort(ft));return this}subMatrix(ft,pt,J,xt){st(this,ft,pt,J,xt);let Rt=new Le(pt-ft+1,xt-J+1);for(let ue=ft;ue<=pt;ue++)for(let ie=J;ie<=xt;ie++)Rt.set(ue-ft,ie-J,this.get(ue,ie));return Rt}subMatrixRow(ft,pt,J){if(pt===void 0&&(pt=0),J===void 0&&(J=this.columns-1),pt>J||pt<0||pt>=this.columns||J<0||J>=this.columns)throw new RangeError("Argument out of range");let xt=new Le(ft.length,J-pt+1);for(let Rt=0;Rt<ft.length;Rt++)for(let ue=pt;ue<=J;ue++){if(ft[Rt]<0||ft[Rt]>=this.rows)throw new RangeError(`Row index out of range: ${ft[Rt]}`);xt.set(Rt,ue-pt,this.get(ft[Rt],ue))}return xt}subMatrixColumn(ft,pt,J){if(pt===void 0&&(pt=0),J===void 0&&(J=this.rows-1),pt>J||pt<0||pt>=this.rows||J<0||J>=this.rows)throw new RangeError("Argument out of range");let xt=new Le(J-pt+1,ft.length);for(let Rt=0;Rt<ft.length;Rt++)for(let ue=pt;ue<=J;ue++){if(ft[Rt]<0||ft[Rt]>=this.columns)throw new RangeError(`Column index out of range: ${ft[Rt]}`);xt.set(ue-pt,Rt,this.get(ue,ft[Rt]))}return xt}setSubMatrix(ft,pt,J){if(ft=Le.checkMatrix(ft),ft.isEmpty())return this;let xt=pt+ft.rows-1,Rt=J+ft.columns-1;st(this,pt,xt,J,Rt);for(let ue=0;ue<ft.rows;ue++)for(let ie=0;ie<ft.columns;ie++)this.set(pt+ue,J+ie,ft.get(ue,ie));return this}selection(ft,pt){K(this,ft),lt(this,pt);let J=new Le(ft.length,pt.length);for(let xt=0;xt<ft.length;xt++){let Rt=ft[xt];for(let ue=0;ue<pt.length;ue++){let ie=pt[ue];J.set(xt,ue,this.get(Rt,ie))}}return J}trace(){let ft=Math.min(this.rows,this.columns),pt=0;for(let J=0;J<ft;J++)pt+=this.get(J,J);return pt}clone(){let ft=new Le(this.rows,this.columns);for(let pt=0;pt<this.rows;pt++)for(let J=0;J<this.columns;J++)ft.set(pt,J,this.get(pt,J));return ft}sum(ft){switch(ft){case"row":return ct(this);case"column":return bt(this);case void 0:return _t(this);default:throw new Error(`invalid option: ${ft}`)}}product(ft){switch(ft){case"row":return St(this);case"column":return At(this);case void 0:return vt(this);default:throw new Error(`invalid option: ${ft}`)}}mean(ft){const pt=this.sum(ft);switch(ft){case"row":{for(let J=0;J<this.rows;J++)pt[J]/=this.columns;return pt}case"column":{for(let J=0;J<this.columns;J++)pt[J]/=this.rows;return pt}case void 0:return pt/this.size;default:throw new Error(`invalid option: ${ft}`)}}variance(ft,pt={}){if(typeof ft=="object"&&(pt=ft,ft=void 0),typeof pt!="object")throw new TypeError("options must be an object");const{unbiased:J=!0,mean:xt=this.mean(ft)}=pt;if(typeof J!="boolean")throw new TypeError("unbiased must be a boolean");switch(ft){case"row":{if(!b(xt))throw new TypeError("mean must be an array");return dt(this,J,xt)}case"column":{if(!b(xt))throw new TypeError("mean must be an array");return gt(this,J,xt)}case void 0:{if(typeof xt!="number")throw new TypeError("mean must be a number");return Ct(this,J,xt)}default:throw new Error(`invalid option: ${ft}`)}}standardDeviation(ft,pt){typeof ft=="object"&&(pt=ft,ft=void 0);const J=this.variance(ft,pt);if(ft===void 0)return Math.sqrt(J);for(let xt=0;xt<J.length;xt++)J[xt]=Math.sqrt(J[xt]);return J}center(ft,pt={}){if(typeof ft=="object"&&(pt=ft,ft=void 0),typeof pt!="object")throw new TypeError("options must be an object");const{center:J=this.mean(ft)}=pt;switch(ft){case"row":{if(!b(J))throw new TypeError("center must be an array");return Et(this,J),this}case"column":{if(!b(J))throw new TypeError("center must be an array");return Tt(this,J),this}case void 0:{if(typeof J!="number")throw new TypeError("center must be a number");return ot(this,J),this}default:throw new Error(`invalid option: ${ft}`)}}scale(ft,pt={}){if(typeof ft=="object"&&(pt=ft,ft=void 0),typeof pt!="object")throw new TypeError("options must be an object");let J=pt.scale;switch(ft){case"row":{if(J===void 0)J=Mt(this);else if(!b(J))throw new TypeError("scale must be an array");return Wt(this,J),this}case"column":{if(J===void 0)J=jt(this);else if(!b(J))throw new TypeError("scale must be an array");return qt(this,J),this}case void 0:{if(J===void 0)J=se(this);else if(typeof J!="number")throw new TypeError("scale must be a number");return ae(this,J),this}default:throw new Error(`invalid option: ${ft}`)}}toString(ft){return A(this,ft)}}he.prototype.klass="Matrix",typeof Symbol!="undefined"&&(he.prototype[Symbol.for("nodejs.util.inspect.custom")]=M);function ke(Ut,ft){return Ut-ft}he.random=he.rand,he.randomInt=he.randInt,he.diagonal=he.diag,he.prototype.diagonal=he.prototype.diag,he.identity=he.eye,he.prototype.negate=he.prototype.neg,he.prototype.tensorProduct=he.prototype.kroneckerProduct;class Le extends he{constructor(ft,pt){super();if(Le.isMatrix(ft))return ft.clone();if(Number.isInteger(ft)&&ft>=0)if(this.data=[],Number.isInteger(pt)&&pt>=0)for(let J=0;J<ft;J++)this.data.push(new Float64Array(pt));else throw new TypeError("nColumns must be a positive integer");else if(b(ft)){const J=ft;if(ft=J.length,pt=ft?J[0].length:0,typeof pt!="number")throw new TypeError("Data must be a 2D array with at least one element");this.data=[];for(let xt=0;xt<ft;xt++){if(J[xt].length!==pt)throw new RangeError("Inconsistent array dimensions");this.data.push(Float64Array.from(J[xt]))}}else throw new TypeError("First argument must be a positive number or an array");this.rows=ft,this.columns=pt}set(ft,pt,J){return this.data[ft][pt]=J,this}get(ft,pt){return this.data[ft][pt]}removeRow(ft){return B(this,ft),this.data.splice(ft,1),this.rows-=1,this}addRow(ft,pt){return pt===void 0&&(pt=ft,ft=this.rows),B(this,ft,!0),pt=Float64Array.from(W(this,pt)),this.data.splice(ft,0,pt),this.rows+=1,this}removeColumn(ft){z(this,ft);for(let pt=0;pt<this.rows;pt++){const J=new Float64Array(this.columns-1);for(let xt=0;xt<ft;xt++)J[xt]=this.data[pt][xt];for(let xt=ft+1;xt<this.columns;xt++)J[xt-1]=this.data[pt][xt];this.data[pt]=J}return this.columns-=1,this}addColumn(ft,pt){typeof pt=="undefined"&&(pt=ft,ft=this.columns),z(this,ft,!0),pt=$(this,pt);for(let J=0;J<this.rows;J++){const xt=new Float64Array(this.columns+1);let Rt=0;for(;Rt<ft;Rt++)xt[Rt]=this.data[J][Rt];for(xt[Rt++]=pt[J];Rt<this.columns+1;Rt++)xt[Rt]=this.data[J][Rt-1];this.data[J]=xt}return this.columns+=1,this}}k(he,Le);class rr extends he{constructor(ft,pt,J){super();this.matrix=ft,this.rows=pt,this.columns=J}}class Ee extends rr{constructor(ft,pt){z(ft,pt);super(ft,ft.rows,1);this.column=pt}set(ft,pt,J){return this.matrix.set(ft,this.column,J),this}get(ft){return this.matrix.get(ft,this.column)}}class ge extends rr{constructor(ft,pt){lt(ft,pt);super(ft,ft.rows,pt.length);this.columnIndices=pt}set(ft,pt,J){return this.matrix.set(ft,this.columnIndices[pt],J),this}get(ft,pt){return this.matrix.get(ft,this.columnIndices[pt])}}class we extends rr{constructor(ft){super(ft,ft.rows,ft.columns)}set(ft,pt,J){return this.matrix.set(ft,this.columns-pt-1,J),this}get(ft,pt){return this.matrix.get(ft,this.columns-pt-1)}}class Ce extends rr{constructor(ft){super(ft,ft.rows,ft.columns)}set(ft,pt,J){return this.matrix.set(this.rows-ft-1,pt,J),this}get(ft,pt){return this.matrix.get(this.rows-ft-1,pt)}}class ye extends rr{constructor(ft,pt){B(ft,pt);super(ft,1,ft.columns);this.row=pt}set(ft,pt,J){return this.matrix.set(this.row,pt,J),this}get(ft,pt){return this.matrix.get(this.row,pt)}}class Gt extends rr{constructor(ft,pt){K(ft,pt);super(ft,pt.length,ft.columns);this.rowIndices=pt}set(ft,pt,J){return this.matrix.set(this.rowIndices[ft],pt,J),this}get(ft,pt){return this.matrix.get(this.rowIndices[ft],pt)}}class Xt extends rr{constructor(ft,pt,J){K(ft,pt),lt(ft,J);super(ft,pt.length,J.length);this.rowIndices=pt,this.columnIndices=J}set(ft,pt,J){return this.matrix.set(this.rowIndices[ft],this.columnIndices[pt],J),this}get(ft,pt){return this.matrix.get(this.rowIndices[ft],this.columnIndices[pt])}}class Kt extends rr{constructor(ft,pt,J,xt,Rt){st(ft,pt,J,xt,Rt);super(ft,J-pt+1,Rt-xt+1);this.startRow=pt,this.startColumn=xt}set(ft,pt,J){return this.matrix.set(this.startRow+ft,this.startColumn+pt,J),this}get(ft,pt){return this.matrix.get(this.startRow+ft,this.startColumn+pt)}}class ze extends rr{constructor(ft){super(ft,ft.columns,ft.rows)}set(ft,pt,J){return this.matrix.set(pt,ft,J),this}get(ft,pt){return this.matrix.get(pt,ft)}}class ur extends he{constructor(ft,pt={}){const{rows:J=1}=pt;if(ft.length%J!==0)throw new Error("the data length is not divisible by the number of rows");super();this.rows=J,this.columns=ft.length/J,this.data=ft}set(ft,pt,J){let xt=this._calculateIndex(ft,pt);return this.data[xt]=J,this}get(ft,pt){let J=this._calculateIndex(ft,pt);return this.data[J]}_calculateIndex(ft,pt){return ft*this.columns+pt}}class tr extends he{constructor(ft){super();this.data=ft,this.rows=ft.length,this.columns=ft[0].length}set(ft,pt,J){return this.data[ft][pt]=J,this}get(ft,pt){return this.data[ft][pt]}}function re(Ut,ft){if(b(Ut))return Ut[0]&&b(Ut[0])?new tr(Ut):new ur(Ut,ft);throw new Error("the argument is not an array")}class Qr{constructor(ft){ft=tr.checkMatrix(ft);let pt=ft.clone(),J=pt.rows,xt=pt.columns,Rt=new Float64Array(J),ue=1,ie,be,ce,We,Ne,Mr,sn,hr,cn;for(ie=0;ie<J;ie++)Rt[ie]=ie;for(hr=new Float64Array(J),be=0;be<xt;be++){for(ie=0;ie<J;ie++)hr[ie]=pt.get(ie,be);for(ie=0;ie<J;ie++){for(cn=Math.min(ie,be),Ne=0,ce=0;ce<cn;ce++)Ne+=pt.get(ie,ce)*hr[ce];hr[ie]-=Ne,pt.set(ie,be,hr[ie])}for(We=be,ie=be+1;ie<J;ie++)Math.abs(hr[ie])>Math.abs(hr[We])&&(We=ie);if(We!==be){for(ce=0;ce<xt;ce++)Mr=pt.get(We,ce),pt.set(We,ce,pt.get(be,ce)),pt.set(be,ce,Mr);sn=Rt[We],Rt[We]=Rt[be],Rt[be]=sn,ue=-ue}if(be<J&&pt.get(be,be)!==0)for(ie=be+1;ie<J;ie++)pt.set(ie,be,pt.get(ie,be)/pt.get(be,be))}this.LU=pt,this.pivotVector=Rt,this.pivotSign=ue}isSingular(){let ft=this.LU,pt=ft.columns;for(let J=0;J<pt;J++)if(ft.get(J,J)===0)return!0;return!1}solve(ft){ft=Le.checkMatrix(ft);let pt=this.LU;if(pt.rows!==ft.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");let xt=ft.columns,Rt=ft.subMatrixRow(this.pivotVector,0,xt-1),ue=pt.columns,ie,be,ce;for(ce=0;ce<ue;ce++)for(ie=ce+1;ie<ue;ie++)for(be=0;be<xt;be++)Rt.set(ie,be,Rt.get(ie,be)-Rt.get(ce,be)*pt.get(ie,ce));for(ce=ue-1;ce>=0;ce--){for(be=0;be<xt;be++)Rt.set(ce,be,Rt.get(ce,be)/pt.get(ce,ce));for(ie=0;ie<ce;ie++)for(be=0;be<xt;be++)Rt.set(ie,be,Rt.get(ie,be)-Rt.get(ce,be)*pt.get(ie,ce))}return Rt}get determinant(){let ft=this.LU;if(!ft.isSquare())throw new Error("Matrix must be square");let pt=this.pivotSign,J=ft.columns;for(let xt=0;xt<J;xt++)pt*=ft.get(xt,xt);return pt}get lowerTriangularMatrix(){let ft=this.LU,pt=ft.rows,J=ft.columns,xt=new Le(pt,J);for(let Rt=0;Rt<pt;Rt++)for(let ue=0;ue<J;ue++)Rt>ue?xt.set(Rt,ue,ft.get(Rt,ue)):Rt===ue?xt.set(Rt,ue,1):xt.set(Rt,ue,0);return xt}get upperTriangularMatrix(){let ft=this.LU,pt=ft.rows,J=ft.columns,xt=new Le(pt,J);for(let Rt=0;Rt<pt;Rt++)for(let ue=0;ue<J;ue++)Rt<=ue?xt.set(Rt,ue,ft.get(Rt,ue)):xt.set(Rt,ue,0);return xt}get pivotPermutationVector(){return Array.from(this.pivotVector)}}function Ir(Ut,ft){let pt=0;return Math.abs(Ut)>Math.abs(ft)?(pt=ft/Ut,Math.abs(Ut)*Math.sqrt(1+pt*pt)):ft!==0?(pt=Ut/ft,Math.abs(ft)*Math.sqrt(1+pt*pt)):0}class gn{constructor(ft){ft=tr.checkMatrix(ft);let pt=ft.clone(),J=ft.rows,xt=ft.columns,Rt=new Float64Array(xt),ue,ie,be,ce;for(be=0;be<xt;be++){let We=0;for(ue=be;ue<J;ue++)We=Ir(We,pt.get(ue,be));if(We!==0){for(pt.get(be,be)<0&&(We=-We),ue=be;ue<J;ue++)pt.set(ue,be,pt.get(ue,be)/We);for(pt.set(be,be,pt.get(be,be)+1),ie=be+1;ie<xt;ie++){for(ce=0,ue=be;ue<J;ue++)ce+=pt.get(ue,be)*pt.get(ue,ie);for(ce=-ce/pt.get(be,be),ue=be;ue<J;ue++)pt.set(ue,ie,pt.get(ue,ie)+ce*pt.get(ue,be))}}Rt[be]=-We}this.QR=pt,this.Rdiag=Rt}solve(ft){ft=Le.checkMatrix(ft);let pt=this.QR,J=pt.rows;if(ft.rows!==J)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");let xt=ft.columns,Rt=ft.clone(),ue=pt.columns,ie,be,ce,We;for(ce=0;ce<ue;ce++)for(be=0;be<xt;be++){for(We=0,ie=ce;ie<J;ie++)We+=pt.get(ie,ce)*Rt.get(ie,be);for(We=-We/pt.get(ce,ce),ie=ce;ie<J;ie++)Rt.set(ie,be,Rt.get(ie,be)+We*pt.get(ie,ce))}for(ce=ue-1;ce>=0;ce--){for(be=0;be<xt;be++)Rt.set(ce,be,Rt.get(ce,be)/this.Rdiag[ce]);for(ie=0;ie<ce;ie++)for(be=0;be<xt;be++)Rt.set(ie,be,Rt.get(ie,be)-Rt.get(ce,be)*pt.get(ie,ce))}return Rt.subMatrix(0,ue-1,0,xt-1)}isFullRank(){let ft=this.QR.columns;for(let pt=0;pt<ft;pt++)if(this.Rdiag[pt]===0)return!1;return!0}get upperTriangularMatrix(){let ft=this.QR,pt=ft.columns,J=new Le(pt,pt),xt,Rt;for(xt=0;xt<pt;xt++)for(Rt=0;Rt<pt;Rt++)xt<Rt?J.set(xt,Rt,ft.get(xt,Rt)):xt===Rt?J.set(xt,Rt,this.Rdiag[xt]):J.set(xt,Rt,0);return J}get orthogonalMatrix(){let ft=this.QR,pt=ft.rows,J=ft.columns,xt=new Le(pt,J),Rt,ue,ie,be;for(ie=J-1;ie>=0;ie--){for(Rt=0;Rt<pt;Rt++)xt.set(Rt,ie,0);for(xt.set(ie,ie,1),ue=ie;ue<J;ue++)if(ft.get(ie,ie)!==0){for(be=0,Rt=ie;Rt<pt;Rt++)be+=ft.get(Rt,ie)*xt.get(Rt,ue);for(be=-be/ft.get(ie,ie),Rt=ie;Rt<pt;Rt++)xt.set(Rt,ue,xt.get(Rt,ue)+be*ft.get(Rt,ie))}}return xt}}class Wn{constructor(ft,pt={}){if(ft=tr.checkMatrix(ft),ft.isEmpty())throw new Error("Matrix must be non-empty");let J=ft.rows,xt=ft.columns;const{computeLeftSingularVectors:Rt=!0,computeRightSingularVectors:ue=!0,autoTranspose:ie=!1}=pt;let be=Boolean(Rt),ce=Boolean(ue),We=!1,Ne;if(J<xt)if(!ie)Ne=ft.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else{Ne=ft.transpose(),J=Ne.rows,xt=Ne.columns,We=!0;let or=be;be=ce,ce=or}else Ne=ft.clone();let Mr=Math.min(J,xt),sn=Math.min(J+1,xt),hr=new Float64Array(sn),cn=new Le(J,Mr),kn=new Le(xt,xt),me=new Float64Array(xt),Tn=new Float64Array(J),Zn=new Float64Array(sn);for(let or=0;or<sn;or++)Zn[or]=or;let Kn=Math.min(J-1,xt),Or=Math.max(0,Math.min(xt-2,J)),wn=Math.max(Kn,Or);for(let or=0;or<wn;or++){if(or<Kn){hr[or]=0;for(let Bn=or;Bn<J;Bn++)hr[or]=Ir(hr[or],Ne.get(Bn,or));if(hr[or]!==0){Ne.get(or,or)<0&&(hr[or]=-hr[or]);for(let Bn=or;Bn<J;Bn++)Ne.set(Bn,or,Ne.get(Bn,or)/hr[or]);Ne.set(or,or,Ne.get(or,or)+1)}hr[or]=-hr[or]}for(let Bn=or+1;Bn<xt;Bn++){if(or<Kn&&hr[or]!==0){let ti=0;for(let Vn=or;Vn<J;Vn++)ti+=Ne.get(Vn,or)*Ne.get(Vn,Bn);ti=-ti/Ne.get(or,or);for(let Vn=or;Vn<J;Vn++)Ne.set(Vn,Bn,Ne.get(Vn,Bn)+ti*Ne.get(Vn,or))}me[Bn]=Ne.get(or,Bn)}if(be&&or<Kn)for(let Bn=or;Bn<J;Bn++)cn.set(Bn,or,Ne.get(Bn,or));if(or<Or){me[or]=0;for(let Bn=or+1;Bn<xt;Bn++)me[or]=Ir(me[or],me[Bn]);if(me[or]!==0){me[or+1]<0&&(me[or]=0-me[or]);for(let Bn=or+1;Bn<xt;Bn++)me[Bn]/=me[or];me[or+1]+=1}if(me[or]=-me[or],or+1<J&&me[or]!==0){for(let Bn=or+1;Bn<J;Bn++)Tn[Bn]=0;for(let Bn=or+1;Bn<J;Bn++)for(let ti=or+1;ti<xt;ti++)Tn[Bn]+=me[ti]*Ne.get(Bn,ti);for(let Bn=or+1;Bn<xt;Bn++){let ti=-me[Bn]/me[or+1];for(let Vn=or+1;Vn<J;Vn++)Ne.set(Vn,Bn,Ne.get(Vn,Bn)+ti*Tn[Vn])}}if(ce)for(let Bn=or+1;Bn<xt;Bn++)kn.set(Bn,or,me[Bn])}}let Cr=Math.min(xt,J+1);if(Kn<xt&&(hr[Kn]=Ne.get(Kn,Kn)),J<Cr&&(hr[Cr-1]=0),Or+1<Cr&&(me[Or]=Ne.get(Or,Cr-1)),me[Cr-1]=0,be){for(let or=Kn;or<Mr;or++){for(let Bn=0;Bn<J;Bn++)cn.set(Bn,or,0);cn.set(or,or,1)}for(let or=Kn-1;or>=0;or--)if(hr[or]!==0){for(let Bn=or+1;Bn<Mr;Bn++){let ti=0;for(let Vn=or;Vn<J;Vn++)ti+=cn.get(Vn,or)*cn.get(Vn,Bn);ti=-ti/cn.get(or,or);for(let Vn=or;Vn<J;Vn++)cn.set(Vn,Bn,cn.get(Vn,Bn)+ti*cn.get(Vn,or))}for(let Bn=or;Bn<J;Bn++)cn.set(Bn,or,-cn.get(Bn,or));cn.set(or,or,1+cn.get(or,or));for(let Bn=0;Bn<or-1;Bn++)cn.set(Bn,or,0)}else{for(let Bn=0;Bn<J;Bn++)cn.set(Bn,or,0);cn.set(or,or,1)}}if(ce)for(let or=xt-1;or>=0;or--){if(or<Or&&me[or]!==0)for(let Bn=or+1;Bn<xt;Bn++){let ti=0;for(let Vn=or+1;Vn<xt;Vn++)ti+=kn.get(Vn,or)*kn.get(Vn,Bn);ti=-ti/kn.get(or+1,or);for(let Vn=or+1;Vn<xt;Vn++)kn.set(Vn,Bn,kn.get(Vn,Bn)+ti*kn.get(Vn,or))}for(let Bn=0;Bn<xt;Bn++)kn.set(Bn,or,0);kn.set(or,or,1)}let xr=Cr-1,_n=0,Mi=Number.EPSILON;for(;Cr>0;){let or,Bn;for(or=Cr-2;or>=-1&&or!==-1;or--){const ti=Number.MIN_VALUE+Mi*Math.abs(hr[or]+Math.abs(hr[or+1]));if(Math.abs(me[or])<=ti||Number.isNaN(me[or])){me[or]=0;break}}if(or===Cr-2)Bn=4;else{let ti;for(ti=Cr-1;ti>=or&&ti!==or;ti--){let Vn=(ti!==Cr?Math.abs(me[ti]):0)+(ti!==or+1?Math.abs(me[ti-1]):0);if(Math.abs(hr[ti])<=Mi*Vn){hr[ti]=0;break}}ti===or?Bn=3:ti===Cr-1?Bn=1:(Bn=2,or=ti)}switch(or++,Bn){case 1:{let ti=me[Cr-2];me[Cr-2]=0;for(let Vn=Cr-2;Vn>=or;Vn--){let qi=Ir(hr[Vn],ti),Rn=hr[Vn]/qi,fa=ti/qi;if(hr[Vn]=qi,Vn!==or&&(ti=-fa*me[Vn-1],me[Vn-1]=Rn*me[Vn-1]),ce)for(let Ci=0;Ci<xt;Ci++)qi=Rn*kn.get(Ci,Vn)+fa*kn.get(Ci,Cr-1),kn.set(Ci,Cr-1,-fa*kn.get(Ci,Vn)+Rn*kn.get(Ci,Cr-1)),kn.set(Ci,Vn,qi)}break}case 2:{let ti=me[or-1];me[or-1]=0;for(let Vn=or;Vn<Cr;Vn++){let qi=Ir(hr[Vn],ti),Rn=hr[Vn]/qi,fa=ti/qi;if(hr[Vn]=qi,ti=-fa*me[Vn],me[Vn]=Rn*me[Vn],be)for(let Ci=0;Ci<J;Ci++)qi=Rn*cn.get(Ci,Vn)+fa*cn.get(Ci,or-1),cn.set(Ci,or-1,-fa*cn.get(Ci,Vn)+Rn*cn.get(Ci,or-1)),cn.set(Ci,Vn,qi)}break}case 3:{const ti=Math.max(Math.abs(hr[Cr-1]),Math.abs(hr[Cr-2]),Math.abs(me[Cr-2]),Math.abs(hr[or]),Math.abs(me[or])),Vn=hr[Cr-1]/ti,qi=hr[Cr-2]/ti,Rn=me[Cr-2]/ti,fa=hr[or]/ti,Ci=me[or]/ti,ga=((qi+Vn)*(qi-Vn)+Rn*Rn)/2,da=Vn*Rn*(Vn*Rn);let zo=0;(ga!==0||da!==0)&&(ga<0?zo=0-Math.sqrt(ga*ga+da):zo=Math.sqrt(ga*ga+da),zo=da/(ga+zo));let Po=(fa+Vn)*(fa-Vn)+zo,au=fa*Ci;for(let Yi=or;Yi<Cr-1;Yi++){let Ha=Ir(Po,au);Ha===0&&(Ha=Number.MIN_VALUE);let po=Po/Ha,Za=au/Ha;if(Yi!==or&&(me[Yi-1]=Ha),Po=po*hr[Yi]+Za*me[Yi],me[Yi]=po*me[Yi]-Za*hr[Yi],au=Za*hr[Yi+1],hr[Yi+1]=po*hr[Yi+1],ce)for(let ho=0;ho<xt;ho++)Ha=po*kn.get(ho,Yi)+Za*kn.get(ho,Yi+1),kn.set(ho,Yi+1,-Za*kn.get(ho,Yi)+po*kn.get(ho,Yi+1)),kn.set(ho,Yi,Ha);if(Ha=Ir(Po,au),Ha===0&&(Ha=Number.MIN_VALUE),po=Po/Ha,Za=au/Ha,hr[Yi]=Ha,Po=po*me[Yi]+Za*hr[Yi+1],hr[Yi+1]=-Za*me[Yi]+po*hr[Yi+1],au=Za*me[Yi+1],me[Yi+1]=po*me[Yi+1],be&&Yi<J-1)for(let ho=0;ho<J;ho++)Ha=po*cn.get(ho,Yi)+Za*cn.get(ho,Yi+1),cn.set(ho,Yi+1,-Za*cn.get(ho,Yi)+po*cn.get(ho,Yi+1)),cn.set(ho,Yi,Ha)}me[Cr-2]=Po,_n=_n+1;break}case 4:{if(hr[or]<=0&&(hr[or]=hr[or]<0?-hr[or]:0,ce))for(let ti=0;ti<=xr;ti++)kn.set(ti,or,-kn.get(ti,or));for(;or<xr&&!(hr[or]>=hr[or+1]);){let ti=hr[or];if(hr[or]=hr[or+1],hr[or+1]=ti,ce&&or<xt-1)for(let Vn=0;Vn<xt;Vn++)ti=kn.get(Vn,or+1),kn.set(Vn,or+1,kn.get(Vn,or)),kn.set(Vn,or,ti);if(be&&or<J-1)for(let Vn=0;Vn<J;Vn++)ti=cn.get(Vn,or+1),cn.set(Vn,or+1,cn.get(Vn,or)),cn.set(Vn,or,ti);or++}_n=0,Cr--;break}}}if(We){let or=kn;kn=cn,cn=or}this.m=J,this.n=xt,this.s=hr,this.U=cn,this.V=kn}solve(ft){let pt=ft,J=this.threshold,xt=this.s.length,Rt=Le.zeros(xt,xt);for(let Mr=0;Mr<xt;Mr++)Math.abs(this.s[Mr])<=J?Rt.set(Mr,Mr,0):Rt.set(Mr,Mr,1/this.s[Mr]);let ue=this.U,ie=this.rightSingularVectors,be=ie.mmul(Rt),ce=ie.rows,We=ue.rows,Ne=Le.zeros(ce,We);for(let Mr=0;Mr<ce;Mr++)for(let sn=0;sn<We;sn++){let hr=0;for(let cn=0;cn<xt;cn++)hr+=be.get(Mr,cn)*ue.get(sn,cn);Ne.set(Mr,sn,hr)}return Ne.mmul(pt)}solveForDiagonal(ft){return this.solve(Le.diag(ft))}inverse(){let ft=this.V,pt=this.threshold,J=ft.rows,xt=ft.columns,Rt=new Le(J,this.s.length);for(let We=0;We<J;We++)for(let Ne=0;Ne<xt;Ne++)Math.abs(this.s[Ne])>pt&&Rt.set(We,Ne,ft.get(We,Ne)/this.s[Ne]);let ue=this.U,ie=ue.rows,be=ue.columns,ce=new Le(J,ie);for(let We=0;We<J;We++)for(let Ne=0;Ne<ie;Ne++){let Mr=0;for(let sn=0;sn<be;sn++)Mr+=Rt.get(We,sn)*ue.get(Ne,sn);ce.set(We,Ne,Mr)}return ce}get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}get norm2(){return this.s[0]}get rank(){let ft=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,pt=0,J=this.s;for(let xt=0,Rt=J.length;xt<Rt;xt++)J[xt]>ft&&pt++;return pt}get diagonal(){return Array.from(this.s)}get threshold(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}get leftSingularVectors(){return this.U}get rightSingularVectors(){return this.V}get diagonalMatrix(){return Le.diag(this.s)}}function ui(Ut,ft=!1){return Ut=tr.checkMatrix(Ut),ft?new Wn(Ut).inverse():bi(Ut,Le.eye(Ut.rows))}function bi(Ut,ft,pt=!1){return Ut=tr.checkMatrix(Ut),ft=tr.checkMatrix(ft),pt?new Wn(Ut).solve(ft):Ut.isSquare()?new Qr(Ut).solve(ft):new gn(Ut).solve(ft)}function fr(Ut){if(Ut=Le.checkMatrix(Ut),Ut.isSquare()){if(Ut.columns===0)return 1;let ft,pt,J,xt;if(Ut.columns===2)return ft=Ut.get(0,0),pt=Ut.get(0,1),J=Ut.get(1,0),xt=Ut.get(1,1),ft*xt-pt*J;if(Ut.columns===3){let Rt,ue,ie;return Rt=new Xt(Ut,[1,2],[1,2]),ue=new Xt(Ut,[1,2],[0,2]),ie=new Xt(Ut,[1,2],[0,1]),ft=Ut.get(0,0),pt=Ut.get(0,1),J=Ut.get(0,2),ft*fr(Rt)-pt*fr(ue)+J*fr(ie)}else return new Qr(Ut).determinant}else throw Error("determinant can only be calculated for a square matrix")}function Zr(Ut,ft){let pt=[];for(let J=0;J<Ut;J++)J!==ft&&pt.push(J);return pt}function Sn(Ut,ft,pt,J=1e-9,xt=1e-9){if(Ut>xt)return new Array(ft.rows+1).fill(0);{let Rt=ft.addRow(pt,[0]);for(let ue=0;ue<Rt.rows;ue++)Math.abs(Rt.get(ue,0))<J&&Rt.set(ue,0,0);return Rt.to1DArray()}}function Dn(Ut,ft={}){const{thresholdValue:pt=1e-9,thresholdError:J=1e-9}=ft;Ut=Le.checkMatrix(Ut);let xt=Ut.rows,Rt=new Le(xt,xt);for(let ue=0;ue<xt;ue++){let ie=Le.columnVector(Ut.getRow(ue)),be=Ut.subMatrixRow(Zr(xt,ue)).transpose(),We=new Wn(be).solve(ie),Ne=Le.sub(ie,be.mmul(We)).abs().max();Rt.setRow(ue,Sn(Ne,We,ue,pt,J))}return Rt}function hn(Ut,ft=Number.EPSILON){if(Ut=Le.checkMatrix(Ut),Ut.isEmpty())return Ut.transpose();let pt=new Wn(Ut,{autoTranspose:!0}),J=pt.leftSingularVectors,xt=pt.rightSingularVectors,Rt=pt.diagonal;for(let ue=0;ue<Rt.length;ue++)Math.abs(Rt[ue])>ft?Rt[ue]=1/Rt[ue]:Rt[ue]=0;return xt.mmul(Le.diag(Rt).mmul(J.transpose()))}function Gn(Ut,ft=Ut,pt={}){Ut=new Le(Ut);let J=!1;if(typeof ft=="object"&&!Le.isMatrix(ft)&&!b(ft)?(pt=ft,ft=Ut,J=!0):ft=new Le(ft),Ut.rows!==ft.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:xt=!0}=pt;xt&&(Ut=Ut.center("column"),J||(ft=ft.center("column")));const Rt=Ut.transpose().mmul(ft);for(let ue=0;ue<Rt.rows;ue++)for(let ie=0;ie<Rt.columns;ie++)Rt.set(ue,ie,Rt.get(ue,ie)*(1/(Ut.rows-1)));return Rt}function En(Ut,ft=Ut,pt={}){Ut=new Le(Ut);let J=!1;if(typeof ft=="object"&&!Le.isMatrix(ft)&&!b(ft)?(pt=ft,ft=Ut,J=!0):ft=new Le(ft),Ut.rows!==ft.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:xt=!0,scale:Rt=!0}=pt;xt&&(Ut.center("column"),J||ft.center("column")),Rt&&(Ut.scale("column"),J||ft.scale("column"));const ue=Ut.standardDeviation("column",{unbiased:!0}),ie=J?ue:ft.standardDeviation("column",{unbiased:!0}),be=Ut.transpose().mmul(ft);for(let ce=0;ce<be.rows;ce++)for(let We=0;We<be.columns;We++)be.set(ce,We,be.get(ce,We)*(1/(ue[ce]*ie[We]))*(1/(Ut.rows-1)));return be}class In{constructor(ft,pt={}){const{assumeSymmetric:J=!1}=pt;if(ft=tr.checkMatrix(ft),!ft.isSquare())throw new Error("Matrix is not a square matrix");if(ft.isEmpty())throw new Error("Matrix must be non-empty");let xt=ft.columns,Rt=new Le(xt,xt),ue=new Float64Array(xt),ie=new Float64Array(xt),be=ft,ce,We,Ne=!1;if(J?Ne=!0:Ne=ft.isSymmetric(),Ne){for(ce=0;ce<xt;ce++)for(We=0;We<xt;We++)Rt.set(ce,We,be.get(ce,We));Fn(xt,ie,ue,Rt),xe(xt,ie,ue,Rt)}else{let Mr=new Le(xt,xt),sn=new Float64Array(xt);for(We=0;We<xt;We++)for(ce=0;ce<xt;ce++)Mr.set(ce,We,be.get(ce,We));Ge(xt,Mr,sn,Rt),Je(xt,ie,ue,Rt,Mr)}this.n=xt,this.e=ie,this.d=ue,this.V=Rt}get realEigenvalues(){return Array.from(this.d)}get imaginaryEigenvalues(){return Array.from(this.e)}get eigenvectorMatrix(){return this.V}get diagonalMatrix(){let ft=this.n,pt=this.e,J=this.d,xt=new Le(ft,ft),Rt,ue;for(Rt=0;Rt<ft;Rt++){for(ue=0;ue<ft;ue++)xt.set(Rt,ue,0);xt.set(Rt,Rt,J[Rt]),pt[Rt]>0?xt.set(Rt,Rt+1,pt[Rt]):pt[Rt]<0&&xt.set(Rt,Rt-1,pt[Rt])}return xt}}function Fn(Ut,ft,pt,J){let xt,Rt,ue,ie,be,ce,We,Ne;for(be=0;be<Ut;be++)pt[be]=J.get(Ut-1,be);for(ie=Ut-1;ie>0;ie--){for(Ne=0,ue=0,ce=0;ce<ie;ce++)Ne=Ne+Math.abs(pt[ce]);if(Ne===0)for(ft[ie]=pt[ie-1],be=0;be<ie;be++)pt[be]=J.get(ie-1,be),J.set(ie,be,0),J.set(be,ie,0);else{for(ce=0;ce<ie;ce++)pt[ce]/=Ne,ue+=pt[ce]*pt[ce];for(xt=pt[ie-1],Rt=Math.sqrt(ue),xt>0&&(Rt=-Rt),ft[ie]=Ne*Rt,ue=ue-xt*Rt,pt[ie-1]=xt-Rt,be=0;be<ie;be++)ft[be]=0;for(be=0;be<ie;be++){for(xt=pt[be],J.set(be,ie,xt),Rt=ft[be]+J.get(be,be)*xt,ce=be+1;ce<=ie-1;ce++)Rt+=J.get(ce,be)*pt[ce],ft[ce]+=J.get(ce,be)*xt;ft[be]=Rt}for(xt=0,be=0;be<ie;be++)ft[be]/=ue,xt+=ft[be]*pt[be];for(We=xt/(ue+ue),be=0;be<ie;be++)ft[be]-=We*pt[be];for(be=0;be<ie;be++){for(xt=pt[be],Rt=ft[be],ce=be;ce<=ie-1;ce++)J.set(ce,be,J.get(ce,be)-(xt*ft[ce]+Rt*pt[ce]));pt[be]=J.get(ie-1,be),J.set(ie,be,0)}}pt[ie]=ue}for(ie=0;ie<Ut-1;ie++){if(J.set(Ut-1,ie,J.get(ie,ie)),J.set(ie,ie,1),ue=pt[ie+1],ue!==0){for(ce=0;ce<=ie;ce++)pt[ce]=J.get(ce,ie+1)/ue;for(be=0;be<=ie;be++){for(Rt=0,ce=0;ce<=ie;ce++)Rt+=J.get(ce,ie+1)*J.get(ce,be);for(ce=0;ce<=ie;ce++)J.set(ce,be,J.get(ce,be)-Rt*pt[ce])}}for(ce=0;ce<=ie;ce++)J.set(ce,ie+1,0)}for(be=0;be<Ut;be++)pt[be]=J.get(Ut-1,be),J.set(Ut-1,be,0);J.set(Ut-1,Ut-1,1),ft[0]=0}function xe(Ut,ft,pt,J){let xt,Rt,ue,ie,be,ce,We,Ne,Mr,sn,hr,cn,kn,me,Tn,Zn,Kn;for(ue=1;ue<Ut;ue++)ft[ue-1]=ft[ue];ft[Ut-1]=0;let Or=0,wn=0,Cr=Number.EPSILON;for(ce=0;ce<Ut;ce++){for(wn=Math.max(wn,Math.abs(pt[ce])+Math.abs(ft[ce])),We=ce;We<Ut&&!(Math.abs(ft[We])<=Cr*wn);)We++;if(We>ce){Kn=0;do{for(Kn=Kn+1,xt=pt[ce],Ne=(pt[ce+1]-xt)/(2*ft[ce]),Mr=Ir(Ne,1),Ne<0&&(Mr=-Mr),pt[ce]=ft[ce]/(Ne+Mr),pt[ce+1]=ft[ce]*(Ne+Mr),sn=pt[ce+1],Rt=xt-pt[ce],ue=ce+2;ue<Ut;ue++)pt[ue]-=Rt;for(Or=Or+Rt,Ne=pt[We],hr=1,cn=hr,kn=hr,me=ft[ce+1],Tn=0,Zn=0,ue=We-1;ue>=ce;ue--)for(kn=cn,cn=hr,Zn=Tn,xt=hr*ft[ue],Rt=hr*Ne,Mr=Ir(Ne,ft[ue]),ft[ue+1]=Tn*Mr,Tn=ft[ue]/Mr,hr=Ne/Mr,Ne=hr*pt[ue]-Tn*xt,pt[ue+1]=Rt+Tn*(hr*xt+Tn*pt[ue]),be=0;be<Ut;be++)Rt=J.get(be,ue+1),J.set(be,ue+1,Tn*J.get(be,ue)+hr*Rt),J.set(be,ue,hr*J.get(be,ue)-Tn*Rt);Ne=-Tn*Zn*kn*me*ft[ce]/sn,ft[ce]=Tn*Ne,pt[ce]=hr*Ne}while(Math.abs(ft[ce])>Cr*wn)}pt[ce]=pt[ce]+Or,ft[ce]=0}for(ue=0;ue<Ut-1;ue++){for(be=ue,Ne=pt[ue],ie=ue+1;ie<Ut;ie++)pt[ie]<Ne&&(be=ie,Ne=pt[ie]);if(be!==ue)for(pt[be]=pt[ue],pt[ue]=Ne,ie=0;ie<Ut;ie++)Ne=J.get(ie,ue),J.set(ie,ue,J.get(ie,be)),J.set(ie,be,Ne)}}function Ge(Ut,ft,pt,J){let xt=0,Rt=Ut-1,ue,ie,be,ce,We,Ne,Mr;for(Ne=xt+1;Ne<=Rt-1;Ne++){for(Mr=0,ce=Ne;ce<=Rt;ce++)Mr=Mr+Math.abs(ft.get(ce,Ne-1));if(Mr!==0){for(be=0,ce=Rt;ce>=Ne;ce--)pt[ce]=ft.get(ce,Ne-1)/Mr,be+=pt[ce]*pt[ce];for(ie=Math.sqrt(be),pt[Ne]>0&&(ie=-ie),be=be-pt[Ne]*ie,pt[Ne]=pt[Ne]-ie,We=Ne;We<Ut;We++){for(ue=0,ce=Rt;ce>=Ne;ce--)ue+=pt[ce]*ft.get(ce,We);for(ue=ue/be,ce=Ne;ce<=Rt;ce++)ft.set(ce,We,ft.get(ce,We)-ue*pt[ce])}for(ce=0;ce<=Rt;ce++){for(ue=0,We=Rt;We>=Ne;We--)ue+=pt[We]*ft.get(ce,We);for(ue=ue/be,We=Ne;We<=Rt;We++)ft.set(ce,We,ft.get(ce,We)-ue*pt[We])}pt[Ne]=Mr*pt[Ne],ft.set(Ne,Ne-1,Mr*ie)}}for(ce=0;ce<Ut;ce++)for(We=0;We<Ut;We++)J.set(ce,We,ce===We?1:0);for(Ne=Rt-1;Ne>=xt+1;Ne--)if(ft.get(Ne,Ne-1)!==0){for(ce=Ne+1;ce<=Rt;ce++)pt[ce]=ft.get(ce,Ne-1);for(We=Ne;We<=Rt;We++){for(ie=0,ce=Ne;ce<=Rt;ce++)ie+=pt[ce]*J.get(ce,We);for(ie=ie/pt[Ne]/ft.get(Ne,Ne-1),ce=Ne;ce<=Rt;ce++)J.set(ce,We,J.get(ce,We)+ie*pt[ce])}}}function Je(Ut,ft,pt,J,xt){let Rt=Ut-1,ue=0,ie=Ut-1,be=Number.EPSILON,ce=0,We=0,Ne=0,Mr=0,sn=0,hr=0,cn=0,kn=0,me,Tn,Zn,Kn,Or,wn,Cr,xr,_n,Mi,or,Bn,ti,Vn,qi;for(me=0;me<Ut;me++)for((me<ue||me>ie)&&(pt[me]=xt.get(me,me),ft[me]=0),Tn=Math.max(me-1,0);Tn<Ut;Tn++)We=We+Math.abs(xt.get(me,Tn));for(;Rt>=ue;){for(Kn=Rt;Kn>ue&&(hr=Math.abs(xt.get(Kn-1,Kn-1))+Math.abs(xt.get(Kn,Kn)),hr===0&&(hr=We),!(Math.abs(xt.get(Kn,Kn-1))<be*hr));)Kn--;if(Kn===Rt)xt.set(Rt,Rt,xt.get(Rt,Rt)+ce),pt[Rt]=xt.get(Rt,Rt),ft[Rt]=0,Rt--,kn=0;else if(Kn===Rt-1){if(Cr=xt.get(Rt,Rt-1)*xt.get(Rt-1,Rt),Ne=(xt.get(Rt-1,Rt-1)-xt.get(Rt,Rt))/2,Mr=Ne*Ne+Cr,cn=Math.sqrt(Math.abs(Mr)),xt.set(Rt,Rt,xt.get(Rt,Rt)+ce),xt.set(Rt-1,Rt-1,xt.get(Rt-1,Rt-1)+ce),xr=xt.get(Rt,Rt),Mr>=0){for(cn=Ne>=0?Ne+cn:Ne-cn,pt[Rt-1]=xr+cn,pt[Rt]=pt[Rt-1],cn!==0&&(pt[Rt]=xr-Cr/cn),ft[Rt-1]=0,ft[Rt]=0,xr=xt.get(Rt,Rt-1),hr=Math.abs(xr)+Math.abs(cn),Ne=xr/hr,Mr=cn/hr,sn=Math.sqrt(Ne*Ne+Mr*Mr),Ne=Ne/sn,Mr=Mr/sn,Tn=Rt-1;Tn<Ut;Tn++)cn=xt.get(Rt-1,Tn),xt.set(Rt-1,Tn,Mr*cn+Ne*xt.get(Rt,Tn)),xt.set(Rt,Tn,Mr*xt.get(Rt,Tn)-Ne*cn);for(me=0;me<=Rt;me++)cn=xt.get(me,Rt-1),xt.set(me,Rt-1,Mr*cn+Ne*xt.get(me,Rt)),xt.set(me,Rt,Mr*xt.get(me,Rt)-Ne*cn);for(me=ue;me<=ie;me++)cn=J.get(me,Rt-1),J.set(me,Rt-1,Mr*cn+Ne*J.get(me,Rt)),J.set(me,Rt,Mr*J.get(me,Rt)-Ne*cn)}else pt[Rt-1]=xr+Ne,pt[Rt]=xr+Ne,ft[Rt-1]=cn,ft[Rt]=-cn;Rt=Rt-2,kn=0}else{if(xr=xt.get(Rt,Rt),_n=0,Cr=0,Kn<Rt&&(_n=xt.get(Rt-1,Rt-1),Cr=xt.get(Rt,Rt-1)*xt.get(Rt-1,Rt)),kn===10){for(ce+=xr,me=ue;me<=Rt;me++)xt.set(me,me,xt.get(me,me)-xr);hr=Math.abs(xt.get(Rt,Rt-1))+Math.abs(xt.get(Rt-1,Rt-2)),xr=_n=.75*hr,Cr=-.4375*hr*hr}if(kn===30&&(hr=(_n-xr)/2,hr=hr*hr+Cr,hr>0)){for(hr=Math.sqrt(hr),_n<xr&&(hr=-hr),hr=xr-Cr/((_n-xr)/2+hr),me=ue;me<=Rt;me++)xt.set(me,me,xt.get(me,me)-hr);ce+=hr,xr=_n=Cr=.964}for(kn=kn+1,Or=Rt-2;Or>=Kn&&(cn=xt.get(Or,Or),sn=xr-cn,hr=_n-cn,Ne=(sn*hr-Cr)/xt.get(Or+1,Or)+xt.get(Or,Or+1),Mr=xt.get(Or+1,Or+1)-cn-sn-hr,sn=xt.get(Or+2,Or+1),hr=Math.abs(Ne)+Math.abs(Mr)+Math.abs(sn),Ne=Ne/hr,Mr=Mr/hr,sn=sn/hr,!(Or===Kn||Math.abs(xt.get(Or,Or-1))*(Math.abs(Mr)+Math.abs(sn))<be*(Math.abs(Ne)*(Math.abs(xt.get(Or-1,Or-1))+Math.abs(cn)+Math.abs(xt.get(Or+1,Or+1))))));)Or--;for(me=Or+2;me<=Rt;me++)xt.set(me,me-2,0),me>Or+2&&xt.set(me,me-3,0);for(Zn=Or;Zn<=Rt-1&&(Vn=Zn!==Rt-1,Zn!==Or&&(Ne=xt.get(Zn,Zn-1),Mr=xt.get(Zn+1,Zn-1),sn=Vn?xt.get(Zn+2,Zn-1):0,xr=Math.abs(Ne)+Math.abs(Mr)+Math.abs(sn),xr!==0&&(Ne=Ne/xr,Mr=Mr/xr,sn=sn/xr)),xr!==0);Zn++)if(hr=Math.sqrt(Ne*Ne+Mr*Mr+sn*sn),Ne<0&&(hr=-hr),hr!==0){for(Zn!==Or?xt.set(Zn,Zn-1,-hr*xr):Kn!==Or&&xt.set(Zn,Zn-1,-xt.get(Zn,Zn-1)),Ne=Ne+hr,xr=Ne/hr,_n=Mr/hr,cn=sn/hr,Mr=Mr/Ne,sn=sn/Ne,Tn=Zn;Tn<Ut;Tn++)Ne=xt.get(Zn,Tn)+Mr*xt.get(Zn+1,Tn),Vn&&(Ne=Ne+sn*xt.get(Zn+2,Tn),xt.set(Zn+2,Tn,xt.get(Zn+2,Tn)-Ne*cn)),xt.set(Zn,Tn,xt.get(Zn,Tn)-Ne*xr),xt.set(Zn+1,Tn,xt.get(Zn+1,Tn)-Ne*_n);for(me=0;me<=Math.min(Rt,Zn+3);me++)Ne=xr*xt.get(me,Zn)+_n*xt.get(me,Zn+1),Vn&&(Ne=Ne+cn*xt.get(me,Zn+2),xt.set(me,Zn+2,xt.get(me,Zn+2)-Ne*sn)),xt.set(me,Zn,xt.get(me,Zn)-Ne),xt.set(me,Zn+1,xt.get(me,Zn+1)-Ne*Mr);for(me=ue;me<=ie;me++)Ne=xr*J.get(me,Zn)+_n*J.get(me,Zn+1),Vn&&(Ne=Ne+cn*J.get(me,Zn+2),J.set(me,Zn+2,J.get(me,Zn+2)-Ne*sn)),J.set(me,Zn,J.get(me,Zn)-Ne),J.set(me,Zn+1,J.get(me,Zn+1)-Ne*Mr)}}}if(We!==0){for(Rt=Ut-1;Rt>=0;Rt--)if(Ne=pt[Rt],Mr=ft[Rt],Mr===0)for(Kn=Rt,xt.set(Rt,Rt,1),me=Rt-1;me>=0;me--){for(Cr=xt.get(me,me)-Ne,sn=0,Tn=Kn;Tn<=Rt;Tn++)sn=sn+xt.get(me,Tn)*xt.get(Tn,Rt);if(ft[me]<0)cn=Cr,hr=sn;else if(Kn=me,ft[me]===0?xt.set(me,Rt,Cr!==0?-sn/Cr:-sn/(be*We)):(xr=xt.get(me,me+1),_n=xt.get(me+1,me),Mr=(pt[me]-Ne)*(pt[me]-Ne)+ft[me]*ft[me],wn=(xr*hr-cn*sn)/Mr,xt.set(me,Rt,wn),xt.set(me+1,Rt,Math.abs(xr)>Math.abs(cn)?(-sn-Cr*wn)/xr:(-hr-_n*wn)/cn)),wn=Math.abs(xt.get(me,Rt)),be*wn*wn>1)for(Tn=me;Tn<=Rt;Tn++)xt.set(Tn,Rt,xt.get(Tn,Rt)/wn)}else if(Mr<0)for(Kn=Rt-1,Math.abs(xt.get(Rt,Rt-1))>Math.abs(xt.get(Rt-1,Rt))?(xt.set(Rt-1,Rt-1,Mr/xt.get(Rt,Rt-1)),xt.set(Rt-1,Rt,-(xt.get(Rt,Rt)-Ne)/xt.get(Rt,Rt-1))):(qi=br(0,-xt.get(Rt-1,Rt),xt.get(Rt-1,Rt-1)-Ne,Mr),xt.set(Rt-1,Rt-1,qi[0]),xt.set(Rt-1,Rt,qi[1])),xt.set(Rt,Rt-1,0),xt.set(Rt,Rt,1),me=Rt-2;me>=0;me--){for(Mi=0,or=0,Tn=Kn;Tn<=Rt;Tn++)Mi=Mi+xt.get(me,Tn)*xt.get(Tn,Rt-1),or=or+xt.get(me,Tn)*xt.get(Tn,Rt);if(Cr=xt.get(me,me)-Ne,ft[me]<0)cn=Cr,sn=Mi,hr=or;else if(Kn=me,ft[me]===0?(qi=br(-Mi,-or,Cr,Mr),xt.set(me,Rt-1,qi[0]),xt.set(me,Rt,qi[1])):(xr=xt.get(me,me+1),_n=xt.get(me+1,me),Bn=(pt[me]-Ne)*(pt[me]-Ne)+ft[me]*ft[me]-Mr*Mr,ti=(pt[me]-Ne)*2*Mr,Bn===0&&ti===0&&(Bn=be*We*(Math.abs(Cr)+Math.abs(Mr)+Math.abs(xr)+Math.abs(_n)+Math.abs(cn))),qi=br(xr*sn-cn*Mi+Mr*or,xr*hr-cn*or-Mr*Mi,Bn,ti),xt.set(me,Rt-1,qi[0]),xt.set(me,Rt,qi[1]),Math.abs(xr)>Math.abs(cn)+Math.abs(Mr)?(xt.set(me+1,Rt-1,(-Mi-Cr*xt.get(me,Rt-1)+Mr*xt.get(me,Rt))/xr),xt.set(me+1,Rt,(-or-Cr*xt.get(me,Rt)-Mr*xt.get(me,Rt-1))/xr)):(qi=br(-sn-_n*xt.get(me,Rt-1),-hr-_n*xt.get(me,Rt),cn,Mr),xt.set(me+1,Rt-1,qi[0]),xt.set(me+1,Rt,qi[1]))),wn=Math.max(Math.abs(xt.get(me,Rt-1)),Math.abs(xt.get(me,Rt))),be*wn*wn>1)for(Tn=me;Tn<=Rt;Tn++)xt.set(Tn,Rt-1,xt.get(Tn,Rt-1)/wn),xt.set(Tn,Rt,xt.get(Tn,Rt)/wn)}for(me=0;me<Ut;me++)if(me<ue||me>ie)for(Tn=me;Tn<Ut;Tn++)J.set(me,Tn,xt.get(me,Tn));for(Tn=Ut-1;Tn>=ue;Tn--)for(me=ue;me<=ie;me++){for(cn=0,Zn=ue;Zn<=Math.min(Tn,ie);Zn++)cn=cn+J.get(me,Zn)*xt.get(Zn,Tn);J.set(me,Tn,cn)}}}function br(Ut,ft,pt,J){let xt,Rt;return Math.abs(pt)>Math.abs(J)?(xt=J/pt,Rt=pt+xt*J,[(Ut+xt*ft)/Rt,(ft-xt*Ut)/Rt]):(xt=pt/J,Rt=J+xt*pt,[(xt*Ut+ft)/Rt,(xt*ft-Ut)/Rt])}class jr{constructor(ft){if(ft=tr.checkMatrix(ft),!ft.isSymmetric())throw new Error("Matrix is not symmetric");let pt=ft,J=pt.rows,xt=new Le(J,J),Rt=!0,ue,ie,be;for(ie=0;ie<J;ie++){let ce=0;for(be=0;be<ie;be++){let We=0;for(ue=0;ue<be;ue++)We+=xt.get(be,ue)*xt.get(ie,ue);We=(pt.get(ie,be)-We)/xt.get(be,be),xt.set(ie,be,We),ce=ce+We*We}for(ce=pt.get(ie,ie)-ce,Rt&=ce>0,xt.set(ie,ie,Math.sqrt(Math.max(ce,0))),be=ie+1;be<J;be++)xt.set(ie,be,0)}this.L=xt,this.positiveDefinite=Boolean(Rt)}isPositiveDefinite(){return this.positiveDefinite}solve(ft){ft=tr.checkMatrix(ft);let pt=this.L,J=pt.rows;if(ft.rows!==J)throw new Error("Matrix dimensions do not match");if(this.isPositiveDefinite()===!1)throw new Error("Matrix is not positive definite");let xt=ft.columns,Rt=ft.clone(),ue,ie,be;for(be=0;be<J;be++)for(ie=0;ie<xt;ie++){for(ue=0;ue<be;ue++)Rt.set(be,ie,Rt.get(be,ie)-Rt.get(ue,ie)*pt.get(be,ue));Rt.set(be,ie,Rt.get(be,ie)/pt.get(be,be))}for(be=J-1;be>=0;be--)for(ie=0;ie<xt;ie++){for(ue=be+1;ue<J;ue++)Rt.set(be,ie,Rt.get(be,ie)-Rt.get(ue,ie)*pt.get(ue,be));Rt.set(be,ie,Rt.get(be,ie)/pt.get(be,be))}return Rt}get lowerTriangularMatrix(){return this.L}}class Wr{constructor(ft,pt={}){ft=tr.checkMatrix(ft);let{Y:J}=pt;const{scaleScores:xt=!1,maxIterations:Rt=1e3,terminationCriteria:ue=1e-10}=pt;let ie;if(J){if(b(J)&&typeof J[0]=="number"?J=Le.columnVector(J):J=tr.checkMatrix(J),J.rows!==ft.rows)throw new Error("Y should have the same number of rows as X");ie=J.getColumnVector(0)}else ie=ft.getColumnVector(0);let be=1,ce,We,Ne,Mr;for(let sn=0;sn<Rt&&be>ue;sn++)Ne=ft.transpose().mmul(ie).div(ie.transpose().mmul(ie).get(0,0)),Ne=Ne.div(Ne.norm()),ce=ft.mmul(Ne).div(Ne.transpose().mmul(Ne).get(0,0)),sn>0&&(be=ce.clone().sub(Mr).pow(2).sum()),Mr=ce.clone(),J?(We=J.transpose().mmul(ce).div(ce.transpose().mmul(ce).get(0,0)),We=We.div(We.norm()),ie=J.mmul(We).div(We.transpose().mmul(We).get(0,0))):ie=ce;if(J){let sn=ft.transpose().mmul(ce).div(ce.transpose().mmul(ce).get(0,0));sn=sn.div(sn.norm());let hr=ft.clone().sub(ce.clone().mmul(sn.transpose())),cn=ie.transpose().mmul(ce).div(ce.transpose().mmul(ce).get(0,0)),kn=J.clone().sub(ce.clone().mulS(cn.get(0,0)).mmul(We.transpose()));this.t=ce,this.p=sn.transpose(),this.w=Ne.transpose(),this.q=We,this.u=ie,this.s=ce.transpose().mmul(ce),this.xResidual=hr,this.yResidual=kn,this.betas=cn}else this.w=Ne.transpose(),this.s=ce.transpose().mmul(ce).sqrt(),xt?this.t=ce.clone().div(this.s.get(0,0)):this.t=ce,this.xResidual=ft.sub(ce.mmul(Ne.transpose()))}}},27418:function(at){"use strict";/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var R=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable;function b(_){if(_==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(_)}function P(){try{if(!Object.assign)return!1;var _=new String("abc");if(_[5]="de",Object.getOwnPropertyNames(_)[0]==="5")return!1;for(var O={},T=0;T<10;T++)O["_"+String.fromCharCode(T)]=T;var F=Object.getOwnPropertyNames(O).map(function(A){return O[A]});if(F.join("")!=="0123456789")return!1;var M={};return"abcdefghijklmnopqrst".split("").forEach(function(A){M[A]=A}),Object.keys(Object.assign({},M)).join("")==="abcdefghijklmnopqrst"}catch(A){return!1}}at.exports=P()?Object.assign:function(_,O){for(var T,F=b(_),M,A=1;A<arguments.length;A++){T=Object(arguments[A]);for(var L in T)d.call(T,L)&&(F[L]=T[L]);if(R){M=R(T);for(var I=0;I<M.length;I++)x.call(T,M[I])&&(F[M[I]]=T[M[I]])}}return F}},73807:function(at){"use strict";var R=at.exports;at.exports.isNumber=function(d){return typeof d=="number"},at.exports.findMin=function(d){if(d.length===0)return 1/0;for(var x=d[0],b=1;b<d.length;b++)x=Math.min(x,d[b]);return x},at.exports.findMax=function(d){if(d.length===0)return-1/0;for(var x=d[0],b=1;b<d.length;b++)x=Math.max(x,d[b]);return x},at.exports.findMinMulti=function(d){for(var x=R.findMin(d[0]),b=1;b<d.length;b++)x=Math.min(x,R.findMin(d[b]));return x},at.exports.findMaxMulti=function(d){for(var x=R.findMax(d[0]),b=1;b<d.length;b++)x=Math.max(x,R.findMax(d[b]));return x},at.exports.inside=function(d,x,b){return d<=b&&b<=x}},53843:function(at,R,d){"use strict";var x=50,b=2,P=Math.log(2),_=at.exports,O=d(73807);function T(M){return 1-Math.abs(M)}at.exports.getUnifiedMinMax=function(M,A){return _.getUnifiedMinMaxMulti([M],A)},at.exports.getUnifiedMinMaxMulti=function(M,A){A=A||{};var L=!1,I=!1,k=O.isNumber(A.width)?A.width:b,B=O.isNumber(A.size)?A.size:x,z=O.isNumber(A.min)?A.min:(L=!0,O.findMinMulti(M)),W=O.isNumber(A.max)?A.max:(I=!0,O.findMaxMulti(M)),$=W-z,K=$/(B-1);return L&&(z=z-2*k*K),I&&(W=W+2*k*K),{min:z,max:W}},at.exports.create=function(M,A){if(A=A||{},!M||M.length===0)return[];var L=O.isNumber(A.size)?A.size:x,I=O.isNumber(A.width)?A.width:b,k=_.getUnifiedMinMax(M,{size:L,width:I,min:A.min,max:A.max}),B=k.min,z=k.max,W=z-B,$=W/(L-1);if(W===0)return[{x:B,y:1}];for(var K=[],lt=0;lt<L;lt++)K.push({x:B+lt*$,y:0});var st=function(At){return Math.floor((At-B)/$)},yt=F(T,I),q=yt[I],nt=yt[I-1]-yt[I-2],ct=0;M.forEach(function(At){var vt=st(At);if(!(vt+I<0||vt-I>=K.length)){var dt=Math.max(vt-I,0),gt=vt,Ct=Math.min(vt+I,K.length-1),Et=dt-(vt-I),Tt=vt+I-Ct,ot=yt[-I-1+Et]||0,Mt=yt[-I-1+Tt]||0,Wt=q/(q-ot-Mt);Et>0&&(ct+=Wt*(Et-1)*nt);var jt=Math.max(0,vt-I+1);O.inside(0,K.length-1,jt)&&(K[jt].y+=Wt*1*nt),O.inside(0,K.length-1,gt+1)&&(K[gt+1].y-=Wt*2*nt),O.inside(0,K.length-1,Ct+1)&&(K[Ct+1].y+=Wt*1*nt)}});var bt=ct,_t=0,St=0;return K.forEach(function(At){_t+=At.y,bt+=_t,At.y=bt,St+=bt}),St>0&&K.forEach(function(At){At.y/=St}),K};function F(M,A){for(var L={},I=0,k=-A;k<=A;k++)I+=M(k/A),L[k]=I;return L}at.exports.getExpectedValueFromPdf=function(M){if(!(!M||M.length===0)){var A=0;return M.forEach(function(L){A+=L.x*L.y}),A}},at.exports.getXWithLeftTailArea=function(M,A){if(!(!M||M.length===0)){for(var L=0,I=0,k=0;k<M.length&&(I=k,L+=M[k].y,!(L>=A));k++);return M[I].x}},at.exports.getPerplexity=function(M){if(!(!M||M.length===0)){var A=0;return M.forEach(function(L){var I=Math.log(L.y);isFinite(I)&&(A+=L.y*I)}),A=-A/P,Math.pow(2,A)}}},40582:function(at,R,d){var x=d(89550),b=d(68854),P=d(36820),_=d(43650),O=d(56601),T=[0,0];at.exports.x7=function(M,A,L,I,k){return x(M,L,I),P(M,M),b(A,-M[1],M[0]),b(T,-L[1],L[0]),k/O(A,T)},at.exports.mJ=function(M,A){return b(M,-A[1],A[0]),M},at.exports.o7=function(M,A,L){return _(M,A,L),P(M,M),M}},34155:function(at){var R=at.exports={},d,x;function b(){throw new Error("setTimeout has not been defined")}function P(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?d=setTimeout:d=b}catch(z){d=b}try{typeof clearTimeout=="function"?x=clearTimeout:x=P}catch(z){x=P}})();function _(z){if(d===setTimeout)return setTimeout(z,0);if((d===b||!d)&&setTimeout)return d=setTimeout,setTimeout(z,0);try{return d(z,0)}catch(W){try{return d.call(null,z,0)}catch($){return d.call(this,z,0)}}}function O(z){if(x===clearTimeout)return clearTimeout(z);if((x===P||!x)&&clearTimeout)return x=clearTimeout,clearTimeout(z);try{return x(z)}catch(W){try{return x.call(null,z)}catch($){return x.call(this,z)}}}var T=[],F=!1,M,A=-1;function L(){!F||!M||(F=!1,M.length?T=M.concat(T):A=-1,T.length&&I())}function I(){if(!F){var z=_(L);F=!0;for(var W=T.length;W;){for(M=T,T=[];++A<W;)M&&M[A].run();A=-1,W=T.length}M=null,F=!1,O(z)}}R.nextTick=function(z){var W=new Array(arguments.length-1);if(arguments.length>1)for(var $=1;$<arguments.length;$++)W[$-1]=arguments[$];T.push(new k(z,W)),T.length===1&&!F&&_(I)};function k(z,W){this.fun=z,this.array=W}k.prototype.run=function(){this.fun.apply(null,this.array)},R.title="browser",R.browser=!0,R.env={},R.argv=[],R.version="",R.versions={};function B(){}R.on=B,R.addListener=B,R.once=B,R.off=B,R.removeListener=B,R.removeAllListeners=B,R.emit=B,R.prependListener=B,R.prependOnceListener=B,R.listeners=function(z){return[]},R.binding=function(z){throw new Error("process.binding is not supported")},R.cwd=function(){return"/"},R.chdir=function(z){throw new Error("process.chdir is not supported")},R.umask=function(){return 0}},64448:function(at,R,d){"use strict";/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x=d(67294),b=d(27418),P=d(63840);function _(S){for(var N="https://reactjs.org/docs/error-decoder.html?invariant="+S,Q=1;Q<arguments.length;Q++)N+="&args[]="+encodeURIComponent(arguments[Q]);return"Minified React error #"+S+"; visit "+N+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!x)throw Error(_(227));var O=new Set,T={};function F(S,N){M(S,N),M(S+"Capture",N)}function M(S,N){for(T[S]=N,S=0;S<N.length;S++)O.add(N[S])}var A=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),L=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,I=Object.prototype.hasOwnProperty,k={},B={};function z(S){return I.call(B,S)?!0:I.call(k,S)?!1:L.test(S)?B[S]=!0:(k[S]=!0,!1)}function W(S,N,Q,Pt){if(Q!==null&&Q.type===0)return!1;switch(typeof N){case"function":case"symbol":return!0;case"boolean":return Pt?!1:Q!==null?!Q.acceptsBooleans:(S=S.toLowerCase().slice(0,5),S!=="data-"&&S!=="aria-");default:return!1}}function $(S,N,Q,Pt){if(N===null||typeof N=="undefined"||W(S,N,Q,Pt))return!0;if(Pt)return!1;if(Q!==null)switch(Q.type){case 3:return!N;case 4:return N===!1;case 5:return isNaN(N);case 6:return isNaN(N)||1>N}return!1}function K(S,N,Q,Pt,zt,ne,Fe){this.acceptsBooleans=N===2||N===3||N===4,this.attributeName=Pt,this.attributeNamespace=zt,this.mustUseProperty=Q,this.propertyName=S,this.type=N,this.sanitizeURL=ne,this.removeEmptyString=Fe}var lt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(S){lt[S]=new K(S,0,!1,S,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(S){var N=S[0];lt[N]=new K(N,1,!1,S[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(S){lt[S]=new K(S,2,!1,S.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(S){lt[S]=new K(S,2,!1,S,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(S){lt[S]=new K(S,3,!1,S.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(S){lt[S]=new K(S,3,!0,S,null,!1,!1)}),["capture","download"].forEach(function(S){lt[S]=new K(S,4,!1,S,null,!1,!1)}),["cols","rows","size","span"].forEach(function(S){lt[S]=new K(S,6,!1,S,null,!1,!1)}),["rowSpan","start"].forEach(function(S){lt[S]=new K(S,5,!1,S.toLowerCase(),null,!1,!1)});var st=/[\-:]([a-z])/g;function yt(S){return S[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(S){var N=S.replace(st,yt);lt[N]=new K(N,1,!1,S,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(S){var N=S.replace(st,yt);lt[N]=new K(N,1,!1,S,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(S){var N=S.replace(st,yt);lt[N]=new K(N,1,!1,S,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(S){lt[S]=new K(S,1,!1,S.toLowerCase(),null,!1,!1)}),lt.xlinkHref=new K("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(S){lt[S]=new K(S,1,!1,S.toLowerCase(),null,!0,!0)});function q(S,N,Q,Pt){var zt=lt.hasOwnProperty(N)?lt[N]:null,ne=zt!==null?zt.type===0:Pt?!1:!(!(2<N.length)||N[0]!=="o"&&N[0]!=="O"||N[1]!=="n"&&N[1]!=="N");ne||($(N,Q,zt,Pt)&&(Q=null),Pt||zt===null?z(N)&&(Q===null?S.removeAttribute(N):S.setAttribute(N,""+Q)):zt.mustUseProperty?S[zt.propertyName]=Q===null?zt.type===3?!1:"":Q:(N=zt.attributeName,Pt=zt.attributeNamespace,Q===null?S.removeAttribute(N):(zt=zt.type,Q=zt===3||zt===4&&Q===!0?"":""+Q,Pt?S.setAttributeNS(Pt,N,Q):S.setAttribute(N,Q))))}var nt=x.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ct=60103,bt=60106,_t=60107,St=60108,At=60114,vt=60109,dt=60110,gt=60112,Ct=60113,Et=60120,Tt=60115,ot=60116,Mt=60121,Wt=60128,jt=60129,qt=60130,se=60131;if(typeof Symbol=="function"&&Symbol.for){var ae=Symbol.for;ct=ae("react.element"),bt=ae("react.portal"),_t=ae("react.fragment"),St=ae("react.strict_mode"),At=ae("react.profiler"),vt=ae("react.provider"),dt=ae("react.context"),gt=ae("react.forward_ref"),Ct=ae("react.suspense"),Et=ae("react.suspense_list"),Tt=ae("react.memo"),ot=ae("react.lazy"),Mt=ae("react.block"),ae("react.scope"),Wt=ae("react.opaque.id"),jt=ae("react.debug_trace_mode"),qt=ae("react.offscreen"),se=ae("react.legacy_hidden")}var he=typeof Symbol=="function"&&Symbol.iterator;function ke(S){return S===null||typeof S!="object"?null:(S=he&&S[he]||S["@@iterator"],typeof S=="function"?S:null)}var Le;function rr(S){if(Le===void 0)try{throw Error()}catch(Q){var N=Q.stack.trim().match(/\n( *(at )?)/);Le=N&&N[1]||""}return`
`+Le+S}var Ee=!1;function ge(S,N){if(!S||Ee)return"";Ee=!0;var Q=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(N)if(N=function(){throw Error()},Object.defineProperty(N.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(N,[])}catch(Nr){var Pt=Nr}Reflect.construct(S,[],N)}else{try{N.call()}catch(Nr){Pt=Nr}S.call(N.prototype)}else{try{throw Error()}catch(Nr){Pt=Nr}S()}}catch(Nr){if(Nr&&Pt&&typeof Nr.stack=="string"){for(var zt=Nr.stack.split(`
`),ne=Pt.stack.split(`
`),Fe=zt.length-1,er=ne.length-1;1<=Fe&&0<=er&&zt[Fe]!==ne[er];)er--;for(;1<=Fe&&0<=er;Fe--,er--)if(zt[Fe]!==ne[er]){if(Fe!==1||er!==1)do if(Fe--,er--,0>er||zt[Fe]!==ne[er])return`
`+zt[Fe].replace(" at new "," at ");while(1<=Fe&&0<=er);break}}}finally{Ee=!1,Error.prepareStackTrace=Q}return(S=S?S.displayName||S.name:"")?rr(S):""}function we(S){switch(S.tag){case 5:return rr(S.type);case 16:return rr("Lazy");case 13:return rr("Suspense");case 19:return rr("SuspenseList");case 0:case 2:case 15:return S=ge(S.type,!1),S;case 11:return S=ge(S.type.render,!1),S;case 22:return S=ge(S.type._render,!1),S;case 1:return S=ge(S.type,!0),S;default:return""}}function Ce(S){if(S==null)return null;if(typeof S=="function")return S.displayName||S.name||null;if(typeof S=="string")return S;switch(S){case _t:return"Fragment";case bt:return"Portal";case At:return"Profiler";case St:return"StrictMode";case Ct:return"Suspense";case Et:return"SuspenseList"}if(typeof S=="object")switch(S.$$typeof){case dt:return(S.displayName||"Context")+".Consumer";case vt:return(S._context.displayName||"Context")+".Provider";case gt:var N=S.render;return N=N.displayName||N.name||"",S.displayName||(N!==""?"ForwardRef("+N+")":"ForwardRef");case Tt:return Ce(S.type);case Mt:return Ce(S._render);case ot:N=S._payload,S=S._init;try{return Ce(S(N))}catch(Q){}}return null}function ye(S){switch(typeof S){case"boolean":case"number":case"object":case"string":case"undefined":return S;default:return""}}function Gt(S){var N=S.type;return(S=S.nodeName)&&S.toLowerCase()==="input"&&(N==="checkbox"||N==="radio")}function Xt(S){var N=Gt(S)?"checked":"value",Q=Object.getOwnPropertyDescriptor(S.constructor.prototype,N),Pt=""+S[N];if(!S.hasOwnProperty(N)&&typeof Q!="undefined"&&typeof Q.get=="function"&&typeof Q.set=="function"){var zt=Q.get,ne=Q.set;return Object.defineProperty(S,N,{configurable:!0,get:function(){return zt.call(this)},set:function(Fe){Pt=""+Fe,ne.call(this,Fe)}}),Object.defineProperty(S,N,{enumerable:Q.enumerable}),{getValue:function(){return Pt},setValue:function(Fe){Pt=""+Fe},stopTracking:function(){S._valueTracker=null,delete S[N]}}}}function Kt(S){S._valueTracker||(S._valueTracker=Xt(S))}function ze(S){if(!S)return!1;var N=S._valueTracker;if(!N)return!0;var Q=N.getValue(),Pt="";return S&&(Pt=Gt(S)?S.checked?"true":"false":S.value),S=Pt,S!==Q?(N.setValue(S),!0):!1}function ur(S){if(S=S||(typeof document!="undefined"?document:void 0),typeof S=="undefined")return null;try{return S.activeElement||S.body}catch(N){return S.body}}function tr(S,N){var Q=N.checked;return b({},N,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:Q!=null?Q:S._wrapperState.initialChecked})}function re(S,N){var Q=N.defaultValue==null?"":N.defaultValue,Pt=N.checked!=null?N.checked:N.defaultChecked;Q=ye(N.value!=null?N.value:Q),S._wrapperState={initialChecked:Pt,initialValue:Q,controlled:N.type==="checkbox"||N.type==="radio"?N.checked!=null:N.value!=null}}function Qr(S,N){N=N.checked,N!=null&&q(S,"checked",N,!1)}function Ir(S,N){Qr(S,N);var Q=ye(N.value),Pt=N.type;if(Q!=null)Pt==="number"?(Q===0&&S.value===""||S.value!=Q)&&(S.value=""+Q):S.value!==""+Q&&(S.value=""+Q);else if(Pt==="submit"||Pt==="reset"){S.removeAttribute("value");return}N.hasOwnProperty("value")?Wn(S,N.type,Q):N.hasOwnProperty("defaultValue")&&Wn(S,N.type,ye(N.defaultValue)),N.checked==null&&N.defaultChecked!=null&&(S.defaultChecked=!!N.defaultChecked)}function gn(S,N,Q){if(N.hasOwnProperty("value")||N.hasOwnProperty("defaultValue")){var Pt=N.type;if(!(Pt!=="submit"&&Pt!=="reset"||N.value!==void 0&&N.value!==null))return;N=""+S._wrapperState.initialValue,Q||N===S.value||(S.value=N),S.defaultValue=N}Q=S.name,Q!==""&&(S.name=""),S.defaultChecked=!!S._wrapperState.initialChecked,Q!==""&&(S.name=Q)}function Wn(S,N,Q){(N!=="number"||ur(S.ownerDocument)!==S)&&(Q==null?S.defaultValue=""+S._wrapperState.initialValue:S.defaultValue!==""+Q&&(S.defaultValue=""+Q))}function ui(S){var N="";return x.Children.forEach(S,function(Q){Q!=null&&(N+=Q)}),N}function bi(S,N){return S=b({children:void 0},N),(N=ui(N.children))&&(S.children=N),S}function fr(S,N,Q,Pt){if(S=S.options,N){N={};for(var zt=0;zt<Q.length;zt++)N["$"+Q[zt]]=!0;for(Q=0;Q<S.length;Q++)zt=N.hasOwnProperty("$"+S[Q].value),S[Q].selected!==zt&&(S[Q].selected=zt),zt&&Pt&&(S[Q].defaultSelected=!0)}else{for(Q=""+ye(Q),N=null,zt=0;zt<S.length;zt++){if(S[zt].value===Q){S[zt].selected=!0,Pt&&(S[zt].defaultSelected=!0);return}N!==null||S[zt].disabled||(N=S[zt])}N!==null&&(N.selected=!0)}}function Zr(S,N){if(N.dangerouslySetInnerHTML!=null)throw Error(_(91));return b({},N,{value:void 0,defaultValue:void 0,children:""+S._wrapperState.initialValue})}function Sn(S,N){var Q=N.value;if(Q==null){if(Q=N.children,N=N.defaultValue,Q!=null){if(N!=null)throw Error(_(92));if(Array.isArray(Q)){if(!(1>=Q.length))throw Error(_(93));Q=Q[0]}N=Q}N==null&&(N=""),Q=N}S._wrapperState={initialValue:ye(Q)}}function Dn(S,N){var Q=ye(N.value),Pt=ye(N.defaultValue);Q!=null&&(Q=""+Q,Q!==S.value&&(S.value=Q),N.defaultValue==null&&S.defaultValue!==Q&&(S.defaultValue=Q)),Pt!=null&&(S.defaultValue=""+Pt)}function hn(S){var N=S.textContent;N===S._wrapperState.initialValue&&N!==""&&N!==null&&(S.value=N)}var Gn={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function En(S){switch(S){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function In(S,N){return S==null||S==="http://www.w3.org/1999/xhtml"?En(N):S==="http://www.w3.org/2000/svg"&&N==="foreignObject"?"http://www.w3.org/1999/xhtml":S}var Fn,xe=function(S){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(N,Q,Pt,zt){MSApp.execUnsafeLocalFunction(function(){return S(N,Q,Pt,zt)})}:S}(function(S,N){if(S.namespaceURI!==Gn.svg||"innerHTML"in S)S.innerHTML=N;else{for(Fn=Fn||document.createElement("div"),Fn.innerHTML="<svg>"+N.valueOf().toString()+"</svg>",N=Fn.firstChild;S.firstChild;)S.removeChild(S.firstChild);for(;N.firstChild;)S.appendChild(N.firstChild)}});function Ge(S,N){if(N){var Q=S.firstChild;if(Q&&Q===S.lastChild&&Q.nodeType===3){Q.nodeValue=N;return}}S.textContent=N}var Je={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},br=["Webkit","ms","Moz","O"];Object.keys(Je).forEach(function(S){br.forEach(function(N){N=N+S.charAt(0).toUpperCase()+S.substring(1),Je[N]=Je[S]})});function jr(S,N,Q){return N==null||typeof N=="boolean"||N===""?"":Q||typeof N!="number"||N===0||Je.hasOwnProperty(S)&&Je[S]?(""+N).trim():N+"px"}function Wr(S,N){S=S.style;for(var Q in N)if(N.hasOwnProperty(Q)){var Pt=Q.indexOf("--")===0,zt=jr(Q,N[Q],Pt);Q==="float"&&(Q="cssFloat"),Pt?S.setProperty(Q,zt):S[Q]=zt}}var Ut=b({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ft(S,N){if(N){if(Ut[S]&&(N.children!=null||N.dangerouslySetInnerHTML!=null))throw Error(_(137,S));if(N.dangerouslySetInnerHTML!=null){if(N.children!=null)throw Error(_(60));if(!(typeof N.dangerouslySetInnerHTML=="object"&&"__html"in N.dangerouslySetInnerHTML))throw Error(_(61))}if(N.style!=null&&typeof N.style!="object")throw Error(_(62))}}function pt(S,N){if(S.indexOf("-")===-1)return typeof N.is=="string";switch(S){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function J(S){return S=S.target||S.srcElement||window,S.correspondingUseElement&&(S=S.correspondingUseElement),S.nodeType===3?S.parentNode:S}var xt=null,Rt=null,ue=null;function ie(S){if(S=Os(S)){if(typeof xt!="function")throw Error(_(280));var N=S.stateNode;N&&(N=Pl(N),xt(S.stateNode,S.type,N))}}function be(S){Rt?ue?ue.push(S):ue=[S]:Rt=S}function ce(){if(Rt){var S=Rt,N=ue;if(ue=Rt=null,ie(S),N)for(S=0;S<N.length;S++)ie(N[S])}}function We(S,N){return S(N)}function Ne(S,N,Q,Pt,zt){return S(N,Q,Pt,zt)}function Mr(){}var sn=We,hr=!1,cn=!1;function kn(){(Rt!==null||ue!==null)&&(Mr(),ce())}function me(S,N,Q){if(cn)return S(N,Q);cn=!0;try{return sn(S,N,Q)}finally{cn=!1,kn()}}function Tn(S,N){var Q=S.stateNode;if(Q===null)return null;var Pt=Pl(Q);if(Pt===null)return null;Q=Pt[N];t:switch(N){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(Pt=!Pt.disabled)||(S=S.type,Pt=!(S==="button"||S==="input"||S==="select"||S==="textarea")),S=!Pt;break t;default:S=!1}if(S)return null;if(Q&&typeof Q!="function")throw Error(_(231,N,typeof Q));return Q}var Zn=!1;if(A)try{var Kn={};Object.defineProperty(Kn,"passive",{get:function(){Zn=!0}}),window.addEventListener("test",Kn,Kn),window.removeEventListener("test",Kn,Kn)}catch(S){Zn=!1}function Or(S,N,Q,Pt,zt,ne,Fe,er,Nr){var On=Array.prototype.slice.call(arguments,3);try{N.apply(Q,On)}catch(Fi){this.onError(Fi)}}var wn=!1,Cr=null,xr=!1,_n=null,Mi={onError:function(S){wn=!0,Cr=S}};function or(S,N,Q,Pt,zt,ne,Fe,er,Nr){wn=!1,Cr=null,Or.apply(Mi,arguments)}function Bn(S,N,Q,Pt,zt,ne,Fe,er,Nr){if(or.apply(this,arguments),wn){if(wn){var On=Cr;wn=!1,Cr=null}else throw Error(_(198));xr||(xr=!0,_n=On)}}function ti(S){var N=S,Q=S;if(S.alternate)for(;N.return;)N=N.return;else{S=N;do N=S,(N.flags&1026)!==0&&(Q=N.return),S=N.return;while(S)}return N.tag===3?Q:null}function Vn(S){if(S.tag===13){var N=S.memoizedState;if(N===null&&(S=S.alternate,S!==null&&(N=S.memoizedState)),N!==null)return N.dehydrated}return null}function qi(S){if(ti(S)!==S)throw Error(_(188))}function Rn(S){var N=S.alternate;if(!N){if(N=ti(S),N===null)throw Error(_(188));return N!==S?null:S}for(var Q=S,Pt=N;;){var zt=Q.return;if(zt===null)break;var ne=zt.alternate;if(ne===null){if(Pt=zt.return,Pt!==null){Q=Pt;continue}break}if(zt.child===ne.child){for(ne=zt.child;ne;){if(ne===Q)return qi(zt),S;if(ne===Pt)return qi(zt),N;ne=ne.sibling}throw Error(_(188))}if(Q.return!==Pt.return)Q=zt,Pt=ne;else{for(var Fe=!1,er=zt.child;er;){if(er===Q){Fe=!0,Q=zt,Pt=ne;break}if(er===Pt){Fe=!0,Pt=zt,Q=ne;break}er=er.sibling}if(!Fe){for(er=ne.child;er;){if(er===Q){Fe=!0,Q=ne,Pt=zt;break}if(er===Pt){Fe=!0,Pt=ne,Q=zt;break}er=er.sibling}if(!Fe)throw Error(_(189))}}if(Q.alternate!==Pt)throw Error(_(190))}if(Q.tag!==3)throw Error(_(188));return Q.stateNode.current===Q?S:N}function fa(S){if(S=Rn(S),!S)return null;for(var N=S;;){if(N.tag===5||N.tag===6)return N;if(N.child)N.child.return=N,N=N.child;else{if(N===S)break;for(;!N.sibling;){if(!N.return||N.return===S)return null;N=N.return}N.sibling.return=N.return,N=N.sibling}}return null}function Ci(S,N){for(var Q=S.alternate;N!==null;){if(N===S||N===Q)return!0;N=N.return}return!1}var ga,da,zo,Po,au=!1,Yi=[],Ha=null,po=null,Za=null,ho=new Map,za=new Map,ol=[],nf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $l(S,N,Q,Pt,zt){return{blockedOn:S,domEventName:N,eventSystemFlags:Q|16,nativeEvent:zt,targetContainers:[Pt]}}function ih(S,N){switch(S){case"focusin":case"focusout":Ha=null;break;case"dragenter":case"dragleave":po=null;break;case"mouseover":case"mouseout":Za=null;break;case"pointerover":case"pointerout":ho.delete(N.pointerId);break;case"gotpointercapture":case"lostpointercapture":za.delete(N.pointerId)}}function Al(S,N,Q,Pt,zt,ne){return S===null||S.nativeEvent!==ne?(S=$l(N,Q,Pt,zt,ne),N!==null&&(N=Os(N),N!==null&&da(N)),S):(S.eventSystemFlags|=Pt,N=S.targetContainers,zt!==null&&N.indexOf(zt)===-1&&N.push(zt),S)}function Ic(S,N,Q,Pt,zt){switch(N){case"focusin":return Ha=Al(Ha,S,N,Q,Pt,zt),!0;case"dragenter":return po=Al(po,S,N,Q,Pt,zt),!0;case"mouseover":return Za=Al(Za,S,N,Q,Pt,zt),!0;case"pointerover":var ne=zt.pointerId;return ho.set(ne,Al(ho.get(ne)||null,S,N,Q,Pt,zt)),!0;case"gotpointercapture":return ne=zt.pointerId,za.set(ne,Al(za.get(ne)||null,S,N,Q,Pt,zt)),!0}return!1}function ah(S){var N=Ks(S.target);if(N!==null){var Q=ti(N);if(Q!==null){if(N=Q.tag,N===13){if(N=Vn(Q),N!==null){S.blockedOn=N,Po(S.lanePriority,function(){P.unstable_runWithPriority(S.priority,function(){zo(Q)})});return}}else if(N===3&&Q.stateNode.hydrate){S.blockedOn=Q.tag===3?Q.stateNode.containerInfo:null;return}}}S.blockedOn=null}function Ys(S){if(S.blockedOn!==null)return!1;for(var N=S.targetContainers;0<N.length;){var Q=zu(S.domEventName,S.eventSystemFlags,N[0],S.nativeEvent);if(Q!==null)return N=Os(Q),N!==null&&da(N),S.blockedOn=Q,!1;N.shift()}return!0}function Is(S,N,Q){Ys(S)&&Q.delete(N)}function Oc(){for(au=!1;0<Yi.length;){var S=Yi[0];if(S.blockedOn!==null){S=Os(S.blockedOn),S!==null&&ga(S);break}for(var N=S.targetContainers;0<N.length;){var Q=zu(S.domEventName,S.eventSystemFlags,N[0],S.nativeEvent);if(Q!==null){S.blockedOn=Q;break}N.shift()}S.blockedOn===null&&Yi.shift()}Ha!==null&&Ys(Ha)&&(Ha=null),po!==null&&Ys(po)&&(po=null),Za!==null&&Ys(Za)&&(Za=null),ho.forEach(Is),za.forEach(Is)}function sl(S,N){S.blockedOn===N&&(S.blockedOn=null,au||(au=!0,P.unstable_scheduleCallback(P.unstable_NormalPriority,Oc)))}function oh(S){function N(zt){return sl(zt,S)}if(0<Yi.length){sl(Yi[0],S);for(var Q=1;Q<Yi.length;Q++){var Pt=Yi[Q];Pt.blockedOn===S&&(Pt.blockedOn=null)}}for(Ha!==null&&sl(Ha,S),po!==null&&sl(po,S),Za!==null&&sl(Za,S),ho.forEach(N),za.forEach(N),Q=0;Q<ol.length;Q++)Pt=ol[Q],Pt.blockedOn===S&&(Pt.blockedOn=null);for(;0<ol.length&&(Q=ol[0],Q.blockedOn===null);)ah(Q),Q.blockedOn===null&&ol.shift()}function Br(S,N){var Q={};return Q[S.toLowerCase()]=N.toLowerCase(),Q["Webkit"+S]="webkit"+N,Q["Moz"+S]="moz"+N,Q}var Iu={animationend:Br("Animation","AnimationEnd"),animationiteration:Br("Animation","AnimationIteration"),animationstart:Br("Animation","AnimationStart"),transitionend:Br("Transition","TransitionEnd")},af={},jh={};A&&(jh=document.createElement("div").style,"AnimationEvent"in window||(delete Iu.animationend.animation,delete Iu.animationiteration.animation,delete Iu.animationstart.animation),"TransitionEvent"in window||delete Iu.transitionend.transition);function Dc(S){if(af[S])return af[S];if(!Iu[S])return S;var N=Iu[S],Q;for(Q in N)if(N.hasOwnProperty(Q)&&Q in jh)return af[S]=N[Q];return S}var Tf=Dc("animationend"),Td=Dc("animationiteration"),Md=Dc("animationstart"),Kl=Dc("transitionend"),Zl=new Map,Wh=new Map,qd=["abort","abort",Tf,"animationEnd",Td,"animationIteration",Md,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Kl,"transitionEnd","waiting","waiting"];function of(S,N){for(var Q=0;Q<S.length;Q+=2){var Pt=S[Q],zt=S[Q+1];zt="on"+(zt[0].toUpperCase()+zt.slice(1)),Wh.set(Pt,N),Zl.set(Pt,zt),F(zt,[Pt])}}var Ql=P.unstable_now;Ql();var go=8;function sf(S){if((1&S)!==0)return go=15,1;if((2&S)!==0)return go=14,2;if((4&S)!==0)return go=13,4;var N=24&S;return N!==0?(go=12,N):(S&32)!==0?(go=11,32):(N=192&S,N!==0?(go=10,N):(S&256)!==0?(go=9,256):(N=3584&S,N!==0?(go=8,N):(S&4096)!==0?(go=7,4096):(N=4186112&S,N!==0?(go=6,N):(N=62914560&S,N!==0?(go=5,N):S&67108864?(go=4,67108864):(S&134217728)!==0?(go=3,134217728):(N=805306368&S,N!==0?(go=2,N):(1073741824&S)!==0?(go=1,1073741824):(go=8,S))))))}function sh(S){switch(S){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function uh(S){switch(S){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(_(358,S))}}function Pc(S,N){var Q=S.pendingLanes;if(Q===0)return go=0;var Pt=0,zt=0,ne=S.expiredLanes,Fe=S.suspendedLanes,er=S.pingedLanes;if(ne!==0)Pt=ne,zt=go=15;else if(ne=Q&134217727,ne!==0){var Nr=ne&~Fe;Nr!==0?(Pt=sf(Nr),zt=go):(er&=ne,er!==0&&(Pt=sf(er),zt=go))}else ne=Q&~Fe,ne!==0?(Pt=sf(ne),zt=go):er!==0&&(Pt=sf(er),zt=go);if(Pt===0)return 0;if(Pt=31-Du(Pt),Pt=Q&((0>Pt?0:1<<Pt)<<1)-1,N!==0&&N!==Pt&&(N&Fe)===0){if(sf(N),zt<=go)return N;go=zt}if(N=S.entangledLanes,N!==0)for(S=S.entanglements,N&=Pt;0<N;)Q=31-Du(N),zt=1<<Q,Pt|=S[Q],N&=~zt;return Pt}function Vh(S){return S=S.pendingLanes&-1073741825,S!==0?S:S&1073741824?1073741824:0}function Qa(S,N){switch(S){case 15:return 1;case 14:return 2;case 12:return S=Ya(24&~N),S===0?Qa(10,N):S;case 10:return S=Ya(192&~N),S===0?Qa(8,N):S;case 8:return S=Ya(3584&~N),S===0&&(S=Ya(4186112&~N),S===0&&(S=512)),S;case 2:return N=Ya(805306368&~N),N===0&&(N=268435456),N}throw Error(_(358,S))}function Ya(S){return S&-S}function Gu(S){for(var N=[],Q=0;31>Q;Q++)N.push(S);return N}function Ou(S,N,Q){S.pendingLanes|=N;var Pt=N-1;S.suspendedLanes&=Pt,S.pingedLanes&=Pt,S=S.eventTimes,N=31-Du(N),S[N]=Q}var Du=Math.clz32?Math.clz32:Mv,lh=Math.log,Hh=Math.LN2;function Mv(S){return S===0?32:31-(lh(S)/Hh|0)|0}var tv=P.unstable_UserBlockingPriority,Id=P.unstable_runWithPriority,Jo=!0;function yo(S,N,Q,Pt){hr||Mr();var zt=Yh,ne=hr;hr=!0;try{Ne(zt,S,N,Q,Pt)}finally{(hr=ne)||kn()}}function Lc(S,N,Q,Pt){Id(tv,Yh.bind(null,S,N,Q,Pt))}function Yh(S,N,Q,Pt){if(Jo){var zt;if((zt=(N&4)===0)&&0<Yi.length&&-1<nf.indexOf(S))S=$l(null,S,N,Q,Pt),Yi.push(S);else{var ne=zu(S,N,Q,Pt);if(ne===null)zt&&ih(S,Pt);else{if(zt){if(-1<nf.indexOf(S)){S=$l(ne,S,N,Q,Pt),Yi.push(S);return}if(Ic(ne,S,N,Q,Pt))return;ih(S,Pt)}cc(S,N,Pt,null,Q)}}}}function zu(S,N,Q,Pt){var zt=J(Pt);if(zt=Ks(zt),zt!==null){var ne=ti(zt);if(ne===null)zt=null;else{var Fe=ne.tag;if(Fe===13){if(zt=Vn(ne),zt!==null)return zt;zt=null}else if(Fe===3){if(ne.stateNode.hydrate)return ne.tag===3?ne.stateNode.containerInfo:null;zt=null}else ne!==zt&&(zt=null)}}return cc(S,N,Pt,zt,Q),null}var ns=null,Mf=null,xs=null;function Jl(){if(xs)return xs;var S,N=Mf,Q=N.length,Pt,zt="value"in ns?ns.value:ns.textContent,ne=zt.length;for(S=0;S<Q&&N[S]===zt[S];S++);var Fe=Q-S;for(Pt=1;Pt<=Fe&&N[Q-Pt]===zt[ne-Pt];Pt++);return xs=zt.slice(S,1<Pt?1-Pt:void 0)}function Cl(S){var N=S.keyCode;return"charCode"in S?(S=S.charCode,S===0&&N===13&&(S=13)):S=N,S===10&&(S=13),32<=S||S===13?S:0}function If(){return!0}function Tl(){return!1}function _o(S){function N(Q,Pt,zt,ne,Fe){this._reactName=Q,this._targetInst=zt,this.type=Pt,this.nativeEvent=ne,this.target=Fe,this.currentTarget=null;for(var er in S)S.hasOwnProperty(er)&&(Q=S[er],this[er]=Q?Q(ne):ne[er]);return this.isDefaultPrevented=(ne.defaultPrevented!=null?ne.defaultPrevented:ne.returnValue===!1)?If:Tl,this.isPropagationStopped=Tl,this}return b(N.prototype,{preventDefault:function(){this.defaultPrevented=!0;var Q=this.nativeEvent;Q&&(Q.preventDefault?Q.preventDefault():typeof Q.returnValue!="unknown"&&(Q.returnValue=!1),this.isDefaultPrevented=If)},stopPropagation:function(){var Q=this.nativeEvent;Q&&(Q.stopPropagation?Q.stopPropagation():typeof Q.cancelBubble!="unknown"&&(Q.cancelBubble=!0),this.isPropagationStopped=If)},persist:function(){},isPersistent:If}),N}var Uu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(S){return S.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ou=_o(Uu),ql=b({},Uu,{view:0,detail:0}),Xh=_o(ql),ul,tc,ec,mo=b({},ql,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fe,button:0,buttons:0,relatedTarget:function(S){return S.relatedTarget===void 0?S.fromElement===S.srcElement?S.toElement:S.fromElement:S.relatedTarget},movementX:function(S){return"movementX"in S?S.movementX:(S!==ec&&(ec&&S.type==="mousemove"?(ul=S.screenX-ec.screenX,tc=S.screenY-ec.screenY):tc=ul=0,ec=S),ul)},movementY:function(S){return"movementY"in S?S.movementY:tc}}),Pu=_o(mo),eo=b({},mo,{dataTransfer:0}),ch=_o(eo),$h=b({},ql,{relatedTarget:0}),Xs=_o($h),Kh=b({},Uu,{animationName:0,elapsedTime:0,pseudoElement:0}),Of=_o(Kh),rc=b({},Uu,{clipboardData:function(S){return"clipboardData"in S?S.clipboardData:window.clipboardData}}),Rc=_o(rc),nc=b({},Uu,{data:0}),ll=_o(nc),ic={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ns={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ju(S){var N=this.nativeEvent;return N.getModifierState?N.getModifierState(S):(S=fh[S])?!!N[S]:!1}function fe(){return ju}var qe=b({},ql,{key:function(S){if(S.key){var N=ic[S.key]||S.key;if(N!=="Unidentified")return N}return S.type==="keypress"?(S=Cl(S),S===13?"Enter":String.fromCharCode(S)):S.type==="keydown"||S.type==="keyup"?Ns[S.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fe,charCode:function(S){return S.type==="keypress"?Cl(S):0},keyCode:function(S){return S.type==="keydown"||S.type==="keyup"?S.keyCode:0},which:function(S){return S.type==="keypress"?Cl(S):S.type==="keydown"||S.type==="keyup"?S.keyCode:0}}),Sr=_o(qe),Kr=b({},mo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pn=_o(Kr),ci=b({},ql,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fe}),Pi=_o(ci),xa=b({},Uu,{propertyName:0,elapsedTime:0,pseudoElement:0}),ro=_o(xa),su=b({},mo,{deltaX:function(S){return"deltaX"in S?S.deltaX:"wheelDeltaX"in S?-S.wheelDeltaX:0},deltaY:function(S){return"deltaY"in S?S.deltaY:"wheelDeltaY"in S?-S.wheelDeltaY:"wheelDelta"in S?-S.wheelDelta:0},deltaZ:0,deltaMode:0}),gu=_o(su),hh=[9,13,27,32],Zh=A&&"CompositionEvent"in window,Df=null;A&&"documentMode"in document&&(Df=document.documentMode);var Od=A&&"TextEvent"in window&&!Df,Dd=A&&(!Zh||Df&&8<Df&&11>=Df),dh=String.fromCharCode(32),rp=!1;function Iv(S,N){switch(S){case"keyup":return hh.indexOf(N.keyCode)!==-1;case"keydown":return N.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pd(S){return S=S.detail,typeof S=="object"&&"data"in S?S.data:null}var Pf=!1;function cl(S,N){switch(S){case"compositionend":return Pd(N);case"keypress":return N.which!==32?null:(rp=!0,dh);case"textInput":return S=N.data,S===dh&&rp?null:S;default:return null}}function Fc(S,N){if(Pf)return S==="compositionend"||!Zh&&Iv(S,N)?(S=Jl(),xs=Mf=ns=null,Pf=!1,S):null;switch(S){case"paste":return null;case"keypress":if(!(N.ctrlKey||N.altKey||N.metaKey)||N.ctrlKey&&N.altKey){if(N.char&&1<N.char.length)return N.char;if(N.which)return String.fromCharCode(N.which)}return null;case"compositionend":return Dd&&N.locale!=="ko"?null:N.data;default:return null}}var Lf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $s(S){var N=S&&S.nodeName&&S.nodeName.toLowerCase();return N==="input"?!!Lf[S.type]:N==="textarea"}function Ov(S,N,Q,Pt){be(Pt),N=fc(N,"onChange"),0<N.length&&(Q=new ou("onChange","change",null,Q,Pt),S.push({event:Q,listeners:N}))}var uf=null,yu=null;function ev(S){ds(S,0)}function rv(S){var N=Xu(S);if(ze(N))return S}function Sp(S,N){if(S==="change")return N}var np=!1;if(A){var Ld;if(A){var nv="oninput"in document;if(!nv){var _e=document.createElement("div");_e.setAttribute("oninput","return;"),nv=typeof _e.oninput=="function"}Ld=nv}else Ld=!1;np=Ld&&(!document.documentMode||9<document.documentMode)}function tn(){uf&&(uf.detachEvent("onpropertychange",Z),yu=uf=null)}function Z(S){if(S.propertyName==="value"&&rv(yu)){var N=[];if(Ov(N,yu,S,J(S)),S=ev,hr)S(N);else{hr=!0;try{We(S,N)}finally{hr=!1,kn()}}}}function w(S,N,Q){S==="focusin"?(tn(),uf=N,yu=Q,uf.attachEvent("onpropertychange",Z)):S==="focusout"&&tn()}function hi(S){if(S==="selectionchange"||S==="keyup"||S==="keydown")return rv(yu)}function An(S,N){if(S==="click")return rv(N)}function ua(S,N){if(S==="input"||S==="change")return rv(N)}function qo(S,N){return S===N&&(S!==0||1/S===1/N)||S!==S&&N!==N}var pi=typeof Object.is=="function"?Object.is:qo,Nc=Object.prototype.hasOwnProperty;function ks(S,N){if(pi(S,N))return!0;if(typeof S!="object"||S===null||typeof N!="object"||N===null)return!1;var Q=Object.keys(S),Pt=Object.keys(N);if(Q.length!==Pt.length)return!1;for(Pt=0;Pt<Q.length;Pt++)if(!Nc.call(N,Q[Pt])||!pi(S[Q[Pt]],N[Q[Pt]]))return!1;return!0}function uu(S){for(;S&&S.firstChild;)S=S.firstChild;return S}function ac(S,N){var Q=uu(S);S=0;for(var Pt;Q;){if(Q.nodeType===3){if(Pt=S+Q.textContent.length,S<=N&&Pt>=N)return{node:Q,offset:N-S};S=Pt}t:{for(;Q;){if(Q.nextSibling){Q=Q.nextSibling;break t}Q=Q.parentNode}Q=void 0}Q=uu(Q)}}function Ja(S,N){return S&&N?S===N?!0:S&&S.nodeType===3?!1:N&&N.nodeType===3?Ja(S,N.parentNode):"contains"in S?S.contains(N):S.compareDocumentPosition?!!(S.compareDocumentPosition(N)&16):!1:!1}function Wu(){for(var S=window,N=ur();N instanceof S.HTMLIFrameElement;){try{var Q=typeof N.contentWindow.location.href=="string"}catch(Pt){Q=!1}if(Q)S=N.contentWindow;else break;N=ur(S.document)}return N}function lf(S){var N=S&&S.nodeName&&S.nodeName.toLowerCase();return N&&(N==="input"&&(S.type==="text"||S.type==="search"||S.type==="tel"||S.type==="url"||S.type==="password")||N==="textarea"||S.contentEditable==="true")}var oc=A&&"documentMode"in document&&11>=document.documentMode,ha=null,sc=null,uc=null,fl=!1;function Rf(S,N,Q){var Pt=Q.window===Q?Q.document:Q.nodeType===9?Q:Q.ownerDocument;fl||ha==null||ha!==ur(Pt)||(Pt=ha,"selectionStart"in Pt&&lf(Pt)?Pt={start:Pt.selectionStart,end:Pt.selectionEnd}:(Pt=(Pt.ownerDocument&&Pt.ownerDocument.defaultView||window).getSelection(),Pt={anchorNode:Pt.anchorNode,anchorOffset:Pt.anchorOffset,focusNode:Pt.focusNode,focusOffset:Pt.focusOffset}),uc&&ks(uc,Pt)||(uc=Pt,Pt=fc(sc,"onSelect"),0<Pt.length&&(N=new ou("onSelect","select",null,N,Q),S.push({event:N,listeners:Pt}),N.target=ha)))}of("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),of("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),of(qd,2);for(var Qh="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),kc=0;kc<Qh.length;kc++)Wh.set(Qh[kc],0);M("onMouseEnter",["mouseout","mouseover"]),M("onMouseLeave",["mouseout","mouseover"]),M("onPointerEnter",["pointerout","pointerover"]),M("onPointerLeave",["pointerout","pointerover"]),F("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),F("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),F("onBeforeInput",["compositionend","keypress","textInput","paste"]),F("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),F("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),F("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fa=new Set("cancel close invalid load scroll toggle".split(" ").concat(lc));function Ri(S,N,Q){var Pt=S.type||"unknown-event";S.currentTarget=Q,Bn(Pt,N,void 0,S),S.currentTarget=null}function ds(S,N){N=(N&4)!==0;for(var Q=0;Q<S.length;Q++){var Pt=S[Q],zt=Pt.event;Pt=Pt.listeners;t:{var ne=void 0;if(N)for(var Fe=Pt.length-1;0<=Fe;Fe--){var er=Pt[Fe],Nr=er.instance,On=er.currentTarget;if(er=er.listener,Nr!==ne&&zt.isPropagationStopped())break t;Ri(zt,er,On),ne=Nr}else for(Fe=0;Fe<Pt.length;Fe++){if(er=Pt[Fe],Nr=er.instance,On=er.currentTarget,er=er.listener,Nr!==ne&&zt.isPropagationStopped())break t;Ri(zt,er,On),ne=Nr}}}if(xr)throw S=_n,xr=!1,_n=null,S}function co(S,N){var Q=Ao(N),Pt=S+"__bubble";Q.has(Pt)||(Jh(N,S,2,!1),Q.add(Pt))}var Ff="_reactListening"+Math.random().toString(36).slice(2);function Vu(S){S[Ff]||(S[Ff]=!0,O.forEach(function(N){Fa.has(N)||cf(N,!1,S,null),cf(N,!0,S,null)}))}function cf(S,N,Q,Pt){var zt=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,ne=Q;if(S==="selectionchange"&&Q.nodeType!==9&&(ne=Q.ownerDocument),Pt!==null&&!N&&Fa.has(S)){if(S!=="scroll")return;zt|=2,ne=Pt}var Fe=Ao(ne),er=S+"__"+(N?"capture":"bubble");Fe.has(er)||(N&&(zt|=4),Jh(ne,S,zt,N),Fe.add(er))}function Jh(S,N,Q,Pt){var zt=Wh.get(N);switch(zt===void 0?2:zt){case 0:zt=yo;break;case 1:zt=Lc;break;default:zt=Yh}Q=zt.bind(null,N,Q,S),zt=void 0,!Zn||N!=="touchstart"&&N!=="touchmove"&&N!=="wheel"||(zt=!0),Pt?zt!==void 0?S.addEventListener(N,Q,{capture:!0,passive:zt}):S.addEventListener(N,Q,!0):zt!==void 0?S.addEventListener(N,Q,{passive:zt}):S.addEventListener(N,Q,!1)}function cc(S,N,Q,Pt,zt){var ne=Pt;if((N&1)===0&&(N&2)===0&&Pt!==null)t:for(;;){if(Pt===null)return;var Fe=Pt.tag;if(Fe===3||Fe===4){var er=Pt.stateNode.containerInfo;if(er===zt||er.nodeType===8&&er.parentNode===zt)break;if(Fe===4)for(Fe=Pt.return;Fe!==null;){var Nr=Fe.tag;if((Nr===3||Nr===4)&&(Nr=Fe.stateNode.containerInfo,Nr===zt||Nr.nodeType===8&&Nr.parentNode===zt))return;Fe=Fe.return}for(;er!==null;){if(Fe=Ks(er),Fe===null)return;if(Nr=Fe.tag,Nr===5||Nr===6){Pt=ne=Fe;continue t}er=er.parentNode}}Pt=Pt.return}me(function(){var On=ne,Fi=J(Q),ba=[];t:{var si=Zl.get(S);if(si!==void 0){var $i=ou,Ea=S;switch(S){case"keypress":if(Cl(Q)===0)break t;case"keydown":case"keyup":$i=Sr;break;case"focusin":Ea="focus",$i=Xs;break;case"focusout":Ea="blur",$i=Xs;break;case"beforeblur":case"afterblur":$i=Xs;break;case"click":if(Q.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$i=Pu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$i=ch;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$i=Pi;break;case Tf:case Td:case Md:$i=Of;break;case Kl:$i=ro;break;case"scroll":$i=Xh;break;case"wheel":$i=gu;break;case"copy":case"cut":case"paste":$i=Rc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$i=Pn}var ra=(N&4)!==0,vn=!ra&&S==="scroll",$r=ra?si!==null?si+"Capture":null:si;ra=[];for(var un=On,Jn;un!==null;){Jn=un;var ei=Jn.stateNode;if(Jn.tag===5&&ei!==null&&(Jn=ei,$r!==null&&(ei=Tn(un,$r),ei!=null&&ra.push(hl(un,ei,Jn)))),vn)break;un=un.return}0<ra.length&&(si=new $i(si,Ea,null,Q,Fi),ba.push({event:si,listeners:ra}))}}if((N&7)===0){t:{if(si=S==="mouseover"||S==="pointerover",$i=S==="mouseout"||S==="pointerout",si&&(N&16)===0&&(Ea=Q.relatedTarget||Q.fromElement)&&(Ks(Ea)||Ea[bs]))break t;if(($i||si)&&(si=Fi.window===Fi?Fi:(si=Fi.ownerDocument)?si.defaultView||si.parentWindow:window,$i?(Ea=Q.relatedTarget||Q.toElement,$i=On,Ea=Ea?Ks(Ea):null,Ea!==null&&(vn=ti(Ea),Ea!==vn||Ea.tag!==5&&Ea.tag!==6)&&(Ea=null)):($i=null,Ea=On),$i!==Ea)){if(ra=Pu,ei="onMouseLeave",$r="onMouseEnter",un="mouse",(S==="pointerout"||S==="pointerover")&&(ra=Pn,ei="onPointerLeave",$r="onPointerEnter",un="pointer"),vn=$i==null?si:Xu($i),Jn=Ea==null?si:Xu(Ea),si=new ra(ei,un+"leave",$i,Q,Fi),si.target=vn,si.relatedTarget=Jn,ei=null,Ks(Fi)===On&&(ra=new ra($r,un+"enter",Ea,Q,Fi),ra.target=Jn,ra.relatedTarget=vn,ei=ra),vn=ei,$i&&Ea)e:{for(ra=$i,$r=Ea,un=0,Jn=ra;Jn;Jn=Ml(Jn))un++;for(Jn=0,ei=$r;ei;ei=Ml(ei))Jn++;for(;0<un-Jn;)ra=Ml(ra),un--;for(;0<Jn-un;)$r=Ml($r),Jn--;for(;un--;){if(ra===$r||$r!==null&&ra===$r.alternate)break e;ra=Ml(ra),$r=Ml($r)}ra=null}else ra=null;$i!==null&&qh(ba,si,$i,ra,!1),Ea!==null&&vn!==null&&qh(ba,vn,Ea,ra,!0)}}t:{if(si=On?Xu(On):window,$i=si.nodeName&&si.nodeName.toLowerCase(),$i==="select"||$i==="input"&&si.type==="file")var La=Sp;else if($s(si))if(np)La=ua;else{La=hi;var Vi=w}else($i=si.nodeName)&&$i.toLowerCase()==="input"&&(si.type==="checkbox"||si.type==="radio")&&(La=An);if(La&&(La=La(S,On))){Ov(ba,La,Q,Fi);break t}Vi&&Vi(S,si,On),S==="focusout"&&(Vi=si._wrapperState)&&Vi.controlled&&si.type==="number"&&Wn(si,"number",si.value)}switch(Vi=On?Xu(On):window,S){case"focusin":($s(Vi)||Vi.contentEditable==="true")&&(ha=Vi,sc=On,uc=null);break;case"focusout":uc=sc=ha=null;break;case"mousedown":fl=!0;break;case"contextmenu":case"mouseup":case"dragend":fl=!1,Rf(ba,Q,Fi);break;case"selectionchange":if(oc)break;case"keydown":case"keyup":Rf(ba,Q,Fi)}var Ba;if(Zh)t:{switch(S){case"compositionstart":var qa="onCompositionStart";break t;case"compositionend":qa="onCompositionEnd";break t;case"compositionupdate":qa="onCompositionUpdate";break t}qa=void 0}else Pf?Iv(S,Q)&&(qa="onCompositionEnd"):S==="keydown"&&Q.keyCode===229&&(qa="onCompositionStart");qa&&(Dd&&Q.locale!=="ko"&&(Pf||qa!=="onCompositionStart"?qa==="onCompositionEnd"&&Pf&&(Ba=Jl()):(ns=Fi,Mf="value"in ns?ns.value:ns.textContent,Pf=!0)),Vi=fc(On,qa),0<Vi.length&&(qa=new ll(qa,S,null,Q,Fi),ba.push({event:qa,listeners:Vi}),Ba?qa.data=Ba:(Ba=Pd(Q),Ba!==null&&(qa.data=Ba)))),(Ba=Od?cl(S,Q):Fc(S,Q))&&(On=fc(On,"onBeforeInput"),0<On.length&&(Fi=new ll("onBeforeInput","beforeinput",null,Q,Fi),ba.push({event:Fi,listeners:On}),Fi.data=Ba))}ds(ba,N)})}function hl(S,N,Q){return{instance:S,listener:N,currentTarget:Q}}function fc(S,N){for(var Q=N+"Capture",Pt=[];S!==null;){var zt=S,ne=zt.stateNode;zt.tag===5&&ne!==null&&(zt=ne,ne=Tn(S,Q),ne!=null&&Pt.unshift(hl(S,ne,zt)),ne=Tn(S,N),ne!=null&&Pt.push(hl(S,ne,zt))),S=S.return}return Pt}function Ml(S){if(S===null)return null;do S=S.return;while(S&&S.tag!==5);return S||null}function qh(S,N,Q,Pt,zt){for(var ne=N._reactName,Fe=[];Q!==null&&Q!==Pt;){var er=Q,Nr=er.alternate,On=er.stateNode;if(Nr!==null&&Nr===Pt)break;er.tag===5&&On!==null&&(er=On,zt?(Nr=Tn(Q,ne),Nr!=null&&Fe.unshift(hl(Q,Nr,er))):zt||(Nr=Tn(Q,ne),Nr!=null&&Fe.push(hl(Q,Nr,er)))),Q=Q.return}Fe.length!==0&&S.push({event:N,listeners:Fe})}function ff(){}var Il=null,Ol=null;function Hu(S,N){switch(S){case"button":case"input":case"select":case"textarea":return!!N.autoFocus}return!1}function vh(S,N){return S==="textarea"||S==="option"||S==="noscript"||typeof N.children=="string"||typeof N.children=="number"||typeof N.dangerouslySetInnerHTML=="object"&&N.dangerouslySetInnerHTML!==null&&N.dangerouslySetInnerHTML.__html!=null}var Yu=typeof setTimeout=="function"?setTimeout:void 0,Rd=typeof clearTimeout=="function"?clearTimeout:void 0;function vi(S){S.nodeType===1?S.textContent="":S.nodeType===9&&(S=S.body,S!=null&&(S.textContent=""))}function uo(S){for(;S!=null;S=S.nextSibling){var N=S.nodeType;if(N===1||N===3)break}return S}function Ki(S){S=S.previousSibling;for(var N=0;S;){if(S.nodeType===8){var Q=S.data;if(Q==="$"||Q==="$!"||Q==="$?"){if(N===0)return S;N--}else Q==="/$"&&N++}S=S.previousSibling}return null}var Dl=0;function td(S){return{$$typeof:Wt,toString:S,valueOf:S}}var dl=Math.random().toString(36).slice(2),hc="__reactFiber$"+dl,dc="__reactProps$"+dl,bs="__reactContainer$"+dl,Nf="__reactEvents$"+dl;function Ks(S){var N=S[hc];if(N)return N;for(var Q=S.parentNode;Q;){if(N=Q[bs]||Q[hc]){if(Q=N.alternate,N.child!==null||Q!==null&&Q.child!==null)for(S=Ki(S);S!==null;){if(Q=S[hc])return Q;S=Ki(S)}return N}S=Q,Q=S.parentNode}return null}function Os(S){return S=S[hc]||S[bs],!S||S.tag!==5&&S.tag!==6&&S.tag!==13&&S.tag!==3?null:S}function Xu(S){if(S.tag===5||S.tag===6)return S.stateNode;throw Error(_(33))}function Pl(S){return S[dc]||null}function Ao(S){var N=S[Nf];return N===void 0&&(N=S[Nf]=new Set),N}var kf=[],$u=-1;function vl(S){return{current:S}}function Co(S){0>$u||(S.current=kf[$u],kf[$u]=null,$u--)}function Uo(S,N){$u++,kf[$u]=S.current,S.current=N}var Ku={},is=vl(Ku),Ds=vl(!1),Re=Ku;function mu(S,N){var Q=S.type.contextTypes;if(!Q)return Ku;var Pt=S.stateNode;if(Pt&&Pt.__reactInternalMemoizedUnmaskedChildContext===N)return Pt.__reactInternalMemoizedMaskedChildContext;var zt={},ne;for(ne in Q)zt[ne]=N[ne];return Pt&&(S=S.stateNode,S.__reactInternalMemoizedUnmaskedChildContext=N,S.__reactInternalMemoizedMaskedChildContext=zt),zt}function Es(S){return S=S.childContextTypes,S!=null}function Zs(){Co(Ds),Co(is)}function wa(S,N,Q){if(is.current!==Ku)throw Error(_(168));Uo(is,N),Uo(Ds,Q)}function ed(S,N,Q){var Pt=S.stateNode;if(S=N.childContextTypes,typeof Pt.getChildContext!="function")return Q;Pt=Pt.getChildContext();for(var zt in Pt)if(!(zt in S))throw Error(_(108,Ce(N)||"Unknown",zt));return b({},Q,Pt)}function Ss(S){return S=(S=S.stateNode)&&S.__reactInternalMemoizedMergedChildContext||Ku,Re=is.current,Uo(is,S),Uo(Ds,Ds.current),!0}function rd(S,N,Q){var Pt=S.stateNode;if(!Pt)throw Error(_(169));Q?(S=ed(S,N,Re),Pt.__reactInternalMemoizedMergedChildContext=S,Co(Ds),Co(is),Uo(is,S)):Co(Ds),Uo(Ds,Q)}var lu=null,vc=null,ph=P.unstable_runWithPriority,gh=P.unstable_scheduleCallback,pc=P.unstable_cancelCallback,Bc=P.unstable_shouldYield,pl=P.unstable_requestPaint,Fd=P.unstable_now,Dv=P.unstable_getCurrentPriorityLevel,nd=P.unstable_ImmediatePriority,Nd=P.unstable_UserBlockingPriority,id=P.unstable_NormalPriority,gc=P.unstable_LowPriority,Pv=P.unstable_IdlePriority,kd={},iv=pl!==void 0?pl:function(){},cu=null,yh=null,Ll=!1,ad=Fd(),ts=1e4>ad?Fd:function(){return Fd()-ad};function Qs(){switch(Dv()){case nd:return 99;case Nd:return 98;case id:return 97;case gc:return 96;case Pv:return 95;default:throw Error(_(332))}}function mh(S){switch(S){case 99:return nd;case 98:return Nd;case 97:return id;case 96:return gc;case 95:return Pv;default:throw Error(_(332))}}function hf(S,N){return S=mh(S),ph(S,N)}function fu(S,N,Q){return S=mh(S),gh(S,N,Q)}function gl(){if(yh!==null){var S=yh;yh=null,pc(S)}ws()}function ws(){if(!Ll&&cu!==null){Ll=!0;var S=0;try{var N=cu;hf(99,function(){for(;S<N.length;S++){var Q=N[S];do Q=Q(!0);while(Q!==null)}}),cu=null}catch(Q){throw cu!==null&&(cu=cu.slice(S+1)),gh(nd,gl),Q}finally{Ll=!1}}}var wp=nt.ReactCurrentBatchConfig;function vs(S,N){if(S&&S.defaultProps){N=b({},N),S=S.defaultProps;for(var Q in S)N[Q]===void 0&&(N[Q]=S[Q]);return N}return N}var Bd=vl(null),od=null,Da=null,Zu=null;function Gc(){Zu=Da=od=null}function Lv(S){var N=Bd.current;Co(Bd),S.type._context._currentValue=N}function xh(S,N){for(;S!==null;){var Q=S.alternate;if((S.childLanes&N)===N){if(Q===null||(Q.childLanes&N)===N)break;Q.childLanes|=N}else S.childLanes|=N,Q!==null&&(Q.childLanes|=N);S=S.return}}function bh(S,N){od=S,Zu=Da=null,S=S.dependencies,S!==null&&S.firstContext!==null&&((S.lanes&N)!==0&&(Fu=!0),S.firstContext=null)}function _a(S,N){if(Zu!==S&&N!==!1&&N!==0)if((typeof N!="number"||N===1073741823)&&(Zu=S,N=1073741823),N={context:S,observedBits:N,next:null},Da===null){if(od===null)throw Error(_(308));Da=N,od.dependencies={lanes:0,firstContext:N,responders:null}}else Da=Da.next=N;return S._currentValue}var To=!1;function Qu(S){S.updateQueue={baseState:S.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function Ua(S,N){S=S.updateQueue,N.updateQueue===S&&(N.updateQueue={baseState:S.baseState,firstBaseUpdate:S.firstBaseUpdate,lastBaseUpdate:S.lastBaseUpdate,shared:S.shared,effects:S.effects})}function yc(S,N){return{eventTime:S,lane:N,tag:0,payload:null,callback:null,next:null}}function xu(S,N){if(S=S.updateQueue,S!==null){S=S.shared;var Q=S.pending;Q===null?N.next=N:(N.next=Q.next,Q.next=N),S.pending=N}}function sd(S,N){var Q=S.updateQueue,Pt=S.alternate;if(Pt!==null&&(Pt=Pt.updateQueue,Q===Pt)){var zt=null,ne=null;if(Q=Q.firstBaseUpdate,Q!==null){do{var Fe={eventTime:Q.eventTime,lane:Q.lane,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null};ne===null?zt=ne=Fe:ne=ne.next=Fe,Q=Q.next}while(Q!==null);ne===null?zt=ne=N:ne=ne.next=N}else zt=ne=N;Q={baseState:Pt.baseState,firstBaseUpdate:zt,lastBaseUpdate:ne,shared:Pt.shared,effects:Pt.effects},S.updateQueue=Q;return}S=Q.lastBaseUpdate,S===null?Q.firstBaseUpdate=N:S.next=N,Q.lastBaseUpdate=N}function Js(S,N,Q,Pt){var zt=S.updateQueue;To=!1;var ne=zt.firstBaseUpdate,Fe=zt.lastBaseUpdate,er=zt.shared.pending;if(er!==null){zt.shared.pending=null;var Nr=er,On=Nr.next;Nr.next=null,Fe===null?ne=On:Fe.next=On,Fe=Nr;var Fi=S.alternate;if(Fi!==null){Fi=Fi.updateQueue;var ba=Fi.lastBaseUpdate;ba!==Fe&&(ba===null?Fi.firstBaseUpdate=On:ba.next=On,Fi.lastBaseUpdate=Nr)}}if(ne!==null){ba=zt.baseState,Fe=0,Fi=On=Nr=null;do{er=ne.lane;var si=ne.eventTime;if((Pt&er)===er){Fi!==null&&(Fi=Fi.next={eventTime:si,lane:0,tag:ne.tag,payload:ne.payload,callback:ne.callback,next:null});t:{var $i=S,Ea=ne;switch(er=N,si=Q,Ea.tag){case 1:if($i=Ea.payload,typeof $i=="function"){ba=$i.call(si,ba,er);break t}ba=$i;break t;case 3:$i.flags=$i.flags&-4097|64;case 0:if($i=Ea.payload,er=typeof $i=="function"?$i.call(si,ba,er):$i,er==null)break t;ba=b({},ba,er);break t;case 2:To=!0}}ne.callback!==null&&(S.flags|=32,er=zt.effects,er===null?zt.effects=[ne]:er.push(ne))}else si={eventTime:si,lane:er,tag:ne.tag,payload:ne.payload,callback:ne.callback,next:null},Fi===null?(On=Fi=si,Nr=ba):Fi=Fi.next=si,Fe|=er;if(ne=ne.next,ne===null){if(er=zt.shared.pending,er===null)break;ne=er.next,er.next=null,zt.lastBaseUpdate=er,zt.shared.pending=null}}while(1);Fi===null&&(Nr=ba),zt.baseState=Nr,zt.firstBaseUpdate=On,zt.lastBaseUpdate=Fi,Un|=Fe,S.lanes=Fe,S.memoizedState=ba}}function df(S,N,Q){if(S=N.effects,N.effects=null,S!==null)for(N=0;N<S.length;N++){var Pt=S[N],zt=Pt.callback;if(zt!==null){if(Pt.callback=null,Pt=Q,typeof zt!="function")throw Error(_(191,zt));zt.call(Pt)}}}var Rv=new x.Component().refs;function Eh(S,N,Q,Pt){N=S.memoizedState,Q=Q(Pt,N),Q=Q==null?N:b({},N,Q),S.memoizedState=Q,S.lanes===0&&(S.updateQueue.baseState=Q)}var Ps={isMounted:function(S){return(S=S._reactInternals)?ti(S)===S:!1},enqueueSetState:function(S,N,Q){S=S._reactInternals;var Pt=li(),zt=Di(S),ne=yc(Pt,zt);ne.payload=N,Q!=null&&(ne.callback=Q),xu(S,ne),Wi(S,zt,Pt)},enqueueReplaceState:function(S,N,Q){S=S._reactInternals;var Pt=li(),zt=Di(S),ne=yc(Pt,zt);ne.tag=1,ne.payload=N,Q!=null&&(ne.callback=Q),xu(S,ne),Wi(S,zt,Pt)},enqueueForceUpdate:function(S,N){S=S._reactInternals;var Q=li(),Pt=Di(S),zt=yc(Q,Pt);zt.tag=2,N!=null&&(zt.callback=N),xu(S,zt),Wi(S,Pt,Q)}};function ud(S,N,Q,Pt,zt,ne,Fe){return S=S.stateNode,typeof S.shouldComponentUpdate=="function"?S.shouldComponentUpdate(Pt,ne,Fe):N.prototype&&N.prototype.isPureReactComponent?!ks(Q,Pt)||!ks(zt,ne):!0}function av(S,N,Q){var Pt=!1,zt=Ku,ne=N.contextType;return typeof ne=="object"&&ne!==null?ne=_a(ne):(zt=Es(N)?Re:is.current,Pt=N.contextTypes,ne=(Pt=Pt!=null)?mu(S,zt):Ku),N=new N(Q,ne),S.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=Ps,S.stateNode=N,N._reactInternals=S,Pt&&(S=S.stateNode,S.__reactInternalMemoizedUnmaskedChildContext=zt,S.__reactInternalMemoizedMaskedChildContext=ne),N}function Bs(S,N,Q,Pt){S=N.state,typeof N.componentWillReceiveProps=="function"&&N.componentWillReceiveProps(Q,Pt),typeof N.UNSAFE_componentWillReceiveProps=="function"&&N.UNSAFE_componentWillReceiveProps(Q,Pt),N.state!==S&&Ps.enqueueReplaceState(N,N.state,null)}function ld(S,N,Q,Pt){var zt=S.stateNode;zt.props=Q,zt.state=S.memoizedState,zt.refs=Rv,Qu(S);var ne=N.contextType;typeof ne=="object"&&ne!==null?zt.context=_a(ne):(ne=Es(N)?Re:is.current,zt.context=mu(S,ne)),Js(S,Q,zt,Pt),zt.state=S.memoizedState,ne=N.getDerivedStateFromProps,typeof ne=="function"&&(Eh(S,N,ne,Q),zt.state=S.memoizedState),typeof N.getDerivedStateFromProps=="function"||typeof zt.getSnapshotBeforeUpdate=="function"||typeof zt.UNSAFE_componentWillMount!="function"&&typeof zt.componentWillMount!="function"||(N=zt.state,typeof zt.componentWillMount=="function"&&zt.componentWillMount(),typeof zt.UNSAFE_componentWillMount=="function"&&zt.UNSAFE_componentWillMount(),N!==zt.state&&Ps.enqueueReplaceState(zt,zt.state,null),Js(S,Q,zt,Pt),zt.state=S.memoizedState),typeof zt.componentDidMount=="function"&&(S.flags|=4)}var cd=Array.isArray;function hu(S,N,Q){if(S=Q.ref,S!==null&&typeof S!="function"&&typeof S!="object"){if(Q._owner){if(Q=Q._owner,Q){if(Q.tag!==1)throw Error(_(309));var Pt=Q.stateNode}if(!Pt)throw Error(_(147,S));var zt=""+S;return N!==null&&N.ref!==null&&typeof N.ref=="function"&&N.ref._stringRef===zt?N.ref:(N=function(ne){var Fe=Pt.refs;Fe===Rv&&(Fe=Pt.refs={}),ne===null?delete Fe[zt]:Fe[zt]=ne},N._stringRef=zt,N)}if(typeof S!="string")throw Error(_(284));if(!Q._owner)throw Error(_(290,S))}return S}function Bf(S,N){if(S.type!=="textarea")throw Error(_(31,Object.prototype.toString.call(N)==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":N))}function dr(S){function N(vn,$r){if(S){var un=vn.lastEffect;un!==null?(un.nextEffect=$r,vn.lastEffect=$r):vn.firstEffect=vn.lastEffect=$r,$r.nextEffect=null,$r.flags=8}}function Q(vn,$r){if(!S)return null;for(;$r!==null;)N(vn,$r),$r=$r.sibling;return null}function Pt(vn,$r){for(vn=new Map;$r!==null;)$r.key!==null?vn.set($r.key,$r):vn.set($r.index,$r),$r=$r.sibling;return vn}function zt(vn,$r){return vn=sr(vn,$r),vn.index=0,vn.sibling=null,vn}function ne(vn,$r,un){return vn.index=un,S?(un=vn.alternate,un!==null?(un=un.index,un<$r?(vn.flags=2,$r):un):(vn.flags=2,$r)):$r}function Fe(vn){return S&&vn.alternate===null&&(vn.flags=2),vn}function er(vn,$r,un,Jn){return $r===null||$r.tag!==6?($r=bn(un,vn.mode,Jn),$r.return=vn,$r):($r=zt($r,un),$r.return=vn,$r)}function Nr(vn,$r,un,Jn){return $r!==null&&$r.elementType===un.type?(Jn=zt($r,un.props),Jn.ref=hu(vn,$r,un),Jn.return=vn,Jn):(Jn=Be(un.type,un.key,un.props,null,vn.mode,Jn),Jn.ref=hu(vn,$r,un),Jn.return=vn,Jn)}function On(vn,$r,un,Jn){return $r===null||$r.tag!==4||$r.stateNode.containerInfo!==un.containerInfo||$r.stateNode.implementation!==un.implementation?($r=Cn(un,vn.mode,Jn),$r.return=vn,$r):($r=zt($r,un.children||[]),$r.return=vn,$r)}function Fi(vn,$r,un,Jn,ei){return $r===null||$r.tag!==7?($r=wr(un,vn.mode,Jn,ei),$r.return=vn,$r):($r=zt($r,un),$r.return=vn,$r)}function ba(vn,$r,un){if(typeof $r=="string"||typeof $r=="number")return $r=bn(""+$r,vn.mode,un),$r.return=vn,$r;if(typeof $r=="object"&&$r!==null){switch($r.$$typeof){case ct:return un=Be($r.type,$r.key,$r.props,null,vn.mode,un),un.ref=hu(vn,null,$r),un.return=vn,un;case bt:return $r=Cn($r,vn.mode,un),$r.return=vn,$r}if(cd($r)||ke($r))return $r=wr($r,vn.mode,un,null),$r.return=vn,$r;Bf(vn,$r)}return null}function si(vn,$r,un,Jn){var ei=$r!==null?$r.key:null;if(typeof un=="string"||typeof un=="number")return ei!==null?null:er(vn,$r,""+un,Jn);if(typeof un=="object"&&un!==null){switch(un.$$typeof){case ct:return un.key===ei?un.type===_t?Fi(vn,$r,un.props.children,Jn,ei):Nr(vn,$r,un,Jn):null;case bt:return un.key===ei?On(vn,$r,un,Jn):null}if(cd(un)||ke(un))return ei!==null?null:Fi(vn,$r,un,Jn,null);Bf(vn,un)}return null}function $i(vn,$r,un,Jn,ei){if(typeof Jn=="string"||typeof Jn=="number")return vn=vn.get(un)||null,er($r,vn,""+Jn,ei);if(typeof Jn=="object"&&Jn!==null){switch(Jn.$$typeof){case ct:return vn=vn.get(Jn.key===null?un:Jn.key)||null,Jn.type===_t?Fi($r,vn,Jn.props.children,ei,Jn.key):Nr($r,vn,Jn,ei);case bt:return vn=vn.get(Jn.key===null?un:Jn.key)||null,On($r,vn,Jn,ei)}if(cd(Jn)||ke(Jn))return vn=vn.get(un)||null,Fi($r,vn,Jn,ei,null);Bf($r,Jn)}return null}function Ea(vn,$r,un,Jn){for(var ei=null,La=null,Vi=$r,Ba=$r=0,qa=null;Vi!==null&&Ba<un.length;Ba++){Vi.index>Ba?(qa=Vi,Vi=null):qa=Vi.sibling;var Wa=si(vn,Vi,un[Ba],Jn);if(Wa===null){Vi===null&&(Vi=qa);break}S&&Vi&&Wa.alternate===null&&N(vn,Vi),$r=ne(Wa,$r,Ba),La===null?ei=Wa:La.sibling=Wa,La=Wa,Vi=qa}if(Ba===un.length)return Q(vn,Vi),ei;if(Vi===null){for(;Ba<un.length;Ba++)Vi=ba(vn,un[Ba],Jn),Vi!==null&&($r=ne(Vi,$r,Ba),La===null?ei=Vi:La.sibling=Vi,La=Vi);return ei}for(Vi=Pt(vn,Vi);Ba<un.length;Ba++)qa=$i(Vi,vn,Ba,un[Ba],Jn),qa!==null&&(S&&qa.alternate!==null&&Vi.delete(qa.key===null?Ba:qa.key),$r=ne(qa,$r,Ba),La===null?ei=qa:La.sibling=qa,La=qa);return S&&Vi.forEach(function(zd){return N(vn,zd)}),ei}function ra(vn,$r,un,Jn){var ei=ke(un);if(typeof ei!="function")throw Error(_(150));if(un=ei.call(un),un==null)throw Error(_(151));for(var La=ei=null,Vi=$r,Ba=$r=0,qa=null,Wa=un.next();Vi!==null&&!Wa.done;Ba++,Wa=un.next()){Vi.index>Ba?(qa=Vi,Vi=null):qa=Vi.sibling;var zd=si(vn,Vi,Wa.value,Jn);if(zd===null){Vi===null&&(Vi=qa);break}S&&Vi&&zd.alternate===null&&N(vn,Vi),$r=ne(zd,$r,Ba),La===null?ei=zd:La.sibling=zd,La=zd,Vi=qa}if(Wa.done)return Q(vn,Vi),ei;if(Vi===null){for(;!Wa.done;Ba++,Wa=un.next())Wa=ba(vn,Wa.value,Jn),Wa!==null&&($r=ne(Wa,$r,Ba),La===null?ei=Wa:La.sibling=Wa,La=Wa);return ei}for(Vi=Pt(vn,Vi);!Wa.done;Ba++,Wa=un.next())Wa=$i(Vi,vn,Ba,Wa.value,Jn),Wa!==null&&(S&&Wa.alternate!==null&&Vi.delete(Wa.key===null?Ba:Wa.key),$r=ne(Wa,$r,Ba),La===null?ei=Wa:La.sibling=Wa,La=Wa);return S&&Vi.forEach(function(Tg){return N(vn,Tg)}),ei}return function(vn,$r,un,Jn){var ei=typeof un=="object"&&un!==null&&un.type===_t&&un.key===null;ei&&(un=un.props.children);var La=typeof un=="object"&&un!==null;if(La)switch(un.$$typeof){case ct:t:{for(La=un.key,ei=$r;ei!==null;){if(ei.key===La){switch(ei.tag){case 7:if(un.type===_t){Q(vn,ei.sibling),$r=zt(ei,un.props.children),$r.return=vn,vn=$r;break t}break;default:if(ei.elementType===un.type){Q(vn,ei.sibling),$r=zt(ei,un.props),$r.ref=hu(vn,ei,un),$r.return=vn,vn=$r;break t}}Q(vn,ei);break}else N(vn,ei);ei=ei.sibling}un.type===_t?($r=wr(un.props.children,vn.mode,Jn,un.key),$r.return=vn,vn=$r):(Jn=Be(un.type,un.key,un.props,null,vn.mode,Jn),Jn.ref=hu(vn,$r,un),Jn.return=vn,vn=Jn)}return Fe(vn);case bt:t:{for(ei=un.key;$r!==null;){if($r.key===ei)if($r.tag===4&&$r.stateNode.containerInfo===un.containerInfo&&$r.stateNode.implementation===un.implementation){Q(vn,$r.sibling),$r=zt($r,un.children||[]),$r.return=vn,vn=$r;break t}else{Q(vn,$r);break}else N(vn,$r);$r=$r.sibling}$r=Cn(un,vn.mode,Jn),$r.return=vn,vn=$r}return Fe(vn)}if(typeof un=="string"||typeof un=="number")return un=""+un,$r!==null&&$r.tag===6?(Q(vn,$r.sibling),$r=zt($r,un),$r.return=vn,vn=$r):(Q(vn,$r),$r=bn(un,vn.mode,Jn),$r.return=vn,vn=$r),Fe(vn);if(cd(un))return Ea(vn,$r,un,Jn);if(ke(un))return ra(vn,$r,un,Jn);if(La&&Bf(vn,un),typeof un=="undefined"&&!ei)switch(vn.tag){case 1:case 22:case 0:case 11:case 15:throw Error(_(152,Ce(vn.type)||"Component"))}return Q(vn,$r)}}var zc=dr(!0),Uc=dr(!1),jo={},Rl=vl(jo),Gf=vl(jo),Gd=vl(jo);function Sh(S){if(S===jo)throw Error(_(174));return S}function Lu(S,N){switch(Uo(Gd,N),Uo(Gf,S),Uo(Rl,jo),S=N.nodeType,S){case 9:case 11:N=(N=N.documentElement)?N.namespaceURI:In(null,"");break;default:S=S===8?N.parentNode:N,N=S.namespaceURI||null,S=S.tagName,N=In(N,S)}Co(Rl),Uo(Rl,N)}function vf(){Co(Rl),Co(Gf),Co(Gd)}function zf(S){Sh(Gd.current);var N=Sh(Rl.current),Q=In(N,S.type);N!==Q&&(Uo(Gf,S),Uo(Rl,Q))}function Uf(S){Gf.current===S&&(Co(Rl),Co(Gf))}var Na=vl(0);function jc(S){for(var N=S;N!==null;){if(N.tag===13){var Q=N.memoizedState;if(Q!==null&&(Q=Q.dehydrated,Q===null||Q.data==="$?"||Q.data==="$!"))return N}else if(N.tag===19&&N.memoizedProps.revealOrder!==void 0){if((N.flags&64)!==0)return N}else if(N.child!==null){N.child.return=N,N=N.child;continue}if(N===S)break;for(;N.sibling===null;){if(N.return===null||N.return===S)return null;N=N.return}N.sibling.return=N.return,N=N.sibling}return null}var bu=null,Gs=null,es=!1;function Fl(S,N){var Q=lr(5,null,null,0);Q.elementType="DELETED",Q.type="DELETED",Q.stateNode=N,Q.return=S,Q.flags=8,S.lastEffect!==null?(S.lastEffect.nextEffect=Q,S.lastEffect=Q):S.firstEffect=S.lastEffect=Q}function mc(S,N){switch(S.tag){case 5:var Q=S.type;return N=N.nodeType!==1||Q.toLowerCase()!==N.nodeName.toLowerCase()?null:N,N!==null?(S.stateNode=N,!0):!1;case 6:return N=S.pendingProps===""||N.nodeType!==3?null:N,N!==null?(S.stateNode=N,!0):!1;case 13:return!1;default:return!1}}function ka(S){if(es){var N=Gs;if(N){var Q=N;if(!mc(S,N)){if(N=uo(Q.nextSibling),!N||!mc(S,N)){S.flags=S.flags&-1025|2,es=!1,bu=S;return}Fl(bu,Q)}bu=S,Gs=uo(N.firstChild)}else S.flags=S.flags&-1025|2,es=!1,bu=S}}function jf(S){for(S=S.return;S!==null&&S.tag!==5&&S.tag!==3&&S.tag!==13;)S=S.return;bu=S}function yl(S){if(S!==bu)return!1;if(!es)return jf(S),es=!0,!1;var N=S.type;if(S.tag!==5||N!=="head"&&N!=="body"&&!vh(N,S.memoizedProps))for(N=Gs;N;)Fl(S,N),N=uo(N.nextSibling);if(jf(S),S.tag===13){if(S=S.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(_(317));t:{for(S=S.nextSibling,N=0;S;){if(S.nodeType===8){var Q=S.data;if(Q==="/$"){if(N===0){Gs=uo(S.nextSibling);break t}N--}else Q!=="$"&&Q!=="$!"&&Q!=="$?"||N++}S=S.nextSibling}Gs=null}}else Gs=bu?uo(S.stateNode.nextSibling):null;return!0}function Wc(){Gs=bu=null,es=!1}var du=[];function Eu(){for(var S=0;S<du.length;S++)du[S]._workInProgressVersionPrimary=null;du.length=0}var Ru=nt.ReactCurrentDispatcher,ps=nt.ReactCurrentBatchConfig,Nl=0,Wo=null,Vo=null,Mo=null,Wf=!1,Vf=!1;function zs(){throw Error(_(321))}function wh(S,N){if(N===null)return!1;for(var Q=0;Q<N.length&&Q<S.length;Q++)if(!pi(S[Q],N[Q]))return!1;return!0}function _h(S,N,Q,Pt,zt,ne){if(Nl=ne,Wo=N,N.memoizedState=null,N.updateQueue=null,N.lanes=0,Ru.current=S===null||S.memoizedState===null?fd:hd,S=Q(Pt,zt),Vf){ne=0;do{if(Vf=!1,!(25>ne))throw Error(_(301));ne+=1,Mo=Vo=null,N.updateQueue=null,Ru.current=Mh,S=Q(Pt,zt)}while(Vf)}if(Ru.current=Hc,N=Vo!==null&&Vo.next!==null,Nl=0,Mo=Vo=Wo=null,Wf=!1,N)throw Error(_(300));return S}function kl(){var S={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mo===null?Wo.memoizedState=Mo=S:Mo=Mo.next=S,Mo}function vu(){if(Vo===null){var S=Wo.alternate;S=S!==null?S.memoizedState:null}else S=Vo.next;var N=Mo===null?Wo.memoizedState:Mo.next;if(N!==null)Mo=N,Vo=S;else{if(S===null)throw Error(_(310));Vo=S,S={memoizedState:Vo.memoizedState,baseState:Vo.baseState,baseQueue:Vo.baseQueue,queue:Vo.queue,next:null},Mo===null?Wo.memoizedState=Mo=S:Mo=Mo.next=S}return Mo}function Su(S,N){return typeof N=="function"?N(S):N}function ml(S){var N=vu(),Q=N.queue;if(Q===null)throw Error(_(311));Q.lastRenderedReducer=S;var Pt=Vo,zt=Pt.baseQueue,ne=Q.pending;if(ne!==null){if(zt!==null){var Fe=zt.next;zt.next=ne.next,ne.next=Fe}Pt.baseQueue=zt=ne,Q.pending=null}if(zt!==null){zt=zt.next,Pt=Pt.baseState;var er=Fe=ne=null,Nr=zt;do{var On=Nr.lane;if((Nl&On)===On)er!==null&&(er=er.next={lane:0,action:Nr.action,eagerReducer:Nr.eagerReducer,eagerState:Nr.eagerState,next:null}),Pt=Nr.eagerReducer===S?Nr.eagerState:S(Pt,Nr.action);else{var Fi={lane:On,action:Nr.action,eagerReducer:Nr.eagerReducer,eagerState:Nr.eagerState,next:null};er===null?(Fe=er=Fi,ne=Pt):er=er.next=Fi,Wo.lanes|=On,Un|=On}Nr=Nr.next}while(Nr!==null&&Nr!==zt);er===null?ne=Pt:er.next=Fe,pi(Pt,N.memoizedState)||(Fu=!0),N.memoizedState=Pt,N.baseState=ne,N.baseQueue=er,Q.lastRenderedState=Pt}return[N.memoizedState,Q.dispatch]}function pf(S){var N=vu(),Q=N.queue;if(Q===null)throw Error(_(311));Q.lastRenderedReducer=S;var Pt=Q.dispatch,zt=Q.pending,ne=N.memoizedState;if(zt!==null){Q.pending=null;var Fe=zt=zt.next;do ne=S(ne,Fe.action),Fe=Fe.next;while(Fe!==zt);pi(ne,N.memoizedState)||(Fu=!0),N.memoizedState=ne,N.baseQueue===null&&(N.baseState=ne),Q.lastRenderedState=ne}return[ne,Pt]}function Aa(S,N,Q){var Pt=N._getVersion;Pt=Pt(N._source);var zt=N._workInProgressVersionPrimary;if(zt!==null?S=zt===Pt:(S=S.mutableReadLanes,(S=(Nl&S)===S)&&(N._workInProgressVersionPrimary=Pt,du.push(N))),S)return Q(N._source);throw du.push(N),Error(_(350))}function Fv(S,N,Q,Pt){var zt=Qe;if(zt===null)throw Error(_(349));var ne=N._getVersion,Fe=ne(N._source),er=Ru.current,Nr=er.useState(function(){return Aa(zt,N,Q)}),On=Nr[1],Fi=Nr[0];Nr=Mo;var ba=S.memoizedState,si=ba.refs,$i=si.getSnapshot,Ea=ba.source;ba=ba.subscribe;var ra=Wo;return S.memoizedState={refs:si,source:N,subscribe:Pt},er.useEffect(function(){si.getSnapshot=Q,si.setSnapshot=On;var vn=ne(N._source);if(!pi(Fe,vn)){vn=Q(N._source),pi(Fi,vn)||(On(vn),vn=Di(ra),zt.mutableReadLanes|=vn&zt.pendingLanes),vn=zt.mutableReadLanes,zt.entangledLanes|=vn;for(var $r=zt.entanglements,un=vn;0<un;){var Jn=31-Du(un),ei=1<<Jn;$r[Jn]|=vn,un&=~ei}}},[Q,N,Pt]),er.useEffect(function(){return Pt(N._source,function(){var vn=si.getSnapshot,$r=si.setSnapshot;try{$r(vn(N._source));var un=Di(ra);zt.mutableReadLanes|=un&zt.pendingLanes}catch(Jn){$r(function(){throw Jn})}})},[N,Pt]),pi($i,Q)&&pi(Ea,N)&&pi(ba,Pt)||(S={pending:null,dispatch:null,lastRenderedReducer:Su,lastRenderedState:Fi},S.dispatch=On=Xf.bind(null,Wo,S),Nr.queue=S,Nr.baseQueue=null,Fi=Aa(zt,N,Q),Nr.memoizedState=Nr.baseState=Fi),Fi}function Nv(S,N,Q){var Pt=vu();return Fv(Pt,S,N,Q)}function xc(S){var N=kl();return typeof S=="function"&&(S=S()),N.memoizedState=N.baseState=S,S=N.queue={pending:null,dispatch:null,lastRenderedReducer:Su,lastRenderedState:S},S=S.dispatch=Xf.bind(null,Wo,S),[N.memoizedState,S]}function Ah(S,N,Q,Pt){return S={tag:S,create:N,destroy:Q,deps:Pt,next:null},N=Wo.updateQueue,N===null?(N={lastEffect:null},Wo.updateQueue=N,N.lastEffect=S.next=S):(Q=N.lastEffect,Q===null?N.lastEffect=S.next=S:(Pt=Q.next,Q.next=S,S.next=Pt,N.lastEffect=S)),S}function ov(S){var N=kl();return S={current:S},N.memoizedState=S}function Ls(){return vu().memoizedState}function _s(S,N,Q,Pt){var zt=kl();Wo.flags|=S,zt.memoizedState=Ah(1|N,Q,void 0,Pt===void 0?null:Pt)}function Hf(S,N,Q,Pt){var zt=vu();Pt=Pt===void 0?null:Pt;var ne=void 0;if(Vo!==null){var Fe=Vo.memoizedState;if(ne=Fe.destroy,Pt!==null&&wh(Pt,Fe.deps)){Ah(N,Q,ne,Pt);return}}Wo.flags|=S,zt.memoizedState=Ah(1|N,Q,ne,Pt)}function Ch(S,N){return _s(516,4,S,N)}function Bl(S,N){return Hf(516,4,S,N)}function Ju(S,N){return Hf(4,2,S,N)}function as(S,N){if(typeof N=="function")return S=S(),N(S),function(){N(null)};if(N!=null)return S=S(),N.current=S,function(){N.current=null}}function os(S,N,Q){return Q=Q!=null?Q.concat([S]):null,Hf(4,2,as.bind(null,N,S),Q)}function wu(){}function Vc(S,N){var Q=vu();N=N===void 0?null:N;var Pt=Q.memoizedState;return Pt!==null&&N!==null&&wh(N,Pt[1])?Pt[0]:(Q.memoizedState=[S,N],S)}function Th(S,N){var Q=vu();N=N===void 0?null:N;var Pt=Q.memoizedState;return Pt!==null&&N!==null&&wh(N,Pt[1])?Pt[0]:(S=S(),Q.memoizedState=[S,N],S)}function Yf(S,N){var Q=Qs();hf(98>Q?98:Q,function(){S(!0)}),hf(97<Q?97:Q,function(){var Pt=ps.transition;ps.transition=1;try{S(!1),N()}finally{ps.transition=Pt}})}function Xf(S,N,Q){var Pt=li(),zt=Di(S),ne={lane:zt,action:Q,eagerReducer:null,eagerState:null,next:null},Fe=N.pending;if(Fe===null?ne.next=ne:(ne.next=Fe.next,Fe.next=ne),N.pending=ne,Fe=S.alternate,S===Wo||Fe!==null&&Fe===Wo)Vf=Wf=!0;else{if(S.lanes===0&&(Fe===null||Fe.lanes===0)&&(Fe=N.lastRenderedReducer,Fe!==null))try{var er=N.lastRenderedState,Nr=Fe(er,Q);if(ne.eagerReducer=Fe,ne.eagerState=Nr,pi(Nr,er))return}catch(On){}finally{}Wi(S,zt,Pt)}}var Hc={readContext:_a,useCallback:zs,useContext:zs,useEffect:zs,useImperativeHandle:zs,useLayoutEffect:zs,useMemo:zs,useReducer:zs,useRef:zs,useState:zs,useDebugValue:zs,useDeferredValue:zs,useTransition:zs,useMutableSource:zs,useOpaqueIdentifier:zs,unstable_isNewReconciler:!1},fd={readContext:_a,useCallback:function(S,N){return kl().memoizedState=[S,N===void 0?null:N],S},useContext:_a,useEffect:Ch,useImperativeHandle:function(S,N,Q){return Q=Q!=null?Q.concat([S]):null,_s(4,2,as.bind(null,N,S),Q)},useLayoutEffect:function(S,N){return _s(4,2,S,N)},useMemo:function(S,N){var Q=kl();return N=N===void 0?null:N,S=S(),Q.memoizedState=[S,N],S},useReducer:function(S,N,Q){var Pt=kl();return N=Q!==void 0?Q(N):N,Pt.memoizedState=Pt.baseState=N,S=Pt.queue={pending:null,dispatch:null,lastRenderedReducer:S,lastRenderedState:N},S=S.dispatch=Xf.bind(null,Wo,S),[Pt.memoizedState,S]},useRef:ov,useState:xc,useDebugValue:wu,useDeferredValue:function(S){var N=xc(S),Q=N[0],Pt=N[1];return Ch(function(){var zt=ps.transition;ps.transition=1;try{Pt(S)}finally{ps.transition=zt}},[S]),Q},useTransition:function(){var S=xc(!1),N=S[0];return S=Yf.bind(null,S[1]),ov(S),[S,N]},useMutableSource:function(S,N,Q){var Pt=kl();return Pt.memoizedState={refs:{getSnapshot:N,setSnapshot:null},source:S,subscribe:Q},Fv(Pt,S,N,Q)},useOpaqueIdentifier:function(){if(es){var S=!1,N=td(function(){throw S||(S=!0,Q("r:"+(Dl++).toString(36))),Error(_(355))}),Q=xc(N)[1];return(Wo.mode&2)===0&&(Wo.flags|=516,Ah(5,function(){Q("r:"+(Dl++).toString(36))},void 0,null)),N}return N="r:"+(Dl++).toString(36),xc(N),N},unstable_isNewReconciler:!1},hd={readContext:_a,useCallback:Vc,useContext:_a,useEffect:Bl,useImperativeHandle:os,useLayoutEffect:Ju,useMemo:Th,useReducer:ml,useRef:Ls,useState:function(){return ml(Su)},useDebugValue:wu,useDeferredValue:function(S){var N=ml(Su),Q=N[0],Pt=N[1];return Bl(function(){var zt=ps.transition;ps.transition=1;try{Pt(S)}finally{ps.transition=zt}},[S]),Q},useTransition:function(){var S=ml(Su)[0];return[Ls().current,S]},useMutableSource:Nv,useOpaqueIdentifier:function(){return ml(Su)[0]},unstable_isNewReconciler:!1},Mh={readContext:_a,useCallback:Vc,useContext:_a,useEffect:Bl,useImperativeHandle:os,useLayoutEffect:Ju,useMemo:Th,useReducer:pf,useRef:Ls,useState:function(){return pf(Su)},useDebugValue:wu,useDeferredValue:function(S){var N=pf(Su),Q=N[0],Pt=N[1];return Bl(function(){var zt=ps.transition;ps.transition=1;try{Pt(S)}finally{ps.transition=zt}},[S]),Q},useTransition:function(){var S=pf(Su)[0];return[Ls().current,S]},useMutableSource:Nv,useOpaqueIdentifier:function(){return pf(Su)[0]},unstable_isNewReconciler:!1},Gl=nt.ReactCurrentOwner,Fu=!1;function Lo(S,N,Q,Pt){N.child=S===null?Uc(N,null,Q,Pt):zc(N,S.child,Q,Pt)}function gf(S,N,Q,Pt,zt){Q=Q.render;var ne=N.ref;return bh(N,zt),Pt=_h(S,N,Q,Pt,ne,zt),S!==null&&!Fu?(N.updateQueue=S.updateQueue,N.flags&=-517,S.lanes&=~zt,Ro(S,N,zt)):(N.flags|=1,Lo(S,N,Pt,zt),N.child)}function bc(S,N,Q,Pt,zt,ne){if(S===null){var Fe=Q.type;return typeof Fe=="function"&&!Tr(Fe)&&Fe.defaultProps===void 0&&Q.compare===null&&Q.defaultProps===void 0?(N.tag=15,N.type=Fe,yf(S,N,Fe,Pt,zt,ne)):(S=Be(Q.type,null,Pt,N,N.mode,ne),S.ref=N.ref,S.return=N,N.child=S)}return Fe=S.child,(zt&ne)===0&&(zt=Fe.memoizedProps,Q=Q.compare,Q=Q!==null?Q:ks,Q(zt,Pt)&&S.ref===N.ref)?Ro(S,N,ne):(N.flags|=1,S=sr(Fe,Pt),S.ref=N.ref,S.return=N,N.child=S)}function yf(S,N,Q,Pt,zt,ne){if(S!==null&&ks(S.memoizedProps,Pt)&&S.ref===N.ref)if(Fu=!1,(ne&zt)!==0)(S.flags&16384)!==0&&(Fu=!0);else return N.lanes=S.lanes,Ro(S,N,ne);return mf(S,N,Q,Pt,ne)}function Ec(S,N,Q){var Pt=N.pendingProps,zt=Pt.children,ne=S!==null?S.memoizedState:null;if(Pt.mode==="hidden"||Pt.mode==="unstable-defer-without-hiding")if((N.mode&4)===0)N.memoizedState={baseLanes:0},ao(N,Q);else if((Q&1073741824)!==0)N.memoizedState={baseLanes:0},ao(N,ne!==null?ne.baseLanes:Q);else return S=ne!==null?ne.baseLanes|Q:Q,N.lanes=N.childLanes=1073741824,N.memoizedState={baseLanes:S},ao(N,S),null;else ne!==null?(Pt=ne.baseLanes|Q,N.memoizedState=null):Pt=Q,ao(N,Pt);return Lo(S,N,zt,Q),N.child}function Sc(S,N){var Q=N.ref;(S===null&&Q!==null||S!==null&&S.ref!==Q)&&(N.flags|=128)}function mf(S,N,Q,Pt,zt){var ne=Es(Q)?Re:is.current;return ne=mu(N,ne),bh(N,zt),Q=_h(S,N,Q,Pt,ne,zt),S!==null&&!Fu?(N.updateQueue=S.updateQueue,N.flags&=-517,S.lanes&=~zt,Ro(S,N,zt)):(N.flags|=1,Lo(S,N,Q,zt),N.child)}function Yc(S,N,Q,Pt,zt){if(Es(Q)){var ne=!0;Ss(N)}else ne=!1;if(bh(N,zt),N.stateNode===null)S!==null&&(S.alternate=null,N.alternate=null,N.flags|=2),av(N,Q,Pt),ld(N,Q,Pt,zt),Pt=!0;else if(S===null){var Fe=N.stateNode,er=N.memoizedProps;Fe.props=er;var Nr=Fe.context,On=Q.contextType;typeof On=="object"&&On!==null?On=_a(On):(On=Es(Q)?Re:is.current,On=mu(N,On));var Fi=Q.getDerivedStateFromProps,ba=typeof Fi=="function"||typeof Fe.getSnapshotBeforeUpdate=="function";ba||typeof Fe.UNSAFE_componentWillReceiveProps!="function"&&typeof Fe.componentWillReceiveProps!="function"||(er!==Pt||Nr!==On)&&Bs(N,Fe,Pt,On),To=!1;var si=N.memoizedState;Fe.state=si,Js(N,Pt,Fe,zt),Nr=N.memoizedState,er!==Pt||si!==Nr||Ds.current||To?(typeof Fi=="function"&&(Eh(N,Q,Fi,Pt),Nr=N.memoizedState),(er=To||ud(N,Q,er,Pt,si,Nr,On))?(ba||typeof Fe.UNSAFE_componentWillMount!="function"&&typeof Fe.componentWillMount!="function"||(typeof Fe.componentWillMount=="function"&&Fe.componentWillMount(),typeof Fe.UNSAFE_componentWillMount=="function"&&Fe.UNSAFE_componentWillMount()),typeof Fe.componentDidMount=="function"&&(N.flags|=4)):(typeof Fe.componentDidMount=="function"&&(N.flags|=4),N.memoizedProps=Pt,N.memoizedState=Nr),Fe.props=Pt,Fe.state=Nr,Fe.context=On,Pt=er):(typeof Fe.componentDidMount=="function"&&(N.flags|=4),Pt=!1)}else{Fe=N.stateNode,Ua(S,N),er=N.memoizedProps,On=N.type===N.elementType?er:vs(N.type,er),Fe.props=On,ba=N.pendingProps,si=Fe.context,Nr=Q.contextType,typeof Nr=="object"&&Nr!==null?Nr=_a(Nr):(Nr=Es(Q)?Re:is.current,Nr=mu(N,Nr));var $i=Q.getDerivedStateFromProps;(Fi=typeof $i=="function"||typeof Fe.getSnapshotBeforeUpdate=="function")||typeof Fe.UNSAFE_componentWillReceiveProps!="function"&&typeof Fe.componentWillReceiveProps!="function"||(er!==ba||si!==Nr)&&Bs(N,Fe,Pt,Nr),To=!1,si=N.memoizedState,Fe.state=si,Js(N,Pt,Fe,zt);var Ea=N.memoizedState;er!==ba||si!==Ea||Ds.current||To?(typeof $i=="function"&&(Eh(N,Q,$i,Pt),Ea=N.memoizedState),(On=To||ud(N,Q,On,Pt,si,Ea,Nr))?(Fi||typeof Fe.UNSAFE_componentWillUpdate!="function"&&typeof Fe.componentWillUpdate!="function"||(typeof Fe.componentWillUpdate=="function"&&Fe.componentWillUpdate(Pt,Ea,Nr),typeof Fe.UNSAFE_componentWillUpdate=="function"&&Fe.UNSAFE_componentWillUpdate(Pt,Ea,Nr)),typeof Fe.componentDidUpdate=="function"&&(N.flags|=4),typeof Fe.getSnapshotBeforeUpdate=="function"&&(N.flags|=256)):(typeof Fe.componentDidUpdate!="function"||er===S.memoizedProps&&si===S.memoizedState||(N.flags|=4),typeof Fe.getSnapshotBeforeUpdate!="function"||er===S.memoizedProps&&si===S.memoizedState||(N.flags|=256),N.memoizedProps=Pt,N.memoizedState=Ea),Fe.props=Pt,Fe.state=Ea,Fe.context=Nr,Pt=On):(typeof Fe.componentDidUpdate!="function"||er===S.memoizedProps&&si===S.memoizedState||(N.flags|=4),typeof Fe.getSnapshotBeforeUpdate!="function"||er===S.memoizedProps&&si===S.memoizedState||(N.flags|=256),Pt=!1)}return xl(S,N,Q,Pt,ne,zt)}function xl(S,N,Q,Pt,zt,ne){Sc(S,N);var Fe=(N.flags&64)!==0;if(!Pt&&!Fe)return zt&&rd(N,Q,!1),Ro(S,N,ne);Pt=N.stateNode,Gl.current=N;var er=Fe&&typeof Q.getDerivedStateFromError!="function"?null:Pt.render();return N.flags|=1,S!==null&&Fe?(N.child=zc(N,S.child,null,ne),N.child=zc(N,null,er,ne)):Lo(S,N,er,ne),N.memoizedState=Pt.state,zt&&rd(N,Q,!0),N.child}function xf(S){var N=S.stateNode;N.pendingContext?wa(S,N.pendingContext,N.pendingContext!==N.context):N.context&&wa(S,N.context,!1),Lu(S,N.containerInfo)}var Ih={dehydrated:null,retryLane:0};function qs(S,N,Q){var Pt=N.pendingProps,zt=Na.current,ne=!1,Fe;return(Fe=(N.flags&64)!==0)||(Fe=S!==null&&S.memoizedState===null?!1:(zt&2)!==0),Fe?(ne=!0,N.flags&=-65):S!==null&&S.memoizedState===null||Pt.fallback===void 0||Pt.unstable_avoidThisFallback===!0||(zt|=1),Uo(Na,zt&1),S===null?(Pt.fallback!==void 0&&ka(N),S=Pt.children,zt=Pt.fallback,ne?(S=As(N,S,zt,Q),N.child.memoizedState={baseLanes:Q},N.memoizedState=Ih,S):typeof Pt.unstable_expectedLoadTime=="number"?(S=As(N,S,zt,Q),N.child.memoizedState={baseLanes:Q},N.memoizedState=Ih,N.lanes=33554432,S):(Q=Jr({mode:"visible",children:S},N.mode,Q,null),Q.return=N,N.child=Q)):S.memoizedState!==null?ne?(Pt=dd(S,N,Pt.children,Pt.fallback,Q),ne=N.child,zt=S.child.memoizedState,ne.memoizedState=zt===null?{baseLanes:Q}:{baseLanes:zt.baseLanes|Q},ne.childLanes=S.childLanes&~Q,N.memoizedState=Ih,Pt):(Q=bl(S,N,Pt.children,Q),N.memoizedState=null,Q):ne?(Pt=dd(S,N,Pt.children,Pt.fallback,Q),ne=N.child,zt=S.child.memoizedState,ne.memoizedState=zt===null?{baseLanes:Q}:{baseLanes:zt.baseLanes|Q},ne.childLanes=S.childLanes&~Q,N.memoizedState=Ih,Pt):(Q=bl(S,N,Pt.children,Q),N.memoizedState=null,Q)}function As(S,N,Q,Pt){var zt=S.mode,ne=S.child;return N={mode:"hidden",children:N},(zt&2)===0&&ne!==null?(ne.childLanes=0,ne.pendingProps=N):ne=Jr(N,zt,0,null),Q=wr(Q,zt,Pt,null),ne.return=S,Q.return=S,ne.sibling=Q,S.child=ne,Q}function bl(S,N,Q,Pt){var zt=S.child;return S=zt.sibling,Q=sr(zt,{mode:"visible",children:Q}),(N.mode&2)===0&&(Q.lanes=Pt),Q.return=N,Q.sibling=null,S!==null&&(S.nextEffect=null,S.flags=8,N.firstEffect=N.lastEffect=S),N.child=Q}function dd(S,N,Q,Pt,zt){var ne=N.mode,Fe=S.child;S=Fe.sibling;var er={mode:"hidden",children:Q};return(ne&2)===0&&N.child!==Fe?(Q=N.child,Q.childLanes=0,Q.pendingProps=er,Fe=Q.lastEffect,Fe!==null?(N.firstEffect=Q.firstEffect,N.lastEffect=Fe,Fe.nextEffect=null):N.firstEffect=N.lastEffect=null):Q=sr(Fe,er),S!==null?Pt=sr(S,Pt):(Pt=wr(Pt,ne,zt,null),Pt.flags|=2),Pt.return=N,Q.return=N,Q.sibling=Pt,N.child=Q,Pt}function wc(S,N){S.lanes|=N;var Q=S.alternate;Q!==null&&(Q.lanes|=N),xh(S.return,N)}function Nu(S,N,Q,Pt,zt,ne){var Fe=S.memoizedState;Fe===null?S.memoizedState={isBackwards:N,rendering:null,renderingStartTime:0,last:Pt,tail:Q,tailMode:zt,lastEffect:ne}:(Fe.isBackwards=N,Fe.rendering=null,Fe.renderingStartTime=0,Fe.last=Pt,Fe.tail=Q,Fe.tailMode=zt,Fe.lastEffect=ne)}function Xc(S,N,Q){var Pt=N.pendingProps,zt=Pt.revealOrder,ne=Pt.tail;if(Lo(S,N,Pt.children,Q),Pt=Na.current,(Pt&2)!==0)Pt=Pt&1|2,N.flags|=64;else{if(S!==null&&(S.flags&64)!==0)t:for(S=N.child;S!==null;){if(S.tag===13)S.memoizedState!==null&&wc(S,Q);else if(S.tag===19)wc(S,Q);else if(S.child!==null){S.child.return=S,S=S.child;continue}if(S===N)break t;for(;S.sibling===null;){if(S.return===null||S.return===N)break t;S=S.return}S.sibling.return=S.return,S=S.sibling}Pt&=1}if(Uo(Na,Pt),(N.mode&2)===0)N.memoizedState=null;else switch(zt){case"forwards":for(Q=N.child,zt=null;Q!==null;)S=Q.alternate,S!==null&&jc(S)===null&&(zt=Q),Q=Q.sibling;Q=zt,Q===null?(zt=N.child,N.child=null):(zt=Q.sibling,Q.sibling=null),Nu(N,!1,zt,Q,ne,N.lastEffect);break;case"backwards":for(Q=null,zt=N.child,N.child=null;zt!==null;){if(S=zt.alternate,S!==null&&jc(S)===null){N.child=zt;break}S=zt.sibling,zt.sibling=Q,Q=zt,zt=S}Nu(N,!0,Q,null,ne,N.lastEffect);break;case"together":Nu(N,!1,null,null,void 0,N.lastEffect);break;default:N.memoizedState=null}return N.child}function Ro(S,N,Q){if(S!==null&&(N.dependencies=S.dependencies),Un|=N.lanes,(Q&N.childLanes)!==0){if(S!==null&&N.child!==S.child)throw Error(_(153));if(N.child!==null){for(S=N.child,Q=sr(S,S.pendingProps),N.child=Q,Q.return=N;S.sibling!==null;)S=S.sibling,Q=Q.sibling=sr(S,S.pendingProps),Q.return=N;Q.sibling=null}return N.child}return null}var Oh,qu,tl,El;Oh=function(S,N){for(var Q=N.child;Q!==null;){if(Q.tag===5||Q.tag===6)S.appendChild(Q.stateNode);else if(Q.tag!==4&&Q.child!==null){Q.child.return=Q,Q=Q.child;continue}if(Q===N)break;for(;Q.sibling===null;){if(Q.return===null||Q.return===N)return;Q=Q.return}Q.sibling.return=Q.return,Q=Q.sibling}},qu=function(){},tl=function(S,N,Q,Pt){var zt=S.memoizedProps;if(zt!==Pt){S=N.stateNode,Sh(Rl.current);var ne=null;switch(Q){case"input":zt=tr(S,zt),Pt=tr(S,Pt),ne=[];break;case"option":zt=bi(S,zt),Pt=bi(S,Pt),ne=[];break;case"select":zt=b({},zt,{value:void 0}),Pt=b({},Pt,{value:void 0}),ne=[];break;case"textarea":zt=Zr(S,zt),Pt=Zr(S,Pt),ne=[];break;default:typeof zt.onClick!="function"&&typeof Pt.onClick=="function"&&(S.onclick=ff)}ft(Q,Pt);var Fe;Q=null;for(On in zt)if(!Pt.hasOwnProperty(On)&&zt.hasOwnProperty(On)&&zt[On]!=null)if(On==="style"){var er=zt[On];for(Fe in er)er.hasOwnProperty(Fe)&&(Q||(Q={}),Q[Fe]="")}else On!=="dangerouslySetInnerHTML"&&On!=="children"&&On!=="suppressContentEditableWarning"&&On!=="suppressHydrationWarning"&&On!=="autoFocus"&&(T.hasOwnProperty(On)?ne||(ne=[]):(ne=ne||[]).push(On,null));for(On in Pt){var Nr=Pt[On];if(er=zt!=null?zt[On]:void 0,Pt.hasOwnProperty(On)&&Nr!==er&&(Nr!=null||er!=null))if(On==="style")if(er){for(Fe in er)!er.hasOwnProperty(Fe)||Nr&&Nr.hasOwnProperty(Fe)||(Q||(Q={}),Q[Fe]="");for(Fe in Nr)Nr.hasOwnProperty(Fe)&&er[Fe]!==Nr[Fe]&&(Q||(Q={}),Q[Fe]=Nr[Fe])}else Q||(ne||(ne=[]),ne.push(On,Q)),Q=Nr;else On==="dangerouslySetInnerHTML"?(Nr=Nr?Nr.__html:void 0,er=er?er.__html:void 0,Nr!=null&&er!==Nr&&(ne=ne||[]).push(On,Nr)):On==="children"?typeof Nr!="string"&&typeof Nr!="number"||(ne=ne||[]).push(On,""+Nr):On!=="suppressContentEditableWarning"&&On!=="suppressHydrationWarning"&&(T.hasOwnProperty(On)?(Nr!=null&&On==="onScroll"&&co("scroll",S),ne||er===Nr||(ne=[])):typeof Nr=="object"&&Nr!==null&&Nr.$$typeof===Wt?Nr.toString():(ne=ne||[]).push(On,Nr))}Q&&(ne=ne||[]).push("style",Q);var On=ne;(N.updateQueue=On)&&(N.flags|=4)}},El=function(S,N,Q,Pt){Q!==Pt&&(N.flags|=4)};function Sl(S,N){if(!es)switch(S.tailMode){case"hidden":N=S.tail;for(var Q=null;N!==null;)N.alternate!==null&&(Q=N),N=N.sibling;Q===null?S.tail=null:Q.sibling=null;break;case"collapsed":Q=S.tail;for(var Pt=null;Q!==null;)Q.alternate!==null&&(Pt=Q),Q=Q.sibling;Pt===null?N||S.tail===null?S.tail=null:S.tail.sibling=null:Pt.sibling=null}}function bf(S,N,Q){var Pt=N.pendingProps;switch(N.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Es(N.type)&&Zs(),null;case 3:return vf(),Co(Ds),Co(is),Eu(),Pt=N.stateNode,Pt.pendingContext&&(Pt.context=Pt.pendingContext,Pt.pendingContext=null),(S===null||S.child===null)&&(yl(N)?N.flags|=4:Pt.hydrate||(N.flags|=256)),qu(N),null;case 5:Uf(N);var zt=Sh(Gd.current);if(Q=N.type,S!==null&&N.stateNode!=null)tl(S,N,Q,Pt,zt),S.ref!==N.ref&&(N.flags|=128);else{if(!Pt){if(N.stateNode===null)throw Error(_(166));return null}if(S=Sh(Rl.current),yl(N)){Pt=N.stateNode,Q=N.type;var ne=N.memoizedProps;switch(Pt[hc]=N,Pt[dc]=ne,Q){case"dialog":co("cancel",Pt),co("close",Pt);break;case"iframe":case"object":case"embed":co("load",Pt);break;case"video":case"audio":for(S=0;S<lc.length;S++)co(lc[S],Pt);break;case"source":co("error",Pt);break;case"img":case"image":case"link":co("error",Pt),co("load",Pt);break;case"details":co("toggle",Pt);break;case"input":re(Pt,ne),co("invalid",Pt);break;case"select":Pt._wrapperState={wasMultiple:!!ne.multiple},co("invalid",Pt);break;case"textarea":Sn(Pt,ne),co("invalid",Pt)}ft(Q,ne),S=null;for(var Fe in ne)ne.hasOwnProperty(Fe)&&(zt=ne[Fe],Fe==="children"?typeof zt=="string"?Pt.textContent!==zt&&(S=["children",zt]):typeof zt=="number"&&Pt.textContent!==""+zt&&(S=["children",""+zt]):T.hasOwnProperty(Fe)&&zt!=null&&Fe==="onScroll"&&co("scroll",Pt));switch(Q){case"input":Kt(Pt),gn(Pt,ne,!0);break;case"textarea":Kt(Pt),hn(Pt);break;case"select":case"option":break;default:typeof ne.onClick=="function"&&(Pt.onclick=ff)}Pt=S,N.updateQueue=Pt,Pt!==null&&(N.flags|=4)}else{switch(Fe=zt.nodeType===9?zt:zt.ownerDocument,S===Gn.html&&(S=En(Q)),S===Gn.html?Q==="script"?(S=Fe.createElement("div"),S.innerHTML="<script><\/script>",S=S.removeChild(S.firstChild)):typeof Pt.is=="string"?S=Fe.createElement(Q,{is:Pt.is}):(S=Fe.createElement(Q),Q==="select"&&(Fe=S,Pt.multiple?Fe.multiple=!0:Pt.size&&(Fe.size=Pt.size))):S=Fe.createElementNS(S,Q),S[hc]=N,S[dc]=Pt,Oh(S,N,!1,!1),N.stateNode=S,Fe=pt(Q,Pt),Q){case"dialog":co("cancel",S),co("close",S),zt=Pt;break;case"iframe":case"object":case"embed":co("load",S),zt=Pt;break;case"video":case"audio":for(zt=0;zt<lc.length;zt++)co(lc[zt],S);zt=Pt;break;case"source":co("error",S),zt=Pt;break;case"img":case"image":case"link":co("error",S),co("load",S),zt=Pt;break;case"details":co("toggle",S),zt=Pt;break;case"input":re(S,Pt),zt=tr(S,Pt),co("invalid",S);break;case"option":zt=bi(S,Pt);break;case"select":S._wrapperState={wasMultiple:!!Pt.multiple},zt=b({},Pt,{value:void 0}),co("invalid",S);break;case"textarea":Sn(S,Pt),zt=Zr(S,Pt),co("invalid",S);break;default:zt=Pt}ft(Q,zt);var er=zt;for(ne in er)if(er.hasOwnProperty(ne)){var Nr=er[ne];ne==="style"?Wr(S,Nr):ne==="dangerouslySetInnerHTML"?(Nr=Nr?Nr.__html:void 0,Nr!=null&&xe(S,Nr)):ne==="children"?typeof Nr=="string"?(Q!=="textarea"||Nr!=="")&&Ge(S,Nr):typeof Nr=="number"&&Ge(S,""+Nr):ne!=="suppressContentEditableWarning"&&ne!=="suppressHydrationWarning"&&ne!=="autoFocus"&&(T.hasOwnProperty(ne)?Nr!=null&&ne==="onScroll"&&co("scroll",S):Nr!=null&&q(S,ne,Nr,Fe))}switch(Q){case"input":Kt(S),gn(S,Pt,!1);break;case"textarea":Kt(S),hn(S);break;case"option":Pt.value!=null&&S.setAttribute("value",""+ye(Pt.value));break;case"select":S.multiple=!!Pt.multiple,ne=Pt.value,ne!=null?fr(S,!!Pt.multiple,ne,!1):Pt.defaultValue!=null&&fr(S,!!Pt.multiple,Pt.defaultValue,!0);break;default:typeof zt.onClick=="function"&&(S.onclick=ff)}Hu(Q,Pt)&&(N.flags|=4)}N.ref!==null&&(N.flags|=128)}return null;case 6:if(S&&N.stateNode!=null)El(S,N,S.memoizedProps,Pt);else{if(typeof Pt!="string"&&N.stateNode===null)throw Error(_(166));Q=Sh(Gd.current),Sh(Rl.current),yl(N)?(Pt=N.stateNode,Q=N.memoizedProps,Pt[hc]=N,Pt.nodeValue!==Q&&(N.flags|=4)):(Pt=(Q.nodeType===9?Q:Q.ownerDocument).createTextNode(Pt),Pt[hc]=N,N.stateNode=Pt)}return null;case 13:return Co(Na),Pt=N.memoizedState,(N.flags&64)!==0?(N.lanes=Q,N):(Pt=Pt!==null,Q=!1,S===null?N.memoizedProps.fallback!==void 0&&yl(N):Q=S.memoizedState!==null,Pt&&!Q&&(N.mode&2)!==0&&(S===null&&N.memoizedProps.unstable_avoidThisFallback!==!0||(Na.current&1)!==0?Mn===0&&(Mn=3):((Mn===0||Mn===3)&&(Mn=4),Qe===null||(Un&134217727)===0&&(Nn&134217727)===0||io(Qe,Lr))),(Pt||Q)&&(N.flags|=4),null);case 4:return vf(),qu(N),S===null&&Vu(N.stateNode.containerInfo),null;case 10:return Lv(N),null;case 17:return Es(N.type)&&Zs(),null;case 19:if(Co(Na),Pt=N.memoizedState,Pt===null)return null;if(ne=(N.flags&64)!==0,Fe=Pt.rendering,Fe===null)if(ne)Sl(Pt,!1);else{if(Mn!==0||S!==null&&(S.flags&64)!==0)for(S=N.child;S!==null;){if(Fe=jc(S),Fe!==null){for(N.flags|=64,Sl(Pt,!1),ne=Fe.updateQueue,ne!==null&&(N.updateQueue=ne,N.flags|=4),Pt.lastEffect===null&&(N.firstEffect=null),N.lastEffect=Pt.lastEffect,Pt=Q,Q=N.child;Q!==null;)ne=Q,S=Pt,ne.flags&=2,ne.nextEffect=null,ne.firstEffect=null,ne.lastEffect=null,Fe=ne.alternate,Fe===null?(ne.childLanes=0,ne.lanes=S,ne.child=null,ne.memoizedProps=null,ne.memoizedState=null,ne.updateQueue=null,ne.dependencies=null,ne.stateNode=null):(ne.childLanes=Fe.childLanes,ne.lanes=Fe.lanes,ne.child=Fe.child,ne.memoizedProps=Fe.memoizedProps,ne.memoizedState=Fe.memoizedState,ne.updateQueue=Fe.updateQueue,ne.type=Fe.type,S=Fe.dependencies,ne.dependencies=S===null?null:{lanes:S.lanes,firstContext:S.firstContext}),Q=Q.sibling;return Uo(Na,Na.current&1|2),N.child}S=S.sibling}Pt.tail!==null&&ts()>It&&(N.flags|=64,ne=!0,Sl(Pt,!1),N.lanes=33554432)}else{if(!ne)if(S=jc(Fe),S!==null){if(N.flags|=64,ne=!0,Q=S.updateQueue,Q!==null&&(N.updateQueue=Q,N.flags|=4),Sl(Pt,!0),Pt.tail===null&&Pt.tailMode==="hidden"&&!Fe.alternate&&!es)return N=N.lastEffect=Pt.lastEffect,N!==null&&(N.nextEffect=null),null}else 2*ts()-Pt.renderingStartTime>It&&Q!==1073741824&&(N.flags|=64,ne=!0,Sl(Pt,!1),N.lanes=33554432);Pt.isBackwards?(Fe.sibling=N.child,N.child=Fe):(Q=Pt.last,Q!==null?Q.sibling=Fe:N.child=Fe,Pt.last=Fe)}return Pt.tail!==null?(Q=Pt.tail,Pt.rendering=Q,Pt.tail=Q.sibling,Pt.lastEffect=N.lastEffect,Pt.renderingStartTime=ts(),Q.sibling=null,N=Na.current,Uo(Na,ne?N&1|2:N&1),Q):null;case 23:case 24:return xo(),S!==null&&S.memoizedState!==null!=(N.memoizedState!==null)&&Pt.mode!=="unstable-defer-without-hiding"&&(N.flags|=4),null}throw Error(_(156,N.tag))}function ya(S){switch(S.tag){case 1:Es(S.type)&&Zs();var N=S.flags;return N&4096?(S.flags=N&-4097|64,S):null;case 3:if(vf(),Co(Ds),Co(is),Eu(),N=S.flags,(N&64)!==0)throw Error(_(285));return S.flags=N&-4097|64,S;case 5:return Uf(S),null;case 13:return Co(Na),N=S.flags,N&4096?(S.flags=N&-4097|64,S):null;case 19:return Co(Na),null;case 4:return vf(),null;case 10:return Lv(S),null;case 23:case 24:return xo(),null;default:return null}}function ss(S,N){try{var Q="",Pt=N;do Q+=we(Pt),Pt=Pt.return;while(Pt);var zt=Q}catch(ne){zt=`
Error generating stack: `+ne.message+`
`+ne.stack}return{value:S,source:N,stack:zt}}function Cs(S,N){try{console.error(N.value)}catch(Q){setTimeout(function(){throw Q})}}var no=typeof WeakMap=="function"?WeakMap:Map;function Io(S,N,Q){Q=yc(-1,Q),Q.tag=3,Q.payload={element:null};var Pt=N.value;return Q.callback=function(){Yt||(Yt=!0,Qt=Pt),Cs(S,N)},Q}function _c(S,N,Q){Q=yc(-1,Q),Q.tag=3;var Pt=S.type.getDerivedStateFromError;if(typeof Pt=="function"){var zt=N.value;Q.payload=function(){return Cs(S,N),Pt(zt)}}var ne=S.stateNode;return ne!==null&&typeof ne.componentDidCatch=="function"&&(Q.callback=function(){typeof Pt!="function"&&(ee===null?ee=new Set([this]):ee.add(this),Cs(S,N));var Fe=N.stack;this.componentDidCatch(N.value,{componentStack:Fe!==null?Fe:""})}),Q}var vd=typeof WeakSet=="function"?WeakSet:Set;function el(S){var N=S.ref;if(N!==null)if(typeof N=="function")try{N(null)}catch(Q){Oe(S,Q)}else N.current=null}function pd(S,N){switch(N.tag){case 0:case 11:case 15:case 22:return;case 1:if(N.flags&256&&S!==null){var Q=S.memoizedProps,Pt=S.memoizedState;S=N.stateNode,N=S.getSnapshotBeforeUpdate(N.elementType===N.type?Q:vs(N.type,Q),Pt),S.__reactInternalSnapshotBeforeUpdate=N}return;case 3:N.flags&256&&vi(N.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(_(163))}function $f(S,N,Q){switch(Q.tag){case 0:case 11:case 15:case 22:if(N=Q.updateQueue,N=N!==null?N.lastEffect:null,N!==null){S=N=N.next;do{if((S.tag&3)===3){var Pt=S.create;S.destroy=Pt()}S=S.next}while(S!==N)}if(N=Q.updateQueue,N=N!==null?N.lastEffect:null,N!==null){S=N=N.next;do{var zt=S;Pt=zt.next,zt=zt.tag,(zt&4)!==0&&(zt&1)!==0&&(gi(Q,S),an(Q,S)),S=Pt}while(S!==N)}return;case 1:S=Q.stateNode,Q.flags&4&&(N===null?S.componentDidMount():(Pt=Q.elementType===Q.type?N.memoizedProps:vs(Q.type,N.memoizedProps),S.componentDidUpdate(Pt,N.memoizedState,S.__reactInternalSnapshotBeforeUpdate))),N=Q.updateQueue,N!==null&&df(Q,N,S);return;case 3:if(N=Q.updateQueue,N!==null){if(S=null,Q.child!==null)switch(Q.child.tag){case 5:S=Q.child.stateNode;break;case 1:S=Q.child.stateNode}df(Q,N,S)}return;case 5:S=Q.stateNode,N===null&&Q.flags&4&&Hu(Q.type,Q.memoizedProps)&&S.focus();return;case 6:return;case 4:return;case 12:return;case 13:Q.memoizedState===null&&(Q=Q.alternate,Q!==null&&(Q=Q.memoizedState,Q!==null&&(Q=Q.dehydrated,Q!==null&&oh(Q))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(_(163))}function gd(S,N){for(var Q=S;;){if(Q.tag===5){var Pt=Q.stateNode;if(N)Pt=Pt.style,typeof Pt.setProperty=="function"?Pt.setProperty("display","none","important"):Pt.display="none";else{Pt=Q.stateNode;var zt=Q.memoizedProps.style;zt=zt!=null&&zt.hasOwnProperty("display")?zt.display:null,Pt.style.display=jr("display",zt)}}else if(Q.tag===6)Q.stateNode.nodeValue=N?"":Q.memoizedProps;else if((Q.tag!==23&&Q.tag!==24||Q.memoizedState===null||Q===S)&&Q.child!==null){Q.child.return=Q,Q=Q.child;continue}if(Q===S)break;for(;Q.sibling===null;){if(Q.return===null||Q.return===S)return;Q=Q.return}Q.sibling.return=Q.return,Q=Q.sibling}}function Ef(S,N){if(vc&&typeof vc.onCommitFiberUnmount=="function")try{vc.onCommitFiberUnmount(lu,N)}catch(ne){}switch(N.tag){case 0:case 11:case 14:case 15:case 22:if(S=N.updateQueue,S!==null&&(S=S.lastEffect,S!==null)){var Q=S=S.next;do{var Pt=Q,zt=Pt.destroy;if(Pt=Pt.tag,zt!==void 0)if((Pt&4)!==0)gi(N,Q);else{Pt=N;try{zt()}catch(ne){Oe(Pt,ne)}}Q=Q.next}while(Q!==S)}break;case 1:if(el(N),S=N.stateNode,typeof S.componentWillUnmount=="function")try{S.props=N.memoizedProps,S.state=N.memoizedState,S.componentWillUnmount()}catch(ne){Oe(N,ne)}break;case 5:el(N);break;case 4:Ph(S,N)}}function yd(S){S.alternate=null,S.child=null,S.dependencies=null,S.firstEffect=null,S.lastEffect=null,S.memoizedProps=null,S.memoizedState=null,S.pendingProps=null,S.return=null,S.updateQueue=null}function wl(S){return S.tag===5||S.tag===3||S.tag===4}function ri(S){t:{for(var N=S.return;N!==null;){if(wl(N))break t;N=N.return}throw Error(_(160))}var Q=N;switch(N=Q.stateNode,Q.tag){case 5:var Pt=!1;break;case 3:N=N.containerInfo,Pt=!0;break;case 4:N=N.containerInfo,Pt=!0;break;default:throw Error(_(161))}Q.flags&16&&(Ge(N,""),Q.flags&=-17);t:e:for(Q=S;;){for(;Q.sibling===null;){if(Q.return===null||wl(Q.return)){Q=null;break t}Q=Q.return}for(Q.sibling.return=Q.return,Q=Q.sibling;Q.tag!==5&&Q.tag!==6&&Q.tag!==18;){if(Q.flags&2||Q.child===null||Q.tag===4)continue e;Q.child.return=Q,Q=Q.child}if(!(Q.flags&2)){Q=Q.stateNode;break t}}Pt?md(S,Q,N):Dh(S,Q,N)}function md(S,N,Q){var Pt=S.tag,zt=Pt===5||Pt===6;if(zt)S=zt?S.stateNode:S.stateNode.instance,N?Q.nodeType===8?Q.parentNode.insertBefore(S,N):Q.insertBefore(S,N):(Q.nodeType===8?(N=Q.parentNode,N.insertBefore(S,Q)):(N=Q,N.appendChild(S)),Q=Q._reactRootContainer,Q!=null||N.onclick!==null||(N.onclick=ff));else if(Pt!==4&&(S=S.child,S!==null))for(md(S,N,Q),S=S.sibling;S!==null;)md(S,N,Q),S=S.sibling}function Dh(S,N,Q){var Pt=S.tag,zt=Pt===5||Pt===6;if(zt)S=zt?S.stateNode:S.stateNode.instance,N?Q.insertBefore(S,N):Q.appendChild(S);else if(Pt!==4&&(S=S.child,S!==null))for(Dh(S,N,Q),S=S.sibling;S!==null;)Dh(S,N,Q),S=S.sibling}function Ph(S,N){for(var Q=N,Pt=!1,zt,ne;;){if(!Pt){Pt=Q.return;t:for(;;){if(Pt===null)throw Error(_(160));switch(zt=Pt.stateNode,Pt.tag){case 5:ne=!1;break t;case 3:zt=zt.containerInfo,ne=!0;break t;case 4:zt=zt.containerInfo,ne=!0;break t}Pt=Pt.return}Pt=!0}if(Q.tag===5||Q.tag===6){t:for(var Fe=S,er=Q,Nr=er;;)if(Ef(Fe,Nr),Nr.child!==null&&Nr.tag!==4)Nr.child.return=Nr,Nr=Nr.child;else{if(Nr===er)break t;for(;Nr.sibling===null;){if(Nr.return===null||Nr.return===er)break t;Nr=Nr.return}Nr.sibling.return=Nr.return,Nr=Nr.sibling}ne?(Fe=zt,er=Q.stateNode,Fe.nodeType===8?Fe.parentNode.removeChild(er):Fe.removeChild(er)):zt.removeChild(Q.stateNode)}else if(Q.tag===4){if(Q.child!==null){zt=Q.stateNode.containerInfo,ne=!0,Q.child.return=Q,Q=Q.child;continue}}else if(Ef(S,Q),Q.child!==null){Q.child.return=Q,Q=Q.child;continue}if(Q===N)break;for(;Q.sibling===null;){if(Q.return===null||Q.return===N)return;Q=Q.return,Q.tag===4&&(Pt=!1)}Q.sibling.return=Q.return,Q=Q.sibling}}function Lh(S,N){switch(N.tag){case 0:case 11:case 14:case 15:case 22:var Q=N.updateQueue;if(Q=Q!==null?Q.lastEffect:null,Q!==null){var Pt=Q=Q.next;do(Pt.tag&3)===3&&(S=Pt.destroy,Pt.destroy=void 0,S!==void 0&&S()),Pt=Pt.next;while(Pt!==Q)}return;case 1:return;case 5:if(Q=N.stateNode,Q!=null){Pt=N.memoizedProps;var zt=S!==null?S.memoizedProps:Pt;S=N.type;var ne=N.updateQueue;if(N.updateQueue=null,ne!==null){for(Q[dc]=Pt,S==="input"&&Pt.type==="radio"&&Pt.name!=null&&Qr(Q,Pt),pt(S,zt),N=pt(S,Pt),zt=0;zt<ne.length;zt+=2){var Fe=ne[zt],er=ne[zt+1];Fe==="style"?Wr(Q,er):Fe==="dangerouslySetInnerHTML"?xe(Q,er):Fe==="children"?Ge(Q,er):q(Q,Fe,er,N)}switch(S){case"input":Ir(Q,Pt);break;case"textarea":Dn(Q,Pt);break;case"select":S=Q._wrapperState.wasMultiple,Q._wrapperState.wasMultiple=!!Pt.multiple,ne=Pt.value,ne!=null?fr(Q,!!Pt.multiple,ne,!1):S!==!!Pt.multiple&&(Pt.defaultValue!=null?fr(Q,!!Pt.multiple,Pt.defaultValue,!0):fr(Q,!!Pt.multiple,Pt.multiple?[]:"",!1))}}}return;case 6:if(N.stateNode===null)throw Error(_(162));N.stateNode.nodeValue=N.memoizedProps;return;case 3:Q=N.stateNode,Q.hydrate&&(Q.hydrate=!1,oh(Q.containerInfo));return;case 12:return;case 13:N.memoizedState!==null&&(wt=ts(),gd(N.child,!0)),sv(N);return;case 19:sv(N);return;case 17:return;case 23:case 24:gd(N,N.memoizedState!==null);return}throw Error(_(163))}function sv(S){var N=S.updateQueue;if(N!==null){S.updateQueue=null;var Q=S.stateNode;Q===null&&(Q=S.stateNode=new vd),N.forEach(function(Pt){var zt=Ur.bind(null,S,Pt);Q.has(Pt)||(Q.add(Pt),Pt.then(zt,zt))})}}function ip(S,N){return S!==null&&(S=S.memoizedState,S===null||S.dehydrated!==null)?(N=N.memoizedState,N!==null&&N.dehydrated===null):!1}var $c=Math.ceil,Ac=nt.ReactCurrentDispatcher,$t=nt.ReactCurrentOwner,Ae=0,Qe=null,Hr=null,Lr=0,rn=0,dn=vl(0),Mn=0,Yn=null,Hn=0,Un=0,Nn=0,j=0,et=null,wt=0,It=1/0;function Nt(){It=ts()+500}var Ft=null,Yt=!1,Qt=null,ee=null,de=!1,Ie=null,Pe=90,Ke=[],Ar=[],pn=null,Dr=0,Pr=null,Rr=-1,zn=0,ni=0,Qn=null,Ti=!1;function li(){return(Ae&48)!==0?ts():Rr!==-1?Rr:Rr=ts()}function Di(S){if(S=S.mode,(S&2)===0)return 1;if((S&4)===0)return Qs()===99?1:2;if(zn===0&&(zn=Hn),wp.transition!==0){ni!==0&&(ni=et!==null?et.pendingLanes:0),S=zn;var N=4186112&~ni;return N&=-N,N===0&&(S=4186112&~S,N=S&-S,N===0&&(N=8192)),N}return S=Qs(),(Ae&4)!==0&&S===98?S=Qa(12,zn):(S=sh(S),S=Qa(S,zn)),S}function Wi(S,N,Q){if(50<Dr)throw Dr=0,Pr=null,Error(_(185));if(S=zi(S,N),S===null)return null;Ou(S,N,Q),S===Qe&&(Nn|=N,Mn===4&&io(S,Lr));var Pt=Qs();N===1?(Ae&8)!==0&&(Ae&48)===0?Ka(S):(Pa(S,Q),Ae===0&&(Nt(),gl())):((Ae&4)===0||Pt!==98&&Pt!==99||(pn===null?pn=new Set([S]):pn.add(S)),Pa(S,Q)),et=S}function zi(S,N){S.lanes|=N;var Q=S.alternate;for(Q!==null&&(Q.lanes|=N),Q=S,S=S.return;S!==null;)S.childLanes|=N,Q=S.alternate,Q!==null&&(Q.childLanes|=N),Q=S,S=S.return;return Q.tag===3?Q.stateNode:null}function Pa(S,N){for(var Q=S.callbackNode,Pt=S.suspendedLanes,zt=S.pingedLanes,ne=S.expirationTimes,Fe=S.pendingLanes;0<Fe;){var er=31-Du(Fe),Nr=1<<er,On=ne[er];if(On===-1){if((Nr&Pt)===0||(Nr&zt)!==0){On=N,sf(Nr);var Fi=go;ne[er]=10<=Fi?On+250:6<=Fi?On+5e3:-1}}else On<=N&&(S.expiredLanes|=Nr);Fe&=~Nr}if(Pt=Pc(S,S===Qe?Lr:0),N=go,Pt===0)Q!==null&&(Q!==kd&&pc(Q),S.callbackNode=null,S.callbackPriority=0);else{if(Q!==null){if(S.callbackPriority===N)return;Q!==kd&&pc(Q)}N===15?(Q=Ka.bind(null,S),cu===null?(cu=[Q],yh=gh(nd,ws)):cu.push(Q),Q=kd):N===14?Q=fu(99,Ka.bind(null,S)):(Q=uh(N),Q=fu(Q,Xi.bind(null,S))),S.callbackPriority=N,S.callbackNode=Q}}function Xi(S){if(Rr=-1,ni=zn=0,(Ae&48)!==0)throw Error(_(327));var N=S.callbackNode;if(on()&&S.callbackNode!==N)return null;var Q=Pc(S,S===Qe?Lr:0);if(Q===0)return null;var Pt=Q,zt=Ae;Ae|=16;var ne=Us();(Qe!==S||Lr!==Pt)&&(Nt(),Fo(S,Pt));do try{aa();break}catch(er){Qi(S,er)}while(1);if(Gc(),Ac.current=ne,Ae=zt,Hr!==null?Pt=0:(Qe=null,Lr=0,Pt=Mn),(Hn&Nn)!==0)Fo(S,0);else if(Pt!==0){if(Pt===2&&(Ae|=64,S.hydrate&&(S.hydrate=!1,vi(S.containerInfo)),Q=Vh(S),Q!==0&&(Pt=Ga(S,Q))),Pt===1)throw N=Yn,Fo(S,0),io(S,Q),Pa(S,ts()),N;switch(S.finishedWork=S.current.alternate,S.finishedLanes=Q,Pt){case 0:case 1:throw Error(_(345));case 2:_u(S);break;case 3:if(io(S,Q),(Q&62914560)===Q&&(Pt=wt+500-ts(),10<Pt)){if(Pc(S,0)!==0)break;if(zt=S.suspendedLanes,(zt&Q)!==Q){li(),S.pingedLanes|=S.suspendedLanes&zt;break}S.timeoutHandle=Yu(_u.bind(null,S),Pt);break}_u(S);break;case 4:if(io(S,Q),(Q&4186112)===Q)break;for(Pt=S.eventTimes,zt=-1;0<Q;){var Fe=31-Du(Q);ne=1<<Fe,Fe=Pt[Fe],Fe>zt&&(zt=Fe),Q&=~ne}if(Q=zt,Q=ts()-Q,Q=(120>Q?120:480>Q?480:1080>Q?1080:1920>Q?1920:3e3>Q?3e3:4320>Q?4320:1960*$c(Q/1960))-Q,10<Q){S.timeoutHandle=Yu(_u.bind(null,S),Q);break}_u(S);break;case 5:_u(S);break;default:throw Error(_(329))}}return Pa(S,ts()),S.callbackNode===N?Xi.bind(null,S):null}function io(S,N){for(N&=~j,N&=~Nn,S.suspendedLanes|=N,S.pingedLanes&=~N,S=S.expirationTimes;0<N;){var Q=31-Du(N),Pt=1<<Q;S[Q]=-1,N&=~Pt}}function Ka(S){if((Ae&48)!==0)throw Error(_(327));if(on(),S===Qe&&(S.expiredLanes&Lr)!==0){var N=Lr,Q=Ga(S,N);(Hn&Nn)!==0&&(N=Pc(S,N),Q=Ga(S,N))}else N=Pc(S,0),Q=Ga(S,N);if(S.tag!==0&&Q===2&&(Ae|=64,S.hydrate&&(S.hydrate=!1,vi(S.containerInfo)),N=Vh(S),N!==0&&(Q=Ga(S,N))),Q===1)throw Q=Yn,Fo(S,0),io(S,N),Pa(S,ts()),Q;return S.finishedWork=S.current.alternate,S.finishedLanes=N,_u(S),Pa(S,ts()),null}function ma(){if(pn!==null){var S=pn;pn=null,S.forEach(function(N){N.expiredLanes|=24&N.pendingLanes,Pa(N,ts())})}gl()}function vo(S,N){var Q=Ae;Ae|=1;try{return S(N)}finally{Ae=Q,Ae===0&&(Nt(),gl())}}function fo(S,N){var Q=Ae;Ae&=-2,Ae|=8;try{return S(N)}finally{Ae=Q,Ae===0&&(Nt(),gl())}}function ao(S,N){Uo(dn,rn),rn|=N,Hn|=N}function xo(){rn=dn.current,Co(dn)}function Fo(S,N){S.finishedWork=null,S.finishedLanes=0;var Q=S.timeoutHandle;if(Q!==-1&&(S.timeoutHandle=-1,Rd(Q)),Hr!==null)for(Q=Hr.return;Q!==null;){var Pt=Q;switch(Pt.tag){case 1:Pt=Pt.type.childContextTypes,Pt!=null&&Zs();break;case 3:vf(),Co(Ds),Co(is),Eu();break;case 5:Uf(Pt);break;case 4:vf();break;case 13:Co(Na);break;case 19:Co(Na);break;case 10:Lv(Pt);break;case 23:case 24:xo()}Q=Q.return}Qe=S,Hr=sr(S.current,null),Lr=rn=Hn=N,Mn=0,Yn=null,j=Nn=Un=0}function Qi(S,N){do{var Q=Hr;try{if(Gc(),Ru.current=Hc,Wf){for(var Pt=Wo.memoizedState;Pt!==null;){var zt=Pt.queue;zt!==null&&(zt.pending=null),Pt=Pt.next}Wf=!1}if(Nl=0,Mo=Vo=Wo=null,Vf=!1,$t.current=null,Q===null||Q.return===null){Mn=1,Yn=N,Hr=null;break}t:{var ne=S,Fe=Q.return,er=Q,Nr=N;if(N=Lr,er.flags|=2048,er.firstEffect=er.lastEffect=null,Nr!==null&&typeof Nr=="object"&&typeof Nr.then=="function"){var On=Nr;if((er.mode&2)===0){var Fi=er.alternate;Fi?(er.updateQueue=Fi.updateQueue,er.memoizedState=Fi.memoizedState,er.lanes=Fi.lanes):(er.updateQueue=null,er.memoizedState=null)}var ba=(Na.current&1)!==0,si=Fe;do{var $i;if($i=si.tag===13){var Ea=si.memoizedState;if(Ea!==null)$i=Ea.dehydrated!==null;else{var ra=si.memoizedProps;$i=ra.fallback===void 0?!1:ra.unstable_avoidThisFallback!==!0?!0:!ba}}if($i){var vn=si.updateQueue;if(vn===null){var $r=new Set;$r.add(On),si.updateQueue=$r}else vn.add(On);if((si.mode&2)===0){if(si.flags|=64,er.flags|=16384,er.flags&=-2981,er.tag===1)if(er.alternate===null)er.tag=17;else{var un=yc(-1,1);un.tag=2,xu(er,un)}er.lanes|=1;break t}Nr=void 0,er=N;var Jn=ne.pingCache;if(Jn===null?(Jn=ne.pingCache=new no,Nr=new Set,Jn.set(On,Nr)):(Nr=Jn.get(On),Nr===void 0&&(Nr=new Set,Jn.set(On,Nr))),!Nr.has(er)){Nr.add(er);var ei=vr.bind(null,ne,On,er);On.then(ei,ei)}si.flags|=4096,si.lanes=N;break t}si=si.return}while(si!==null);Nr=Error((Ce(er.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}Mn!==5&&(Mn=2),Nr=ss(Nr,er),si=Fe;do{switch(si.tag){case 3:ne=Nr,si.flags|=4096,N&=-N,si.lanes|=N;var La=Io(si,ne,N);sd(si,La);break t;case 1:ne=Nr;var Vi=si.type,Ba=si.stateNode;if((si.flags&64)===0&&(typeof Vi.getDerivedStateFromError=="function"||Ba!==null&&typeof Ba.componentDidCatch=="function"&&(ee===null||!ee.has(Ba)))){si.flags|=4096,N&=-N,si.lanes|=N;var qa=_c(si,ne,N);sd(si,qa);break t}}si=si.return}while(si!==null)}Ho(Q)}catch(Wa){N=Wa,Hr===Q&&Q!==null&&(Hr=Q=Q.return);continue}break}while(1)}function Us(){var S=Ac.current;return Ac.current=Hc,S===null?Hc:S}function Ga(S,N){var Q=Ae;Ae|=16;var Pt=Us();Qe===S&&Lr===N||Fo(S,N);do try{Ui();break}catch(zt){Qi(S,zt)}while(1);if(Gc(),Ae=Q,Ac.current=Pt,Hr!==null)throw Error(_(261));return Qe=null,Lr=0,Mn}function Ui(){for(;Hr!==null;)Ca(Hr)}function aa(){for(;Hr!==null&&!Bc();)Ca(Hr)}function Ca(S){var N=Xr(S.alternate,S,rn);S.memoizedProps=S.pendingProps,N===null?Ho(S):Hr=N,$t.current=null}function Ho(S){var N=S;do{var Q=N.alternate;if(S=N.return,(N.flags&2048)===0){if(Q=bf(Q,N,rn),Q!==null){Hr=Q;return}if(Q=N,Q.tag!==24&&Q.tag!==23||Q.memoizedState===null||(rn&1073741824)!==0||(Q.mode&4)===0){for(var Pt=0,zt=Q.child;zt!==null;)Pt|=zt.lanes|zt.childLanes,zt=zt.sibling;Q.childLanes=Pt}S!==null&&(S.flags&2048)===0&&(S.firstEffect===null&&(S.firstEffect=N.firstEffect),N.lastEffect!==null&&(S.lastEffect!==null&&(S.lastEffect.nextEffect=N.firstEffect),S.lastEffect=N.lastEffect),1<N.flags&&(S.lastEffect!==null?S.lastEffect.nextEffect=N:S.firstEffect=N,S.lastEffect=N))}else{if(Q=ya(N),Q!==null){Q.flags&=2047,Hr=Q;return}S!==null&&(S.firstEffect=S.lastEffect=null,S.flags|=2048)}if(N=N.sibling,N!==null){Hr=N;return}Hr=N=S}while(N!==null);Mn===0&&(Mn=5)}function _u(S){var N=Qs();return hf(99,zl.bind(null,S,N)),null}function zl(S,N){do on();while(Ie!==null);if((Ae&48)!==0)throw Error(_(327));var Q=S.finishedWork;if(Q===null)return null;if(S.finishedWork=null,S.finishedLanes=0,Q===S.current)throw Error(_(177));S.callbackNode=null;var Pt=Q.lanes|Q.childLanes,zt=Pt,ne=S.pendingLanes&~zt;S.pendingLanes=zt,S.suspendedLanes=0,S.pingedLanes=0,S.expiredLanes&=zt,S.mutableReadLanes&=zt,S.entangledLanes&=zt,zt=S.entanglements;for(var Fe=S.eventTimes,er=S.expirationTimes;0<ne;){var Nr=31-Du(ne),On=1<<Nr;zt[Nr]=0,Fe[Nr]=-1,er[Nr]=-1,ne&=~On}if(pn!==null&&(Pt&24)===0&&pn.has(S)&&pn.delete(S),S===Qe&&(Hr=Qe=null,Lr=0),1<Q.flags?Q.lastEffect!==null?(Q.lastEffect.nextEffect=Q,Pt=Q.firstEffect):Pt=Q:Pt=Q.firstEffect,Pt!==null){if(zt=Ae,Ae|=32,$t.current=null,Il=Jo,Fe=Wu(),lf(Fe)){if("selectionStart"in Fe)er={start:Fe.selectionStart,end:Fe.selectionEnd};else t:if(er=(er=Fe.ownerDocument)&&er.defaultView||window,(On=er.getSelection&&er.getSelection())&&On.rangeCount!==0){er=On.anchorNode,ne=On.anchorOffset,Nr=On.focusNode,On=On.focusOffset;try{er.nodeType,Nr.nodeType}catch(Wa){er=null;break t}var Fi=0,ba=-1,si=-1,$i=0,Ea=0,ra=Fe,vn=null;e:for(;;){for(var $r;ra!==er||ne!==0&&ra.nodeType!==3||(ba=Fi+ne),ra!==Nr||On!==0&&ra.nodeType!==3||(si=Fi+On),ra.nodeType===3&&(Fi+=ra.nodeValue.length),($r=ra.firstChild)!==null;)vn=ra,ra=$r;for(;;){if(ra===Fe)break e;if(vn===er&&++$i===ne&&(ba=Fi),vn===Nr&&++Ea===On&&(si=Fi),($r=ra.nextSibling)!==null)break;ra=vn,vn=ra.parentNode}ra=$r}er=ba===-1||si===-1?null:{start:ba,end:si}}else er=null;er=er||{start:0,end:0}}else er=null;Ol={focusedElem:Fe,selectionRange:er},Jo=!1,Qn=null,Ti=!1,Ft=Pt;do try{Ze()}catch(Wa){if(Ft===null)throw Error(_(330));Oe(Ft,Wa),Ft=Ft.nextEffect}while(Ft!==null);Qn=null,Ft=Pt;do try{for(Fe=S;Ft!==null;){var un=Ft.flags;if(un&16&&Ge(Ft.stateNode,""),un&128){var Jn=Ft.alternate;if(Jn!==null){var ei=Jn.ref;ei!==null&&(typeof ei=="function"?ei(null):ei.current=null)}}switch(un&1038){case 2:ri(Ft),Ft.flags&=-3;break;case 6:ri(Ft),Ft.flags&=-3,Lh(Ft.alternate,Ft);break;case 1024:Ft.flags&=-1025;break;case 1028:Ft.flags&=-1025,Lh(Ft.alternate,Ft);break;case 4:Lh(Ft.alternate,Ft);break;case 8:er=Ft,Ph(Fe,er);var La=er.alternate;yd(er),La!==null&&yd(La)}Ft=Ft.nextEffect}}catch(Wa){if(Ft===null)throw Error(_(330));Oe(Ft,Wa),Ft=Ft.nextEffect}while(Ft!==null);if(ei=Ol,Jn=Wu(),un=ei.focusedElem,Fe=ei.selectionRange,Jn!==un&&un&&un.ownerDocument&&Ja(un.ownerDocument.documentElement,un)){for(Fe!==null&&lf(un)&&(Jn=Fe.start,ei=Fe.end,ei===void 0&&(ei=Jn),"selectionStart"in un?(un.selectionStart=Jn,un.selectionEnd=Math.min(ei,un.value.length)):(ei=(Jn=un.ownerDocument||document)&&Jn.defaultView||window,ei.getSelection&&(ei=ei.getSelection(),er=un.textContent.length,La=Math.min(Fe.start,er),Fe=Fe.end===void 0?La:Math.min(Fe.end,er),!ei.extend&&La>Fe&&(er=Fe,Fe=La,La=er),er=ac(un,La),ne=ac(un,Fe),er&&ne&&(ei.rangeCount!==1||ei.anchorNode!==er.node||ei.anchorOffset!==er.offset||ei.focusNode!==ne.node||ei.focusOffset!==ne.offset)&&(Jn=Jn.createRange(),Jn.setStart(er.node,er.offset),ei.removeAllRanges(),La>Fe?(ei.addRange(Jn),ei.extend(ne.node,ne.offset)):(Jn.setEnd(ne.node,ne.offset),ei.addRange(Jn)))))),Jn=[],ei=un;ei=ei.parentNode;)ei.nodeType===1&&Jn.push({element:ei,left:ei.scrollLeft,top:ei.scrollTop});for(typeof un.focus=="function"&&un.focus(),un=0;un<Jn.length;un++)ei=Jn[un],ei.element.scrollLeft=ei.left,ei.element.scrollTop=ei.top}Jo=!!Il,Ol=Il=null,S.current=Q,Ft=Pt;do try{for(un=S;Ft!==null;){var Vi=Ft.flags;if(Vi&36&&$f(un,Ft.alternate,Ft),Vi&128){Jn=void 0;var Ba=Ft.ref;if(Ba!==null){var qa=Ft.stateNode;switch(Ft.tag){case 5:Jn=qa;break;default:Jn=qa}typeof Ba=="function"?Ba(Jn):Ba.current=Jn}}Ft=Ft.nextEffect}}catch(Wa){if(Ft===null)throw Error(_(330));Oe(Ft,Wa),Ft=Ft.nextEffect}while(Ft!==null);Ft=null,iv(),Ae=zt}else S.current=Q;if(de)de=!1,Ie=S,Pe=N;else for(Ft=Pt;Ft!==null;)N=Ft.nextEffect,Ft.nextEffect=null,Ft.flags&8&&(Vi=Ft,Vi.sibling=null,Vi.stateNode=null),Ft=N;if(Pt=S.pendingLanes,Pt===0&&(ee=null),Pt===1?S===Pr?Dr++:(Dr=0,Pr=S):Dr=0,Q=Q.stateNode,vc&&typeof vc.onCommitFiberRoot=="function")try{vc.onCommitFiberRoot(lu,Q,void 0,(Q.current.flags&64)===64)}catch(Wa){}if(Pa(S,ts()),Yt)throw Yt=!1,S=Qt,Qt=null,S;return(Ae&8)!==0||gl(),null}function Ze(){for(;Ft!==null;){var S=Ft.alternate;Ti||Qn===null||((Ft.flags&8)!==0?Ci(Ft,Qn)&&(Ti=!0):Ft.tag===13&&ip(S,Ft)&&Ci(Ft,Qn)&&(Ti=!0));var N=Ft.flags;(N&256)!==0&&pd(S,Ft),(N&512)===0||de||(de=!0,fu(97,function(){return on(),null})),Ft=Ft.nextEffect}}function on(){if(Pe!==90){var S=97<Pe?97:Pe;return Pe=90,hf(S,la)}return!1}function an(S,N){Ke.push(N,S),de||(de=!0,fu(97,function(){return on(),null}))}function gi(S,N){Ar.push(N,S),de||(de=!0,fu(97,function(){return on(),null}))}function la(){if(Ie===null)return!1;var S=Ie;if(Ie=null,(Ae&48)!==0)throw Error(_(331));var N=Ae;Ae|=32;var Q=Ar;Ar=[];for(var Pt=0;Pt<Q.length;Pt+=2){var zt=Q[Pt],ne=Q[Pt+1],Fe=zt.destroy;if(zt.destroy=void 0,typeof Fe=="function")try{Fe()}catch(Nr){if(ne===null)throw Error(_(330));Oe(ne,Nr)}}for(Q=Ke,Ke=[],Pt=0;Pt<Q.length;Pt+=2){zt=Q[Pt],ne=Q[Pt+1];try{var er=zt.create;zt.destroy=er()}catch(Nr){if(ne===null)throw Error(_(330));Oe(ne,Nr)}}for(er=S.current.firstEffect;er!==null;)S=er.nextEffect,er.nextEffect=null,er.flags&8&&(er.sibling=null,er.stateNode=null),er=S;return Ae=N,gl(),!0}function Ve(S,N,Q){N=ss(Q,N),N=Io(S,N,1),xu(S,N),N=li(),S=zi(S,1),S!==null&&(Ou(S,1,N),Pa(S,N))}function Oe(S,N){if(S.tag===3)Ve(S,S,N);else for(var Q=S.return;Q!==null;){if(Q.tag===3){Ve(Q,S,N);break}else if(Q.tag===1){var Pt=Q.stateNode;if(typeof Q.type.getDerivedStateFromError=="function"||typeof Pt.componentDidCatch=="function"&&(ee===null||!ee.has(Pt))){S=ss(N,S);var zt=_c(Q,S,1);if(xu(Q,zt),zt=li(),Q=zi(Q,1),Q!==null)Ou(Q,1,zt),Pa(Q,zt);else if(typeof Pt.componentDidCatch=="function"&&(ee===null||!ee.has(Pt)))try{Pt.componentDidCatch(N,S)}catch(ne){}break}}Q=Q.return}}function vr(S,N,Q){var Pt=S.pingCache;Pt!==null&&Pt.delete(N),N=li(),S.pingedLanes|=S.suspendedLanes&Q,Qe===S&&(Lr&Q)===Q&&(Mn===4||Mn===3&&(Lr&62914560)===Lr&&500>ts()-wt?Fo(S,0):j|=Q),Pa(S,N)}function Ur(S,N){var Q=S.stateNode;Q!==null&&Q.delete(N),N=0,N===0&&(N=S.mode,(N&2)===0?N=1:(N&4)===0?N=Qs()===99?1:2:(zn===0&&(zn=Hn),N=Ya(62914560&~zn),N===0&&(N=4194304))),Q=li(),S=zi(S,N),S!==null&&(Ou(S,N,Q),Pa(S,Q))}var Xr;Xr=function(S,N,Q){var Pt=N.lanes;if(S!==null)if(S.memoizedProps!==N.pendingProps||Ds.current)Fu=!0;else if((Q&Pt)!==0)Fu=(S.flags&16384)!==0;else{switch(Fu=!1,N.tag){case 3:xf(N),Wc();break;case 5:zf(N);break;case 1:Es(N.type)&&Ss(N);break;case 4:Lu(N,N.stateNode.containerInfo);break;case 10:Pt=N.memoizedProps.value;var zt=N.type._context;Uo(Bd,zt._currentValue),zt._currentValue=Pt;break;case 13:if(N.memoizedState!==null)return(Q&N.child.childLanes)!==0?qs(S,N,Q):(Uo(Na,Na.current&1),N=Ro(S,N,Q),N!==null?N.sibling:null);Uo(Na,Na.current&1);break;case 19:if(Pt=(Q&N.childLanes)!==0,(S.flags&64)!==0){if(Pt)return Xc(S,N,Q);N.flags|=64}if(zt=N.memoizedState,zt!==null&&(zt.rendering=null,zt.tail=null,zt.lastEffect=null),Uo(Na,Na.current),Pt)break;return null;case 23:case 24:return N.lanes=0,Ec(S,N,Q)}return Ro(S,N,Q)}else Fu=!1;switch(N.lanes=0,N.tag){case 2:if(Pt=N.type,S!==null&&(S.alternate=null,N.alternate=null,N.flags|=2),S=N.pendingProps,zt=mu(N,is.current),bh(N,Q),zt=_h(null,N,Pt,S,zt,Q),N.flags|=1,typeof zt=="object"&&zt!==null&&typeof zt.render=="function"&&zt.$$typeof===void 0){if(N.tag=1,N.memoizedState=null,N.updateQueue=null,Es(Pt)){var ne=!0;Ss(N)}else ne=!1;N.memoizedState=zt.state!==null&&zt.state!==void 0?zt.state:null,Qu(N);var Fe=Pt.getDerivedStateFromProps;typeof Fe=="function"&&Eh(N,Pt,Fe,S),zt.updater=Ps,N.stateNode=zt,zt._reactInternals=N,ld(N,Pt,S,Q),N=xl(null,N,Pt,!0,ne,Q)}else N.tag=0,Lo(null,N,zt,Q),N=N.child;return N;case 16:zt=N.elementType;t:{switch(S!==null&&(S.alternate=null,N.alternate=null,N.flags|=2),S=N.pendingProps,ne=zt._init,zt=ne(zt._payload),N.type=zt,ne=N.tag=Ue(zt),S=vs(zt,S),ne){case 0:N=mf(null,N,zt,S,Q);break t;case 1:N=Yc(null,N,zt,S,Q);break t;case 11:N=gf(null,N,zt,S,Q);break t;case 14:N=bc(null,N,zt,vs(zt.type,S),Pt,Q);break t}throw Error(_(306,zt,""))}return N;case 0:return Pt=N.type,zt=N.pendingProps,zt=N.elementType===Pt?zt:vs(Pt,zt),mf(S,N,Pt,zt,Q);case 1:return Pt=N.type,zt=N.pendingProps,zt=N.elementType===Pt?zt:vs(Pt,zt),Yc(S,N,Pt,zt,Q);case 3:if(xf(N),Pt=N.updateQueue,S===null||Pt===null)throw Error(_(282));if(Pt=N.pendingProps,zt=N.memoizedState,zt=zt!==null?zt.element:null,Ua(S,N),Js(N,Pt,null,Q),Pt=N.memoizedState.element,Pt===zt)Wc(),N=Ro(S,N,Q);else{if(zt=N.stateNode,(ne=zt.hydrate)&&(Gs=uo(N.stateNode.containerInfo.firstChild),bu=N,ne=es=!0),ne){if(S=zt.mutableSourceEagerHydrationData,S!=null)for(zt=0;zt<S.length;zt+=2)ne=S[zt],ne._workInProgressVersionPrimary=S[zt+1],du.push(ne);for(Q=Uc(N,null,Pt,Q),N.child=Q;Q;)Q.flags=Q.flags&-3|1024,Q=Q.sibling}else Lo(S,N,Pt,Q),Wc();N=N.child}return N;case 5:return zf(N),S===null&&ka(N),Pt=N.type,zt=N.pendingProps,ne=S!==null?S.memoizedProps:null,Fe=zt.children,vh(Pt,zt)?Fe=null:ne!==null&&vh(Pt,ne)&&(N.flags|=16),Sc(S,N),Lo(S,N,Fe,Q),N.child;case 6:return S===null&&ka(N),null;case 13:return qs(S,N,Q);case 4:return Lu(N,N.stateNode.containerInfo),Pt=N.pendingProps,S===null?N.child=zc(N,null,Pt,Q):Lo(S,N,Pt,Q),N.child;case 11:return Pt=N.type,zt=N.pendingProps,zt=N.elementType===Pt?zt:vs(Pt,zt),gf(S,N,Pt,zt,Q);case 7:return Lo(S,N,N.pendingProps,Q),N.child;case 8:return Lo(S,N,N.pendingProps.children,Q),N.child;case 12:return Lo(S,N,N.pendingProps.children,Q),N.child;case 10:t:{Pt=N.type._context,zt=N.pendingProps,Fe=N.memoizedProps,ne=zt.value;var er=N.type._context;if(Uo(Bd,er._currentValue),er._currentValue=ne,Fe!==null)if(er=Fe.value,ne=pi(er,ne)?0:(typeof Pt._calculateChangedBits=="function"?Pt._calculateChangedBits(er,ne):1073741823)|0,ne===0){if(Fe.children===zt.children&&!Ds.current){N=Ro(S,N,Q);break t}}else for(er=N.child,er!==null&&(er.return=N);er!==null;){var Nr=er.dependencies;if(Nr!==null){Fe=er.child;for(var On=Nr.firstContext;On!==null;){if(On.context===Pt&&(On.observedBits&ne)!==0){er.tag===1&&(On=yc(-1,Q&-Q),On.tag=2,xu(er,On)),er.lanes|=Q,On=er.alternate,On!==null&&(On.lanes|=Q),xh(er.return,Q),Nr.lanes|=Q;break}On=On.next}}else Fe=er.tag===10&&er.type===N.type?null:er.child;if(Fe!==null)Fe.return=er;else for(Fe=er;Fe!==null;){if(Fe===N){Fe=null;break}if(er=Fe.sibling,er!==null){er.return=Fe.return,Fe=er;break}Fe=Fe.return}er=Fe}Lo(S,N,zt.children,Q),N=N.child}return N;case 9:return zt=N.type,ne=N.pendingProps,Pt=ne.children,bh(N,Q),zt=_a(zt,ne.unstable_observedBits),Pt=Pt(zt),N.flags|=1,Lo(S,N,Pt,Q),N.child;case 14:return zt=N.type,ne=vs(zt,N.pendingProps),ne=vs(zt.type,ne),bc(S,N,zt,ne,Pt,Q);case 15:return yf(S,N,N.type,N.pendingProps,Pt,Q);case 17:return Pt=N.type,zt=N.pendingProps,zt=N.elementType===Pt?zt:vs(Pt,zt),S!==null&&(S.alternate=null,N.alternate=null,N.flags|=2),N.tag=1,Es(Pt)?(S=!0,Ss(N)):S=!1,bh(N,Q),av(N,Pt,zt),ld(N,Pt,zt,Q),xl(null,N,Pt,!0,S,Q);case 19:return Xc(S,N,Q);case 23:return Ec(S,N,Q);case 24:return Ec(S,N,Q)}throw Error(_(156,N.tag))};function gr(S,N,Q,Pt){this.tag=S,this.key=Q,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=N,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=Pt,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function lr(S,N,Q,Pt){return new gr(S,N,Q,Pt)}function Tr(S){return S=S.prototype,!(!S||!S.isReactComponent)}function Ue(S){if(typeof S=="function")return Tr(S)?1:0;if(S!=null){if(S=S.$$typeof,S===gt)return 11;if(S===Tt)return 14}return 2}function sr(S,N){var Q=S.alternate;return Q===null?(Q=lr(S.tag,N,S.key,S.mode),Q.elementType=S.elementType,Q.type=S.type,Q.stateNode=S.stateNode,Q.alternate=S,S.alternate=Q):(Q.pendingProps=N,Q.type=S.type,Q.flags=0,Q.nextEffect=null,Q.firstEffect=null,Q.lastEffect=null),Q.childLanes=S.childLanes,Q.lanes=S.lanes,Q.child=S.child,Q.memoizedProps=S.memoizedProps,Q.memoizedState=S.memoizedState,Q.updateQueue=S.updateQueue,N=S.dependencies,Q.dependencies=N===null?null:{lanes:N.lanes,firstContext:N.firstContext},Q.sibling=S.sibling,Q.index=S.index,Q.ref=S.ref,Q}function Be(S,N,Q,Pt,zt,ne){var Fe=2;if(Pt=S,typeof S=="function")Tr(S)&&(Fe=1);else if(typeof S=="string")Fe=5;else t:switch(S){case _t:return wr(Q.children,zt,ne,N);case jt:Fe=8,zt|=16;break;case St:Fe=8,zt|=1;break;case At:return S=lr(12,Q,N,zt|8),S.elementType=At,S.type=At,S.lanes=ne,S;case Ct:return S=lr(13,Q,N,zt),S.type=Ct,S.elementType=Ct,S.lanes=ne,S;case Et:return S=lr(19,Q,N,zt),S.elementType=Et,S.lanes=ne,S;case qt:return Jr(Q,zt,ne,N);case se:return S=lr(24,Q,N,zt),S.elementType=se,S.lanes=ne,S;default:if(typeof S=="object"&&S!==null)switch(S.$$typeof){case vt:Fe=10;break t;case dt:Fe=9;break t;case gt:Fe=11;break t;case Tt:Fe=14;break t;case ot:Fe=16,Pt=null;break t;case Mt:Fe=22;break t}throw Error(_(130,S==null?S:typeof S,""))}return N=lr(Fe,Q,N,zt),N.elementType=S,N.type=Pt,N.lanes=ne,N}function wr(S,N,Q,Pt){return S=lr(7,S,Pt,N),S.lanes=Q,S}function Jr(S,N,Q,Pt){return S=lr(23,S,Pt,N),S.elementType=qt,S.lanes=Q,S}function bn(S,N,Q){return S=lr(6,S,null,N),S.lanes=Q,S}function Cn(S,N,Q){return N=lr(4,S.children!==null?S.children:[],S.key,N),N.lanes=Q,N.stateNode={containerInfo:S.containerInfo,pendingChildren:null,implementation:S.implementation},N}function fn(S,N,Q){this.tag=N,this.containerInfo=S,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=Q,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Gu(0),this.expirationTimes=Gu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gu(0),this.mutableSourceEagerHydrationData=null}function jn(S,N,Q){var Pt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bt,key:Pt==null?null:""+Pt,children:S,containerInfo:N,implementation:Q}}function Si(S,N,Q,Pt){var zt=N.current,ne=li(),Fe=Di(zt);t:if(Q){Q=Q._reactInternals;e:{if(ti(Q)!==Q||Q.tag!==1)throw Error(_(170));var er=Q;do{switch(er.tag){case 3:er=er.stateNode.context;break e;case 1:if(Es(er.type)){er=er.stateNode.__reactInternalMemoizedMergedChildContext;break e}}er=er.return}while(er!==null);throw Error(_(171))}if(Q.tag===1){var Nr=Q.type;if(Es(Nr)){Q=ed(Q,Nr,er);break t}}Q=er}else Q=Ku;return N.context===null?N.context=Q:N.pendingContext=Q,N=yc(ne,Fe),N.payload={element:S},Pt=Pt===void 0?null:Pt,Pt!==null&&(N.callback=Pt),xu(zt,N),Wi(zt,Fe,ne),Fe}function ta(S){if(S=S.current,!S.child)return null;switch(S.child.tag){case 5:return S.child.stateNode;default:return S.child.stateNode}}function wi(S,N){if(S=S.memoizedState,S!==null&&S.dehydrated!==null){var Q=S.retryLane;S.retryLane=Q!==0&&Q<N?Q:N}}function Gi(S,N){wi(S,N),(S=S.alternate)&&wi(S,N)}function Zi(){return null}function ja(S,N,Q){var Pt=Q!=null&&Q.hydrationOptions!=null&&Q.hydrationOptions.mutableSources||null;if(Q=new fn(S,N,Q!=null&&Q.hydrate===!0),N=lr(3,null,null,N===2?7:N===1?3:0),Q.current=N,N.stateNode=Q,Qu(N),S[bs]=Q.current,Vu(S.nodeType===8?S.parentNode:S),Pt)for(S=0;S<Pt.length;S++){N=Pt[S];var zt=N._getVersion;zt=zt(N._source),Q.mutableSourceEagerHydrationData==null?Q.mutableSourceEagerHydrationData=[N,zt]:Q.mutableSourceEagerHydrationData.push(N,zt)}this._internalRoot=Q}ja.prototype.render=function(S){Si(S,this._internalRoot,null,null)},ja.prototype.unmount=function(){var S=this._internalRoot,N=S.containerInfo;Si(null,S,null,function(){N[bs]=null})};function bo(S){return!(!S||S.nodeType!==1&&S.nodeType!==9&&S.nodeType!==11&&(S.nodeType!==8||S.nodeValue!==" react-mount-point-unstable "))}function Au(S,N){if(N||(N=S?S.nodeType===9?S.documentElement:S.firstChild:null,N=!(!N||N.nodeType!==1||!N.hasAttribute("data-reactroot"))),!N)for(var Q;Q=S.lastChild;)S.removeChild(Q);return new ja(S,0,N?{hydrate:!0}:void 0)}function pu(S,N,Q,Pt,zt){var ne=Q._reactRootContainer;if(ne){var Fe=ne._internalRoot;if(typeof zt=="function"){var er=zt;zt=function(){var On=ta(Fe);er.call(On)}}Si(N,Fe,S,zt)}else{if(ne=Q._reactRootContainer=Au(Q,Pt),Fe=ne._internalRoot,typeof zt=="function"){var Nr=zt;zt=function(){var On=ta(Fe);Nr.call(On)}}fo(function(){Si(N,Fe,S,zt)})}return ta(Fe)}ga=function(S){if(S.tag===13){var N=li();Wi(S,4,N),Gi(S,4)}},da=function(S){if(S.tag===13){var N=li();Wi(S,67108864,N),Gi(S,67108864)}},zo=function(S){if(S.tag===13){var N=li(),Q=Di(S);Wi(S,Q,N),Gi(S,Q)}},Po=function(S,N){return N()},xt=function(S,N,Q){switch(N){case"input":if(Ir(S,Q),N=Q.name,Q.type==="radio"&&N!=null){for(Q=S;Q.parentNode;)Q=Q.parentNode;for(Q=Q.querySelectorAll("input[name="+JSON.stringify(""+N)+'][type="radio"]'),N=0;N<Q.length;N++){var Pt=Q[N];if(Pt!==S&&Pt.form===S.form){var zt=Pl(Pt);if(!zt)throw Error(_(90));ze(Pt),Ir(Pt,zt)}}}break;case"textarea":Dn(S,Q);break;case"select":N=Q.value,N!=null&&fr(S,!!Q.multiple,N,!1)}},We=vo,Ne=function(S,N,Q,Pt,zt){var ne=Ae;Ae|=4;try{return hf(98,S.bind(null,N,Q,Pt,zt))}finally{Ae=ne,Ae===0&&(Nt(),gl())}},Mr=function(){(Ae&49)===0&&(ma(),on())},sn=function(S,N){var Q=Ae;Ae|=2;try{return S(N)}finally{Ae=Q,Ae===0&&(Nt(),gl())}};function ku(S,N){var Q=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bo(N))throw Error(_(200));return jn(S,N,null,Q)}var ap={Events:[Os,Xu,Pl,be,ce,on,{current:!1}]},Cu={findFiberByHostInstance:Ks,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},Rh={bundleType:Cu.bundleType,version:Cu.version,rendererPackageName:Cu.rendererPackageName,rendererConfig:Cu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:nt.ReactCurrentDispatcher,findHostInstanceByFiber:function(S){return S=fa(S),S===null?null:S.stateNode},findFiberByHostInstance:Cu.findFiberByHostInstance||Zi,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var uv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uv.isDisabled&&uv.supportsFiber)try{lu=uv.inject(Rh),vc=uv}catch(S){}}R.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ap,R.createPortal=ku,R.findDOMNode=function(S){if(S==null)return null;if(S.nodeType===1)return S;var N=S._reactInternals;if(N===void 0)throw typeof S.render=="function"?Error(_(188)):Error(_(268,Object.keys(S)));return S=fa(N),S=S===null?null:S.stateNode,S},R.flushSync=function(S,N){var Q=Ae;if((Q&48)!==0)return S(N);Ae|=1;try{if(S)return hf(99,S.bind(null,N))}finally{Ae=Q,gl()}},R.hydrate=function(S,N,Q){if(!bo(N))throw Error(_(200));return pu(null,S,N,!0,Q)},R.render=function(S,N,Q){if(!bo(N))throw Error(_(200));return pu(null,S,N,!1,Q)},R.unmountComponentAtNode=function(S){if(!bo(S))throw Error(_(40));return S._reactRootContainer?(fo(function(){pu(null,null,S,!1,function(){S._reactRootContainer=null,S[bs]=null})}),!0):!1},R.unstable_batchedUpdates=vo,R.unstable_createPortal=function(S,N){return ku(S,N,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)},R.unstable_renderSubtreeIntoContainer=function(S,N,Q,Pt){if(!bo(Q))throw Error(_(200));if(S==null||S._reactInternals===void 0)throw Error(_(38));return pu(S,N,Q,!1,Pt)},R.version="17.0.2"},73935:function(at,R,d){"use strict";function x(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(x)}catch(b){console.error(b)}}x(),at.exports=d(64448)},69921:function(at,R){"use strict";/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d=typeof Symbol=="function"&&Symbol.for,x=d?Symbol.for("react.element"):60103,b=d?Symbol.for("react.portal"):60106,P=d?Symbol.for("react.fragment"):60107,_=d?Symbol.for("react.strict_mode"):60108,O=d?Symbol.for("react.profiler"):60114,T=d?Symbol.for("react.provider"):60109,F=d?Symbol.for("react.context"):60110,M=d?Symbol.for("react.async_mode"):60111,A=d?Symbol.for("react.concurrent_mode"):60111,L=d?Symbol.for("react.forward_ref"):60112,I=d?Symbol.for("react.suspense"):60113,k=d?Symbol.for("react.suspense_list"):60120,B=d?Symbol.for("react.memo"):60115,z=d?Symbol.for("react.lazy"):60116,W=d?Symbol.for("react.block"):60121,$=d?Symbol.for("react.fundamental"):60117,K=d?Symbol.for("react.responder"):60118,lt=d?Symbol.for("react.scope"):60119;function st(q){if(typeof q=="object"&&q!==null){var nt=q.$$typeof;switch(nt){case x:switch(q=q.type,q){case M:case A:case P:case O:case _:case I:return q;default:switch(q=q&&q.$$typeof,q){case F:case L:case z:case B:case T:return q;default:return nt}}case b:return nt}}}function yt(q){return st(q)===A}R.AsyncMode=M,R.ConcurrentMode=A,R.ContextConsumer=F,R.ContextProvider=T,R.Element=x,R.ForwardRef=L,R.Fragment=P,R.Lazy=z,R.Memo=B,R.Portal=b,R.Profiler=O,R.StrictMode=_,R.Suspense=I,R.isAsyncMode=function(q){return yt(q)||st(q)===M},R.isConcurrentMode=yt,R.isContextConsumer=function(q){return st(q)===F},R.isContextProvider=function(q){return st(q)===T},R.isElement=function(q){return typeof q=="object"&&q!==null&&q.$$typeof===x},R.isForwardRef=function(q){return st(q)===L},R.isFragment=function(q){return st(q)===P},R.isLazy=function(q){return st(q)===z},R.isMemo=function(q){return st(q)===B},R.isPortal=function(q){return st(q)===b},R.isProfiler=function(q){return st(q)===O},R.isStrictMode=function(q){return st(q)===_},R.isSuspense=function(q){return st(q)===I},R.isValidElementType=function(q){return typeof q=="string"||typeof q=="function"||q===P||q===A||q===O||q===_||q===I||q===k||typeof q=="object"&&q!==null&&(q.$$typeof===z||q.$$typeof===B||q.$$typeof===T||q.$$typeof===F||q.$$typeof===L||q.$$typeof===$||q.$$typeof===K||q.$$typeof===lt||q.$$typeof===W)},R.typeOf=st},59864:function(at,R,d){"use strict";at.exports=d(69921)},75251:function(at,R,d){"use strict";var x;/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */d(27418);var b=d(67294),P=60103;if(x=60107,typeof Symbol=="function"&&Symbol.for){var _=Symbol.for;P=_("react.element"),x=_("react.fragment")}var O=b.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,T=Object.prototype.hasOwnProperty,F={key:!0,ref:!0,__self:!0,__source:!0};function M(A,L,I){var k,B={},z=null,W=null;I!==void 0&&(z=""+I),L.key!==void 0&&(z=""+L.key),L.ref!==void 0&&(W=L.ref);for(k in L)T.call(L,k)&&!F.hasOwnProperty(k)&&(B[k]=L[k]);if(A&&A.defaultProps)for(k in L=A.defaultProps,L)B[k]===void 0&&(B[k]=L[k]);return{$$typeof:P,type:A,key:z,ref:W,props:B,_owner:O.current}}R.jsx=M,R.jsxs=M},72408:function(at,R,d){"use strict";/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x=d(27418),b=60103,P=60106;R.Fragment=60107,R.StrictMode=60108,R.Profiler=60114;var _=60109,O=60110,T=60112;R.Suspense=60113;var F=60115,M=60116;if(typeof Symbol=="function"&&Symbol.for){var A=Symbol.for;b=A("react.element"),P=A("react.portal"),R.Fragment=A("react.fragment"),R.StrictMode=A("react.strict_mode"),R.Profiler=A("react.profiler"),_=A("react.provider"),O=A("react.context"),T=A("react.forward_ref"),R.Suspense=A("react.suspense"),F=A("react.memo"),M=A("react.lazy")}var L=typeof Symbol=="function"&&Symbol.iterator;function I(ot){return ot===null||typeof ot!="object"?null:(ot=L&&ot[L]||ot["@@iterator"],typeof ot=="function"?ot:null)}function k(ot){for(var Mt="https://reactjs.org/docs/error-decoder.html?invariant="+ot,Wt=1;Wt<arguments.length;Wt++)Mt+="&args[]="+encodeURIComponent(arguments[Wt]);return"Minified React error #"+ot+"; visit "+Mt+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z={};function W(ot,Mt,Wt){this.props=ot,this.context=Mt,this.refs=z,this.updater=Wt||B}W.prototype.isReactComponent={},W.prototype.setState=function(ot,Mt){if(typeof ot!="object"&&typeof ot!="function"&&ot!=null)throw Error(k(85));this.updater.enqueueSetState(this,ot,Mt,"setState")},W.prototype.forceUpdate=function(ot){this.updater.enqueueForceUpdate(this,ot,"forceUpdate")};function $(){}$.prototype=W.prototype;function K(ot,Mt,Wt){this.props=ot,this.context=Mt,this.refs=z,this.updater=Wt||B}var lt=K.prototype=new $;lt.constructor=K,x(lt,W.prototype),lt.isPureReactComponent=!0;var st={current:null},yt=Object.prototype.hasOwnProperty,q={key:!0,ref:!0,__self:!0,__source:!0};function nt(ot,Mt,Wt){var jt,qt={},se=null,ae=null;if(Mt!=null)for(jt in Mt.ref!==void 0&&(ae=Mt.ref),Mt.key!==void 0&&(se=""+Mt.key),Mt)yt.call(Mt,jt)&&!q.hasOwnProperty(jt)&&(qt[jt]=Mt[jt]);var he=arguments.length-2;if(he===1)qt.children=Wt;else if(1<he){for(var ke=Array(he),Le=0;Le<he;Le++)ke[Le]=arguments[Le+2];qt.children=ke}if(ot&&ot.defaultProps)for(jt in he=ot.defaultProps,he)qt[jt]===void 0&&(qt[jt]=he[jt]);return{$$typeof:b,type:ot,key:se,ref:ae,props:qt,_owner:st.current}}function ct(ot,Mt){return{$$typeof:b,type:ot.type,key:Mt,ref:ot.ref,props:ot.props,_owner:ot._owner}}function bt(ot){return typeof ot=="object"&&ot!==null&&ot.$$typeof===b}function _t(ot){var Mt={"=":"=0",":":"=2"};return"$"+ot.replace(/[=:]/g,function(Wt){return Mt[Wt]})}var St=/\/+/g;function At(ot,Mt){return typeof ot=="object"&&ot!==null&&ot.key!=null?_t(""+ot.key):Mt.toString(36)}function vt(ot,Mt,Wt,jt,qt){var se=typeof ot;(se==="undefined"||se==="boolean")&&(ot=null);var ae=!1;if(ot===null)ae=!0;else switch(se){case"string":case"number":ae=!0;break;case"object":switch(ot.$$typeof){case b:case P:ae=!0}}if(ae)return ae=ot,qt=qt(ae),ot=jt===""?"."+At(ae,0):jt,Array.isArray(qt)?(Wt="",ot!=null&&(Wt=ot.replace(St,"$&/")+"/"),vt(qt,Mt,Wt,"",function(Le){return Le})):qt!=null&&(bt(qt)&&(qt=ct(qt,Wt+(!qt.key||ae&&ae.key===qt.key?"":(""+qt.key).replace(St,"$&/")+"/")+ot)),Mt.push(qt)),1;if(ae=0,jt=jt===""?".":jt+":",Array.isArray(ot))for(var he=0;he<ot.length;he++){se=ot[he];var ke=jt+At(se,he);ae+=vt(se,Mt,Wt,ke,qt)}else if(ke=I(ot),typeof ke=="function")for(ot=ke.call(ot),he=0;!(se=ot.next()).done;)se=se.value,ke=jt+At(se,he++),ae+=vt(se,Mt,Wt,ke,qt);else if(se==="object")throw Mt=""+ot,Error(k(31,Mt==="[object Object]"?"object with keys {"+Object.keys(ot).join(", ")+"}":Mt));return ae}function dt(ot,Mt,Wt){if(ot==null)return ot;var jt=[],qt=0;return vt(ot,jt,"","",function(se){return Mt.call(Wt,se,qt++)}),jt}function gt(ot){if(ot._status===-1){var Mt=ot._result;Mt=Mt(),ot._status=0,ot._result=Mt,Mt.then(function(Wt){ot._status===0&&(Wt=Wt.default,ot._status=1,ot._result=Wt)},function(Wt){ot._status===0&&(ot._status=2,ot._result=Wt)})}if(ot._status===1)return ot._result;throw ot._result}var Ct={current:null};function Et(){var ot=Ct.current;if(ot===null)throw Error(k(321));return ot}var Tt={ReactCurrentDispatcher:Ct,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:st,IsSomeRendererActing:{current:!1},assign:x};R.Children={map:dt,forEach:function(ot,Mt,Wt){dt(ot,function(){Mt.apply(this,arguments)},Wt)},count:function(ot){var Mt=0;return dt(ot,function(){Mt++}),Mt},toArray:function(ot){return dt(ot,function(Mt){return Mt})||[]},only:function(ot){if(!bt(ot))throw Error(k(143));return ot}},R.Component=W,R.PureComponent=K,R.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Tt,R.cloneElement=function(ot,Mt,Wt){if(ot==null)throw Error(k(267,ot));var jt=x({},ot.props),qt=ot.key,se=ot.ref,ae=ot._owner;if(Mt!=null){if(Mt.ref!==void 0&&(se=Mt.ref,ae=st.current),Mt.key!==void 0&&(qt=""+Mt.key),ot.type&&ot.type.defaultProps)var he=ot.type.defaultProps;for(ke in Mt)yt.call(Mt,ke)&&!q.hasOwnProperty(ke)&&(jt[ke]=Mt[ke]===void 0&&he!==void 0?he[ke]:Mt[ke])}var ke=arguments.length-2;if(ke===1)jt.children=Wt;else if(1<ke){he=Array(ke);for(var Le=0;Le<ke;Le++)he[Le]=arguments[Le+2];jt.children=he}return{$$typeof:b,type:ot.type,key:qt,ref:se,props:jt,_owner:ae}},R.createContext=function(ot,Mt){return Mt===void 0&&(Mt=null),ot={$$typeof:O,_calculateChangedBits:Mt,_currentValue:ot,_currentValue2:ot,_threadCount:0,Provider:null,Consumer:null},ot.Provider={$$typeof:_,_context:ot},ot.Consumer=ot},R.createElement=nt,R.createFactory=function(ot){var Mt=nt.bind(null,ot);return Mt.type=ot,Mt},R.createRef=function(){return{current:null}},R.forwardRef=function(ot){return{$$typeof:T,render:ot}},R.isValidElement=bt,R.lazy=function(ot){return{$$typeof:M,_payload:{_status:-1,_result:ot},_init:gt}},R.memo=function(ot,Mt){return{$$typeof:F,type:ot,compare:Mt===void 0?null:Mt}},R.useCallback=function(ot,Mt){return Et().useCallback(ot,Mt)},R.useContext=function(ot,Mt){return Et().useContext(ot,Mt)},R.useDebugValue=function(){},R.useEffect=function(ot,Mt){return Et().useEffect(ot,Mt)},R.useImperativeHandle=function(ot,Mt,Wt){return Et().useImperativeHandle(ot,Mt,Wt)},R.useLayoutEffect=function(ot,Mt){return Et().useLayoutEffect(ot,Mt)},R.useMemo=function(ot,Mt){return Et().useMemo(ot,Mt)},R.useReducer=function(ot,Mt,Wt){return Et().useReducer(ot,Mt,Wt)},R.useRef=function(ot){return Et().useRef(ot)},R.useState=function(ot){return Et().useState(ot)},R.version="17.0.2"},67294:function(at,R,d){"use strict";at.exports=d(72408)},85893:function(at,R,d){"use strict";at.exports=d(75251)},28660:function(at,R,d){var x=d(34155);/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var b;(function(P){(function(_){var O=typeof d.g=="object"?d.g:typeof self=="object"?self:typeof this=="object"?this:Function("return this;")(),T=F(P);typeof O.Reflect=="undefined"?O.Reflect=P:T=F(O.Reflect,T),_(T);function F(M,A){return function(L,I){typeof M[L]!="function"&&Object.defineProperty(M,L,{configurable:!0,writable:!0,value:I}),A&&A(L,I)}}})(function(_){var O=Object.prototype.hasOwnProperty,T=typeof Symbol=="function",F=T&&typeof Symbol.toPrimitive!="undefined"?Symbol.toPrimitive:"@@toPrimitive",M=T&&typeof Symbol.iterator!="undefined"?Symbol.iterator:"@@iterator",A=typeof Object.create=="function",L={__proto__:[]}instanceof Array,I=!A&&!L,k={create:A?function(){return bi(Object.create(null))}:L?function(){return bi({__proto__:null})}:function(){return bi({})},has:I?function(fr,Zr){return O.call(fr,Zr)}:function(fr,Zr){return Zr in fr},get:I?function(fr,Zr){return O.call(fr,Zr)?fr[Zr]:void 0}:function(fr,Zr){return fr[Zr]}},B=Object.getPrototypeOf(Function),z=typeof x=="object"&&x.env&&x.env.REFLECT_METADATA_USE_MAP_POLYFILL==="true",W=!z&&typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:gn(),$=!z&&typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:Wn(),K=!z&&typeof WeakMap=="function"?WeakMap:ui(),lt=new K;function st(fr,Zr,Sn,Dn){if(ae(Sn)){if(!ye(fr))throw new TypeError;if(!Xt(Zr))throw new TypeError;return dt(fr,Zr)}else{if(!ye(fr))throw new TypeError;if(!Le(Zr))throw new TypeError;if(!Le(Dn)&&!ae(Dn)&&!he(Dn))throw new TypeError;return he(Dn)&&(Dn=void 0),Sn=Ce(Sn),gt(fr,Zr,Sn,Dn)}}_("decorate",st);function yt(fr,Zr){function Sn(Dn,hn){if(!Le(Dn))throw new TypeError;if(!ae(hn)&&!Kt(hn))throw new TypeError;Wt(fr,Zr,Dn,hn)}return Sn}_("metadata",yt);function q(fr,Zr,Sn,Dn){if(!Le(Sn))throw new TypeError;return ae(Dn)||(Dn=Ce(Dn)),Wt(fr,Zr,Sn,Dn)}_("defineMetadata",q);function nt(fr,Zr,Sn){if(!Le(Zr))throw new TypeError;return ae(Sn)||(Sn=Ce(Sn)),Et(fr,Zr,Sn)}_("hasMetadata",nt);function ct(fr,Zr,Sn){if(!Le(Zr))throw new TypeError;return ae(Sn)||(Sn=Ce(Sn)),Tt(fr,Zr,Sn)}_("hasOwnMetadata",ct);function bt(fr,Zr,Sn){if(!Le(Zr))throw new TypeError;return ae(Sn)||(Sn=Ce(Sn)),ot(fr,Zr,Sn)}_("getMetadata",bt);function _t(fr,Zr,Sn){if(!Le(Zr))throw new TypeError;return ae(Sn)||(Sn=Ce(Sn)),Mt(fr,Zr,Sn)}_("getOwnMetadata",_t);function St(fr,Zr){if(!Le(fr))throw new TypeError;return ae(Zr)||(Zr=Ce(Zr)),jt(fr,Zr)}_("getMetadataKeys",St);function At(fr,Zr){if(!Le(fr))throw new TypeError;return ae(Zr)||(Zr=Ce(Zr)),qt(fr,Zr)}_("getOwnMetadataKeys",At);function vt(fr,Zr,Sn){if(!Le(Zr))throw new TypeError;ae(Sn)||(Sn=Ce(Sn));var Dn=Ct(Zr,Sn,!1);if(ae(Dn)||!Dn.delete(fr))return!1;if(Dn.size>0)return!0;var hn=lt.get(Zr);return hn.delete(Sn),hn.size>0||lt.delete(Zr),!0}_("deleteMetadata",vt);function dt(fr,Zr){for(var Sn=fr.length-1;Sn>=0;--Sn){var Dn=fr[Sn],hn=Dn(Zr);if(!ae(hn)&&!he(hn)){if(!Xt(hn))throw new TypeError;Zr=hn}}return Zr}function gt(fr,Zr,Sn,Dn){for(var hn=fr.length-1;hn>=0;--hn){var Gn=fr[hn],En=Gn(Zr,Sn,Dn);if(!ae(En)&&!he(En)){if(!Le(En))throw new TypeError;Dn=En}}return Dn}function Ct(fr,Zr,Sn){var Dn=lt.get(fr);if(ae(Dn)){if(!Sn)return;Dn=new W,lt.set(fr,Dn)}var hn=Dn.get(Zr);if(ae(hn)){if(!Sn)return;hn=new W,Dn.set(Zr,hn)}return hn}function Et(fr,Zr,Sn){var Dn=Tt(fr,Zr,Sn);if(Dn)return!0;var hn=Ir(Zr);return he(hn)?!1:Et(fr,hn,Sn)}function Tt(fr,Zr,Sn){var Dn=Ct(Zr,Sn,!1);return ae(Dn)?!1:ge(Dn.has(fr))}function ot(fr,Zr,Sn){var Dn=Tt(fr,Zr,Sn);if(Dn)return Mt(fr,Zr,Sn);var hn=Ir(Zr);if(!he(hn))return ot(fr,hn,Sn)}function Mt(fr,Zr,Sn){var Dn=Ct(Zr,Sn,!1);if(!ae(Dn))return Dn.get(fr)}function Wt(fr,Zr,Sn,Dn){var hn=Ct(Sn,Dn,!0);hn.set(fr,Zr)}function jt(fr,Zr){var Sn=qt(fr,Zr),Dn=Ir(fr);if(Dn===null)return Sn;var hn=jt(Dn,Zr);if(hn.length<=0)return Sn;if(Sn.length<=0)return hn;for(var Gn=new $,En=[],In=0,Fn=Sn;In<Fn.length;In++){var xe=Fn[In],Ge=Gn.has(xe);Ge||(Gn.add(xe),En.push(xe))}for(var Je=0,br=hn;Je<br.length;Je++){var xe=br[Je],Ge=Gn.has(xe);Ge||(Gn.add(xe),En.push(xe))}return En}function qt(fr,Zr){var Sn=[],Dn=Ct(fr,Zr,!1);if(ae(Dn))return Sn;for(var hn=Dn.keys(),Gn=ur(hn),En=0;;){var In=re(Gn);if(!In)return Sn.length=En,Sn;var Fn=tr(In);try{Sn[En]=Fn}catch(xe){try{Qr(Gn)}finally{throw xe}}En++}}function se(fr){if(fr===null)return 1;switch(typeof fr){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return fr===null?1:6;default:return 6}}function ae(fr){return fr===void 0}function he(fr){return fr===null}function ke(fr){return typeof fr=="symbol"}function Le(fr){return typeof fr=="object"?fr!==null:typeof fr=="function"}function rr(fr,Zr){switch(se(fr)){case 0:return fr;case 1:return fr;case 2:return fr;case 3:return fr;case 4:return fr;case 5:return fr}var Sn=Zr===3?"string":Zr===5?"number":"default",Dn=ze(fr,F);if(Dn!==void 0){var hn=Dn.call(fr,Sn);if(Le(hn))throw new TypeError;return hn}return Ee(fr,Sn==="default"?"number":Sn)}function Ee(fr,Zr){if(Zr==="string"){var Sn=fr.toString;if(Gt(Sn)){var Dn=Sn.call(fr);if(!Le(Dn))return Dn}var hn=fr.valueOf;if(Gt(hn)){var Dn=hn.call(fr);if(!Le(Dn))return Dn}}else{var hn=fr.valueOf;if(Gt(hn)){var Dn=hn.call(fr);if(!Le(Dn))return Dn}var Gn=fr.toString;if(Gt(Gn)){var Dn=Gn.call(fr);if(!Le(Dn))return Dn}}throw new TypeError}function ge(fr){return!!fr}function we(fr){return""+fr}function Ce(fr){var Zr=rr(fr,3);return ke(Zr)?Zr:we(Zr)}function ye(fr){return Array.isArray?Array.isArray(fr):fr instanceof Object?fr instanceof Array:Object.prototype.toString.call(fr)==="[object Array]"}function Gt(fr){return typeof fr=="function"}function Xt(fr){return typeof fr=="function"}function Kt(fr){switch(se(fr)){case 3:return!0;case 4:return!0;default:return!1}}function ze(fr,Zr){var Sn=fr[Zr];if(Sn!=null){if(!Gt(Sn))throw new TypeError;return Sn}}function ur(fr){var Zr=ze(fr,M);if(!Gt(Zr))throw new TypeError;var Sn=Zr.call(fr);if(!Le(Sn))throw new TypeError;return Sn}function tr(fr){return fr.value}function re(fr){var Zr=fr.next();return Zr.done?!1:Zr}function Qr(fr){var Zr=fr.return;Zr&&Zr.call(fr)}function Ir(fr){var Zr=Object.getPrototypeOf(fr);if(typeof fr!="function"||fr===B||Zr!==B)return Zr;var Sn=fr.prototype,Dn=Sn&&Object.getPrototypeOf(Sn);if(Dn==null||Dn===Object.prototype)return Zr;var hn=Dn.constructor;return typeof hn!="function"||hn===fr?Zr:hn}function gn(){var fr={},Zr=[],Sn=function(){function En(In,Fn,xe){this._index=0,this._keys=In,this._values=Fn,this._selector=xe}return En.prototype["@@iterator"]=function(){return this},En.prototype[M]=function(){return this},En.prototype.next=function(){var In=this._index;if(In>=0&&In<this._keys.length){var Fn=this._selector(this._keys[In],this._values[In]);return In+1>=this._keys.length?(this._index=-1,this._keys=Zr,this._values=Zr):this._index++,{value:Fn,done:!1}}return{value:void 0,done:!0}},En.prototype.throw=function(In){throw this._index>=0&&(this._index=-1,this._keys=Zr,this._values=Zr),In},En.prototype.return=function(In){return this._index>=0&&(this._index=-1,this._keys=Zr,this._values=Zr),{value:In,done:!0}},En}();return function(){function En(){this._keys=[],this._values=[],this._cacheKey=fr,this._cacheIndex=-2}return Object.defineProperty(En.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),En.prototype.has=function(In){return this._find(In,!1)>=0},En.prototype.get=function(In){var Fn=this._find(In,!1);return Fn>=0?this._values[Fn]:void 0},En.prototype.set=function(In,Fn){var xe=this._find(In,!0);return this._values[xe]=Fn,this},En.prototype.delete=function(In){var Fn=this._find(In,!1);if(Fn>=0){for(var xe=this._keys.length,Ge=Fn+1;Ge<xe;Ge++)this._keys[Ge-1]=this._keys[Ge],this._values[Ge-1]=this._values[Ge];return this._keys.length--,this._values.length--,In===this._cacheKey&&(this._cacheKey=fr,this._cacheIndex=-2),!0}return!1},En.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=fr,this._cacheIndex=-2},En.prototype.keys=function(){return new Sn(this._keys,this._values,Dn)},En.prototype.values=function(){return new Sn(this._keys,this._values,hn)},En.prototype.entries=function(){return new Sn(this._keys,this._values,Gn)},En.prototype["@@iterator"]=function(){return this.entries()},En.prototype[M]=function(){return this.entries()},En.prototype._find=function(In,Fn){return this._cacheKey!==In&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=In)),this._cacheIndex<0&&Fn&&(this._cacheIndex=this._keys.length,this._keys.push(In),this._values.push(void 0)),this._cacheIndex},En}();function Dn(En,In){return En}function hn(En,In){return In}function Gn(En,In){return[En,In]}}function Wn(){return function(){function fr(){this._map=new W}return Object.defineProperty(fr.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),fr.prototype.has=function(Zr){return this._map.has(Zr)},fr.prototype.add=function(Zr){return this._map.set(Zr,Zr),this},fr.prototype.delete=function(Zr){return this._map.delete(Zr)},fr.prototype.clear=function(){this._map.clear()},fr.prototype.keys=function(){return this._map.keys()},fr.prototype.values=function(){return this._map.values()},fr.prototype.entries=function(){return this._map.entries()},fr.prototype["@@iterator"]=function(){return this.keys()},fr.prototype[M]=function(){return this.keys()},fr}()}function ui(){var fr=16,Zr=k.create(),Sn=Dn();return function(){function Fn(){this._key=Dn()}return Fn.prototype.has=function(xe){var Ge=hn(xe,!1);return Ge!==void 0?k.has(Ge,this._key):!1},Fn.prototype.get=function(xe){var Ge=hn(xe,!1);return Ge!==void 0?k.get(Ge,this._key):void 0},Fn.prototype.set=function(xe,Ge){var Je=hn(xe,!0);return Je[this._key]=Ge,this},Fn.prototype.delete=function(xe){var Ge=hn(xe,!1);return Ge!==void 0?delete Ge[this._key]:!1},Fn.prototype.clear=function(){this._key=Dn()},Fn}();function Dn(){var Fn;do Fn="@@WeakMap@@"+In();while(k.has(Zr,Fn));return Zr[Fn]=!0,Fn}function hn(Fn,xe){if(!O.call(Fn,Sn)){if(!xe)return;Object.defineProperty(Fn,Sn,{value:k.create()})}return Fn[Sn]}function Gn(Fn,xe){for(var Ge=0;Ge<xe;++Ge)Fn[Ge]=Math.random()*255|0;return Fn}function En(Fn){return typeof Uint8Array=="function"?typeof crypto!="undefined"?crypto.getRandomValues(new Uint8Array(Fn)):typeof msCrypto!="undefined"?msCrypto.getRandomValues(new Uint8Array(Fn)):Gn(new Uint8Array(Fn),Fn):Gn(new Array(Fn),Fn)}function In(){var Fn=En(fr);Fn[6]=Fn[6]&79|64,Fn[8]=Fn[8]&191|128;for(var xe="",Ge=0;Ge<fr;++Ge){var Je=Fn[Ge];(Ge===4||Ge===6||Ge===8)&&(xe+="-"),Je<16&&(xe+="0"),xe+=Je.toString(16).toLowerCase()}return xe}}function bi(fr){return fr.__=void 0,delete fr.__,fr}})})(b||(b={}))},35666:function(at){var R=function(d){"use strict";var x=Object.prototype,b=x.hasOwnProperty,P,_=typeof Symbol=="function"?Symbol:{},O=_.iterator||"@@iterator",T=_.asyncIterator||"@@asyncIterator",F=_.toStringTag||"@@toStringTag";function M(Et,Tt,ot){return Object.defineProperty(Et,Tt,{value:ot,enumerable:!0,configurable:!0,writable:!0}),Et[Tt]}try{M({},"")}catch(Et){M=function(Tt,ot,Mt){return Tt[ot]=Mt}}function A(Et,Tt,ot,Mt){var Wt=Tt&&Tt.prototype instanceof $?Tt:$,jt=Object.create(Wt.prototype),qt=new dt(Mt||[]);return jt._invoke=_t(Et,ot,qt),jt}d.wrap=A;function L(Et,Tt,ot){try{return{type:"normal",arg:Et.call(Tt,ot)}}catch(Mt){return{type:"throw",arg:Mt}}}var I="suspendedStart",k="suspendedYield",B="executing",z="completed",W={};function $(){}function K(){}function lt(){}var st={};M(st,O,function(){return this});var yt=Object.getPrototypeOf,q=yt&&yt(yt(gt([])));q&&q!==x&&b.call(q,O)&&(st=q);var nt=lt.prototype=$.prototype=Object.create(st);K.prototype=lt,M(nt,"constructor",lt),M(lt,"constructor",K),K.displayName=M(lt,F,"GeneratorFunction");function ct(Et){["next","throw","return"].forEach(function(Tt){M(Et,Tt,function(ot){return this._invoke(Tt,ot)})})}d.isGeneratorFunction=function(Et){var Tt=typeof Et=="function"&&Et.constructor;return Tt?Tt===K||(Tt.displayName||Tt.name)==="GeneratorFunction":!1},d.mark=function(Et){return Object.setPrototypeOf?Object.setPrototypeOf(Et,lt):(Et.__proto__=lt,M(Et,F,"GeneratorFunction")),Et.prototype=Object.create(nt),Et},d.awrap=function(Et){return{__await:Et}};function bt(Et,Tt){function ot(jt,qt,se,ae){var he=L(Et[jt],Et,qt);if(he.type==="throw")ae(he.arg);else{var ke=he.arg,Le=ke.value;return Le&&typeof Le=="object"&&b.call(Le,"__await")?Tt.resolve(Le.__await).then(function(rr){ot("next",rr,se,ae)},function(rr){ot("throw",rr,se,ae)}):Tt.resolve(Le).then(function(rr){ke.value=rr,se(ke)},function(rr){return ot("throw",rr,se,ae)})}}var Mt;function Wt(jt,qt){function se(){return new Tt(function(ae,he){ot(jt,qt,ae,he)})}return Mt=Mt?Mt.then(se,se):se()}this._invoke=Wt}ct(bt.prototype),M(bt.prototype,T,function(){return this}),d.AsyncIterator=bt,d.async=function(Et,Tt,ot,Mt,Wt){Wt===void 0&&(Wt=Promise);var jt=new bt(A(Et,Tt,ot,Mt),Wt);return d.isGeneratorFunction(Tt)?jt:jt.next().then(function(qt){return qt.done?qt.value:jt.next()})};function _t(Et,Tt,ot){var Mt=I;return function(jt,qt){if(Mt===B)throw new Error("Generator is already running");if(Mt===z){if(jt==="throw")throw qt;return Ct()}for(ot.method=jt,ot.arg=qt;;){var se=ot.delegate;if(se){var ae=St(se,ot);if(ae){if(ae===W)continue;return ae}}if(ot.method==="next")ot.sent=ot._sent=ot.arg;else if(ot.method==="throw"){if(Mt===I)throw Mt=z,ot.arg;ot.dispatchException(ot.arg)}else ot.method==="return"&&ot.abrupt("return",ot.arg);Mt=B;var he=L(Et,Tt,ot);if(he.type==="normal"){if(Mt=ot.done?z:k,he.arg===W)continue;return{value:he.arg,done:ot.done}}else he.type==="throw"&&(Mt=z,ot.method="throw",ot.arg=he.arg)}}}function St(Et,Tt){var ot=Et.iterator[Tt.method];if(ot===P){if(Tt.delegate=null,Tt.method==="throw"){if(Et.iterator.return&&(Tt.method="return",Tt.arg=P,St(Et,Tt),Tt.method==="throw"))return W;Tt.method="throw",Tt.arg=new TypeError("The iterator does not provide a 'throw' method")}return W}var Mt=L(ot,Et.iterator,Tt.arg);if(Mt.type==="throw")return Tt.method="throw",Tt.arg=Mt.arg,Tt.delegate=null,W;var Wt=Mt.arg;if(!Wt)return Tt.method="throw",Tt.arg=new TypeError("iterator result is not an object"),Tt.delegate=null,W;if(Wt.done)Tt[Et.resultName]=Wt.value,Tt.next=Et.nextLoc,Tt.method!=="return"&&(Tt.method="next",Tt.arg=P);else return Wt;return Tt.delegate=null,W}ct(nt),M(nt,F,"Generator"),M(nt,O,function(){return this}),M(nt,"toString",function(){return"[object Generator]"});function At(Et){var Tt={tryLoc:Et[0]};1 in Et&&(Tt.catchLoc=Et[1]),2 in Et&&(Tt.finallyLoc=Et[2],Tt.afterLoc=Et[3]),this.tryEntries.push(Tt)}function vt(Et){var Tt=Et.completion||{};Tt.type="normal",delete Tt.arg,Et.completion=Tt}function dt(Et){this.tryEntries=[{tryLoc:"root"}],Et.forEach(At,this),this.reset(!0)}d.keys=function(Et){var Tt=[];for(var ot in Et)Tt.push(ot);return Tt.reverse(),function Mt(){for(;Tt.length;){var Wt=Tt.pop();if(Wt in Et)return Mt.value=Wt,Mt.done=!1,Mt}return Mt.done=!0,Mt}};function gt(Et){if(Et){var Tt=Et[O];if(Tt)return Tt.call(Et);if(typeof Et.next=="function")return Et;if(!isNaN(Et.length)){var ot=-1,Mt=function Wt(){for(;++ot<Et.length;)if(b.call(Et,ot))return Wt.value=Et[ot],Wt.done=!1,Wt;return Wt.value=P,Wt.done=!0,Wt};return Mt.next=Mt}}return{next:Ct}}d.values=gt;function Ct(){return{value:P,done:!0}}return dt.prototype={constructor:dt,reset:function(Et){if(this.prev=0,this.next=0,this.sent=this._sent=P,this.done=!1,this.delegate=null,this.method="next",this.arg=P,this.tryEntries.forEach(vt),!Et)for(var Tt in this)Tt.charAt(0)==="t"&&b.call(this,Tt)&&!isNaN(+Tt.slice(1))&&(this[Tt]=P)},stop:function(){this.done=!0;var Et=this.tryEntries[0],Tt=Et.completion;if(Tt.type==="throw")throw Tt.arg;return this.rval},dispatchException:function(Et){if(this.done)throw Et;var Tt=this;function ot(ae,he){return jt.type="throw",jt.arg=Et,Tt.next=ae,he&&(Tt.method="next",Tt.arg=P),!!he}for(var Mt=this.tryEntries.length-1;Mt>=0;--Mt){var Wt=this.tryEntries[Mt],jt=Wt.completion;if(Wt.tryLoc==="root")return ot("end");if(Wt.tryLoc<=this.prev){var qt=b.call(Wt,"catchLoc"),se=b.call(Wt,"finallyLoc");if(qt&&se){if(this.prev<Wt.catchLoc)return ot(Wt.catchLoc,!0);if(this.prev<Wt.finallyLoc)return ot(Wt.finallyLoc)}else if(qt){if(this.prev<Wt.catchLoc)return ot(Wt.catchLoc,!0)}else if(se){if(this.prev<Wt.finallyLoc)return ot(Wt.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(Et,Tt){for(var ot=this.tryEntries.length-1;ot>=0;--ot){var Mt=this.tryEntries[ot];if(Mt.tryLoc<=this.prev&&b.call(Mt,"finallyLoc")&&this.prev<Mt.finallyLoc){var Wt=Mt;break}}Wt&&(Et==="break"||Et==="continue")&&Wt.tryLoc<=Tt&&Tt<=Wt.finallyLoc&&(Wt=null);var jt=Wt?Wt.completion:{};return jt.type=Et,jt.arg=Tt,Wt?(this.method="next",this.next=Wt.finallyLoc,W):this.complete(jt)},complete:function(Et,Tt){if(Et.type==="throw")throw Et.arg;return Et.type==="break"||Et.type==="continue"?this.next=Et.arg:Et.type==="return"?(this.rval=this.arg=Et.arg,this.method="return",this.next="end"):Et.type==="normal"&&Tt&&(this.next=Tt),W},finish:function(Et){for(var Tt=this.tryEntries.length-1;Tt>=0;--Tt){var ot=this.tryEntries[Tt];if(ot.finallyLoc===Et)return this.complete(ot.completion,ot.afterLoc),vt(ot),W}},catch:function(Et){for(var Tt=this.tryEntries.length-1;Tt>=0;--Tt){var ot=this.tryEntries[Tt];if(ot.tryLoc===Et){var Mt=ot.completion;if(Mt.type==="throw"){var Wt=Mt.arg;vt(ot)}return Wt}}throw new Error("illegal catch attempt")},delegateYield:function(Et,Tt,ot){return this.delegate={iterator:gt(Et),resultName:Tt,nextLoc:ot},this.method==="next"&&(this.arg=P),W}},d}(at.exports);try{regeneratorRuntime=R}catch(d){typeof globalThis=="object"?globalThis.regeneratorRuntime=R:Function("r","regeneratorRuntime = r")(R)}},81550:function(at){(function(R,d){at.exports=d()})(this,function(){"use strict";var R=function($t){return $t instanceof Uint8Array||$t instanceof Uint16Array||$t instanceof Uint32Array||$t instanceof Int8Array||$t instanceof Int16Array||$t instanceof Int32Array||$t instanceof Float32Array||$t instanceof Float64Array||$t instanceof Uint8ClampedArray},d=function($t,Ae){for(var Qe=Object.keys(Ae),Hr=0;Hr<Qe.length;++Hr)$t[Qe[Hr]]=Ae[Qe[Hr]];return $t},x=`
`;function b($t){return typeof atob!="undefined"?atob($t):"base64:"+$t}function P($t){var Ae=new Error("(regl) "+$t);throw console.error(Ae),Ae}function _($t,Ae){$t||P(Ae)}function O($t){return $t?": "+$t:""}function T($t,Ae,Qe){$t in Ae||P("unknown parameter ("+$t+")"+O(Qe)+". possible values: "+Object.keys(Ae).join())}function F($t,Ae){R($t)||P("invalid parameter type"+O(Ae)+". must be a typed array")}function M($t,Ae){switch(Ae){case"number":return typeof $t=="number";case"object":return typeof $t=="object";case"string":return typeof $t=="string";case"boolean":return typeof $t=="boolean";case"function":return typeof $t=="function";case"undefined":return typeof $t=="undefined";case"symbol":return typeof $t=="symbol"}}function A($t,Ae,Qe){M($t,Ae)||P("invalid parameter type"+O(Qe)+". expected "+Ae+", got "+typeof $t)}function L($t,Ae){$t>=0&&($t|0)===$t||P("invalid parameter type, ("+$t+")"+O(Ae)+". must be a nonnegative integer")}function I($t,Ae,Qe){Ae.indexOf($t)<0&&P("invalid value"+O(Qe)+". must be one of: "+Ae)}var k=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function B($t){Object.keys($t).forEach(function(Ae){k.indexOf(Ae)<0&&P('invalid regl constructor argument "'+Ae+'". must be one of '+k)})}function z($t,Ae){for($t=$t+"";$t.length<Ae;)$t=" "+$t;return $t}function W(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function $($t,Ae){this.number=$t,this.line=Ae,this.errors=[]}function K($t,Ae,Qe){this.file=$t,this.line=Ae,this.message=Qe}function lt(){var $t=new Error,Ae=($t.stack||$t).toString(),Qe=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(Ae);if(Qe)return Qe[1];var Hr=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(Ae);return Hr?Hr[1]:"unknown"}function st(){var $t=new Error,Ae=($t.stack||$t).toString(),Qe=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(Ae);if(Qe)return Qe[1];var Hr=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(Ae);return Hr?Hr[1]:"unknown"}function yt($t,Ae){var Qe=$t.split(`
`),Hr=1,Lr=0,rn={unknown:new W,0:new W};rn.unknown.name=rn[0].name=Ae||lt(),rn.unknown.lines.push(new $(0,""));for(var dn=0;dn<Qe.length;++dn){var Mn=Qe[dn],Yn=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec(Mn);if(Yn)switch(Yn[1]){case"line":var Hn=/(\d+)(\s+\d+)?/.exec(Yn[2]);Hn&&(Hr=Hn[1]|0,Hn[2]&&(Lr=Hn[2]|0,Lr in rn||(rn[Lr]=new W)));break;case"define":var Un=/SHADER_NAME(_B64)?\s+(.*)$/.exec(Yn[2]);Un&&(rn[Lr].name=Un[1]?b(Un[2]):Un[2]);break}rn[Lr].lines.push(new $(Hr++,Mn))}return Object.keys(rn).forEach(function(Nn){var j=rn[Nn];j.lines.forEach(function(et){j.index[et.number]=et})}),rn}function q($t){var Ae=[];return $t.split(`
`).forEach(function(Qe){if(!(Qe.length<5)){var Hr=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(Qe);Hr?Ae.push(new K(Hr[1]|0,Hr[2]|0,Hr[3].trim())):Qe.length>0&&Ae.push(new K("unknown",0,Qe))}}),Ae}function nt($t,Ae){Ae.forEach(function(Qe){var Hr=$t[Qe.file];if(Hr){var Lr=Hr.index[Qe.line];if(Lr){Lr.errors.push(Qe),Hr.hasErrors=!0;return}}$t.unknown.hasErrors=!0,$t.unknown.lines[0].errors.push(Qe)})}function ct($t,Ae,Qe,Hr,Lr){if(!$t.getShaderParameter(Ae,$t.COMPILE_STATUS)){var rn=$t.getShaderInfoLog(Ae),dn=Hr===$t.FRAGMENT_SHADER?"fragment":"vertex";gt(Qe,"string",dn+" shader source must be a string",Lr);var Mn=yt(Qe,Lr),Yn=q(rn);nt(Mn,Yn),Object.keys(Mn).forEach(function(Hn){var Un=Mn[Hn];if(!Un.hasErrors)return;var Nn=[""],j=[""];function et(wt,It){Nn.push(wt),j.push(It||"")}et("file number "+Hn+": "+Un.name+`
`,"color:red;text-decoration:underline;font-weight:bold"),Un.lines.forEach(function(wt){if(wt.errors.length>0){et(z(wt.number,4)+"|  ","background-color:yellow; font-weight:bold"),et(wt.line+x,"color:red; background-color:yellow; font-weight:bold");var It=0;wt.errors.forEach(function(Nt){var Ft=Nt.message,Yt=/^\s*'(.*)'\s*:\s*(.*)$/.exec(Ft);if(Yt){var Qt=Yt[1];switch(Ft=Yt[2],Qt){case"assign":Qt="=";break}It=Math.max(wt.line.indexOf(Qt,It),0)}else It=0;et(z("| ",6)),et(z("^^^",It+3)+x,"font-weight:bold"),et(z("| ",6)),et(Ft+x,"font-weight:bold")}),et(z("| ",6)+x)}else et(z(wt.number,4)+"|  "),et(wt.line+x,"color:red")}),typeof document!="undefined"&&!window.chrome?(j[0]=Nn.join("%c"),console.log.apply(console,j)):console.log(Nn.join(""))}),_.raise("Error compiling "+dn+" shader, "+Mn[0].name)}}function bt($t,Ae,Qe,Hr,Lr){if(!$t.getProgramParameter(Ae,$t.LINK_STATUS)){var rn=$t.getProgramInfoLog(Ae),dn=yt(Qe,Lr),Mn=yt(Hr,Lr),Yn='Error linking program with vertex shader, "'+Mn[0].name+'", and fragment shader "'+dn[0].name+'"';typeof document!="undefined"?console.log("%c"+Yn+x+"%c"+rn,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(Yn+x+rn),_.raise(Yn)}}function _t($t){$t._commandRef=lt()}function St($t,Ae,Qe,Hr){_t($t);function Lr(Yn){return Yn?Hr.id(Yn):0}$t._fragId=Lr($t.static.frag),$t._vertId=Lr($t.static.vert);function rn(Yn,Hn){Object.keys(Hn).forEach(function(Un){Yn[Hr.id(Un)]=!0})}var dn=$t._uniformSet={};rn(dn,Ae.static),rn(dn,Ae.dynamic);var Mn=$t._attributeSet={};rn(Mn,Qe.static),rn(Mn,Qe.dynamic),$t._hasCount="count"in $t.static||"count"in $t.dynamic||"elements"in $t.static||"elements"in $t.dynamic}function At($t,Ae){var Qe=st();P($t+" in command "+(Ae||lt())+(Qe==="unknown"?"":" called from "+Qe))}function vt($t,Ae,Qe){$t||At(Ae,Qe||lt())}function dt($t,Ae,Qe,Hr){$t in Ae||At("unknown parameter ("+$t+")"+O(Qe)+". possible values: "+Object.keys(Ae).join(),Hr||lt())}function gt($t,Ae,Qe,Hr){M($t,Ae)||At("invalid parameter type"+O(Qe)+". expected "+Ae+", got "+typeof $t,Hr||lt())}function Ct($t){$t()}function Et($t,Ae,Qe){$t.texture?I($t.texture._texture.internalformat,Ae,"unsupported texture format for attachment"):I($t.renderbuffer._renderbuffer.format,Qe,"unsupported renderbuffer format for attachment")}var Tt=33071,ot=9728,Mt=9984,Wt=9985,jt=9986,qt=9987,se=5120,ae=5121,he=5122,ke=5123,Le=5124,rr=5125,Ee=5126,ge=32819,we=32820,Ce=33635,ye=34042,Gt=36193,Xt={};Xt[se]=Xt[ae]=1,Xt[he]=Xt[ke]=Xt[Gt]=Xt[Ce]=Xt[ge]=Xt[we]=2,Xt[Le]=Xt[rr]=Xt[Ee]=Xt[ye]=4;function Kt($t,Ae){return $t===we||$t===ge||$t===Ce?2:$t===ye?4:Xt[$t]*Ae}function ze($t){return!($t&$t-1)&&!!$t}function ur($t,Ae,Qe){var Hr,Lr=Ae.width,rn=Ae.height,dn=Ae.channels;_(Lr>0&&Lr<=Qe.maxTextureSize&&rn>0&&rn<=Qe.maxTextureSize,"invalid texture shape"),($t.wrapS!==Tt||$t.wrapT!==Tt)&&_(ze(Lr)&&ze(rn),"incompatible wrap mode for texture, both width and height must be power of 2"),Ae.mipmask===1?Lr!==1&&rn!==1&&_($t.minFilter!==Mt&&$t.minFilter!==jt&&$t.minFilter!==Wt&&$t.minFilter!==qt,"min filter requires mipmap"):(_(ze(Lr)&&ze(rn),"texture must be a square power of 2 to support mipmapping"),_(Ae.mipmask===(Lr<<1)-1,"missing or incomplete mipmap data")),Ae.type===Ee&&(Qe.extensions.indexOf("oes_texture_float_linear")<0&&_($t.minFilter===ot&&$t.magFilter===ot,"filter not supported, must enable oes_texture_float_linear"),_(!$t.genMipmaps,"mipmap generation not supported with float textures"));var Mn=Ae.images;for(Hr=0;Hr<16;++Hr)if(Mn[Hr]){var Yn=Lr>>Hr,Hn=rn>>Hr;_(Ae.mipmask&1<<Hr,"missing mipmap data");var Un=Mn[Hr];if(_(Un.width===Yn&&Un.height===Hn,"invalid shape for mip images"),_(Un.format===Ae.format&&Un.internalformat===Ae.internalformat&&Un.type===Ae.type,"incompatible type for mip image"),!Un.compressed)if(Un.data){var Nn=Math.ceil(Kt(Un.type,dn)*Yn/Un.unpackAlignment)*Un.unpackAlignment;_(Un.data.byteLength===Nn*Hn,"invalid data for image, buffer size is inconsistent with image format")}else Un.element||Un.copy}else $t.genMipmaps||_((Ae.mipmask&1<<Hr)===0,"extra mipmap data");Ae.compressed&&_(!$t.genMipmaps,"mipmap generation for compressed images not supported")}function tr($t,Ae,Qe,Hr){var Lr=$t.width,rn=$t.height,dn=$t.channels;_(Lr>0&&Lr<=Hr.maxTextureSize&&rn>0&&rn<=Hr.maxTextureSize,"invalid texture shape"),_(Lr===rn,"cube map must be square"),_(Ae.wrapS===Tt&&Ae.wrapT===Tt,"wrap mode not supported by cube map");for(var Mn=0;Mn<Qe.length;++Mn){var Yn=Qe[Mn];_(Yn.width===Lr&&Yn.height===rn,"inconsistent cube map face shape"),Ae.genMipmaps&&(_(!Yn.compressed,"can not generate mipmap for compressed textures"),_(Yn.mipmask===1,"can not specify mipmaps and generate mipmaps"));for(var Hn=Yn.images,Un=0;Un<16;++Un){var Nn=Hn[Un];if(Nn){var j=Lr>>Un,et=rn>>Un;_(Yn.mipmask&1<<Un,"missing mipmap data"),_(Nn.width===j&&Nn.height===et,"invalid shape for mip images"),_(Nn.format===$t.format&&Nn.internalformat===$t.internalformat&&Nn.type===$t.type,"incompatible type for mip image"),Nn.compressed||(Nn.data?_(Nn.data.byteLength===j*et*Math.max(Kt(Nn.type,dn),Nn.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):Nn.element||Nn.copy)}}}}var re=d(_,{optional:Ct,raise:P,commandRaise:At,command:vt,parameter:T,commandParameter:dt,constructor:B,type:A,commandType:gt,isTypedArray:F,nni:L,oneOf:I,shaderError:ct,linkError:bt,callSite:st,saveCommandRef:_t,saveDrawInfo:St,framebufferFormat:Et,guessCommand:lt,texture2D:ur,textureCube:tr}),Qr=0,Ir=0,gn=5,Wn=6;function ui($t,Ae){this.id=Qr++,this.type=$t,this.data=Ae}function bi($t){return $t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function fr($t){if($t.length===0)return[];var Ae=$t.charAt(0),Qe=$t.charAt($t.length-1);if($t.length>1&&Ae===Qe&&(Ae==='"'||Ae==="'"))return['"'+bi($t.substr(1,$t.length-2))+'"'];var Hr=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec($t);if(Hr)return fr($t.substr(0,Hr.index)).concat(fr(Hr[1])).concat(fr($t.substr(Hr.index+Hr[0].length)));var Lr=$t.split(".");if(Lr.length===1)return['"'+bi($t)+'"'];for(var rn=[],dn=0;dn<Lr.length;++dn)rn=rn.concat(fr(Lr[dn]));return rn}function Zr($t){return"["+fr($t).join("][")+"]"}function Sn($t,Ae){return new ui($t,Zr(Ae+""))}function Dn($t){return typeof $t=="function"&&!$t._reglType||$t instanceof ui}function hn($t,Ae){if(typeof $t=="function")return new ui(Ir,$t);if(typeof $t=="number"||typeof $t=="boolean")return new ui(gn,$t);if(Array.isArray($t))return new ui(Wn,$t.map((Qe,Hr)=>hn(Qe,Ae+"["+Hr+"]")));if($t instanceof ui)return $t;re(!1,"invalid option type in uniform "+Ae)}var Gn={DynamicVariable:ui,define:Sn,isDynamic:Dn,unbox:hn,accessor:Zr},En={next:typeof requestAnimationFrame=="function"?function($t){return requestAnimationFrame($t)}:function($t){return setTimeout($t,16)},cancel:typeof cancelAnimationFrame=="function"?function($t){return cancelAnimationFrame($t)}:clearTimeout},In=typeof performance!="undefined"&&performance.now?function(){return performance.now()}:function(){return+new Date};function Fn(){var $t={"":0},Ae=[""];return{id:function(Qe){var Hr=$t[Qe];return Hr||(Hr=$t[Qe]=Ae.length,Ae.push(Qe),Hr)},str:function(Qe){return Ae[Qe]}}}function xe($t,Ae,Qe){var Hr=document.createElement("canvas");d(Hr.style,{border:0,margin:0,padding:0,top:0,left:0}),$t.appendChild(Hr),$t===document.body&&(Hr.style.position="absolute",d($t.style,{margin:0,padding:0}));function Lr(){var Mn=window.innerWidth,Yn=window.innerHeight;if($t!==document.body){var Hn=$t.getBoundingClientRect();Mn=Hn.right-Hn.left,Yn=Hn.bottom-Hn.top}Hr.width=Qe*Mn,Hr.height=Qe*Yn,d(Hr.style,{width:Mn+"px",height:Yn+"px"})}var rn;$t!==document.body&&typeof ResizeObserver=="function"?(rn=new ResizeObserver(function(){setTimeout(Lr)}),rn.observe($t)):window.addEventListener("resize",Lr,!1);function dn(){rn?rn.disconnect():window.removeEventListener("resize",Lr),$t.removeChild(Hr)}return Lr(),{canvas:Hr,onDestroy:dn}}function Ge($t,Ae){function Qe(Hr){try{return $t.getContext(Hr,Ae)}catch(Lr){return null}}return Qe("webgl")||Qe("experimental-webgl")||Qe("webgl-experimental")}function Je($t){return typeof $t.nodeName=="string"&&typeof $t.appendChild=="function"&&typeof $t.getBoundingClientRect=="function"}function br($t){return typeof $t.drawArrays=="function"||typeof $t.drawElements=="function"}function jr($t){return typeof $t=="string"?$t.split():(re(Array.isArray($t),"invalid extension array"),$t)}function Wr($t){return typeof $t=="string"?(re(typeof document!="undefined","not supported outside of DOM"),document.querySelector($t)):$t}function Ut($t){var Ae=$t||{},Qe,Hr,Lr,rn,dn={},Mn=[],Yn=[],Hn=typeof window=="undefined"?1:window.devicePixelRatio,Un=!1,Nn=function(wt){wt&&re.raise(wt)},j=function(){};if(typeof Ae=="string"?(re(typeof document!="undefined","selector queries only supported in DOM enviroments"),Qe=document.querySelector(Ae),re(Qe,"invalid query string for element")):typeof Ae=="object"?Je(Ae)?Qe=Ae:br(Ae)?(rn=Ae,Lr=rn.canvas):(re.constructor(Ae),"gl"in Ae?rn=Ae.gl:"canvas"in Ae?Lr=Wr(Ae.canvas):"container"in Ae&&(Hr=Wr(Ae.container)),"attributes"in Ae&&(dn=Ae.attributes,re.type(dn,"object","invalid context attributes")),"extensions"in Ae&&(Mn=jr(Ae.extensions)),"optionalExtensions"in Ae&&(Yn=jr(Ae.optionalExtensions)),"onDone"in Ae&&(re.type(Ae.onDone,"function","invalid or missing onDone callback"),Nn=Ae.onDone),"profile"in Ae&&(Un=!!Ae.profile),"pixelRatio"in Ae&&(Hn=+Ae.pixelRatio,re(Hn>0,"invalid pixel ratio"))):re.raise("invalid arguments to regl"),Qe&&(Qe.nodeName.toLowerCase()==="canvas"?Lr=Qe:Hr=Qe),!rn){if(!Lr){re(typeof document!="undefined","must manually specify webgl context outside of DOM environments");var et=xe(Hr||document.body,Nn,Hn);if(!et)return null;Lr=et.canvas,j=et.onDestroy}dn.premultipliedAlpha===void 0&&(dn.premultipliedAlpha=!0),rn=Ge(Lr,dn)}return rn?{gl:rn,canvas:Lr,container:Hr,extensions:Mn,optionalExtensions:Yn,pixelRatio:Hn,profile:Un,onDone:Nn,onDestroy:j}:(j(),Nn("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function ft($t,Ae){var Qe={};function Hr(dn){re.type(dn,"string","extension name must be string");var Mn=dn.toLowerCase(),Yn;try{Yn=Qe[Mn]=$t.getExtension(Mn)}catch(Hn){}return!!Yn}for(var Lr=0;Lr<Ae.extensions.length;++Lr){var rn=Ae.extensions[Lr];if(!Hr(rn))return Ae.onDestroy(),Ae.onDone('"'+rn+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return Ae.optionalExtensions.forEach(Hr),{extensions:Qe,restore:function(){Object.keys(Qe).forEach(function(dn){if(Qe[dn]&&!Hr(dn))throw new Error("(regl): error restoring extension "+dn)})}}}function pt($t,Ae){for(var Qe=Array($t),Hr=0;Hr<$t;++Hr)Qe[Hr]=Ae(Hr);return Qe}var J=5120,xt=5121,Rt=5122,ue=5123,ie=5124,be=5125,ce=5126;function We($t){for(var Ae=16;Ae<=268435456;Ae*=16)if($t<=Ae)return Ae;return 0}function Ne($t){var Ae,Qe;return Ae=($t>65535)<<4,$t>>>=Ae,Qe=($t>255)<<3,$t>>>=Qe,Ae|=Qe,Qe=($t>15)<<2,$t>>>=Qe,Ae|=Qe,Qe=($t>3)<<1,$t>>>=Qe,Ae|=Qe,Ae|$t>>1}function Mr(){var $t=pt(8,function(){return[]});function Ae(rn){var dn=We(rn),Mn=$t[Ne(dn)>>2];return Mn.length>0?Mn.pop():new ArrayBuffer(dn)}function Qe(rn){$t[Ne(rn.byteLength)>>2].push(rn)}function Hr(rn,dn){var Mn=null;switch(rn){case J:Mn=new Int8Array(Ae(dn),0,dn);break;case xt:Mn=new Uint8Array(Ae(dn),0,dn);break;case Rt:Mn=new Int16Array(Ae(2*dn),0,dn);break;case ue:Mn=new Uint16Array(Ae(2*dn),0,dn);break;case ie:Mn=new Int32Array(Ae(4*dn),0,dn);break;case be:Mn=new Uint32Array(Ae(4*dn),0,dn);break;case ce:Mn=new Float32Array(Ae(4*dn),0,dn);break;default:return null}return Mn.length!==dn?Mn.subarray(0,dn):Mn}function Lr(rn){Qe(rn.buffer)}return{alloc:Ae,free:Qe,allocType:Hr,freeType:Lr}}var sn=Mr();sn.zero=Mr();var hr=3408,cn=3410,kn=3411,me=3412,Tn=3413,Zn=3414,Kn=3415,Or=33901,wn=33902,Cr=3379,xr=3386,_n=34921,Mi=36347,or=36348,Bn=35661,ti=35660,Vn=34930,qi=36349,Rn=34076,fa=34024,Ci=7936,ga=7937,da=7938,zo=35724,Po=34047,au=36063,Yi=34852,Ha=3553,po=34067,Za=34069,ho=33984,za=6408,ol=5126,nf=5121,$l=36160,ih=36053,Al=36064,Ic=16384,ah=function($t,Ae){var Qe=1;Ae.ext_texture_filter_anisotropic&&(Qe=$t.getParameter(Po));var Hr=1,Lr=1;Ae.webgl_draw_buffers&&(Hr=$t.getParameter(Yi),Lr=$t.getParameter(au));var rn=!!Ae.oes_texture_float;if(rn){var dn=$t.createTexture();$t.bindTexture(Ha,dn),$t.texImage2D(Ha,0,za,1,1,0,za,ol,null);var Mn=$t.createFramebuffer();if($t.bindFramebuffer($l,Mn),$t.framebufferTexture2D($l,Al,Ha,dn,0),$t.bindTexture(Ha,null),$t.checkFramebufferStatus($l)!==ih)rn=!1;else{$t.viewport(0,0,1,1),$t.clearColor(1,0,0,1),$t.clear(Ic);var Yn=sn.allocType(ol,4);$t.readPixels(0,0,1,1,za,ol,Yn),$t.getError()?rn=!1:($t.deleteFramebuffer(Mn),$t.deleteTexture(dn),rn=Yn[0]===1),sn.freeType(Yn)}}var Hn=typeof navigator!="undefined"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent)),Un=!0;if(!Hn){var Nn=$t.createTexture(),j=sn.allocType(nf,36);$t.activeTexture(ho),$t.bindTexture(po,Nn),$t.texImage2D(Za,0,za,3,3,0,za,nf,j),sn.freeType(j),$t.bindTexture(po,null),$t.deleteTexture(Nn),Un=!$t.getError()}return{colorBits:[$t.getParameter(cn),$t.getParameter(kn),$t.getParameter(me),$t.getParameter(Tn)],depthBits:$t.getParameter(Zn),stencilBits:$t.getParameter(Kn),subpixelBits:$t.getParameter(hr),extensions:Object.keys(Ae).filter(function(et){return!!Ae[et]}),maxAnisotropic:Qe,maxDrawbuffers:Hr,maxColorAttachments:Lr,pointSizeDims:$t.getParameter(Or),lineWidthDims:$t.getParameter(wn),maxViewportDims:$t.getParameter(xr),maxCombinedTextureUnits:$t.getParameter(Bn),maxCubeMapSize:$t.getParameter(Rn),maxRenderbufferSize:$t.getParameter(fa),maxTextureUnits:$t.getParameter(Vn),maxTextureSize:$t.getParameter(Cr),maxAttributes:$t.getParameter(_n),maxVertexUniforms:$t.getParameter(Mi),maxVertexTextureUnits:$t.getParameter(ti),maxVaryingVectors:$t.getParameter(or),maxFragmentUniforms:$t.getParameter(qi),glsl:$t.getParameter(zo),renderer:$t.getParameter(ga),vendor:$t.getParameter(Ci),version:$t.getParameter(da),readFloat:rn,npotTextureCube:Un}};function Ys($t){return!!$t&&typeof $t=="object"&&Array.isArray($t.shape)&&Array.isArray($t.stride)&&typeof $t.offset=="number"&&$t.shape.length===$t.stride.length&&(Array.isArray($t.data)||R($t.data))}var Is=function($t){return Object.keys($t).map(function(Ae){return $t[Ae]})},Oc={shape:jh,flatten:af};function sl($t,Ae,Qe){for(var Hr=0;Hr<Ae;++Hr)Qe[Hr]=$t[Hr]}function oh($t,Ae,Qe,Hr){for(var Lr=0,rn=0;rn<Ae;++rn)for(var dn=$t[rn],Mn=0;Mn<Qe;++Mn)Hr[Lr++]=dn[Mn]}function Br($t,Ae,Qe,Hr,Lr,rn){for(var dn=rn,Mn=0;Mn<Ae;++Mn)for(var Yn=$t[Mn],Hn=0;Hn<Qe;++Hn)for(var Un=Yn[Hn],Nn=0;Nn<Hr;++Nn)Lr[dn++]=Un[Nn]}function Iu($t,Ae,Qe,Hr,Lr){for(var rn=1,dn=Qe+1;dn<Ae.length;++dn)rn*=Ae[dn];var Mn=Ae[Qe];if(Ae.length-Qe===4){var Yn=Ae[Qe+1],Hn=Ae[Qe+2],Un=Ae[Qe+3];for(dn=0;dn<Mn;++dn)Br($t[dn],Yn,Hn,Un,Hr,Lr),Lr+=rn}else for(dn=0;dn<Mn;++dn)Iu($t[dn],Ae,Qe+1,Hr,Lr),Lr+=rn}function af($t,Ae,Qe,Hr){var Lr=1;if(Ae.length)for(var rn=0;rn<Ae.length;++rn)Lr*=Ae[rn];else Lr=0;var dn=Hr||sn.allocType(Qe,Lr);switch(Ae.length){case 0:break;case 1:sl($t,Ae[0],dn);break;case 2:oh($t,Ae[0],Ae[1],dn);break;case 3:Br($t,Ae[0],Ae[1],Ae[2],dn,0);break;default:Iu($t,Ae,0,dn,0)}return dn}function jh($t){for(var Ae=[],Qe=$t;Qe.length;Qe=Qe[0])Ae.push(Qe.length);return Ae}var Dc={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Tf=5120,Td=5122,Md=5124,Kl=5121,Zl=5123,Wh=5125,qd=5126,of=5126,Ql={int8:Tf,int16:Td,int32:Md,uint8:Kl,uint16:Zl,uint32:Wh,float:qd,float32:of},go=35048,sf=35040,sh={dynamic:go,stream:sf,static:35044},uh=Oc.flatten,Pc=Oc.shape,Vh=35044,Qa=35040,Ya=5121,Gu=5126,Ou=[];Ou[5120]=1,Ou[5122]=2,Ou[5124]=4,Ou[5121]=1,Ou[5123]=2,Ou[5125]=4,Ou[5126]=4;function Du($t){return Dc[Object.prototype.toString.call($t)]|0}function lh($t,Ae){for(var Qe=0;Qe<Ae.length;++Qe)$t[Qe]=Ae[Qe]}function Hh($t,Ae,Qe,Hr,Lr,rn,dn){for(var Mn=0,Yn=0;Yn<Qe;++Yn)for(var Hn=0;Hn<Hr;++Hn)$t[Mn++]=Ae[Lr*Yn+rn*Hn+dn]}function Mv($t,Ae,Qe,Hr){var Lr=0,rn={};function dn(It){this.id=Lr++,this.buffer=$t.createBuffer(),this.type=It,this.usage=Vh,this.byteLength=0,this.dimension=1,this.dtype=Ya,this.persistentData=null,Qe.profile&&(this.stats={size:0})}dn.prototype.bind=function(){$t.bindBuffer(this.type,this.buffer)},dn.prototype.destroy=function(){j(this)};var Mn=[];function Yn(It,Nt){var Ft=Mn.pop();return Ft||(Ft=new dn(It)),Ft.bind(),Nn(Ft,Nt,Qa,0,1,!1),Ft}function Hn(It){Mn.push(It)}function Un(It,Nt,Ft){It.byteLength=Nt.byteLength,$t.bufferData(It.type,Nt,Ft)}function Nn(It,Nt,Ft,Yt,Qt,ee){var de;if(It.usage=Ft,Array.isArray(Nt)){if(It.dtype=Yt||Gu,Nt.length>0){var Ie;if(Array.isArray(Nt[0])){de=Pc(Nt);for(var Pe=1,Ke=1;Ke<de.length;++Ke)Pe*=de[Ke];It.dimension=Pe,Ie=uh(Nt,de,It.dtype),Un(It,Ie,Ft),ee?It.persistentData=Ie:sn.freeType(Ie)}else if(typeof Nt[0]=="number"){It.dimension=Qt;var Ar=sn.allocType(It.dtype,Nt.length);lh(Ar,Nt),Un(It,Ar,Ft),ee?It.persistentData=Ar:sn.freeType(Ar)}else R(Nt[0])?(It.dimension=Nt[0].length,It.dtype=Yt||Du(Nt[0])||Gu,Ie=uh(Nt,[Nt.length,Nt[0].length],It.dtype),Un(It,Ie,Ft),ee?It.persistentData=Ie:sn.freeType(Ie)):re.raise("invalid buffer data")}}else if(R(Nt))It.dtype=Yt||Du(Nt),It.dimension=Qt,Un(It,Nt,Ft),ee&&(It.persistentData=new Uint8Array(new Uint8Array(Nt.buffer)));else if(Ys(Nt)){de=Nt.shape;var pn=Nt.stride,Dr=Nt.offset,Pr=0,Rr=0,zn=0,ni=0;de.length===1?(Pr=de[0],Rr=1,zn=pn[0],ni=0):de.length===2?(Pr=de[0],Rr=de[1],zn=pn[0],ni=pn[1]):re.raise("invalid shape"),It.dtype=Yt||Du(Nt.data)||Gu,It.dimension=Rr;var Qn=sn.allocType(It.dtype,Pr*Rr);Hh(Qn,Nt.data,Pr,Rr,zn,ni,Dr),Un(It,Qn,Ft),ee?It.persistentData=Qn:sn.freeType(Qn)}else Nt instanceof ArrayBuffer?(It.dtype=Ya,It.dimension=Qt,Un(It,Nt,Ft),ee&&(It.persistentData=new Uint8Array(new Uint8Array(Nt)))):re.raise("invalid buffer data")}function j(It){Ae.bufferCount--,Hr(It);var Nt=It.buffer;re(Nt,"buffer must not be deleted already"),$t.deleteBuffer(Nt),It.buffer=null,delete rn[It.id]}function et(It,Nt,Ft,Yt){Ae.bufferCount++;var Qt=new dn(Nt);rn[Qt.id]=Qt;function ee(Pe){var Ke=Vh,Ar=null,pn=0,Dr=0,Pr=1;return Array.isArray(Pe)||R(Pe)||Ys(Pe)||Pe instanceof ArrayBuffer?Ar=Pe:typeof Pe=="number"?pn=Pe|0:Pe&&(re.type(Pe,"object","buffer arguments must be an object, a number or an array"),"data"in Pe&&(re(Ar===null||Array.isArray(Ar)||R(Ar)||Ys(Ar),"invalid data for buffer"),Ar=Pe.data),"usage"in Pe&&(re.parameter(Pe.usage,sh,"invalid buffer usage"),Ke=sh[Pe.usage]),"type"in Pe&&(re.parameter(Pe.type,Ql,"invalid buffer type"),Dr=Ql[Pe.type]),"dimension"in Pe&&(re.type(Pe.dimension,"number","invalid dimension"),Pr=Pe.dimension|0),"length"in Pe&&(re.nni(pn,"buffer length must be a nonnegative integer"),pn=Pe.length|0)),Qt.bind(),Ar?Nn(Qt,Ar,Ke,Dr,Pr,Yt):(pn&&$t.bufferData(Qt.type,pn,Ke),Qt.dtype=Dr||Ya,Qt.usage=Ke,Qt.dimension=Pr,Qt.byteLength=pn),Qe.profile&&(Qt.stats.size=Qt.byteLength*Ou[Qt.dtype]),ee}function de(Pe,Ke){re(Ke+Pe.byteLength<=Qt.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+Pe.byteLength+" starting from offset "+Ke+" to a buffer of size "+Qt.byteLength),$t.bufferSubData(Qt.type,Ke,Pe)}function Ie(Pe,Ke){var Ar=(Ke||0)|0,pn;if(Qt.bind(),R(Pe)||Pe instanceof ArrayBuffer)de(Pe,Ar);else if(Array.isArray(Pe)){if(Pe.length>0)if(typeof Pe[0]=="number"){var Dr=sn.allocType(Qt.dtype,Pe.length);lh(Dr,Pe),de(Dr,Ar),sn.freeType(Dr)}else if(Array.isArray(Pe[0])||R(Pe[0])){pn=Pc(Pe);var Pr=uh(Pe,pn,Qt.dtype);de(Pr,Ar),sn.freeType(Pr)}else re.raise("invalid buffer data")}else if(Ys(Pe)){pn=Pe.shape;var Rr=Pe.stride,zn=0,ni=0,Qn=0,Ti=0;pn.length===1?(zn=pn[0],ni=1,Qn=Rr[0],Ti=0):pn.length===2?(zn=pn[0],ni=pn[1],Qn=Rr[0],Ti=Rr[1]):re.raise("invalid shape");var li=Array.isArray(Pe.data)?Qt.dtype:Du(Pe.data),Di=sn.allocType(li,zn*ni);Hh(Di,Pe.data,zn,ni,Qn,Ti,Pe.offset),de(Di,Ar),sn.freeType(Di)}else re.raise("invalid data for buffer subdata");return ee}return Ft||ee(It),ee._reglType="buffer",ee._buffer=Qt,ee.subdata=Ie,Qe.profile&&(ee.stats=Qt.stats),ee.destroy=function(){j(Qt)},ee}function wt(){Is(rn).forEach(function(It){It.buffer=$t.createBuffer(),$t.bindBuffer(It.type,It.buffer),$t.bufferData(It.type,It.persistentData||It.byteLength,It.usage)})}return Qe.profile&&(Ae.getTotalBufferSize=function(){var It=0;return Object.keys(rn).forEach(function(Nt){It+=rn[Nt].stats.size}),It}),{create:et,createStream:Yn,destroyStream:Hn,clear:function(){Is(rn).forEach(j),Mn.forEach(j)},getBuffer:function(It){return It&&It._buffer instanceof dn?It._buffer:null},restore:wt,_initBuffer:Nn}}var tv=0,Id=0,Jo=1,yo=1,Lc=4,Yh=4,zu={points:tv,point:Id,lines:Jo,line:yo,triangles:Lc,triangle:Yh,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},ns=0,Mf=1,xs=4,Jl=5120,Cl=5121,If=5122,Tl=5123,_o=5124,Uu=5125,ou=34963,ql=35040,Xh=35044;function ul($t,Ae,Qe,Hr){var Lr={},rn=0,dn={uint8:Cl,uint16:Tl};Ae.oes_element_index_uint&&(dn.uint32=Uu);function Mn(wt){this.id=rn++,Lr[this.id]=this,this.buffer=wt,this.primType=xs,this.vertCount=0,this.type=0}Mn.prototype.bind=function(){this.buffer.bind()};var Yn=[];function Hn(wt){var It=Yn.pop();return It||(It=new Mn(Qe.create(null,ou,!0,!1)._buffer)),Nn(It,wt,ql,-1,-1,0,0),It}function Un(wt){Yn.push(wt)}function Nn(wt,It,Nt,Ft,Yt,Qt,ee){wt.buffer.bind();var de;if(It){var Ie=ee;!ee&&(!R(It)||Ys(It)&&!R(It.data))&&(Ie=Ae.oes_element_index_uint?Uu:Tl),Qe._initBuffer(wt.buffer,It,Nt,Ie,3)}else $t.bufferData(ou,Qt,Nt),wt.buffer.dtype=de||Cl,wt.buffer.usage=Nt,wt.buffer.dimension=3,wt.buffer.byteLength=Qt;if(de=ee,!ee){switch(wt.buffer.dtype){case Cl:case Jl:de=Cl;break;case Tl:case If:de=Tl;break;case Uu:case _o:de=Uu;break;default:re.raise("unsupported type for element array")}wt.buffer.dtype=de}wt.type=de,re(de!==Uu||!!Ae.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var Pe=Yt;Pe<0&&(Pe=wt.buffer.byteLength,de===Tl?Pe>>=1:de===Uu&&(Pe>>=2)),wt.vertCount=Pe;var Ke=Ft;if(Ft<0){Ke=xs;var Ar=wt.buffer.dimension;Ar===1&&(Ke=ns),Ar===2&&(Ke=Mf),Ar===3&&(Ke=xs)}wt.primType=Ke}function j(wt){Hr.elementsCount--,re(wt.buffer!==null,"must not double destroy elements"),delete Lr[wt.id],wt.buffer.destroy(),wt.buffer=null}function et(wt,It){var Nt=Qe.create(null,ou,!0),Ft=new Mn(Nt._buffer);Hr.elementsCount++;function Yt(Qt){if(!Qt)Nt(),Ft.primType=xs,Ft.vertCount=0,Ft.type=Cl;else if(typeof Qt=="number")Nt(Qt),Ft.primType=xs,Ft.vertCount=Qt|0,Ft.type=Cl;else{var ee=null,de=Xh,Ie=-1,Pe=-1,Ke=0,Ar=0;Array.isArray(Qt)||R(Qt)||Ys(Qt)?ee=Qt:(re.type(Qt,"object","invalid arguments for elements"),"data"in Qt&&(ee=Qt.data,re(Array.isArray(ee)||R(ee)||Ys(ee),"invalid data for element buffer")),"usage"in Qt&&(re.parameter(Qt.usage,sh,"invalid element buffer usage"),de=sh[Qt.usage]),"primitive"in Qt&&(re.parameter(Qt.primitive,zu,"invalid element buffer primitive"),Ie=zu[Qt.primitive]),"count"in Qt&&(re(typeof Qt.count=="number"&&Qt.count>=0,"invalid vertex count for elements"),Pe=Qt.count|0),"type"in Qt&&(re.parameter(Qt.type,dn,"invalid buffer type"),Ar=dn[Qt.type]),"length"in Qt?Ke=Qt.length|0:(Ke=Pe,Ar===Tl||Ar===If?Ke*=2:(Ar===Uu||Ar===_o)&&(Ke*=4))),Nn(Ft,ee,de,Ie,Pe,Ke,Ar)}return Yt}return Yt(wt),Yt._reglType="elements",Yt._elements=Ft,Yt.subdata=function(Qt,ee){return Nt.subdata(Qt,ee),Yt},Yt.destroy=function(){j(Ft)},Yt}return{create:et,createStream:Hn,destroyStream:Un,getElements:function(wt){return typeof wt=="function"&&wt._elements instanceof Mn?wt._elements:null},clear:function(){Is(Lr).forEach(j)}}}var tc=new Float32Array(1),ec=new Uint32Array(tc.buffer),mo=5123;function Pu($t){for(var Ae=sn.allocType(mo,$t.length),Qe=0;Qe<$t.length;++Qe)if(isNaN($t[Qe]))Ae[Qe]=65535;else if($t[Qe]===1/0)Ae[Qe]=31744;else if($t[Qe]===-1/0)Ae[Qe]=64512;else{tc[0]=$t[Qe];var Hr=ec[0],Lr=Hr>>>31<<15,rn=(Hr<<1>>>24)-127,dn=Hr>>13&(1<<10)-1;if(rn<-24)Ae[Qe]=Lr;else if(rn<-14){var Mn=-14-rn;Ae[Qe]=Lr+(dn+1024>>Mn)}else rn>15?Ae[Qe]=Lr+31744:Ae[Qe]=Lr+(rn+15<<10)+dn}return Ae}function eo($t){return Array.isArray($t)||R($t)}var ch=function($t){return!($t&$t-1)&&!!$t},$h=34467,Xs=3553,Kh=34067,Of=34069,rc=6408,Rc=6406,nc=6407,ll=6409,ic=6410,Ns=32854,fh=32855,ju=36194,fe=32819,qe=32820,Sr=33635,Kr=34042,Pn=6402,ci=34041,Pi=35904,xa=35906,ro=36193,su=33776,gu=33777,hh=33778,Zh=33779,Df=35986,Od=35987,Dd=34798,dh=35840,rp=35841,Iv=35842,Pd=35843,Pf=36196,cl=5121,Fc=5123,Lf=5125,$s=5126,Ov=10242,uf=10243,yu=10497,ev=33071,rv=33648,Sp=10240,np=10241,Ld=9728,nv=9729,_e=9984,tn=9985,Z=9986,w=9987,hi=33170,An=4352,ua=4353,qo=4354,pi=34046,Nc=3317,ks=37440,uu=37441,ac=37443,Ja=37444,Wu=33984,lf=[_e,Z,tn,w],oc=[0,ll,ic,nc,rc],ha={};ha[ll]=ha[Rc]=ha[Pn]=1,ha[ci]=ha[ic]=2,ha[nc]=ha[Pi]=3,ha[rc]=ha[xa]=4;function sc($t){return"[object "+$t+"]"}var uc=sc("HTMLCanvasElement"),fl=sc("OffscreenCanvas"),Rf=sc("CanvasRenderingContext2D"),Qh=sc("ImageBitmap"),kc=sc("HTMLImageElement"),lc=sc("HTMLVideoElement"),Fa=Object.keys(Dc).concat([uc,fl,Rf,Qh,kc,lc]),Ri=[];Ri[cl]=1,Ri[$s]=4,Ri[ro]=2,Ri[Fc]=2,Ri[Lf]=4;var ds=[];ds[Ns]=2,ds[fh]=2,ds[ju]=2,ds[ci]=4,ds[su]=.5,ds[gu]=.5,ds[hh]=1,ds[Zh]=1,ds[Df]=.5,ds[Od]=1,ds[Dd]=1,ds[dh]=.5,ds[rp]=.25,ds[Iv]=.5,ds[Pd]=.25,ds[Pf]=.5;function co($t){return Array.isArray($t)&&($t.length===0||typeof $t[0]=="number")}function Ff($t){if(!Array.isArray($t))return!1;var Ae=$t.length;return!(Ae===0||!eo($t[0]))}function Vu($t){return Object.prototype.toString.call($t)}function cf($t){return Vu($t)===uc}function Jh($t){return Vu($t)===fl}function cc($t){return Vu($t)===Rf}function hl($t){return Vu($t)===Qh}function fc($t){return Vu($t)===kc}function Ml($t){return Vu($t)===lc}function qh($t){if(!$t)return!1;var Ae=Vu($t);return Fa.indexOf(Ae)>=0?!0:co($t)||Ff($t)||Ys($t)}function ff($t){return Dc[Object.prototype.toString.call($t)]|0}function Il($t,Ae){var Qe=Ae.length;switch($t.type){case cl:case Fc:case Lf:case $s:var Hr=sn.allocType($t.type,Qe);Hr.set(Ae),$t.data=Hr;break;case ro:$t.data=Pu(Ae);break;default:re.raise("unsupported texture type, must specify a typed array")}}function Ol($t,Ae){return sn.allocType($t.type===ro?$s:$t.type,Ae)}function Hu($t,Ae){$t.type===ro?($t.data=Pu(Ae),sn.freeType(Ae)):$t.data=Ae}function vh($t,Ae,Qe,Hr,Lr,rn){for(var dn=$t.width,Mn=$t.height,Yn=$t.channels,Hn=dn*Mn*Yn,Un=Ol($t,Hn),Nn=0,j=0;j<Mn;++j)for(var et=0;et<dn;++et)for(var wt=0;wt<Yn;++wt)Un[Nn++]=Ae[Qe*et+Hr*j+Lr*wt+rn];Hu($t,Un)}function Yu($t,Ae,Qe,Hr,Lr,rn){var dn;if(typeof ds[$t]!="undefined"?dn=ds[$t]:dn=ha[$t]*Ri[Ae],rn&&(dn*=6),Lr){for(var Mn=0,Yn=Qe;Yn>=1;)Mn+=dn*Yn*Yn,Yn/=2;return Mn}else return dn*Qe*Hr}function Rd($t,Ae,Qe,Hr,Lr,rn,dn){var Mn={"don't care":An,"dont care":An,nice:qo,fast:ua},Yn={repeat:yu,clamp:ev,mirror:rv},Hn={nearest:Ld,linear:nv},Un=d({mipmap:w,"nearest mipmap nearest":_e,"linear mipmap nearest":tn,"nearest mipmap linear":Z,"linear mipmap linear":w},Hn),Nn={none:0,browser:Ja},j={uint8:cl,rgba4:fe,rgb565:Sr,"rgb5 a1":qe},et={alpha:Rc,luminance:ll,"luminance alpha":ic,rgb:nc,rgba:rc,rgba4:Ns,"rgb5 a1":fh,rgb565:ju},wt={};Ae.ext_srgb&&(et.srgb=Pi,et.srgba=xa),Ae.oes_texture_float&&(j.float32=j.float=$s),Ae.oes_texture_half_float&&(j.float16=j["half float"]=ro),Ae.webgl_depth_texture&&(d(et,{depth:Pn,"depth stencil":ci}),d(j,{uint16:Fc,uint32:Lf,"depth stencil":Kr})),Ae.webgl_compressed_texture_s3tc&&d(wt,{"rgb s3tc dxt1":su,"rgba s3tc dxt1":gu,"rgba s3tc dxt3":hh,"rgba s3tc dxt5":Zh}),Ae.webgl_compressed_texture_atc&&d(wt,{"rgb atc":Df,"rgba atc explicit alpha":Od,"rgba atc interpolated alpha":Dd}),Ae.webgl_compressed_texture_pvrtc&&d(wt,{"rgb pvrtc 4bppv1":dh,"rgb pvrtc 2bppv1":rp,"rgba pvrtc 4bppv1":Iv,"rgba pvrtc 2bppv1":Pd}),Ae.webgl_compressed_texture_etc1&&(wt["rgb etc1"]=Pf);var It=Array.prototype.slice.call($t.getParameter($h));Object.keys(wt).forEach(function(Ze){var on=wt[Ze];It.indexOf(on)>=0&&(et[Ze]=on)});var Nt=Object.keys(et);Qe.textureFormats=Nt;var Ft=[];Object.keys(et).forEach(function(Ze){var on=et[Ze];Ft[on]=Ze});var Yt=[];Object.keys(j).forEach(function(Ze){var on=j[Ze];Yt[on]=Ze});var Qt=[];Object.keys(Hn).forEach(function(Ze){var on=Hn[Ze];Qt[on]=Ze});var ee=[];Object.keys(Un).forEach(function(Ze){var on=Un[Ze];ee[on]=Ze});var de=[];Object.keys(Yn).forEach(function(Ze){var on=Yn[Ze];de[on]=Ze});var Ie=Nt.reduce(function(Ze,on){var an=et[on];return an===ll||an===Rc||an===ll||an===ic||an===Pn||an===ci||Ae.ext_srgb&&(an===Pi||an===xa)?Ze[an]=an:an===fh||on.indexOf("rgba")>=0?Ze[an]=rc:Ze[an]=nc,Ze},{});function Pe(){this.internalformat=rc,this.format=rc,this.type=cl,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=Ja,this.width=0,this.height=0,this.channels=0}function Ke(Ze,on){Ze.internalformat=on.internalformat,Ze.format=on.format,Ze.type=on.type,Ze.compressed=on.compressed,Ze.premultiplyAlpha=on.premultiplyAlpha,Ze.flipY=on.flipY,Ze.unpackAlignment=on.unpackAlignment,Ze.colorSpace=on.colorSpace,Ze.width=on.width,Ze.height=on.height,Ze.channels=on.channels}function Ar(Ze,on){if(!(typeof on!="object"||!on)){if("premultiplyAlpha"in on&&(re.type(on.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),Ze.premultiplyAlpha=on.premultiplyAlpha),"flipY"in on&&(re.type(on.flipY,"boolean","invalid texture flip"),Ze.flipY=on.flipY),"alignment"in on&&(re.oneOf(on.alignment,[1,2,4,8],"invalid texture unpack alignment"),Ze.unpackAlignment=on.alignment),"colorSpace"in on&&(re.parameter(on.colorSpace,Nn,"invalid colorSpace"),Ze.colorSpace=Nn[on.colorSpace]),"type"in on){var an=on.type;re(Ae.oes_texture_float||!(an==="float"||an==="float32"),"you must enable the OES_texture_float extension in order to use floating point textures."),re(Ae.oes_texture_half_float||!(an==="half float"||an==="float16"),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),re(Ae.webgl_depth_texture||!(an==="uint16"||an==="uint32"||an==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),re.parameter(an,j,"invalid texture type"),Ze.type=j[an]}var gi=Ze.width,la=Ze.height,Ve=Ze.channels,Oe=!1;"shape"in on?(re(Array.isArray(on.shape)&&on.shape.length>=2,"shape must be an array"),gi=on.shape[0],la=on.shape[1],on.shape.length===3&&(Ve=on.shape[2],re(Ve>0&&Ve<=4,"invalid number of channels"),Oe=!0),re(gi>=0&&gi<=Qe.maxTextureSize,"invalid width"),re(la>=0&&la<=Qe.maxTextureSize,"invalid height")):("radius"in on&&(gi=la=on.radius,re(gi>=0&&gi<=Qe.maxTextureSize,"invalid radius")),"width"in on&&(gi=on.width,re(gi>=0&&gi<=Qe.maxTextureSize,"invalid width")),"height"in on&&(la=on.height,re(la>=0&&la<=Qe.maxTextureSize,"invalid height")),"channels"in on&&(Ve=on.channels,re(Ve>0&&Ve<=4,"invalid number of channels"),Oe=!0)),Ze.width=gi|0,Ze.height=la|0,Ze.channels=Ve|0;var vr=!1;if("format"in on){var Ur=on.format;re(Ae.webgl_depth_texture||!(Ur==="depth"||Ur==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),re.parameter(Ur,et,"invalid texture format");var Xr=Ze.internalformat=et[Ur];Ze.format=Ie[Xr],Ur in j&&("type"in on||(Ze.type=j[Ur])),Ur in wt&&(Ze.compressed=!0),vr=!0}!Oe&&vr?Ze.channels=ha[Ze.format]:Oe&&!vr?Ze.channels!==oc[Ze.format]&&(Ze.format=Ze.internalformat=oc[Ze.channels]):vr&&Oe&&re(Ze.channels===ha[Ze.format],"number of channels inconsistent with specified format")}}function pn(Ze){$t.pixelStorei(ks,Ze.flipY),$t.pixelStorei(uu,Ze.premultiplyAlpha),$t.pixelStorei(ac,Ze.colorSpace),$t.pixelStorei(Nc,Ze.unpackAlignment)}function Dr(){Pe.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function Pr(Ze,on){var an=null;if(qh(on)?an=on:on&&(re.type(on,"object","invalid pixel data type"),Ar(Ze,on),"x"in on&&(Ze.xOffset=on.x|0),"y"in on&&(Ze.yOffset=on.y|0),qh(on.data)&&(an=on.data)),re(!Ze.compressed||an instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),on.copy){re(!an,"can not specify copy and data field for the same texture");var gi=Lr.viewportWidth,la=Lr.viewportHeight;Ze.width=Ze.width||gi-Ze.xOffset,Ze.height=Ze.height||la-Ze.yOffset,Ze.needsCopy=!0,re(Ze.xOffset>=0&&Ze.xOffset<gi&&Ze.yOffset>=0&&Ze.yOffset<la&&Ze.width>0&&Ze.width<=gi&&Ze.height>0&&Ze.height<=la,"copy texture read out of bounds")}else if(!an)Ze.width=Ze.width||1,Ze.height=Ze.height||1,Ze.channels=Ze.channels||4;else if(R(an))Ze.channels=Ze.channels||4,Ze.data=an,!("type"in on)&&Ze.type===cl&&(Ze.type=ff(an));else if(co(an))Ze.channels=Ze.channels||4,Il(Ze,an),Ze.alignment=1,Ze.needsFree=!0;else if(Ys(an)){var Ve=an.data;!Array.isArray(Ve)&&Ze.type===cl&&(Ze.type=ff(Ve));var Oe=an.shape,vr=an.stride,Ur,Xr,gr,lr,Tr,Ue;Oe.length===3?(gr=Oe[2],Ue=vr[2]):(re(Oe.length===2,"invalid ndarray pixel data, must be 2 or 3D"),gr=1,Ue=1),Ur=Oe[0],Xr=Oe[1],lr=vr[0],Tr=vr[1],Ze.alignment=1,Ze.width=Ur,Ze.height=Xr,Ze.channels=gr,Ze.format=Ze.internalformat=oc[gr],Ze.needsFree=!0,vh(Ze,Ve,lr,Tr,Ue,an.offset)}else if(cf(an)||Jh(an)||cc(an))cf(an)||Jh(an)?Ze.element=an:Ze.element=an.canvas,Ze.width=Ze.element.width,Ze.height=Ze.element.height,Ze.channels=4;else if(hl(an))Ze.element=an,Ze.width=an.width,Ze.height=an.height,Ze.channels=4;else if(fc(an))Ze.element=an,Ze.width=an.naturalWidth,Ze.height=an.naturalHeight,Ze.channels=4;else if(Ml(an))Ze.element=an,Ze.width=an.videoWidth,Ze.height=an.videoHeight,Ze.channels=4;else if(Ff(an)){var sr=Ze.width||an[0].length,Be=Ze.height||an.length,wr=Ze.channels;eo(an[0][0])?wr=wr||an[0][0].length:wr=wr||1;for(var Jr=Oc.shape(an),bn=1,Cn=0;Cn<Jr.length;++Cn)bn*=Jr[Cn];var fn=Ol(Ze,bn);Oc.flatten(an,Jr,"",fn),Hu(Ze,fn),Ze.alignment=1,Ze.width=sr,Ze.height=Be,Ze.channels=wr,Ze.format=Ze.internalformat=oc[wr],Ze.needsFree=!0}Ze.type===$s?re(Qe.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):Ze.type===ro&&re(Qe.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function Rr(Ze,on,an){var gi=Ze.element,la=Ze.data,Ve=Ze.internalformat,Oe=Ze.format,vr=Ze.type,Ur=Ze.width,Xr=Ze.height;pn(Ze),gi?$t.texImage2D(on,an,Oe,Oe,vr,gi):Ze.compressed?$t.compressedTexImage2D(on,an,Ve,Ur,Xr,0,la):Ze.needsCopy?(Hr(),$t.copyTexImage2D(on,an,Oe,Ze.xOffset,Ze.yOffset,Ur,Xr,0)):$t.texImage2D(on,an,Oe,Ur,Xr,0,Oe,vr,la||null)}function zn(Ze,on,an,gi,la){var Ve=Ze.element,Oe=Ze.data,vr=Ze.internalformat,Ur=Ze.format,Xr=Ze.type,gr=Ze.width,lr=Ze.height;pn(Ze),Ve?$t.texSubImage2D(on,la,an,gi,Ur,Xr,Ve):Ze.compressed?$t.compressedTexSubImage2D(on,la,an,gi,vr,gr,lr,Oe):Ze.needsCopy?(Hr(),$t.copyTexSubImage2D(on,la,an,gi,Ze.xOffset,Ze.yOffset,gr,lr)):$t.texSubImage2D(on,la,an,gi,gr,lr,Ur,Xr,Oe)}var ni=[];function Qn(){return ni.pop()||new Dr}function Ti(Ze){Ze.needsFree&&sn.freeType(Ze.data),Dr.call(Ze),ni.push(Ze)}function li(){Pe.call(this),this.genMipmaps=!1,this.mipmapHint=An,this.mipmask=0,this.images=Array(16)}function Di(Ze,on,an){var gi=Ze.images[0]=Qn();Ze.mipmask=1,gi.width=Ze.width=on,gi.height=Ze.height=an,gi.channels=Ze.channels=4}function Wi(Ze,on){var an=null;if(qh(on))an=Ze.images[0]=Qn(),Ke(an,Ze),Pr(an,on),Ze.mipmask=1;else if(Ar(Ze,on),Array.isArray(on.mipmap))for(var gi=on.mipmap,la=0;la<gi.length;++la)an=Ze.images[la]=Qn(),Ke(an,Ze),an.width>>=la,an.height>>=la,Pr(an,gi[la]),Ze.mipmask|=1<<la;else an=Ze.images[0]=Qn(),Ke(an,Ze),Pr(an,on),Ze.mipmask=1;Ke(Ze,Ze.images[0]),Ze.compressed&&(Ze.internalformat===su||Ze.internalformat===gu||Ze.internalformat===hh||Ze.internalformat===Zh)&&re(Ze.width%4===0&&Ze.height%4===0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function zi(Ze,on){for(var an=Ze.images,gi=0;gi<an.length;++gi){if(!an[gi])return;Rr(an[gi],on,gi)}}var Pa=[];function Xi(){var Ze=Pa.pop()||new li;Pe.call(Ze),Ze.mipmask=0;for(var on=0;on<16;++on)Ze.images[on]=null;return Ze}function io(Ze){for(var on=Ze.images,an=0;an<on.length;++an)on[an]&&Ti(on[an]),on[an]=null;Pa.push(Ze)}function Ka(){this.minFilter=Ld,this.magFilter=Ld,this.wrapS=ev,this.wrapT=ev,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=An}function ma(Ze,on){if("min"in on){var an=on.min;re.parameter(an,Un),Ze.minFilter=Un[an],lf.indexOf(Ze.minFilter)>=0&&!("faces"in on)&&(Ze.genMipmaps=!0)}if("mag"in on){var gi=on.mag;re.parameter(gi,Hn),Ze.magFilter=Hn[gi]}var la=Ze.wrapS,Ve=Ze.wrapT;if("wrap"in on){var Oe=on.wrap;typeof Oe=="string"?(re.parameter(Oe,Yn),la=Ve=Yn[Oe]):Array.isArray(Oe)&&(re.parameter(Oe[0],Yn),re.parameter(Oe[1],Yn),la=Yn[Oe[0]],Ve=Yn[Oe[1]])}else{if("wrapS"in on){var vr=on.wrapS;re.parameter(vr,Yn),la=Yn[vr]}if("wrapT"in on){var Ur=on.wrapT;re.parameter(Ur,Yn),Ve=Yn[Ur]}}if(Ze.wrapS=la,Ze.wrapT=Ve,"anisotropic"in on){var Xr=on.anisotropic;re(typeof Xr=="number"&&Xr>=1&&Xr<=Qe.maxAnisotropic,"aniso samples must be between 1 and "),Ze.anisotropic=on.anisotropic}if("mipmap"in on){var gr=!1;switch(typeof on.mipmap){case"string":re.parameter(on.mipmap,Mn,"invalid mipmap hint"),Ze.mipmapHint=Mn[on.mipmap],Ze.genMipmaps=!0,gr=!0;break;case"boolean":gr=Ze.genMipmaps=on.mipmap;break;case"object":re(Array.isArray(on.mipmap),"invalid mipmap type"),Ze.genMipmaps=!1,gr=!0;break;default:re.raise("invalid mipmap type")}gr&&!("min"in on)&&(Ze.minFilter=_e)}}function vo(Ze,on){$t.texParameteri(on,np,Ze.minFilter),$t.texParameteri(on,Sp,Ze.magFilter),$t.texParameteri(on,Ov,Ze.wrapS),$t.texParameteri(on,uf,Ze.wrapT),Ae.ext_texture_filter_anisotropic&&$t.texParameteri(on,pi,Ze.anisotropic),Ze.genMipmaps&&($t.hint(hi,Ze.mipmapHint),$t.generateMipmap(on))}var fo=0,ao={},xo=Qe.maxTextureUnits,Fo=Array(xo).map(function(){return null});function Qi(Ze){Pe.call(this),this.mipmask=0,this.internalformat=rc,this.id=fo++,this.refCount=1,this.target=Ze,this.texture=$t.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new Ka,dn.profile&&(this.stats={size:0})}function Us(Ze){$t.activeTexture(Wu),$t.bindTexture(Ze.target,Ze.texture)}function Ga(){var Ze=Fo[0];Ze?$t.bindTexture(Ze.target,Ze.texture):$t.bindTexture(Xs,null)}function Ui(Ze){var on=Ze.texture;re(on,"must not double destroy texture");var an=Ze.unit,gi=Ze.target;an>=0&&($t.activeTexture(Wu+an),$t.bindTexture(gi,null),Fo[an]=null),$t.deleteTexture(on),Ze.texture=null,Ze.params=null,Ze.pixels=null,Ze.refCount=0,delete ao[Ze.id],rn.textureCount--}d(Qi.prototype,{bind:function(){var Ze=this;Ze.bindCount+=1;var on=Ze.unit;if(on<0){for(var an=0;an<xo;++an){var gi=Fo[an];if(gi){if(gi.bindCount>0)continue;gi.unit=-1}Fo[an]=Ze,on=an;break}on>=xo&&re.raise("insufficient number of texture units"),dn.profile&&rn.maxTextureUnits<on+1&&(rn.maxTextureUnits=on+1),Ze.unit=on,$t.activeTexture(Wu+on),$t.bindTexture(Ze.target,Ze.texture)}return on},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&Ui(this)}});function aa(Ze,on){var an=new Qi(Xs);ao[an.id]=an,rn.textureCount++;function gi(Oe,vr){var Ur=an.texInfo;Ka.call(Ur);var Xr=Xi();return typeof Oe=="number"?typeof vr=="number"?Di(Xr,Oe|0,vr|0):Di(Xr,Oe|0,Oe|0):Oe?(re.type(Oe,"object","invalid arguments to regl.texture"),ma(Ur,Oe),Wi(Xr,Oe)):Di(Xr,1,1),Ur.genMipmaps&&(Xr.mipmask=(Xr.width<<1)-1),an.mipmask=Xr.mipmask,Ke(an,Xr),re.texture2D(Ur,Xr,Qe),an.internalformat=Xr.internalformat,gi.width=Xr.width,gi.height=Xr.height,Us(an),zi(Xr,Xs),vo(Ur,Xs),Ga(),io(Xr),dn.profile&&(an.stats.size=Yu(an.internalformat,an.type,Xr.width,Xr.height,Ur.genMipmaps,!1)),gi.format=Ft[an.internalformat],gi.type=Yt[an.type],gi.mag=Qt[Ur.magFilter],gi.min=ee[Ur.minFilter],gi.wrapS=de[Ur.wrapS],gi.wrapT=de[Ur.wrapT],gi}function la(Oe,vr,Ur,Xr){re(!!Oe,"must specify image data");var gr=vr|0,lr=Ur|0,Tr=Xr|0,Ue=Qn();return Ke(Ue,an),Ue.width=0,Ue.height=0,Pr(Ue,Oe),Ue.width=Ue.width||(an.width>>Tr)-gr,Ue.height=Ue.height||(an.height>>Tr)-lr,re(an.type===Ue.type&&an.format===Ue.format&&an.internalformat===Ue.internalformat,"incompatible format for texture.subimage"),re(gr>=0&&lr>=0&&gr+Ue.width<=an.width&&lr+Ue.height<=an.height,"texture.subimage write out of bounds"),re(an.mipmask&1<<Tr,"missing mipmap data"),re(Ue.data||Ue.element||Ue.needsCopy,"missing image data"),Us(an),zn(Ue,Xs,gr,lr,Tr),Ga(),Ti(Ue),gi}function Ve(Oe,vr){var Ur=Oe|0,Xr=vr|0||Ur;if(Ur===an.width&&Xr===an.height)return gi;gi.width=an.width=Ur,gi.height=an.height=Xr,Us(an);for(var gr=0;an.mipmask>>gr;++gr){var lr=Ur>>gr,Tr=Xr>>gr;if(!lr||!Tr)break;$t.texImage2D(Xs,gr,an.format,lr,Tr,0,an.format,an.type,null)}return Ga(),dn.profile&&(an.stats.size=Yu(an.internalformat,an.type,Ur,Xr,!1,!1)),gi}return gi(Ze,on),gi.subimage=la,gi.resize=Ve,gi._reglType="texture2d",gi._texture=an,dn.profile&&(gi.stats=an.stats),gi.destroy=function(){an.decRef()},gi}function Ca(Ze,on,an,gi,la,Ve){var Oe=new Qi(Kh);ao[Oe.id]=Oe,rn.cubeCount++;var vr=new Array(6);function Ur(lr,Tr,Ue,sr,Be,wr){var Jr,bn=Oe.texInfo;for(Ka.call(bn),Jr=0;Jr<6;++Jr)vr[Jr]=Xi();if(typeof lr=="number"||!lr){var Cn=lr|0||1;for(Jr=0;Jr<6;++Jr)Di(vr[Jr],Cn,Cn)}else if(typeof lr=="object")if(Tr)Wi(vr[0],lr),Wi(vr[1],Tr),Wi(vr[2],Ue),Wi(vr[3],sr),Wi(vr[4],Be),Wi(vr[5],wr);else if(ma(bn,lr),Ar(Oe,lr),"faces"in lr){var fn=lr.faces;for(re(Array.isArray(fn)&&fn.length===6,"cube faces must be a length 6 array"),Jr=0;Jr<6;++Jr)re(typeof fn[Jr]=="object"&&!!fn[Jr],"invalid input for cube map face"),Ke(vr[Jr],Oe),Wi(vr[Jr],fn[Jr])}else for(Jr=0;Jr<6;++Jr)Wi(vr[Jr],lr);else re.raise("invalid arguments to cube map");for(Ke(Oe,vr[0]),Qe.npotTextureCube||re(ch(Oe.width)&&ch(Oe.height),"your browser does not support non power or two texture dimensions"),bn.genMipmaps?Oe.mipmask=(vr[0].width<<1)-1:Oe.mipmask=vr[0].mipmask,re.textureCube(Oe,bn,vr,Qe),Oe.internalformat=vr[0].internalformat,Ur.width=vr[0].width,Ur.height=vr[0].height,Us(Oe),Jr=0;Jr<6;++Jr)zi(vr[Jr],Of+Jr);for(vo(bn,Kh),Ga(),dn.profile&&(Oe.stats.size=Yu(Oe.internalformat,Oe.type,Ur.width,Ur.height,bn.genMipmaps,!0)),Ur.format=Ft[Oe.internalformat],Ur.type=Yt[Oe.type],Ur.mag=Qt[bn.magFilter],Ur.min=ee[bn.minFilter],Ur.wrapS=de[bn.wrapS],Ur.wrapT=de[bn.wrapT],Jr=0;Jr<6;++Jr)io(vr[Jr]);return Ur}function Xr(lr,Tr,Ue,sr,Be){re(!!Tr,"must specify image data"),re(typeof lr=="number"&&lr===(lr|0)&&lr>=0&&lr<6,"invalid face");var wr=Ue|0,Jr=sr|0,bn=Be|0,Cn=Qn();return Ke(Cn,Oe),Cn.width=0,Cn.height=0,Pr(Cn,Tr),Cn.width=Cn.width||(Oe.width>>bn)-wr,Cn.height=Cn.height||(Oe.height>>bn)-Jr,re(Oe.type===Cn.type&&Oe.format===Cn.format&&Oe.internalformat===Cn.internalformat,"incompatible format for texture.subimage"),re(wr>=0&&Jr>=0&&wr+Cn.width<=Oe.width&&Jr+Cn.height<=Oe.height,"texture.subimage write out of bounds"),re(Oe.mipmask&1<<bn,"missing mipmap data"),re(Cn.data||Cn.element||Cn.needsCopy,"missing image data"),Us(Oe),zn(Cn,Of+lr,wr,Jr,bn),Ga(),Ti(Cn),Ur}function gr(lr){var Tr=lr|0;if(Tr!==Oe.width){Ur.width=Oe.width=Tr,Ur.height=Oe.height=Tr,Us(Oe);for(var Ue=0;Ue<6;++Ue)for(var sr=0;Oe.mipmask>>sr;++sr)$t.texImage2D(Of+Ue,sr,Oe.format,Tr>>sr,Tr>>sr,0,Oe.format,Oe.type,null);return Ga(),dn.profile&&(Oe.stats.size=Yu(Oe.internalformat,Oe.type,Ur.width,Ur.height,!1,!0)),Ur}}return Ur(Ze,on,an,gi,la,Ve),Ur.subimage=Xr,Ur.resize=gr,Ur._reglType="textureCube",Ur._texture=Oe,dn.profile&&(Ur.stats=Oe.stats),Ur.destroy=function(){Oe.decRef()},Ur}function Ho(){for(var Ze=0;Ze<xo;++Ze)$t.activeTexture(Wu+Ze),$t.bindTexture(Xs,null),Fo[Ze]=null;Is(ao).forEach(Ui),rn.cubeCount=0,rn.textureCount=0}dn.profile&&(rn.getTotalTextureSize=function(){var Ze=0;return Object.keys(ao).forEach(function(on){Ze+=ao[on].stats.size}),Ze});function _u(){for(var Ze=0;Ze<xo;++Ze){var on=Fo[Ze];on&&(on.bindCount=0,on.unit=-1,Fo[Ze]=null)}Is(ao).forEach(function(an){an.texture=$t.createTexture(),$t.bindTexture(an.target,an.texture);for(var gi=0;gi<32;++gi)if((an.mipmask&1<<gi)!==0)if(an.target===Xs)$t.texImage2D(Xs,gi,an.internalformat,an.width>>gi,an.height>>gi,0,an.internalformat,an.type,null);else for(var la=0;la<6;++la)$t.texImage2D(Of+la,gi,an.internalformat,an.width>>gi,an.height>>gi,0,an.internalformat,an.type,null);vo(an.texInfo,an.target)})}function zl(){for(var Ze=0;Ze<xo;++Ze){var on=Fo[Ze];on&&(on.bindCount=0,on.unit=-1,Fo[Ze]=null),$t.activeTexture(Wu+Ze),$t.bindTexture(Xs,null),$t.bindTexture(Kh,null)}}return{create2D:aa,createCube:Ca,clear:Ho,getTexture:function(Ze){return null},restore:_u,refresh:zl}}var vi=36161,uo=32854,Ki=32855,Dl=36194,td=33189,dl=36168,hc=34041,dc=35907,bs=34836,Nf=34842,Ks=34843,Os=[];Os[uo]=2,Os[Ki]=2,Os[Dl]=2,Os[td]=2,Os[dl]=1,Os[hc]=4,Os[dc]=4,Os[bs]=16,Os[Nf]=8,Os[Ks]=6;function Xu($t,Ae,Qe){return Os[$t]*Ae*Qe}var Pl=function($t,Ae,Qe,Hr,Lr){var rn={rgba4:uo,rgb565:Dl,"rgb5 a1":Ki,depth:td,stencil:dl,"depth stencil":hc};Ae.ext_srgb&&(rn.srgba=dc),Ae.ext_color_buffer_half_float&&(rn.rgba16f=Nf,rn.rgb16f=Ks),Ae.webgl_color_buffer_float&&(rn.rgba32f=bs);var dn=[];Object.keys(rn).forEach(function(et){var wt=rn[et];dn[wt]=et});var Mn=0,Yn={};function Hn(et){this.id=Mn++,this.refCount=1,this.renderbuffer=et,this.format=uo,this.width=0,this.height=0,Lr.profile&&(this.stats={size:0})}Hn.prototype.decRef=function(){--this.refCount<=0&&Un(this)};function Un(et){var wt=et.renderbuffer;re(wt,"must not double destroy renderbuffer"),$t.bindRenderbuffer(vi,null),$t.deleteRenderbuffer(wt),et.renderbuffer=null,et.refCount=0,delete Yn[et.id],Hr.renderbufferCount--}function Nn(et,wt){var It=new Hn($t.createRenderbuffer());Yn[It.id]=It,Hr.renderbufferCount++;function Nt(Yt,Qt){var ee=0,de=0,Ie=uo;if(typeof Yt=="object"&&Yt){var Pe=Yt;if("shape"in Pe){var Ke=Pe.shape;re(Array.isArray(Ke)&&Ke.length>=2,"invalid renderbuffer shape"),ee=Ke[0]|0,de=Ke[1]|0}else"radius"in Pe&&(ee=de=Pe.radius|0),"width"in Pe&&(ee=Pe.width|0),"height"in Pe&&(de=Pe.height|0);"format"in Pe&&(re.parameter(Pe.format,rn,"invalid renderbuffer format"),Ie=rn[Pe.format])}else typeof Yt=="number"?(ee=Yt|0,typeof Qt=="number"?de=Qt|0:de=ee):Yt?re.raise("invalid arguments to renderbuffer constructor"):ee=de=1;if(re(ee>0&&de>0&&ee<=Qe.maxRenderbufferSize&&de<=Qe.maxRenderbufferSize,"invalid renderbuffer size"),!(ee===It.width&&de===It.height&&Ie===It.format))return Nt.width=It.width=ee,Nt.height=It.height=de,It.format=Ie,$t.bindRenderbuffer(vi,It.renderbuffer),$t.renderbufferStorage(vi,Ie,ee,de),re($t.getError()===0,"invalid render buffer format"),Lr.profile&&(It.stats.size=Xu(It.format,It.width,It.height)),Nt.format=dn[It.format],Nt}function Ft(Yt,Qt){var ee=Yt|0,de=Qt|0||ee;return ee===It.width&&de===It.height||(re(ee>0&&de>0&&ee<=Qe.maxRenderbufferSize&&de<=Qe.maxRenderbufferSize,"invalid renderbuffer size"),Nt.width=It.width=ee,Nt.height=It.height=de,$t.bindRenderbuffer(vi,It.renderbuffer),$t.renderbufferStorage(vi,It.format,ee,de),re($t.getError()===0,"invalid render buffer format"),Lr.profile&&(It.stats.size=Xu(It.format,It.width,It.height))),Nt}return Nt(et,wt),Nt.resize=Ft,Nt._reglType="renderbuffer",Nt._renderbuffer=It,Lr.profile&&(Nt.stats=It.stats),Nt.destroy=function(){It.decRef()},Nt}Lr.profile&&(Hr.getTotalRenderbufferSize=function(){var et=0;return Object.keys(Yn).forEach(function(wt){et+=Yn[wt].stats.size}),et});function j(){Is(Yn).forEach(function(et){et.renderbuffer=$t.createRenderbuffer(),$t.bindRenderbuffer(vi,et.renderbuffer),$t.renderbufferStorage(vi,et.format,et.width,et.height)}),$t.bindRenderbuffer(vi,null)}return{create:Nn,clear:function(){Is(Yn).forEach(Un)},restore:j}},Ao=36160,kf=36161,$u=3553,vl=34069,Co=36064,Uo=36096,Ku=36128,is=33306,Ds=36053,Re=36054,mu=36055,Es=36057,Zs=36061,wa=36193,ed=5121,Ss=5126,rd=6407,lu=6408,vc=6402,ph=[rd,lu],gh=[];gh[lu]=4,gh[rd]=3;var pc=[];pc[ed]=1,pc[Ss]=4,pc[wa]=2;var Bc=32854,pl=32855,Fd=36194,Dv=33189,nd=36168,Nd=34041,id=35907,gc=34836,Pv=34842,kd=34843,iv=[Bc,pl,Fd,id,Pv,kd,gc],cu={};cu[Ds]="complete",cu[Re]="incomplete attachment",cu[Es]="incomplete dimensions",cu[mu]="incomplete, missing attachment",cu[Zs]="unsupported";function yh($t,Ae,Qe,Hr,Lr,rn){var dn={cur:null,next:null,dirty:!1,setFBO:null},Mn=["rgba"],Yn=["rgba4","rgb565","rgb5 a1"];Ae.ext_srgb&&Yn.push("srgba"),Ae.ext_color_buffer_half_float&&Yn.push("rgba16f","rgb16f"),Ae.webgl_color_buffer_float&&Yn.push("rgba32f");var Hn=["uint8"];Ae.oes_texture_half_float&&Hn.push("half float","float16"),Ae.oes_texture_float&&Hn.push("float","float32");function Un(Dr,Pr,Rr){this.target=Dr,this.texture=Pr,this.renderbuffer=Rr;var zn=0,ni=0;Pr?(zn=Pr.width,ni=Pr.height):Rr&&(zn=Rr.width,ni=Rr.height),this.width=zn,this.height=ni}function Nn(Dr){Dr&&(Dr.texture&&Dr.texture._texture.decRef(),Dr.renderbuffer&&Dr.renderbuffer._renderbuffer.decRef())}function j(Dr,Pr,Rr){if(!!Dr)if(Dr.texture){var zn=Dr.texture._texture,ni=Math.max(1,zn.width),Qn=Math.max(1,zn.height);re(ni===Pr&&Qn===Rr,"inconsistent width/height for supplied texture"),zn.refCount+=1}else{var Ti=Dr.renderbuffer._renderbuffer;re(Ti.width===Pr&&Ti.height===Rr,"inconsistent width/height for renderbuffer"),Ti.refCount+=1}}function et(Dr,Pr){Pr&&(Pr.texture?$t.framebufferTexture2D(Ao,Dr,Pr.target,Pr.texture._texture.texture,0):$t.framebufferRenderbuffer(Ao,Dr,kf,Pr.renderbuffer._renderbuffer.renderbuffer))}function wt(Dr){var Pr=$u,Rr=null,zn=null,ni=Dr;typeof Dr=="object"&&(ni=Dr.data,"target"in Dr&&(Pr=Dr.target|0)),re.type(ni,"function","invalid attachment data");var Qn=ni._reglType;return Qn==="texture2d"?(Rr=ni,re(Pr===$u)):Qn==="textureCube"?(Rr=ni,re(Pr>=vl&&Pr<vl+6,"invalid cube map target")):Qn==="renderbuffer"?(zn=ni,Pr=kf):re.raise("invalid regl object for attachment"),new Un(Pr,Rr,zn)}function It(Dr,Pr,Rr,zn,ni){if(Rr){var Qn=Hr.create2D({width:Dr,height:Pr,format:zn,type:ni});return Qn._texture.refCount=0,new Un($u,Qn,null)}else{var Ti=Lr.create({width:Dr,height:Pr,format:zn});return Ti._renderbuffer.refCount=0,new Un(kf,null,Ti)}}function Nt(Dr){return Dr&&(Dr.texture||Dr.renderbuffer)}function Ft(Dr,Pr,Rr){Dr&&(Dr.texture?Dr.texture.resize(Pr,Rr):Dr.renderbuffer&&Dr.renderbuffer.resize(Pr,Rr),Dr.width=Pr,Dr.height=Rr)}var Yt=0,Qt={};function ee(){this.id=Yt++,Qt[this.id]=this,this.framebuffer=$t.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function de(Dr){Dr.colorAttachments.forEach(Nn),Nn(Dr.depthAttachment),Nn(Dr.stencilAttachment),Nn(Dr.depthStencilAttachment)}function Ie(Dr){var Pr=Dr.framebuffer;re(Pr,"must not double destroy framebuffer"),$t.deleteFramebuffer(Pr),Dr.framebuffer=null,rn.framebufferCount--,delete Qt[Dr.id]}function Pe(Dr){var Pr;$t.bindFramebuffer(Ao,Dr.framebuffer);var Rr=Dr.colorAttachments;for(Pr=0;Pr<Rr.length;++Pr)et(Co+Pr,Rr[Pr]);for(Pr=Rr.length;Pr<Qe.maxColorAttachments;++Pr)$t.framebufferTexture2D(Ao,Co+Pr,$u,null,0);$t.framebufferTexture2D(Ao,is,$u,null,0),$t.framebufferTexture2D(Ao,Uo,$u,null,0),$t.framebufferTexture2D(Ao,Ku,$u,null,0),et(Uo,Dr.depthAttachment),et(Ku,Dr.stencilAttachment),et(is,Dr.depthStencilAttachment);var zn=$t.checkFramebufferStatus(Ao);!$t.isContextLost()&&zn!==Ds&&re.raise("framebuffer configuration not supported, status = "+cu[zn]),$t.bindFramebuffer(Ao,dn.next?dn.next.framebuffer:null),dn.cur=dn.next,$t.getError()}function Ke(Dr,Pr){var Rr=new ee;rn.framebufferCount++;function zn(Qn,Ti){var li;re(dn.next!==Rr,"can not update framebuffer which is currently in use");var Di=0,Wi=0,zi=!0,Pa=!0,Xi=null,io=!0,Ka="rgba",ma="uint8",vo=1,fo=null,ao=null,xo=null,Fo=!1;if(typeof Qn=="number")Di=Qn|0,Wi=Ti|0||Di;else if(!Qn)Di=Wi=1;else{re.type(Qn,"object","invalid arguments for framebuffer");var Qi=Qn;if("shape"in Qi){var Us=Qi.shape;re(Array.isArray(Us)&&Us.length>=2,"invalid shape for framebuffer"),Di=Us[0],Wi=Us[1]}else"radius"in Qi&&(Di=Wi=Qi.radius),"width"in Qi&&(Di=Qi.width),"height"in Qi&&(Wi=Qi.height);("color"in Qi||"colors"in Qi)&&(Xi=Qi.color||Qi.colors,Array.isArray(Xi)&&re(Xi.length===1||Ae.webgl_draw_buffers,"multiple render targets not supported")),Xi||("colorCount"in Qi&&(vo=Qi.colorCount|0,re(vo>0,"invalid color buffer count")),"colorTexture"in Qi&&(io=!!Qi.colorTexture,Ka="rgba4"),"colorType"in Qi&&(ma=Qi.colorType,io?(re(Ae.oes_texture_float||!(ma==="float"||ma==="float32"),"you must enable OES_texture_float in order to use floating point framebuffer objects"),re(Ae.oes_texture_half_float||!(ma==="half float"||ma==="float16"),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):ma==="half float"||ma==="float16"?(re(Ae.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),Ka="rgba16f"):(ma==="float"||ma==="float32")&&(re(Ae.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),Ka="rgba32f"),re.oneOf(ma,Hn,"invalid color type")),"colorFormat"in Qi&&(Ka=Qi.colorFormat,Mn.indexOf(Ka)>=0?io=!0:Yn.indexOf(Ka)>=0?io=!1:io?re.oneOf(Qi.colorFormat,Mn,"invalid color format for texture"):re.oneOf(Qi.colorFormat,Yn,"invalid color format for renderbuffer"))),("depthTexture"in Qi||"depthStencilTexture"in Qi)&&(Fo=!!(Qi.depthTexture||Qi.depthStencilTexture),re(!Fo||Ae.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in Qi&&(typeof Qi.depth=="boolean"?zi=Qi.depth:(fo=Qi.depth,Pa=!1)),"stencil"in Qi&&(typeof Qi.stencil=="boolean"?Pa=Qi.stencil:(ao=Qi.stencil,zi=!1)),"depthStencil"in Qi&&(typeof Qi.depthStencil=="boolean"?zi=Pa=Qi.depthStencil:(xo=Qi.depthStencil,zi=!1,Pa=!1))}var Ga=null,Ui=null,aa=null,Ca=null;if(Array.isArray(Xi))Ga=Xi.map(wt);else if(Xi)Ga=[wt(Xi)];else for(Ga=new Array(vo),li=0;li<vo;++li)Ga[li]=It(Di,Wi,io,Ka,ma);re(Ae.webgl_draw_buffers||Ga.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),re(Ga.length<=Qe.maxColorAttachments,"too many color attachments, not supported"),Di=Di||Ga[0].width,Wi=Wi||Ga[0].height,fo?Ui=wt(fo):zi&&!Pa&&(Ui=It(Di,Wi,Fo,"depth","uint32")),ao?aa=wt(ao):Pa&&!zi&&(aa=It(Di,Wi,!1,"stencil","uint8")),xo?Ca=wt(xo):!fo&&!ao&&Pa&&zi&&(Ca=It(Di,Wi,Fo,"depth stencil","depth stencil")),re(!!fo+!!ao+!!xo<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var Ho=null;for(li=0;li<Ga.length;++li)if(j(Ga[li],Di,Wi),re(!Ga[li]||Ga[li].texture&&ph.indexOf(Ga[li].texture._texture.format)>=0||Ga[li].renderbuffer&&iv.indexOf(Ga[li].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+li+" is invalid"),Ga[li]&&Ga[li].texture){var _u=gh[Ga[li].texture._texture.format]*pc[Ga[li].texture._texture.type];Ho===null?Ho=_u:re(Ho===_u,"all color attachments much have the same number of bits per pixel.")}return j(Ui,Di,Wi),re(!Ui||Ui.texture&&Ui.texture._texture.format===vc||Ui.renderbuffer&&Ui.renderbuffer._renderbuffer.format===Dv,"invalid depth attachment for framebuffer object"),j(aa,Di,Wi),re(!aa||aa.renderbuffer&&aa.renderbuffer._renderbuffer.format===nd,"invalid stencil attachment for framebuffer object"),j(Ca,Di,Wi),re(!Ca||Ca.texture&&Ca.texture._texture.format===Nd||Ca.renderbuffer&&Ca.renderbuffer._renderbuffer.format===Nd,"invalid depth-stencil attachment for framebuffer object"),de(Rr),Rr.width=Di,Rr.height=Wi,Rr.colorAttachments=Ga,Rr.depthAttachment=Ui,Rr.stencilAttachment=aa,Rr.depthStencilAttachment=Ca,zn.color=Ga.map(Nt),zn.depth=Nt(Ui),zn.stencil=Nt(aa),zn.depthStencil=Nt(Ca),zn.width=Rr.width,zn.height=Rr.height,Pe(Rr),zn}function ni(Qn,Ti){re(dn.next!==Rr,"can not resize a framebuffer which is currently in use");var li=Math.max(Qn|0,1),Di=Math.max(Ti|0||li,1);if(li===Rr.width&&Di===Rr.height)return zn;for(var Wi=Rr.colorAttachments,zi=0;zi<Wi.length;++zi)Ft(Wi[zi],li,Di);return Ft(Rr.depthAttachment,li,Di),Ft(Rr.stencilAttachment,li,Di),Ft(Rr.depthStencilAttachment,li,Di),Rr.width=zn.width=li,Rr.height=zn.height=Di,Pe(Rr),zn}return zn(Dr,Pr),d(zn,{resize:ni,_reglType:"framebuffer",_framebuffer:Rr,destroy:function(){Ie(Rr),de(Rr)},use:function(Qn){dn.setFBO({framebuffer:zn},Qn)}})}function Ar(Dr){var Pr=Array(6);function Rr(ni){var Qn;re(Pr.indexOf(dn.next)<0,"can not update framebuffer which is currently in use");var Ti={color:null},li=0,Di=null,Wi="rgba",zi="uint8",Pa=1;if(typeof ni=="number")li=ni|0;else if(!ni)li=1;else{re.type(ni,"object","invalid arguments for framebuffer");var Xi=ni;if("shape"in Xi){var io=Xi.shape;re(Array.isArray(io)&&io.length>=2,"invalid shape for framebuffer"),re(io[0]===io[1],"cube framebuffer must be square"),li=io[0]}else"radius"in Xi&&(li=Xi.radius|0),"width"in Xi?(li=Xi.width|0,"height"in Xi&&re(Xi.height===li,"must be square")):"height"in Xi&&(li=Xi.height|0);("color"in Xi||"colors"in Xi)&&(Di=Xi.color||Xi.colors,Array.isArray(Di)&&re(Di.length===1||Ae.webgl_draw_buffers,"multiple render targets not supported")),Di||("colorCount"in Xi&&(Pa=Xi.colorCount|0,re(Pa>0,"invalid color buffer count")),"colorType"in Xi&&(re.oneOf(Xi.colorType,Hn,"invalid color type"),zi=Xi.colorType),"colorFormat"in Xi&&(Wi=Xi.colorFormat,re.oneOf(Xi.colorFormat,Mn,"invalid color format for texture"))),"depth"in Xi&&(Ti.depth=Xi.depth),"stencil"in Xi&&(Ti.stencil=Xi.stencil),"depthStencil"in Xi&&(Ti.depthStencil=Xi.depthStencil)}var Ka;if(Di)if(Array.isArray(Di))for(Ka=[],Qn=0;Qn<Di.length;++Qn)Ka[Qn]=Di[Qn];else Ka=[Di];else{Ka=Array(Pa);var ma={radius:li,format:Wi,type:zi};for(Qn=0;Qn<Pa;++Qn)Ka[Qn]=Hr.createCube(ma)}for(Ti.color=Array(Ka.length),Qn=0;Qn<Ka.length;++Qn){var vo=Ka[Qn];re(typeof vo=="function"&&vo._reglType==="textureCube","invalid cube map"),li=li||vo.width,re(vo.width===li&&vo.height===li,"invalid cube map shape"),Ti.color[Qn]={target:vl,data:Ka[Qn]}}for(Qn=0;Qn<6;++Qn){for(var fo=0;fo<Ka.length;++fo)Ti.color[fo].target=vl+Qn;Qn>0&&(Ti.depth=Pr[0].depth,Ti.stencil=Pr[0].stencil,Ti.depthStencil=Pr[0].depthStencil),Pr[Qn]?Pr[Qn](Ti):Pr[Qn]=Ke(Ti)}return d(Rr,{width:li,height:li,color:Ka})}function zn(ni){var Qn,Ti=ni|0;if(re(Ti>0&&Ti<=Qe.maxCubeMapSize,"invalid radius for cube fbo"),Ti===Rr.width)return Rr;var li=Rr.color;for(Qn=0;Qn<li.length;++Qn)li[Qn].resize(Ti);for(Qn=0;Qn<6;++Qn)Pr[Qn].resize(Ti);return Rr.width=Rr.height=Ti,Rr}return Rr(Dr),d(Rr,{faces:Pr,resize:zn,_reglType:"framebufferCube",destroy:function(){Pr.forEach(function(ni){ni.destroy()})}})}function pn(){dn.cur=null,dn.next=null,dn.dirty=!0,Is(Qt).forEach(function(Dr){Dr.framebuffer=$t.createFramebuffer(),Pe(Dr)})}return d(dn,{getFramebuffer:function(Dr){if(typeof Dr=="function"&&Dr._reglType==="framebuffer"){var Pr=Dr._framebuffer;if(Pr instanceof ee)return Pr}return null},create:Ke,createCube:Ar,clear:function(){Is(Qt).forEach(Ie)},restore:pn})}var Ll=5126,ad=34962;function ts(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=Ll,this.offset=0,this.stride=0,this.divisor=0}function Qs($t,Ae,Qe,Hr,Lr){for(var rn=Qe.maxAttributes,dn=new Array(rn),Mn=0;Mn<rn;++Mn)dn[Mn]=new ts;var Yn=0,Hn={},Un={Record:ts,scope:{},state:dn,currentVAO:null,targetVAO:null,restore:j()?Qt:function(){},createVAO:ee,getVAO:wt,destroyBuffer:Nn,setVAO:j()?It:Nt,clear:j()?Ft:function(){}};function Nn(de){for(var Ie=0;Ie<dn.length;++Ie){var Pe=dn[Ie];Pe.buffer===de&&($t.disableVertexAttribArray(Ie),Pe.buffer=null)}}function j(){return Ae.oes_vertex_array_object}function et(){return Ae.angle_instanced_arrays}function wt(de){return typeof de=="function"&&de._vao?de._vao:null}function It(de){if(de!==Un.currentVAO){var Ie=j();de?Ie.bindVertexArrayOES(de.vao):Ie.bindVertexArrayOES(null),Un.currentVAO=de}}function Nt(de){if(de!==Un.currentVAO){if(de)de.bindAttrs();else for(var Ie=et(),Pe=0;Pe<dn.length;++Pe){var Ke=dn[Pe];Ke.buffer?($t.enableVertexAttribArray(Pe),$t.vertexAttribPointer(Pe,Ke.size,Ke.type,Ke.normalized,Ke.stride,Ke.offfset),Ie&&Ke.divisor&&Ie.vertexAttribDivisorANGLE(Pe,Ke.divisor)):($t.disableVertexAttribArray(Pe),$t.vertexAttrib4f(Pe,Ke.x,Ke.y,Ke.z,Ke.w))}Un.currentVAO=de}}function Ft(){Is(Hn).forEach(function(de){de.destroy()})}function Yt(){this.id=++Yn,this.attributes=[];var de=j();de?this.vao=de.createVertexArrayOES():this.vao=null,Hn[this.id]=this,this.buffers=[]}Yt.prototype.bindAttrs=function(){for(var de=et(),Ie=this.attributes,Pe=0;Pe<Ie.length;++Pe){var Ke=Ie[Pe];Ke.buffer?($t.enableVertexAttribArray(Pe),$t.bindBuffer(ad,Ke.buffer.buffer),$t.vertexAttribPointer(Pe,Ke.size,Ke.type,Ke.normalized,Ke.stride,Ke.offset),de&&Ke.divisor&&de.vertexAttribDivisorANGLE(Pe,Ke.divisor)):($t.disableVertexAttribArray(Pe),$t.vertexAttrib4f(Pe,Ke.x,Ke.y,Ke.z,Ke.w))}for(var Ar=Ie.length;Ar<rn;++Ar)$t.disableVertexAttribArray(Ar)},Yt.prototype.refresh=function(){var de=j();de&&(de.bindVertexArrayOES(this.vao),this.bindAttrs(),Un.currentVAO=this)},Yt.prototype.destroy=function(){if(this.vao){var de=j();this===Un.currentVAO&&(Un.currentVAO=null,de.bindVertexArrayOES(null)),de.deleteVertexArrayOES(this.vao),this.vao=null}Hn[this.id]&&(delete Hn[this.id],Hr.vaoCount-=1)};function Qt(){var de=j();de&&Is(Hn).forEach(function(Ie){Ie.refresh()})}function ee(de){var Ie=new Yt;Hr.vaoCount+=1;function Pe(Ke){re(Array.isArray(Ke),"arguments to vertex array constructor must be an array"),re(Ke.length<rn,"too many attributes"),re(Ke.length>0,"must specify at least one attribute");var Ar={},pn=Ie.attributes;pn.length=Ke.length;for(var Dr=0;Dr<Ke.length;++Dr){var Pr=Ke[Dr],Rr=pn[Dr]=new ts,zn=Pr.data||Pr;if(Array.isArray(zn)||R(zn)||Ys(zn)){var ni;Ie.buffers[Dr]&&(ni=Ie.buffers[Dr],R(zn)&&ni._buffer.byteLength>=zn.byteLength?ni.subdata(zn):(ni.destroy(),Ie.buffers[Dr]=null)),Ie.buffers[Dr]||(ni=Ie.buffers[Dr]=Lr.create(Pr,ad,!1,!0)),Rr.buffer=Lr.getBuffer(ni),Rr.size=Rr.buffer.dimension|0,Rr.normalized=!1,Rr.type=Rr.buffer.dtype,Rr.offset=0,Rr.stride=0,Rr.divisor=0,Rr.state=1,Ar[Dr]=1}else Lr.getBuffer(Pr)?(Rr.buffer=Lr.getBuffer(Pr),Rr.size=Rr.buffer.dimension|0,Rr.normalized=!1,Rr.type=Rr.buffer.dtype,Rr.offset=0,Rr.stride=0,Rr.divisor=0,Rr.state=1):Lr.getBuffer(Pr.buffer)?(Rr.buffer=Lr.getBuffer(Pr.buffer),Rr.size=(+Pr.size||Rr.buffer.dimension)|0,Rr.normalized=!!Pr.normalized||!1,"type"in Pr?(re.parameter(Pr.type,Ql,"invalid buffer type"),Rr.type=Ql[Pr.type]):Rr.type=Rr.buffer.dtype,Rr.offset=(Pr.offset||0)|0,Rr.stride=(Pr.stride||0)|0,Rr.divisor=(Pr.divisor||0)|0,Rr.state=1,re(Rr.size>=1&&Rr.size<=4,"size must be between 1 and 4"),re(Rr.offset>=0,"invalid offset"),re(Rr.stride>=0&&Rr.stride<=255,"stride must be between 0 and 255"),re(Rr.divisor>=0,"divisor must be positive"),re(!Rr.divisor||!!Ae.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in Pr?(re(Dr>0,"first attribute must not be a constant"),Rr.x=+Pr.x||0,Rr.y=+Pr.y||0,Rr.z=+Pr.z||0,Rr.w=+Pr.w||0,Rr.state=2):re(!1,"invalid attribute spec for location "+Dr)}for(var Qn=0;Qn<Ie.buffers.length;++Qn)!Ar[Qn]&&Ie.buffers[Qn]&&(Ie.buffers[Qn].destroy(),Ie.buffers[Qn]=null);return Ie.refresh(),Pe}return Pe.destroy=function(){for(var Ke=0;Ke<Ie.buffers.length;++Ke)Ie.buffers[Ke]&&Ie.buffers[Ke].destroy();Ie.buffers.length=0,Ie.destroy()},Pe._vao=Ie,Pe._reglType="vao",Pe(de)}return Un}var mh=35632,hf=35633,fu=35718,gl=35721;function ws($t,Ae,Qe,Hr){var Lr={},rn={};function dn(It,Nt,Ft,Yt){this.name=It,this.id=Nt,this.location=Ft,this.info=Yt}function Mn(It,Nt){for(var Ft=0;Ft<It.length;++Ft)if(It[Ft].id===Nt.id){It[Ft].location=Nt.location;return}It.push(Nt)}function Yn(It,Nt,Ft){var Yt=It===mh?Lr:rn,Qt=Yt[Nt];if(!Qt){var ee=Ae.str(Nt);Qt=$t.createShader(It),$t.shaderSource(Qt,ee),$t.compileShader(Qt),re.shaderError($t,Qt,ee,It,Ft),Yt[Nt]=Qt}return Qt}var Hn={},Un=[],Nn=0;function j(It,Nt){this.id=Nn++,this.fragId=It,this.vertId=Nt,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,Hr.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function et(It,Nt,Ft){var Yt,Qt,ee=Yn(mh,It.fragId),de=Yn(hf,It.vertId),Ie=It.program=$t.createProgram();if($t.attachShader(Ie,ee),$t.attachShader(Ie,de),Ft)for(Yt=0;Yt<Ft.length;++Yt){var Pe=Ft[Yt];$t.bindAttribLocation(Ie,Pe[0],Pe[1])}$t.linkProgram(Ie),re.linkError($t,Ie,Ae.str(It.fragId),Ae.str(It.vertId),Nt);var Ke=$t.getProgramParameter(Ie,fu);Hr.profile&&(It.stats.uniformsCount=Ke);var Ar=It.uniforms;for(Yt=0;Yt<Ke;++Yt)if(Qt=$t.getActiveUniform(Ie,Yt),Qt)if(Qt.size>1)for(var pn=0;pn<Qt.size;++pn){var Dr=Qt.name.replace("[0]","["+pn+"]");Mn(Ar,new dn(Dr,Ae.id(Dr),$t.getUniformLocation(Ie,Dr),Qt))}else Mn(Ar,new dn(Qt.name,Ae.id(Qt.name),$t.getUniformLocation(Ie,Qt.name),Qt));var Pr=$t.getProgramParameter(Ie,gl);Hr.profile&&(It.stats.attributesCount=Pr);var Rr=It.attributes;for(Yt=0;Yt<Pr;++Yt)Qt=$t.getActiveAttrib(Ie,Yt),Qt&&Mn(Rr,new dn(Qt.name,Ae.id(Qt.name),$t.getAttribLocation(Ie,Qt.name),Qt))}Hr.profile&&(Qe.getMaxUniformsCount=function(){var It=0;return Un.forEach(function(Nt){Nt.stats.uniformsCount>It&&(It=Nt.stats.uniformsCount)}),It},Qe.getMaxAttributesCount=function(){var It=0;return Un.forEach(function(Nt){Nt.stats.attributesCount>It&&(It=Nt.stats.attributesCount)}),It});function wt(){Lr={},rn={};for(var It=0;It<Un.length;++It)et(Un[It],null,Un[It].attributes.map(function(Nt){return[Nt.location,Nt.name]}))}return{clear:function(){var It=$t.deleteShader.bind($t);Is(Lr).forEach(It),Lr={},Is(rn).forEach(It),rn={},Un.forEach(function(Nt){$t.deleteProgram(Nt.program)}),Un.length=0,Hn={},Qe.shaderCount=0},program:function(It,Nt,Ft,Yt){re.command(It>=0,"missing vertex shader",Ft),re.command(Nt>=0,"missing fragment shader",Ft);var Qt=Hn[Nt];Qt||(Qt=Hn[Nt]={});var ee=Qt[It];if(ee&&(ee.refCount++,!Yt))return ee;var de=new j(Nt,It);return Qe.shaderCount++,et(de,Ft,Yt),ee||(Qt[It]=de),Un.push(de),d(de,{destroy:function(){if(de.refCount--,de.refCount<=0){$t.deleteProgram(de.program);var Ie=Un.indexOf(de);Un.splice(Ie,1),Qe.shaderCount--}Qt[de.vertId].refCount<=0&&($t.deleteShader(rn[de.vertId]),delete rn[de.vertId],delete Hn[de.fragId][de.vertId]),Object.keys(Hn[de.fragId]).length||($t.deleteShader(Lr[de.fragId]),delete Lr[de.fragId],delete Hn[de.fragId])}})},restore:wt,shader:Yn,frag:-1,vert:-1}}var wp=6408,vs=5121,Bd=3333,od=5126;function Da($t,Ae,Qe,Hr,Lr,rn,dn){function Mn(Un){var Nn;Ae.next===null?(re(Lr.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),Nn=vs):(re(Ae.next.colorAttachments[0].texture!==null,"You cannot read from a renderbuffer"),Nn=Ae.next.colorAttachments[0].texture._texture.type,rn.oes_texture_float?(re(Nn===vs||Nn===od,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),Nn===od&&re(dn.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):re(Nn===vs,"Reading from a framebuffer is only allowed for the type 'uint8'"));var j=0,et=0,wt=Hr.framebufferWidth,It=Hr.framebufferHeight,Nt=null;R(Un)?Nt=Un:Un&&(re.type(Un,"object","invalid arguments to regl.read()"),j=Un.x|0,et=Un.y|0,re(j>=0&&j<Hr.framebufferWidth,"invalid x offset for regl.read"),re(et>=0&&et<Hr.framebufferHeight,"invalid y offset for regl.read"),wt=(Un.width||Hr.framebufferWidth-j)|0,It=(Un.height||Hr.framebufferHeight-et)|0,Nt=Un.data||null),Nt&&(Nn===vs?re(Nt instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):Nn===od&&re(Nt instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),re(wt>0&&wt+j<=Hr.framebufferWidth,"invalid width for read pixels"),re(It>0&&It+et<=Hr.framebufferHeight,"invalid height for read pixels"),Qe();var Ft=wt*It*4;return Nt||(Nn===vs?Nt=new Uint8Array(Ft):Nn===od&&(Nt=Nt||new Float32Array(Ft))),re.isTypedArray(Nt,"data buffer for regl.read() must be a typedarray"),re(Nt.byteLength>=Ft,"data buffer for regl.read() too small"),$t.pixelStorei(Bd,4),$t.readPixels(j,et,wt,It,wp,Nn,Nt),Nt}function Yn(Un){var Nn;return Ae.setFBO({framebuffer:Un.framebuffer},function(){Nn=Mn(Un)}),Nn}function Hn(Un){return!Un||!("framebuffer"in Un)?Mn(Un):Yn(Un)}return Hn}function Zu($t){return Array.prototype.slice.call($t)}function Gc($t){return Zu($t).join("")}function Lv(){var $t=0,Ae=[],Qe=[];function Hr(Nn){for(var j=0;j<Qe.length;++j)if(Qe[j]===Nn)return Ae[j];var et="g"+$t++;return Ae.push(et),Qe.push(Nn),et}function Lr(){var Nn=[];function j(){Nn.push.apply(Nn,Zu(arguments))}var et=[];function wt(){var It="v"+$t++;return et.push(It),arguments.length>0&&(Nn.push(It,"="),Nn.push.apply(Nn,Zu(arguments)),Nn.push(";")),It}return d(j,{def:wt,toString:function(){return Gc([et.length>0?"var "+et.join(",")+";":"",Gc(Nn)])}})}function rn(){var Nn=Lr(),j=Lr(),et=Nn.toString,wt=j.toString;function It(Nt,Ft){j(Nt,Ft,"=",Nn.def(Nt,Ft),";")}return d(function(){Nn.apply(Nn,Zu(arguments))},{def:Nn.def,entry:Nn,exit:j,save:It,set:function(Nt,Ft,Yt){It(Nt,Ft),Nn(Nt,Ft,"=",Yt,";")},toString:function(){return et()+wt()}})}function dn(){var Nn=Gc(arguments),j=rn(),et=rn(),wt=j.toString,It=et.toString;return d(j,{then:function(){return j.apply(j,Zu(arguments)),this},else:function(){return et.apply(et,Zu(arguments)),this},toString:function(){var Nt=It();return Nt&&(Nt="else{"+Nt+"}"),Gc(["if(",Nn,"){",wt(),"}",Nt])}})}var Mn=Lr(),Yn={};function Hn(Nn,j){var et=[];function wt(){var Qt="a"+et.length;return et.push(Qt),Qt}j=j||0;for(var It=0;It<j;++It)wt();var Nt=rn(),Ft=Nt.toString,Yt=Yn[Nn]=d(Nt,{arg:wt,toString:function(){return Gc(["function(",et.join(),"){",Ft(),"}"])}});return Yt}function Un(){var Nn=['"use strict";',Mn,"return {"];Object.keys(Yn).forEach(function(wt){Nn.push('"',wt,'":',Yn[wt].toString(),",")}),Nn.push("}");var j=Gc(Nn).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),et=Function.apply(null,Ae.concat(j));return et.apply(null,Qe)}return{global:Mn,link:Hr,block:Lr,proc:Hn,scope:rn,cond:dn,compile:Un}}var xh="xyzw".split(""),bh=5121,_a=1,To=2,Qu=0,Ua=1,yc=2,xu=3,sd=4,Js=5,df=6,Rv="dither",Eh="blend.enable",Ps="blend.color",ud="blend.equation",av="blend.func",Bs="depth.enable",ld="depth.func",cd="depth.range",hu="depth.mask",Bf="colorMask",dr="cull.enable",zc="cull.face",Uc="frontFace",jo="lineWidth",Rl="polygonOffset.enable",Gf="polygonOffset.offset",Gd="sample.alpha",Sh="sample.enable",Lu="sample.coverage",vf="stencil.enable",zf="stencil.mask",Uf="stencil.func",Na="stencil.opFront",jc="stencil.opBack",bu="scissor.enable",Gs="scissor.box",es="viewport",Fl="profile",mc="framebuffer",ka="vert",jf="frag",yl="elements",Wc="primitive",du="count",Eu="offset",Ru="instances",ps="vao",Nl="Width",Wo="Height",Vo=mc+Nl,Mo=mc+Wo,Wf=es+Nl,Vf=es+Wo,zs="drawingBuffer",wh=zs+Nl,_h=zs+Wo,kl=[av,ud,Uf,Na,jc,Lu,es,Gs,Gf],vu=34962,Su=34963,ml=35632,pf=35633,Aa=3553,Fv=34067,Nv=2884,xc=3042,Ah=3024,ov=2960,Ls=2929,_s=3089,Hf=32823,Ch=32926,Bl=32928,Ju=5126,as=35664,os=35665,wu=35666,Vc=5124,Th=35667,Yf=35668,Xf=35669,Hc=35670,fd=35671,hd=35672,Mh=35673,Gl=35674,Fu=35675,Lo=35676,gf=35678,bc=35680,yf=4,Ec=1028,Sc=1029,mf=2304,Yc=2305,xl=32775,xf=32776,Ih=519,qs=7680,As=0,bl=1,dd=32774,wc=513,Nu=36160,Xc=36064,Ro={"0":0,"1":1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Oh=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],qu={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},tl={"0":0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},El={frag:ml,vert:pf},Sl={cw:mf,ccw:Yc};function bf($t){return Array.isArray($t)||R($t)||Ys($t)}function ya($t){return $t.sort(function(Ae,Qe){return Ae===es?-1:Qe===es?1:Ae<Qe?-1:1})}function ss($t,Ae,Qe,Hr){this.thisDep=$t,this.contextDep=Ae,this.propDep=Qe,this.append=Hr}function Cs($t){return $t&&!($t.thisDep||$t.contextDep||$t.propDep)}function no($t){return new ss(!1,!1,!1,$t)}function Io($t,Ae){var Qe=$t.type;if(Qe===Qu){var Hr=$t.data.length;return new ss(!0,Hr>=1,Hr>=2,Ae)}else if(Qe===sd){var Lr=$t.data;return new ss(Lr.thisDep,Lr.contextDep,Lr.propDep,Ae)}else{if(Qe===Js)return new ss(!1,!1,!1,Ae);if(Qe===df){for(var rn=!1,dn=!1,Mn=!1,Yn=0;Yn<$t.data.length;++Yn){var Hn=$t.data[Yn];if(Hn.type===Ua)Mn=!0;else if(Hn.type===yc)dn=!0;else if(Hn.type===xu)rn=!0;else if(Hn.type===Qu){rn=!0;var Un=Hn.data;Un>=1&&(dn=!0),Un>=2&&(Mn=!0)}else Hn.type===sd&&(rn=rn||Hn.data.thisDep,dn=dn||Hn.data.contextDep,Mn=Mn||Hn.data.propDep)}return new ss(rn,dn,Mn,Ae)}else return new ss(Qe===xu,Qe===yc,Qe===Ua,Ae)}}var _c=new ss(!1,!1,!1,function(){});function vd($t,Ae,Qe,Hr,Lr,rn,dn,Mn,Yn,Hn,Un,Nn,j,et,wt){var It=Hn.Record,Nt={add:32774,subtract:32778,"reverse subtract":32779};Qe.ext_blend_minmax&&(Nt.min=xl,Nt.max=xf);var Ft=Qe.angle_instanced_arrays,Yt=Qe.webgl_draw_buffers,Qt={dirty:!0,profile:wt.profile},ee={},de=[],Ie={},Pe={};function Ke(Ve){return Ve.replace(".","_")}function Ar(Ve,Oe,vr){var Ur=Ke(Ve);de.push(Ve),ee[Ur]=Qt[Ur]=!!vr,Ie[Ur]=Oe}function pn(Ve,Oe,vr){var Ur=Ke(Ve);de.push(Ve),Array.isArray(vr)?(Qt[Ur]=vr.slice(),ee[Ur]=vr.slice()):Qt[Ur]=ee[Ur]=vr,Pe[Ur]=Oe}Ar(Rv,Ah),Ar(Eh,xc),pn(Ps,"blendColor",[0,0,0,0]),pn(ud,"blendEquationSeparate",[dd,dd]),pn(av,"blendFuncSeparate",[bl,As,bl,As]),Ar(Bs,Ls,!0),pn(ld,"depthFunc",wc),pn(cd,"depthRange",[0,1]),pn(hu,"depthMask",!0),pn(Bf,Bf,[!0,!0,!0,!0]),Ar(dr,Nv),pn(zc,"cullFace",Sc),pn(Uc,Uc,Yc),pn(jo,jo,1),Ar(Rl,Hf),pn(Gf,"polygonOffset",[0,0]),Ar(Gd,Ch),Ar(Sh,Bl),pn(Lu,"sampleCoverage",[1,!1]),Ar(vf,ov),pn(zf,"stencilMask",-1),pn(Uf,"stencilFunc",[Ih,0,-1]),pn(Na,"stencilOpSeparate",[Ec,qs,qs,qs]),pn(jc,"stencilOpSeparate",[Sc,qs,qs,qs]),Ar(bu,_s),pn(Gs,"scissor",[0,0,$t.drawingBufferWidth,$t.drawingBufferHeight]),pn(es,es,[0,0,$t.drawingBufferWidth,$t.drawingBufferHeight]);var Dr={gl:$t,context:j,strings:Ae,next:ee,current:Qt,draw:Nn,elements:rn,buffer:Lr,shader:Un,attributes:Hn.state,vao:Hn,uniforms:Yn,framebuffer:Mn,extensions:Qe,timer:et,isBufferArgs:bf},Pr={primTypes:zu,compareFuncs:qu,blendFuncs:Ro,blendEquations:Nt,stencilOps:tl,glTypes:Ql,orientationType:Sl};re.optional(function(){Dr.isArrayLike=eo}),Yt&&(Pr.backBuffer=[Sc],Pr.drawBuffer=pt(Hr.maxDrawbuffers,function(Ve){return Ve===0?[0]:pt(Ve,function(Oe){return Xc+Oe})}));var Rr=0;function zn(){var Ve=Lv(),Oe=Ve.link,vr=Ve.global;Ve.id=Rr++,Ve.batchId="0";var Ur=Oe(Dr),Xr=Ve.shared={props:"a0"};Object.keys(Dr).forEach(function(sr){Xr[sr]=vr.def(Ur,".",sr)}),re.optional(function(){Ve.CHECK=Oe(re),Ve.commandStr=re.guessCommand(),Ve.command=Oe(Ve.commandStr),Ve.assert=function(sr,Be,wr){sr("if(!(",Be,"))",this.CHECK,".commandRaise(",Oe(wr),",",this.command,");")},Pr.invalidBlendCombinations=Oh});var gr=Ve.next={},lr=Ve.current={};Object.keys(Pe).forEach(function(sr){Array.isArray(Qt[sr])&&(gr[sr]=vr.def(Xr.next,".",sr),lr[sr]=vr.def(Xr.current,".",sr))});var Tr=Ve.constants={};Object.keys(Pr).forEach(function(sr){Tr[sr]=vr.def(JSON.stringify(Pr[sr]))}),Ve.invoke=function(sr,Be){switch(Be.type){case Qu:var wr=["this",Xr.context,Xr.props,Ve.batchId];return sr.def(Oe(Be.data),".call(",wr.slice(0,Math.max(Be.data.length+1,4)),")");case Ua:return sr.def(Xr.props,Be.data);case yc:return sr.def(Xr.context,Be.data);case xu:return sr.def("this",Be.data);case sd:return Be.data.append(Ve,sr),Be.data.ref;case Js:return Be.data.toString();case df:return Be.data.map(function(Jr){return Ve.invoke(sr,Jr)})}},Ve.attribCache={};var Ue={};return Ve.scopeAttrib=function(sr){var Be=Ae.id(sr);if(Be in Ue)return Ue[Be];var wr=Hn.scope[Be];wr||(wr=Hn.scope[Be]=new It);var Jr=Ue[Be]=Oe(wr);return Jr},Ve}function ni(Ve){var Oe=Ve.static,vr=Ve.dynamic,Ur;if(Fl in Oe){var Xr=!!Oe[Fl];Ur=no(function(lr,Tr){return Xr}),Ur.enable=Xr}else if(Fl in vr){var gr=vr[Fl];Ur=Io(gr,function(lr,Tr){return lr.invoke(Tr,gr)})}return Ur}function Qn(Ve,Oe){var vr=Ve.static,Ur=Ve.dynamic;if(mc in vr){var Xr=vr[mc];return Xr?(Xr=Mn.getFramebuffer(Xr),re.command(Xr,"invalid framebuffer object"),no(function(lr,Tr){var Ue=lr.link(Xr),sr=lr.shared;Tr.set(sr.framebuffer,".next",Ue);var Be=sr.context;return Tr.set(Be,"."+Vo,Ue+".width"),Tr.set(Be,"."+Mo,Ue+".height"),Ue})):no(function(lr,Tr){var Ue=lr.shared;Tr.set(Ue.framebuffer,".next","null");var sr=Ue.context;return Tr.set(sr,"."+Vo,sr+"."+wh),Tr.set(sr,"."+Mo,sr+"."+_h),"null"})}else if(mc in Ur){var gr=Ur[mc];return Io(gr,function(lr,Tr){var Ue=lr.invoke(Tr,gr),sr=lr.shared,Be=sr.framebuffer,wr=Tr.def(Be,".getFramebuffer(",Ue,")");re.optional(function(){lr.assert(Tr,"!"+Ue+"||"+wr,"invalid framebuffer object")}),Tr.set(Be,".next",wr);var Jr=sr.context;return Tr.set(Jr,"."+Vo,wr+"?"+wr+".width:"+Jr+"."+wh),Tr.set(Jr,"."+Mo,wr+"?"+wr+".height:"+Jr+"."+_h),wr})}else return null}function Ti(Ve,Oe,vr){var Ur=Ve.static,Xr=Ve.dynamic;function gr(Ue){if(Ue in Ur){var sr=Ur[Ue];re.commandType(sr,"object","invalid "+Ue,vr.commandStr);var Be=!0,wr=sr.x|0,Jr=sr.y|0,bn,Cn;return"width"in sr?(bn=sr.width|0,re.command(bn>=0,"invalid "+Ue,vr.commandStr)):Be=!1,"height"in sr?(Cn=sr.height|0,re.command(Cn>=0,"invalid "+Ue,vr.commandStr)):Be=!1,new ss(!Be&&Oe&&Oe.thisDep,!Be&&Oe&&Oe.contextDep,!Be&&Oe&&Oe.propDep,function(Si,ta){var wi=Si.shared.context,Gi=bn;"width"in sr||(Gi=ta.def(wi,".",Vo,"-",wr));var Zi=Cn;return"height"in sr||(Zi=ta.def(wi,".",Mo,"-",Jr)),[wr,Jr,Gi,Zi]})}else if(Ue in Xr){var fn=Xr[Ue],jn=Io(fn,function(Si,ta){var wi=Si.invoke(ta,fn);re.optional(function(){Si.assert(ta,wi+"&&typeof "+wi+'==="object"',"invalid "+Ue)});var Gi=Si.shared.context,Zi=ta.def(wi,".x|0"),ja=ta.def(wi,".y|0"),bo=ta.def('"width" in ',wi,"?",wi,".width|0:","(",Gi,".",Vo,"-",Zi,")"),Au=ta.def('"height" in ',wi,"?",wi,".height|0:","(",Gi,".",Mo,"-",ja,")");return re.optional(function(){Si.assert(ta,bo+">=0&&"+Au+">=0","invalid "+Ue)}),[Zi,ja,bo,Au]});return Oe&&(jn.thisDep=jn.thisDep||Oe.thisDep,jn.contextDep=jn.contextDep||Oe.contextDep,jn.propDep=jn.propDep||Oe.propDep),jn}else return Oe?new ss(Oe.thisDep,Oe.contextDep,Oe.propDep,function(Si,ta){var wi=Si.shared.context;return[0,0,ta.def(wi,".",Vo),ta.def(wi,".",Mo)]}):null}var lr=gr(es);if(lr){var Tr=lr;lr=new ss(lr.thisDep,lr.contextDep,lr.propDep,function(Ue,sr){var Be=Tr.append(Ue,sr),wr=Ue.shared.context;return sr.set(wr,"."+Wf,Be[2]),sr.set(wr,"."+Vf,Be[3]),Be})}return{viewport:lr,scissor_box:gr(Gs)}}function li(Ve,Oe){var vr=Ve.static,Ur=typeof vr[jf]=="string"&&typeof vr[ka]=="string";if(Ur){if(Object.keys(Oe.dynamic).length>0)return null;var Xr=Oe.static,gr=Object.keys(Xr);if(gr.length>0&&typeof Xr[gr[0]]=="number"){for(var lr=[],Tr=0;Tr<gr.length;++Tr)re(typeof Xr[gr[Tr]]=="number","must specify all vertex attribute locations when using vaos"),lr.push([Xr[gr[Tr]]|0,gr[Tr]]);return lr}}return null}function Di(Ve,Oe,vr){var Ur=Ve.static,Xr=Ve.dynamic;function gr(Be){if(Be in Ur){var wr=Ae.id(Ur[Be]);re.optional(function(){Un.shader(El[Be],wr,re.guessCommand())});var Jr=no(function(){return wr});return Jr.id=wr,Jr}else if(Be in Xr){var bn=Xr[Be];return Io(bn,function(Cn,fn){var jn=Cn.invoke(fn,bn),Si=fn.def(Cn.shared.strings,".id(",jn,")");return re.optional(function(){fn(Cn.shared.shader,".shader(",El[Be],",",Si,",",Cn.command,");")}),Si})}return null}var lr=gr(jf),Tr=gr(ka),Ue=null,sr;return Cs(lr)&&Cs(Tr)?(Ue=Un.program(Tr.id,lr.id,null,vr),sr=no(function(Be,wr){return Be.link(Ue)})):sr=new ss(lr&&lr.thisDep||Tr&&Tr.thisDep,lr&&lr.contextDep||Tr&&Tr.contextDep,lr&&lr.propDep||Tr&&Tr.propDep,function(Be,wr){var Jr=Be.shared.shader,bn;lr?bn=lr.append(Be,wr):bn=wr.def(Jr,".",jf);var Cn;Tr?Cn=Tr.append(Be,wr):Cn=wr.def(Jr,".",ka);var fn=Jr+".program("+Cn+","+bn;return re.optional(function(){fn+=","+Be.command}),wr.def(fn+")")}),{frag:lr,vert:Tr,progVar:sr,program:Ue}}function Wi(Ve,Oe){var vr=Ve.static,Ur=Ve.dynamic;function Xr(){if(yl in vr){var Be=vr[yl];bf(Be)?Be=rn.getElements(rn.create(Be,!0)):Be&&(Be=rn.getElements(Be),re.command(Be,"invalid elements",Oe.commandStr));var wr=no(function(bn,Cn){if(Be){var fn=bn.link(Be);return bn.ELEMENTS=fn,fn}return bn.ELEMENTS=null,null});return wr.value=Be,wr}else if(yl in Ur){var Jr=Ur[yl];return Io(Jr,function(bn,Cn){var fn=bn.shared,jn=fn.isBufferArgs,Si=fn.elements,ta=bn.invoke(Cn,Jr),wi=Cn.def("null"),Gi=Cn.def(jn,"(",ta,")"),Zi=bn.cond(Gi).then(wi,"=",Si,".createStream(",ta,");").else(wi,"=",Si,".getElements(",ta,");");return re.optional(function(){bn.assert(Zi.else,"!"+ta+"||"+wi,"invalid elements")}),Cn.entry(Zi),Cn.exit(bn.cond(Gi).then(Si,".destroyStream(",wi,");")),bn.ELEMENTS=wi,wi})}return null}var gr=Xr();function lr(){if(Wc in vr){var Be=vr[Wc];return re.commandParameter(Be,zu,"invalid primitve",Oe.commandStr),no(function(Jr,bn){return zu[Be]})}else if(Wc in Ur){var wr=Ur[Wc];return Io(wr,function(Jr,bn){var Cn=Jr.constants.primTypes,fn=Jr.invoke(bn,wr);return re.optional(function(){Jr.assert(bn,fn+" in "+Cn,"invalid primitive, must be one of "+Object.keys(zu))}),bn.def(Cn,"[",fn,"]")})}else if(gr)return Cs(gr)?gr.value?no(function(Jr,bn){return bn.def(Jr.ELEMENTS,".primType")}):no(function(){return yf}):new ss(gr.thisDep,gr.contextDep,gr.propDep,function(Jr,bn){var Cn=Jr.ELEMENTS;return bn.def(Cn,"?",Cn,".primType:",yf)});return null}function Tr(Be,wr){if(Be in vr){var Jr=vr[Be]|0;return re.command(!wr||Jr>=0,"invalid "+Be,Oe.commandStr),no(function(Cn,fn){return wr&&(Cn.OFFSET=Jr),Jr})}else if(Be in Ur){var bn=Ur[Be];return Io(bn,function(Cn,fn){var jn=Cn.invoke(fn,bn);return wr&&(Cn.OFFSET=jn,re.optional(function(){Cn.assert(fn,jn+">=0","invalid "+Be)})),jn})}else if(wr&&gr)return no(function(Cn,fn){return Cn.OFFSET="0",0});return null}var Ue=Tr(Eu,!0);function sr(){if(du in vr){var Be=vr[du]|0;return re.command(typeof Be=="number"&&Be>=0,"invalid vertex count",Oe.commandStr),no(function(){return Be})}else if(du in Ur){var wr=Ur[du];return Io(wr,function(Cn,fn){var jn=Cn.invoke(fn,wr);return re.optional(function(){Cn.assert(fn,"typeof "+jn+'==="number"&&'+jn+">=0&&"+jn+"===("+jn+"|0)","invalid vertex count")}),jn})}else if(gr)if(Cs(gr)){if(gr)return Ue?new ss(Ue.thisDep,Ue.contextDep,Ue.propDep,function(Cn,fn){var jn=fn.def(Cn.ELEMENTS,".vertCount-",Cn.OFFSET);return re.optional(function(){Cn.assert(fn,jn+">=0","invalid vertex offset/element buffer too small")}),jn}):no(function(Cn,fn){return fn.def(Cn.ELEMENTS,".vertCount")});var Jr=no(function(){return-1});return re.optional(function(){Jr.MISSING=!0}),Jr}else{var bn=new ss(gr.thisDep||Ue.thisDep,gr.contextDep||Ue.contextDep,gr.propDep||Ue.propDep,function(Cn,fn){var jn=Cn.ELEMENTS;return Cn.OFFSET?fn.def(jn,"?",jn,".vertCount-",Cn.OFFSET,":-1"):fn.def(jn,"?",jn,".vertCount:-1")});return re.optional(function(){bn.DYNAMIC=!0}),bn}return null}return{elements:gr,primitive:lr(),count:sr(),instances:Tr(Ru,!1),offset:Ue}}function zi(Ve,Oe){var vr=Ve.static,Ur=Ve.dynamic,Xr={};return de.forEach(function(gr){var lr=Ke(gr);function Tr(Ue,sr){if(gr in vr){var Be=Ue(vr[gr]);Xr[lr]=no(function(){return Be})}else if(gr in Ur){var wr=Ur[gr];Xr[lr]=Io(wr,function(Jr,bn){return sr(Jr,bn,Jr.invoke(bn,wr))})}}switch(gr){case dr:case Eh:case Rv:case vf:case Bs:case bu:case Rl:case Gd:case Sh:case hu:return Tr(function(Ue){return re.commandType(Ue,"boolean",gr,Oe.commandStr),Ue},function(Ue,sr,Be){return re.optional(function(){Ue.assert(sr,"typeof "+Be+'==="boolean"',"invalid flag "+gr,Ue.commandStr)}),Be});case ld:return Tr(function(Ue){return re.commandParameter(Ue,qu,"invalid "+gr,Oe.commandStr),qu[Ue]},function(Ue,sr,Be){var wr=Ue.constants.compareFuncs;return re.optional(function(){Ue.assert(sr,Be+" in "+wr,"invalid "+gr+", must be one of "+Object.keys(qu))}),sr.def(wr,"[",Be,"]")});case cd:return Tr(function(Ue){return re.command(eo(Ue)&&Ue.length===2&&typeof Ue[0]=="number"&&typeof Ue[1]=="number"&&Ue[0]<=Ue[1],"depth range is 2d array",Oe.commandStr),Ue},function(Ue,sr,Be){re.optional(function(){Ue.assert(sr,Ue.shared.isArrayLike+"("+Be+")&&"+Be+".length===2&&typeof "+Be+'[0]==="number"&&typeof '+Be+'[1]==="number"&&'+Be+"[0]<="+Be+"[1]","depth range must be a 2d array")});var wr=sr.def("+",Be,"[0]"),Jr=sr.def("+",Be,"[1]");return[wr,Jr]});case av:return Tr(function(Ue){re.commandType(Ue,"object","blend.func",Oe.commandStr);var sr="srcRGB"in Ue?Ue.srcRGB:Ue.src,Be="srcAlpha"in Ue?Ue.srcAlpha:Ue.src,wr="dstRGB"in Ue?Ue.dstRGB:Ue.dst,Jr="dstAlpha"in Ue?Ue.dstAlpha:Ue.dst;return re.commandParameter(sr,Ro,lr+".srcRGB",Oe.commandStr),re.commandParameter(Be,Ro,lr+".srcAlpha",Oe.commandStr),re.commandParameter(wr,Ro,lr+".dstRGB",Oe.commandStr),re.commandParameter(Jr,Ro,lr+".dstAlpha",Oe.commandStr),re.command(Oh.indexOf(sr+", "+wr)===-1,"unallowed blending combination (srcRGB, dstRGB) = ("+sr+", "+wr+")",Oe.commandStr),[Ro[sr],Ro[wr],Ro[Be],Ro[Jr]]},function(Ue,sr,Be){var wr=Ue.constants.blendFuncs;re.optional(function(){Ue.assert(sr,Be+"&&typeof "+Be+'==="object"',"invalid blend func, must be an object")});function Jr(wi,Gi){var Zi=sr.def('"',wi,Gi,'" in ',Be,"?",Be,".",wi,Gi,":",Be,".",wi);return re.optional(function(){Ue.assert(sr,Zi+" in "+wr,"invalid "+gr+"."+wi+Gi+", must be one of "+Object.keys(Ro))}),Zi}var bn=Jr("src","RGB"),Cn=Jr("dst","RGB");re.optional(function(){var wi=Ue.constants.invalidBlendCombinations;Ue.assert(sr,wi+".indexOf("+bn+'+", "+'+Cn+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")});var fn=sr.def(wr,"[",bn,"]"),jn=sr.def(wr,"[",Jr("src","Alpha"),"]"),Si=sr.def(wr,"[",Cn,"]"),ta=sr.def(wr,"[",Jr("dst","Alpha"),"]");return[fn,Si,jn,ta]});case ud:return Tr(function(Ue){if(typeof Ue=="string")return re.commandParameter(Ue,Nt,"invalid "+gr,Oe.commandStr),[Nt[Ue],Nt[Ue]];if(typeof Ue=="object")return re.commandParameter(Ue.rgb,Nt,gr+".rgb",Oe.commandStr),re.commandParameter(Ue.alpha,Nt,gr+".alpha",Oe.commandStr),[Nt[Ue.rgb],Nt[Ue.alpha]];re.commandRaise("invalid blend.equation",Oe.commandStr)},function(Ue,sr,Be){var wr=Ue.constants.blendEquations,Jr=sr.def(),bn=sr.def(),Cn=Ue.cond("typeof ",Be,'==="string"');return re.optional(function(){function fn(jn,Si,ta){Ue.assert(jn,ta+" in "+wr,"invalid "+Si+", must be one of "+Object.keys(Nt))}fn(Cn.then,gr,Be),Ue.assert(Cn.else,Be+"&&typeof "+Be+'==="object"',"invalid "+gr),fn(Cn.else,gr+".rgb",Be+".rgb"),fn(Cn.else,gr+".alpha",Be+".alpha")}),Cn.then(Jr,"=",bn,"=",wr,"[",Be,"];"),Cn.else(Jr,"=",wr,"[",Be,".rgb];",bn,"=",wr,"[",Be,".alpha];"),sr(Cn),[Jr,bn]});case Ps:return Tr(function(Ue){return re.command(eo(Ue)&&Ue.length===4,"blend.color must be a 4d array",Oe.commandStr),pt(4,function(sr){return+Ue[sr]})},function(Ue,sr,Be){return re.optional(function(){Ue.assert(sr,Ue.shared.isArrayLike+"("+Be+")&&"+Be+".length===4","blend.color must be a 4d array")}),pt(4,function(wr){return sr.def("+",Be,"[",wr,"]")})});case zf:return Tr(function(Ue){return re.commandType(Ue,"number",lr,Oe.commandStr),Ue|0},function(Ue,sr,Be){return re.optional(function(){Ue.assert(sr,"typeof "+Be+'==="number"',"invalid stencil.mask")}),sr.def(Be,"|0")});case Uf:return Tr(function(Ue){re.commandType(Ue,"object",lr,Oe.commandStr);var sr=Ue.cmp||"keep",Be=Ue.ref||0,wr="mask"in Ue?Ue.mask:-1;return re.commandParameter(sr,qu,gr+".cmp",Oe.commandStr),re.commandType(Be,"number",gr+".ref",Oe.commandStr),re.commandType(wr,"number",gr+".mask",Oe.commandStr),[qu[sr],Be,wr]},function(Ue,sr,Be){var wr=Ue.constants.compareFuncs;re.optional(function(){function fn(){Ue.assert(sr,Array.prototype.join.call(arguments,""),"invalid stencil.func")}fn(Be+"&&typeof ",Be,'==="object"'),fn('!("cmp" in ',Be,")||(",Be,".cmp in ",wr,")")});var Jr=sr.def('"cmp" in ',Be,"?",wr,"[",Be,".cmp]",":",qs),bn=sr.def(Be,".ref|0"),Cn=sr.def('"mask" in ',Be,"?",Be,".mask|0:-1");return[Jr,bn,Cn]});case Na:case jc:return Tr(function(Ue){re.commandType(Ue,"object",lr,Oe.commandStr);var sr=Ue.fail||"keep",Be=Ue.zfail||"keep",wr=Ue.zpass||"keep";return re.commandParameter(sr,tl,gr+".fail",Oe.commandStr),re.commandParameter(Be,tl,gr+".zfail",Oe.commandStr),re.commandParameter(wr,tl,gr+".zpass",Oe.commandStr),[gr===jc?Sc:Ec,tl[sr],tl[Be],tl[wr]]},function(Ue,sr,Be){var wr=Ue.constants.stencilOps;re.optional(function(){Ue.assert(sr,Be+"&&typeof "+Be+'==="object"',"invalid "+gr)});function Jr(bn){return re.optional(function(){Ue.assert(sr,'!("'+bn+'" in '+Be+")||("+Be+"."+bn+" in "+wr+")","invalid "+gr+"."+bn+", must be one of "+Object.keys(tl))}),sr.def('"',bn,'" in ',Be,"?",wr,"[",Be,".",bn,"]:",qs)}return[gr===jc?Sc:Ec,Jr("fail"),Jr("zfail"),Jr("zpass")]});case Gf:return Tr(function(Ue){re.commandType(Ue,"object",lr,Oe.commandStr);var sr=Ue.factor|0,Be=Ue.units|0;return re.commandType(sr,"number",lr+".factor",Oe.commandStr),re.commandType(Be,"number",lr+".units",Oe.commandStr),[sr,Be]},function(Ue,sr,Be){re.optional(function(){Ue.assert(sr,Be+"&&typeof "+Be+'==="object"',"invalid "+gr)});var wr=sr.def(Be,".factor|0"),Jr=sr.def(Be,".units|0");return[wr,Jr]});case zc:return Tr(function(Ue){var sr=0;return Ue==="front"?sr=Ec:Ue==="back"&&(sr=Sc),re.command(!!sr,lr,Oe.commandStr),sr},function(Ue,sr,Be){return re.optional(function(){Ue.assert(sr,Be+'==="front"||'+Be+'==="back"',"invalid cull.face")}),sr.def(Be,'==="front"?',Ec,":",Sc)});case jo:return Tr(function(Ue){return re.command(typeof Ue=="number"&&Ue>=Hr.lineWidthDims[0]&&Ue<=Hr.lineWidthDims[1],"invalid line width, must be a positive number between "+Hr.lineWidthDims[0]+" and "+Hr.lineWidthDims[1],Oe.commandStr),Ue},function(Ue,sr,Be){return re.optional(function(){Ue.assert(sr,"typeof "+Be+'==="number"&&'+Be+">="+Hr.lineWidthDims[0]+"&&"+Be+"<="+Hr.lineWidthDims[1],"invalid line width")}),Be});case Uc:return Tr(function(Ue){return re.commandParameter(Ue,Sl,lr,Oe.commandStr),Sl[Ue]},function(Ue,sr,Be){return re.optional(function(){Ue.assert(sr,Be+'==="cw"||'+Be+'==="ccw"',"invalid frontFace, must be one of cw,ccw")}),sr.def(Be+'==="cw"?'+mf+":"+Yc)});case Bf:return Tr(function(Ue){return re.command(eo(Ue)&&Ue.length===4,"color.mask must be length 4 array",Oe.commandStr),Ue.map(function(sr){return!!sr})},function(Ue,sr,Be){return re.optional(function(){Ue.assert(sr,Ue.shared.isArrayLike+"("+Be+")&&"+Be+".length===4","invalid color.mask")}),pt(4,function(wr){return"!!"+Be+"["+wr+"]"})});case Lu:return Tr(function(Ue){re.command(typeof Ue=="object"&&Ue,lr,Oe.commandStr);var sr="value"in Ue?Ue.value:1,Be=!!Ue.invert;return re.command(typeof sr=="number"&&sr>=0&&sr<=1,"sample.coverage.value must be a number between 0 and 1",Oe.commandStr),[sr,Be]},function(Ue,sr,Be){re.optional(function(){Ue.assert(sr,Be+"&&typeof "+Be+'==="object"',"invalid sample.coverage")});var wr=sr.def('"value" in ',Be,"?+",Be,".value:1"),Jr=sr.def("!!",Be,".invert");return[wr,Jr]})}}),Xr}function Pa(Ve,Oe){var vr=Ve.static,Ur=Ve.dynamic,Xr={};return Object.keys(vr).forEach(function(gr){var lr=vr[gr],Tr;if(typeof lr=="number"||typeof lr=="boolean")Tr=no(function(){return lr});else if(typeof lr=="function"){var Ue=lr._reglType;Ue==="texture2d"||Ue==="textureCube"?Tr=no(function(sr){return sr.link(lr)}):Ue==="framebuffer"||Ue==="framebufferCube"?(re.command(lr.color.length>0,'missing color attachment for framebuffer sent to uniform "'+gr+'"',Oe.commandStr),Tr=no(function(sr){return sr.link(lr.color[0])})):re.commandRaise('invalid data for uniform "'+gr+'"',Oe.commandStr)}else eo(lr)?Tr=no(function(sr){var Be=sr.global.def("[",pt(lr.length,function(wr){return re.command(typeof lr[wr]=="number"||typeof lr[wr]=="boolean","invalid uniform "+gr,sr.commandStr),lr[wr]}),"]");return Be}):re.commandRaise('invalid or missing data for uniform "'+gr+'"',Oe.commandStr);Tr.value=lr,Xr[gr]=Tr}),Object.keys(Ur).forEach(function(gr){var lr=Ur[gr];Xr[gr]=Io(lr,function(Tr,Ue){return Tr.invoke(Ue,lr)})}),Xr}function Xi(Ve,Oe){var vr=Ve.static,Ur=Ve.dynamic,Xr={};return Object.keys(vr).forEach(function(gr){var lr=vr[gr],Tr=Ae.id(gr),Ue=new It;if(bf(lr))Ue.state=_a,Ue.buffer=Lr.getBuffer(Lr.create(lr,vu,!1,!0)),Ue.type=0;else{var sr=Lr.getBuffer(lr);if(sr)Ue.state=_a,Ue.buffer=sr,Ue.type=0;else if(re.command(typeof lr=="object"&&lr,"invalid data for attribute "+gr,Oe.commandStr),"constant"in lr){var Be=lr.constant;Ue.buffer="null",Ue.state=To,typeof Be=="number"?Ue.x=Be:(re.command(eo(Be)&&Be.length>0&&Be.length<=4,"invalid constant for attribute "+gr,Oe.commandStr),xh.forEach(function(Si,ta){ta<Be.length&&(Ue[Si]=Be[ta])}))}else{bf(lr.buffer)?sr=Lr.getBuffer(Lr.create(lr.buffer,vu,!1,!0)):sr=Lr.getBuffer(lr.buffer),re.command(!!sr,'missing buffer for attribute "'+gr+'"',Oe.commandStr);var wr=lr.offset|0;re.command(wr>=0,'invalid offset for attribute "'+gr+'"',Oe.commandStr);var Jr=lr.stride|0;re.command(Jr>=0&&Jr<256,'invalid stride for attribute "'+gr+'", must be integer betweeen [0, 255]',Oe.commandStr);var bn=lr.size|0;re.command(!("size"in lr)||bn>0&&bn<=4,'invalid size for attribute "'+gr+'", must be 1,2,3,4',Oe.commandStr);var Cn=!!lr.normalized,fn=0;"type"in lr&&(re.commandParameter(lr.type,Ql,"invalid type for attribute "+gr,Oe.commandStr),fn=Ql[lr.type]);var jn=lr.divisor|0;"divisor"in lr&&(re.command(jn===0||Ft,'cannot specify divisor for attribute "'+gr+'", instancing not supported',Oe.commandStr),re.command(jn>=0,'invalid divisor for attribute "'+gr+'"',Oe.commandStr)),re.optional(function(){var Si=Oe.commandStr,ta=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(lr).forEach(function(wi){re.command(ta.indexOf(wi)>=0,'unknown parameter "'+wi+'" for attribute pointer "'+gr+'" (valid parameters are '+ta+")",Si)})}),Ue.buffer=sr,Ue.state=_a,Ue.size=bn,Ue.normalized=Cn,Ue.type=fn||sr.dtype,Ue.offset=wr,Ue.stride=Jr,Ue.divisor=jn}}Xr[gr]=no(function(Si,ta){var wi=Si.attribCache;if(Tr in wi)return wi[Tr];var Gi={isStream:!1};return Object.keys(Ue).forEach(function(Zi){Gi[Zi]=Ue[Zi]}),Ue.buffer&&(Gi.buffer=Si.link(Ue.buffer),Gi.type=Gi.type||Gi.buffer+".dtype"),wi[Tr]=Gi,Gi})}),Object.keys(Ur).forEach(function(gr){var lr=Ur[gr];function Tr(Ue,sr){var Be=Ue.invoke(sr,lr),wr=Ue.shared,Jr=Ue.constants,bn=wr.isBufferArgs,Cn=wr.buffer;re.optional(function(){Ue.assert(sr,Be+"&&(typeof "+Be+'==="object"||typeof '+Be+'==="function")&&('+bn+"("+Be+")||"+Cn+".getBuffer("+Be+")||"+Cn+".getBuffer("+Be+".buffer)||"+bn+"("+Be+'.buffer)||("constant" in '+Be+"&&(typeof "+Be+'.constant==="number"||'+wr.isArrayLike+"("+Be+".constant))))",'invalid dynamic attribute "'+gr+'"')});var fn={isStream:sr.def(!1)},jn=new It;jn.state=_a,Object.keys(jn).forEach(function(Gi){fn[Gi]=sr.def(""+jn[Gi])});var Si=fn.buffer,ta=fn.type;sr("if(",bn,"(",Be,")){",fn.isStream,"=true;",Si,"=",Cn,".createStream(",vu,",",Be,");",ta,"=",Si,".dtype;","}else{",Si,"=",Cn,".getBuffer(",Be,");","if(",Si,"){",ta,"=",Si,".dtype;",'}else if("constant" in ',Be,"){",fn.state,"=",To,";","if(typeof "+Be+'.constant === "number"){',fn[xh[0]],"=",Be,".constant;",xh.slice(1).map(function(Gi){return fn[Gi]}).join("="),"=0;","}else{",xh.map(function(Gi,Zi){return fn[Gi]+"="+Be+".constant.length>"+Zi+"?"+Be+".constant["+Zi+"]:0;"}).join(""),"}}else{","if(",bn,"(",Be,".buffer)){",Si,"=",Cn,".createStream(",vu,",",Be,".buffer);","}else{",Si,"=",Cn,".getBuffer(",Be,".buffer);","}",ta,'="type" in ',Be,"?",Jr.glTypes,"[",Be,".type]:",Si,".dtype;",fn.normalized,"=!!",Be,".normalized;");function wi(Gi){sr(fn[Gi],"=",Be,".",Gi,"|0;")}return wi("size"),wi("offset"),wi("stride"),wi("divisor"),sr("}}"),sr.exit("if(",fn.isStream,"){",Cn,".destroyStream(",Si,");","}"),fn}Xr[gr]=Io(lr,Tr)}),Xr}function io(Ve,Oe){var vr=Ve.static,Ur=Ve.dynamic;if(ps in vr){var Xr=vr[ps];return Xr!==null&&Hn.getVAO(Xr)===null&&(Xr=Hn.createVAO(Xr)),no(function(lr){return lr.link(Hn.getVAO(Xr))})}else if(ps in Ur){var gr=Ur[ps];return Io(gr,function(lr,Tr){var Ue=lr.invoke(Tr,gr);return Tr.def(lr.shared.vao+".getVAO("+Ue+")")})}return null}function Ka(Ve){var Oe=Ve.static,vr=Ve.dynamic,Ur={};return Object.keys(Oe).forEach(function(Xr){var gr=Oe[Xr];Ur[Xr]=no(function(lr,Tr){return typeof gr=="number"||typeof gr=="boolean"?""+gr:lr.link(gr)})}),Object.keys(vr).forEach(function(Xr){var gr=vr[Xr];Ur[Xr]=Io(gr,function(lr,Tr){return lr.invoke(Tr,gr)})}),Ur}function ma(Ve,Oe,vr,Ur,Xr){var gr=Ve.static,lr=Ve.dynamic;re.optional(function(){var wi=[mc,ka,jf,yl,Wc,Eu,du,Ru,Fl,ps].concat(de);function Gi(Zi){Object.keys(Zi).forEach(function(ja){re.command(wi.indexOf(ja)>=0,'unknown parameter "'+ja+'"',Xr.commandStr)})}Gi(gr),Gi(lr)});var Tr=li(Ve,Oe),Ue=Qn(Ve,Xr),sr=Ti(Ve,Ue,Xr),Be=Wi(Ve,Xr),wr=zi(Ve,Xr),Jr=Di(Ve,Xr,Tr);function bn(wi){var Gi=sr[wi];Gi&&(wr[wi]=Gi)}bn(es),bn(Ke(Gs));var Cn=Object.keys(wr).length>0,fn={framebuffer:Ue,draw:Be,shader:Jr,state:wr,dirty:Cn,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(fn.profile=ni(Ve,Xr),fn.uniforms=Pa(vr,Xr),fn.drawVAO=fn.scopeVAO=io(Ve,Xr),!fn.drawVAO&&Jr.program&&!Tr&&Qe.angle_instanced_arrays){var jn=!0,Si=Jr.program.attributes.map(function(wi){var Gi=Oe.static[wi];return jn=jn&&!!Gi,Gi});if(jn&&Si.length>0){var ta=Hn.getVAO(Hn.createVAO(Si));fn.drawVAO=new ss(null,null,null,function(wi,Gi){return wi.link(ta)}),fn.useVAO=!0}}return Tr?fn.useVAO=!0:fn.attributes=Xi(Oe,Xr),fn.context=Ka(Ur,Xr),fn}function vo(Ve,Oe,vr){var Ur=Ve.shared,Xr=Ur.context,gr=Ve.scope();Object.keys(vr).forEach(function(lr){Oe.save(Xr,"."+lr);var Tr=vr[lr],Ue=Tr.append(Ve,Oe);Array.isArray(Ue)?gr(Xr,".",lr,"=[",Ue.join(),"];"):gr(Xr,".",lr,"=",Ue,";")}),Oe(gr)}function fo(Ve,Oe,vr,Ur){var Xr=Ve.shared,gr=Xr.gl,lr=Xr.framebuffer,Tr;Yt&&(Tr=Oe.def(Xr.extensions,".webgl_draw_buffers"));var Ue=Ve.constants,sr=Ue.drawBuffer,Be=Ue.backBuffer,wr;vr?wr=vr.append(Ve,Oe):wr=Oe.def(lr,".next"),Ur||Oe("if(",wr,"!==",lr,".cur){"),Oe("if(",wr,"){",gr,".bindFramebuffer(",Nu,",",wr,".framebuffer);"),Yt&&Oe(Tr,".drawBuffersWEBGL(",sr,"[",wr,".colorAttachments.length]);"),Oe("}else{",gr,".bindFramebuffer(",Nu,",null);"),Yt&&Oe(Tr,".drawBuffersWEBGL(",Be,");"),Oe("}",lr,".cur=",wr,";"),Ur||Oe("}")}function ao(Ve,Oe,vr){var Ur=Ve.shared,Xr=Ur.gl,gr=Ve.current,lr=Ve.next,Tr=Ur.current,Ue=Ur.next,sr=Ve.cond(Tr,".dirty");de.forEach(function(Be){var wr=Ke(Be);if(!(wr in vr.state)){var Jr,bn;if(wr in lr){Jr=lr[wr],bn=gr[wr];var Cn=pt(Qt[wr].length,function(jn){return sr.def(Jr,"[",jn,"]")});sr(Ve.cond(Cn.map(function(jn,Si){return jn+"!=="+bn+"["+Si+"]"}).join("||")).then(Xr,".",Pe[wr],"(",Cn,");",Cn.map(function(jn,Si){return bn+"["+Si+"]="+jn}).join(";"),";"))}else{Jr=sr.def(Ue,".",wr);var fn=Ve.cond(Jr,"!==",Tr,".",wr);sr(fn),wr in Ie?fn(Ve.cond(Jr).then(Xr,".enable(",Ie[wr],");").else(Xr,".disable(",Ie[wr],");"),Tr,".",wr,"=",Jr,";"):fn(Xr,".",Pe[wr],"(",Jr,");",Tr,".",wr,"=",Jr,";")}}}),Object.keys(vr.state).length===0&&sr(Tr,".dirty=false;"),Oe(sr)}function xo(Ve,Oe,vr,Ur){var Xr=Ve.shared,gr=Ve.current,lr=Xr.current,Tr=Xr.gl;ya(Object.keys(vr)).forEach(function(Ue){var sr=vr[Ue];if(!(Ur&&!Ur(sr))){var Be=sr.append(Ve,Oe);if(Ie[Ue]){var wr=Ie[Ue];Cs(sr)?Be?Oe(Tr,".enable(",wr,");"):Oe(Tr,".disable(",wr,");"):Oe(Ve.cond(Be).then(Tr,".enable(",wr,");").else(Tr,".disable(",wr,");")),Oe(lr,".",Ue,"=",Be,";")}else if(eo(Be)){var Jr=gr[Ue];Oe(Tr,".",Pe[Ue],"(",Be,");",Be.map(function(bn,Cn){return Jr+"["+Cn+"]="+bn}).join(";"),";")}else Oe(Tr,".",Pe[Ue],"(",Be,");",lr,".",Ue,"=",Be,";")}})}function Fo(Ve,Oe){Ft&&(Ve.instancing=Oe.def(Ve.shared.extensions,".angle_instanced_arrays"))}function Qi(Ve,Oe,vr,Ur,Xr){var gr=Ve.shared,lr=Ve.stats,Tr=gr.current,Ue=gr.timer,sr=vr.profile;function Be(){return typeof performance=="undefined"?"Date.now()":"performance.now()"}var wr,Jr;function bn(wi){wr=Oe.def(),wi(wr,"=",Be(),";"),typeof Xr=="string"?wi(lr,".count+=",Xr,";"):wi(lr,".count++;"),et&&(Ur?(Jr=Oe.def(),wi(Jr,"=",Ue,".getNumPendingQueries();")):wi(Ue,".beginQuery(",lr,");"))}function Cn(wi){wi(lr,".cpuTime+=",Be(),"-",wr,";"),et&&(Ur?wi(Ue,".pushScopeStats(",Jr,",",Ue,".getNumPendingQueries(),",lr,");"):wi(Ue,".endQuery();"))}function fn(wi){var Gi=Oe.def(Tr,".profile");Oe(Tr,".profile=",wi,";"),Oe.exit(Tr,".profile=",Gi,";")}var jn;if(sr){if(Cs(sr)){sr.enable?(bn(Oe),Cn(Oe.exit),fn("true")):fn("false");return}jn=sr.append(Ve,Oe),fn(jn)}else jn=Oe.def(Tr,".profile");var Si=Ve.block();bn(Si),Oe("if(",jn,"){",Si,"}");var ta=Ve.block();Cn(ta),Oe.exit("if(",jn,"){",ta,"}")}function Us(Ve,Oe,vr,Ur,Xr){var gr=Ve.shared;function lr(Ue){switch(Ue){case as:case Th:case fd:return 2;case os:case Yf:case hd:return 3;case wu:case Xf:case Mh:return 4;default:return 1}}function Tr(Ue,sr,Be){var wr=gr.gl,Jr=Oe.def(Ue,".location"),bn=Oe.def(gr.attributes,"[",Jr,"]"),Cn=Be.state,fn=Be.buffer,jn=[Be.x,Be.y,Be.z,Be.w],Si=["buffer","normalized","offset","stride"];function ta(){Oe("if(!",bn,".buffer){",wr,".enableVertexAttribArray(",Jr,");}");var Gi=Be.type,Zi;if(Be.size?Zi=Oe.def(Be.size,"||",sr):Zi=sr,Oe("if(",bn,".type!==",Gi,"||",bn,".size!==",Zi,"||",Si.map(function(bo){return bn+"."+bo+"!=="+Be[bo]}).join("||"),"){",wr,".bindBuffer(",vu,",",fn,".buffer);",wr,".vertexAttribPointer(",[Jr,Zi,Gi,Be.normalized,Be.stride,Be.offset],");",bn,".type=",Gi,";",bn,".size=",Zi,";",Si.map(function(bo){return bn+"."+bo+"="+Be[bo]+";"}).join(""),"}"),Ft){var ja=Be.divisor;Oe("if(",bn,".divisor!==",ja,"){",Ve.instancing,".vertexAttribDivisorANGLE(",[Jr,ja],");",bn,".divisor=",ja,";}")}}function wi(){Oe("if(",bn,".buffer){",wr,".disableVertexAttribArray(",Jr,");",bn,".buffer=null;","}if(",xh.map(function(Gi,Zi){return bn+"."+Gi+"!=="+jn[Zi]}).join("||"),"){",wr,".vertexAttrib4f(",Jr,",",jn,");",xh.map(function(Gi,Zi){return bn+"."+Gi+"="+jn[Zi]+";"}).join(""),"}")}Cn===_a?ta():Cn===To?wi():(Oe("if(",Cn,"===",_a,"){"),ta(),Oe("}else{"),wi(),Oe("}"))}Ur.forEach(function(Ue){var sr=Ue.name,Be=vr.attributes[sr],wr;if(Be){if(!Xr(Be))return;wr=Be.append(Ve,Oe)}else{if(!Xr(_c))return;var Jr=Ve.scopeAttrib(sr);re.optional(function(){Ve.assert(Oe,Jr+".state","missing attribute "+sr)}),wr={},Object.keys(new It).forEach(function(bn){wr[bn]=Oe.def(Jr,".",bn)})}Tr(Ve.link(Ue),lr(Ue.info.type),wr)})}function Ga(Ve,Oe,vr,Ur,Xr){for(var gr=Ve.shared,lr=gr.gl,Tr,Ue=0;Ue<Ur.length;++Ue){var sr=Ur[Ue],Be=sr.name,wr=sr.info.type,Jr=vr.uniforms[Be],bn=Ve.link(sr),Cn=bn+".location",fn;if(Jr){if(!Xr(Jr))continue;if(Cs(Jr)){var jn=Jr.value;if(re.command(jn!==null&&typeof jn!="undefined",'missing uniform "'+Be+'"',Ve.commandStr),wr===gf||wr===bc){re.command(typeof jn=="function"&&(wr===gf&&(jn._reglType==="texture2d"||jn._reglType==="framebuffer")||wr===bc&&(jn._reglType==="textureCube"||jn._reglType==="framebufferCube")),"invalid texture for uniform "+Be,Ve.commandStr);var Si=Ve.link(jn._texture||jn.color[0]._texture);Oe(lr,".uniform1i(",Cn,",",Si+".bind());"),Oe.exit(Si,".unbind();")}else if(wr===Gl||wr===Fu||wr===Lo){re.optional(function(){re.command(eo(jn),"invalid matrix for uniform "+Be,Ve.commandStr),re.command(wr===Gl&&jn.length===4||wr===Fu&&jn.length===9||wr===Lo&&jn.length===16,"invalid length for matrix uniform "+Be,Ve.commandStr)});var ta=Ve.global.def("new Float32Array(["+Array.prototype.slice.call(jn)+"])"),wi=2;wr===Fu?wi=3:wr===Lo&&(wi=4),Oe(lr,".uniformMatrix",wi,"fv(",Cn,",false,",ta,");")}else{switch(wr){case Ju:re.commandType(jn,"number","uniform "+Be,Ve.commandStr),Tr="1f";break;case as:re.command(eo(jn)&&jn.length===2,"uniform "+Be,Ve.commandStr),Tr="2f";break;case os:re.command(eo(jn)&&jn.length===3,"uniform "+Be,Ve.commandStr),Tr="3f";break;case wu:re.command(eo(jn)&&jn.length===4,"uniform "+Be,Ve.commandStr),Tr="4f";break;case Hc:re.commandType(jn,"boolean","uniform "+Be,Ve.commandStr),Tr="1i";break;case Vc:re.commandType(jn,"number","uniform "+Be,Ve.commandStr),Tr="1i";break;case fd:re.command(eo(jn)&&jn.length===2,"uniform "+Be,Ve.commandStr),Tr="2i";break;case Th:re.command(eo(jn)&&jn.length===2,"uniform "+Be,Ve.commandStr),Tr="2i";break;case hd:re.command(eo(jn)&&jn.length===3,"uniform "+Be,Ve.commandStr),Tr="3i";break;case Yf:re.command(eo(jn)&&jn.length===3,"uniform "+Be,Ve.commandStr),Tr="3i";break;case Mh:re.command(eo(jn)&&jn.length===4,"uniform "+Be,Ve.commandStr),Tr="4i";break;case Xf:re.command(eo(jn)&&jn.length===4,"uniform "+Be,Ve.commandStr),Tr="4i";break}Oe(lr,".uniform",Tr,"(",Cn,",",eo(jn)?Array.prototype.slice.call(jn):jn,");")}continue}else fn=Jr.append(Ve,Oe)}else{if(!Xr(_c))continue;fn=Oe.def(gr.uniforms,"[",Ae.id(Be),"]")}wr===gf?(re(!Array.isArray(fn),"must specify a scalar prop for textures"),Oe("if(",fn,"&&",fn,'._reglType==="framebuffer"){',fn,"=",fn,".color[0];","}")):wr===bc&&(re(!Array.isArray(fn),"must specify a scalar prop for cube maps"),Oe("if(",fn,"&&",fn,'._reglType==="framebufferCube"){',fn,"=",fn,".color[0];","}")),re.optional(function(){function Au(Cu,Rh){Ve.assert(Oe,Cu,'bad data or missing for uniform "'+Be+'".  '+Rh)}function pu(Cu){re(!Array.isArray(fn),"must not specify an array type for uniform"),Au("typeof "+fn+'==="'+Cu+'"',"invalid type, expected "+Cu)}function ku(Cu,Rh){Array.isArray(fn)?re(fn.length===Cu,"must have length "+Cu):Au(gr.isArrayLike+"("+fn+")&&"+fn+".length==="+Cu,"invalid vector, should have length "+Cu,Ve.commandStr)}function ap(Cu){re(!Array.isArray(fn),"must not specify a value type"),Au("typeof "+fn+'==="function"&&'+fn+'._reglType==="texture'+(Cu===Aa?"2d":"Cube")+'"',"invalid texture type",Ve.commandStr)}switch(wr){case Vc:pu("number");break;case Th:ku(2,"number");break;case Yf:ku(3,"number");break;case Xf:ku(4,"number");break;case Ju:pu("number");break;case as:ku(2,"number");break;case os:ku(3,"number");break;case wu:ku(4,"number");break;case Hc:pu("boolean");break;case fd:ku(2,"boolean");break;case hd:ku(3,"boolean");break;case Mh:ku(4,"boolean");break;case Gl:ku(4,"number");break;case Fu:ku(9,"number");break;case Lo:ku(16,"number");break;case gf:ap(Aa);break;case bc:ap(Fv);break}});var Gi=1;switch(wr){case gf:case bc:var Zi=Oe.def(fn,"._texture");Oe(lr,".uniform1i(",Cn,",",Zi,".bind());"),Oe.exit(Zi,".unbind();");continue;case Vc:case Hc:Tr="1i";break;case Th:case fd:Tr="2i",Gi=2;break;case Yf:case hd:Tr="3i",Gi=3;break;case Xf:case Mh:Tr="4i",Gi=4;break;case Ju:Tr="1f";break;case as:Tr="2f",Gi=2;break;case os:Tr="3f",Gi=3;break;case wu:Tr="4f",Gi=4;break;case Gl:Tr="Matrix2fv";break;case Fu:Tr="Matrix3fv";break;case Lo:Tr="Matrix4fv";break}if(Oe(lr,".uniform",Tr,"(",Cn,","),Tr.charAt(0)==="M"){var ja=Math.pow(wr-Gl+2,2),bo=Ve.global.def("new Float32Array(",ja,")");Array.isArray(fn)?Oe("false,(",pt(ja,function(Au){return bo+"["+Au+"]="+fn[Au]}),",",bo,")"):Oe("false,(Array.isArray(",fn,")||",fn," instanceof Float32Array)?",fn,":(",pt(ja,function(Au){return bo+"["+Au+"]="+fn+"["+Au+"]"}),",",bo,")")}else Gi>1?Oe(pt(Gi,function(Au){return Array.isArray(fn)?fn[Au]:fn+"["+Au+"]"})):(re(!Array.isArray(fn),"uniform value must not be an array"),Oe(fn));Oe(");")}}function Ui(Ve,Oe,vr,Ur){var Xr=Ve.shared,gr=Xr.gl,lr=Xr.draw,Tr=Ur.draw;function Ue(){var Zi=Tr.elements,ja,bo=Oe;return Zi?((Zi.contextDep&&Ur.contextDynamic||Zi.propDep)&&(bo=vr),ja=Zi.append(Ve,bo)):ja=bo.def(lr,".",yl),ja&&bo("if("+ja+")"+gr+".bindBuffer("+Su+","+ja+".buffer.buffer);"),ja}function sr(){var Zi=Tr.count,ja,bo=Oe;return Zi?((Zi.contextDep&&Ur.contextDynamic||Zi.propDep)&&(bo=vr),ja=Zi.append(Ve,bo),re.optional(function(){Zi.MISSING&&Ve.assert(Oe,"false","missing vertex count"),Zi.DYNAMIC&&Ve.assert(bo,ja+">=0","missing vertex count")})):(ja=bo.def(lr,".",du),re.optional(function(){Ve.assert(bo,ja+">=0","missing vertex count")})),ja}var Be=Ue();function wr(Zi){var ja=Tr[Zi];return ja?ja.contextDep&&Ur.contextDynamic||ja.propDep?ja.append(Ve,vr):ja.append(Ve,Oe):Oe.def(lr,".",Zi)}var Jr=wr(Wc),bn=wr(Eu),Cn=sr();if(typeof Cn=="number"){if(Cn===0)return}else vr("if(",Cn,"){"),vr.exit("}");var fn,jn;Ft&&(fn=wr(Ru),jn=Ve.instancing);var Si=Be+".type",ta=Tr.elements&&Cs(Tr.elements);function wi(){function Zi(){vr(jn,".drawElementsInstancedANGLE(",[Jr,Cn,Si,bn+"<<(("+Si+"-"+bh+")>>1)",fn],");")}function ja(){vr(jn,".drawArraysInstancedANGLE(",[Jr,bn,Cn,fn],");")}Be?ta?Zi():(vr("if(",Be,"){"),Zi(),vr("}else{"),ja(),vr("}")):ja()}function Gi(){function Zi(){vr(gr+".drawElements("+[Jr,Cn,Si,bn+"<<(("+Si+"-"+bh+")>>1)"]+");")}function ja(){vr(gr+".drawArrays("+[Jr,bn,Cn]+");")}Be?ta?Zi():(vr("if(",Be,"){"),Zi(),vr("}else{"),ja(),vr("}")):ja()}Ft&&(typeof fn!="number"||fn>=0)?typeof fn=="string"?(vr("if(",fn,">0){"),wi(),vr("}else if(",fn,"<0){"),Gi(),vr("}")):wi():Gi()}function aa(Ve,Oe,vr,Ur,Xr){var gr=zn(),lr=gr.proc("body",Xr);return re.optional(function(){gr.commandStr=Oe.commandStr,gr.command=gr.link(Oe.commandStr)}),Ft&&(gr.instancing=lr.def(gr.shared.extensions,".angle_instanced_arrays")),Ve(gr,lr,vr,Ur),gr.compile().body}function Ca(Ve,Oe,vr,Ur){Fo(Ve,Oe),vr.useVAO?vr.drawVAO?Oe(Ve.shared.vao,".setVAO(",vr.drawVAO.append(Ve,Oe),");"):Oe(Ve.shared.vao,".setVAO(",Ve.shared.vao,".targetVAO);"):(Oe(Ve.shared.vao,".setVAO(null);"),Us(Ve,Oe,vr,Ur.attributes,function(){return!0})),Ga(Ve,Oe,vr,Ur.uniforms,function(){return!0}),Ui(Ve,Oe,Oe,vr)}function Ho(Ve,Oe){var vr=Ve.proc("draw",1);Fo(Ve,vr),vo(Ve,vr,Oe.context),fo(Ve,vr,Oe.framebuffer),ao(Ve,vr,Oe),xo(Ve,vr,Oe.state),Qi(Ve,vr,Oe,!1,!0);var Ur=Oe.shader.progVar.append(Ve,vr);if(vr(Ve.shared.gl,".useProgram(",Ur,".program);"),Oe.shader.program)Ca(Ve,vr,Oe,Oe.shader.program);else{vr(Ve.shared.vao,".setVAO(null);");var Xr=Ve.global.def("{}"),gr=vr.def(Ur,".id"),lr=vr.def(Xr,"[",gr,"]");vr(Ve.cond(lr).then(lr,".call(this,a0);").else(lr,"=",Xr,"[",gr,"]=",Ve.link(function(Tr){return aa(Ca,Ve,Oe,Tr,1)}),"(",Ur,");",lr,".call(this,a0);"))}Object.keys(Oe.state).length>0&&vr(Ve.shared.current,".dirty=true;")}function _u(Ve,Oe,vr,Ur){Ve.batchId="a1",Fo(Ve,Oe);function Xr(){return!0}Us(Ve,Oe,vr,Ur.attributes,Xr),Ga(Ve,Oe,vr,Ur.uniforms,Xr),Ui(Ve,Oe,Oe,vr)}function zl(Ve,Oe,vr,Ur){Fo(Ve,Oe);var Xr=vr.contextDep,gr=Oe.def(),lr="a0",Tr="a1",Ue=Oe.def();Ve.shared.props=Ue,Ve.batchId=gr;var sr=Ve.scope(),Be=Ve.scope();Oe(sr.entry,"for(",gr,"=0;",gr,"<",Tr,";++",gr,"){",Ue,"=",lr,"[",gr,"];",Be,"}",sr.exit);function wr(Si){return Si.contextDep&&Xr||Si.propDep}function Jr(Si){return!wr(Si)}if(vr.needsContext&&vo(Ve,Be,vr.context),vr.needsFramebuffer&&fo(Ve,Be,vr.framebuffer),xo(Ve,Be,vr.state,wr),vr.profile&&wr(vr.profile)&&Qi(Ve,Be,vr,!1,!0),Ur)vr.useVAO?vr.drawVAO?wr(vr.drawVAO)?Be(Ve.shared.vao,".setVAO(",vr.drawVAO.append(Ve,Be),");"):sr(Ve.shared.vao,".setVAO(",vr.drawVAO.append(Ve,sr),");"):sr(Ve.shared.vao,".setVAO(",Ve.shared.vao,".targetVAO);"):(sr(Ve.shared.vao,".setVAO(null);"),Us(Ve,sr,vr,Ur.attributes,Jr),Us(Ve,Be,vr,Ur.attributes,wr)),Ga(Ve,sr,vr,Ur.uniforms,Jr),Ga(Ve,Be,vr,Ur.uniforms,wr),Ui(Ve,sr,Be,vr);else{var bn=Ve.global.def("{}"),Cn=vr.shader.progVar.append(Ve,Be),fn=Be.def(Cn,".id"),jn=Be.def(bn,"[",fn,"]");Be(Ve.shared.gl,".useProgram(",Cn,".program);","if(!",jn,"){",jn,"=",bn,"[",fn,"]=",Ve.link(function(Si){return aa(_u,Ve,vr,Si,2)}),"(",Cn,");}",jn,".call(this,a0[",gr,"],",gr,");")}}function Ze(Ve,Oe){var vr=Ve.proc("batch",2);Ve.batchId="0",Fo(Ve,vr);var Ur=!1,Xr=!0;Object.keys(Oe.context).forEach(function(bn){Ur=Ur||Oe.context[bn].propDep}),Ur||(vo(Ve,vr,Oe.context),Xr=!1);var gr=Oe.framebuffer,lr=!1;gr?(gr.propDep?Ur=lr=!0:gr.contextDep&&Ur&&(lr=!0),lr||fo(Ve,vr,gr)):fo(Ve,vr,null),Oe.state.viewport&&Oe.state.viewport.propDep&&(Ur=!0);function Tr(bn){return bn.contextDep&&Ur||bn.propDep}ao(Ve,vr,Oe),xo(Ve,vr,Oe.state,function(bn){return!Tr(bn)}),(!Oe.profile||!Tr(Oe.profile))&&Qi(Ve,vr,Oe,!1,"a1"),Oe.contextDep=Ur,Oe.needsContext=Xr,Oe.needsFramebuffer=lr;var Ue=Oe.shader.progVar;if(Ue.contextDep&&Ur||Ue.propDep)zl(Ve,vr,Oe,null);else{var sr=Ue.append(Ve,vr);if(vr(Ve.shared.gl,".useProgram(",sr,".program);"),Oe.shader.program)zl(Ve,vr,Oe,Oe.shader.program);else{vr(Ve.shared.vao,".setVAO(null);");var Be=Ve.global.def("{}"),wr=vr.def(sr,".id"),Jr=vr.def(Be,"[",wr,"]");vr(Ve.cond(Jr).then(Jr,".call(this,a0,a1);").else(Jr,"=",Be,"[",wr,"]=",Ve.link(function(bn){return aa(zl,Ve,Oe,bn,2)}),"(",sr,");",Jr,".call(this,a0,a1);"))}}Object.keys(Oe.state).length>0&&vr(Ve.shared.current,".dirty=true;")}function on(Ve,Oe){var vr=Ve.proc("scope",3);Ve.batchId="a2";var Ur=Ve.shared,Xr=Ur.current;vo(Ve,vr,Oe.context),Oe.framebuffer&&Oe.framebuffer.append(Ve,vr),ya(Object.keys(Oe.state)).forEach(function(lr){var Tr=Oe.state[lr],Ue=Tr.append(Ve,vr);eo(Ue)?Ue.forEach(function(sr,Be){vr.set(Ve.next[lr],"["+Be+"]",sr)}):vr.set(Ur.next,"."+lr,Ue)}),Qi(Ve,vr,Oe,!0,!0),[yl,Eu,du,Ru,Wc].forEach(function(lr){var Tr=Oe.draw[lr];!Tr||vr.set(Ur.draw,"."+lr,""+Tr.append(Ve,vr))}),Object.keys(Oe.uniforms).forEach(function(lr){var Tr=Oe.uniforms[lr].append(Ve,vr);Array.isArray(Tr)&&(Tr="["+Tr.join()+"]"),vr.set(Ur.uniforms,"["+Ae.id(lr)+"]",Tr)}),Object.keys(Oe.attributes).forEach(function(lr){var Tr=Oe.attributes[lr].append(Ve,vr),Ue=Ve.scopeAttrib(lr);Object.keys(new It).forEach(function(sr){vr.set(Ue,"."+sr,Tr[sr])})}),Oe.scopeVAO&&vr.set(Ur.vao,".targetVAO",Oe.scopeVAO.append(Ve,vr));function gr(lr){var Tr=Oe.shader[lr];Tr&&vr.set(Ur.shader,"."+lr,Tr.append(Ve,vr))}gr(ka),gr(jf),Object.keys(Oe.state).length>0&&(vr(Xr,".dirty=true;"),vr.exit(Xr,".dirty=true;")),vr("a1(",Ve.shared.context,",a0,",Ve.batchId,");")}function an(Ve){if(!(typeof Ve!="object"||eo(Ve))){for(var Oe=Object.keys(Ve),vr=0;vr<Oe.length;++vr)if(Gn.isDynamic(Ve[Oe[vr]]))return!0;return!1}}function gi(Ve,Oe,vr){var Ur=Oe.static[vr];if(!Ur||!an(Ur))return;var Xr=Ve.global,gr=Object.keys(Ur),lr=!1,Tr=!1,Ue=!1,sr=Ve.global.def("{}");gr.forEach(function(wr){var Jr=Ur[wr];if(Gn.isDynamic(Jr)){typeof Jr=="function"&&(Jr=Ur[wr]=Gn.unbox(Jr));var bn=Io(Jr,null);lr=lr||bn.thisDep,Ue=Ue||bn.propDep,Tr=Tr||bn.contextDep}else{switch(Xr(sr,".",wr,"="),typeof Jr){case"number":Xr(Jr);break;case"string":Xr('"',Jr,'"');break;case"object":Array.isArray(Jr)&&Xr("[",Jr.join(),"]");break;default:Xr(Ve.link(Jr));break}Xr(";")}});function Be(wr,Jr){gr.forEach(function(bn){var Cn=Ur[bn];if(!!Gn.isDynamic(Cn)){var fn=wr.invoke(Jr,Cn);Jr(sr,".",bn,"=",fn,";")}})}Oe.dynamic[vr]=new Gn.DynamicVariable(sd,{thisDep:lr,contextDep:Tr,propDep:Ue,ref:sr,append:Be}),delete Oe.static[vr]}function la(Ve,Oe,vr,Ur,Xr){var gr=zn();gr.stats=gr.link(Xr),Object.keys(Oe.static).forEach(function(Tr){gi(gr,Oe,Tr)}),kl.forEach(function(Tr){gi(gr,Ve,Tr)});var lr=ma(Ve,Oe,vr,Ur,gr);return Ho(gr,lr),on(gr,lr),Ze(gr,lr),d(gr.compile(),{destroy:function(){lr.shader.program.destroy()}})}return{next:ee,current:Qt,procs:function(){var Ve=zn(),Oe=Ve.proc("poll"),vr=Ve.proc("refresh"),Ur=Ve.block();Oe(Ur),vr(Ur);var Xr=Ve.shared,gr=Xr.gl,lr=Xr.next,Tr=Xr.current;Ur(Tr,".dirty=false;"),fo(Ve,Oe),fo(Ve,vr,null,!0);var Ue;Ft&&(Ue=Ve.link(Ft)),Qe.oes_vertex_array_object&&vr(Ve.link(Qe.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var sr=0;sr<Hr.maxAttributes;++sr){var Be=vr.def(Xr.attributes,"[",sr,"]"),wr=Ve.cond(Be,".buffer");wr.then(gr,".enableVertexAttribArray(",sr,");",gr,".bindBuffer(",vu,",",Be,".buffer.buffer);",gr,".vertexAttribPointer(",sr,",",Be,".size,",Be,".type,",Be,".normalized,",Be,".stride,",Be,".offset);").else(gr,".disableVertexAttribArray(",sr,");",gr,".vertexAttrib4f(",sr,",",Be,".x,",Be,".y,",Be,".z,",Be,".w);",Be,".buffer=null;"),vr(wr),Ft&&vr(Ue,".vertexAttribDivisorANGLE(",sr,",",Be,".divisor);")}return vr(Ve.shared.vao,".currentVAO=null;",Ve.shared.vao,".setVAO(",Ve.shared.vao,".targetVAO);"),Object.keys(Ie).forEach(function(Jr){var bn=Ie[Jr],Cn=Ur.def(lr,".",Jr),fn=Ve.block();fn("if(",Cn,"){",gr,".enable(",bn,")}else{",gr,".disable(",bn,")}",Tr,".",Jr,"=",Cn,";"),vr(fn),Oe("if(",Cn,"!==",Tr,".",Jr,"){",fn,"}")}),Object.keys(Pe).forEach(function(Jr){var bn=Pe[Jr],Cn=Qt[Jr],fn,jn,Si=Ve.block();if(Si(gr,".",bn,"("),eo(Cn)){var ta=Cn.length;fn=Ve.global.def(lr,".",Jr),jn=Ve.global.def(Tr,".",Jr),Si(pt(ta,function(wi){return fn+"["+wi+"]"}),");",pt(ta,function(wi){return jn+"["+wi+"]="+fn+"["+wi+"];"}).join("")),Oe("if(",pt(ta,function(wi){return fn+"["+wi+"]!=="+jn+"["+wi+"]"}).join("||"),"){",Si,"}")}else fn=Ur.def(lr,".",Jr),jn=Ur.def(Tr,".",Jr),Si(fn,");",Tr,".",Jr,"=",fn,";"),Oe("if(",fn,"!==",jn,"){",Si,"}");vr(Si)}),Ve.compile()}(),compile:la}}function el(){return{vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}var pd=34918,$f=34919,gd=35007,Ef=function($t,Ae){if(!Ae.ext_disjoint_timer_query)return null;var Qe=[];function Hr(){return Qe.pop()||Ae.ext_disjoint_timer_query.createQueryEXT()}function Lr(Ft){Qe.push(Ft)}var rn=[];function dn(Ft){var Yt=Hr();Ae.ext_disjoint_timer_query.beginQueryEXT(gd,Yt),rn.push(Yt),et(rn.length-1,rn.length,Ft)}function Mn(){Ae.ext_disjoint_timer_query.endQueryEXT(gd)}function Yn(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var Hn=[];function Un(){return Hn.pop()||new Yn}function Nn(Ft){Hn.push(Ft)}var j=[];function et(Ft,Yt,Qt){var ee=Un();ee.startQueryIndex=Ft,ee.endQueryIndex=Yt,ee.sum=0,ee.stats=Qt,j.push(ee)}var wt=[],It=[];function Nt(){var Ft,Yt,Qt=rn.length;if(Qt!==0){It.length=Math.max(It.length,Qt+1),wt.length=Math.max(wt.length,Qt+1),wt[0]=0,It[0]=0;var ee=0;for(Ft=0,Yt=0;Yt<rn.length;++Yt){var de=rn[Yt];Ae.ext_disjoint_timer_query.getQueryObjectEXT(de,$f)?(ee+=Ae.ext_disjoint_timer_query.getQueryObjectEXT(de,pd),Lr(de)):rn[Ft++]=de,wt[Yt+1]=ee,It[Yt+1]=Ft}for(rn.length=Ft,Ft=0,Yt=0;Yt<j.length;++Yt){var Ie=j[Yt],Pe=Ie.startQueryIndex,Ke=Ie.endQueryIndex;Ie.sum+=wt[Ke]-wt[Pe];var Ar=It[Pe],pn=It[Ke];pn===Ar?(Ie.stats.gpuTime+=Ie.sum/1e6,Nn(Ie)):(Ie.startQueryIndex=Ar,Ie.endQueryIndex=pn,j[Ft++]=Ie)}j.length=Ft}}return{beginQuery:dn,endQuery:Mn,pushScopeStats:et,update:Nt,getNumPendingQueries:function(){return rn.length},clear:function(){Qe.push.apply(Qe,rn);for(var Ft=0;Ft<Qe.length;Ft++)Ae.ext_disjoint_timer_query.deleteQueryEXT(Qe[Ft]);rn.length=0,Qe.length=0},restore:function(){rn.length=0,Qe.length=0}}},yd=16384,wl=256,ri=1024,md=34962,Dh="webglcontextlost",Ph="webglcontextrestored",Lh=1,sv=2,ip=3;function $c($t,Ae){for(var Qe=0;Qe<$t.length;++Qe)if($t[Qe]===Ae)return Qe;return-1}function Ac($t){var Ae=Ut($t);if(!Ae)return null;var Qe=Ae.gl,Hr=Qe.getContextAttributes(),Lr=Qe.isContextLost(),rn=ft(Qe,Ae);if(!rn)return null;var dn=Fn(),Mn=el(),Yn=rn.extensions,Hn=Ef(Qe,Yn),Un=In(),Nn=Qe.drawingBufferWidth,j=Qe.drawingBufferHeight,et={tick:0,time:0,viewportWidth:Nn,viewportHeight:j,framebufferWidth:Nn,framebufferHeight:j,drawingBufferWidth:Nn,drawingBufferHeight:j,pixelRatio:Ae.pixelRatio},wt={},It={elements:null,primitive:4,count:-1,offset:0,instances:-1},Nt=ah(Qe,Yn),Ft=Mv(Qe,Mn,Ae,Qt),Yt=Qs(Qe,Yn,Nt,Mn,Ft);function Qt(Ui){return Yt.destroyBuffer(Ui)}var ee=ul(Qe,Yn,Ft,Mn),de=ws(Qe,dn,Mn,Ae),Ie=Rd(Qe,Yn,Nt,function(){Ar.procs.poll()},et,Mn,Ae),Pe=Pl(Qe,Yn,Nt,Mn,Ae),Ke=yh(Qe,Yn,Nt,Ie,Pe,Mn),Ar=vd(Qe,dn,Yn,Nt,Ft,ee,Ie,Ke,wt,Yt,de,It,et,Hn,Ae),pn=Da(Qe,Ke,Ar.procs.poll,et,Hr,Yn,Nt),Dr=Ar.next,Pr=Qe.canvas,Rr=[],zn=[],ni=[],Qn=[Ae.onDestroy],Ti=null;function li(){if(Rr.length===0){Hn&&Hn.update(),Ti=null;return}Ti=En.next(li),xo();for(var Ui=Rr.length-1;Ui>=0;--Ui){var aa=Rr[Ui];aa&&aa(et,null,0)}Qe.flush(),Hn&&Hn.update()}function Di(){!Ti&&Rr.length>0&&(Ti=En.next(li))}function Wi(){Ti&&(En.cancel(li),Ti=null)}function zi(Ui){Ui.preventDefault(),Lr=!0,Wi(),zn.forEach(function(aa){aa()})}function Pa(Ui){Qe.getError(),Lr=!1,rn.restore(),de.restore(),Ft.restore(),Ie.restore(),Pe.restore(),Ke.restore(),Yt.restore(),Hn&&Hn.restore(),Ar.procs.refresh(),Di(),ni.forEach(function(aa){aa()})}Pr&&(Pr.addEventListener(Dh,zi,!1),Pr.addEventListener(Ph,Pa,!1));function Xi(){Rr.length=0,Wi(),Pr&&(Pr.removeEventListener(Dh,zi),Pr.removeEventListener(Ph,Pa)),de.clear(),Ke.clear(),Pe.clear(),Ie.clear(),ee.clear(),Ft.clear(),Yt.clear(),Hn&&Hn.clear(),Qn.forEach(function(Ui){Ui()})}function io(Ui){re(!!Ui,"invalid args to regl({...})"),re.type(Ui,"object","invalid args to regl({...})");function aa(Xr){var gr=d({},Xr);delete gr.uniforms,delete gr.attributes,delete gr.context,delete gr.vao,"stencil"in gr&&gr.stencil.op&&(gr.stencil.opBack=gr.stencil.opFront=gr.stencil.op,delete gr.stencil.op);function lr(Tr){if(Tr in gr){var Ue=gr[Tr];delete gr[Tr],Object.keys(Ue).forEach(function(sr){gr[Tr+"."+sr]=Ue[sr]})}}return lr("blend"),lr("depth"),lr("cull"),lr("stencil"),lr("polygonOffset"),lr("scissor"),lr("sample"),"vao"in Xr&&(gr.vao=Xr.vao),gr}function Ca(Xr,gr){var lr={},Tr={};return Object.keys(Xr).forEach(function(Ue){var sr=Xr[Ue];if(Gn.isDynamic(sr)){Tr[Ue]=Gn.unbox(sr,Ue);return}else if(gr&&Array.isArray(sr)){for(var Be=0;Be<sr.length;++Be)if(Gn.isDynamic(sr[Be])){Tr[Ue]=Gn.unbox(sr,Ue);return}}lr[Ue]=sr}),{dynamic:Tr,static:lr}}var Ho=Ca(Ui.context||{},!0),_u=Ca(Ui.uniforms||{},!0),zl=Ca(Ui.attributes||{},!1),Ze=Ca(aa(Ui),!1),on={gpuTime:0,cpuTime:0,count:0},an=Ar.compile(Ze,zl,_u,Ho,on),gi=an.draw,la=an.batch,Ve=an.scope,Oe=[];function vr(Xr){for(;Oe.length<Xr;)Oe.push(null);return Oe}function Ur(Xr,gr){var lr;if(Lr&&re.raise("context lost"),typeof Xr=="function")return Ve.call(this,null,Xr,0);if(typeof gr=="function")if(typeof Xr=="number")for(lr=0;lr<Xr;++lr)Ve.call(this,null,gr,lr);else if(Array.isArray(Xr))for(lr=0;lr<Xr.length;++lr)Ve.call(this,Xr[lr],gr,lr);else return Ve.call(this,Xr,gr,0);else if(typeof Xr=="number"){if(Xr>0)return la.call(this,vr(Xr|0),Xr|0)}else if(Array.isArray(Xr)){if(Xr.length)return la.call(this,Xr,Xr.length)}else return gi.call(this,Xr)}return d(Ur,{stats:on,destroy:function(){an.destroy()}})}var Ka=Ke.setFBO=io({framebuffer:Gn.define.call(null,Lh,"framebuffer")});function ma(Ui,aa){var Ca=0;Ar.procs.poll();var Ho=aa.color;Ho&&(Qe.clearColor(+Ho[0]||0,+Ho[1]||0,+Ho[2]||0,+Ho[3]||0),Ca|=yd),"depth"in aa&&(Qe.clearDepth(+aa.depth),Ca|=wl),"stencil"in aa&&(Qe.clearStencil(aa.stencil|0),Ca|=ri),re(!!Ca,"called regl.clear with no buffer specified"),Qe.clear(Ca)}function vo(Ui){if(re(typeof Ui=="object"&&Ui,"regl.clear() takes an object as input"),"framebuffer"in Ui)if(Ui.framebuffer&&Ui.framebuffer_reglType==="framebufferCube")for(var aa=0;aa<6;++aa)Ka(d({framebuffer:Ui.framebuffer.faces[aa]},Ui),ma);else Ka(Ui,ma);else ma(null,Ui)}function fo(Ui){re.type(Ui,"function","regl.frame() callback must be a function"),Rr.push(Ui);function aa(){var Ca=$c(Rr,Ui);re(Ca>=0,"cannot cancel a frame twice");function Ho(){var _u=$c(Rr,Ho);Rr[_u]=Rr[Rr.length-1],Rr.length-=1,Rr.length<=0&&Wi()}Rr[Ca]=Ho}return Di(),{cancel:aa}}function ao(){var Ui=Dr.viewport,aa=Dr.scissor_box;Ui[0]=Ui[1]=aa[0]=aa[1]=0,et.viewportWidth=et.framebufferWidth=et.drawingBufferWidth=Ui[2]=aa[2]=Qe.drawingBufferWidth,et.viewportHeight=et.framebufferHeight=et.drawingBufferHeight=Ui[3]=aa[3]=Qe.drawingBufferHeight}function xo(){et.tick+=1,et.time=Qi(),ao(),Ar.procs.poll()}function Fo(){Ie.refresh(),ao(),Ar.procs.refresh(),Hn&&Hn.update()}function Qi(){return(In()-Un)/1e3}Fo();function Us(Ui,aa){re.type(aa,"function","listener callback must be a function");var Ca;switch(Ui){case"frame":return fo(aa);case"lost":Ca=zn;break;case"restore":Ca=ni;break;case"destroy":Ca=Qn;break;default:re.raise("invalid event, must be one of frame,lost,restore,destroy")}return Ca.push(aa),{cancel:function(){for(var Ho=0;Ho<Ca.length;++Ho)if(Ca[Ho]===aa){Ca[Ho]=Ca[Ca.length-1],Ca.pop();return}}}}var Ga=d(io,{clear:vo,prop:Gn.define.bind(null,Lh),context:Gn.define.bind(null,sv),this:Gn.define.bind(null,ip),draw:io({}),buffer:function(Ui){return Ft.create(Ui,md,!1,!1)},elements:function(Ui){return ee.create(Ui,!1)},texture:Ie.create2D,cube:Ie.createCube,renderbuffer:Pe.create,framebuffer:Ke.create,framebufferCube:Ke.createCube,vao:Yt.createVAO,attributes:Hr,frame:fo,on:Us,limits:Nt,hasExtension:function(Ui){return Nt.extensions.indexOf(Ui.toLowerCase())>=0},read:pn,destroy:Xi,_gl:Qe,_refresh:Fo,poll:function(){xo(),Hn&&Hn.update()},now:Qi,stats:Mn});return Ae.onDone(null,Ga),Ga}return Ac})},64707:function(at,R,d){var x,b;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var P,_,O,T,F,M,A,L,I,k,B,z,W,$,K,lt,st,yt,q,nt,ct,bt,_t;(function(St){var At=typeof d.g=="object"?d.g:typeof self=="object"?self:typeof this=="object"?this:{};x=[R],b=function(dt){St(vt(At,vt(dt)))}.apply(R,x),b!==void 0&&(at.exports=b);function vt(dt,gt){return dt!==At&&(typeof Object.create=="function"?Object.defineProperty(dt,"__esModule",{value:!0}):dt.__esModule=!0),function(Ct,Et){return dt[Ct]=gt?gt(Ct,Et):Et}}})(function(St){var At=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(vt,dt){vt.__proto__=dt}||function(vt,dt){for(var gt in dt)dt.hasOwnProperty(gt)&&(vt[gt]=dt[gt])};P=function(vt,dt){At(vt,dt);function gt(){this.constructor=vt}vt.prototype=dt===null?Object.create(dt):(gt.prototype=dt.prototype,new gt)},_=Object.assign||function(vt){for(var dt,gt=1,Ct=arguments.length;gt<Ct;gt++){dt=arguments[gt];for(var Et in dt)Object.prototype.hasOwnProperty.call(dt,Et)&&(vt[Et]=dt[Et])}return vt},O=function(vt,dt){var gt={};for(var Ct in vt)Object.prototype.hasOwnProperty.call(vt,Ct)&&dt.indexOf(Ct)<0&&(gt[Ct]=vt[Ct]);if(vt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Et=0,Ct=Object.getOwnPropertySymbols(vt);Et<Ct.length;Et++)dt.indexOf(Ct[Et])<0&&Object.prototype.propertyIsEnumerable.call(vt,Ct[Et])&&(gt[Ct[Et]]=vt[Ct[Et]]);return gt},T=function(vt,dt,gt,Ct){var Et=arguments.length,Tt=Et<3?dt:Ct===null?Ct=Object.getOwnPropertyDescriptor(dt,gt):Ct,ot;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Tt=Reflect.decorate(vt,dt,gt,Ct);else for(var Mt=vt.length-1;Mt>=0;Mt--)(ot=vt[Mt])&&(Tt=(Et<3?ot(Tt):Et>3?ot(dt,gt,Tt):ot(dt,gt))||Tt);return Et>3&&Tt&&Object.defineProperty(dt,gt,Tt),Tt},F=function(vt,dt){return function(gt,Ct){dt(gt,Ct,vt)}},M=function(vt,dt){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(vt,dt)},A=function(vt,dt,gt,Ct){function Et(Tt){return Tt instanceof gt?Tt:new gt(function(ot){ot(Tt)})}return new(gt||(gt=Promise))(function(Tt,ot){function Mt(qt){try{jt(Ct.next(qt))}catch(se){ot(se)}}function Wt(qt){try{jt(Ct.throw(qt))}catch(se){ot(se)}}function jt(qt){qt.done?Tt(qt.value):Et(qt.value).then(Mt,Wt)}jt((Ct=Ct.apply(vt,dt||[])).next())})},L=function(vt,dt){var gt={label:0,sent:function(){if(Tt[0]&1)throw Tt[1];return Tt[1]},trys:[],ops:[]},Ct,Et,Tt,ot;return ot={next:Mt(0),throw:Mt(1),return:Mt(2)},typeof Symbol=="function"&&(ot[Symbol.iterator]=function(){return this}),ot;function Mt(jt){return function(qt){return Wt([jt,qt])}}function Wt(jt){if(Ct)throw new TypeError("Generator is already executing.");for(;gt;)try{if(Ct=1,Et&&(Tt=jt[0]&2?Et.return:jt[0]?Et.throw||((Tt=Et.return)&&Tt.call(Et),0):Et.next)&&!(Tt=Tt.call(Et,jt[1])).done)return Tt;switch(Et=0,Tt&&(jt=[jt[0]&2,Tt.value]),jt[0]){case 0:case 1:Tt=jt;break;case 4:return gt.label++,{value:jt[1],done:!1};case 5:gt.label++,Et=jt[1],jt=[0];continue;case 7:jt=gt.ops.pop(),gt.trys.pop();continue;default:if(Tt=gt.trys,!(Tt=Tt.length>0&&Tt[Tt.length-1])&&(jt[0]===6||jt[0]===2)){gt=0;continue}if(jt[0]===3&&(!Tt||jt[1]>Tt[0]&&jt[1]<Tt[3])){gt.label=jt[1];break}if(jt[0]===6&&gt.label<Tt[1]){gt.label=Tt[1],Tt=jt;break}if(Tt&&gt.label<Tt[2]){gt.label=Tt[2],gt.ops.push(jt);break}Tt[2]&&gt.ops.pop(),gt.trys.pop();continue}jt=dt.call(vt,gt)}catch(qt){jt=[6,qt],Et=0}finally{Ct=Tt=0}if(jt[0]&5)throw jt[1];return{value:jt[0]?jt[1]:void 0,done:!0}}},_t=function(vt,dt,gt,Ct){Ct===void 0&&(Ct=gt),vt[Ct]=dt[gt]},I=function(vt,dt){for(var gt in vt)gt!=="default"&&!dt.hasOwnProperty(gt)&&(dt[gt]=vt[gt])},k=function(vt){var dt=typeof Symbol=="function"&&Symbol.iterator,gt=dt&&vt[dt],Ct=0;if(gt)return gt.call(vt);if(vt&&typeof vt.length=="number")return{next:function(){return vt&&Ct>=vt.length&&(vt=void 0),{value:vt&&vt[Ct++],done:!vt}}};throw new TypeError(dt?"Object is not iterable.":"Symbol.iterator is not defined.")},B=function(vt,dt){var gt=typeof Symbol=="function"&&vt[Symbol.iterator];if(!gt)return vt;var Ct=gt.call(vt),Et,Tt=[],ot;try{for(;(dt===void 0||dt-- >0)&&!(Et=Ct.next()).done;)Tt.push(Et.value)}catch(Mt){ot={error:Mt}}finally{try{Et&&!Et.done&&(gt=Ct.return)&&gt.call(Ct)}finally{if(ot)throw ot.error}}return Tt},z=function(){for(var vt=[],dt=0;dt<arguments.length;dt++)vt=vt.concat(B(arguments[dt]));return vt},W=function(){for(var vt=0,dt=0,gt=arguments.length;dt<gt;dt++)vt+=arguments[dt].length;for(var Ct=Array(vt),Et=0,dt=0;dt<gt;dt++)for(var Tt=arguments[dt],ot=0,Mt=Tt.length;ot<Mt;ot++,Et++)Ct[Et]=Tt[ot];return Ct},$=function(vt){return this instanceof $?(this.v=vt,this):new $(vt)},K=function(vt,dt,gt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ct=gt.apply(vt,dt||[]),Et,Tt=[];return Et={},ot("next"),ot("throw"),ot("return"),Et[Symbol.asyncIterator]=function(){return this},Et;function ot(ae){Ct[ae]&&(Et[ae]=function(he){return new Promise(function(ke,Le){Tt.push([ae,he,ke,Le])>1||Mt(ae,he)})})}function Mt(ae,he){try{Wt(Ct[ae](he))}catch(ke){se(Tt[0][3],ke)}}function Wt(ae){ae.value instanceof $?Promise.resolve(ae.value.v).then(jt,qt):se(Tt[0][2],ae)}function jt(ae){Mt("next",ae)}function qt(ae){Mt("throw",ae)}function se(ae,he){ae(he),Tt.shift(),Tt.length&&Mt(Tt[0][0],Tt[0][1])}},lt=function(vt){var dt,gt;return dt={},Ct("next"),Ct("throw",function(Et){throw Et}),Ct("return"),dt[Symbol.iterator]=function(){return this},dt;function Ct(Et,Tt){dt[Et]=vt[Et]?function(ot){return(gt=!gt)?{value:$(vt[Et](ot)),done:Et==="return"}:Tt?Tt(ot):ot}:Tt}},st=function(vt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var dt=vt[Symbol.asyncIterator],gt;return dt?dt.call(vt):(vt=typeof k=="function"?k(vt):vt[Symbol.iterator](),gt={},Ct("next"),Ct("throw"),Ct("return"),gt[Symbol.asyncIterator]=function(){return this},gt);function Ct(Tt){gt[Tt]=vt[Tt]&&function(ot){return new Promise(function(Mt,Wt){ot=vt[Tt](ot),Et(Mt,Wt,ot.done,ot.value)})}}function Et(Tt,ot,Mt,Wt){Promise.resolve(Wt).then(function(jt){Tt({value:jt,done:Mt})},ot)}},yt=function(vt,dt){return Object.defineProperty?Object.defineProperty(vt,"raw",{value:dt}):vt.raw=dt,vt},q=function(vt){if(vt&&vt.__esModule)return vt;var dt={};if(vt!=null)for(var gt in vt)Object.hasOwnProperty.call(vt,gt)&&(dt[gt]=vt[gt]);return dt.default=vt,dt},nt=function(vt){return vt&&vt.__esModule?vt:{default:vt}},ct=function(vt,dt){if(!dt.has(vt))throw new TypeError("attempted to get private field on non-instance");return dt.get(vt)},bt=function(vt,dt,gt){if(!dt.has(vt))throw new TypeError("attempted to set private field on non-instance");return dt.set(vt,gt),gt},St("__extends",P),St("__assign",_),St("__rest",O),St("__decorate",T),St("__param",F),St("__metadata",M),St("__awaiter",A),St("__generator",L),St("__exportStar",I),St("__createBinding",_t),St("__values",k),St("__read",B),St("__spread",z),St("__spreadArrays",W),St("__await",$),St("__asyncGenerator",K),St("__asyncDelegator",lt),St("__asyncValues",st),St("__makeTemplateObject",yt),St("__importStar",q),St("__importDefault",nt),St("__classPrivateFieldGet",ct),St("__classPrivateFieldSet",bt)})},60053:function(at,R){"use strict";/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d,x,b,P;if(typeof performance=="object"&&typeof performance.now=="function"){var _=performance;R.unstable_now=function(){return _.now()}}else{var O=Date,T=O.now();R.unstable_now=function(){return O.now()-T}}if(typeof window=="undefined"||typeof MessageChannel!="function"){var F=null,M=null,A=function(){if(F!==null)try{var Wt=R.unstable_now();F(!0,Wt),F=null}catch(jt){throw setTimeout(A,0),jt}};d=function(Wt){F!==null?setTimeout(d,0,Wt):(F=Wt,setTimeout(A,0))},x=function(Wt,jt){M=setTimeout(Wt,jt)},b=function(){clearTimeout(M)},R.unstable_shouldYield=function(){return!1},P=R.unstable_forceFrameRate=function(){}}else{var L=window.setTimeout,I=window.clearTimeout;if(typeof console!="undefined"){var k=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof k!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var B=!1,z=null,W=-1,$=5,K=0;R.unstable_shouldYield=function(){return R.unstable_now()>=K},P=function(){},R.unstable_forceFrameRate=function(Wt){0>Wt||125<Wt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<Wt?Math.floor(1e3/Wt):5};var lt=new MessageChannel,st=lt.port2;lt.port1.onmessage=function(){if(z!==null){var Wt=R.unstable_now();K=Wt+$;try{z(!0,Wt)?st.postMessage(null):(B=!1,z=null)}catch(jt){throw st.postMessage(null),jt}}else B=!1},d=function(Wt){z=Wt,B||(B=!0,st.postMessage(null))},x=function(Wt,jt){W=L(function(){Wt(R.unstable_now())},jt)},b=function(){I(W),W=-1}}function yt(Wt,jt){var qt=Wt.length;Wt.push(jt);t:for(;;){var se=qt-1>>>1,ae=Wt[se];if(ae!==void 0&&0<ct(ae,jt))Wt[se]=jt,Wt[qt]=ae,qt=se;else break t}}function q(Wt){return Wt=Wt[0],Wt===void 0?null:Wt}function nt(Wt){var jt=Wt[0];if(jt!==void 0){var qt=Wt.pop();if(qt!==jt){Wt[0]=qt;t:for(var se=0,ae=Wt.length;se<ae;){var he=2*(se+1)-1,ke=Wt[he],Le=he+1,rr=Wt[Le];if(ke!==void 0&&0>ct(ke,qt))rr!==void 0&&0>ct(rr,ke)?(Wt[se]=rr,Wt[Le]=qt,se=Le):(Wt[se]=ke,Wt[he]=qt,se=he);else if(rr!==void 0&&0>ct(rr,qt))Wt[se]=rr,Wt[Le]=qt,se=Le;else break t}}return jt}return null}function ct(Wt,jt){var qt=Wt.sortIndex-jt.sortIndex;return qt!==0?qt:Wt.id-jt.id}var bt=[],_t=[],St=1,At=null,vt=3,dt=!1,gt=!1,Ct=!1;function Et(Wt){for(var jt=q(_t);jt!==null;){if(jt.callback===null)nt(_t);else if(jt.startTime<=Wt)nt(_t),jt.sortIndex=jt.expirationTime,yt(bt,jt);else break;jt=q(_t)}}function Tt(Wt){if(Ct=!1,Et(Wt),!gt)if(q(bt)!==null)gt=!0,d(ot);else{var jt=q(_t);jt!==null&&x(Tt,jt.startTime-Wt)}}function ot(Wt,jt){gt=!1,Ct&&(Ct=!1,b()),dt=!0;var qt=vt;try{for(Et(jt),At=q(bt);At!==null&&(!(At.expirationTime>jt)||Wt&&!R.unstable_shouldYield());){var se=At.callback;if(typeof se=="function"){At.callback=null,vt=At.priorityLevel;var ae=se(At.expirationTime<=jt);jt=R.unstable_now(),typeof ae=="function"?At.callback=ae:At===q(bt)&&nt(bt),Et(jt)}else nt(bt);At=q(bt)}if(At!==null)var he=!0;else{var ke=q(_t);ke!==null&&x(Tt,ke.startTime-jt),he=!1}return he}finally{At=null,vt=qt,dt=!1}}var Mt=P;R.unstable_IdlePriority=5,R.unstable_ImmediatePriority=1,R.unstable_LowPriority=4,R.unstable_NormalPriority=3,R.unstable_Profiling=null,R.unstable_UserBlockingPriority=2,R.unstable_cancelCallback=function(Wt){Wt.callback=null},R.unstable_continueExecution=function(){gt||dt||(gt=!0,d(ot))},R.unstable_getCurrentPriorityLevel=function(){return vt},R.unstable_getFirstCallbackNode=function(){return q(bt)},R.unstable_next=function(Wt){switch(vt){case 1:case 2:case 3:var jt=3;break;default:jt=vt}var qt=vt;vt=jt;try{return Wt()}finally{vt=qt}},R.unstable_pauseExecution=function(){},R.unstable_requestPaint=Mt,R.unstable_runWithPriority=function(Wt,jt){switch(Wt){case 1:case 2:case 3:case 4:case 5:break;default:Wt=3}var qt=vt;vt=Wt;try{return jt()}finally{vt=qt}},R.unstable_scheduleCallback=function(Wt,jt,qt){var se=R.unstable_now();switch(typeof qt=="object"&&qt!==null?(qt=qt.delay,qt=typeof qt=="number"&&0<qt?se+qt:se):qt=se,Wt){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=qt+ae,Wt={id:St++,callback:jt,priorityLevel:Wt,startTime:qt,expirationTime:ae,sortIndex:-1},qt>se?(Wt.sortIndex=qt,yt(_t,Wt),q(bt)===null&&Wt===q(_t)&&(Ct?b():Ct=!0,x(Tt,qt-se))):(Wt.sortIndex=ae,yt(bt,Wt),gt||dt||(gt=!0,d(ot))),Wt},R.unstable_wrapCallback=function(Wt){var jt=vt;return function(){var qt=vt;vt=jt;try{return Wt.apply(this,arguments)}finally{vt=qt}}}},63840:function(at,R,d){"use strict";at.exports=d(60053)},96774:function(at){at.exports=function(d,x,b,P){var _=b?b.call(P,d,x):void 0;if(_!==void 0)return!!_;if(d===x)return!0;if(typeof d!="object"||!d||typeof x!="object"||!x)return!1;var O=Object.keys(d),T=Object.keys(x);if(O.length!==T.length)return!1;for(var F=Object.prototype.hasOwnProperty.bind(x),M=0;M<O.length;M++){var A=O[M];if(!F(A))return!1;var L=d[A],I=x[A];if(_=b?b.call(P,L,I,A):void 0,_===!1||_===void 0&&L!==I)return!1}return!0}},86851:function(at,R,d){"use strict";var x=d(89594),b=Array.prototype.concat,P=Array.prototype.slice,_=at.exports=function(T){for(var F=[],M=0,A=T.length;M<A;M++){var L=T[M];x(L)?F=b.call(F,P.call(L)):F.push(L)}return F};_.wrap=function(O){return function(){return O(_(arguments))}}},89594:function(at){at.exports=function(d){return!d||typeof d=="string"?!1:d instanceof Array||Array.isArray(d)||d.length>=0&&(d.splice instanceof Function||Object.getOwnPropertyDescriptor(d,d.length-1)&&d.constructor.name!=="String")}},55168:function(at,R){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.SensorTabIndex=R.SensorClassName=R.SizeSensorId=void 0;var d="size-sensor-id";R.SizeSensorId=d;var x="size-sensor-object";R.SensorClassName=x;var b="-1";R.SensorTabIndex=b},12177:function(at,R){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.default=void 0;var d=function(b){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:60,_=null;return function(){for(var O=this,T=arguments.length,F=new Array(T),M=0;M<T;M++)F[M]=arguments[M];clearTimeout(_),_=setTimeout(function(){b.apply(O,F)},P)}};R.default=d},15378:function(at,R){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.default=void 0;var d=1,x=function(){return"".concat(d++)};R.default=x},18587:function(at,R,d){"use strict";var x;x={value:!0},x=x=R.ak=void 0;var b=d(12955),P=function(F,M){var A=(0,b.getSensor)(F);return A.bind(M),function(){A.unbind(M)}};R.ak=P;var _=function(F){var M=(0,b.getSensor)(F);(0,b.removeSensor)(M)};x=_;var O="1.0.1";x=O},12955:function(at,R,d){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.removeSensor=R.getSensor=void 0;var x=_(d(15378)),b=d(82578),P=d(55168);function _(M){return M&&M.__esModule?M:{default:M}}var O={},T=function(A){var L=A.getAttribute(P.SizeSensorId);if(L&&O[L])return O[L];var I=(0,x.default)();A.setAttribute(P.SizeSensorId,I);var k=(0,b.createSensor)(A);return O[I]=k,k};R.getSensor=T;var F=function(A){var L=A.element.getAttribute(P.SizeSensorId);A.element.removeAttribute(P.SizeSensorId),A.destroy(),L&&O[L]&&delete O[L]};R.removeSensor=F},82578:function(at,R,d){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.createSensor=void 0;var x=d(27643),b=d(31743),P=typeof ResizeObserver!="undefined"?b.createSensor:x.createSensor;R.createSensor=P},27643:function(at,R,d){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.createSensor=void 0;var x=P(d(12177)),b=d(55168);function P(O){return O&&O.__esModule?O:{default:O}}var _=function(T){var F=void 0,M=[],A=function(){getComputedStyle(T).position==="static"&&(T.style.position="relative");var W=document.createElement("object");return W.onload=function(){W.contentDocument.defaultView.addEventListener("resize",L),L()},W.style.display="block",W.style.position="absolute",W.style.top="0",W.style.left="0",W.style.height="100%",W.style.width="100%",W.style.overflow="hidden",W.style.pointerEvents="none",W.style.zIndex="-1",W.style.opacity="0",W.setAttribute("class",b.SensorClassName),W.setAttribute("tabindex",b.SensorTabIndex),W.type="text/html",T.appendChild(W),W.data="about:blank",W},L=(0,x.default)(function(){M.forEach(function(z){z(T)})}),I=function(W){F||(F=A()),M.indexOf(W)===-1&&M.push(W)},k=function(){F&&F.parentNode&&(F.contentDocument&&F.contentDocument.defaultView.removeEventListener("resize",L),F.parentNode.removeChild(F),F=void 0,M=[])},B=function(W){var $=M.indexOf(W);$!==-1&&M.splice($,1),M.length===0&&F&&k()};return{element:T,bind:I,destroy:k,unbind:B}};R.createSensor=_},31743:function(at,R,d){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),R.createSensor=void 0;var x=b(d(12177));function b(_){return _&&_.__esModule?_:{default:_}}var P=function(O){var T=void 0,F=[],M=(0,x.default)(function(){F.forEach(function(B){B(O)})}),A=function(){var z=new ResizeObserver(M);return z.observe(O),M(),z},L=function(z){T||(T=A()),F.indexOf(z)===-1&&F.push(z)},I=function(){T.disconnect(),F=[],T=void 0},k=function(z){var W=F.indexOf(z);W!==-1&&F.splice(W,1),F.length===0&&T&&I()};return{element:O,bind:L,destroy:I,unbind:k}};R.createSensor=P},17621:function(at,R,d){var x;(function(b){var P=/^\s+/,_=/\s+$/,O=0,T=b.round,F=b.min,M=b.max,A=b.random;function L(Gt,Xt){if(Gt=Gt||"",Xt=Xt||{},Gt instanceof L)return Gt;if(!(this instanceof L))return new L(Gt,Xt);var Kt=I(Gt);this._originalInput=Gt,this._r=Kt.r,this._g=Kt.g,this._b=Kt.b,this._a=Kt.a,this._roundA=T(100*this._a)/100,this._format=Xt.format||Kt.format,this._gradientType=Xt.gradientType,this._r<1&&(this._r=T(this._r)),this._g<1&&(this._g=T(this._g)),this._b<1&&(this._b=T(this._b)),this._ok=Kt.ok,this._tc_id=O++}L.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var Gt=this.toRgb();return(Gt.r*299+Gt.g*587+Gt.b*114)/1e3},getLuminance:function(){var Gt=this.toRgb(),Xt,Kt,ze,ur,tr,re;return Xt=Gt.r/255,Kt=Gt.g/255,ze=Gt.b/255,Xt<=.03928?ur=Xt/12.92:ur=b.pow((Xt+.055)/1.055,2.4),Kt<=.03928?tr=Kt/12.92:tr=b.pow((Kt+.055)/1.055,2.4),ze<=.03928?re=ze/12.92:re=b.pow((ze+.055)/1.055,2.4),.2126*ur+.7152*tr+.0722*re},setAlpha:function(Gt){return this._a=Wt(Gt),this._roundA=T(100*this._a)/100,this},toHsv:function(){var Gt=W(this._r,this._g,this._b);return{h:Gt.h*360,s:Gt.s,v:Gt.v,a:this._a}},toHsvString:function(){var Gt=W(this._r,this._g,this._b),Xt=T(Gt.h*360),Kt=T(Gt.s*100),ze=T(Gt.v*100);return this._a==1?"hsv("+Xt+", "+Kt+"%, "+ze+"%)":"hsva("+Xt+", "+Kt+"%, "+ze+"%, "+this._roundA+")"},toHsl:function(){var Gt=B(this._r,this._g,this._b);return{h:Gt.h*360,s:Gt.s,l:Gt.l,a:this._a}},toHslString:function(){var Gt=B(this._r,this._g,this._b),Xt=T(Gt.h*360),Kt=T(Gt.s*100),ze=T(Gt.l*100);return this._a==1?"hsl("+Xt+", "+Kt+"%, "+ze+"%)":"hsla("+Xt+", "+Kt+"%, "+ze+"%, "+this._roundA+")"},toHex:function(Gt){return K(this._r,this._g,this._b,Gt)},toHexString:function(Gt){return"#"+this.toHex(Gt)},toHex8:function(Gt){return lt(this._r,this._g,this._b,this._a,Gt)},toHex8String:function(Gt){return"#"+this.toHex8(Gt)},toRgb:function(){return{r:T(this._r),g:T(this._g),b:T(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+T(this._r)+", "+T(this._g)+", "+T(this._b)+")":"rgba("+T(this._r)+", "+T(this._g)+", "+T(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:T(jt(this._r,255)*100)+"%",g:T(jt(this._g,255)*100)+"%",b:T(jt(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+T(jt(this._r,255)*100)+"%, "+T(jt(this._g,255)*100)+"%, "+T(jt(this._b,255)*100)+"%)":"rgba("+T(jt(this._r,255)*100)+"%, "+T(jt(this._g,255)*100)+"%, "+T(jt(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:ot[K(this._r,this._g,this._b,!0)]||!1},toFilter:function(Gt){var Xt="#"+st(this._r,this._g,this._b,this._a),Kt=Xt,ze=this._gradientType?"GradientType = 1, ":"";if(Gt){var ur=L(Gt);Kt="#"+st(ur._r,ur._g,ur._b,ur._a)}return"progid:DXImageTransform.Microsoft.gradient("+ze+"startColorstr="+Xt+",endColorstr="+Kt+")"},toString:function(Gt){var Xt=!!Gt;Gt=Gt||this._format;var Kt=!1,ze=this._a<1&&this._a>=0,ur=!Xt&&ze&&(Gt==="hex"||Gt==="hex6"||Gt==="hex3"||Gt==="hex4"||Gt==="hex8"||Gt==="name");return ur?Gt==="name"&&this._a===0?this.toName():this.toRgbString():(Gt==="rgb"&&(Kt=this.toRgbString()),Gt==="prgb"&&(Kt=this.toPercentageRgbString()),(Gt==="hex"||Gt==="hex6")&&(Kt=this.toHexString()),Gt==="hex3"&&(Kt=this.toHexString(!0)),Gt==="hex4"&&(Kt=this.toHex8String(!0)),Gt==="hex8"&&(Kt=this.toHex8String()),Gt==="name"&&(Kt=this.toName()),Gt==="hsl"&&(Kt=this.toHslString()),Gt==="hsv"&&(Kt=this.toHsvString()),Kt||this.toHexString())},clone:function(){return L(this.toString())},_applyModification:function(Gt,Xt){var Kt=Gt.apply(null,[this].concat([].slice.call(Xt)));return this._r=Kt._r,this._g=Kt._g,this._b=Kt._b,this.setAlpha(Kt._a),this},lighten:function(){return this._applyModification(ct,arguments)},brighten:function(){return this._applyModification(bt,arguments)},darken:function(){return this._applyModification(_t,arguments)},desaturate:function(){return this._applyModification(yt,arguments)},saturate:function(){return this._applyModification(q,arguments)},greyscale:function(){return this._applyModification(nt,arguments)},spin:function(){return this._applyModification(St,arguments)},_applyCombination:function(Gt,Xt){return Gt.apply(null,[this].concat([].slice.call(Xt)))},analogous:function(){return this._applyCombination(Ct,arguments)},complement:function(){return this._applyCombination(At,arguments)},monochromatic:function(){return this._applyCombination(Et,arguments)},splitcomplement:function(){return this._applyCombination(gt,arguments)},triad:function(){return this._applyCombination(vt,arguments)},tetrad:function(){return this._applyCombination(dt,arguments)}},L.fromRatio=function(Gt,Xt){if(typeof Gt=="object"){var Kt={};for(var ze in Gt)Gt.hasOwnProperty(ze)&&(ze==="a"?Kt[ze]=Gt[ze]:Kt[ze]=Le(Gt[ze]));Gt=Kt}return L(Gt,Xt)};function I(Gt){var Xt={r:0,g:0,b:0},Kt=1,ze=null,ur=null,tr=null,re=!1,Qr=!1;return typeof Gt=="string"&&(Gt=Ce(Gt)),typeof Gt=="object"&&(we(Gt.r)&&we(Gt.g)&&we(Gt.b)?(Xt=k(Gt.r,Gt.g,Gt.b),re=!0,Qr=String(Gt.r).substr(-1)==="%"?"prgb":"rgb"):we(Gt.h)&&we(Gt.s)&&we(Gt.v)?(ze=Le(Gt.s),ur=Le(Gt.v),Xt=$(Gt.h,ze,ur),re=!0,Qr="hsv"):we(Gt.h)&&we(Gt.s)&&we(Gt.l)&&(ze=Le(Gt.s),tr=Le(Gt.l),Xt=z(Gt.h,ze,tr),re=!0,Qr="hsl"),Gt.hasOwnProperty("a")&&(Kt=Gt.a)),Kt=Wt(Kt),{ok:re,format:Gt.format||Qr,r:F(255,M(Xt.r,0)),g:F(255,M(Xt.g,0)),b:F(255,M(Xt.b,0)),a:Kt}}function k(Gt,Xt,Kt){return{r:jt(Gt,255)*255,g:jt(Xt,255)*255,b:jt(Kt,255)*255}}function B(Gt,Xt,Kt){Gt=jt(Gt,255),Xt=jt(Xt,255),Kt=jt(Kt,255);var ze=M(Gt,Xt,Kt),ur=F(Gt,Xt,Kt),tr,re,Qr=(ze+ur)/2;if(ze==ur)tr=re=0;else{var Ir=ze-ur;switch(re=Qr>.5?Ir/(2-ze-ur):Ir/(ze+ur),ze){case Gt:tr=(Xt-Kt)/Ir+(Xt<Kt?6:0);break;case Xt:tr=(Kt-Gt)/Ir+2;break;case Kt:tr=(Gt-Xt)/Ir+4;break}tr/=6}return{h:tr,s:re,l:Qr}}function z(Gt,Xt,Kt){var ze,ur,tr;Gt=jt(Gt,360),Xt=jt(Xt,100),Kt=jt(Kt,100);function re(gn,Wn,ui){return ui<0&&(ui+=1),ui>1&&(ui-=1),ui<.16666666666666666?gn+(Wn-gn)*6*ui:ui<.5?Wn:ui<.6666666666666666?gn+(Wn-gn)*(.6666666666666666-ui)*6:gn}if(Xt===0)ze=ur=tr=Kt;else{var Qr=Kt<.5?Kt*(1+Xt):Kt+Xt-Kt*Xt,Ir=2*Kt-Qr;ze=re(Ir,Qr,Gt+.3333333333333333),ur=re(Ir,Qr,Gt),tr=re(Ir,Qr,Gt-.3333333333333333)}return{r:ze*255,g:ur*255,b:tr*255}}function W(Gt,Xt,Kt){Gt=jt(Gt,255),Xt=jt(Xt,255),Kt=jt(Kt,255);var ze=M(Gt,Xt,Kt),ur=F(Gt,Xt,Kt),tr,re,Qr=ze,Ir=ze-ur;if(re=ze===0?0:Ir/ze,ze==ur)tr=0;else{switch(ze){case Gt:tr=(Xt-Kt)/Ir+(Xt<Kt?6:0);break;case Xt:tr=(Kt-Gt)/Ir+2;break;case Kt:tr=(Gt-Xt)/Ir+4;break}tr/=6}return{h:tr,s:re,v:Qr}}function $(Gt,Xt,Kt){Gt=jt(Gt,360)*6,Xt=jt(Xt,100),Kt=jt(Kt,100);var ze=b.floor(Gt),ur=Gt-ze,tr=Kt*(1-Xt),re=Kt*(1-ur*Xt),Qr=Kt*(1-(1-ur)*Xt),Ir=ze%6,gn=[Kt,re,tr,tr,Qr,Kt][Ir],Wn=[Qr,Kt,Kt,re,tr,tr][Ir],ui=[tr,tr,Qr,Kt,Kt,re][Ir];return{r:gn*255,g:Wn*255,b:ui*255}}function K(Gt,Xt,Kt,ze){var ur=[ke(T(Gt).toString(16)),ke(T(Xt).toString(16)),ke(T(Kt).toString(16))];return ze&&ur[0].charAt(0)==ur[0].charAt(1)&&ur[1].charAt(0)==ur[1].charAt(1)&&ur[2].charAt(0)==ur[2].charAt(1)?ur[0].charAt(0)+ur[1].charAt(0)+ur[2].charAt(0):ur.join("")}function lt(Gt,Xt,Kt,ze,ur){var tr=[ke(T(Gt).toString(16)),ke(T(Xt).toString(16)),ke(T(Kt).toString(16)),ke(rr(ze))];return ur&&tr[0].charAt(0)==tr[0].charAt(1)&&tr[1].charAt(0)==tr[1].charAt(1)&&tr[2].charAt(0)==tr[2].charAt(1)&&tr[3].charAt(0)==tr[3].charAt(1)?tr[0].charAt(0)+tr[1].charAt(0)+tr[2].charAt(0)+tr[3].charAt(0):tr.join("")}function st(Gt,Xt,Kt,ze){var ur=[ke(rr(ze)),ke(T(Gt).toString(16)),ke(T(Xt).toString(16)),ke(T(Kt).toString(16))];return ur.join("")}L.equals=function(Gt,Xt){return!Gt||!Xt?!1:L(Gt).toRgbString()==L(Xt).toRgbString()},L.random=function(){return L.fromRatio({r:A(),g:A(),b:A()})};function yt(Gt,Xt){Xt=Xt===0?0:Xt||10;var Kt=L(Gt).toHsl();return Kt.s-=Xt/100,Kt.s=qt(Kt.s),L(Kt)}function q(Gt,Xt){Xt=Xt===0?0:Xt||10;var Kt=L(Gt).toHsl();return Kt.s+=Xt/100,Kt.s=qt(Kt.s),L(Kt)}function nt(Gt){return L(Gt).desaturate(100)}function ct(Gt,Xt){Xt=Xt===0?0:Xt||10;var Kt=L(Gt).toHsl();return Kt.l+=Xt/100,Kt.l=qt(Kt.l),L(Kt)}function bt(Gt,Xt){Xt=Xt===0?0:Xt||10;var Kt=L(Gt).toRgb();return Kt.r=M(0,F(255,Kt.r-T(255*-(Xt/100)))),Kt.g=M(0,F(255,Kt.g-T(255*-(Xt/100)))),Kt.b=M(0,F(255,Kt.b-T(255*-(Xt/100)))),L(Kt)}function _t(Gt,Xt){Xt=Xt===0?0:Xt||10;var Kt=L(Gt).toHsl();return Kt.l-=Xt/100,Kt.l=qt(Kt.l),L(Kt)}function St(Gt,Xt){var Kt=L(Gt).toHsl(),ze=(Kt.h+Xt)%360;return Kt.h=ze<0?360+ze:ze,L(Kt)}function At(Gt){var Xt=L(Gt).toHsl();return Xt.h=(Xt.h+180)%360,L(Xt)}function vt(Gt){var Xt=L(Gt).toHsl(),Kt=Xt.h;return[L(Gt),L({h:(Kt+120)%360,s:Xt.s,l:Xt.l}),L({h:(Kt+240)%360,s:Xt.s,l:Xt.l})]}function dt(Gt){var Xt=L(Gt).toHsl(),Kt=Xt.h;return[L(Gt),L({h:(Kt+90)%360,s:Xt.s,l:Xt.l}),L({h:(Kt+180)%360,s:Xt.s,l:Xt.l}),L({h:(Kt+270)%360,s:Xt.s,l:Xt.l})]}function gt(Gt){var Xt=L(Gt).toHsl(),Kt=Xt.h;return[L(Gt),L({h:(Kt+72)%360,s:Xt.s,l:Xt.l}),L({h:(Kt+216)%360,s:Xt.s,l:Xt.l})]}function Ct(Gt,Xt,Kt){Xt=Xt||6,Kt=Kt||30;var ze=L(Gt).toHsl(),ur=360/Kt,tr=[L(Gt)];for(ze.h=(ze.h-(ur*Xt>>1)+720)%360;--Xt;)ze.h=(ze.h+ur)%360,tr.push(L(ze));return tr}function Et(Gt,Xt){Xt=Xt||6;for(var Kt=L(Gt).toHsv(),ze=Kt.h,ur=Kt.s,tr=Kt.v,re=[],Qr=1/Xt;Xt--;)re.push(L({h:ze,s:ur,v:tr})),tr=(tr+Qr)%1;return re}L.mix=function(Gt,Xt,Kt){Kt=Kt===0?0:Kt||50;var ze=L(Gt).toRgb(),ur=L(Xt).toRgb(),tr=Kt/100,re={r:(ur.r-ze.r)*tr+ze.r,g:(ur.g-ze.g)*tr+ze.g,b:(ur.b-ze.b)*tr+ze.b,a:(ur.a-ze.a)*tr+ze.a};return L(re)},L.readability=function(Gt,Xt){var Kt=L(Gt),ze=L(Xt);return(b.max(Kt.getLuminance(),ze.getLuminance())+.05)/(b.min(Kt.getLuminance(),ze.getLuminance())+.05)},L.isReadable=function(Gt,Xt,Kt){var ze=L.readability(Gt,Xt),ur,tr;switch(tr=!1,ur=ye(Kt),ur.level+ur.size){case"AAsmall":case"AAAlarge":tr=ze>=4.5;break;case"AAlarge":tr=ze>=3;break;case"AAAsmall":tr=ze>=7;break}return tr},L.mostReadable=function(Gt,Xt,Kt){var ze=null,ur=0,tr,re,Qr,Ir;Kt=Kt||{},re=Kt.includeFallbackColors,Qr=Kt.level,Ir=Kt.size;for(var gn=0;gn<Xt.length;gn++)tr=L.readability(Gt,Xt[gn]),tr>ur&&(ur=tr,ze=L(Xt[gn]));return L.isReadable(Gt,ze,{level:Qr,size:Ir})||!re?ze:(Kt.includeFallbackColors=!1,L.mostReadable(Gt,["#fff","#000"],Kt))};var Tt=L.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},ot=L.hexNames=Mt(Tt);function Mt(Gt){var Xt={};for(var Kt in Gt)Gt.hasOwnProperty(Kt)&&(Xt[Gt[Kt]]=Kt);return Xt}function Wt(Gt){return Gt=parseFloat(Gt),(isNaN(Gt)||Gt<0||Gt>1)&&(Gt=1),Gt}function jt(Gt,Xt){ae(Gt)&&(Gt="100%");var Kt=he(Gt);return Gt=F(Xt,M(0,parseFloat(Gt))),Kt&&(Gt=parseInt(Gt*Xt,10)/100),b.abs(Gt-Xt)<1e-6?1:Gt%Xt/parseFloat(Xt)}function qt(Gt){return F(1,M(0,Gt))}function se(Gt){return parseInt(Gt,16)}function ae(Gt){return typeof Gt=="string"&&Gt.indexOf(".")!=-1&&parseFloat(Gt)===1}function he(Gt){return typeof Gt=="string"&&Gt.indexOf("%")!=-1}function ke(Gt){return Gt.length==1?"0"+Gt:""+Gt}function Le(Gt){return Gt<=1&&(Gt=Gt*100+"%"),Gt}function rr(Gt){return b.round(parseFloat(Gt)*255).toString(16)}function Ee(Gt){return se(Gt)/255}var ge=function(){var Gt="[-\\+]?\\d+%?",Xt="[-\\+]?\\d*\\.\\d+%?",Kt="(?:"+Xt+")|(?:"+Gt+")",ze="[\\s|\\(]+("+Kt+")[,|\\s]+("+Kt+")[,|\\s]+("+Kt+")\\s*\\)?",ur="[\\s|\\(]+("+Kt+")[,|\\s]+("+Kt+")[,|\\s]+("+Kt+")[,|\\s]+("+Kt+")\\s*\\)?";return{CSS_UNIT:new RegExp(Kt),rgb:new RegExp("rgb"+ze),rgba:new RegExp("rgba"+ur),hsl:new RegExp("hsl"+ze),hsla:new RegExp("hsla"+ur),hsv:new RegExp("hsv"+ze),hsva:new RegExp("hsva"+ur),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function we(Gt){return!!ge.CSS_UNIT.exec(Gt)}function Ce(Gt){Gt=Gt.replace(P,"").replace(_,"").toLowerCase();var Xt=!1;if(Tt[Gt])Gt=Tt[Gt],Xt=!0;else if(Gt=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var Kt;return(Kt=ge.rgb.exec(Gt))?{r:Kt[1],g:Kt[2],b:Kt[3]}:(Kt=ge.rgba.exec(Gt))?{r:Kt[1],g:Kt[2],b:Kt[3],a:Kt[4]}:(Kt=ge.hsl.exec(Gt))?{h:Kt[1],s:Kt[2],l:Kt[3]}:(Kt=ge.hsla.exec(Gt))?{h:Kt[1],s:Kt[2],l:Kt[3],a:Kt[4]}:(Kt=ge.hsv.exec(Gt))?{h:Kt[1],s:Kt[2],v:Kt[3]}:(Kt=ge.hsva.exec(Gt))?{h:Kt[1],s:Kt[2],v:Kt[3],a:Kt[4]}:(Kt=ge.hex8.exec(Gt))?{r:se(Kt[1]),g:se(Kt[2]),b:se(Kt[3]),a:Ee(Kt[4]),format:Xt?"name":"hex8"}:(Kt=ge.hex6.exec(Gt))?{r:se(Kt[1]),g:se(Kt[2]),b:se(Kt[3]),format:Xt?"name":"hex"}:(Kt=ge.hex4.exec(Gt))?{r:se(Kt[1]+""+Kt[1]),g:se(Kt[2]+""+Kt[2]),b:se(Kt[3]+""+Kt[3]),a:Ee(Kt[4]+""+Kt[4]),format:Xt?"name":"hex8"}:(Kt=ge.hex3.exec(Gt))?{r:se(Kt[1]+""+Kt[1]),g:se(Kt[2]+""+Kt[2]),b:se(Kt[3]+""+Kt[3]),format:Xt?"name":"hex"}:!1}function ye(Gt){var Xt,Kt;return Gt=Gt||{level:"AA",size:"small"},Xt=(Gt.level||"AA").toUpperCase(),Kt=(Gt.size||"small").toLowerCase(),Xt!=="AA"&&Xt!=="AAA"&&(Xt="AA"),Kt!=="small"&&Kt!=="large"&&(Kt="small"),{level:Xt,size:Kt}}at.exports?at.exports=L:(x=function(){return L}.call(R,d,R,at),x!==void 0&&(at.exports=x))})(Math)},22062:function(at,R,d){var x,b;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var P,_,O,T,F,M,A,L,I,k,B,z,W,$,K,lt,st,yt,q,nt,ct,bt,_t,St;(function(At){var vt=typeof d.g=="object"?d.g:typeof self=="object"?self:typeof this=="object"?this:{};x=[R],b=function(gt){At(dt(vt,dt(gt)))}.apply(R,x),b!==void 0&&(at.exports=b);function dt(gt,Ct){return gt!==vt&&(typeof Object.create=="function"?Object.defineProperty(gt,"__esModule",{value:!0}):gt.__esModule=!0),function(Et,Tt){return gt[Et]=Ct?Ct(Et,Tt):Tt}}})(function(At){var vt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(gt,Ct){gt.__proto__=Ct}||function(gt,Ct){for(var Et in Ct)Object.prototype.hasOwnProperty.call(Ct,Et)&&(gt[Et]=Ct[Et])};P=function(gt,Ct){if(typeof Ct!="function"&&Ct!==null)throw new TypeError("Class extends value "+String(Ct)+" is not a constructor or null");vt(gt,Ct);function Et(){this.constructor=gt}gt.prototype=Ct===null?Object.create(Ct):(Et.prototype=Ct.prototype,new Et)},_=Object.assign||function(gt){for(var Ct,Et=1,Tt=arguments.length;Et<Tt;Et++){Ct=arguments[Et];for(var ot in Ct)Object.prototype.hasOwnProperty.call(Ct,ot)&&(gt[ot]=Ct[ot])}return gt},O=function(gt,Ct){var Et={};for(var Tt in gt)Object.prototype.hasOwnProperty.call(gt,Tt)&&Ct.indexOf(Tt)<0&&(Et[Tt]=gt[Tt]);if(gt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ot=0,Tt=Object.getOwnPropertySymbols(gt);ot<Tt.length;ot++)Ct.indexOf(Tt[ot])<0&&Object.prototype.propertyIsEnumerable.call(gt,Tt[ot])&&(Et[Tt[ot]]=gt[Tt[ot]]);return Et},T=function(gt,Ct,Et,Tt){var ot=arguments.length,Mt=ot<3?Ct:Tt===null?Tt=Object.getOwnPropertyDescriptor(Ct,Et):Tt,Wt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Mt=Reflect.decorate(gt,Ct,Et,Tt);else for(var jt=gt.length-1;jt>=0;jt--)(Wt=gt[jt])&&(Mt=(ot<3?Wt(Mt):ot>3?Wt(Ct,Et,Mt):Wt(Ct,Et))||Mt);return ot>3&&Mt&&Object.defineProperty(Ct,Et,Mt),Mt},F=function(gt,Ct){return function(Et,Tt){Ct(Et,Tt,gt)}},M=function(gt,Ct){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(gt,Ct)},A=function(gt,Ct,Et,Tt){function ot(Mt){return Mt instanceof Et?Mt:new Et(function(Wt){Wt(Mt)})}return new(Et||(Et=Promise))(function(Mt,Wt){function jt(ae){try{se(Tt.next(ae))}catch(he){Wt(he)}}function qt(ae){try{se(Tt.throw(ae))}catch(he){Wt(he)}}function se(ae){ae.done?Mt(ae.value):ot(ae.value).then(jt,qt)}se((Tt=Tt.apply(gt,Ct||[])).next())})},L=function(gt,Ct){var Et={label:0,sent:function(){if(Mt[0]&1)throw Mt[1];return Mt[1]},trys:[],ops:[]},Tt,ot,Mt,Wt;return Wt={next:jt(0),throw:jt(1),return:jt(2)},typeof Symbol=="function"&&(Wt[Symbol.iterator]=function(){return this}),Wt;function jt(se){return function(ae){return qt([se,ae])}}function qt(se){if(Tt)throw new TypeError("Generator is already executing.");for(;Et;)try{if(Tt=1,ot&&(Mt=se[0]&2?ot.return:se[0]?ot.throw||((Mt=ot.return)&&Mt.call(ot),0):ot.next)&&!(Mt=Mt.call(ot,se[1])).done)return Mt;switch(ot=0,Mt&&(se=[se[0]&2,Mt.value]),se[0]){case 0:case 1:Mt=se;break;case 4:return Et.label++,{value:se[1],done:!1};case 5:Et.label++,ot=se[1],se=[0];continue;case 7:se=Et.ops.pop(),Et.trys.pop();continue;default:if(Mt=Et.trys,!(Mt=Mt.length>0&&Mt[Mt.length-1])&&(se[0]===6||se[0]===2)){Et=0;continue}if(se[0]===3&&(!Mt||se[1]>Mt[0]&&se[1]<Mt[3])){Et.label=se[1];break}if(se[0]===6&&Et.label<Mt[1]){Et.label=Mt[1],Mt=se;break}if(Mt&&Et.label<Mt[2]){Et.label=Mt[2],Et.ops.push(se);break}Mt[2]&&Et.ops.pop(),Et.trys.pop();continue}se=Ct.call(gt,Et)}catch(ae){se=[6,ae],ot=0}finally{Tt=Mt=0}if(se[0]&5)throw se[1];return{value:se[0]?se[1]:void 0,done:!0}}},I=function(gt,Ct){for(var Et in gt)Et!=="default"&&!Object.prototype.hasOwnProperty.call(Ct,Et)&&St(Ct,gt,Et)},St=Object.create?function(gt,Ct,Et,Tt){Tt===void 0&&(Tt=Et),Object.defineProperty(gt,Tt,{enumerable:!0,get:function(){return Ct[Et]}})}:function(gt,Ct,Et,Tt){Tt===void 0&&(Tt=Et),gt[Tt]=Ct[Et]},k=function(gt){var Ct=typeof Symbol=="function"&&Symbol.iterator,Et=Ct&&gt[Ct],Tt=0;if(Et)return Et.call(gt);if(gt&&typeof gt.length=="number")return{next:function(){return gt&&Tt>=gt.length&&(gt=void 0),{value:gt&&gt[Tt++],done:!gt}}};throw new TypeError(Ct?"Object is not iterable.":"Symbol.iterator is not defined.")},B=function(gt,Ct){var Et=typeof Symbol=="function"&&gt[Symbol.iterator];if(!Et)return gt;var Tt=Et.call(gt),ot,Mt=[],Wt;try{for(;(Ct===void 0||Ct-- >0)&&!(ot=Tt.next()).done;)Mt.push(ot.value)}catch(jt){Wt={error:jt}}finally{try{ot&&!ot.done&&(Et=Tt.return)&&Et.call(Tt)}finally{if(Wt)throw Wt.error}}return Mt},z=function(){for(var gt=[],Ct=0;Ct<arguments.length;Ct++)gt=gt.concat(B(arguments[Ct]));return gt},W=function(){for(var gt=0,Ct=0,Et=arguments.length;Ct<Et;Ct++)gt+=arguments[Ct].length;for(var Tt=Array(gt),ot=0,Ct=0;Ct<Et;Ct++)for(var Mt=arguments[Ct],Wt=0,jt=Mt.length;Wt<jt;Wt++,ot++)Tt[ot]=Mt[Wt];return Tt},$=function(gt,Ct,Et){if(Et||arguments.length===2)for(var Tt=0,ot=Ct.length,Mt;Tt<ot;Tt++)(Mt||!(Tt in Ct))&&(Mt||(Mt=Array.prototype.slice.call(Ct,0,Tt)),Mt[Tt]=Ct[Tt]);return gt.concat(Mt||Array.prototype.slice.call(Ct))},K=function(gt){return this instanceof K?(this.v=gt,this):new K(gt)},lt=function(gt,Ct,Et){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Tt=Et.apply(gt,Ct||[]),ot,Mt=[];return ot={},Wt("next"),Wt("throw"),Wt("return"),ot[Symbol.asyncIterator]=function(){return this},ot;function Wt(ke){Tt[ke]&&(ot[ke]=function(Le){return new Promise(function(rr,Ee){Mt.push([ke,Le,rr,Ee])>1||jt(ke,Le)})})}function jt(ke,Le){try{qt(Tt[ke](Le))}catch(rr){he(Mt[0][3],rr)}}function qt(ke){ke.value instanceof K?Promise.resolve(ke.value.v).then(se,ae):he(Mt[0][2],ke)}function se(ke){jt("next",ke)}function ae(ke){jt("throw",ke)}function he(ke,Le){ke(Le),Mt.shift(),Mt.length&&jt(Mt[0][0],Mt[0][1])}},st=function(gt){var Ct,Et;return Ct={},Tt("next"),Tt("throw",function(ot){throw ot}),Tt("return"),Ct[Symbol.iterator]=function(){return this},Ct;function Tt(ot,Mt){Ct[ot]=gt[ot]?function(Wt){return(Et=!Et)?{value:K(gt[ot](Wt)),done:ot==="return"}:Mt?Mt(Wt):Wt}:Mt}},yt=function(gt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ct=gt[Symbol.asyncIterator],Et;return Ct?Ct.call(gt):(gt=typeof k=="function"?k(gt):gt[Symbol.iterator](),Et={},Tt("next"),Tt("throw"),Tt("return"),Et[Symbol.asyncIterator]=function(){return this},Et);function Tt(Mt){Et[Mt]=gt[Mt]&&function(Wt){return new Promise(function(jt,qt){Wt=gt[Mt](Wt),ot(jt,qt,Wt.done,Wt.value)})}}function ot(Mt,Wt,jt,qt){Promise.resolve(qt).then(function(se){Mt({value:se,done:jt})},Wt)}},q=function(gt,Ct){return Object.defineProperty?Object.defineProperty(gt,"raw",{value:Ct}):gt.raw=Ct,gt};var dt=Object.create?function(gt,Ct){Object.defineProperty(gt,"default",{enumerable:!0,value:Ct})}:function(gt,Ct){gt.default=Ct};nt=function(gt){if(gt&&gt.__esModule)return gt;var Ct={};if(gt!=null)for(var Et in gt)Et!=="default"&&Object.prototype.hasOwnProperty.call(gt,Et)&&St(Ct,gt,Et);return dt(Ct,gt),Ct},ct=function(gt){return gt&&gt.__esModule?gt:{default:gt}},bt=function(gt,Ct,Et,Tt){if(Et==="a"&&!Tt)throw new TypeError("Private accessor was defined without a getter");if(typeof Ct=="function"?gt!==Ct||!Tt:!Ct.has(gt))throw new TypeError("Cannot read private member from an object whose class did not declare it");return Et==="m"?Tt:Et==="a"?Tt.call(gt):Tt?Tt.value:Ct.get(gt)},_t=function(gt,Ct,Et,Tt,ot){if(Tt==="m")throw new TypeError("Private method is not writable");if(Tt==="a"&&!ot)throw new TypeError("Private accessor was defined without a setter");if(typeof Ct=="function"?gt!==Ct||!ot:!Ct.has(gt))throw new TypeError("Cannot write private member to an object whose class did not declare it");return Tt==="a"?ot.call(gt,Et):ot?ot.value=Et:Ct.set(gt,Et),Et},At("__extends",P),At("__assign",_),At("__rest",O),At("__decorate",T),At("__param",F),At("__metadata",M),At("__awaiter",A),At("__generator",L),At("__exportStar",I),At("__createBinding",St),At("__values",k),At("__read",B),At("__spread",z),At("__spreadArrays",W),At("__spreadArray",$),At("__await",K),At("__asyncGenerator",lt),At("__asyncDelegator",st),At("__asyncValues",yt),At("__makeTemplateObject",q),At("__importStar",nt),At("__importDefault",ct),At("__classPrivateFieldGet",bt),At("__classPrivateFieldSet",_t)})},85524:function(at,R,d){"use strict";d.r(R),d.d(R,{__extends:function(){return b},__assign:function(){return P},__rest:function(){return _},__decorate:function(){return O},__param:function(){return T},__metadata:function(){return F},__awaiter:function(){return M},__generator:function(){return A},__exportStar:function(){return L},__createBinding:function(){return I},__values:function(){return k},__read:function(){return B},__spread:function(){return z},__spreadArrays:function(){return W},__spreadArray:function(){return $},__await:function(){return K},__asyncGenerator:function(){return lt},__asyncDelegator:function(){return st},__asyncValues:function(){return yt},__makeTemplateObject:function(){return q},__importStar:function(){return nt},__importDefault:function(){return ct},__classPrivateFieldGet:function(){return bt},__classPrivateFieldSet:function(){return _t}});var x=d(22062);const{__extends:b,__assign:P,__rest:_,__decorate:O,__param:T,__metadata:F,__awaiter:M,__generator:A,__exportStar:L,__createBinding:I,__values:k,__read:B,__spread:z,__spreadArrays:W,__spreadArray:$,__await:K,__asyncGenerator:lt,__asyncDelegator:st,__asyncValues:yt,__makeTemplateObject:q,__importStar:nt,__importDefault:ct,__classPrivateFieldGet:bt,__classPrivateFieldSet:_t}=x}},Uh={};function je(at){var R=Uh[at];if(R!==void 0)return R.exports;var d=Uh[at]={id:at,loaded:!1,exports:{}};return ep[at].call(d.exports,d,d.exports,je),d.loaded=!0,d.exports}(function(){je.n=function(at){var R=at&&at.__esModule?function(){return at.default}:function(){return at};return je.d(R,{a:R}),R}})(),function(){je.d=function(at,R){for(var d in R)je.o(R,d)&&!je.o(at,d)&&Object.defineProperty(at,d,{enumerable:!0,get:R[d]})}}(),function(){je.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(at){if(typeof window=="object")return window}}()}(),function(){je.o=function(at,R){return Object.prototype.hasOwnProperty.call(at,R)}}(),function(){je.r=function(at){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(at,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(at,"__esModule",{value:!0})}}(),function(){je.nmd=function(at){return at.paths=[],at.children||(at.children=[]),at}}();var Rlt={};(function(){"use strict";var at={};je.r(at),je.d(at,{catmullRomToBezier:function(){return Ol},fillPath:function(){return Ku},fillPathByDiff:function(){return mu},formatPath:function(){return wa},intersection:function(){return $u},parsePathArray:function(){return Dl},parsePathString:function(){return Il},pathToAbsolute:function(){return vh},pathToCurve:function(){return uo},rectPath:function(){return Nf}});var R={};je.r(R),je.d(R,{easeBack:function(){return Ui},easeBackIn:function(){return Us},easeBackInOut:function(){return Ui},easeBackOut:function(){return Ga},easeBounce:function(){return xo},easeBounceIn:function(){return ao},easeBounceInOut:function(){return Fo},easeBounceOut:function(){return xo},easeCircle:function(){return li},easeCircleIn:function(){return Qn},easeCircleInOut:function(){return li},easeCircleOut:function(){return Ti},easeCubic:function(){return Yt},easeCubicIn:function(){return Nt},easeCubicInOut:function(){return Yt},easeCubicOut:function(){return Ft},easeElastic:function(){return zl},easeElasticIn:function(){return _u},easeElasticInOut:function(){return Ze},easeElasticOut:function(){return zl},easeExp:function(){return ni},easeExpIn:function(){return Rr},easeExpInOut:function(){return ni},easeExpOut:function(){return zn},easeLinear:function(){return j},easePoly:function(){return Ie},easePolyIn:function(){return ee},easePolyInOut:function(){return Ie},easePolyOut:function(){return de},easeQuad:function(){return It},easeQuadIn:function(){return et},easeQuadInOut:function(){return It},easeQuadOut:function(){return wt},easeSin:function(){return Dr},easeSinIn:function(){return Ar},easeSinInOut:function(){return Dr},easeSinOut:function(){return pn}});var d={};je.r(d),je.d(d,{assign:function(){return bd},default:function(){return Y},defaultI18n:function(){return Hg},format:function(){return wm},parse:function(){return _m},setGlobalDateI18n:function(){return Yg},setGlobalDateMasks:function(){return G0}});var x={};je.r(x),je.d(x,{Arc:function(){return aB},DataMarker:function(){return fB},DataRegion:function(){return dB},Html:function(){return _B},Image:function(){return lB},Line:function(){return eB},Region:function(){return sB},RegionFilter:function(){return pB},Shape:function(){return yB},Text:function(){return nB}});var b={};je.r(b),je.d(b,{ellipsisHead:function(){return TB},ellipsisMiddle:function(){return MB},ellipsisTail:function(){return xT},getDefault:function(){return CB}});var P={};je.r(P),je.d(P,{equidistance:function(){return ST},equidistanceWithReverseBoth:function(){return RB},getDefault:function(){return OB},reserveBoth:function(){return LB},reserveFirst:function(){return DB},reserveLast:function(){return PB}});var _={};je.r(_),je.d(_,{fixedAngle:function(){return _T},getDefault:function(){return NB},unfixedAngle:function(){return kB}});var O={};je.r(O),je.d(O,{autoEllipsis:function(){return b},autoHide:function(){return P},autoRotate:function(){return _}});var T={};je.r(T),je.d(T,{Base:function(){return Q2},Circle:function(){return HB},Html:function(){return $B},Line:function(){return AT}});var F={};je.r(F),je.d(F,{CONTAINER_CLASS:function(){return H0},CROSSHAIR_X:function(){return nw},CROSSHAIR_Y:function(){return iw},LIST_CLASS:function(){return Tx},LIST_ITEM_CLASS:function(){return nE},MARKER_CLASS:function(){return iE},NAME_CLASS:function(){return OT},TITLE_CLASS:function(){return Y0},VALUE_CLASS:function(){return aE}});var M={};je.r(M),je.d(M,{Base:function(){return dp},Circle:function(){return N6},Ellipse:function(){return B6},Image:function(){return z6},Line:function(){return j6},Marker:function(){return H6},Path:function(){return Uw},Polygon:function(){return t8},Polyline:function(){return r8},Rect:function(){return o8},Text:function(){return u8}});var A={};je.r(A),je.d(A,{AbstractCanvas:function(){return wi},AbstractGroup:function(){return Zi},AbstractShape:function(){return bo},Base:function(){return pc},Canvas:function(){return fg},Event:function(){return Ss},Group:function(){return Gw},PathUtil:function(){return at},Shape:function(){return M},assembleFont:function(){return lv},getArcParams:function(){return xE},getBBoxMethod:function(){return ku},getOffScreenContext:function(){return Og},getTextHeight:function(){return kv},invert:function(){return Ru},isAllowCapture:function(){return ph},multiplyVec2:function(){return Eu},registerBBox:function(){return pu},registerEasing:function(){return gi},version:function(){return f8}});var L={};je.r(L),je.d(L,{Base:function(){return Hv},Circle:function(){return y8},Dom:function(){return x8},Ellipse:function(){return E8},Image:function(){return w8},Line:function(){return A8},Marker:function(){return T8},Path:function(){return I8},Polygon:function(){return D8},Polyline:function(){return L8},Rect:function(){return B8},Text:function(){return W8}});var I={};je.r(I),je.d(I,{AbstractCanvas:function(){return wi},AbstractGroup:function(){return Zi},AbstractShape:function(){return bo},Base:function(){return pc},Canvas:function(){return Nm},Event:function(){return Ss},Group:function(){return Ww},PathUtil:function(){return at},Shape:function(){return L},assembleFont:function(){return lv},getBBoxMethod:function(){return ku},getOffScreenContext:function(){return Og},getTextHeight:function(){return kv},invert:function(){return Ru},isAllowCapture:function(){return ph},multiplyVec2:function(){return Eu},registerBBox:function(){return pu},registerEasing:function(){return gi},version:function(){return c7}});var k={};je.r(k),je.d(k,{Action:function(){return Ws},BRUSH_FILTER_EVENTS:function(){return wd},Chart:function(){return EM},ComponentController:function(){return K0},Coordinate:function(){return Zb},DIRECTION:function(){return An},ELEMENT_RANGE_HIGHLIGHT_EVENTS:function(){return vp},Element:function(){return Sw},Event:function(){return nu},Facet:function(){return X0},Geometry:function(){return cg},GeometryLabel:function(){return Bx},Interaction:function(){return aM},InteractionAction:function(){return Ws},LAYER:function(){return hi},Scale:function(){return rg},TooltipController:function(){return xw},Util:function(){return Sd},VERSION:function(){return d6},VIEW_LIFE_CIRCLE:function(){return pi},View:function(){return bM},getActionClass:function(){return Dx},getAnimation:function(){return bw},getEngine:function(){return sc},getFacet:function(){return XT},getGeometryLabel:function(){return TM},getGeometryLabelLayout:function(){return MM},getInteraction:function(){return lM},getShapeFactory:function(){return _w},getTheme:function(){return Dm},registerAction:function(){return na},registerAnimation:function(){return Yd},registerComponentController:function(){return qg},registerEngine:function(){return uc},registerFacet:function(){return $0},registerGeometry:function(){return fp},registerGeometryLabel:function(){return Rm},registerGeometryLabelLayout:function(){return Ed},registerInteraction:function(){return Ta},registerShape:function(){return No},registerShapeFactory:function(){return lg},registerTheme:function(){return hM}});var B={};je.r(B),je.d(B,{cluster:function(){return SX},hierarchy:function(){return Ym},pack:function(){return EP},packEnclose:function(){return vP},packSiblings:function(){return MX},partition:function(){return hP},stratify:function(){return RX},tree:function(){return zX},treemap:function(){return MP},treemapBinary:function(){return UX},treemapDice:function(){return sb},treemapResquarify:function(){return WX},treemapSlice:function(){return cS},treemapSliceDice:function(){return jX},treemapSquarify:function(){return TP}});var z={};je.r(z),je.d(z,{GADDI:function(){return eL},Stack:function(){return Jm},breadthFirstSearch:function(){return b3},connectedComponent:function(){return oA},cosineSimilarity:function(){return vA},default:function(){return nq},depthFirstSearch:function(){return sA},detectAllCycles:function(){return A3},detectAllDirectedCycle:function(){return lA},detectAllUndirectedCycle:function(){return uA},detectCycle:function(){return cA},detectDirectedCycle:function(){return rL},dijkstra:function(){return fb},findAllPath:function(){return M3},findShortestPath:function(){return T3},floydWarshall:function(){return hb},getAdjMatrix:function(){return vy},getDegree:function(){return cb},getInDegree:function(){return S3},getNeighbors:function(){return Sv},getOutDegree:function(){return w3},iLouvain:function(){return F3},kCore:function(){return N3},kMeans:function(){return B3},labelPropagation:function(){return I3},louvain:function(){return dA},minimumSpanningTree:function(){return U3},nodesCosineSimilarity:function(){return G3},pageRank:function(){return j3}});var W={};je.r(W),je.d(W,{Line:function(){return gy},applyMatrix:function(){return TS},compare:function(){return iq},distance:function(){return MS},floydWarshall:function(){return oq},fractionToLine:function(){return mA},getAdjMatrix:function(){return sq},getBBoxBoundLine:function(){return yA},getCircleCenterByPoints:function(){return pA},getCircleIntersectByPoint:function(){return aL},getDegree:function(){return cq},getEllipseIntersectByPoint:function(){return oL},getLineIntersect:function(){return CS},getPointsCenter:function(){return hL},getRectIntersectByPoint:function(){return iL},intersectBBox:function(){return lL},invertMatrix:function(){return sL},isPointInPolygon:function(){return db},isPointsOverlap:function(){return xA},isPolygonsIntersect:function(){return cL},itemIntersectByLine:function(){return fL},lerp:function(){return pL},move:function(){return gA},pointLineDistance:function(){return vq},pointLineSquareDist:function(){return dL},pointRectSquareDist:function(){return vL},rotate:function(){return lq},scale:function(){return uq},scaleMatrix:function(){return aq},squareDist:function(){return IS},translate:function(){return uL}});var $={};je.r($),je.d($,{cloneBesidesImg:function(){return RS},getBBox:function(){return PS},getComboBBox:function(){return LS},getLabelPosition:function(){return SL},getLetterWidth:function(){return _L},getLoopCfgs:function(){return EL},getTextSize:function(){return AL},plainCombosToTrees:function(){return wA},reconstructTree:function(){return _A},shouldRefreshEdge:function(){return Eq},traverseTree:function(){return Kd},traverseTreeUp:function(){return h0}});var K={};je.r(K),je.d(K,{calculationItemsBBox:function(){return TL},cloneEvent:function(){return Cq},formatPadding:function(){return CA},isNaN:function(){return FS},isViewportChanged:function(){return Tq},processParallelEdges:function(){return Mq},uniqueId:function(){return AA}});var lt={};je.r(lt),je.d(lt,{getClosedSpline:function(){return NA},getControlPoint:function(){return zS},getSpline:function(){return jL},paddedHull:function(){return YL},pathToPoints:function(){return FA},pointsToPolygon:function(){return Xq},roundedHull:function(){return kA}});var st={};je.r(st),je.d(st,{defaultSubjectColors:function(){return vtt}});var yt={};je.r(yt),je.d(yt,{getColorSetsBySubjectColors:function(){return Itt},getColorsWithSubjectColor:function(){return VA},mixColor:function(){return qc}});var q={};je.r(q),je.d(q,{arrayToTextureData:function(){return jtt},attributesToTextureData:function(){return Utt},buildTextureData:function(){return Btt},buildTextureDataWithOneEdgeAttr:function(){return Gtt},buildTextureDataWithTwoEdgeAttr:function(){return ztt},proccessToFunc:function(){return ktt},radialLayout:function(){return Wtt}});var nt={};je.r(nt),je.d(nt,{gpuDetector:function(){return pR}});var ct=je(82526),bt=je(41817),_t=je(72443),St=je(92401),At=je(8722),vt=je(32165),dt=je(69007),gt=je(16066),Ct=je(83510),Et=je(41840),Tt=je(6982),ot=je(32159),Mt=je(96649),Wt=je(39341),jt=je(60543),qt=je(9170),se=je(92222),ae=je(50545),he=je(26541),ke=je(43290),Le=je(57327),rr=je(69826),Ee=je(34553),ge=je(84944),we=je(86535),Ce=je(89554),ye=je(91038),Gt=je(26699),Xt=je(82772),Kt=je(66992),ze=je(69600),ur=je(94986),tr=je(21249),re=je(26572),Qr=je(85827),Ir=je(96644),gn=je(65069),Wn=je(47042),ui=je(5212),bi=je(2707),fr=je(38706),Zr=je(40561),Sn=je(33792),Dn=je(99244),hn=je(18264),Gn=je(76938),En=je(39575),In=je(16716),Fn=je(28733),xe=je(5735),Ge=je(96078),Je=je(4855),br=je(68309),jr=je(35837),Wr=je(38862),Ut=je(73706),ft=je(51532),pt=je(99752),J=je(82376),xt=je(73181),Rt=je(23484),ue=je(2388),ie=je(88621),be=je(60403),ce=je(84755),We=je(25438),Ne=je(90332),Mr=je(40658),sn=je(40197),hr=je(44914),cn=je(52420),kn=je(60160),me=je(60970),Tn=je(10408),Zn=je(73689),Kn=je(9653),Or=je(93299),wn=je(35192),Cr=je(33161),xr=je(44048),_n=je(78285),Mi=je(44363),or=je(55994),Bn=je(61874),ti=je(9494),Vn=je(56977),qi=je(55147),Rn=je(19601),fa=je(59595),Ci=je(35500),ga=je(69720),da=je(43371),zo=je(38559),Po=je(38880),au=je(49337),Yi=je(36210),Ha=je(30489),po=je(43304),Za=je(41825),ho=je(98410),za=je(72200),ol=je(47941),nf=je(94869),$l=je(33952),ih=je(57227),Al=je(60514),Ic=je(68304),ah=je(41539),Ys=je(26833),Is=je(54678),Oc=je(91058),sl=je(88674),oh=je(17922),Br=je(34668),Iu=je(17727),af=je(36535),jh=je(12419),Dc=je(69596),Tf=je(52586),Td=je(74819),Md=je(95683),Kl=je(39361),Zl=je(51037),Wh=je(5898),qd=je(67556),of=je(14361),Ql=je(83593),go=je(39532),sf=je(81299),sh=je(24603),uh=je(74916),Pc=je(92087),Vh=je(88386),Qa=je(77601),Ya=je(39714),Gu=je(70189),Ou=je(79841),Du=je(27852),lh=je(94953),Hh=je(32023),Mv=je(78783),tv=je(4723),Id=je(76373),Jo=je(66528),yo=je(83112),Lc=je(38992),Yh=je(82481),zu=je(15306),ns=je(68757),Mf=je(64765),xs=je(23123),Jl=je(23157),Cl=je(73210),If=je(48702),Tl=je(55674),_o=je(15218),Uu=je(74475),ou=je(57929),ql=je(50915),Xh=je(29253),ul=je(42125),tc=je(78830),ec=je(58734),mo=je(29254),Pu=je(37268),eo=je(7397),ch=je(60086),$h=je(80623),Xs=je(44197),Kh=je(76495),Of=je(87145),rc=je(35109),Rc=je(65125),nc=je(82472),ll=je(49743),ic=je(8255),Ns=je(29135),fh=je(92990),ju=je(18927),fe=je(33105),qe=je(35035),Sr=je(74345),Kr=je(7174),Pn=je(32846),ci=je(98145),Pi=je(44731),xa=je(77209),ro=je(96319),su=je(58867),gu=je(37789),hh=je(33739),Zh=je(95206),Df=je(29368),Od=je(14483),Dd=je(12056),dh=je(3462),rp=je(30678),Iv=je(27462),Pd=je(33824),Pf=je(55021),cl=je(12974),Fc=je(15016),Lf=je(4129),$s=je(38478),Ov=je(54747),uf=je(33948),yu=je(84633),ev=je(85844),rv=je(32564),Sp=je(60285),np=je(83753),Ld=je(41637),nv=je(35666),_e=je(67294),tn=je(73935),Z=je(85524),w=je(49242),hi;(function(a){a.FORE="fore",a.MID="mid",a.BG="bg"})(hi||(hi={}));var An;(function(a){a.TOP="top",a.TOP_LEFT="top-left",a.TOP_RIGHT="top-right",a.RIGHT="right",a.RIGHT_TOP="right-top",a.RIGHT_BOTTOM="right-bottom",a.LEFT="left",a.LEFT_TOP="left-top",a.LEFT_BOTTOM="left-bottom",a.BOTTOM="bottom",a.BOTTOM_LEFT="bottom-left",a.BOTTOM_RIGHT="bottom-right",a.RADIUS="radius",a.CIRCLE="circle",a.NONE="none"})(An||(An={}));var ua;(function(a){a.AXIS="axis",a.GRID="grid",a.LEGEND="legend",a.TOOLTIP="tooltip",a.ANNOTATION="annotation",a.SLIDER="slider",a.SCROLLBAR="scrollbar",a.OTHER="other"})(ua||(ua={}));var qo={FORE:3,MID:2,BG:1},pi;(function(a){a.BEFORE_RENDER="beforerender",a.AFTER_RENDER="afterrender",a.BEFORE_PAINT="beforepaint",a.AFTER_PAINT="afterpaint",a.BEFORE_CHANGE_DATA="beforechangedata",a.AFTER_CHANGE_DATA="afterchangedata",a.BEFORE_CLEAR="beforeclear",a.AFTER_CLEAR="afterclear",a.BEFORE_DESTROY="beforedestroy",a.BEFORE_CHANGE_SIZE="beforechangesize",a.AFTER_CHANGE_SIZE="afterchangesize"})(pi||(pi={}));var Nc;(function(a){a.BEFORE_DRAW_ANIMATE="beforeanimate",a.AFTER_DRAW_ANIMATE="afteranimate"})(Nc||(Nc={}));var ks;(function(a){a.MOUSE_ENTER="plot:mouseenter",a.MOUSE_DOWN="plot:mousedown",a.MOUSE_MOVE="plot:mousemove",a.MOUSE_UP="plot:mouseup",a.MOUSE_LEAVE="plot:mouseleave",a.TOUCH_START="plot:touchstart",a.TOUCH_MOVE="plot:touchmove",a.TOUCH_END="plot:touchend",a.TOUCH_CANCEL="plot:touchcancel",a.CLICK="plot:click",a.DBLCLICK="plot:dblclick",a.CONTEXTMENU="plot:contextmenu",a.LEAVE="plot:leave",a.ENTER="plot:enter"})(ks||(ks={}));var uu;(function(a){a.ACTIVE="active",a.INACTIVE="inactive",a.SELECTED="selected",a.DEFAULT="default"})(uu||(uu={}));var ac=["color","shape","size"],Ja="_origin",Wu=1,lf=1,oc=.25,ha={};function sc(a){var e=ha[a];if(!e)throw new Error("G engine '".concat(a,"' is not exist, please register it at first."));return e}function uc(a,e){ha[a]=e}var fl,Rf,Qh,kc;function lc(){fl=document.createElement("table"),Rf=document.createElement("tr"),Qh=/^\s*<(\w+|!)[^>]*>/,kc={tr:document.createElement("tbody"),tbody:fl,thead:fl,tfoot:fl,td:Rf,th:Rf,"*":document.createElement("div")}}function Fa(a){fl||lc();var e=Qh.test(a)&&RegExp.$1;(!e||!(e in kc))&&(e="*");var t=kc[e];a=typeof a=="string"?a.replace(/(^\s*)|(\s*$)/g,""):a,t.innerHTML=""+a;var n=t.childNodes[0];return n&&t.contains(n)&&t.removeChild(n),n}function Ri(a,e){if(a)for(var t in e)e.hasOwnProperty(t)&&(a.style[t]=e[t]);return a}function ds(a){var e=getComputedStyle(a);return{width:(a.clientWidth||parseInt(e.width,10))-parseInt(e.paddingLeft,10)-parseInt(e.paddingRight,10),height:(a.clientHeight||parseInt(e.height,10))-parseInt(e.paddingTop,10)-parseInt(e.paddingBottom,10)}}function co(a){return typeof a=="number"&&!isNaN(a)}function Ff(a,e,t,n){var o=t,u=n;if(e){var l=ds(a);o=l.width?l.width:o,u=l.height?l.height:u}return{width:Math.max(co(o)?o:Wu,Wu),height:Math.max(co(u)?u:lf,lf)}}function Vu(a){var e=a.parentNode;e&&e.removeChild(a)}var cf="*",Jh=function(){function a(){this._events={}}return a.prototype.on=function(e,t,n){return this._events[e]||(this._events[e]=[]),this._events[e].push({callback:t,once:!!n}),this},a.prototype.once=function(e,t){return this.on(e,t,!0)},a.prototype.emit=function(e){for(var t=this,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];var u=this._events[e]||[],l=this._events[cf]||[],c=function(f){for(var h=f.length,v=0;v<h;v++)if(!!f[v]){var p=f[v],g=p.callback,E=p.once;E&&(f.splice(v,1),f.length===0&&delete t._events[e],h--,v--),g.apply(t,n)}};c(u),c(l)},a.prototype.off=function(e,t){if(!e)this._events={};else if(!t)delete this._events[e];else{for(var n=this._events[e]||[],o=n.length,u=0;u<o;u++)n[u].callback===t&&(n.splice(u,1),o--,u--);n.length===0&&delete this._events[e]}return this},a.prototype.getEvents=function(){return this._events},a}(),cc=Jh,hl=function(a){(0,Z.__extends)(e,a);function e(t){var n=a.call(this)||this;n.destroyed=!1;var o=t.visible,u=o===void 0?!0:o;return n.visible=u,n}return e.prototype.show=function(){var t=this.visible;t||this.changeVisible(!0)},e.prototype.hide=function(){var t=this.visible;t&&this.changeVisible(!1)},e.prototype.destroy=function(){this.off(),this.destroyed=!0},e.prototype.changeVisible=function(t){this.visible!==t&&(this.visible=t)},e}(cc),fc=hl,Ml=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,qh=new RegExp("([a-z])["+Ml+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+Ml+"]*,?["+Ml+"]*)+)","ig"),ff=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+Ml+"]*,?["+Ml+"]*","ig"),Il=function(a){if(!a)return null;if((0,w.isArray)(a))return a;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},t=[];return String(a).replace(qh,function(n,o,u){var l=[],c=o.toLowerCase();if(u.replace(ff,function(f,h){h&&l.push(+h)}),c==="m"&&l.length>2&&(t.push([o].concat(l.splice(0,2))),c="l",o=o==="m"?"l":"L"),c==="o"&&l.length===1&&t.push([o,l[0]]),c==="r")t.push([o].concat(l));else for(;l.length>=e[c]&&(t.push([o].concat(l.splice(0,e[c]))),!!e[c]););return a}),t},Ol=function(a,e){for(var t=[],n=0,o=a.length;o-2*!e>n;n+=2){var u=[{x:+a[n-2],y:+a[n-1]},{x:+a[n],y:+a[n+1]},{x:+a[n+2],y:+a[n+3]},{x:+a[n+4],y:+a[n+5]}];e?n?o-4===n?u[3]={x:+a[0],y:+a[1]}:o-2===n&&(u[2]={x:+a[0],y:+a[1]},u[3]={x:+a[2],y:+a[3]}):u[0]={x:+a[o-2],y:+a[o-1]}:o-4===n?u[3]=u[2]:n||(u[0]={x:+a[n],y:+a[n+1]}),t.push(["C",(-u[0].x+6*u[1].x+u[2].x)/6,(-u[0].y+6*u[1].y+u[2].y)/6,(u[1].x+6*u[2].x-u[3].x)/6,(u[1].y+6*u[2].y-u[3].y)/6,u[2].x,u[2].y])}return t},Hu=function(a,e,t,n,o){var u=[];if(o===null&&n===null&&(n=t),a=+a,e=+e,t=+t,n=+n,o!==null){var l=Math.PI/180,c=a+t*Math.cos(-n*l),f=a+t*Math.cos(-o*l),h=e+t*Math.sin(-n*l),v=e+t*Math.sin(-o*l);u=[["M",c,h],["A",t,t,0,+(o-n>180),0,f,v]]}else u=[["M",a,e],["m",0,-n],["a",t,n,0,1,1,0,2*n],["a",t,n,0,1,1,0,-2*n],["z"]];return u},vh=function(a){if(a=Il(a),!a||!a.length)return[["M",0,0]];var e=[],t=0,n=0,o=0,u=0,l=0,c,f;a[0][0]==="M"&&(t=+a[0][1],n=+a[0][2],o=t,u=n,l++,e[0]=["M",t,n]);for(var h=a.length===3&&a[0][0]==="M"&&a[1][0].toUpperCase()==="R"&&a[2][0].toUpperCase()==="Z",v=void 0,p=void 0,g=l,E=a.length;g<E;g++){if(e.push(v=[]),p=a[g],c=p[0],c!==c.toUpperCase())switch(v[0]=c.toUpperCase(),v[0]){case"A":v[1]=p[1],v[2]=p[2],v[3]=p[3],v[4]=p[4],v[5]=p[5],v[6]=+p[6]+t,v[7]=+p[7]+n;break;case"V":v[1]=+p[1]+n;break;case"H":v[1]=+p[1]+t;break;case"R":f=[t,n].concat(p.slice(1));for(var D=2,G=f.length;D<G;D++)f[D]=+f[D]+t,f[++D]=+f[D]+n;e.pop(),e=e.concat(Ol(f,h));break;case"O":e.pop(),f=Hu(t,n,p[1],p[2]),f.push(f[0]),e=e.concat(f);break;case"U":e.pop(),e=e.concat(Hu(t,n,p[1],p[2],p[3])),v=["U"].concat(e[e.length-1].slice(-2));break;case"M":o=+p[1]+t,u=+p[2]+n;break;default:for(var D=1,G=p.length;D<G;D++)v[D]=+p[D]+(D%2?t:n)}else if(c==="R")f=[t,n].concat(p.slice(1)),e.pop(),e=e.concat(Ol(f,h)),v=["R"].concat(p.slice(-2));else if(c==="O")e.pop(),f=Hu(t,n,p[1],p[2]),f.push(f[0]),e=e.concat(f);else if(c==="U")e.pop(),e=e.concat(Hu(t,n,p[1],p[2],p[3])),v=["U"].concat(e[e.length-1].slice(-2));else for(var H=0,X=p.length;H<X;H++)v[H]=p[H];if(c=c.toUpperCase(),c!=="O")switch(v[0]){case"Z":t=+o,n=+u;break;case"H":t=v[1];break;case"V":n=v[1];break;case"M":o=v[v.length-2],u=v[v.length-1];break;default:t=v[v.length-2],n=v[v.length-1]}}return e},Yu=function(a,e,t,n){return[a,e,t,n,t,n]},Rd=function(a,e,t,n,o,u){var l=.3333333333333333,c=2/3;return[l*a+c*t,l*e+c*n,l*o+c*t,l*u+c*n,o,u]},vi=function(a,e,t,n,o,u,l,c,f,h){t===n&&(t+=1);var v=Math.PI*120/180,p=Math.PI/180*(+o||0),g=[],E,D,G,H,X,rt=function(oi,mr,ki){var Xn=oi*Math.cos(ki)-mr*Math.sin(ki),qn=oi*Math.sin(ki)+mr*Math.cos(ki);return{x:Xn,y:qn}};if(h)D=h[0],G=h[1],H=h[2],X=h[3];else{E=rt(a,e,-p),a=E.x,e=E.y,E=rt(c,f,-p),c=E.x,f=E.y,a===c&&e===f&&(c+=1,f+=1);var ht=(a-c)/2,mt=(e-f)/2,Dt=ht*ht/(t*t)+mt*mt/(n*n);Dt>1&&(Dt=Math.sqrt(Dt),t=Dt*t,n=Dt*n);var kt=t*t,Vt=n*n,te=(u===l?-1:1)*Math.sqrt(Math.abs((kt*Vt-kt*mt*mt-Vt*ht*ht)/(kt*mt*mt+Vt*ht*ht)));H=te*t*mt/n+(a+c)/2,X=te*-n*ht/t+(e+f)/2,D=Math.asin(((e-X)/n).toFixed(9)),G=Math.asin(((f-X)/n).toFixed(9)),D=a<H?Math.PI-D:D,G=c<H?Math.PI-G:G,D<0&&(D=Math.PI*2+D),G<0&&(G=Math.PI*2+G),l&&D>G&&(D=D-Math.PI*2),!l&&G>D&&(G=G-Math.PI*2)}var le=G-D;if(Math.abs(le)>v){var pe=G,De=c,Xe=f;G=D+v*(l&&G>D?1:-1),c=H+t*Math.cos(G),f=X+n*Math.sin(G),g=vi(c,f,t,n,o,0,l,De,Xe,[G,pe,H,X])}le=G-D;var pr=Math.cos(D),yr=Math.sin(D),Vr=Math.cos(G),nr=Math.sin(G),Gr=Math.tan(le/4),en=4/3*t*Gr,cr=4/3*n*Gr,Fr=[a,e],qr=[a+en*yr,e-cr*pr],_r=[c+en*nr,f-cr*Vr],kr=[c,f];if(qr[0]=2*Fr[0]-qr[0],qr[1]=2*Fr[1]-qr[1],h)return[qr,_r,kr].concat(g);g=[qr,_r,kr].concat(g).join().split(",");for(var Yr=[],mn=0,Er=g.length;mn<Er;mn++)Yr[mn]=mn%2?rt(g[mn-1],g[mn],p).y:rt(g[mn],g[mn+1],p).x;return Yr},uo=function(a,e){var t=vh(a),n=e&&vh(e),o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},u={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},l=[],c=[],f="",h="",v,p=function(ht,mt,Dt){var kt,Vt;if(!ht)return["C",mt.x,mt.y,mt.x,mt.y,mt.x,mt.y];switch(!(ht[0]in{T:1,Q:1})&&(mt.qx=mt.qy=null),ht[0]){case"M":mt.X=ht[1],mt.Y=ht[2];break;case"A":ht=["C"].concat(vi.apply(0,[mt.x,mt.y].concat(ht.slice(1))));break;case"S":Dt==="C"||Dt==="S"?(kt=mt.x*2-mt.bx,Vt=mt.y*2-mt.by):(kt=mt.x,Vt=mt.y),ht=["C",kt,Vt].concat(ht.slice(1));break;case"T":Dt==="Q"||Dt==="T"?(mt.qx=mt.x*2-mt.qx,mt.qy=mt.y*2-mt.qy):(mt.qx=mt.x,mt.qy=mt.y),ht=["C"].concat(Rd(mt.x,mt.y,mt.qx,mt.qy,ht[1],ht[2]));break;case"Q":mt.qx=ht[1],mt.qy=ht[2],ht=["C"].concat(Rd(mt.x,mt.y,ht[1],ht[2],ht[3],ht[4]));break;case"L":ht=["C"].concat(Yu(mt.x,mt.y,ht[1],ht[2]));break;case"H":ht=["C"].concat(Yu(mt.x,mt.y,ht[1],mt.y));break;case"V":ht=["C"].concat(Yu(mt.x,mt.y,mt.x,ht[1]));break;case"Z":ht=["C"].concat(Yu(mt.x,mt.y,mt.X,mt.Y));break;default:break}return ht},g=function(ht,mt){if(ht[mt].length>7){ht[mt].shift();for(var Dt=ht[mt];Dt.length;)l[mt]="A",n&&(c[mt]="A"),ht.splice(mt++,0,["C"].concat(Dt.splice(0,6)));ht.splice(mt,1),v=Math.max(t.length,n&&n.length||0)}},E=function(ht,mt,Dt,kt,Vt){ht&&mt&&ht[Vt][0]==="M"&&mt[Vt][0]!=="M"&&(mt.splice(Vt,0,["M",kt.x,kt.y]),Dt.bx=0,Dt.by=0,Dt.x=ht[Vt][1],Dt.y=ht[Vt][2],v=Math.max(t.length,n&&n.length||0))};v=Math.max(t.length,n&&n.length||0);for(var D=0;D<v;D++){t[D]&&(f=t[D][0]),f!=="C"&&(l[D]=f,D&&(h=l[D-1])),t[D]=p(t[D],o,h),l[D]!=="A"&&f==="C"&&(l[D]="C"),g(t,D),n&&(n[D]&&(f=n[D][0]),f!=="C"&&(c[D]=f,D&&(h=c[D-1])),n[D]=p(n[D],u,h),c[D]!=="A"&&f==="C"&&(c[D]="C"),g(n,D)),E(t,n,o,u,D),E(n,t,u,o,D);var G=t[D],H=n&&n[D],X=G.length,rt=n&&H.length;o.x=G[X-2],o.y=G[X-1],o.bx=parseFloat(G[X-4])||o.x,o.by=parseFloat(G[X-3])||o.y,u.bx=n&&(parseFloat(H[rt-4])||u.x),u.by=n&&(parseFloat(H[rt-3])||u.y),u.x=n&&H[rt-2],u.y=n&&H[rt-1]}return n?[t,n]:t},Ki=/,?([a-z]),?/gi,Dl=function(a){return a.join(",").replace(Ki,"$1")},td=function(a,e,t,n,o){var u=-3*e+9*t-9*n+3*o,l=a*u+6*e-12*t+6*n;return a*l-3*e+3*t},dl=function(a,e,t,n,o,u,l,c,f){f===null&&(f=1),f=f>1?1:f<0?0:f;for(var h=f/2,v=12,p=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],g=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],E=0,D=0;D<v;D++){var G=h*p[D]+h,H=td(G,a,t,o,l),X=td(G,e,n,u,c),rt=H*H+X*X;E+=g[D]*Math.sqrt(rt)}return h*E},hc=function(a,e,t,n,o,u,l,c){for(var f=[],h=[[],[]],v,p,g,E,D=0;D<2;++D){if(D===0?(p=6*a-12*t+6*o,v=-3*a+9*t-9*o+3*l,g=3*t-3*a):(p=6*e-12*n+6*u,v=-3*e+9*n-9*u+3*c,g=3*n-3*e),Math.abs(v)<1e-12){if(Math.abs(p)<1e-12)continue;E=-g/p,E>0&&E<1&&f.push(E);continue}var G=p*p-4*g*v,H=Math.sqrt(G);if(!(G<0)){var X=(-p+H)/(2*v);X>0&&X<1&&f.push(X);var rt=(-p-H)/(2*v);rt>0&&rt<1&&f.push(rt)}}for(var ht=f.length,mt=ht,Dt;ht--;)E=f[ht],Dt=1-E,h[0][ht]=Dt*Dt*Dt*a+3*Dt*Dt*E*t+3*Dt*E*E*o+E*E*E*l,h[1][ht]=Dt*Dt*Dt*e+3*Dt*Dt*E*n+3*Dt*E*E*u+E*E*E*c;return h[0][mt]=a,h[1][mt]=e,h[0][mt+1]=l,h[1][mt+1]=c,h[0].length=h[1].length=mt+2,{min:{x:Math.min.apply(0,h[0]),y:Math.min.apply(0,h[1])},max:{x:Math.max.apply(0,h[0]),y:Math.max.apply(0,h[1])}}},dc=function(a,e,t,n,o,u,l,c){if(!(Math.max(a,t)<Math.min(o,l)||Math.min(a,t)>Math.max(o,l)||Math.max(e,n)<Math.min(u,c)||Math.min(e,n)>Math.max(u,c))){var f=(a*n-e*t)*(o-l)-(a-t)*(o*c-u*l),h=(a*n-e*t)*(u-c)-(e-n)*(o*c-u*l),v=(a-t)*(u-c)-(e-n)*(o-l);if(!!v){var p=f/v,g=h/v,E=+p.toFixed(2),D=+g.toFixed(2);if(!(E<+Math.min(a,t).toFixed(2)||E>+Math.max(a,t).toFixed(2)||E<+Math.min(o,l).toFixed(2)||E>+Math.max(o,l).toFixed(2)||D<+Math.min(e,n).toFixed(2)||D>+Math.max(e,n).toFixed(2)||D<+Math.min(u,c).toFixed(2)||D>+Math.max(u,c).toFixed(2)))return{x:p,y:g}}}},bs=function(a,e,t){return e>=a.x&&e<=a.x+a.width&&t>=a.y&&t<=a.y+a.height},Nf=function(a,e,t,n,o){if(o)return[["M",+a+ +o,e],["l",t-o*2,0],["a",o,o,0,0,1,o,o],["l",0,n-o*2],["a",o,o,0,0,1,-o,o],["l",o*2-t,0],["a",o,o,0,0,1,-o,-o],["l",0,o*2-n],["a",o,o,0,0,1,o,-o],["z"]];var u=[["M",a,e],["l",t,0],["l",0,n],["l",-t,0],["z"]];return u.parsePathArray=Dl,u},Ks=function(a,e,t,n){return a===null&&(a=e=t=n=0),e===null&&(e=a.y,t=a.width,n=a.height,a=a.x),{x:a,y:e,width:t,w:t,height:n,h:n,x2:a+t,y2:e+n,cx:a+t/2,cy:e+n/2,r1:Math.min(t,n)/2,r2:Math.max(t,n)/2,r0:Math.sqrt(t*t+n*n)/2,path:Nf(a,e,t,n),vb:[a,e,t,n].join(" ")}},Os=function(a,e){return a=Ks(a),e=Ks(e),bs(e,a.x,a.y)||bs(e,a.x2,a.y)||bs(e,a.x,a.y2)||bs(e,a.x2,a.y2)||bs(a,e.x,e.y)||bs(a,e.x2,e.y)||bs(a,e.x,e.y2)||bs(a,e.x2,e.y2)||(a.x<e.x2&&a.x>e.x||e.x<a.x2&&e.x>a.x)&&(a.y<e.y2&&a.y>e.y||e.y<a.y2&&e.y>a.y)},Xu=function(a,e,t,n,o,u,l,c){(0,w.isArray)(a)||(a=[a,e,t,n,o,u,l,c]);var f=hc.apply(null,a);return Ks(f.min.x,f.min.y,f.max.x-f.min.x,f.max.y-f.min.y)},Pl=function(a,e,t,n,o,u,l,c,f){var h=1-f,v=Math.pow(h,3),p=Math.pow(h,2),g=f*f,E=g*f,D=v*a+p*3*f*t+h*3*f*f*o+E*l,G=v*e+p*3*f*n+h*3*f*f*u+E*c,H=a+2*f*(t-a)+g*(o-2*t+a),X=e+2*f*(n-e)+g*(u-2*n+e),rt=t+2*f*(o-t)+g*(l-2*o+t),ht=n+2*f*(u-n)+g*(c-2*u+n),mt=h*a+f*t,Dt=h*e+f*n,kt=h*o+f*l,Vt=h*u+f*c,te=90-Math.atan2(H-rt,X-ht)*180/Math.PI;return{x:D,y:G,m:{x:H,y:X},n:{x:rt,y:ht},start:{x:mt,y:Dt},end:{x:kt,y:Vt},alpha:te}},Ao=function(a,e,t){var n=Xu(a),o=Xu(e);if(!Os(n,o))return t?0:[];for(var u=dl.apply(0,a),l=dl.apply(0,e),c=~~(u/8),f=~~(l/8),h=[],v=[],p={},g=t?0:[],E=0;E<c+1;E++){var D=Pl.apply(0,a.concat(E/c));h.push({x:D.x,y:D.y,t:E/c})}for(var E=0;E<f+1;E++){var D=Pl.apply(0,e.concat(E/f));v.push({x:D.x,y:D.y,t:E/f})}for(var E=0;E<c;E++)for(var G=0;G<f;G++){var H=h[E],X=h[E+1],rt=v[G],ht=v[G+1],mt=Math.abs(X.x-H.x)<.001?"y":"x",Dt=Math.abs(ht.x-rt.x)<.001?"y":"x",kt=dc(H.x,H.y,X.x,X.y,rt.x,rt.y,ht.x,ht.y);if(kt){if(p[kt.x.toFixed(4)]===kt.y.toFixed(4))continue;p[kt.x.toFixed(4)]=kt.y.toFixed(4);var Vt=H.t+Math.abs((kt[mt]-H[mt])/(X[mt]-H[mt]))*(X.t-H.t),te=rt.t+Math.abs((kt[Dt]-rt[Dt])/(ht[Dt]-rt[Dt]))*(ht.t-rt.t);Vt>=0&&Vt<=1&&te>=0&&te<=1&&(t?g+=1:g.push({x:kt.x,y:kt.y,t1:Vt,t2:te}))}}return g},kf=function(a,e,t){a=uo(a),e=uo(e);for(var n,o,u,l,c,f,h,v,p,g,E=t?0:[],D=0,G=a.length;D<G;D++){var H=a[D];if(H[0]==="M")n=c=H[1],o=f=H[2];else{H[0]==="C"?(p=[n,o].concat(H.slice(1)),n=p[6],o=p[7]):(p=[n,o,n,o,c,f,c,f],n=c,o=f);for(var X=0,rt=e.length;X<rt;X++){var ht=e[X];if(ht[0]==="M")u=h=ht[1],l=v=ht[2];else{ht[0]==="C"?(g=[u,l].concat(ht.slice(1)),u=g[6],l=g[7]):(g=[u,l,u,l,h,v,h,v],u=h,l=v);var mt=Ao(p,g,t);if(t)E+=mt;else{for(var Dt=0,kt=mt.length;Dt<kt;Dt++)mt[Dt].segment1=D,mt[Dt].segment2=X,mt[Dt].bez1=p,mt[Dt].bez2=g;E=E.concat(mt)}}}}}return E},$u=function(a,e){return kf(a,e)};function vl(a,e){var t=[],n=[];function o(u,l){if(u.length===1)t.push(u[0]),n.push(u[0]);else{for(var c=[],f=0;f<u.length-1;f++)f===0&&t.push(u[0]),f===u.length-2&&n.push(u[f+1]),c[f]=[(1-l)*u[f][0]+l*u[f+1][0],(1-l)*u[f][1]+l*u[f+1][1]];o(c,l)}}return a.length&&o(a,e),{left:t,right:n.reverse()}}function Co(a,e,t){var n=[[a[1],a[2]]];t=t||2;var o=[];e[0]==="A"?(n.push(e[6]),n.push(e[7])):e[0]==="C"?(n.push([e[1],e[2]]),n.push([e[3],e[4]]),n.push([e[5],e[6]])):e[0]==="S"||e[0]==="Q"?(n.push([e[1],e[2]]),n.push([e[3],e[4]])):n.push([e[1],e[2]]);for(var u=n,l=1/t,c=0;c<t-1;c++){var f=l/(1-l*c),h=vl(u,f);o.push(h.left),u=h.right}o.push(u);var v=o.map(function(p){var g=[];return p.length===4&&(g.push("C"),g=g.concat(p[2])),p.length>=3&&(p.length===3&&g.push("Q"),g=g.concat(p[1])),p.length===2&&g.push("L"),g=g.concat(p[p.length-1]),g});return v}var Uo=function(a,e,t){if(t===1)return[[].concat(a)];var n=[];if(e[0]==="L"||e[0]==="C"||e[0]==="Q")n=n.concat(Co(a,e,t));else{var o=[].concat(a);o[0]==="M"&&(o[0]="L");for(var u=0;u<=t-1;u++)n.push(o)}return n},Ku=function(a,e){if(a.length===1)return a;var t=a.length-1,n=e.length-1,o=t/n,u=[];if(a.length===1&&a[0][0]==="M"){for(var l=0;l<n-t;l++)a.push(a[0]);return a}for(var l=0;l<n;l++){var c=Math.floor(o*l);u[c]=(u[c]||0)+1}var f=u.reduce(function(h,v,p){return p===t?h.concat(a[t]):h.concat(Uo(a[p],a[p+1],v))},[]);return f.unshift(a[0]),(e[n]==="Z"||e[n]==="z")&&f.push("Z"),f},is=function(a,e){if(a.length!==e.length)return!1;var t=!0;return(0,w.each)(a,function(n,o){if(n!==e[o])return t=!1,!1}),t};function Ds(a,e,t){var n=null,o=t;return e<o&&(o=e,n="add"),a<o&&(o=a,n="del"),{type:n,min:o}}var Re=function(a,e){var t=a.length,n=e.length,o,u,l=0;if(t===0||n===0)return null;for(var c=[],f=0;f<=t;f++)c[f]=[],c[f][0]={min:f};for(var h=0;h<=n;h++)c[0][h]={min:h};for(var f=1;f<=t;f++){o=a[f-1];for(var h=1;h<=n;h++){u=e[h-1],is(o,u)?l=0:l=1;var v=c[f-1][h].min+1,p=c[f][h-1].min+1,g=c[f-1][h-1].min+l;c[f][h]=Ds(v,p,g)}}return c},mu=function(a,e){var t=Re(a,e),n=a.length,o=e.length,u=[],l=1,c=1;if(t[n][o].min!==n){for(var f=1;f<=n;f++){var h=t[f][f].min;c=f;for(var v=l;v<=o;v++)t[f][v].min<h&&(h=t[f][v].min,c=v);l=c,t[f][l].type&&u.push({index:f-1,type:t[f][l].type})}for(var f=u.length-1;f>=0;f--)l=u[f].index,u[f].type==="add"?a.splice(l,0,[].concat(a[l])):a.splice(l,1)}n=a.length;var p=o-n;if(n<o)for(var f=0;f<p;f++)a[n-1][0]==="z"||a[n-1][0]==="Z"?a.splice(n-2,0,a[n-2]):a.push(a[n-1]),n+=1;return a};function Es(a,e,t){for(var n=[].concat(a),o,u=1/(t+1),l=Zs(e)[0],c=1;c<=t;c++)u*=c,o=Math.floor(a.length*u),o===0?n.unshift([l[0]*u+a[o][0]*(1-u),l[1]*u+a[o][1]*(1-u)]):n.splice(o,0,[l[0]*u+a[o][0]*(1-u),l[1]*u+a[o][1]*(1-u)]);return n}function Zs(a){var e=[];switch(a[0]){case"M":e.push([a[1],a[2]]);break;case"L":e.push([a[1],a[2]]);break;case"A":e.push([a[6],a[7]]);break;case"Q":e.push([a[3],a[4]]),e.push([a[1],a[2]]);break;case"T":e.push([a[1],a[2]]);break;case"C":e.push([a[5],a[6]]),e.push([a[1],a[2]]),e.push([a[3],a[4]]);break;case"S":e.push([a[3],a[4]]),e.push([a[1],a[2]]);break;case"H":e.push([a[1],a[1]]);break;case"V":e.push([a[1],a[1]]);break;default:}return e}var wa=function(a,e){if(a.length<=1)return a;for(var t,n=0;n<e.length;n++)if(a[n][0]!==e[n][0])switch(t=Zs(a[n]),e[n][0]){case"M":a[n]=["M"].concat(t[0]);break;case"L":a[n]=["L"].concat(t[0]);break;case"A":a[n]=[].concat(e[n]),a[n][6]=t[0][0],a[n][7]=t[0][1];break;case"Q":if(t.length<2)if(n>0)t=Es(t,a[n-1],1);else{a[n]=e[n];break}a[n]=["Q"].concat(t.reduce(function(o,u){return o.concat(u)},[]));break;case"T":a[n]=["T"].concat(t[0]);break;case"C":if(t.length<3)if(n>0)t=Es(t,a[n-1],2);else{a[n]=e[n];break}a[n]=["C"].concat(t.reduce(function(o,u){return o.concat(u)},[]));break;case"S":if(t.length<2)if(n>0)t=Es(t,a[n-1],1);else{a[n]=e[n];break}a[n]=["S"].concat(t.reduce(function(o,u){return o.concat(u)},[]));break;default:a[n]=e[n]}return a},ed=function(){function a(e,t){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=e,this.name=e,this.originalEvent=t,this.timeStamp=t.timeStamp}return a.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},a.prototype.stopPropagation=function(){this.propagationStopped=!0},a.prototype.toString=function(){var e=this.type;return"[Event (type="+e+")]"},a.prototype.save=function(){},a.prototype.restore=function(){},a}(),Ss=ed;function rd(a,e){var t=a.indexOf(e);t!==-1&&a.splice(t,1)}var lu=typeof window!="undefined"&&typeof window.document!="undefined";function vc(a,e){if(a.isCanvas())return!0;for(var t=e.getParent(),n=!1;t;){if(t===a){n=!0;break}t=t.getParent()}return n}function ph(a){return a.cfg.visible&&a.cfg.capture}var gh=function(a){(0,Z.__extends)(e,a);function e(t){var n=a.call(this)||this;n.destroyed=!1;var o=n.getDefaultCfg();return n.cfg=(0,w.mix)(o,t),n}return e.prototype.getDefaultCfg=function(){return{}},e.prototype.get=function(t){return this.cfg[t]},e.prototype.set=function(t,n){this.cfg[t]=n},e.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},e}(cc),pc=gh,Bc=je(34155),pl=function(a,e,t){if(t||arguments.length===2)for(var n=0,o=e.length,u;n<o;n++)(u||!(n in e))&&(u||(u=Array.prototype.slice.call(e,0,n)),u[n]=e[n]);return a.concat(u||Array.prototype.slice.call(e))},Fd=function(){function a(e,t,n){this.name=e,this.version=t,this.os=n,this.type="browser"}return a}(),Dv=function(){function a(e){this.version=e,this.type="node",this.name="node",this.os=Bc.platform}return a}(),nd=function(){function a(e,t,n,o){this.name=e,this.version=t,this.os=n,this.bot=o,this.type="bot-device"}return a}(),Nd=function(){function a(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return a}(),id=function(){function a(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return a}(),gc=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,Pv=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,kd=3,iv=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",gc]],cu=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function yh(a){return a?ts(a):typeof document=="undefined"&&typeof navigator!="undefined"&&navigator.product==="ReactNative"?new id:typeof navigator!="undefined"?ts(navigator.userAgent):mh()}function Ll(a){return a!==""&&iv.reduce(function(e,t){var n=t[0],o=t[1];if(e)return e;var u=o.exec(a);return!!u&&[n,u]},!1)}function ad(a){var e=Ll(a);return e?e[0]:null}function ts(a){var e=Ll(a);if(!e)return null;var t=e[0],n=e[1];if(t==="searchbot")return new Nd;var o=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);o?o.length<kd&&(o=pl(pl([],o,!0),hf(kd-o.length),!0)):o=[];var u=o.join("."),l=Qs(a),c=Pv.exec(a);return c&&c[1]?new nd(t,u,l,c[1]):new Fd(t,u,l)}function Qs(a){for(var e=0,t=cu.length;e<t;e++){var n=cu[e],o=n[0],u=n[1],l=u.exec(a);if(l)return o}return null}function mh(){var a=typeof Bc!="undefined"&&Bc.version;return a?new Dv(Bc.version.slice(1)):null}function hf(a){for(var e=[],t=0;t<a;t++)e.push("0");return e}var fu=je(35600),gl=je(49685);function ws(){var a=new gl.WT(2);return gl.WT!=Float32Array&&(a[0]=0,a[1]=0),a}function wp(a){var e=new glMatrix.ARRAY_TYPE(2);return e[0]=a[0],e[1]=a[1],e}function vs(a,e){var t=new glMatrix.ARRAY_TYPE(2);return t[0]=a,t[1]=e,t}function Bd(a,e){return a[0]=e[0],a[1]=e[1],a}function od(a,e,t){return a[0]=e,a[1]=t,a}function Da(a,e,t){return a[0]=e[0]+t[0],a[1]=e[1]+t[1],a}function Zu(a,e,t){return a[0]=e[0]-t[0],a[1]=e[1]-t[1],a}function Gc(a,e,t){return a[0]=e[0]*t[0],a[1]=e[1]*t[1],a}function Lv(a,e,t){return a[0]=e[0]/t[0],a[1]=e[1]/t[1],a}function xh(a,e){return a[0]=Math.ceil(e[0]),a[1]=Math.ceil(e[1]),a}function bh(a,e){return a[0]=Math.floor(e[0]),a[1]=Math.floor(e[1]),a}function _a(a,e,t){return a[0]=Math.min(e[0],t[0]),a[1]=Math.min(e[1],t[1]),a}function To(a,e,t){return a[0]=Math.max(e[0],t[0]),a[1]=Math.max(e[1],t[1]),a}function Qu(a,e){return a[0]=Math.round(e[0]),a[1]=Math.round(e[1]),a}function Ua(a,e,t){return a[0]=e[0]*t,a[1]=e[1]*t,a}function yc(a,e,t,n){return a[0]=e[0]+t[0]*n,a[1]=e[1]+t[1]*n,a}function xu(a,e){var t=e[0]-a[0],n=e[1]-a[1];return Math.hypot(t,n)}function sd(a,e){var t=e[0]-a[0],n=e[1]-a[1];return t*t+n*n}function Js(a){var e=a[0],t=a[1];return Math.hypot(e,t)}function df(a){var e=a[0],t=a[1];return e*e+t*t}function Rv(a,e){return a[0]=-e[0],a[1]=-e[1],a}function Eh(a,e){return a[0]=1/e[0],a[1]=1/e[1],a}function Ps(a,e){var t=e[0],n=e[1],o=t*t+n*n;return o>0&&(o=1/Math.sqrt(o)),a[0]=e[0]*o,a[1]=e[1]*o,a}function ud(a,e){return a[0]*e[0]+a[1]*e[1]}function av(a,e,t){var n=e[0]*t[1]-e[1]*t[0];return a[0]=a[1]=0,a[2]=n,a}function Bs(a,e,t,n){var o=e[0],u=e[1];return a[0]=o+n*(t[0]-o),a[1]=u+n*(t[1]-u),a}function ld(a,e){e=e||1;var t=glMatrix.RANDOM()*2*Math.PI;return a[0]=Math.cos(t)*e,a[1]=Math.sin(t)*e,a}function cd(a,e,t){var n=e[0],o=e[1];return a[0]=t[0]*n+t[2]*o,a[1]=t[1]*n+t[3]*o,a}function hu(a,e,t){var n=e[0],o=e[1];return a[0]=t[0]*n+t[2]*o+t[4],a[1]=t[1]*n+t[3]*o+t[5],a}function Bf(a,e,t){var n=e[0],o=e[1];return a[0]=t[0]*n+t[3]*o+t[6],a[1]=t[1]*n+t[4]*o+t[7],a}function dr(a,e,t){var n=e[0],o=e[1];return a[0]=t[0]*n+t[4]*o+t[12],a[1]=t[1]*n+t[5]*o+t[13],a}function zc(a,e,t,n){var o=e[0]-t[0],u=e[1]-t[1],l=Math.sin(n),c=Math.cos(n);return a[0]=o*c-u*l+t[0],a[1]=o*l+u*c+t[1],a}function Uc(a,e){var t=a[0],n=a[1],o=e[0],u=e[1],l=Math.sqrt(t*t+n*n)*Math.sqrt(o*o+u*u),c=l&&(t*o+n*u)/l;return Math.acos(Math.min(Math.max(c,-1),1))}function jo(a){return a[0]=0,a[1]=0,a}function Rl(a){return"vec2("+a[0]+", "+a[1]+")"}function Gf(a,e){return a[0]===e[0]&&a[1]===e[1]}function Gd(a,e){var t=a[0],n=a[1],o=e[0],u=e[1];return Math.abs(t-o)<=glMatrix.EPSILON*Math.max(1,Math.abs(t),Math.abs(o))&&Math.abs(n-u)<=glMatrix.EPSILON*Math.max(1,Math.abs(n),Math.abs(u))}var Sh=null,Lu=Zu,vf=null,zf=null,Uf=null,Na=null,jc=null,bu=function(){var a=ws();return function(e,t,n,o,u,l){var c,f;for(t||(t=2),n||(n=0),o?f=Math.min(o*t+n,e.length):f=e.length,c=n;c<f;c+=t)a[0]=e[c],a[1]=e[c+1],u(a,a,l),e[c]=a[0],e[c+1]=a[1];return e}}();function Gs(a,e,t){var n=[0,0,0,0,0,0,0,0,0];return fu.fromTranslation(n,t),fu.multiply(a,n,e)}function es(a,e,t){var n=[0,0,0,0,0,0,0,0,0];return fu.fromRotation(n,t),fu.multiply(a,n,e)}function Fl(a,e,t){var n=[0,0,0,0,0,0,0,0,0];return fu.fromScaling(n,t),fu.multiply(a,n,e)}function mc(a,e,t){return fu.multiply(a,t,e)}function ka(a,e){for(var t=a?[].concat(a):[1,0,0,0,1,0,0,0,1],n=0,o=e.length;n<o;n++){var u=e[n];switch(u[0]){case"t":Gs(t,t,[u[1],u[2]]);break;case"s":Fl(t,t,[u[1],u[2]]);break;case"r":es(t,t,u[1]);break;case"m":mc(t,t,u[1]);break;default:break}}return t}function jf(a,e){return a[0]*e[1]-e[0]*a[1]}function yl(a,e,t){var n=Uc(a,e),o=jf(a,e)>=0;return t?o?Math.PI*2-n:n:o?n:Math.PI*2-n}function Wc(a,e,t){return t?(a[0]=e[1],a[1]=-1*e[0]):(a[0]=-1*e[1],a[1]=e[0]),a}function du(a,e){var t=[],n=a[0],o=a[1],u=a[2],l=a[3],c=a[4],f=a[5],h=a[6],v=a[7],p=a[8],g=e[0],E=e[1],D=e[2],G=e[3],H=e[4],X=e[5],rt=e[6],ht=e[7],mt=e[8];return t[0]=g*n+E*l+D*h,t[1]=g*o+E*c+D*v,t[2]=g*u+E*f+D*p,t[3]=G*n+H*l+X*h,t[4]=G*o+H*c+X*v,t[5]=G*u+H*f+X*p,t[6]=rt*n+ht*l+mt*h,t[7]=rt*o+ht*c+mt*v,t[8]=rt*u+ht*f+mt*p,t}function Eu(a,e){var t=[],n=e[0],o=e[1];return t[0]=a[0]*n+a[3]*o+a[6],t[1]=a[1]*n+a[4]*o+a[7],t}function Ru(a){var e=[],t=a[0],n=a[1],o=a[2],u=a[3],l=a[4],c=a[5],f=a[6],h=a[7],v=a[8],p=v*l-c*h,g=-v*u+c*f,E=h*u-l*f,D=t*p+n*g+o*E;return D?(D=1/D,e[0]=p*D,e[1]=(-v*n+o*h)*D,e[2]=(c*n-o*l)*D,e[3]=g*D,e[4]=(v*t-o*f)*D,e[5]=(-c*t+o*u)*D,e[6]=E*D,e[7]=(-h*t+n*f)*D,e[8]=(l*t-n*u)*D,e):null}var ps=ka,Nl="matrix",Wo=["zIndex","capture","visible","type"],Vo=["repeat"],Mo=":",Wf="*";function Vf(a){for(var e=[],t=0;t<a.length;t++)(0,w.isArray)(a[t])?e.push([].concat(a[t])):e.push(a[t]);return e}function zs(a,e){var t={},n=e.attrs;for(var o in a)t[o]=n[o];return t}function wh(a,e){var t={},n=e.attr();return(0,w.each)(a,function(o,u){Vo.indexOf(u)===-1&&!(0,w.isEqual)(n[u],o)&&(t[u]=o)}),t}function _h(a,e){if(e.onFrame)return a;var t=e.startTime,n=e.delay,o=e.duration,u=Object.prototype.hasOwnProperty;return(0,w.each)(a,function(l){t+n<l.startTime+l.delay+l.duration&&o>l.delay&&(0,w.each)(e.toAttrs,function(c,f){u.call(l.toAttrs,f)&&(delete l.toAttrs[f],delete l.fromAttrs[f])})}),a}var kl=function(a){(0,Z.__extends)(e,a);function e(t){var n=a.call(this,t)||this;n.attrs={};var o=n.getDefaultAttrs();return(0,w.mix)(o,t.attrs),n.attrs=o,n.initAttrs(o),n.initAnimate(),n}return e.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},e.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},e.prototype.onCanvasChange=function(t){},e.prototype.initAttrs=function(t){},e.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},e.prototype.isGroup=function(){return!1},e.prototype.getParent=function(){return this.get("parent")},e.prototype.getCanvas=function(){return this.get("canvas")},e.prototype.attr=function(){for(var t,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var u=n[0],l=n[1];if(!u)return this.attrs;if((0,w.isObject)(u)){for(var c in u)this.setAttr(c,u[c]);return this.afterAttrsChange(u),this}return n.length===2?(this.setAttr(u,l),this.afterAttrsChange((t={},t[u]=l,t)),this):this.attrs[u]},e.prototype.isClipped=function(t,n){var o=this.getClip();return o&&!o.isHit(t,n)},e.prototype.setAttr=function(t,n){var o=this.attrs[t];o!==n&&(this.attrs[t]=n,this.onAttrChange(t,n,o))},e.prototype.onAttrChange=function(t,n,o){t==="matrix"&&this.set("totalMatrix",null)},e.prototype.afterAttrsChange=function(t){if(this.cfg.isClipShape){var n=this.cfg.applyTo;n&&n.onCanvasChange("clip")}else this.onCanvasChange("attr")},e.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},e.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},e.prototype.setZIndex=function(t){this.set("zIndex",t);var n=this.getParent();return n&&n.sort(),this},e.prototype.toFront=function(){var t=this.getParent();if(!!t){var n=t.getChildren(),o=this.get("el"),u=n.indexOf(this);n.splice(u,1),n.push(this),this.onCanvasChange("zIndex")}},e.prototype.toBack=function(){var t=this.getParent();if(!!t){var n=t.getChildren(),o=this.get("el"),u=n.indexOf(this);n.splice(u,1),n.unshift(this),this.onCanvasChange("zIndex")}},e.prototype.remove=function(t){t===void 0&&(t=!0);var n=this.getParent();n?(rd(n.getChildren(),this),n.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),t&&this.destroy()},e.prototype.resetMatrix=function(){this.attr(Nl,this.getDefaultMatrix()),this.onCanvasChange("matrix")},e.prototype.getMatrix=function(){return this.attr(Nl)},e.prototype.setMatrix=function(t){this.attr(Nl,t),this.onCanvasChange("matrix")},e.prototype.getTotalMatrix=function(){var t=this.cfg.totalMatrix;if(!t){var n=this.attr("matrix"),o=this.cfg.parentMatrix;o&&n?t=du(o,n):t=n||o,this.set("totalMatrix",t)}return t},e.prototype.applyMatrix=function(t){var n=this.attr("matrix"),o=null;t&&n?o=du(t,n):o=n||t,this.set("totalMatrix",o),this.set("parentMatrix",t)},e.prototype.getDefaultMatrix=function(){return null},e.prototype.applyToMatrix=function(t){var n=this.attr("matrix");return n?Eu(n,t):t},e.prototype.invertFromMatrix=function(t){var n=this.attr("matrix");if(n){var o=Ru(n);if(o)return Eu(o,t)}return t},e.prototype.setClip=function(t){var n=this.getCanvas(),o=null;if(t){var u=this.getShapeBase(),l=(0,w.upperFirst)(t.type),c=u[l];c&&(o=new c({type:t.type,isClipShape:!0,applyTo:this,attrs:t.attrs,canvas:n}))}return this.set("clipShape",o),this.onCanvasChange("clip"),o},e.prototype.getClip=function(){var t=this.cfg.clipShape;return t||null},e.prototype.clone=function(){var t=this,n=this.attrs,o={};(0,w.each)(n,function(c,f){(0,w.isArray)(n[f])?o[f]=Vf(n[f]):o[f]=n[f]});var u=this.constructor,l=new u({attrs:o});return(0,w.each)(Wo,function(c){l.set(c,t.get(c))}),l},e.prototype.destroy=function(){var t=this.destroyed;t||(this.attrs={},a.prototype.destroy.call(this))},e.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},e.prototype.animate=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(!(!this.get("timeline")&&!this.get("canvas"))){this.set("animating",!0);var o=this.get("timeline");o||(o=this.get("canvas").get("timeline"),this.set("timeline",o));var u=this.get("animations")||[];o.timer||o.initTimer();var l=t[0],c=t[1],f=t[2],h=f===void 0?"easeLinear":f,v=t[3],p=v===void 0?w.noop:v,g=t[4],E=g===void 0?0:g,D,G,H,X,rt;(0,w.isFunction)(l)?(D=l,l={}):(0,w.isObject)(l)&&l.onFrame&&(D=l.onFrame,G=l.repeat),(0,w.isObject)(c)?(rt=c,c=rt.duration,h=rt.easing||"easeLinear",E=rt.delay||0,G=rt.repeat||G||!1,p=rt.callback||w.noop,H=rt.pauseCallback||w.noop,X=rt.resumeCallback||w.noop):((0,w.isNumber)(p)&&(E=p,p=null),(0,w.isFunction)(h)?(p=h,h="easeLinear"):h=h||"easeLinear");var ht=wh(l,this),mt={fromAttrs:zs(ht,this),toAttrs:ht,duration:c,easing:h,repeat:G,callback:p,pauseCallback:H,resumeCallback:X,delay:E,startTime:o.getTime(),id:(0,w.uniqueId)(),onFrame:D,pathFormatted:!1};u.length>0?u=_h(u,mt):o.addAnimator(this),u.push(mt),this.set("animations",u),this.set("_pause",{isPaused:!1})}},e.prototype.stopAnimate=function(t){var n=this;t===void 0&&(t=!0);var o=this.get("animations");(0,w.each)(o,function(u){t&&(u.onFrame?n.attr(u.onFrame(1)):n.attr(u.toAttrs)),u.callback&&u.callback()}),this.set("animating",!1),this.set("animations",[])},e.prototype.pauseAnimate=function(){var t=this.get("timeline"),n=this.get("animations"),o=t.getTime();return(0,w.each)(n,function(u){u._paused=!0,u._pauseTime=o,u.pauseCallback&&u.pauseCallback()}),this.set("_pause",{isPaused:!0,pauseTime:o}),this},e.prototype.resumeAnimate=function(){var t=this.get("timeline"),n=t.getTime(),o=this.get("animations"),u=this.get("_pause").pauseTime;return(0,w.each)(o,function(l){l.startTime=l.startTime+(n-u),l._paused=!1,l._pauseTime=null,l.resumeCallback&&l.resumeCallback()}),this.set("_pause",{isPaused:!1}),this.set("animations",o),this},e.prototype.emitDelegation=function(t,n){var o=this,u=n.propagationPath,l=this.getEvents(),c;t==="mouseenter"?c=n.fromShape:t==="mouseleave"&&(c=n.toShape);for(var f=function(g){var E=u[g],D=E.get("name");if(D){if((E.isGroup()||E.isCanvas&&E.isCanvas())&&c&&vc(E,c))return"break";(0,w.isArray)(D)?(0,w.each)(D,function(G){o.emitDelegateEvent(E,G,n)}):h.emitDelegateEvent(E,D,n)}},h=this,v=0;v<u.length;v++){var p=f(v);if(p==="break")break}},e.prototype.emitDelegateEvent=function(t,n,o){var u=this.getEvents(),l=n+Mo+o.type;(u[l]||u[Wf])&&(o.name=l,o.currentTarget=t,o.delegateTarget=this,o.delegateObject=t.get("delegateObject"),this.emit(l,o))},e.prototype.translate=function(t,n){t===void 0&&(t=0),n===void 0&&(n=0);var o=this.getMatrix(),u=ps(o,[["t",t,n]]);return this.setMatrix(u),this},e.prototype.move=function(t,n){var o=this.attr("x")||0,u=this.attr("y")||0;return this.translate(t-o,n-u),this},e.prototype.moveTo=function(t,n){return this.move(t,n)},e.prototype.scale=function(t,n){var o=this.getMatrix(),u=ps(o,[["s",t,n||t]]);return this.setMatrix(u),this},e.prototype.rotate=function(t){var n=this.getMatrix(),o=ps(n,[["r",t]]);return this.setMatrix(o),this},e.prototype.rotateAtStart=function(t){var n=this.attr(),o=n.x,u=n.y,l=this.getMatrix(),c=ps(l,[["t",-o,-u],["r",t],["t",o,u]]);return this.setMatrix(c),this},e.prototype.rotateAtPoint=function(t,n,o){var u=this.getMatrix(),l=ps(u,[["t",-t,-n],["r",o],["t",t,n]]);return this.setMatrix(l),this},e}(pc),vu=kl,Su={},ml="_INDEX";function pf(a,e){if(a.set("canvas",e),a.isGroup()){var t=a.get("children");t.length&&t.forEach(function(n){pf(n,e)})}}function Aa(a,e){if(a.set("timeline",e),a.isGroup()){var t=a.get("children");t.length&&t.forEach(function(n){Aa(n,e)})}}function Fv(a,e){var t=a.getChildren();return t.indexOf(e)>=0}function Nv(a,e,t){t===void 0&&(t=!0),t?e.destroy():(e.set("parent",null),e.set("canvas",null)),rd(a.getChildren(),e)}function xc(a){return function(e,t){var n=a(e,t);return n===0?e[ml]-t[ml]:n}}var Ah=function(a){(0,Z.__extends)(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.isCanvas=function(){return!1},e.prototype.getBBox=function(){var t=1/0,n=-1/0,o=1/0,u=-1/0,l=[],c=[],f=this.getChildren().filter(function(v){return v.get("visible")&&(!v.isGroup()||v.isGroup()&&v.getChildren().length>0)});f.length>0?((0,w.each)(f,function(v){var p=v.getBBox();l.push(p.minX,p.maxX),c.push(p.minY,p.maxY)}),t=(0,w.min)(l),n=(0,w.max)(l),o=(0,w.min)(c),u=(0,w.max)(c)):(t=0,n=0,o=0,u=0);var h={x:t,y:o,minX:t,minY:o,maxX:n,maxY:u,width:n-t,height:u-o};return h},e.prototype.getCanvasBBox=function(){var t=1/0,n=-1/0,o=1/0,u=-1/0,l=[],c=[],f=this.getChildren().filter(function(v){return v.get("visible")&&(!v.isGroup()||v.isGroup()&&v.getChildren().length>0)});f.length>0?((0,w.each)(f,function(v){var p=v.getCanvasBBox();l.push(p.minX,p.maxX),c.push(p.minY,p.maxY)}),t=(0,w.min)(l),n=(0,w.max)(l),o=(0,w.min)(c),u=(0,w.max)(c)):(t=0,n=0,o=0,u=0);var h={x:t,y:o,minX:t,minY:o,maxX:n,maxY:u,width:n-t,height:u-o};return h},e.prototype.getDefaultCfg=function(){var t=a.prototype.getDefaultCfg.call(this);return t.children=[],t},e.prototype.onAttrChange=function(t,n,o){if(a.prototype.onAttrChange.call(this,t,n,o),t==="matrix"){var u=this.getTotalMatrix();this._applyChildrenMarix(u)}},e.prototype.applyMatrix=function(t){var n=this.getTotalMatrix();a.prototype.applyMatrix.call(this,t);var o=this.getTotalMatrix();o!==n&&this._applyChildrenMarix(o)},e.prototype._applyChildrenMarix=function(t){var n=this.getChildren();(0,w.each)(n,function(o){o.applyMatrix(t)})},e.prototype.addShape=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var o=t[0],u=t[1];(0,w.isObject)(o)?u=o:u.type=o;var l=Su[u.type];l||(l=(0,w.upperFirst)(u.type),Su[u.type]=l);var c=this.getShapeBase(),f=new c[l](u);return this.add(f),f},e.prototype.addGroup=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var o=t[0],u=t[1],l;if((0,w.isFunction)(o))u?l=new o(u):l=new o({parent:this});else{var c=o||{},f=this.getGroupBase();l=new f(c)}return this.add(l),l},e.prototype.getCanvas=function(){var t;return this.isCanvas()?t=this:t=this.get("canvas"),t},e.prototype.getShape=function(t,n,o){if(!ph(this))return null;var u=this.getChildren(),l;if(this.isCanvas())l=this._findShape(u,t,n,o);else{var c=[t,n,1];c=this.invertFromMatrix(c),this.isClipped(c[0],c[1])||(l=this._findShape(u,c[0],c[1],o))}return l},e.prototype._findShape=function(t,n,o,u){for(var l=null,c=t.length-1;c>=0;c--){var f=t[c];if(ph(f)&&(f.isGroup()?l=f.getShape(n,o,u):f.isHit(n,o)&&(l=f)),l)break}return l},e.prototype.add=function(t){var n=this.getCanvas(),o=this.getChildren(),u=this.get("timeline"),l=t.getParent();l&&Nv(l,t,!1),t.set("parent",this),n&&pf(t,n),u&&Aa(t,u),o.push(t),t.onCanvasChange("add"),this._applyElementMatrix(t)},e.prototype._applyElementMatrix=function(t){var n=this.getTotalMatrix();n&&t.applyMatrix(n)},e.prototype.getChildren=function(){return this.get("children")},e.prototype.sort=function(){var t=this.getChildren();(0,w.each)(t,function(n,o){return n[ml]=o,n}),t.sort(xc(function(n,o){return n.get("zIndex")-o.get("zIndex")})),this.onCanvasChange("sort")},e.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var t=this.getChildren(),n=t.length-1;n>=0;n--)t[n].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},e.prototype.destroy=function(){this.get("destroyed")||(this.clear(),a.prototype.destroy.call(this))},e.prototype.getFirst=function(){return this.getChildByIndex(0)},e.prototype.getLast=function(){var t=this.getChildren();return this.getChildByIndex(t.length-1)},e.prototype.getChildByIndex=function(t){var n=this.getChildren();return n[t]},e.prototype.getCount=function(){var t=this.getChildren();return t.length},e.prototype.contain=function(t){var n=this.getChildren();return n.indexOf(t)>-1},e.prototype.removeChild=function(t,n){n===void 0&&(n=!0),this.contain(t)&&t.remove(n)},e.prototype.findAll=function(t){var n=[],o=this.getChildren();return(0,w.each)(o,function(u){t(u)&&n.push(u),u.isGroup()&&(n=n.concat(u.findAll(t)))}),n},e.prototype.find=function(t){var n=null,o=this.getChildren();return(0,w.each)(o,function(u){if(t(u)?n=u:u.isGroup()&&(n=u.find(t)),n)return!1}),n},e.prototype.findById=function(t){return this.find(function(n){return n.get("id")===t})},e.prototype.findByClassName=function(t){return this.find(function(n){return n.get("className")===t})},e.prototype.findAllByName=function(t){return this.findAll(function(n){return n.get("name")===t})},e}(vu),ov=Ah,Ls=0,_s=0,Hf=0,Ch=1e3,Bl,Ju,as=0,os=0,wu=0,Vc=typeof performance=="object"&&performance.now?performance:Date,Th=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(a){setTimeout(a,17)};function Yf(){return os||(Th(Xf),os=Vc.now()+wu)}function Xf(){os=0}function Hc(){this._call=this._time=this._next=null}Hc.prototype=fd.prototype={constructor:Hc,restart:function(a,e,t){if(typeof a!="function")throw new TypeError("callback is not a function");t=(t==null?Yf():+t)+(e==null?0:+e),!this._next&&Ju!==this&&(Ju?Ju._next=this:Bl=this,Ju=this),this._call=a,this._time=t,Lo()},stop:function(){this._call&&(this._call=null,this._time=1/0,Lo())}};function fd(a,e,t){var n=new Hc;return n.restart(a,e,t),n}function hd(){Yf(),++Ls;for(var a=Bl,e;a;)(e=os-a._time)>=0&&a._call.call(null,e),a=a._next;--Ls}function Mh(){os=(as=Vc.now())+wu,Ls=_s=0;try{hd()}finally{Ls=0,Fu(),os=0}}function Gl(){var a=Vc.now(),e=a-as;e>Ch&&(wu-=e,as=a)}function Fu(){for(var a,e=Bl,t,n=1/0;e;)e._call?(n>e._time&&(n=e._time),a=e,e=e._next):(t=e._next,e._next=null,e=a?a._next=t:Bl=t);Ju=a,Lo(n)}function Lo(a){if(!Ls){_s&&(_s=clearTimeout(_s));var e=a-os;e>24?(a<1/0&&(_s=setTimeout(Mh,a-Vc.now()-wu)),Hf&&(Hf=clearInterval(Hf))):(Hf||(as=Vc.now(),Hf=setInterval(Gl,Ch)),Ls=1,Th(Mh))}}function gf(a,e,t){a.prototype=e.prototype=t,t.constructor=a}function bc(a,e){var t=Object.create(a.prototype);for(var n in e)t[n]=e[n];return t}function yf(){}var Ec=.7,Sc=1/Ec,mf="\\s*([+-]?\\d+)\\s*",Yc="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",xl="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",xf=/^#([0-9a-f]{3,8})$/,Ih=new RegExp("^rgb\\("+[mf,mf,mf]+"\\)$"),qs=new RegExp("^rgb\\("+[xl,xl,xl]+"\\)$"),As=new RegExp("^rgba\\("+[mf,mf,mf,Yc]+"\\)$"),bl=new RegExp("^rgba\\("+[xl,xl,xl,Yc]+"\\)$"),dd=new RegExp("^hsl\\("+[Yc,xl,xl]+"\\)$"),wc=new RegExp("^hsla\\("+[Yc,xl,xl,Yc]+"\\)$"),Nu={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};gf(yf,qu,{copy:function(a){return Object.assign(new this.constructor,this,a)},displayable:function(){return this.rgb().displayable()},hex:Xc,formatHex:Xc,formatHsl:Ro,formatRgb:Oh,toString:Oh});function Xc(){return this.rgb().formatHex()}function Ro(){return _c(this).formatHsl()}function Oh(){return this.rgb().formatRgb()}function qu(a){var e,t;return a=(a+"").trim().toLowerCase(),(e=xf.exec(a))?(t=e[1].length,e=parseInt(e[1],16),t===6?tl(e):t===3?new ya(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):t===8?El(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):t===4?El(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Ih.exec(a))?new ya(e[1],e[2],e[3],1):(e=qs.exec(a))?new ya(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=As.exec(a))?El(e[1],e[2],e[3],e[4]):(e=bl.exec(a))?El(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=dd.exec(a))?Io(e[1],e[2]/100,e[3]/100,1):(e=wc.exec(a))?Io(e[1],e[2]/100,e[3]/100,e[4]):Nu.hasOwnProperty(a)?tl(Nu[a]):a==="transparent"?new ya(NaN,NaN,NaN,0):null}function tl(a){return new ya(a>>16&255,a>>8&255,a&255,1)}function El(a,e,t,n){return n<=0&&(a=e=t=NaN),new ya(a,e,t,n)}function Sl(a){return a instanceof yf||(a=qu(a)),a?(a=a.rgb(),new ya(a.r,a.g,a.b,a.opacity)):new ya}function bf(a,e,t,n){return arguments.length===1?Sl(a):new ya(a,e,t,n==null?1:n)}function ya(a,e,t,n){this.r=+a,this.g=+e,this.b=+t,this.opacity=+n}gf(ya,bf,bc(yf,{brighter:function(a){return a=a==null?Sc:Math.pow(Sc,a),new ya(this.r*a,this.g*a,this.b*a,this.opacity)},darker:function(a){return a=a==null?Ec:Math.pow(Ec,a),new ya(this.r*a,this.g*a,this.b*a,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ss,formatHex:ss,formatRgb:Cs,toString:Cs}));function ss(){return"#"+no(this.r)+no(this.g)+no(this.b)}function Cs(){var a=this.opacity;return a=isNaN(a)?1:Math.max(0,Math.min(1,a)),(a===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(a===1?")":", "+a+")")}function no(a){return a=Math.max(0,Math.min(255,Math.round(a)||0)),(a<16?"0":"")+a.toString(16)}function Io(a,e,t,n){return n<=0?a=e=t=NaN:t<=0||t>=1?a=e=NaN:e<=0&&(a=NaN),new el(a,e,t,n)}function _c(a){if(a instanceof el)return new el(a.h,a.s,a.l,a.opacity);if(a instanceof yf||(a=qu(a)),!a)return new el;if(a instanceof el)return a;a=a.rgb();var e=a.r/255,t=a.g/255,n=a.b/255,o=Math.min(e,t,n),u=Math.max(e,t,n),l=NaN,c=u-o,f=(u+o)/2;return c?(e===u?l=(t-n)/c+(t<n)*6:t===u?l=(n-e)/c+2:l=(e-t)/c+4,c/=f<.5?u+o:2-u-o,l*=60):c=f>0&&f<1?0:l,new el(l,c,f,a.opacity)}function vd(a,e,t,n){return arguments.length===1?_c(a):new el(a,e,t,n==null?1:n)}function el(a,e,t,n){this.h=+a,this.s=+e,this.l=+t,this.opacity=+n}gf(el,vd,bc(yf,{brighter:function(a){return a=a==null?Sc:Math.pow(Sc,a),new el(this.h,this.s,this.l*a,this.opacity)},darker:function(a){return a=a==null?Ec:Math.pow(Ec,a),new el(this.h,this.s,this.l*a,this.opacity)},rgb:function(){var a=this.h%360+(this.h<0)*360,e=isNaN(a)||isNaN(this.s)?0:this.s,t=this.l,n=t+(t<.5?t:1-t)*e,o=2*t-n;return new ya(pd(a>=240?a-240:a+120,o,n),pd(a,o,n),pd(a<120?a+240:a-120,o,n),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var a=this.opacity;return a=isNaN(a)?1:Math.max(0,Math.min(1,a)),(a===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(a===1?")":", "+a+")")}}));function pd(a,e,t){return(a<60?e+(t-e)*a/60:a<180?t:a<240?e+(t-e)*(240-a)/60:e)*255}function $f(a,e,t,n,o){var u=a*a,l=u*a;return((1-3*a+3*u-l)*e+(4-6*u+3*l)*t+(1+3*a+3*u-3*l)*n+l*o)/6}function gd(a){var e=a.length-1;return function(t){var n=t<=0?t=0:t>=1?(t=1,e-1):Math.floor(t*e),o=a[n],u=a[n+1],l=n>0?a[n-1]:2*o-u,c=n<e-1?a[n+2]:2*u-o;return $f((t-n/e)*e,l,o,u,c)}}function Ef(a){var e=a.length;return function(t){var n=Math.floor(((t%=1)<0?++t:t)*e),o=a[(n+e-1)%e],u=a[n%e],l=a[(n+1)%e],c=a[(n+2)%e];return $f((t-n/e)*e,o,u,l,c)}}function yd(a){return function(){return a}}function wl(a,e){return function(t){return a+t*e}}function ri(a,e,t){return a=Math.pow(a,t),e=Math.pow(e,t)-a,t=1/t,function(n){return Math.pow(a+n*e,t)}}function md(a,e){var t=e-a;return t?wl(a,t>180||t<-180?t-360*Math.round(t/360):t):constant(isNaN(a)?e:a)}function Dh(a){return(a=+a)==1?Ph:function(e,t){return t-e?ri(e,t,a):yd(isNaN(e)?t:e)}}function Ph(a,e){var t=e-a;return t?wl(a,t):yd(isNaN(a)?e:a)}var Lh=function a(e){var t=Dh(e);function n(o,u){var l=t((o=bf(o)).r,(u=bf(u)).r),c=t(o.g,u.g),f=t(o.b,u.b),h=Ph(o.opacity,u.opacity);return function(v){return o.r=l(v),o.g=c(v),o.b=f(v),o.opacity=h(v),o+""}}return n.gamma=a,n}(1);function sv(a){return function(e){var t=e.length,n=new Array(t),o=new Array(t),u=new Array(t),l,c;for(l=0;l<t;++l)c=bf(e[l]),n[l]=c.r||0,o[l]=c.g||0,u[l]=c.b||0;return n=a(n),o=a(o),u=a(u),c.opacity=1,function(f){return c.r=n(f),c.g=o(f),c.b=u(f),c+""}}}var ip=sv(gd),$c=sv(Ef);function Ac(a,e){e||(e=[]);var t=a?Math.min(e.length,a.length):0,n=e.slice(),o;return function(u){for(o=0;o<t;++o)n[o]=a[o]*(1-u)+e[o]*u;return n}}function $t(a){return ArrayBuffer.isView(a)&&!(a instanceof DataView)}function Ae(a,e){return($t(e)?Ac:Qe)(a,e)}function Qe(a,e){var t=e?e.length:0,n=a?Math.min(t,a.length):0,o=new Array(n),u=new Array(t),l;for(l=0;l<n;++l)o[l]=Nn(a[l],e[l]);for(;l<t;++l)u[l]=e[l];return function(c){for(l=0;l<n;++l)u[l]=o[l](c);return u}}function Hr(a,e){var t=new Date;return a=+a,e=+e,function(n){return t.setTime(a*(1-n)+e*n),t}}function Lr(a,e){return a=+a,e=+e,function(t){return a*(1-t)+e*t}}function rn(a,e){var t={},n={},o;(a===null||typeof a!="object")&&(a={}),(e===null||typeof e!="object")&&(e={});for(o in e)o in a?t[o]=Nn(a[o],e[o]):n[o]=e[o];return function(u){for(o in t)n[o]=t[o](u);return n}}var dn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Mn=new RegExp(dn.source,"g");function Yn(a){return function(){return a}}function Hn(a){return function(e){return a(e)+""}}function Un(a,e){var t=dn.lastIndex=Mn.lastIndex=0,n,o,u,l=-1,c=[],f=[];for(a=a+"",e=e+"";(n=dn.exec(a))&&(o=Mn.exec(e));)(u=o.index)>t&&(u=e.slice(t,u),c[l]?c[l]+=u:c[++l]=u),(n=n[0])===(o=o[0])?c[l]?c[l]+=o:c[++l]=o:(c[++l]=null,f.push({i:l,x:Lr(n,o)})),t=Mn.lastIndex;return t<e.length&&(u=e.slice(t),c[l]?c[l]+=u:c[++l]=u),c.length<2?f[0]?Hn(f[0].x):Yn(e):(e=f.length,function(h){for(var v=0,p;v<e;++v)c[(p=f[v]).i]=p.x(h);return c.join("")})}function Nn(a,e){var t=typeof e,n;return e==null||t==="boolean"?yd(e):(t==="number"?Lr:t==="string"?(n=qu(e))?(e=n,Lh):Un:e instanceof qu?Lh:e instanceof Date?Hr:$t(e)?Ac:Array.isArray(e)?Qe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?rn:Lr)(a,e)}function j(a){return+a}function et(a){return a*a}function wt(a){return a*(2-a)}function It(a){return((a*=2)<=1?a*a:--a*(2-a)+1)/2}function Nt(a){return a*a*a}function Ft(a){return--a*a*a+1}function Yt(a){return((a*=2)<=1?a*a*a:(a-=2)*a*a+2)/2}var Qt=3,ee=function a(e){e=+e;function t(n){return Math.pow(n,e)}return t.exponent=a,t}(Qt),de=function a(e){e=+e;function t(n){return 1-Math.pow(1-n,e)}return t.exponent=a,t}(Qt),Ie=function a(e){e=+e;function t(n){return((n*=2)<=1?Math.pow(n,e):2-Math.pow(2-n,e))/2}return t.exponent=a,t}(Qt),Pe=Math.PI,Ke=Pe/2;function Ar(a){return+a==1?1:1-Math.cos(a*Ke)}function pn(a){return Math.sin(a*Ke)}function Dr(a){return(1-Math.cos(Pe*a))/2}function Pr(a){return(Math.pow(2,-10*a)-.0009765625)*1.0009775171065494}function Rr(a){return Pr(1-+a)}function zn(a){return 1-Pr(a)}function ni(a){return((a*=2)<=1?Pr(1-a):2-Pr(a-1))/2}function Qn(a){return 1-Math.sqrt(1-a*a)}function Ti(a){return Math.sqrt(1- --a*a)}function li(a){return((a*=2)<=1?1-Math.sqrt(1-a*a):Math.sqrt(1-(a-=2)*a)+1)/2}var Di=4/11,Wi=6/11,zi=8/11,Pa=3/4,Xi=9/11,io=10/11,Ka=15/16,ma=21/22,vo=63/64,fo=1/Di/Di;function ao(a){return 1-xo(1-a)}function xo(a){return(a=+a)<Di?fo*a*a:a<zi?fo*(a-=Wi)*a+Pa:a<io?fo*(a-=Xi)*a+Ka:fo*(a-=ma)*a+vo}function Fo(a){return((a*=2)<=1?1-xo(1-a):xo(a-1)+1)/2}var Qi=1.70158,Us=function a(e){e=+e;function t(n){return(n=+n)*n*(e*(n-1)+n)}return t.overshoot=a,t}(Qi),Ga=function a(e){e=+e;function t(n){return--n*n*((n+1)*e+n)+1}return t.overshoot=a,t}(Qi),Ui=function a(e){e=+e;function t(n){return((n*=2)<1?n*n*((e+1)*n-e):(n-=2)*n*((e+1)*n+e)+2)/2}return t.overshoot=a,t}(Qi),aa=2*Math.PI,Ca=1,Ho=.3,_u=function a(e,t){var n=Math.asin(1/(e=Math.max(1,e)))*(t/=aa);function o(u){return e*Pr(- --u)*Math.sin((n-u)/t)}return o.amplitude=function(u){return a(u,t*aa)},o.period=function(u){return a(e,u)},o}(Ca,Ho),zl=function a(e,t){var n=Math.asin(1/(e=Math.max(1,e)))*(t/=aa);function o(u){return 1-e*Pr(u=+u)*Math.sin((u+n)/t)}return o.amplitude=function(u){return a(u,t*aa)},o.period=function(u){return a(e,u)},o}(Ca,Ho),Ze=function a(e,t){var n=Math.asin(1/(e=Math.max(1,e)))*(t/=aa);function o(u){return((u=u*2-1)<0?e*Pr(-u)*Math.sin((n-u)/t):2-e*Pr(u)*Math.sin((n+u)/t))/2}return o.amplitude=function(u){return a(u,t*aa)},o.period=function(u){return a(e,u)},o}(Ca,Ho),on={};function an(a){return on[a.toLowerCase()]||R[a]}function gi(a,e){on[a.toLowerCase()]=e}var la=function(a){return["fill","stroke","fillStyle","strokeStyle"].includes(a)},Ve=function(a){return/^[r,R,L,l]{1}[\s]*\(/.test(a)},Oe=[1,0,0,0,1,0,0,0,1];function vr(a,e,t){var n={},o=e.fromAttrs,u=e.toAttrs;if(!a.destroyed){var l;for(var c in u)if(!(0,w.isEqual)(o[c],u[c]))if(c==="path"){var f=u[c],h=o[c];f.length>h.length?(f=Il(u[c]),h=Il(o[c]),h=mu(h,f),h=wa(h,f),e.fromAttrs.path=h,e.toAttrs.path=f):e.pathFormatted||(f=Il(u[c]),h=Il(o[c]),h=wa(h,f),e.fromAttrs.path=h,e.toAttrs.path=f,e.pathFormatted=!0),n[c]=[];for(var v=0;v<f.length;v++){for(var p=f[v],g=h[v],E=[],D=0;D<p.length;D++)(0,w.isNumber)(p[D])&&g&&(0,w.isNumber)(g[D])?(l=Nn(g[D],p[D]),E.push(l(t))):E.push(p[D]);n[c].push(E)}}else if(c==="matrix"){var G=Ae(o[c]||Oe,u[c]||Oe),H=G(t);n[c]=H}else la(c)&&Ve(u[c])?n[c]=u[c]:(0,w.isFunction)(u[c])||(l=Nn(o[c],u[c]),n[c]=l(t));a.attr(n)}}function Ur(a,e,t){var n=e.startTime,o=e.delay;if(t<n+o||e._paused)return!1;var u,l=e.duration,c=e.easing,f=an(c);if(t=t-n-e.delay,e.repeat)u=t%l/l,u=f(u);else if(u=t/l,u<1)u=f(u);else return e.onFrame?a.attr(e.onFrame(1)):a.attr(e.toAttrs),!0;if(e.onFrame){var h=e.onFrame(u);a.attr(h)}else vr(a,e,u);return!1}var Xr=function(){function a(e){this.animators=[],this.current=0,this.timer=null,this.canvas=e}return a.prototype.initTimer=function(){var e=this,t=!1,n,o,u;this.timer=fd(function(l){if(e.current=l,e.animators.length>0){for(var c=e.animators.length-1;c>=0;c--){if(n=e.animators[c],n.destroyed){e.removeAnimator(c);continue}if(!n.isAnimatePaused()){o=n.get("animations");for(var f=o.length-1;f>=0;f--)u=o[f],t=Ur(n,u,l),t&&(o.splice(f,1),t=!1,u.callback&&u.callback())}o.length===0&&e.removeAnimator(c)}var h=e.canvas.get("autoDraw");h||e.canvas.draw()}})},a.prototype.addAnimator=function(e){this.animators.push(e)},a.prototype.removeAnimator=function(e){this.animators.splice(e,1)},a.prototype.isAnimating=function(){return!!this.animators.length},a.prototype.stop=function(){this.timer&&this.timer.stop()},a.prototype.stopAllAnimations=function(e){e===void 0&&(e=!0),this.animators.forEach(function(t){t.stopAnimate(e)}),this.animators=[],this.canvas.draw()},a.prototype.getTime=function(){return this.current},a}(),gr=Xr,lr=40,Tr=0,Ue=":",sr=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function Be(a,e){for(var t in a)if(a.hasOwnProperty(t)&&t.indexOf(Ue+e)>=0)return!0;return!1}function wr(a,e,t){t.name=e,t.target=a,t.currentTarget=a,t.delegateTarget=a,a.emit(e,t)}function Jr(a,e,t){if(t.bubbles){var n=void 0,o=!1;if(e==="mouseenter"?(n=t.fromShape,o=!0):e==="mouseleave"&&(o=!0,n=t.toShape),a.isCanvas()&&o)return;if(n&&vc(a,n)){t.bubbles=!1;return}t.name=e,t.currentTarget=a,t.delegateTarget=a,a.emit(e,t)}}var bn=function(){function a(e){var t=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(n){var o=n.type;t._triggerEvent(o,n)},this._onDocumentMove=function(n){var o=t.canvas,u=o.get("el");if(u!==n.target&&(t.dragging||t.currentShape)){var l=t._getPointInfo(n);t.dragging&&t._emitEvent("drag",n,l,t.draggingShape)}},this._onDocumentMouseUp=function(n){var o=t.canvas,u=o.get("el");if(u!==n.target&&t.dragging){var l=t._getPointInfo(n);t.draggingShape&&t._emitEvent("drop",n,l,null),t._emitEvent("dragend",n,l,t.draggingShape),t._afterDrag(t.draggingShape,l,n)}},this.canvas=e.canvas}return a.prototype.init=function(){this._bindEvents()},a.prototype._bindEvents=function(){var e=this,t=this.canvas.get("el");(0,w.each)(sr,function(n){t.addEventListener(n,e._eventCallback)}),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},a.prototype._clearEvents=function(){var e=this,t=this.canvas.get("el");(0,w.each)(sr,function(n){t.removeEventListener(n,e._eventCallback)}),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},a.prototype._getEventObj=function(e,t,n,o,u,l){var c=new Ss(e,t);return c.fromShape=u,c.toShape=l,c.x=n.x,c.y=n.y,c.clientX=n.clientX,c.clientY=n.clientY,c.propagationPath.push(o),c},a.prototype._getShape=function(e,t){return this.canvas.getShape(e.x,e.y,t)},a.prototype._getPointInfo=function(e){var t=this.canvas,n=t.getClientByEvent(e),o=t.getPointByEvent(e);return{x:o.x,y:o.y,clientX:n.x,clientY:n.y}},a.prototype._triggerEvent=function(e,t){var n=this._getPointInfo(t),o=this._getShape(n,t),u=this["_on"+e],l=!1;if(u)u.call(this,n,o,t);else{var c=this.currentShape;e==="mouseenter"||e==="dragenter"||e==="mouseover"?(this._emitEvent(e,t,n,null,null,o),o&&this._emitEvent(e,t,n,o,null,o),e==="mouseenter"&&this.draggingShape&&this._emitEvent("dragenter",t,n,null)):e==="mouseleave"||e==="dragleave"||e==="mouseout"?(l=!0,c&&this._emitEvent(e,t,n,c,c,null),this._emitEvent(e,t,n,null,c,null),e==="mouseleave"&&this.draggingShape&&this._emitEvent("dragleave",t,n,null)):this._emitEvent(e,t,n,o,null,null)}if(l||(this.currentShape=o),o&&!o.get("destroyed")){var f=this.canvas,h=f.get("el");h.style.cursor=o.attr("cursor")||f.get("cursor")}},a.prototype._onmousedown=function(e,t,n){n.button===Tr&&(this.mousedownShape=t,this.mousedownPoint=e,this.mousedownTimeStamp=n.timeStamp),this._emitEvent("mousedown",n,e,t,null,null)},a.prototype._emitMouseoverEvents=function(e,t,n,o){var u=this.canvas.get("el");n!==o&&(n&&(this._emitEvent("mouseout",e,t,n,n,o),this._emitEvent("mouseleave",e,t,n,n,o),(!o||o.get("destroyed"))&&(u.style.cursor=this.canvas.get("cursor"))),o&&(this._emitEvent("mouseover",e,t,o,n,o),this._emitEvent("mouseenter",e,t,o,n,o)))},a.prototype._emitDragoverEvents=function(e,t,n,o,u){o?(o!==n&&(n&&this._emitEvent("dragleave",e,t,n,n,o),this._emitEvent("dragenter",e,t,o,n,o)),u||this._emitEvent("dragover",e,t,o)):n&&this._emitEvent("dragleave",e,t,n,n,o),u&&this._emitEvent("dragover",e,t,o)},a.prototype._afterDrag=function(e,t,n){e&&(e.set("capture",!0),this.draggingShape=null),this.dragging=!1;var o=this._getShape(t,n);o!==e&&this._emitMouseoverEvents(n,t,e,o),this.currentShape=o},a.prototype._onmouseup=function(e,t,n){if(n.button===Tr){var o=this.draggingShape;this.dragging?(o&&this._emitEvent("drop",n,e,t),this._emitEvent("dragend",n,e,o),this._afterDrag(o,e,n)):(this._emitEvent("mouseup",n,e,t),t===this.mousedownShape&&this._emitEvent("click",n,e,t),this.mousedownShape=null,this.mousedownPoint=null)}},a.prototype._ondragover=function(e,t,n){n.preventDefault();var o=this.currentShape;this._emitDragoverEvents(n,e,o,t,!0)},a.prototype._onmousemove=function(e,t,n){var o=this.canvas,u=this.currentShape,l=this.draggingShape;if(this.dragging)l&&this._emitDragoverEvents(n,e,u,t,!1),this._emitEvent("drag",n,e,l);else{var c=this.mousedownPoint;if(c){var f=this.mousedownShape,h=n.timeStamp,v=h-this.mousedownTimeStamp,p=c.clientX-e.clientX,g=c.clientY-e.clientY,E=p*p+g*g;v>120||E>lr?f&&f.get("draggable")?(l=this.mousedownShape,l.set("capture",!1),this.draggingShape=l,this.dragging=!0,this._emitEvent("dragstart",n,e,l),this.mousedownShape=null,this.mousedownPoint=null):!f&&o.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",n,e,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(n,e,u,t),this._emitEvent("mousemove",n,e,t)):(this._emitMouseoverEvents(n,e,u,t),this._emitEvent("mousemove",n,e,t))}else this._emitMouseoverEvents(n,e,u,t),this._emitEvent("mousemove",n,e,t)}},a.prototype._emitEvent=function(e,t,n,o,u,l){var c=this._getEventObj(e,t,n,o,u,l);if(o){c.shape=o,wr(o,e,c);for(var f=o.getParent();f;)f.emitDelegation(e,c),c.propagationStopped||Jr(f,e,c),c.propagationPath.push(f),f=f.getParent()}else{var h=this.canvas;wr(h,e,c)}},a.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},a}(),Cn=bn,fn="px",jn=yh(),Si=jn&&jn.name==="firefox",ta=function(a){(0,Z.__extends)(e,a);function e(t){var n=a.call(this,t)||this;return n.initContainer(),n.initDom(),n.initEvents(),n.initTimeline(),n}return e.prototype.getDefaultCfg=function(){var t=a.prototype.getDefaultCfg.call(this);return t.cursor="default",t.supportCSSTransform=!1,t},e.prototype.initContainer=function(){var t=this.get("container");(0,w.isString)(t)&&(t=document.getElementById(t),this.set("container",t))},e.prototype.initDom=function(){var t=this.createDom();this.set("el",t);var n=this.get("container");n.appendChild(t),this.setDOMSize(this.get("width"),this.get("height"))},e.prototype.initEvents=function(){var t=new Cn({canvas:this});t.init(),this.set("eventController",t)},e.prototype.initTimeline=function(){var t=new gr(this);this.set("timeline",t)},e.prototype.setDOMSize=function(t,n){var o=this.get("el");lu&&(o.style.width=t+fn,o.style.height=n+fn)},e.prototype.changeSize=function(t,n){this.setDOMSize(t,n),this.set("width",t),this.set("height",n),this.onCanvasChange("changeSize")},e.prototype.getRenderer=function(){return this.get("renderer")},e.prototype.getCursor=function(){return this.get("cursor")},e.prototype.setCursor=function(t){this.set("cursor",t);var n=this.get("el");lu&&n&&(n.style.cursor=t)},e.prototype.getPointByEvent=function(t){var n=this.get("supportCSSTransform");if(n){if(Si&&!(0,w.isNil)(t.layerX)&&t.layerX!==t.offsetX)return{x:t.layerX,y:t.layerY};if(!(0,w.isNil)(t.offsetX))return{x:t.offsetX,y:t.offsetY}}var o=this.getClientByEvent(t),u=o.x,l=o.y;return this.getPointByClient(u,l)},e.prototype.getClientByEvent=function(t){var n=t;return t.touches&&(t.type==="touchend"?n=t.changedTouches[0]:n=t.touches[0]),{x:n.clientX,y:n.clientY}},e.prototype.getPointByClient=function(t,n){var o=this.get("el"),u=o.getBoundingClientRect();return{x:t-u.left,y:n-u.top}},e.prototype.getClientByPoint=function(t,n){var o=this.get("el"),u=o.getBoundingClientRect();return{x:t+u.left,y:n+u.top}},e.prototype.draw=function(){},e.prototype.removeDom=function(){var t=this.get("el");t.parentNode.removeChild(t)},e.prototype.clearEvents=function(){var t=this.get("eventController");t.destroy()},e.prototype.isCanvas=function(){return!0},e.prototype.getParent=function(){return null},e.prototype.destroy=function(){var t=this.get("timeline");this.get("destroyed")||(this.clear(),t&&t.stop(),this.clearEvents(),this.removeDom(),a.prototype.destroy.call(this))},e}(ov),wi=ta,Gi=function(a){(0,Z.__extends)(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.isGroup=function(){return!0},e.prototype.isEntityGroup=function(){return!1},e.prototype.clone=function(){for(var t=a.prototype.clone.call(this),n=this.getChildren(),o=0;o<n.length;o++){var u=n[o];t.add(u.clone())}return t},e}(ov),Zi=Gi,ja=function(a){(0,Z.__extends)(e,a);function e(t){return a.call(this,t)||this}return e.prototype._isInBBox=function(t,n){var o=this.getBBox();return o.minX<=t&&o.maxX>=t&&o.minY<=n&&o.maxY>=n},e.prototype.afterAttrsChange=function(t){a.prototype.afterAttrsChange.call(this,t),this.clearCacheBBox()},e.prototype.getBBox=function(){var t=this.cfg.bbox;return t||(t=this.calculateBBox(),this.set("bbox",t)),t},e.prototype.getCanvasBBox=function(){var t=this.cfg.canvasBBox;return t||(t=this.calculateCanvasBBox(),this.set("canvasBBox",t)),t},e.prototype.applyMatrix=function(t){a.prototype.applyMatrix.call(this,t),this.set("canvasBBox",null)},e.prototype.calculateCanvasBBox=function(){var t=this.getBBox(),n=this.getTotalMatrix(),o=t.minX,u=t.minY,l=t.maxX,c=t.maxY;if(n){var f=Eu(n,[t.minX,t.minY]),h=Eu(n,[t.maxX,t.minY]),v=Eu(n,[t.minX,t.maxY]),p=Eu(n,[t.maxX,t.maxY]);o=Math.min(f[0],h[0],v[0],p[0]),l=Math.max(f[0],h[0],v[0],p[0]),u=Math.min(f[1],h[1],v[1],p[1]),c=Math.max(f[1],h[1],v[1],p[1])}var g=this.attrs;if(g.shadowColor){var E=g.shadowBlur,D=E===void 0?0:E,G=g.shadowOffsetX,H=G===void 0?0:G,X=g.shadowOffsetY,rt=X===void 0?0:X,ht=o-D+H,mt=l+D+H,Dt=u-D+rt,kt=c+D+rt;o=Math.min(o,ht),l=Math.max(l,mt),u=Math.min(u,Dt),c=Math.max(c,kt)}return{x:o,y:u,minX:o,minY:u,maxX:l,maxY:c,width:l-o,height:c-u}},e.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},e.prototype.isClipShape=function(){return this.get("isClipShape")},e.prototype.isInShape=function(t,n){return!1},e.prototype.isOnlyHitBox=function(){return!1},e.prototype.isHit=function(t,n){var o=this.get("startArrowShape"),u=this.get("endArrowShape"),l=[t,n,1];l=this.invertFromMatrix(l);var c=l[0],f=l[1],h=this._isInBBox(c,f);return this.isOnlyHitBox()?h:!!(h&&!this.isClipped(c,f)&&(this.isInShape(c,f)||o&&o.isHit(c,f)||u&&u.isHit(c,f)))},e}(vu),bo=ja,Au=new Map;function pu(a,e){Au.set(a,e)}function ku(a){return Au.get(a)}function ap(a){var e=a.attr(),t=e.x,n=e.y,o=e.width,u=e.height;return{x:t,y:n,width:o,height:u}}function Cu(a){var e=a.attr(),t=e.x,n=e.y,o=e.r;return{x:t-o,y:n-o,width:o*2,height:o*2}}function Rh(a){return Math.min.apply(null,a)}function uv(a){return Math.max.apply(null,a)}function S(a,e,t,n){var o=a-t,u=e-n;return Math.sqrt(o*o+u*u)}function N(a,e){return Math.abs(a-e)<.001}function Q(a,e){var t=Rh(a),n=Rh(e),o=uv(a),u=uv(e);return{x:t,y:n,width:o-t,height:u-n}}function Pt(a,e,t,n){return{minX:Rh([a,t]),maxX:uv([a,t]),minY:Rh([e,n]),maxY:uv([e,n])}}function zt(a){return(a+Math.PI*2)%(Math.PI*2)}var ne={box:function(a,e,t,n){return Q([a,t],[e,n])},length:function(a,e,t,n){return S(a,e,t,n)},pointAt:function(a,e,t,n,o){return{x:(1-o)*a+o*t,y:(1-o)*e+o*n}},pointDistance:function(a,e,t,n,o,u){var l=(t-a)*(o-a)+(n-e)*(u-e);if(l<0)return S(a,e,o,u);var c=(t-a)*(t-a)+(n-e)*(n-e);return l>c?S(t,n,o,u):this.pointToLine(a,e,t,n,o,u)},pointToLine:function(a,e,t,n,o,u){var l=[t-a,n-e];if(Gf(l,[0,0]))return Math.sqrt((o-a)*(o-a)+(u-e)*(u-e));var c=[-l[1],l[0]];Ps(c,c);var f=[o-a,u-e];return Math.abs(ud(f,c))},tangentAngle:function(a,e,t,n){return Math.atan2(n-e,t-a)}},Fe=1e-4;function er(a,e,t,n,o,u){var l,c=1/0,f=[t,n],h=20;u&&u>200&&(h=u/10);for(var v=1/h,p=v/10,g=0;g<=h;g++){var E=g*v,D=[o.apply(null,a.concat([E])),o.apply(null,e.concat([E]))],G=S(f[0],f[1],D[0],D[1]);G<c&&(l=E,c=G)}if(l===0)return{x:a[0],y:e[0]};if(l===1){var H=a.length;return{x:a[H-1],y:e[H-1]}}c=1/0;for(var g=0;g<32&&!(p<Fe);g++){var X=l-p,rt=l+p,D=[o.apply(null,a.concat([X])),o.apply(null,e.concat([X]))],G=S(f[0],f[1],D[0],D[1]);if(X>=0&&G<c)l=X,c=G;else{var ht=[o.apply(null,a.concat([rt])),o.apply(null,e.concat([rt]))],mt=S(f[0],f[1],ht[0],ht[1]);rt<=1&&mt<c?(l=rt,c=mt):p*=.5}}return{x:o.apply(null,a.concat([l])),y:o.apply(null,e.concat([l]))}}function Nr(a,e){for(var t=0,n=a.length,o=0;o<n;o++){var u=a[o],l=e[o],c=a[(o+1)%n],f=e[(o+1)%n];t+=S(u,l,c,f)}return t/2}function On(a,e,t,n){var o=1-n;return o*o*a+2*n*o*e+n*n*t}function Fi(a,e,t){var n=a+t-2*e;if(N(n,0))return[.5];var o=(a-e)/n;return o<=1&&o>=0?[o]:[]}function ba(a,e,t,n){return 2*(1-n)*(e-a)+2*n*(t-e)}function si(a,e,t,n,o,u,l){var c=On(a,t,o,l),f=On(e,n,u,l),h=ne.pointAt(a,e,t,n,l),v=ne.pointAt(t,n,o,u,l);return[[a,e,h.x,h.y,c,f],[c,f,v.x,v.y,o,u]]}function $i(a,e,t,n,o,u,l){if(l===0)return(S(a,e,t,n)+S(t,n,o,u)+S(a,e,o,u))/2;var c=si(a,e,t,n,o,u,.5),f=c[0],h=c[1];return f.push(l-1),h.push(l-1),$i.apply(null,f)+$i.apply(null,h)}var Ea={box:function(a,e,t,n,o,u){var l=Fi(a,t,o)[0],c=Fi(e,n,u)[0],f=[a,o],h=[e,u];return l!==void 0&&f.push(On(a,t,o,l)),c!==void 0&&h.push(On(e,n,u,c)),Q(f,h)},length:function(a,e,t,n,o,u){return $i(a,e,t,n,o,u,3)},nearestPoint:function(a,e,t,n,o,u,l,c){return er([a,t,o],[e,n,u],l,c,On)},pointDistance:function(a,e,t,n,o,u,l,c){var f=this.nearestPoint(a,e,t,n,o,u,l,c);return S(f.x,f.y,l,c)},interpolationAt:On,pointAt:function(a,e,t,n,o,u,l){return{x:On(a,t,o,l),y:On(e,n,u,l)}},divide:function(a,e,t,n,o,u,l){return si(a,e,t,n,o,u,l)},tangentAngle:function(a,e,t,n,o,u,l){var c=ba(a,t,o,l),f=ba(e,n,u,l),h=Math.atan2(f,c);return zt(h)}};function ra(a,e,t,n,o){var u=1-o;return u*u*u*a+3*e*o*u*u+3*t*o*o*u+n*o*o*o}function vn(a,e,t,n,o){var u=1-o;return 3*(u*u*(e-a)+2*u*o*(t-e)+o*o*(n-t))}function $r(a,e,t,n){var o=-3*a+9*e-9*t+3*n,u=6*a-12*e+6*t,l=3*e-3*a,c=[],f,h,v;if(N(o,0))N(u,0)||(f=-l/u,f>=0&&f<=1&&c.push(f));else{var p=u*u-4*o*l;N(p,0)?c.push(-u/(2*o)):p>0&&(v=Math.sqrt(p),f=(-u+v)/(2*o),h=(-u-v)/(2*o),f>=0&&f<=1&&c.push(f),h>=0&&h<=1&&c.push(h))}return c}function un(a,e,t,n,o,u,l,c,f){var h=ra(a,t,o,l,f),v=ra(e,n,u,c,f),p=ne.pointAt(a,e,t,n,f),g=ne.pointAt(t,n,o,u,f),E=ne.pointAt(o,u,l,c,f),D=ne.pointAt(p.x,p.y,g.x,g.y,f),G=ne.pointAt(g.x,g.y,E.x,E.y,f);return[[a,e,p.x,p.y,D.x,D.y,h,v],[h,v,G.x,G.y,E.x,E.y,l,c]]}function Jn(a,e,t,n,o,u,l,c,f){if(f===0)return Nr([a,t,o,l],[e,n,u,c]);var h=un(a,e,t,n,o,u,l,c,.5),v=h[0],p=h[1];return v.push(f-1),p.push(f-1),Jn.apply(null,v)+Jn.apply(null,p)}var ei={extrema:$r,box:function(a,e,t,n,o,u,l,c){for(var f=[a,l],h=[e,c],v=$r(a,t,o,l),p=$r(e,n,u,c),g=0;g<v.length;g++)f.push(ra(a,t,o,l,v[g]));for(var g=0;g<p.length;g++)h.push(ra(e,n,u,c,p[g]));return Q(f,h)},length:function(a,e,t,n,o,u,l,c){return Jn(a,e,t,n,o,u,l,c,3)},nearestPoint:function(a,e,t,n,o,u,l,c,f,h,v){return er([a,t,o,l],[e,n,u,c],f,h,ra,v)},pointDistance:function(a,e,t,n,o,u,l,c,f,h,v){var p=this.nearestPoint(a,e,t,n,o,u,l,c,f,h,v);return S(p.x,p.y,f,h)},interpolationAt:ra,pointAt:function(a,e,t,n,o,u,l,c,f){return{x:ra(a,t,o,l,f),y:ra(e,n,u,c,f)}},divide:function(a,e,t,n,o,u,l,c,f){return un(a,e,t,n,o,u,l,c,f)},tangentAngle:function(a,e,t,n,o,u,l,c,f){var h=vn(a,t,o,l,f),v=vn(e,n,u,c,f);return zt(Math.atan2(v,h))}};function La(a,e){var t=Math.abs(a);return e>0?t:t*-1}var Vi={box:function(a,e,t,n){return{x:a-t,y:e-n,width:t*2,height:n*2}},length:function(a,e,t,n){return Math.PI*(3*(t+n)-Math.sqrt((3*t+n)*(t+3*n)))},nearestPoint:function(a,e,t,n,o,u){var l=t,c=n;if(l===0||c===0)return{x:a,y:e};for(var f=o-a,h=u-e,v=Math.abs(f),p=Math.abs(h),g=l*l,E=c*c,D=Math.PI/4,G,H,X=0;X<4;X++){G=l*Math.cos(D),H=c*Math.sin(D);var rt=(g-E)*Math.pow(Math.cos(D),3)/l,ht=(E-g)*Math.pow(Math.sin(D),3)/c,mt=G-rt,Dt=H-ht,kt=v-rt,Vt=p-ht,te=Math.hypot(Dt,mt),le=Math.hypot(Vt,kt),pe=te*Math.asin((mt*Vt-Dt*kt)/(te*le)),De=pe/Math.sqrt(g+E-G*G-H*H);D+=De,D=Math.min(Math.PI/2,Math.max(0,D))}return{x:a+La(G,f),y:e+La(H,h)}},pointDistance:function(a,e,t,n,o,u){var l=this.nearestPoint(a,e,t,n,o,u);return S(l.x,l.y,o,u)},pointAt:function(a,e,t,n,o){var u=2*Math.PI*o;return{x:a+t*Math.cos(u),y:e+n*Math.sin(u)}},tangentAngle:function(a,e,t,n,o){var u=2*Math.PI*o,l=Math.atan2(n*Math.cos(u),-t*Math.sin(u));return zt(l)}};function Ba(a,e,t,n,o,u,l,c){return-1*t*Math.cos(o)*Math.sin(c)-n*Math.sin(o)*Math.cos(c)}function qa(a,e,t,n,o,u,l,c){return-1*t*Math.sin(o)*Math.sin(c)+n*Math.cos(o)*Math.cos(c)}function Wa(a,e,t){return Math.atan(-e/a*Math.tan(t))}function zd(a,e,t){return Math.atan(e/(a*Math.tan(t)))}function Tg(a,e,t,n,o,u){return t*Math.cos(o)*Math.cos(u)-n*Math.sin(o)*Math.sin(u)+a}function My(a,e,t,n,o,u){return t*Math.sin(o)*Math.cos(u)+n*Math.cos(o)*Math.sin(u)+e}function x1(a,e,t,n){var o=Math.atan2(n*a,t*e);return(o+Math.PI*2)%(Math.PI*2)}function Ts(a,e,t){return{x:a*Math.cos(t),y:e*Math.sin(t)}}function b1(a,e,t){var n=Math.cos(t),o=Math.sin(t);return[a*n-e*o,a*o+e*n]}var E1={box:function(a,e,t,n,o,u,l){for(var c=Wa(t,n,o),f=1/0,h=-1/0,v=[u,l],p=-Math.PI*2;p<=Math.PI*2;p+=Math.PI){var g=c+p;u<l?u<g&&g<l&&v.push(g):l<g&&g<u&&v.push(g)}for(var p=0;p<v.length;p++){var E=Tg(a,e,t,n,o,v[p]);E<f&&(f=E),E>h&&(h=E)}for(var D=zd(t,n,o),G=1/0,H=-1/0,X=[u,l],p=-Math.PI*2;p<=Math.PI*2;p+=Math.PI){var rt=D+p;u<l?u<rt&&rt<l&&X.push(rt):l<rt&&rt<u&&X.push(rt)}for(var p=0;p<X.length;p++){var ht=My(a,e,t,n,o,X[p]);ht<G&&(G=ht),ht>H&&(H=ht)}return{x:f,y:G,width:h-f,height:H-G}},length:function(a,e,t,n,o,u,l){},nearestPoint:function(a,e,t,n,o,u,l,c,f){var h=b1(c-a,f-e,-o),v=h[0],p=h[1],g=Vi.nearestPoint(0,0,t,n,v,p),E=x1(t,n,g.x,g.y);E<u?g=Ts(t,n,u):E>l&&(g=Ts(t,n,l));var D=b1(g.x,g.y,o);return{x:D[0]+a,y:D[1]+e}},pointDistance:function(a,e,t,n,o,u,l,c,f){var h=this.nearestPoint(a,e,t,n,c,f);return S(h.x,h.y,c,f)},pointAt:function(a,e,t,n,o,u,l,c){var f=(l-u)*c+u;return{x:Tg(a,e,t,n,o,f),y:My(a,e,t,n,o,f)}},tangentAngle:function(a,e,t,n,o,u,l,c){var f=(l-u)*c+u,h=Ba(a,e,t,n,o,u,l,f),v=qa(a,e,t,n,o,u,l,f);return zt(Math.atan2(v,h))}};function Iy(a){for(var e=0,t=[],n=0;n<a.length-1;n++){var o=a[n],u=a[n+1],l=S(o[0],o[1],u[0],u[1]),c={from:o,to:u,length:l};t.push(c),e+=l}return{segments:t,totalLength:e}}function Oy(a){if(a.length<2)return 0;for(var e=0,t=0;t<a.length-1;t++){var n=a[t],o=a[t+1];e+=S(n[0],n[1],o[0],o[1])}return e}function Dy(a,e){if(e>1||e<0||a.length<2)return null;var t=Iy(a),n=t.segments,o=t.totalLength;if(o===0)return{x:a[0][0],y:a[0][1]};for(var u=0,l=null,c=0;c<n.length;c++){var f=n[c],h=f.from,v=f.to,p=f.length/o;if(e>=u&&e<=u+p){var g=(e-u)/p;l=ne.pointAt(h[0],h[1],v[0],v[1],g);break}u+=p}return l}function Py(a,e){if(e>1||e<0||a.length<2)return 0;for(var t=Iy(a),n=t.segments,o=t.totalLength,u=0,l=0,c=0;c<n.length;c++){var f=n[c],h=f.from,v=f.to,p=f.length/o;if(e>=u&&e<=u+p){l=Math.atan2(v[1]-h[1],v[0]-h[0]);break}u+=p}return l}function Mg(a,e,t){for(var n=1/0,o=0;o<a.length-1;o++){var u=a[o],l=a[o+1],c=ne.pointDistance(u[0],u[1],l[0],l[1],e,t);c<n&&(n=c)}return n}var Ig={box:function(a){for(var e=[],t=[],n=0;n<a.length;n++){var o=a[n];e.push(o[0]),t.push(o[1])}return Q(e,t)},length:function(a){return Oy(a)},pointAt:function(a,e){return Dy(a,e)},pointDistance:function(a,e,t){return Mg(a,e,t)},tangentAngle:function(a,e){return Py(a,e)}};function _p(a){var e=a.slice(0);return a.length&&e.push(a[0]),e}var S1={box:function(a){return Ig.box(a)},length:function(a){return Oy(_p(a))},pointAt:function(a,e){return Dy(_p(a),e)},pointDistance:function(a,e,t){return Mg(_p(a),e,t)},tangentAngle:function(a,e){return Py(_p(a),e)}};function b0(a,e){return!a||!e?a||e:{minX:Math.min(a.minX,e.minX),minY:Math.min(a.minY,e.minY),maxX:Math.max(a.maxX,e.maxX),maxY:Math.max(a.maxY,e.maxY)}}function Ap(a,e){var t=a.get("startArrowShape"),n=a.get("endArrowShape"),o=null,u=null;return t&&(o=t.getCanvasBBox(),e=b0(e,o)),n&&(u=n.getCanvasBBox(),e=b0(e,u)),e}function w1(a){for(var e=a.attr(),t=e.points,n=[],o=[],u=0;u<t.length;u++){var l=t[u];n.push(l[0]),o.push(l[1])}var c=Q(n,o),f=c.x,h=c.y,v=c.width,p=c.height,g={minX:f,minY:h,maxX:f+v,maxY:h+p};return g=Ap(a,g),{x:g.minX,y:g.minY,width:g.maxX-g.minX,height:g.maxY-g.minY}}function _1(a){for(var e=a.attr(),t=e.points,n=[],o=[],u=0;u<t.length;u++){var l=t[u];n.push(l[0]),o.push(l[1])}return Q(n,o)}var Cp=null;function Og(){if(!Cp){var a=document.createElement("canvas");a.width=1,a.height=1,Cp=a.getContext("2d")}return Cp}function kv(a,e,t){var n=1;if((0,w.isString)(a)&&(n=a.split(`
`).length),n>1){var o=E0(e,t);return e*n+o*(n-1)}return e}function E0(a,e){return e?e-a:a*.14}function Ly(a,e){var t=Og(),n=0;if((0,w.isNil)(a)||a==="")return n;if(t.save(),t.font=e,(0,w.isString)(a)&&a.includes(`
`)){var o=a.split(`
`);(0,w.each)(o,function(u){var l=t.measureText(u).width;n<l&&(n=l)})}else n=t.measureText(a).width;return t.restore(),n}function lv(a){var e=a.fontSize,t=a.fontFamily,n=a.fontWeight,o=a.fontStyle,u=a.fontVariant;return[o,u,n,e+"px",t].join(" ").trim()}function A1(a){var e=a.attr(),t=e.x,n=e.y,o=e.text,u=e.fontSize,l=e.lineHeight,c=e.font;c||(c=lv(e));var f=Ly(o,c),h;if(!f)h={x:t,y:n,width:0,height:0};else{var v=e.textAlign,p=e.textBaseline,g=kv(o,u,l),E={x:t,y:n-g};v&&(v==="end"||v==="right"?E.x-=f:v==="center"&&(E.x-=f/2)),p&&(p==="top"?E.y+=g:p==="middle"&&(E.y+=g/2)),h={x:E.x,y:E.y,width:f,height:g}}return h}var C1=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/ig,Ry=/[^\s\,]+/ig;function Fy(a){var e=a||[];if((0,w.isArray)(e))return e;if((0,w.isString)(e))return e=e.match(C1),(0,w.each)(e,function(t,n){if(t=t.match(Ry),t[0].length>1){var o=t[0].charAt(0);t.splice(1,0,t[0].substr(1)),t[0]=o}(0,w.each)(t,function(u,l){isNaN(u)||(t[l]=+u)}),e[n]=t}),e}var Ny=Fy;function T1(a,e,t,n){var o=[],u=!!n,l,c,f,h,v,p,g;if(u){f=n[0],h=n[1];for(var E=0,D=a.length;E<D;E+=1){var G=a[E];f=_a([0,0],f,G),h=To([0,0],h,G)}}for(var E=0,H=a.length;E<H;E+=1){var G=a[E];if(E===0&&!t)g=G;else if(E===H-1&&!t)p=G,o.push(g),o.push(p);else{var X=[E?E-1:H-1,E-1][t?0:1];l=a[X],c=a[t?(E+1)%H:E+1];var rt=[0,0];rt=Lu(rt,c,l),rt=Ua(rt,rt,e);var ht=xu(G,l),mt=xu(G,c),Dt=ht+mt;Dt!==0&&(ht/=Dt,mt/=Dt);var kt=Ua([0,0],rt,-ht),Vt=Ua([0,0],rt,mt);p=Da([0,0],G,kt),v=Da([0,0],G,Vt),v=_a([0,0],v,To([0,0],c,G)),v=To([0,0],v,_a([0,0],c,G)),kt=Lu([0,0],v,G),kt=Ua([0,0],kt,-ht/mt),p=Da([0,0],G,kt),p=_a([0,0],p,To([0,0],l,G)),p=To([0,0],p,_a([0,0],l,G)),Vt=Lu([0,0],G,p),Vt=Ua([0,0],Vt,mt/ht),v=Da([0,0],G,Vt),u&&(p=To([0,0],p,f),p=_a([0,0],p,h),v=To([0,0],v,f),v=_a([0,0],v,h)),o.push(g),o.push(p),g=v}}return t&&o.push(o.shift()),o}function Dg(a,e,t){e===void 0&&(e=!1),t===void 0&&(t=[[0,0],[1,1]]);for(var n=!!e,o=[],u=0,l=a.length;u<l;u+=2)o.push([a[u],a[u+1]]);for(var c=T1(o,.4,n,t),f=o.length,h=[],v,p,g,u=0;u<f-1;u+=1)v=c[u*2],p=c[u*2+1],g=o[u+1],h.push(["C",v[0],v[1],p[0],p[1],g[0],g[1]]);return n&&(v=c[f],p=c[f+1],g=o[0],h.push(["C",v[0],v[1],p[0],p[1],g[0],g[1]])),h}var S0=Dg;function ky(a,e,t){var n=null,o=t;return e<o&&(o=e,n="add"),a<o&&(o=a,n="del"),{type:n,min:o}}var Yp=function(a,e){var t=a.length,n=e.length,o,u,l=0;if(t===0||n===0)return null;for(var c=[],f=0;f<=t;f++)c[f]=[],c[f][0]={min:f};for(var h=0;h<=n;h++)c[0][h]={min:h};for(var f=1;f<=t;f++){o=a[f-1];for(var h=1;h<=n;h++){u=e[h-1],isEqual(o,u)?l=0:l=1;var v=c[f-1][h].min+1,p=c[f][h-1].min+1,g=c[f-1][h-1].min+l;c[f][h]=ky(v,p,g)}}return c};function By(a,e){var t=Yp(a,e),n=a.length,o=e.length,u=[],l=1,c=1;if(t[n][o]!==n){for(var f=1;f<=n;f++){var h=t[f][f].min;c=f;for(var v=l;v<=o;v++)t[f][v].min<h&&(h=t[f][v].min,c=v);l=c,t[f][l].type&&u.push({index:f-1,type:t[f][l].type})}for(var f=u.length-1;f>=0;f--)l=u[f].index,u[f].type==="add"?a.splice(l,0,[].concat(a[l])):a.splice(l,1)}if(n=a.length,n<o)for(var f=0;f<o-n;f++)a[n-1][0]==="z"||a[n-1][0]==="Z"?a.splice(n-2,0,a[n-2]):a.push(a[n-1]);return a}var Bv=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,Gy=new RegExp("([a-z])["+Bv+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+Bv+"]*,?["+Bv+"]*)+)","ig"),op=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+Bv+"]*,?["+Bv+"]*","ig");function Tp(a){if(!a)return null;if((0,w.isArray)(a))return a;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},t=[];return String(a).replace(Gy,function(n,o,u){var l=[],c=o.toLowerCase();if(u.replace(op,function(f,h){h&&l.push(+h)}),c==="m"&&l.length>2&&(t.push([o].concat(l.splice(0,2))),c="l",o=o==="m"?"l":"L"),c==="o"&&l.length===1&&t.push([o,l[0]]),c==="r")t.push([o].concat(l));else for(;l.length>=e[c]&&(t.push([o].concat(l.splice(0,e[c]))),!!e[c]););return""}),t}var M1=/[a-z]/;function zy(a,e){return[e[0]+(e[0]-a[0]),e[1]+(e[1]-a[1])]}function Uy(a){var e=Tp(a);if(!e||!e.length)return[["M",0,0]];for(var t=!1,n=0;n<e.length;n++){var o=e[n][0];if(M1.test(o)||["V","H","T","S"].indexOf(o)>=0){t=!0;break}}if(!t)return e;var u=[],l=0,c=0,f=0,h=0,v=0,p,g,E=e[0];(E[0]==="M"||E[0]==="m")&&(l=+E[1],c=+E[2],f=l,h=c,v++,u[0]=["M",l,c]);for(var n=v,D=e.length;n<D;n++){var G=e[n],H=u[n-1],X=[],o=G[0],rt=o.toUpperCase();if(o!==rt)switch(X[0]=rt,rt){case"A":X[1]=G[1],X[2]=G[2],X[3]=G[3],X[4]=G[4],X[5]=G[5],X[6]=+G[6]+l,X[7]=+G[7]+c;break;case"V":X[1]=+G[1]+c;break;case"H":X[1]=+G[1]+l;break;case"M":f=+G[1]+l,h=+G[2]+c,X[1]=f,X[2]=h;break;default:for(var ht=1,mt=G.length;ht<mt;ht++)X[ht]=+G[ht]+(ht%2?l:c)}else X=e[n];switch(rt){case"Z":l=+f,c=+h;break;case"H":l=X[1],X=["L",l,c];break;case"V":c=X[1],X=["L",l,c];break;case"T":l=X[1],c=X[2];var Dt=zy([H[1],H[2]],[H[3],H[4]]);X=["Q",Dt[0],Dt[1],l,c];break;case"S":l=X[X.length-2],c=X[X.length-1];var kt=H.length,Vt=zy([H[kt-4],H[kt-3]],[H[kt-2],H[kt-1]]);X=["C",Vt[0],Vt[1],X[1],X[2],l,c];break;case"M":f=X[X.length-2],h=X[X.length-1];break;default:l=X[X.length-2],c=X[X.length-1]}u.push(X)}return u}var Cc=Math.PI*2,Kc=function(a,e,t,n,o,u,l){var c=a.x,f=a.y;c*=e,f*=t;var h=n*c-o*f,v=o*c+n*f;return{x:h+u,y:v+l}},sp=function(a,e){var t=e===1.5707963267948966?.551915024494:e===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(e/4),n=Math.cos(a),o=Math.sin(a),u=Math.cos(a+e),l=Math.sin(a+e);return[{x:n-o*t,y:o+n*t},{x:u+l*t,y:l-u*t},{x:u,y:l}]},Tc=function(a,e,t,n){var o=a*n-e*t<0?-1:1,u=a*t+e*n;return u>1&&(u=1),u<-1&&(u=-1),o*Math.acos(u)},Gv=function(a,e,t,n,o,u,l,c,f,h,v,p){var g=Math.pow(o,2),E=Math.pow(u,2),D=Math.pow(v,2),G=Math.pow(p,2),H=g*E-g*G-E*D;H<0&&(H=0),H/=g*G+E*D,H=Math.sqrt(H)*(l===c?-1:1);var X=H*o/u*p,rt=H*-u/o*v,ht=h*X-f*rt+(a+t)/2,mt=f*X+h*rt+(e+n)/2,Dt=(v-X)/o,kt=(p-rt)/u,Vt=(-v-X)/o,te=(-p-rt)/u,le=Tc(1,0,Dt,kt),pe=Tc(Dt,kt,Vt,te);return c===0&&pe>0&&(pe-=Cc),c===1&&pe<0&&(pe+=Cc),[ht,mt,le,pe]},Xp=function(a){var e=a.px,t=a.py,n=a.cx,o=a.cy,u=a.rx,l=a.ry,c=a.xAxisRotation,f=c===void 0?0:c,h=a.largeArcFlag,v=h===void 0?0:h,p=a.sweepFlag,g=p===void 0?0:p,E=[];if(u===0||l===0)return[{x1:0,y1:0,x2:0,y2:0,x:n,y:o}];var D=Math.sin(f*Cc/360),G=Math.cos(f*Cc/360),H=G*(e-n)/2+D*(t-o)/2,X=-D*(e-n)/2+G*(t-o)/2;if(H===0&&X===0)return[{x1:0,y1:0,x2:0,y2:0,x:n,y:o}];u=Math.abs(u),l=Math.abs(l);var rt=Math.pow(H,2)/Math.pow(u,2)+Math.pow(X,2)/Math.pow(l,2);rt>1&&(u*=Math.sqrt(rt),l*=Math.sqrt(rt));var ht=Gv(e,t,n,o,u,l,v,g,D,G,H,X),mt=ht[0],Dt=ht[1],kt=ht[2],Vt=ht[3],te=Math.abs(Vt)/(Cc/4);Math.abs(1-te)<1e-7&&(te=1);var le=Math.max(Math.ceil(te),1);Vt/=le;for(var pe=0;pe<le;pe++)E.push(sp(kt,Vt)),kt+=Vt;return E.map(function(De){var Xe=Kc(De[0],u,l,G,D,mt,Dt),pr=Xe.x,yr=Xe.y,Vr=Kc(De[1],u,l,G,D,mt,Dt),nr=Vr.x,Gr=Vr.y,en=Kc(De[2],u,l,G,D,mt,Dt),cr=en.x,Fr=en.y;return{x1:pr,y1:yr,x2:nr,y2:Gr,x:cr,y:Fr}})};function Pg(a,e,t,n,o,u,l,c,f){var h=Xp({px:a,py:e,cx:c,cy:f,rx:t,ry:n,xAxisRotation:o,largeArcFlag:u,sweepFlag:l});return h.reduce(function(v,p){var g=p.x1,E=p.y1,D=p.x2,G=p.y2,H=p.x,X=p.y;return v.push(g,E,D,G,H,X),v},[])}function Nb(a,e){"TQ".indexOf(a[0])<0&&(e.qx=null,e.qy=null);var t=a.slice(1),n=t[0],o=t[1];switch(a[0]){case"M":return e.x=n,e.y=o,a;case"A":return["C"].concat(arcToCubic.apply(0,[e.x1,e.y1].concat(a.slice(1))));case"Q":return e.qx=n,e.qy=o,["C"].concat(quadToCubic.apply(0,[e.x1,e.y1].concat(a.slice(1))));case"L":return["C"].concat(lineToCubic(e.x1,e.y1,a[1],a[2]));case"H":return["C"].concat(lineToCubic(e.x1,e.y1,a[1],e.y1));case"V":return["C"].concat(lineToCubic(e.x1,e.y1,e.x1,a[1]));case"Z":return["C"].concat(lineToCubic(e.x1,e.y1,e.x,e.y));default:}return a}function kb(a,e){e===void 0&&(e=!1);for(var t=path2Absolute(a),n={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null},o=[],u="",l=t.length,c,f,h=[],v=0;v<l;v+=1)t[v]&&(u=t[v][0]),o[v]=u,t[v]=segmentToCubic(t[v],n),jy(t,o,v),l=t.length,u==="Z"&&h.push(v),c=t[v],f=c.length,n.x1=+c[f-2],n.y1=+c[f-1],n.x2=+c[f-4]||n.x1,n.y2=+c[f-3]||n.y1;return e?[t,h]:t}function jy(a,e,t){if(a[t].length>7){a[t].shift();for(var n=a[t],o=t;n.length;)e[t]="A",a.splice(o+=1,0,["C"].concat(n.splice(0,6)));a.splice(t,1)}}var $p=function(a,e,t,n,o){var u=-3*e+9*t-9*n+3*o,l=a*u+6*e-12*t+6*n;return a*l-3*e+3*t},Wy=function(a,e,t,n,o,u,l,c,f){f===null&&(f=1),f=f>1?1:f<0?0:f;for(var h=f/2,v=12,p=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],g=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],E=0,D=0;D<v;D++){var G=h*p[D]+h,H=$p(G,a,t,o,l),X=$p(G,e,n,u,c),rt=H*H+X*X;E+=g[D]*Math.sqrt(rt)}return h*E},Vy=function(a,e,t,n,o,u,l,c){for(var f=[],h=[[],[]],v,p,g,E,D=0;D<2;++D){if(D===0?(p=6*a-12*t+6*o,v=-3*a+9*t-9*o+3*l,g=3*t-3*a):(p=6*e-12*n+6*u,v=-3*e+9*n-9*u+3*c,g=3*n-3*e),Math.abs(v)<1e-12){if(Math.abs(p)<1e-12)continue;E=-g/p,E>0&&E<1&&f.push(E);continue}var G=p*p-4*g*v,H=Math.sqrt(G);if(!(G<0)){var X=(-p+H)/(2*v);X>0&&X<1&&f.push(X);var rt=(-p-H)/(2*v);rt>0&&rt<1&&f.push(rt)}}for(var ht=f.length,mt=ht,Dt;ht--;)E=f[ht],Dt=1-E,h[0][ht]=Dt*Dt*Dt*a+3*Dt*Dt*E*t+3*Dt*E*E*o+E*E*E*l,h[1][ht]=Dt*Dt*Dt*e+3*Dt*Dt*E*n+3*Dt*E*E*u+E*E*E*c;return h[0][mt]=a,h[1][mt]=e,h[0][mt+1]=l,h[1][mt+1]=c,h[0].length=h[1].length=mt+2,{min:{x:Math.min.apply(0,h[0]),y:Math.min.apply(0,h[1])},max:{x:Math.max.apply(0,h[0]),y:Math.max.apply(0,h[1])}}},w0=function(a,e,t,n,o,u,l,c){if(!(Math.max(a,t)<Math.min(o,l)||Math.min(a,t)>Math.max(o,l)||Math.max(e,n)<Math.min(u,c)||Math.min(e,n)>Math.max(u,c))){var f=(a*n-e*t)*(o-l)-(a-t)*(o*c-u*l),h=(a*n-e*t)*(u-c)-(e-n)*(o*c-u*l),v=(a-t)*(u-c)-(e-n)*(o-l);if(!!v){var p=f/v,g=h/v,E=+p.toFixed(2),D=+g.toFixed(2);if(!(E<+Math.min(a,t).toFixed(2)||E>+Math.max(a,t).toFixed(2)||E<+Math.min(o,l).toFixed(2)||E>+Math.max(o,l).toFixed(2)||D<+Math.min(e,n).toFixed(2)||D>+Math.max(e,n).toFixed(2)||D<+Math.min(u,c).toFixed(2)||D>+Math.max(u,c).toFixed(2)))return{x:p,y:g}}}},zv=function(a,e,t){return e>=a.x&&e<=a.x+a.width&&t>=a.y&&t<=a.y+a.height},_0=function(a,e,t,n){return a===null&&(a=e=t=n=0),e===null&&(e=a.y,t=a.width,n=a.height,a=a.x),{x:a,y:e,width:t,w:t,height:n,h:n,x2:a+t,y2:e+n,cx:a+t/2,cy:e+n/2,r1:Math.min(t,n)/2,r2:Math.max(t,n)/2,r0:Math.sqrt(t*t+n*n)/2,path:rectPath(a,e,t,n),vb:[a,e,t,n].join(" ")}},I1=function(a,e){return a=_0(a),e=_0(e),zv(e,a.x,a.y)||zv(e,a.x2,a.y)||zv(e,a.x,a.y2)||zv(e,a.x2,a.y2)||zv(a,e.x,e.y)||zv(a,e.x2,e.y)||zv(a,e.x,e.y2)||zv(a,e.x2,e.y2)||(a.x<e.x2&&a.x>e.x||e.x<a.x2&&e.x>a.x)&&(a.y<e.y2&&a.y>e.y||e.y<a.y2&&e.y>a.y)},A0=function(a,e,t,n,o,u,l,c){isArray(a)||(a=[a,e,t,n,o,u,l,c]);var f=Vy.apply(null,a);return _0(f.min.x,f.min.y,f.max.x-f.min.x,f.max.y-f.min.y)},Ul=function(a,e,t,n,o,u,l,c,f){var h=1-f,v=Math.pow(h,3),p=Math.pow(h,2),g=f*f,E=g*f,D=v*a+p*3*f*t+h*3*f*f*o+E*l,G=v*e+p*3*f*n+h*3*f*f*u+E*c,H=a+2*f*(t-a)+g*(o-2*t+a),X=e+2*f*(n-e)+g*(u-2*n+e),rt=t+2*f*(o-t)+g*(l-2*o+t),ht=n+2*f*(u-n)+g*(c-2*u+n),mt=h*a+f*t,Dt=h*e+f*n,kt=h*o+f*l,Vt=h*u+f*c,te=90-Math.atan2(H-rt,X-ht)*180/Math.PI;return{x:D,y:G,m:{x:H,y:X},n:{x:rt,y:ht},start:{x:mt,y:Dt},end:{x:kt,y:Vt},alpha:te}},O1=function(a,e,t){var n=A0(a),o=A0(e);if(!I1(n,o))return t?0:[];for(var u=Wy.apply(0,a),l=Wy.apply(0,e),c=~~(u/8),f=~~(l/8),h=[],v=[],p={},g=t?0:[],E=0;E<c+1;E++){var D=Ul.apply(0,a.concat(E/c));h.push({x:D.x,y:D.y,t:E/c})}for(var E=0;E<f+1;E++){var D=Ul.apply(0,e.concat(E/f));v.push({x:D.x,y:D.y,t:E/f})}for(var E=0;E<c;E++)for(var G=0;G<f;G++){var H=h[E],X=h[E+1],rt=v[G],ht=v[G+1],mt=Math.abs(X.x-H.x)<.001?"y":"x",Dt=Math.abs(ht.x-rt.x)<.001?"y":"x",kt=w0(H.x,H.y,X.x,X.y,rt.x,rt.y,ht.x,ht.y);if(kt){if(p[kt.x.toFixed(4)]===kt.y.toFixed(4))continue;p[kt.x.toFixed(4)]=kt.y.toFixed(4);var Vt=H.t+Math.abs((kt[mt]-H[mt])/(X[mt]-H[mt]))*(X.t-H.t),te=rt.t+Math.abs((kt[Dt]-rt[Dt])/(ht[Dt]-rt[Dt]))*(ht.t-rt.t);Vt>=0&&Vt<=1&&te>=0&&te<=1&&(t?g++:g.push({x:kt.x,y:kt.y,t1:Vt,t2:te}))}}return g},D1=function(a,e,t){a=path2Curve(a),e=path2Curve(e);for(var n,o,u,l,c,f,h,v,p,g,E=t?0:[],D=0,G=a.length;D<G;D++){var H=a[D];if(H[0]==="M")n=c=H[1],o=f=H[2];else{H[0]==="C"?(p=[n,o].concat(H.slice(1)),n=p[6],o=p[7]):(p=[n,o,n,o,c,f,c,f],n=c,o=f);for(var X=0,rt=e.length;X<rt;X++){var ht=e[X];if(ht[0]==="M")u=h=ht[1],l=v=ht[2];else{ht[0]==="C"?(g=[u,l].concat(ht.slice(1)),u=g[6],l=g[7]):(g=[u,l,u,l,h,v,h,v],u=h,l=v);var mt=O1(p,g,t);if(t)E+=mt;else{for(var Dt=0,kt=mt.length;Dt<kt;Dt++)mt[Dt].segment1=D,mt[Dt].segment2=X,mt[Dt].bez1=p,mt[Dt].bez2=g;E=E.concat(mt)}}}}}return E};function Mp(a,e){return D1(a,e)}function Ra(a){return Math.sqrt(a[0]*a[0]+a[1]*a[1])}function Lg(a,e){return Ra(a)*Ra(e)?(a[0]*e[0]+a[1]*e[1])/(Ra(a)*Ra(e)):1}function Mc(a,e){return(a[0]*e[1]<a[1]*e[0]?-1:1)*Math.acos(Lg(a,e))}function tu(a,e){return a[0]===e[0]&&a[1]===e[1]}function Hy(a,e){var t=e[1],n=e[2],o=(0,w.mod)((0,w.toRadian)(e[3]),Math.PI*2),u=e[4],l=e[5],c=a[0],f=a[1],h=e[6],v=e[7],p=Math.cos(o)*(c-h)/2+Math.sin(o)*(f-v)/2,g=-1*Math.sin(o)*(c-h)/2+Math.cos(o)*(f-v)/2,E=p*p/(t*t)+g*g/(n*n);E>1&&(t*=Math.sqrt(E),n*=Math.sqrt(E));var D=t*t*(g*g)+n*n*(p*p),G=D?Math.sqrt((t*t*(n*n)-D)/D):1;u===l&&(G*=-1),isNaN(G)&&(G=0);var H=n?G*t*g/n:0,X=t?G*-n*p/t:0,rt=(c+h)/2+Math.cos(o)*H-Math.sin(o)*X,ht=(f+v)/2+Math.sin(o)*H+Math.cos(o)*X,mt=[(p-H)/t,(g-X)/n],Dt=[(-1*p-H)/t,(-1*g-X)/n],kt=Mc([1,0],mt),Vt=Mc(mt,Dt);return Lg(mt,Dt)<=-1&&(Vt=Math.PI),Lg(mt,Dt)>=1&&(Vt=0),l===0&&Vt>0&&(Vt=Vt-2*Math.PI),l===1&&Vt<0&&(Vt=Vt+2*Math.PI),{cx:rt,cy:ht,rx:tu(a,[h,v])?0:t,ry:tu(a,[h,v])?0:n,startAngle:kt,endAngle:kt+Vt,xRotation:o,arcFlag:u,sweepFlag:l}}function Ud(a,e){return[e[0]+(e[0]-a[0]),e[1]+(e[1]-a[1])]}function Yy(a){a=Ny(a);for(var e=[],t=null,n=null,o=null,u=0,l=a.length,c=0;c<l;c++){var f=a[c];n=a[c+1];var h=f[0],v={command:h,prePoint:t,params:f,startTangent:null,endTangent:null};switch(h){case"M":o=[f[1],f[2]],u=c;break;case"A":var p=Hy(t,f);v.arcParams=p;break;default:break}if(h==="Z")t=o,n=a[u+1];else{var g=f.length;t=[f[g-2],f[g-1]]}n&&n[0]==="Z"&&(n=a[u],e[u]&&(e[u].prePoint=t)),v.currentPoint=t,e[u]&&tu(t,e[u].currentPoint)&&(e[u].prePoint=v.prePoint);var E=n?[n[n.length-2],n[n.length-1]]:null;v.nextPoint=E;var D=v.prePoint;if(["L","H","V"].includes(h))v.startTangent=[D[0]-t[0],D[1]-t[1]],v.endTangent=[t[0]-D[0],t[1]-D[1]];else if(h==="Q"){var G=[f[1],f[2]];v.startTangent=[D[0]-G[0],D[1]-G[1]],v.endTangent=[t[0]-G[0],t[1]-G[1]]}else if(h==="T"){var H=e[c-1],G=Ud(H.currentPoint,D);H.command==="Q"?(v.command="Q",v.startTangent=[D[0]-G[0],D[1]-G[1]],v.endTangent=[t[0]-G[0],t[1]-G[1]]):(v.command="TL",v.startTangent=[D[0]-t[0],D[1]-t[1]],v.endTangent=[t[0]-D[0],t[1]-D[1]])}else if(h==="C"){var X=[f[1],f[2]],rt=[f[3],f[4]];v.startTangent=[D[0]-X[0],D[1]-X[1]],v.endTangent=[t[0]-rt[0],t[1]-rt[1]],v.startTangent[0]===0&&v.startTangent[1]===0&&(v.startTangent=[X[0]-rt[0],X[1]-rt[1]]),v.endTangent[0]===0&&v.endTangent[1]===0&&(v.endTangent=[rt[0]-X[0],rt[1]-X[1]])}else if(h==="S"){var H=e[c-1],X=Ud(H.currentPoint,D),rt=[f[1],f[2]];H.command==="C"?(v.command="C",v.startTangent=[D[0]-X[0],D[1]-X[1]],v.endTangent=[t[0]-rt[0],t[1]-rt[1]]):(v.command="SQ",v.startTangent=[D[0]-rt[0],D[1]-rt[1]],v.endTangent=[t[0]-rt[0],t[1]-rt[1]])}else if(h==="A"){var ht=.001,mt=v.arcParams||{},Dt=mt.cx,kt=Dt===void 0?0:Dt,Vt=mt.cy,te=Vt===void 0?0:Vt,le=mt.rx,pe=le===void 0?0:le,De=mt.ry,Xe=De===void 0?0:De,pr=mt.sweepFlag,yr=pr===void 0?0:pr,Vr=mt.startAngle,nr=Vr===void 0?0:Vr,Gr=mt.endAngle,en=Gr===void 0?0:Gr;yr===0&&(ht*=-1);var cr=pe*Math.cos(nr-ht)+kt,Fr=Xe*Math.sin(nr-ht)+te;v.startTangent=[cr-o[0],Fr-o[1]];var qr=pe*Math.cos(nr+en+ht)+kt,_r=Xe*Math.sin(nr+en-ht)+te;v.endTangent=[D[0]-qr,D[1]-_r]}e.push(v)}return e}var P1=1e-6;function Kp(a){return Math.abs(a)<P1?0:a<0?-1:1}function Xy(a,e,t){return(t[0]-a[0])*(e[1]-a[1])===(e[0]-a[0])*(t[1]-a[1])&&Math.min(a[0],e[0])<=t[0]&&t[0]<=Math.max(a[0],e[0])&&Math.min(a[1],e[1])<=t[1]&&t[1]<=Math.max(a[1],e[1])}function $y(a,e,t){var n=!1,o=a.length;if(o<=2)return!1;for(var u=0;u<o;u++){var l=a[u],c=a[(u+1)%o];if(Xy(l,c,[e,t]))return!0;Kp(l[1]-t)>0!=Kp(c[1]-t)>0&&Kp(e-(t-l[1])*(l[0]-c[0])/(l[1]-c[1])-l[0])<0&&(n=!n)}return n}var Rg=function(a,e,t){return a>=e&&a<=t};function Ky(a,e,t,n){var o=.001,u={x:t.x-a.x,y:t.y-a.y},l={x:e.x-a.x,y:e.y-a.y},c={x:n.x-t.x,y:n.y-t.y},f=l.x*c.y-l.y*c.x,h=f*f,v=l.x*l.x+l.y*l.y,p=c.x*c.x+c.y*c.y,g=null;if(h>o*v*p){var E=(u.x*c.y-u.y*c.x)/f,D=(u.x*l.y-u.y*l.x)/f;Rg(E,0,1)&&Rg(D,0,1)&&(g={x:a.x+E*l.x,y:a.y+E*l.y})}return g}function xd(a){for(var e=[],t=a.length,n=0;n<t-1;n++){var o=a[n],u=a[n+1];e.push({from:{x:o[0],y:o[1]},to:{x:u[0],y:u[1]}})}if(e.length>1){var l=a[0],c=a[t-1];e.push({from:{x:c[0],y:c[1]},to:{x:l[0],y:l[1]}})}return e}function Zy(a,e){var t=!1;return(0,w.each)(a,function(n){if(Ky(n.from,n.to,e.from,e.to))return t=!0,!1}),t}function Zp(a){var e=a.map(function(n){return n[0]}),t=a.map(function(n){return n[1]});return{minX:Math.min.apply(null,e),maxX:Math.max.apply(null,e),minY:Math.min.apply(null,t),maxY:Math.max.apply(null,t)}}function eu(a,e){return!(e.minX>a.maxX||e.maxX<a.minX||e.minY>a.maxY||e.maxY<a.minY)}function ru(a,e){if(a.length<2||e.length<2)return!1;var t=Zp(a),n=Zp(e);if(!eu(t,n))return!1;var o=!1;if((0,w.each)(e,function(f){if($y(a,f[0],f[1]))return o=!0,!1}),o||((0,w.each)(a,function(f){if($y(e,f[0],f[1]))return o=!0,!1}),o))return!0;var u=xd(a),l=xd(e),c=!1;return(0,w.each)(l,function(f){if(Zy(u,f))return c=!0,!1}),c}function C0(a,e){for(var t=[],n=[],o=[],u=0;u<a.length;u++){var l=a[u],c=l.currentPoint,f=l.params,h=l.prePoint,v=void 0;switch(l.command){case"Q":v=Ea.box(h[0],h[1],f[1],f[2],f[3],f[4]);break;case"C":v=ei.box(h[0],h[1],f[1],f[2],f[3],f[4],f[5],f[6]);break;case"A":var p=l.arcParams;v=E1.box(p.cx,p.cy,p.rx,p.ry,p.xRotation,p.startAngle,p.endAngle);break;default:t.push(c[0]),n.push(c[1]);break}v&&(l.box=v,t.push(v.x,v.x+v.width),n.push(v.y,v.y+v.height)),e&&(l.command==="L"||l.command==="M")&&l.prePoint&&l.nextPoint&&o.push(l)}t=t.filter(function(X){return!Number.isNaN(X)&&X!==1/0&&X!==-1/0}),n=n.filter(function(X){return!Number.isNaN(X)&&X!==1/0&&X!==-1/0});var g=(0,w.min)(t),E=(0,w.min)(n),D=(0,w.max)(t),G=(0,w.max)(n);if(o.length===0)return{x:g,y:E,width:D-g,height:G-E};for(var u=0;u<o.length;u++){var l=o[u],c=l.currentPoint,H=void 0;c[0]===g?(H=Fg(l,e),g=g-H.xExtra):c[0]===D&&(H=Fg(l,e),D=D+H.xExtra),c[1]===E?(H=Fg(l,e),E=E-H.yExtra):c[1]===G&&(H=Fg(l,e),G=G+H.yExtra)}return{x:g,y:E,width:D-g,height:G-E}}function Fg(a,e){var t=a.prePoint,n=a.currentPoint,o=a.nextPoint,u=Math.pow(n[0]-t[0],2)+Math.pow(n[1]-t[1],2),l=Math.pow(n[0]-o[0],2)+Math.pow(n[1]-o[1],2),c=Math.pow(t[0]-o[0],2)+Math.pow(t[1]-o[1],2),f=Math.acos((u+l-c)/(2*Math.sqrt(u)*Math.sqrt(l)));if(!f||Math.sin(f)===0||(0,w.isNumberEqual)(f,0))return{xExtra:0,yExtra:0};var h=Math.abs(Math.atan2(o[1]-n[1],o[0]-n[0])),v=Math.abs(Math.atan2(o[0]-n[0],o[1]-n[1]));h=h>Math.PI/2?Math.PI-h:h,v=v>Math.PI/2?Math.PI-v:v;var p={xExtra:Math.cos(f/2-h)*(e/2*(1/Math.sin(f/2)))-e/2||0,yExtra:Math.cos(v-f/2)*(e/2*(1/Math.sin(f/2)))-e/2||0};return p}function L1(a){var e=a.attr(),t=e.path,n=e.stroke,o=n?e.lineWidth:0,u=a.get("segments")||Yy(t),l=C0(u,o),c=l.x,f=l.y,h=l.width,v=l.height,p={minX:c,minY:f,maxX:c+h,maxY:f+v};return p=Ap(a,p),{x:p.minX,y:p.minY,width:p.maxX-p.minX,height:p.maxY-p.minY}}function R1(a){var e=a.attr(),t=e.x1,n=e.y1,o=e.x2,u=e.y2,l=Math.min(t,o),c=Math.max(t,o),f=Math.min(n,u),h=Math.max(n,u),v={minX:l,maxX:c,minY:f,maxY:h};return v=Ap(a,v),{x:v.minX,y:v.minY,width:v.maxX-v.minX,height:v.maxY-v.minY}}function Qy(a){var e=a.attr(),t=e.x,n=e.y,o=e.rx,u=e.ry;return{x:t-o,y:n-u,width:o*2,height:u*2}}pu("rect",ap),pu("image",ap),pu("circle",Cu),pu("marker",Cu),pu("polyline",w1),pu("polygon",_1),pu("text",A1),pu("path",L1),pu("line",R1),pu("ellipse",Qy);var F1="0.5.11",Jy=0,qy=1/2,Qp=1/2,Ng=.05,tm=function(){function a(e){var t=e.xField,n=e.yField,o=e.adjustNames,u=o===void 0?["x","y"]:o,l=e.dimValuesMap;this.adjustNames=u,this.xField=t,this.yField=n,this.dimValuesMap=l}return a.prototype.isAdjust=function(e){return this.adjustNames.indexOf(e)>=0},a.prototype.getAdjustRange=function(e,t,n){var o=this.yField,u=n.indexOf(t),l=n.length,c,f;return!o&&this.isAdjust("y")?(c=0,f=1):l>1?(c=n[u===0?0:u-1],f=n[u===l-1?l-1:u+1],u!==0?c+=(t-c)/2:c-=(f-t)/2,u!==l-1?f-=(f-t)/2:f+=(t-n[l-2])/2):(c=t===0?0:t-.5,f=t===0?1:t+.5),{pre:c,next:f}},a.prototype.adjustData=function(e,t){var n=this,o=this.getDimValues(t);w.each(e,function(u,l){w.each(o,function(c,f){n.adjustDim(f,c,u,l)})})},a.prototype.groupData=function(e,t){return w.each(e,function(n){n[t]===void 0&&(n[t]=Jy)}),w.groupBy(e,t)},a.prototype.adjustDim=function(e,t,n,o){},a.prototype.getDimValues=function(e){var t=this,n=t.xField,o=t.yField,u=w.assign({},this.dimValuesMap),l=[];if(n&&this.isAdjust("x")&&l.push(n),o&&this.isAdjust("y")&&l.push(o),l.forEach(function(f){u&&u[f]||(u[f]=w.valuesOfKey(e,f).sort(function(h,v){return h-v}))}),!o&&this.isAdjust("y")){var c="y";u[c]=[Jy,1]}return u},a}(),Ip=tm,Op={},jl=function(a){return Op[a.toLowerCase()]},jd=function(a,e){if(jl(a))throw new Error("Adjust type '"+a+"' existed.");Op[a.toLowerCase()]=e},em=je(1792);const{__extends:Jp,__assign:Uv,__rest:Bb,__decorate:Gb,__param:N1,__metadata:jv,__awaiter:to,__generator:k1,__exportStar:Fh,__createBinding:rm,__values:B1,__read:Xo,__spread:G1,__spreadArrays:nm,__await:kg,__asyncGenerator:Bg,__asyncDelegator:z1,__asyncValues:U1,__makeTemplateObject:j1,__importStar:W1,__importDefault:zb,__classPrivateFieldGet:Ub,__classPrivateFieldSet:jb}=em;var V1=function(a){Jp(e,a);function e(t){var n=a.call(this,t)||this;n.cacheMap={},n.adjustDataArray=[],n.mergeData=[];var o=t.marginRatio,u=o===void 0?qy:o,l=t.dodgeRatio,c=l===void 0?Qp:l,f=t.dodgeBy,h=t.intervalPadding,v=t.dodgePadding,p=t.xDimensionLength,g=t.groupNum,E=t.defaultSize,D=t.maxColumnWidth,G=t.minColumnWidth,H=t.columnWidthRatio,X=t.customOffset;return n.marginRatio=u,n.dodgeRatio=c,n.dodgeBy=f,n.intervalPadding=h,n.dodgePadding=v,n.xDimensionLegenth=p,n.groupNum=g,n.defaultSize=E,n.maxColumnWidth=D,n.minColumnWidth=G,n.columnWidthRatio=H,n.customOffset=X,n}return e.prototype.process=function(t){var n=w.clone(t),o=w.flatten(n),u=this.dodgeBy,l=u?w.group(o,u):n;return this.cacheMap={},this.adjustDataArray=l,this.mergeData=o,this.adjustData(l,o),this.adjustDataArray=[],this.mergeData=[],n},e.prototype.adjustDim=function(t,n,o,u){var l=this,c=this.customOffset,f=this.getDistribution(t),h=this.groupData(o,t);return w.each(h,function(v,p){var g;n.length===1?g={pre:n[0]-1,next:n[0]+1}:g=l.getAdjustRange(t,parseFloat(p),n),w.each(v,function(E){var D=E[t],G=f[D],H=G.indexOf(u);if(w.isNil(c))E[t]=l.getDodgeOffset(g,H,G.length);else{var X=g.pre,rt=g.next;E[t]=w.isFunction(c)?c(E,g):(X+rt)/2+c}})}),[]},e.prototype.getDodgeOffset=function(t,n,o){var u=this,l=u.dodgeRatio,c=u.marginRatio,f=u.intervalPadding,h=u.dodgePadding,v=t.pre,p=t.next,g=p-v,E;if(!w.isNil(f)&&w.isNil(h)&&f>=0){var D=this.getIntervalOnlyOffset(o,n);E=v+D}else if(!w.isNil(h)&&w.isNil(f)&&h>=0){var D=this.getDodgeOnlyOffset(o,n);E=v+D}else if(!w.isNil(f)&&!w.isNil(h)&&f>=0&&h>=0){var D=this.getIntervalAndDodgeOffset(o,n);E=v+D}else{var G=g*l/o,H=c*G,D=1/2*(g-o*G-(o-1)*H)+((n+1)*G+n*H)-1/2*G-1/2*g;E=(v+p)/2+D}return E},e.prototype.getIntervalOnlyOffset=function(t,n){var o=this,u=o.defaultSize,l=o.intervalPadding,c=o.xDimensionLegenth,f=o.groupNum,h=o.dodgeRatio,v=o.maxColumnWidth,p=o.minColumnWidth,g=o.columnWidthRatio,E=l/c,D=(1-(f-1)*E)/f*h/(t-1),G=((1-E*(f-1))/f-D*(t-1))/t;if(G=w.isNil(g)?G:1/f/t*g,!w.isNil(v)){var H=v/c;G=Math.min(G,H)}if(!w.isNil(p)){var X=p/c;G=Math.max(G,X)}G=u?u/c:G,D=((1-(f-1)*E)/f-t*G)/(t-1);var rt=((1/2+n)*G+n*D+1/2*E)*f-E/2;return rt},e.prototype.getDodgeOnlyOffset=function(t,n){var o=this,u=o.defaultSize,l=o.dodgePadding,c=o.xDimensionLegenth,f=o.groupNum,h=o.marginRatio,v=o.maxColumnWidth,p=o.minColumnWidth,g=o.columnWidthRatio,E=l/c,D=1*h/(f-1),G=((1-D*(f-1))/f-E*(t-1))/t;if(G=g?1/f/t*g:G,!w.isNil(v)){var H=v/c;G=Math.min(G,H)}if(!w.isNil(p)){var X=p/c;G=Math.max(G,X)}G=u?u/c:G,D=(1-(G*t+E*(t-1))*f)/(f-1);var rt=((1/2+n)*G+n*E+1/2*D)*f-D/2;return rt},e.prototype.getIntervalAndDodgeOffset=function(t,n){var o=this,u=o.intervalPadding,l=o.dodgePadding,c=o.xDimensionLegenth,f=o.groupNum,h=u/c,v=l/c,p=((1-h*(f-1))/f-v*(t-1))/t,g=((1/2+n)*p+n*v+1/2*h)*f-h/2;return g},e.prototype.getDistribution=function(t){var n=this.adjustDataArray,o=this.cacheMap,u=o[t];return u||(u={},w.each(n,function(l,c){var f=w.valuesOfKey(l,t);f.length||f.push(0),w.each(f,function(h){u[h]||(u[h]=[]),u[h].push(c)})}),o[t]=u),u},e}(Ip),H1=V1;function Gg(a,e){return(e-a)*Math.random()+a}var up=function(a){Jp(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.process=function(t){var n=w.clone(t),o=w.flatten(n);return this.adjustData(n,o),n},e.prototype.adjustDim=function(t,n,o){var u=this,l=this.groupData(o,t);return w.each(l,function(c,f){return u.adjustGroup(c,t,parseFloat(f),n)})},e.prototype.getAdjustOffset=function(t){var n=t.pre,o=t.next,u=(o-n)*Ng;return Gg(n+u,o-u)},e.prototype.adjustGroup=function(t,n,o,u){var l=this,c=this.getAdjustRange(n,o,u);return w.each(t,function(f){f[n]=l.getAdjustOffset(c)}),t},e}(Ip),zg=up,cv=w.Cache,Y1=function(a){Jp(e,a);function e(t){var n=a.call(this,t)||this,o=t.adjustNames,u=o===void 0?["y"]:o,l=t.height,c=l===void 0?NaN:l,f=t.size,h=f===void 0?10:f,v=t.reverseOrder,p=v===void 0?!1:v;return n.adjustNames=u,n.height=c,n.size=h,n.reverseOrder=p,n}return e.prototype.process=function(t){var n=this,o=n.yField,u=n.reverseOrder,l=o?this.processStack(t):this.processOneDimStack(t);return u?this.reverse(l):l},e.prototype.reverse=function(t){return t.slice(0).reverse()},e.prototype.processStack=function(t){var n=this,o=n.xField,u=n.yField,l=n.reverseOrder,c=l?this.reverse(t):t,f=new cv,h=new cv;return c.map(function(v){return v.map(function(p){var g,E=w.get(p,o,0),D=w.get(p,[u]),G=E.toString();if(D=w.isArray(D)?D[1]:D,!w.isNil(D)){var H=D>=0?f:h;H.has(G)||H.set(G,0);var X=H.get(G),rt=D+X;return H.set(G,rt),Uv(Uv({},p),(g={},g[u]=[X,rt],g))}return p})})},e.prototype.processOneDimStack=function(t){var n=this,o=this,u=o.xField,l=o.height,c=o.reverseOrder,f="y",h=c?this.reverse(t):t,v=new cv;return h.map(function(p){return p.map(function(g){var E,D=n.size,G=g[u],H=D*2/l;v.has(G)||v.set(G,H/2);var X=v.get(G);return v.set(G,X+H),Uv(Uv({},g),(E={},E[f]=X,E))})})},e}(Ip),Ug=Y1,im=function(a){Jp(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.process=function(t){var n=w.flatten(t),o=this,u=o.xField,l=o.yField,c=this.getXValuesMaxMap(n),f=Math.max.apply(Math,Object.keys(c).map(function(h){return c[h]}));return w.map(t,function(h){return w.map(h,function(v){var p,g,E=v[l],D=v[u];if(w.isArray(E)){var G=(f-c[D])/2;return Uv(Uv({},v),(p={},p[l]=w.map(E,function(X){return G+X}),p))}var H=(f-E)/2;return Uv(Uv({},v),(g={},g[l]=[H,E+H],g))})})},e.prototype.getXValuesMaxMap=function(t){var n=this,o=this,u=o.xField,l=o.yField,c=w.groupBy(t,function(f){return f[u]});return w.mapValues(c,function(f){return n.getDimMaxValue(f,l)})},e.prototype.getDimMaxValue=function(t,n){var o=w.map(t,function(l){return w.get(l,n,[])}),u=w.flatten(o);return Math.max.apply(Math,u)},e}(Ip),am=im;jd("Dodge",H1),jd("Jitter",zg),jd("Stack",Ug),jd("Symmetric",am);var T0=function(a,e){return(0,w.isString)(e)?e:a.invert(a.scale(e))},rl=function(){function a(e){this.names=[],this.scales=[],this.linear=!1,this.values=[],this.callback=function(){return[]},this._parseCfg(e)}return a.prototype.mapping=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var o=t.map(function(u,l){return e._toOriginParam(u,e.scales[l])});return this.callback.apply(this,o)},a.prototype.getLinearValue=function(e){var t=this.values.length-1,n=Math.floor(t*e),o=t*e-n,u=this.values[n],l=n===t?u:this.values[n+1];return u+(l-u)*o},a.prototype.getNames=function(){for(var e=this.scales,t=this.names,n=Math.min(e.length,t.length),o=[],u=0;u<n;u+=1)o.push(t[u]);return o},a.prototype.getFields=function(){return this.scales.map(function(e){return e.field})},a.prototype.getScale=function(e){return this.scales[this.names.indexOf(e)]},a.prototype.defaultCallback=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t.length===0?this.values:t.map(function(o,u){var l=e.scales[u];return l.type==="identity"?l.values[0]:e._getAttributeValue(l,o)})},a.prototype._parseCfg=function(e){var t=this,n=e.type,o=n===void 0?"base":n,u=e.names,l=u===void 0?[]:u,c=e.scales,f=c===void 0?[]:c,h=e.values,v=h===void 0?[]:h,p=e.callback;this.type=o,this.scales=f,this.values=v,this.names=l,this.callback=function(){for(var g=[],E=0;E<arguments.length;E++)g[E]=arguments[E];if(p){var D=p.apply(void 0,g);if(!(0,w.isNil)(D))return[D]}return t.defaultCallback.apply(t,g)}},a.prototype._getAttributeValue=function(e,t){if(e.isCategory&&!this.linear){var n=e.translate(t);return this.values[n%this.values.length]}var o=e.scale(t);return this.getLinearValue(o)},a.prototype._toOriginParam=function(e,t){return t.isLinear?e:(0,w.isArray)(e)?e.map(function(n){return T0(t,n)}):T0(t,e)},a}(),nl=rl,om=je(87357);const{__extends:fv,__assign:X1,__rest:sm,__decorate:$1,__param:K1,__metadata:Wb,__awaiter:Z1,__generator:Vb,__exportStar:Hb,__createBinding:Yb,__values:Q1,__read:um,__spread:J1,__spreadArrays:q1,__await:tx,__asyncGenerator:ex,__asyncDelegator:Dp,__asyncValues:rx,__makeTemplateObject:jg,__importStar:nx,__importDefault:ix,__classPrivateFieldGet:ax,__classPrivateFieldSet:lm}=om;var M0=/rgba?\(([\s.,0-9]+)\)/,ox=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,sx=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,ux=/[\d.]+:(#[^\s]+|[^\)]+\))/gi,lx=function(a){return/^[r,R,L,l]{1}[\s]*\(/.test(a)},cx=function(){var a=document.createElement("i");return a.title="Web Colour Picker",a.style.display="none",document.body.appendChild(a),a},I0=function(a,e,t,n){return a[n]+(e[n]-a[n])*t};function cm(a){return"#"+Wg(a[0])+Wg(a[1])+Wg(a[2])}var O0=function(a){return[parseInt(a.substr(1,2),16),parseInt(a.substr(3,2),16),parseInt(a.substr(5,2),16)]},Wg=function(a){var e=Math.round(a).toString(16);return e.length===1?"0"+e:e},fm=function(a,e){var t=isNaN(Number(e))||e<0?0:e>1?1:Number(e),n=a.length-1,o=Math.floor(n*t),u=n*t-o,l=a[o],c=o===n?l:a[o+1];return cm([I0(l,c,u,0),I0(l,c,u,1),I0(l,c,u,2)])},qp,D0=function(a){if(a[0]==="#"&&a.length===7)return a;qp||(qp=cx()),qp.style.color=a;var e=document.defaultView.getComputedStyle(qp,"").getPropertyValue("color"),t=M0.exec(e),n=t[1].split(/\s*,\s*/).map(function(o){return Number(o)});return e=cm(n),e},tg=function(a){var e=(0,w.isString)(a)?a.split("-"):a,t=(0,w.map)(e,function(n){return O0(n.indexOf("#")===-1?D0(n):n)});return function(n){return fm(t,n)}},hm=function(a){if(lx(a)){var e,t=void 0;if(a[0]==="l"){var n=ox.exec(a),o=+n[1]+90;t=n[2],e="linear-gradient("+o+"deg, "}else if(a[0]==="r"){e="radial-gradient(";var n=sx.exec(a);t=n[4]}var u=t.match(ux);return(0,w.each)(u,function(l,c){var f=l.split(":");e+=f[1]+" "+f[0]*100+"%",c!==u.length-1&&(e+=", ")}),e+=")",e}return a},hv={rgb2arr:O0,gradient:tg,toRGB:(0,w.memoize)(D0),toCSSGradient:hm},dm=function(a){fv(e,a);function e(t){var n=a.call(this,t)||this;return n.type="color",n.names=["color"],(0,w.isString)(n.values)&&(n.linear=!0),n.gradient=hv.gradient(n.values),n}return e.prototype.getLinearValue=function(t){return this.gradient(t)},e}(nl),vm=dm,pm=function(a){fv(e,a);function e(t){var n=a.call(this,t)||this;return n.type="opacity",n.names=["opacity"],n}return e}(nl),fx=pm,gm=function(a){fv(e,a);function e(t){var n=a.call(this,t)||this;return n.names=["x","y"],n.type="position",n}return e.prototype.mapping=function(t,n){var o=this.scales,u=o[0],l=o[1];return(0,w.isNil)(t)||(0,w.isNil)(n)?[]:[(0,w.isArray)(t)?t.map(function(c){return u.scale(c)}):u.scale(t),(0,w.isArray)(n)?n.map(function(c){return l.scale(c)}):l.scale(n)]},e}(nl),hx=gm,dx=function(a){fv(e,a);function e(t){var n=a.call(this,t)||this;return n.type="shape",n.names=["shape"],n}return e.prototype.getLinearValue=function(t){var n=Math.round((this.values.length-1)*t);return this.values[n]},e}(nl),vx=dx,px=function(a){fv(e,a);function e(t){var n=a.call(this,t)||this;return n.type="size",n.names=["size"],n}return e}(nl),gx=px,eg={};function P0(a){return eg[a]}function Nh(a,e){eg[a]=e}var ym=function(){function a(e){this.type="base",this.isCategory=!1,this.isLinear=!1,this.isContinuous=!1,this.isIdentity=!1,this.values=[],this.range=[0,1],this.ticks=[],this.__cfg__=e,this.initCfg(),this.init()}return a.prototype.translate=function(e){return e},a.prototype.change=function(e){(0,w.assign)(this.__cfg__,e),this.init()},a.prototype.clone=function(){return this.constructor(this.__cfg__)},a.prototype.getTicks=function(){var e=this;return(0,w.map)(this.ticks,function(t,n){return(0,w.isObject)(t)?t:{text:e.getText(t,n),tickValue:t,value:e.scale(t)}})},a.prototype.getText=function(e,t){var n=this.formatter,o=n?n(e,t):e;return(0,w.isNil)(o)||!(0,w.isFunction)(o.toString)?"":o.toString()},a.prototype.getConfig=function(e){return this.__cfg__[e]},a.prototype.init=function(){(0,w.assign)(this,this.__cfg__),this.setDomain(),(0,w.isEmpty)(this.getConfig("ticks"))&&(this.ticks=this.calculateTicks())},a.prototype.initCfg=function(){},a.prototype.setDomain=function(){},a.prototype.calculateTicks=function(){var e=this.tickMethod,t=[];if((0,w.isString)(e)){var n=P0(e);if(!n)throw new Error("There is no method to to calculate ticks!");t=n(this)}else(0,w.isFunction)(e)&&(t=e(this));return t},a.prototype.rangeMin=function(){return this.range[0]},a.prototype.rangeMax=function(){return this.range[1]},a.prototype.calcPercent=function(e,t,n){return(0,w.isNumber)(e)?(e-t)/(n-t):NaN},a.prototype.calcValue=function(e,t,n){return t+e*(n-t)},a}(),rg=ym,mm=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type="cat",t.isCategory=!0,t}return e.prototype.buildIndexMap=function(){if(!this.translateIndexMap){this.translateIndexMap=new Map;for(var t=0;t<this.values.length;t++)this.translateIndexMap.set(this.values[t],t)}},e.prototype.translate=function(t){this.buildIndexMap();var n=this.translateIndexMap.get(t);return n===void 0&&(n=(0,w.isNumber)(t)?t:NaN),n},e.prototype.scale=function(t){var n=this.translate(t),o=this.calcPercent(n,this.min,this.max);return this.calcValue(o,this.rangeMin(),this.rangeMax())},e.prototype.invert=function(t){var n=this.max-this.min,o=this.calcPercent(t,this.rangeMin(),this.rangeMax()),u=Math.round(n*o)+this.min;return u<this.min||u>this.max?NaN:this.values[u]},e.prototype.getText=function(t){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];var u=t;return(0,w.isNumber)(t)&&!this.values.includes(t)&&(u=this.values[u]),a.prototype.getText.apply(this,(0,Z.__spreadArrays)([u],n))},e.prototype.initCfg=function(){this.tickMethod="cat"},e.prototype.setDomain=function(){if((0,w.isNil)(this.getConfig("min"))&&(this.min=0),(0,w.isNil)(this.getConfig("max"))){var t=this.values.length;this.max=t>1?t-1:t}this.translateIndexMap&&(this.translateIndexMap=void 0)},e}(rg),dv=mm,L0=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,vv="[1-9]\\d?",pv="\\d\\d",Zc="\\d{3}",Vg="\\d{4}",Pp="[^\\s]+",ng=/\[([^]*?)\]/gm;function R0(a,e){for(var t=[],n=0,o=a.length;n<o;n++)t.push(a[n].substr(0,e));return t}var F0=function(a){return function(e,t){var n=t[a].map(function(u){return u.toLowerCase()}),o=n.indexOf(e.toLowerCase());return o>-1?o:null}};function bd(a){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];for(var n=0,o=e;n<o.length;n++){var u=o[n];for(var l in u)a[l]=u[l]}return a}var N0=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ig=["January","February","March","April","May","June","July","August","September","October","November","December"],xm=R0(ig,3),bm=R0(N0,3),Hg={dayNamesShort:bm,dayNames:N0,monthNamesShort:xm,monthNames:ig,amPm:["am","pm"],DoFn:function(a){return a+["th","st","nd","rd"][a%10>3?0:(a-a%10!==10?1:0)*a%10]}},ag=bd({},Hg),Yg=function(a){return ag=bd(ag,a)},Xg=function(a){return a.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},Qc=function(a,e){for(e===void 0&&(e=2),a=String(a);a.length<e;)a="0"+a;return a},Em={D:function(a){return String(a.getDate())},DD:function(a){return Qc(a.getDate())},Do:function(a,e){return e.DoFn(a.getDate())},d:function(a){return String(a.getDay())},dd:function(a){return Qc(a.getDay())},ddd:function(a,e){return e.dayNamesShort[a.getDay()]},dddd:function(a,e){return e.dayNames[a.getDay()]},M:function(a){return String(a.getMonth()+1)},MM:function(a){return Qc(a.getMonth()+1)},MMM:function(a,e){return e.monthNamesShort[a.getMonth()]},MMMM:function(a,e){return e.monthNames[a.getMonth()]},YY:function(a){return Qc(String(a.getFullYear()),4).substr(2)},YYYY:function(a){return Qc(a.getFullYear(),4)},h:function(a){return String(a.getHours()%12||12)},hh:function(a){return Qc(a.getHours()%12||12)},H:function(a){return String(a.getHours())},HH:function(a){return Qc(a.getHours())},m:function(a){return String(a.getMinutes())},mm:function(a){return Qc(a.getMinutes())},s:function(a){return String(a.getSeconds())},ss:function(a){return Qc(a.getSeconds())},S:function(a){return String(Math.round(a.getMilliseconds()/100))},SS:function(a){return Qc(Math.round(a.getMilliseconds()/10),2)},SSS:function(a){return Qc(a.getMilliseconds(),3)},a:function(a,e){return a.getHours()<12?e.amPm[0]:e.amPm[1]},A:function(a,e){return a.getHours()<12?e.amPm[0].toUpperCase():e.amPm[1].toUpperCase()},ZZ:function(a){var e=a.getTimezoneOffset();return(e>0?"-":"+")+Qc(Math.floor(Math.abs(e)/60)*100+Math.abs(e)%60,4)},Z:function(a){var e=a.getTimezoneOffset();return(e>0?"-":"+")+Qc(Math.floor(Math.abs(e)/60),2)+":"+Qc(Math.abs(e)%60,2)}},og=function(a){return+a-1},sg=[null,vv],k0=[null,Pp],B0=["isPm",Pp,function(a,e){var t=a.toLowerCase();return t===e.amPm[0]?0:t===e.amPm[1]?1:null}],$g=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(a){var e=(a+"").match(/([+-]|\d\d)/gi);if(e){var t=+e[1]*60+parseInt(e[2],10);return e[0]==="+"?t:-t}return 0}],Sm={D:["day",vv],DD:["day",pv],Do:["day",vv+Pp,function(a){return parseInt(a,10)}],M:["month",vv,og],MM:["month",pv,og],YY:["year",pv,function(a){var e=new Date,t=+(""+e.getFullYear()).substr(0,2);return+(""+(+a>68?t-1:t)+a)}],h:["hour",vv,void 0,"isPm"],hh:["hour",pv,void 0,"isPm"],H:["hour",vv],HH:["hour",pv],m:["minute",vv],mm:["minute",pv],s:["second",vv],ss:["second",pv],YYYY:["year",Vg],S:["millisecond","\\d",function(a){return+a*100}],SS:["millisecond",pv,function(a){return+a*10}],SSS:["millisecond",Zc],d:sg,dd:sg,ddd:k0,dddd:k0,MMM:["month",Pp,F0("monthNamesShort")],MMMM:["month",Pp,F0("monthNames")],a:B0,A:B0,ZZ:$g,Z:$g},ug={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},G0=function(a){return bd(ug,a)},wm=function(a,e,t){if(e===void 0&&(e=ug.default),t===void 0&&(t={}),typeof a=="number"&&(a=new Date(a)),Object.prototype.toString.call(a)!=="[object Date]"||isNaN(a.getTime()))throw new Error("Invalid Date pass to format");e=ug[e]||e;var n=[];e=e.replace(ng,function(u,l){return n.push(l),"@@@"});var o=bd(bd({},ag),t);return e=e.replace(L0,function(u){return Em[u](a,o)}),e.replace(/@@@/g,function(){return n.shift()})};function _m(a,e,t){if(t===void 0&&(t={}),typeof e!="string")throw new Error("Invalid format in fecha parse");if(e=ug[e]||e,a.length>1e3)return null;var n=new Date,o={year:n.getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},u=[],l=[],c=e.replace(ng,function(mt,Dt){return l.push(Xg(Dt)),"@@@"}),f={},h={};c=Xg(c).replace(L0,function(mt){var Dt=Sm[mt],kt=Dt[0],Vt=Dt[1],te=Dt[3];if(f[kt])throw new Error("Invalid format. "+kt+" specified twice in format");return f[kt]=!0,te&&(h[te]=!0),u.push(Dt),"("+Vt+")"}),Object.keys(h).forEach(function(mt){if(!f[mt])throw new Error("Invalid format. "+mt+" is required in specified format")}),c=c.replace(/@@@/g,function(){return l.shift()});var v=a.match(new RegExp(c,"i"));if(!v)return null;for(var p=bd(bd({},ag),t),g=1;g<v.length;g++){var E=u[g-1],D=E[0],G=E[2],H=G?G(v[g],p):+v[g];if(H==null)return null;o[D]=H}o.isPm===1&&o.hour!=null&&+o.hour!=12?o.hour=+o.hour+12:o.isPm===0&&+o.hour==12&&(o.hour=0);for(var X=new Date(o.year,o.month,o.day,o.hour,o.minute,o.second,o.millisecond),rt=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],g=0,ht=rt.length;g<ht;g++)if(f[rt[g][0]]&&o[rt[g][0]]!==X[rt[g][1]]())return null;return o.timezoneOffset==null?X:new Date(Date.UTC(o.year,o.month,o.day,o.hour,o.minute-o.timezoneOffset,o.second,o.millisecond))}var m={format:wm,parse:_m,defaultI18n:Hg,setGlobalDateI18n:Yg,setGlobalDateMasks:G0},Y=m;function V(a){return function(e,t,n,o){for(var u=(0,w.isNil)(n)?0:n,l=(0,w.isNil)(o)?e.length:o;u<l;){var c=u+l>>>1;a(e[c])>t?l=c:u=c+1}return u}}var tt="format";function ut(a,e){var t=d[tt]||Y[tt];return t(a,e)}function Ot(a){return(0,w.isString)(a)&&(a.indexOf("T")>0?a=new Date(a).getTime():a=new Date(a.replace(/-/gi,"/")).getTime()),(0,w.isDate)(a)&&(a=a.getTime()),a}var Bt=1e3,Ht=60*Bt,Jt=60*Ht,oe=24*Jt,Se=oe*31,Ye=oe*365,ir=[["HH:mm:ss",Bt],["HH:mm:ss",Bt*10],["HH:mm:ss",Bt*30],["HH:mm",Ht],["HH:mm",Ht*10],["HH:mm",Ht*30],["HH",Jt],["HH",Jt*6],["HH",Jt*12],["YYYY-MM-DD",oe],["YYYY-MM-DD",oe*4],["YYYY-WW",oe*7],["YYYY-MM",Se],["YYYY-MM",Se*4],["YYYY-MM",Se*6],["YYYY",oe*380]];function C(a,e,t){var n=(e-a)/t,o=V(function(l){return l[1]})(ir,n)-1,u=ir[o];return o<0?u=ir[0]:o>=ir.length&&(u=(0,w.last)(ir)),u}var U=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type="timeCat",t}return e.prototype.translate=function(t){t=Ot(t);var n=this.values.indexOf(t);return n===-1&&((0,w.isNumber)(t)&&t<this.values.length?n=t:n=NaN),n},e.prototype.getText=function(t,n){var o=this.translate(t);if(o>-1){var u=this.values[o],l=this.formatter;return u=l?l(u,n):ut(u,this.mask),u}return t},e.prototype.initCfg=function(){this.tickMethod="time-cat",this.mask="YYYY-MM-DD",this.tickCount=7},e.prototype.setDomain=function(){var t=this.values;(0,w.each)(t,function(n,o){t[o]=Ot(n)}),t.sort(function(n,o){return n-o}),a.prototype.setDomain.call(this)},e}(dv),it=U,Lt=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.isContinuous=!0,t}return e.prototype.scale=function(t){if((0,w.isNil)(t))return NaN;var n=this.rangeMin(),o=this.rangeMax(),u=this.max,l=this.min;if(u===l)return n;var c=this.getScalePercent(t);return n+c*(o-n)},e.prototype.init=function(){a.prototype.init.call(this);var t=this.ticks,n=(0,w.head)(t),o=(0,w.last)(t);n<this.min&&(this.min=n),o>this.max&&(this.max=o),(0,w.isNil)(this.minLimit)||(this.min=n),(0,w.isNil)(this.maxLimit)||(this.max=o)},e.prototype.setDomain=function(){var t=(0,w.getRange)(this.values),n=t.min,o=t.max;(0,w.isNil)(this.min)&&(this.min=n),(0,w.isNil)(this.max)&&(this.max=o),this.min>this.max&&(this.min=n,this.max=o)},e.prototype.calculateTicks=function(){var t=this,n=a.prototype.calculateTicks.call(this);return this.nice||(n=(0,w.filter)(n,function(o){return o>=t.min&&o<=t.max})),n},e.prototype.getScalePercent=function(t){var n=this.max,o=this.min;return(t-o)/(n-o)},e.prototype.getInvertPercent=function(t){return(t-this.rangeMin())/(this.rangeMax()-this.rangeMin())},e}(rg),Zt=Lt,ve=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type="linear",t.isLinear=!0,t}return e.prototype.invert=function(t){var n=this.getInvertPercent(t);return this.min+n*(this.max-this.min)},e.prototype.initCfg=function(){this.tickMethod="wilkinson-extended",this.nice=!1},e}(Zt),Me=ve;function He(a,e){var t=Math.E,n;return e>=0?n=Math.pow(t,Math.log(e)/a):n=Math.pow(t,Math.log(-e)/a)*-1,n}function $e(a,e){return a===1?1:Math.log(e)/Math.log(a)}function zr(a,e,t){(0,w.isNil)(t)&&(t=Math.max.apply(null,a));var n=t;return(0,w.each)(a,function(o){o>0&&o<n&&(n=o)}),n===t&&(n=t/e),n>1&&(n=1),n}function nn(a){var e=a.toString().split(/[eE]/),t=(e[0].split(".")[1]||"").length-+(e[1]||0);return t>0?t:0}function ln(a,e){var t=nn(a),n=nn(e),o=Math.pow(10,Math.max(t,n));return(a*o+e*o)/o}var $n=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type="log",t}return e.prototype.invert=function(t){var n=this.base,o=$e(n,this.max),u=this.rangeMin(),l=this.rangeMax()-u,c,f=this.positiveMin;if(f){if(t===0)return 0;c=$e(n,f/n);var h=1/(o-c)*l;if(t<h)return t/h*f}else c=$e(n,this.min);var v=(t-u)/l,p=v*(o-c)+c;return Math.pow(n,p)},e.prototype.initCfg=function(){this.tickMethod="log",this.base=10,this.tickCount=6,this.nice=!0},e.prototype.setDomain=function(){a.prototype.setDomain.call(this);var t=this.min;if(t<0)throw new Error("When you use log scale, the minimum value must be greater than zero!");t===0&&(this.positiveMin=zr(this.values,this.base,this.max))},e.prototype.getScalePercent=function(t){var n=this.max,o=this.min;if(n===o||t<=0)return 0;var u=this.base,l=this.positiveMin;l&&(o=l*1/u);var c;return t<l?c=t/l/($e(u,n)-$e(u,o)):c=($e(u,t)-$e(u,o))/($e(u,n)-$e(u,o)),c},e}(Zt),ii=$n,yi=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type="pow",t}return e.prototype.invert=function(t){var n=this.getInvertPercent(t),o=this.exponent,u=He(o,this.max),l=He(o,this.min),c=n*(u-l)+l,f=c>=0?1:-1;return Math.pow(c,o)*f},e.prototype.initCfg=function(){this.tickMethod="pow",this.exponent=2,this.tickCount=5,this.nice=!0},e.prototype.getScalePercent=function(t){var n=this.max,o=this.min;if(n===o)return 0;var u=this.exponent,l=(He(u,t)-He(u,o))/(He(u,n)-He(u,o));return l},e}(Zt),Ei=yi,mi=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type="time",t}return e.prototype.getText=function(t,n){var o=this.translate(t),u=this.formatter;return u?u(o,n):ut(o,this.mask)},e.prototype.scale=function(t){var n=t;return((0,w.isString)(n)||(0,w.isDate)(n))&&(n=this.translate(n)),a.prototype.scale.call(this,n)},e.prototype.translate=function(t){return Ot(t)},e.prototype.initCfg=function(){this.tickMethod="time-pretty",this.mask="YYYY-MM-DD",this.tickCount=7,this.nice=!1},e.prototype.setDomain=function(){var t=this.values,n=this.getConfig("min"),o=this.getConfig("max");if((!(0,w.isNil)(n)||!(0,w.isNumber)(n))&&(this.min=this.translate(this.min)),(!(0,w.isNil)(o)||!(0,w.isNumber)(o))&&(this.max=this.translate(this.max)),t&&t.length){var u=[],l=1/0,c=l,f=0;(0,w.each)(t,function(h){var v=Ot(h);if(isNaN(v))throw new TypeError("Invalid Time: "+h+" in time scale!");l>v?(c=l,l=v):c>v&&(c=v),f<v&&(f=v),u.push(v)}),t.length>1&&(this.minTickInterval=c-l),(0,w.isNil)(n)&&(this.min=l),(0,w.isNil)(o)&&(this.max=f)}},e}(Me),di=mi,Ji=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type="quantize",t}return e.prototype.invert=function(t){var n=this.ticks,o=n.length,u=this.getInvertPercent(t),l=Math.floor(u*(o-1));if(l>=o-1)return(0,w.last)(n);if(l<0)return(0,w.head)(n);var c=n[l],f=n[l+1],h=l/(o-1),v=(l+1)/(o-1);return c+(u-h)/(v-h)*(f-c)},e.prototype.initCfg=function(){this.tickMethod="r-pretty",this.tickCount=5,this.nice=!0},e.prototype.calculateTicks=function(){var t=a.prototype.calculateTicks.call(this);return this.nice||((0,w.last)(t)!==this.max&&t.push(this.max),(0,w.head)(t)!==this.min&&t.unshift(this.min)),t},e.prototype.getScalePercent=function(t){var n=this.ticks;if(t<(0,w.head)(n))return 0;if(t>(0,w.last)(n))return 1;var o=0;return(0,w.each)(n,function(u,l){if(t>=u)o=l;else return!1}),o/(n.length-1)},e}(Zt),us=Ji,ls=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type="quantile",t}return e.prototype.initCfg=function(){this.tickMethod="quantile",this.tickCount=5,this.nice=!0},e}(us),Va=ls,cs={};function il(a){return cs[a]}function js(a,e){if(il(a))throw new Error("type '"+a+"' existed.");cs[a]=e}var Wv=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type="identity",t.isIdentity=!0,t}return e.prototype.calculateTicks=function(){return this.values},e.prototype.scale=function(t){return this.values[0]!==t&&(0,w.isNumber)(t)?t:this.range[0]},e.prototype.invert=function(t){var n=this.range;return t<n[0]||t>n[1]?NaN:this.values[0]},e}(rg),Kg=Wv;function gv(a){return Math.abs(a)<1e-15?a:parseFloat(a.toFixed(15))}var Xb=[1,5,2,2.5,4,3],G2=null,yx=Number.EPSILON*100;function Am(a,e){return(a%e+e)%e}function ek(a){return Math.round(a*1e12)/1e12}function rk(a,e,t,n,o,u){var l=(0,w.size)(e),c=(0,w.indexOf)(e,a),f=0,h=Am(n,u);return(h<yx||u-h<yx)&&n<=0&&o>=0&&(f=1),1-c/(l-1)-t+f}function nk(a,e,t){var n=(0,w.size)(e),o=(0,w.indexOf)(e,a),u=1;return 1-o/(n-1)-t+u}function ik(a,e,t,n,o,u){var l=(a-1)/(u-o),c=(e-1)/(Math.max(u,n)-Math.min(t,o));return 2-Math.max(l/c,c/l)}function ak(a,e){return a>=e?2-(a-1)/(e-1):1}function ok(a,e,t,n){var o=e-a;return 1-.5*(Math.pow(e-n,2)+Math.pow(a-t,2))/Math.pow(.1*o,2)}function sk(a,e,t){var n=e-a;if(t>n){var o=(t-n)/2;return 1-Math.pow(o,2)/Math.pow(.1*n,2)}return 1}function uk(){return 1}function eT(a,e,t,n,o,u){t===void 0&&(t=5),n===void 0&&(n=!0),o===void 0&&(o=Xb),u===void 0&&(u=[.25,.2,.5,.05]);var l=t<0?0:Math.round(t);if(Number.isNaN(a)||Number.isNaN(e)||typeof a!="number"||typeof e!="number"||!l)return{min:0,max:0,ticks:[]};if(e-a<1e-15||l===1)return{min:a,max:e,ticks:[a]};for(var c={score:-2,lmin:0,lmax:0,lstep:0},f=1;f<1/0;){for(var h=0;h<o.length;h+=1){var v=o[h],p=nk(v,o,f);if(u[0]*p+u[1]+u[2]+u[3]<c.score){f=1/0;break}for(var g=2;g<1/0;){var E=ak(g,l);if(u[0]*p+u[1]+u[2]*E+u[3]<c.score)break;for(var D=(e-a)/(g+1)/f/v,G=Math.ceil(Math.log10(D));G<1/0;){var H=f*v*Math.pow(10,G),X=sk(a,e,H*(g-1));if(u[0]*p+u[1]*X+u[2]*E+u[3]<c.score)break;var rt=Math.floor(e/H)*f-(g-1)*f,ht=Math.ceil(a/H)*f;if(rt<=ht)for(var mt=ht-rt,Dt=0;Dt<=mt;Dt+=1){var kt=rt+Dt,Vt=kt*(H/f),te=Vt+H*(g-1),le=H,pe=rk(v,o,f,Vt,te,le),De=ok(a,e,Vt,te),Xe=ik(g,l,a,e,Vt,te),pr=uk(),yr=u[0]*pe+u[1]*De+u[2]*Xe+u[3]*pr;yr>c.score&&(!n||Vt<=a&&te>=e)&&(c.lmin=Vt,c.lmax=te,c.lstep=le,c.score=yr)}G+=1}g+=1}}f+=1}var Vr=gv(c.lmax),nr=gv(c.lmin),Gr=gv(c.lstep),en=Math.floor(ek((Vr-nr)/Gr))+1,cr=new Array(en);cr[0]=gv(nr);for(var h=1;h<en;h++)cr[h]=gv(cr[h-1]+Gr);return{min:Math.min(a,(0,w.head)(cr)),max:Math.max(e,(0,w.last)(cr)),ticks:cr}}function rT(a){var e=a.values,t=a.tickInterval,n=a.tickCount,o=e;if((0,w.isNumber)(t))return(0,w.filter)(o,function(h,v){return v%t===0});var u=a.min,l=a.max;if((0,w.isNil)(u)&&(u=0),(0,w.isNil)(l)&&(l=e.length-1),(0,w.isNumber)(n)&&n<l-u){var c=eT(u,l,n,!1,[1,2,5,3,4,7,6,8,9]).ticks,f=(0,w.filter)(c,function(h){return h>=u&&h<=l});return f.map(function(h){return e[h]})}return e.slice(u,l+1)}function lk(a){var e=a.min,t=a.max,n=a.nice,o=a.tickCount,u=new ck;return u.domain([e,t]),n&&u.nice(o),u.ticks(o)}var z2=5,nT=Math.sqrt(50),iT=Math.sqrt(10),aT=Math.sqrt(2),ck=function(){function a(){this._domain=[0,1]}return a.prototype.domain=function(e){return e?(this._domain=Array.from(e,Number),this):this._domain.slice()},a.prototype.nice=function(e){var t,n;e===void 0&&(e=z2);var o=this._domain.slice(),u=0,l=this._domain.length-1,c=this._domain[u],f=this._domain[l],h;return f<c&&(t=[f,c],c=t[0],f=t[1],n=[l,u],u=n[0],l=n[1]),h=$b(c,f,e),h>0?(c=Math.floor(c/h)*h,f=Math.ceil(f/h)*h,h=$b(c,f,e)):h<0&&(c=Math.ceil(c*h)/h,f=Math.floor(f*h)/h,h=$b(c,f,e)),h>0?(o[u]=Math.floor(c/h)*h,o[l]=Math.ceil(f/h)*h,this.domain(o)):h<0&&(o[u]=Math.ceil(c*h)/h,o[l]=Math.floor(f*h)/h,this.domain(o)),this},a.prototype.ticks=function(e){return e===void 0&&(e=z2),fk(this._domain[0],this._domain[this._domain.length-1],e||z2)},a}();function fk(a,e,t){var n,o=-1,u,l,c;if(e=+e,a=+a,t=+t,a===e&&t>0)return[a];if((n=e<a)&&(u=a,a=e,e=u),(c=$b(a,e,t))===0||!isFinite(c))return[];if(c>0)for(a=Math.ceil(a/c),e=Math.floor(e/c),l=new Array(u=Math.ceil(e-a+1));++o<u;)l[o]=(a+o)*c;else for(a=Math.floor(a*c),e=Math.ceil(e*c),l=new Array(u=Math.ceil(a-e+1));++o<u;)l[o]=(a-o)/c;return n&&l.reverse(),l}function $b(a,e,t){var n=(e-a)/Math.max(0,t),o=Math.floor(Math.log(n)/Math.LN10),u=n/Math.pow(10,o);return o>=0?(u>=nT?10:u>=iT?5:u>=aT?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(u>=nT?10:u>=iT?5:u>=aT?2:1)}function oT(a,e,t){var n;return t==="ceil"?n=Math.ceil(a/e):t==="floor"?n=Math.floor(a/e):n=Math.round(a/e),n*e}function U2(a,e,t){var n=oT(a,t,"floor"),o=oT(e,t,"ceil");n=(0,w.fixedBase)(n,t),o=(0,w.fixedBase)(o,t);for(var u=[],l=Math.max((o-n)/(Math.pow(2,12)-1),t),c=n;c<=o;c=c+l){var f=(0,w.fixedBase)(c,l);u.push(f)}return{min:n,max:o,ticks:u}}function j2(a,e,t){var n,o=a.minLimit,u=a.maxLimit,l=a.min,c=a.max,f=a.tickCount,h=f===void 0?5:f,v=(0,w.isNil)(o)?(0,w.isNil)(e)?l:e:o,p=(0,w.isNil)(u)?(0,w.isNil)(t)?c:t:u;if(v>p&&(n=[v,p],p=n[0],v=n[1]),h<=2)return[v,p];for(var g=(p-v)/(h-1),E=[],D=0;D<h;D++)E.push(v+g*D);return E}function hk(a){var e=a.min,t=a.max,n=a.tickInterval,o=a.minLimit,u=a.maxLimit,l=lk(a);return!(0,w.isNil)(o)||!(0,w.isNil)(u)?j2(a,(0,w.head)(l),(0,w.last)(l)):n?U2(e,t,n).ticks:l}function dk(a){var e=a.min,t=a.max,n=a.tickCount,o=a.nice,u=a.tickInterval,l=a.minLimit,c=a.maxLimit,f=eT(e,t,n,o).ticks;return!(0,w.isNil)(l)||!(0,w.isNil)(c)?j2(a,(0,w.head)(f),(0,w.last)(f)):u?U2(e,t,u).ticks:f}function vk(a){var e=a.base,t=a.tickCount,n=a.min,o=a.max,u=a.values,l,c=$e(e,o);if(n>0)l=Math.floor($e(e,n));else{var f=zr(u,e,o);l=Math.floor($e(e,f))}for(var h=c-l,v=Math.ceil(h/t),p=[],g=l;g<c+v;g=g+v)p.push(Math.pow(e,g));return n<=0&&p.unshift(0),p}function sT(a,e,t){if(t===void 0&&(t=5),a===e)return{max:e,min:a,ticks:[a]};var n=t<0?0:Math.round(t);if(n===0)return{max:e,min:a,ticks:[]};var o=1.5,u=.5+1.5*o,l=e-a,c=l/n,f=Math.pow(10,Math.floor(Math.log10(c))),h=f;2*f-c<o*(c-h)&&(h=2*f,5*f-c<u*(c-h)&&(h=5*f,10*f-c<o*(c-h)&&(h=10*f)));for(var v=Math.ceil(e/h),p=Math.floor(a/h),g=Math.max(v*h,e),E=Math.min(p*h,a),D=Math.floor((g-E)/h)+1,G=new Array(D),H=0;H<D;H++)G[H]=gv(E+H*h);return{min:E,max:g,ticks:G}}function pk(a){var e=a.exponent,t=a.tickCount,n=Math.ceil(He(e,a.max)),o=Math.floor(He(e,a.min)),u=sT(o,n,t).ticks;return u.map(function(l){var c=l>=0?1:-1;return Math.pow(l,e)*c})}function gk(a,e){var t=a.length*e;return e===1?a[a.length-1]:e===0?a[0]:t%1!==0?a[Math.ceil(t)-1]:a.length%2===0?(a[t-1]+a[t])/2:a[t]}function yk(a){var e=a.tickCount,t=a.values;if(!t||!t.length)return[];for(var n=t.slice().sort(function(c,f){return c-f}),o=[],u=0;u<e;u++){var l=u/(e-1);o.push(gk(n,l))}return o}function mk(a){var e=a.min,t=a.max,n=a.tickCount,o=a.tickInterval,u=a.minLimit,l=a.maxLimit,c=sT(e,t,n).ticks;return!(0,w.isNil)(u)||!(0,w.isNil)(l)?j2(a,(0,w.head)(c),(0,w.last)(c)):o?U2(e,t,o).ticks:c}function xk(a){var e=a.min,t=a.max,n=a.minTickInterval,o=a.tickInterval,u=a.tickCount;if(o)u=Math.ceil((t-e)/o);else{o=C(e,t,u)[1];var l=(t-e)/o,c=l/u;c>1&&(o=o*Math.ceil(c)),n&&o<n&&(o=n)}for(var f=[],h=e;h<t+o;h+=o)f.push(h);return f}function bk(a){var e=rT(a),t=(0,w.last)(a.values);return t!==(0,w.last)(e)&&e.push(t),e}function Kb(a){return new Date(a).getFullYear()}function Ek(a){return new Date(a,0,1).getTime()}function W2(a){return new Date(a).getMonth()}function Sk(a,e){var t=Kb(a),n=Kb(e),o=W2(a),u=W2(e);return(n-t)*12+(u-o)%12}function wk(a,e){return new Date(a,e,1).getTime()}function _k(a,e){return Math.ceil((e-a)/oe)}function Ak(a,e){return Math.ceil((e-a)/Jt)}function Ck(a,e){return Math.ceil((e-a)/(60*1e3))}function Tk(a){var e=a.min,t=a.max,n=a.minTickInterval,o=a.tickCount,u=a.tickInterval,l=[];u||(u=(t-e)/o,n&&u<n&&(u=n));var c=Kb(e);if(u>Ye)for(var f=Kb(t),h=Math.ceil(u/Ye),v=c;v<=f+h;v=v+h)l.push(Ek(v));else if(u>Se)for(var p=Math.ceil(u/Se),g=W2(e),E=Sk(e,t),v=0;v<=E+p;v=v+p)l.push(wk(c,v+g));else if(u>oe)for(var D=new Date(e),G=D.getFullYear(),H=D.getMonth(),X=D.getDate(),rt=Math.ceil(u/oe),ht=_k(e,t),v=0;v<ht+rt;v=v+rt)l.push(new Date(G,H,X+v).getTime());else if(u>Jt)for(var D=new Date(e),G=D.getFullYear(),H=D.getMonth(),rt=D.getDate(),mt=D.getHours(),Dt=Math.ceil(u/Jt),kt=Ak(e,t),v=0;v<=kt+Dt;v=v+Dt)l.push(new Date(G,H,rt,mt+v).getTime());else if(u>Ht)for(var Vt=Ck(e,t),te=Math.ceil(u/Ht),v=0;v<=Vt+te;v=v+te)l.push(e+v*Ht);else{var le=u;le<Bt&&(le=Bt);for(var pe=Math.floor(e/Bt)*Bt,De=Math.ceil((t-e)/Bt),Xe=Math.ceil(le/Bt),v=0;v<De+Xe;v=v+Xe)l.push(pe+v*Bt)}return l.length>=512&&console.warn("Notice: current ticks length("+l.length+') >= 512, may cause performance issues, even out of memory. Because of the configure "tickInterval"(in milliseconds, current is '+u+") is too small, increase the value to solve the problem!"),l}Nh("cat",rT),Nh("time-cat",bk),Nh("wilkinson-extended",dk),Nh("r-pretty",mk),Nh("time",xk),Nh("time-pretty",Tk),Nh("log",vk),Nh("pow",pk),Nh("quantile",yk),Nh("d3-linear",hk),js("cat",dv),js("category",dv),js("identity",Kg),js("linear",Me),js("log",ii),js("pow",Ei),js("time",di),js("timeCat",it),js("quantize",us),js("quantile",Va);var uT={},lT=function(a){return uT[a.toLowerCase()]},mx=function(a,e){if(lT(a))throw new Error("Attribute type '"+a+"' existed.");uT[a.toLowerCase()]=e};mx("Color",vm),mx("Opacity",fx),mx("Position",hx),mx("Shape",vx),mx("Size",gx);var z0=je(77160),Mk=function(){function a(e){this.type="coordinate",this.isRect=!1,this.isHelix=!1,this.isPolar=!1,this.isReflectX=!1,this.isReflectY=!1;var t=e.start,n=e.end,o=e.matrix,u=o===void 0?[1,0,0,0,1,0,0,0,1]:o,l=e.isTransposed,c=l===void 0?!1:l;this.start=t,this.end=n,this.matrix=u,this.originalMatrix=(0,Z.__spreadArray)([],u),this.isTransposed=c}return a.prototype.initial=function(){this.center={x:(this.start.x+this.end.x)/2,y:(this.start.y+this.end.y)/2},this.width=Math.abs(this.end.x-this.start.x),this.height=Math.abs(this.end.y-this.start.y)},a.prototype.update=function(e){(0,w.assign)(this,e),this.initial()},a.prototype.convertDim=function(e,t){var n,o=this[t],u=o.start,l=o.end;return this.isReflect(t)&&(n=[l,u],u=n[0],l=n[1]),u+e*(l-u)},a.prototype.invertDim=function(e,t){var n,o=this[t],u=o.start,l=o.end;return this.isReflect(t)&&(n=[l,u],u=n[0],l=n[1]),(e-u)/(l-u)},a.prototype.applyMatrix=function(e,t,n){n===void 0&&(n=0);var o=this.matrix,u=[e,t,n];return z0.kK(u,u,o),u},a.prototype.invertMatrix=function(e,t,n){n===void 0&&(n=0);var o=this.matrix,u=fu.invert([0,0,0,0,0,0,0,0,0],o),l=[e,t,n];return u&&z0.kK(l,l,u),l},a.prototype.convert=function(e){var t=this.convertPoint(e),n=t.x,o=t.y,u=this.applyMatrix(n,o,1);return{x:u[0],y:u[1]}},a.prototype.invert=function(e){var t=this.invertMatrix(e.x,e.y,1);return this.invertPoint({x:t[0],y:t[1]})},a.prototype.rotate=function(e){var t=this.matrix,n=this.center;return Gs(t,t,[-n.x,-n.y]),es(t,t,e),Gs(t,t,[n.x,n.y]),this},a.prototype.reflect=function(e){return e==="x"?this.isReflectX=!this.isReflectX:this.isReflectY=!this.isReflectY,this},a.prototype.scale=function(e,t){var n=this.matrix,o=this.center;return Gs(n,n,[-o.x,-o.y]),Fl(n,n,[e,t]),Gs(n,n,[o.x,o.y]),this},a.prototype.translate=function(e,t){var n=this.matrix;return Gs(n,n,[e,t]),this},a.prototype.transpose=function(){return this.isTransposed=!this.isTransposed,this},a.prototype.getCenter=function(){return this.center},a.prototype.getWidth=function(){return this.width},a.prototype.getHeight=function(){return this.height},a.prototype.getRadius=function(){return this.radius},a.prototype.isReflect=function(e){return e==="x"?this.isReflectX:this.isReflectY},a.prototype.resetMatrix=function(e){this.matrix=e||(0,Z.__spreadArray)([],this.originalMatrix)},a}(),Zb=Mk,Ik=function(a){(0,Z.__extends)(e,a);function e(t){var n=a.call(this,t)||this;return n.isRect=!0,n.type="cartesian",n.initial(),n}return e.prototype.initial=function(){a.prototype.initial.call(this);var t=this.start,n=this.end;this.x={start:t.x,end:n.x},this.y={start:t.y,end:n.y}},e.prototype.convertPoint=function(t){var n,o=t.x,u=t.y;return this.isTransposed&&(n=[u,o],o=n[0],u=n[1]),{x:this.convertDim(o,"x"),y:this.convertDim(u,"y")}},e.prototype.invertPoint=function(t){var n,o=this.invertDim(t.x,"x"),u=this.invertDim(t.y,"y");return this.isTransposed&&(n=[u,o],o=n[0],u=n[1]),{x:o,y:u}},e}(Zb),cT=Ik,Ok=function(a){(0,Z.__extends)(e,a);function e(t){var n=a.call(this,t)||this;n.isHelix=!0,n.type="helix";var o=t.startAngle,u=o===void 0?1.25*Math.PI:o,l=t.endAngle,c=l===void 0?7.25*Math.PI:l,f=t.innerRadius,h=f===void 0?0:f,v=t.radius;return n.startAngle=u,n.endAngle=c,n.innerRadius=h,n.radius=v,n.initial(),n}return e.prototype.initial=function(){a.prototype.initial.call(this);var t=(this.endAngle-this.startAngle)/(2*Math.PI)+1,n=Math.min(this.width,this.height)/2;this.radius&&this.radius>=0&&this.radius<=1&&(n=n*this.radius),this.d=Math.floor(n*(1-this.innerRadius)/t),this.a=this.d/(Math.PI*2),this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*n,end:this.innerRadius*n+this.d*.99}},e.prototype.convertPoint=function(t){var n,o=t.x,u=t.y;this.isTransposed&&(n=[u,o],o=n[0],u=n[1]);var l=this.convertDim(o,"x"),c=this.a*l,f=this.convertDim(u,"y");return{x:this.center.x+Math.cos(l)*(c+f),y:this.center.y+Math.sin(l)*(c+f)}},e.prototype.invertPoint=function(t){var n,o=this.d+this.y.start,u=Zu([0,0],[t.x,t.y],[this.center.x,this.center.y]),l=yl(u,[1,0],!0),c=l*this.a;Js(u)<c&&(c=Js(u));var f=Math.floor((Js(u)-c)/o);l=2*f*Math.PI+l;var h=this.a*l,v=Js(u)-h;v=(0,w.isNumberEqual)(v,0)?0:v;var p=this.invertDim(l,"x"),g=this.invertDim(v,"y");return p=(0,w.isNumberEqual)(p,0)?0:p,g=(0,w.isNumberEqual)(g,0)?0:g,this.isTransposed&&(n=[g,p],p=n[0],g=n[1]),{x:p,y:g}},e}(Zb),Dk=Ok,Pk=function(a){(0,Z.__extends)(e,a);function e(t){var n=a.call(this,t)||this;n.isPolar=!0,n.type="polar";var o=t.startAngle,u=o===void 0?-Math.PI/2:o,l=t.endAngle,c=l===void 0?Math.PI*3/2:l,f=t.innerRadius,h=f===void 0?0:f,v=t.radius;return n.startAngle=u,n.endAngle=c,n.innerRadius=h,n.radius=v,n.initial(),n}return e.prototype.initial=function(){for(a.prototype.initial.call(this);this.endAngle<this.startAngle;)this.endAngle+=Math.PI*2;var t=this.getOneBox(),n=t.maxX-t.minX,o=t.maxY-t.minY,u=Math.abs(t.minX)/n,l=Math.abs(t.minY)/o,c;this.height/o>this.width/n?(c=this.width/n,this.circleCenter={x:this.center.x-(.5-u)*this.width,y:this.center.y-(.5-l)*c*o}):(c=this.height/o,this.circleCenter={x:this.center.x-(.5-u)*c*n,y:this.center.y-(.5-l)*this.height}),this.polarRadius=this.radius,this.radius?this.radius>0&&this.radius<=1?this.polarRadius=c*this.radius:(this.radius<=0||this.radius>c)&&(this.polarRadius=c):this.polarRadius=c,this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*this.polarRadius,end:this.polarRadius}},e.prototype.getRadius=function(){return this.polarRadius},e.prototype.convertPoint=function(t){var n,o=this.getCenter(),u=t.x,l=t.y;return this.isTransposed&&(n=[l,u],u=n[0],l=n[1]),u=this.convertDim(u,"x"),l=this.convertDim(l,"y"),{x:o.x+Math.cos(u)*l,y:o.y+Math.sin(u)*l}},e.prototype.invertPoint=function(t){var n,o=this.getCenter(),u=[t.x-o.x,t.y-o.y],l=this,c=l.startAngle,f=l.endAngle;this.isReflect("x")&&(n=[f,c],c=n[0],f=n[1]);var h=[1,0,0,0,1,0,0,0,1];es(h,h,c);var v=[1,0,0];z0.kK(v,v,h);var p=[v[0],v[1]],g=yl(p,u,f<c);(0,w.isNumberEqual)(g,Math.PI*2)&&(g=0);var E=Js(u),D=g/(f-c);D=f-c>0?D:-D;var G=this.invertDim(E,"y"),H={x:0,y:0};return H.x=this.isTransposed?G:D,H.y=this.isTransposed?D:G,H},e.prototype.getCenter=function(){return this.circleCenter},e.prototype.getOneBox=function(){var t=this.startAngle,n=this.endAngle;if(Math.abs(n-t)>=Math.PI*2)return{minX:-1,maxX:1,minY:-1,maxY:1};for(var o=[0,Math.cos(t),Math.cos(n)],u=[0,Math.sin(t),Math.sin(n)],l=Math.min(t,n);l<Math.max(t,n);l+=Math.PI/18)o.push(Math.cos(l)),u.push(Math.sin(l));return{minX:Math.min.apply(Math,o),maxX:Math.max.apply(Math,o),minY:Math.min.apply(Math,u),maxY:Math.max.apply(Math,u)}},e}(Zb),Lk=Pk,fT={},Rk=function(a){return fT[a.toLowerCase()]},Qb=function(a,e){fT[a.toLowerCase()]=e};Qb("rect",cT),Qb("cartesian",cT),Qb("polar",Lk),Qb("helix",Dk);function hT(a,e,t){var n=new Ss(e,t);n.target=a,n.propagationPath.push(a),a.emitDelegation(e,n);for(var o=a.getParent();o;)o.emitDelegation(e,n),n.propagationPath.push(o),o=o.getParent()}var dT=[1,0,0,0,1,0,0,0,1];function U0(a,e,t){if(t===void 0&&(t=dT),!e)return null;var n=ka(t,[["t",-a.x,-a.y],["r",e],["t",a.x,a.y]]);return n}function V2(a,e){return!a.x&&!a.y?null:ka(e||dT,[["t",a.x,a.y]])}function Fk(a){var e=[1,0,0],t=[0,0,0];return z0.kK(t,e,a),Math.atan2(t[1],t[0])}function Jb(a,e){var t=[0,0];return Bf(t,e,a),t}function Nk(a,e){var t=Jb(a,[e.minX,e.minY]),n=Jb(a,[e.maxX,e.minY]),o=Jb(a,[e.minX,e.maxY]),u=Jb(a,[e.maxX,e.maxY]),l=Math.min(t[0],n[0],o[0],u[0]),c=Math.max(t[0],n[0],o[0],u[0]),f=Math.min(t[1],n[1],o[1],u[1]),h=Math.max(t[1],n[1],o[1],u[1]);return{x:l,y:f,minX:l,minY:f,maxX:c,maxY:h,width:c-l,height:h-f}}function vT(a,e,t,n){if(e){var o=U0({x:t,y:n},e,a.getMatrix());a.setMatrix(o)}}function xx(a,e,t){var n=V2({x:e,y:t});a.attr("matrix",n)}function qb(a){var e=0,t=0,n=0,o=0;return(0,w.isNumber)(a)?e=t=n=o=a:(0,w.isArray)(a)&&(e=a[0],n=(0,w.isNil)(a[1])?a[0]:a[1],o=(0,w.isNil)(a[2])?a[0]:a[2],t=(0,w.isNil)(a[3])?n:a[3]),[e,n,o,t]}function H2(a){for(var e=a.childNodes,t=e.length,n=t-1;n>=0;n--)a.removeChild(e[n])}function kk(a,e){return!!a.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))}function bx(a){var e=a.start,t=a.end,n=Math.min(e.x,t.x),o=Math.min(e.y,t.y),u=Math.max(e.x,t.x),l=Math.max(e.y,t.y);return{x:n,y:o,minX:n,minY:o,maxX:u,maxY:l,width:u-n,height:l-o}}function Bk(a){var e=a.map(function(c){return c.x}),t=a.map(function(c){return c.y}),n=Math.min.apply(Math,e),o=Math.min.apply(Math,t),u=Math.max.apply(Math,e),l=Math.max.apply(Math,t);return{x:n,y:o,minX:n,minY:o,maxX:u,maxY:l,width:u-n,height:l-o}}function Ex(a,e,t,n){var o=a+t,u=e+n;return{x:a,y:e,width:t,height:n,minX:a,minY:e,maxX:isNaN(o)?0:o,maxY:isNaN(u)?0:u}}function j0(a,e,t){return(1-t)*a+e*t}function Cm(a,e,t){return{x:a.x+Math.cos(t)*e,y:a.y+Math.sin(t)*e}}function Gk(a,e){var t=e.x-a.x,n=e.y-a.y;return Math.sqrt(t*t+n*n)}var Flt=function(a){return new Promise(function(e){setTimeout(e,a)})},tE=function(a,e,t){return t===void 0&&(t=Math.pow(Number.EPSILON,.5)),[a,e].includes(1/0)?Math.abs(a)===Math.abs(e):Math.abs(a-e)<t};function zk(a,e){var t=Math.max(a.minX,e.minX),n=Math.max(a.minY,e.minY),o=Math.min(a.maxX,e.maxX),u=Math.min(a.maxY,e.maxY);return Ex(t,n,o-t,u-n)}function Nlt(a,e){var t=Math.min(a.minX,e.minX),n=Math.min(a.minY,e.minY),o=Math.max(a.maxX,e.maxX),u=Math.max(a.maxY,e.maxY);return Ex(t,n,o-t,u-n)}function pT(a){var e=a.getClip(),t=e&&e.getBBox(),n;if(!a.isGroup())n=a.getBBox();else{var o=1/0,u=-1/0,l=1/0,c=-1/0,f=a.getChildren();f.length>0?(0,w.each)(f,function(h){if(h.get("visible")){if(h.isGroup()&&h.get("children").length===0)return!0;var v=pT(h),p=h.applyToMatrix([v.minX,v.minY,1]),g=h.applyToMatrix([v.minX,v.maxY,1]),E=h.applyToMatrix([v.maxX,v.minY,1]),D=h.applyToMatrix([v.maxX,v.maxY,1]),G=Math.min(p[0],g[0],E[0],D[0]),H=Math.max(p[0],g[0],E[0],D[0]),X=Math.min(p[1],g[1],E[1],D[1]),rt=Math.max(p[1],g[1],E[1],D[1]);G<o&&(o=G),H>u&&(u=H),X<l&&(l=X),rt>c&&(c=rt)}}):(o=0,u=0,l=0,c=0),n=Ex(o,l,u-o,c-l)}return t?zk(n,t):n}function Uk(a,e){if(!(!a.getClip()&&!e.getClip())){var t=e.getClip();if(!t){a.setClip(null);return}var n={type:t.get("type"),attrs:t.attr()};a.setClip(n)}}function Wd(a){return a+"px"}function gT(a,e,t,n){var o=Gk(a,e),u=n/o,l=0;return t==="start"?l=0-u:t==="end"&&(l=1+u),{x:j0(a.x,e.x,l),y:j0(a.y,e.y,l)}}var jk={none:[],point:["x","y"],region:["start","end"],points:["points"],circle:["center","radius","startAngle","endAngle"]},Wk=function(a){(0,Z.__extends)(e,a);function e(t){var n=a.call(this,t)||this;return n.initCfg(),n}return e.prototype.getDefaultCfg=function(){return{id:"",name:"",type:"",locationType:"none",offsetX:0,offsetY:0,animate:!1,capture:!0,updateAutoRender:!1,animateOption:{appear:null,update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},events:null,defaultCfg:{},visible:!0}},e.prototype.clear=function(){},e.prototype.update=function(t){var n=this,o=this.get("defaultCfg")||{};(0,w.each)(t,function(u,l){var c=n.get(l),f=u;c!==u&&((0,w.isObject)(u)&&o[l]&&(f=(0,w.deepMix)({},o[l],u)),n.set(l,f))}),this.updateInner(t),this.afterUpdate(t)},e.prototype.updateInner=function(t){},e.prototype.afterUpdate=function(t){(0,w.hasKey)(t,"visible")&&(t.visible?this.show():this.hide()),(0,w.hasKey)(t,"capture")&&this.setCapture(t.capture)},e.prototype.getLayoutBBox=function(){return this.getBBox()},e.prototype.getLocationType=function(){return this.get("locationType")},e.prototype.getOffset=function(){return{offsetX:this.get("offsetX"),offsetY:this.get("offsetY")}},e.prototype.setOffset=function(t,n){this.update({offsetX:t,offsetY:n})},e.prototype.setLocation=function(t){var n=(0,Z.__assign)({},t);this.update(n)},e.prototype.getLocation=function(){var t=this,n={},o=this.get("locationType"),u=jk[o];return(0,w.each)(u,function(l){n[l]=t.get(l)}),n},e.prototype.isList=function(){return!1},e.prototype.isSlider=function(){return!1},e.prototype.init=function(){},e.prototype.initCfg=function(){var t=this,n=this.get("defaultCfg");(0,w.each)(n,function(o,u){var l=t.get(u);if((0,w.isObject)(l)){var c=(0,w.deepMix)({},o,l);t.set(u,c)}})},e}(pc),yT=Wk,W0="update_status",Vk=["visible","tip","delegateObject"],Hk=["container","group","shapesMap","isRegister","isUpdating","destroyed"],Yk=function(a){(0,Z.__extends)(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=a.prototype.getDefaultCfg.call(this);return(0,Z.__assign)((0,Z.__assign)({},t),{container:null,shapesMap:{},group:null,capture:!0,isRegister:!1,isUpdating:!1,isInit:!0})},e.prototype.remove=function(){this.clear();var t=this.get("group");t.remove()},e.prototype.clear=function(){var t=this.get("group");t.clear(),this.set("shapesMap",{}),this.clearOffScreenCache(),this.set("isInit",!0)},e.prototype.getChildComponentById=function(t){var n=this.getElementById(t),o=n&&n.get("component");return o},e.prototype.getElementById=function(t){return this.get("shapesMap")[t]},e.prototype.getElementByLocalId=function(t){var n=this.getElementId(t);return this.getElementById(n)},e.prototype.getElementsByName=function(t){var n=[];return(0,w.each)(this.get("shapesMap"),function(o){o.get("name")===t&&n.push(o)}),n},e.prototype.getContainer=function(){return this.get("container")},e.prototype.updateInner=function(t){this.offScreenRender(),this.get("updateAutoRender")&&this.render()},e.prototype.render=function(){var t=this.get("offScreenGroup");t||(t=this.offScreenRender());var n=this.get("group");this.updateElements(t,n),this.deleteElements(),this.applyOffset(),this.get("eventInitted")||(this.initEvent(),this.set("eventInitted",!0)),this.set("isInit",!1)},e.prototype.show=function(){var t=this.get("group");t.show(),this.set("visible",!0)},e.prototype.hide=function(){var t=this.get("group");t.hide(),this.set("visible",!1)},e.prototype.setCapture=function(t){var n=this.get("group");n.set("capture",t),this.set("capture",t)},e.prototype.destroy=function(){this.removeEvent(),this.remove(),a.prototype.destroy.call(this)},e.prototype.getBBox=function(){return this.get("group").getCanvasBBox()},e.prototype.getLayoutBBox=function(){var t=this.get("group"),n=this.getInnerLayoutBBox(),o=t.getTotalMatrix();return o&&(n=Nk(o,n)),n},e.prototype.on=function(t,n,o){var u=this.get("group");return u.on(t,n,o),this},e.prototype.off=function(t,n){var o=this.get("group");return o&&o.off(t,n),this},e.prototype.emit=function(t,n){var o=this.get("group");o.emit(t,n)},e.prototype.init=function(){a.prototype.init.call(this),this.get("group")||this.initGroup(),this.offScreenRender()},e.prototype.getInnerLayoutBBox=function(){return this.get("offScreenBBox")||this.get("group").getBBox()},e.prototype.delegateEmit=function(t,n){var o=this.get("group");n.target=o,o.emit(t,n),hT(o,t,n)},e.prototype.createOffScreenGroup=function(){var t=this.get("group"),n=t.getGroupBase(),o=new n({delegateObject:this.getDelegateObject()});return o},e.prototype.applyOffset=function(){var t=this.get("offsetX"),n=this.get("offsetY");this.moveElementTo(this.get("group"),{x:t,y:n})},e.prototype.initGroup=function(){var t=this.get("container");this.set("group",t.addGroup({id:this.get("id"),name:this.get("name"),capture:this.get("capture"),visible:this.get("visible"),isComponent:!0,component:this,delegateObject:this.getDelegateObject()}))},e.prototype.offScreenRender=function(){this.clearOffScreenCache();var t=this.createOffScreenGroup();return this.renderInner(t),this.set("offScreenGroup",t),this.set("offScreenBBox",pT(t)),t},e.prototype.addGroup=function(t,n){this.appendDelegateObject(t,n);var o=t.addGroup(n);return this.get("isRegister")&&this.registerElement(o),o},e.prototype.addShape=function(t,n){this.appendDelegateObject(t,n);var o=t.addShape(n);return this.get("isRegister")&&this.registerElement(o),o},e.prototype.addComponent=function(t,n){var o=n.id,u=n.component,l=(0,Z.__rest)(n,["id","component"]),c=new u((0,Z.__assign)((0,Z.__assign)({},l),{id:o,container:t,updateAutoRender:this.get("updateAutoRender")}));return c.init(),c.render(),this.get("isRegister")&&this.registerElement(c.get("group")),c},e.prototype.initEvent=function(){},e.prototype.removeEvent=function(){var t=this.get("group");t.off()},e.prototype.getElementId=function(t){var n=this.get("id"),o=this.get("name");return n+"-"+o+"-"+t},e.prototype.registerElement=function(t){var n=t.get("id");this.get("shapesMap")[n]=t},e.prototype.unregisterElement=function(t){var n=t.get("id");delete this.get("shapesMap")[n]},e.prototype.moveElementTo=function(t,n){var o=V2(n);t.attr("matrix",o)},e.prototype.addAnimation=function(t,n,o){var u=n.attr("opacity");(0,w.isNil)(u)&&(u=1),n.attr("opacity",0),n.animate({opacity:u},o)},e.prototype.removeAnimation=function(t,n,o){n.animate({opacity:0},o)},e.prototype.updateAnimation=function(t,n,o,u){n.animate(o,u)},e.prototype.updateElements=function(t,n){var o=this,u=this.get("animate"),l=this.get("animateOption"),c=t.getChildren().slice(0),f;(0,w.each)(c,function(h){var v=h.get("id"),p=o.getElementById(v),g=h.get("name");if(p)if(h.get("isComponent")){var E=h.get("component"),D=p.get("component"),G=(0,w.pick)(E.cfg,(0,w.difference)((0,w.keys)(E.cfg),Hk));D.update(G),p.set(W0,"update")}else{var H=o.getReplaceAttrs(p,h);u&&l.update?o.updateAnimation(g,p,H,l.update):p.attr(H),h.isGroup()&&o.updateElements(h,p),(0,w.each)(Vk,function(mt){p.set(mt,h.get(mt))}),Uk(p,h),f=p,p.set(W0,"update")}else{n.add(h);var X=n.getChildren();if(X.splice(X.length-1,1),f){var rt=X.indexOf(f);X.splice(rt+1,0,h)}else X.unshift(h);if(o.registerElement(h),h.set(W0,"add"),h.get("isComponent")){var E=h.get("component");E.set("container",n)}else h.isGroup()&&o.registerNewGroup(h);if(f=h,u){var ht=o.get("isInit")?l.appear:l.enter;ht&&o.addAnimation(g,h,ht)}}})},e.prototype.clearUpdateStatus=function(t){var n=t.getChildren();(0,w.each)(n,function(o){o.set(W0,null)})},e.prototype.clearOffScreenCache=function(){var t=this.get("offScreenGroup");t&&t.destroy(),this.set("offScreenGroup",null),this.set("offScreenBBox",null)},e.prototype.getDelegateObject=function(){var t,n=this.get("name"),o=(t={},t[n]=this,t.component=this,t);return o},e.prototype.appendDelegateObject=function(t,n){var o=t.get("delegateObject");n.delegateObject||(n.delegateObject={}),(0,w.mix)(n.delegateObject,o)},e.prototype.getReplaceAttrs=function(t,n){var o=t.attr(),u=n.attr();return(0,w.each)(o,function(l,c){u[c]===void 0&&(u[c]=void 0)}),u},e.prototype.registerNewGroup=function(t){var n=this,o=t.getChildren();(0,w.each)(o,function(u){n.registerElement(u),u.set(W0,"add"),u.isGroup()&&n.registerNewGroup(u)})},e.prototype.deleteElements=function(){var t=this,n=this.get("shapesMap"),o=[];(0,w.each)(n,function(c,f){!c.get(W0)||c.destroyed?o.push([f,c]):c.set(W0,null)});var u=this.get("animate"),l=this.get("animateOption");(0,w.each)(o,function(c){var f=c[0],h=c[1];if(!h.destroyed){var v=h.get("name");if(u&&l.leave){var p=(0,w.mix)({callback:function(){t.removeElement(h)}},l.leave);t.removeAnimation(v,h,p)}else t.removeElement(h)}delete n[f]})},e.prototype.removeElement=function(t){if(t.get("isGroup")){var n=t.get("component");n&&n.destroy()}t.remove()},e}(yT),Kf=Yk,Y2="\u2026";function Xk(a){for(var e=0,t=0;t<a.length;t++)e+=V0(a,t);return e}function V0(a,e){return a.charCodeAt(e)>0&&a.charCodeAt(e)<128?1:2}function $k(a,e,t){t===void 0&&(t="tail");var n=a.length,o="";if(t==="tail"){for(var u=0,l=0;u<e;){var c=V0(a,l);if(u+c<=e)o+=a[l],u+=V0(a,l),l++;else break}o+=Y2}else if(t==="head"){for(var u=0,l=n-1;u<e;){var c=V0(a,l);if(u+c<=e)o+=a[l],u+=V0(a,l),l--;else break}o=Y2+o}else{for(var f="",h="",u=0,v=0,p=n-1;u<e;){var g=V0(a,v),E=!1;g+u<=e&&(f+=a[v],v++,u+=g,E=!0);var D=V0(a,p);if(D+u<=e&&(h=a[p]+h,u+=D,p--,E=!0),!E)break}o=f+Y2+h}return o}var Kk="\u2026",Zk=2,Qk=400;function Jk(a){for(var e=a.map(function(f){var h=f.attr("text");return(0,w.isNil)(h)?"":""+h}),t=0,n=0,o=0;o<e.length;o+=1){for(var u=0,l=0;l<=e[o].length;l+=1){var c=e[o].charCodeAt(l);c>=19968&&c<=40869?u+=2:u+=1}u>t&&(t=u,n=o)}return a[n].getBBox().width}function X2(a){if(a.length>Qk)return Jk(a);var e=0;return(0,w.each)(a,function(t){var n=t.getBBox(),o=n.width;e<o&&(e=o)}),e}function qk(a,e){var t=e.getCanvasBBox();return a?t.width:t.height}function klt(a,e){return a.getBBox().width<e}function Sx(a,e,t,n){var o;n===void 0&&(n="tail");var u=(o=e.attr("text"))!==null&&o!==void 0?o:"";if(n==="tail"){var l=(0,w.pick)(e.attr(),["fontSize","fontFamily","fontWeight","fontStyle","fontVariant"]),c=(0,w.getEllipsisText)(u,t,l,"\u2026");return u!==c?(e.attr("text",c),e.set("tip",u),!0):(e.set("tip",null),!1)}var f=qk(a,e),h=Xk(u),v=!1;if(t<f){var p=Math.floor(t/f*h)-Zk,g=void 0;p>=0?g=$k(u,p,n):g=Kk,g&&(e.attr("text",g),v=!0)}return v?e.set("tip",u):e.set("tip",null),v}function eE(a,e){var t=e.x,n=e.y,o=e.content,u=e.style,l=e.id,c=e.name,f=e.rotate,h=e.maxLength,v=e.autoEllipsis,p=e.isVertical,g=e.ellipsisPosition,E=e.background,D=a.addGroup({id:l+"-group",name:c+"-group",attrs:{x:t,y:n}}),G=D.addShape({type:"text",id:l,name:c,attrs:(0,Z.__assign)({x:0,y:0,text:o},u)}),H=qb((0,w.get)(E,"padding",0));if(h&&v){var X=h-(H[1]+H[3]);Sx(!p,G,X,g)}if(E){var rt=(0,w.get)(E,"style",{}),ht=G.getCanvasBBox(),mt=ht.minX,Dt=ht.minY,kt=ht.width,Vt=ht.height,te=D.addShape("rect",{id:l+"-bg",name:l+"-bg",attrs:(0,Z.__assign)({x:mt-H[3],y:Dt-H[0],width:kt+H[1]+H[3],height:Vt+H[0]+H[2]},rt)});te.toBack()}xx(D,t,n),vT(D,f,t,n)}var oo={fontFamily:`
  BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue",
  Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",
  SimSun, "sans-serif"`,textColor:"#2C3542",activeTextColor:"#333333",uncheckedColor:"#D8D8D8",lineColor:"#416180",regionColor:"#CCD7EB",verticalAxisRotate:-Math.PI/4,horizontalAxisRotate:Math.PI/4},tB=function(a){(0,Z.__extends)(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=a.prototype.getDefaultCfg.call(this);return(0,Z.__assign)((0,Z.__assign)({},t),{name:"annotation",type:"line",locationType:"region",start:null,end:null,style:{},text:null,defaultCfg:{style:{fill:oo.textColor,fontSize:12,textAlign:"center",textBaseline:"bottom",fontFamily:oo.fontFamily},text:{position:"center",autoRotate:!0,content:null,offsetX:0,offsetY:0,style:{stroke:oo.lineColor,lineWidth:1}}}})},e.prototype.renderInner=function(t){this.renderLine(t),this.get("text")&&this.renderLabel(t)},e.prototype.renderLine=function(t){var n=this.get("start"),o=this.get("end"),u=this.get("style");this.addShape(t,{type:"line",id:this.getElementId("line"),name:"annotation-line",attrs:(0,Z.__assign)({x1:n.x,y1:n.y,x2:o.x,y2:o.y},u)})},e.prototype.getLabelPoint=function(t,n,o){var u;return o==="start"?u=0:o==="center"?u=.5:(0,w.isString)(o)&&o.indexOf("%")!==-1?u=parseInt(o,10)/100:(0,w.isNumber)(o)?u=o:u=1,(u>1||u<0)&&(u=1),{x:j0(t.x,n.x,u),y:j0(t.y,n.y,u)}},e.prototype.renderLabel=function(t){var n=this.get("text"),o=this.get("start"),u=this.get("end"),l=n.position,c=n.content,f=n.style,h=n.offsetX,v=n.offsetY,p=n.autoRotate,g=n.maxLength,E=n.autoEllipsis,D=n.ellipsisPosition,G=n.background,H=n.isVertical,X=H===void 0?!1:H,rt=this.getLabelPoint(o,u,l),ht=rt.x+h,mt=rt.y+v,Dt={id:this.getElementId("line-text"),name:"annotation-line-text",x:ht,y:mt,content:c,style:f,maxLength:g,autoEllipsis:E,ellipsisPosition:D,background:G,isVertical:X};if(p){var kt=[u.x-o.x,u.y-o.y];Dt.rotate=Math.atan2(kt[1],kt[0])}eE(t,Dt)},e}(Kf),eB=tB,rB=function(a){(0,Z.__extends)(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=a.prototype.getDefaultCfg.call(this);return(0,Z.__assign)((0,Z.__assign)({},t),{name:"annotation",type:"text",locationType:"point",x:0,y:0,content:"",rotate:null,style:{},background:null,maxLength:null,autoEllipsis:!0,isVertical:!1,ellipsisPosition:"tail",defaultCfg:{style:{fill:oo.textColor,fontSize:12,textAlign:"center",textBaseline:"middle",fontFamily:oo.fontFamily}}})},e.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetLocation()},e.prototype.renderInner=function(t){var n=this.getLocation(),o=n.x,u=n.y,l=this.get("content"),c=this.get("style"),f=this.getElementId("text"),h=this.get("name")+"-text",v=this.get("maxLength"),p=this.get("autoEllipsis"),g=this.get("isVertical"),E=this.get("ellipsisPosition"),D=this.get("background"),G=this.get("rotate"),H={id:f,name:h,x:o,y:u,content:l,style:c,maxLength:v,autoEllipsis:p,isVertical:g,ellipsisPosition:E,background:D,rotate:G};eE(t,H)},e.prototype.resetLocation=function(){var t=this.getElementByLocalId("text-group");if(t){var n=this.getLocation(),o=n.x,u=n.y,l=this.get("rotate");xx(t,o,u),vT(t,l,o,u)}},e}(Kf),nB=rB,iB=function(a){(0,Z.__extends)(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=a.prototype.getDefaultCfg.call(this);return(0,Z.__assign)((0,Z.__assign)({},t),{name:"annotation",type:"arc",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:Math.PI*3/2,style:{stroke:"#999",lineWidth:1}})},e.prototype.renderInner=function(t){this.renderArc(t)},e.prototype.getArcPath=function(){var t=this.getLocation(),n=t.center,o=t.radius,u=t.startAngle,l=t.endAngle,c=Cm(n,o,u),f=Cm(n,o,l),h=l-u>Math.PI?1:0,v=[["M",c.x,c.y]];if(l-u===Math.PI*2){var p=Cm(n,o,u+Math.PI);v.push(["A",o,o,0,h,1,p.x,p.y]),v.push(["A",o,o,0,h,1,f.x,f.y])}else v.push(["A",o,o,0,h,1,f.x,f.y]);return v},e.prototype.renderArc=function(t){var n=this.getArcPath(),o=this.get("style");this.addShape(t,{type:"path",id:this.getElementId("arc"),name:"annotation-arc",attrs:(0,Z.__assign)({path:n},o)})},e}(Kf),aB=iB,oB=function(a){(0,Z.__extends)(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=a.prototype.getDefaultCfg.call(this);return(0,Z.__assign)((0,Z.__assign)({},t),{name:"annotation",type:"region",locationType:"region",start:null,end:null,style:{},defaultCfg:{style:{lineWidth:0,fill:oo.regionColor,opacity:.4}}})},e.prototype.renderInner=function(t){this.renderRegion(t)},e.prototype.renderRegion=function(t){var n=this.get("start"),o=this.get("end"),u=this.get("style"),l=bx({start:n,end:o});this.addShape(t,{type:"rect",id:this.getElementId("region"),name:"annotation-region",attrs:(0,Z.__assign)({x:l.x,y:l.y,width:l.width,height:l.height},u)})},e}(Kf),sB=oB,uB=function(a){(0,Z.__extends)(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=a.prototype.getDefaultCfg.call(this);return(0,Z.__assign)((0,Z.__assign)({},t),{name:"annotation",type:"image",locationType:"region",start:null,end:null,src:null,style:{}})},e.prototype.renderInner=function(t){this.renderImage(t)},e.prototype.getImageAttrs=function(){var t=this.get("start"),n=this.get("end"),o=this.get("style"),u=bx({start:t,end:n}),l=this.get("src");return(0,Z.__assign)({x:u.x,y:u.y,img:l,width:u.width,height:u.height},o)},e.prototype.renderImage=function(t){this.addShape(t,{type:"image",id:this.getElementId("image"),name:"annotation-image",attrs:this.getImageAttrs()})},e}(Kf),lB=uB,cB=function(a){(0,Z.__extends)(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=a.prototype.getDefaultCfg.call(this);return(0,Z.__assign)((0,Z.__assign)({},t),{name:"annotation",type:"dataMarker",locationType:"point",x:0,y:0,point:{},line:{},text:{},direction:"upward",autoAdjust:!0,coordinateBBox:null,defaultCfg:{point:{display:!0,style:{r:3,fill:"#FFFFFF",stroke:"#1890FF",lineWidth:2}},line:{display:!0,length:20,style:{stroke:oo.lineColor,lineWidth:1}},text:{content:"",display:!0,style:{fill:oo.textColor,opacity:.65,fontSize:12,textAlign:"start",fontFamily:oo.fontFamily}}}})},e.prototype.renderInner=function(t){(0,w.get)(this.get("line"),"display")&&this.renderLine(t),(0,w.get)(this.get("text"),"display")&&this.renderText(t),(0,w.get)(this.get("point"),"display")&&this.renderPoint(t),this.get("autoAdjust")&&this.autoAdjust(t)},e.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x")+this.get("offsetX"),y:this.get("y")+this.get("offsetY")})},e.prototype.renderPoint=function(t){var n=this.getShapeAttrs().point;this.addShape(t,{type:"circle",id:this.getElementId("point"),name:"annotation-point",attrs:n})},e.prototype.renderLine=function(t){var n=this.getShapeAttrs().line;this.addShape(t,{type:"path",id:this.getElementId("line"),name:"annotation-line",attrs:n})},e.prototype.renderText=function(t){var n=this.getShapeAttrs().text,o=n.x,u=n.y,l=n.text,c=(0,Z.__rest)(n,["x","y","text"]),f=this.get("text"),h=f.background,v=f.maxLength,p=f.autoEllipsis,g=f.isVertival,E=f.ellipsisPosition,D={x:o,y:u,id:this.getElementId("text"),name:"annotation-text",content:l,style:c,background:h,maxLength:v,autoEllipsis:p,isVertival:g,ellipsisPosition:E};eE(t,D)},e.prototype.autoAdjust=function(t){var n=this.get("direction"),o=this.get("x"),u=this.get("y"),l=(0,w.get)(this.get("line"),"length",0),c=this.get("coordinateBBox"),f=t.getBBox(),h=f.minX,v=f.maxX,p=f.minY,g=f.maxY,E=t.findById(this.getElementId("text-group")),D=t.findById(this.getElementId("text")),G=t.findById(this.getElementId("line"));if(!!c){if(E){if(o+h<=c.minX){var H=c.minX-(o+h);xx(E,E.attr("x")+H,E.attr("y"))}if(o+v>=c.maxX){var H=o+v-c.maxX;xx(E,E.attr("x")-H,E.attr("y"))}}if(n==="upward"&&u+p<=c.minY||n!=="upward"&&u+g>=c.maxY){var X=void 0,rt=void 0;n==="upward"&&u+p<=c.minY?(X="top",rt=1):(X="bottom",rt=-1),D.attr("textBaseline",X),G&&G.attr("path",[["M",0,0],["L",0,l*rt]]),xx(E,E.attr("x"),(l+2)*rt)}}},e.prototype.getShapeAttrs=function(){var t=(0,w.get)(this.get("line"),"display"),n=(0,w.get)(this.get("point"),"style",{}),o=(0,w.get)(this.get("line"),"style",{}),u=(0,w.get)(this.get("text"),"style",{}),l=this.get("direction"),c=t?(0,w.get)(this.get("line"),"length",0):0,f=l==="upward"?-1:1;return{point:(0,Z.__assign)({x:0,y:0},n),line:(0,Z.__assign)({path:[["M",0,0],["L",0,c*f]]},o),text:(0,Z.__assign)({x:0,y:(c+2)*f,text:(0,w.get)(this.get("text"),"content",""),textBaseline:l==="upward"?"bottom":"top"},u)}},e}(Kf),fB=cB,hB=function(a){(0,Z.__extends)(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=a.prototype.getDefaultCfg.call(this);return(0,Z.__assign)((0,Z.__assign)({},t),{name:"annotation",type:"dataRegion",locationType:"points",points:[],lineLength:0,region:{},text:{},defaultCfg:{region:{style:{lineWidth:0,fill:oo.regionColor,opacity:.4}},text:{content:"",style:{textAlign:"center",textBaseline:"bottom",fontSize:12,fill:oo.textColor,fontFamily:oo.fontFamily}}}})},e.prototype.renderInner=function(t){var n=(0,w.get)(this.get("region"),"style",{}),o=(0,w.get)(this.get("text"),"style",{}),u=this.get("lineLength")||0,l=this.get("points");if(!!l.length){var c=Bk(l),f=[];f.push(["M",l[0].x,c.minY-u]),l.forEach(function(v){f.push(["L",v.x,v.y])}),f.push(["L",l[l.length-1].x,l[l.length-1].y-u]),this.addShape(t,{type:"path",id:this.getElementId("region"),name:"annotation-region",attrs:(0,Z.__assign)({path:f},n)});var h=(0,Z.__assign)({id:this.getElementId("text"),name:"annotation-text",x:(c.minX+c.maxX)/2,y:c.minY-u},this.get("text"));eE(t,h)}},e}(Kf),dB=hB,vB=function(a){(0,Z.__extends)(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=a.prototype.getDefaultCfg.call(this);return(0,Z.__assign)((0,Z.__assign)({},t),{name:"annotation",type:"regionFilter",locationType:"region",start:null,end:null,color:null,shape:[]})},e.prototype.renderInner=function(t){var n=this,o=this.get("start"),u=this.get("end"),l=this.addGroup(t,{id:this.getElementId("region-filter"),capture:!1});(0,w.each)(this.get("shapes"),function(f,h){var v=f.get("type"),p=(0,w.clone)(f.attr());n.adjustShapeAttrs(p),n.addShape(l,{id:n.getElementId("shape-"+v+"-"+h),capture:!1,type:v,attrs:p})});var c=bx({start:o,end:u});l.setClip({type:"rect",attrs:{x:c.minX,y:c.minY,width:c.width,height:c.height}})},e.prototype.adjustShapeAttrs=function(t){var n=this.get("color");t.fill&&(t.fill=t.fillStyle=n),t.stroke=t.strokeStyle=n},e}(Kf),pB=vB,gB=function(a){(0,Z.__extends)(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=a.prototype.getDefaultCfg.call(this);return(0,Z.__assign)((0,Z.__assign)({},t),{name:"annotation",type:"shape",draw:w.noop})},e.prototype.renderInner=function(t){var n=this.get("render");(0,w.isFunction)(n)&&n(t)},e}(Kf),yB=gB;function Vd(a,e,t){var n;try{n=window.getComputedStyle?window.getComputedStyle(a,null)[e]:a.style[e]}catch(o){}finally{n=n===void 0?t:n}return n}function mB(a,e){var t=Vd(a,"width",e);return t==="auto"&&(t=a.offsetWidth),parseFloat(t)}function xB(a,e){var t=mB(a,e),n=parseFloat(Vd(a,"borderLeftWidth"))||0,o=parseFloat(Vd(a,"paddingLeft"))||0,u=parseFloat(Vd(a,"paddingRight"))||0,l=parseFloat(Vd(a,"borderRightWidth"))||0,c=parseFloat(Vd(a,"marginRight"))||0,f=parseFloat(Vd(a,"marginLeft"))||0;return t+n+l+o+u+f+c}function bB(a,e){var t=Vd(a,"height",e);return t==="auto"&&(t=a.offsetHeight),parseFloat(t)}function EB(a,e){var t=bB(a,e),n=parseFloat(Vd(a,"borderTopWidth"))||0,o=parseFloat(Vd(a,"paddingTop"))||0,u=parseFloat(Vd(a,"paddingBottom"))||0,l=parseFloat(Vd(a,"borderBottomWidth"))||0,c=parseFloat(Vd(a,"marginTop"))||0,f=parseFloat(Vd(a,"marginBottom"))||0;return t+n+l+o+u+c+f}var SB=function(a){(0,Z.__extends)(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=a.prototype.getDefaultCfg.call(this);return(0,Z.__assign)((0,Z.__assign)({},t),{container:null,containerTpl:"<div></div>",updateAutoRender:!0,containerClassName:"",parent:null})},e.prototype.getContainer=function(){return this.get("container")},e.prototype.show=function(){var t=this.get("container");t.style.display="",this.set("visible",!0)},e.prototype.hide=function(){var t=this.get("container");t.style.display="none",this.set("visible",!1)},e.prototype.setCapture=function(t){var n=this.getContainer(),o=t?"auto":"none";n.style.pointerEvents=o,this.set("capture",t)},e.prototype.getBBox=function(){var t=this.getContainer(),n=parseFloat(t.style.left)||0,o=parseFloat(t.style.top)||0;return Ex(n,o,t.clientWidth,t.clientHeight)},e.prototype.clear=function(){var t=this.get("container");H2(t)},e.prototype.destroy=function(){this.removeEvent(),this.removeDom(),a.prototype.destroy.call(this)},e.prototype.init=function(){a.prototype.init.call(this),this.initContainer(),this.initDom(),this.resetStyles(),this.applyStyles(),this.initEvent(),this.initCapture(),this.initVisible()},e.prototype.initCapture=function(){this.setCapture(this.get("capture"))},e.prototype.initVisible=function(){this.get("visible")?this.show():this.hide()},e.prototype.initDom=function(){},e.prototype.initContainer=function(){var t=this.get("container");if((0,w.isNil)(t)){t=this.createDom();var n=this.get("parent");(0,w.isString)(n)&&(n=document.getElementById(n),this.set("parent",n)),n.appendChild(t),this.get("containerId")&&t.setAttribute("id",this.get("containerId")),this.set("container",t)}else(0,w.isString)(t)&&(t=document.getElementById(t),this.set("container",t));this.get("parent")||this.set("parent",t.parentNode)},e.prototype.resetStyles=function(){var t=this.get("domStyles"),n=this.get("defaultStyles");t?t=(0,w.deepMix)({},n,t):t=n,this.set("domStyles",t)},e.prototype.applyStyles=function(){var t=this.get("domStyles");if(!!t){var n=this.getContainer();this.applyChildrenStyles(n,t);var o=this.get("containerClassName");if(o&&kk(n,o)){var u=t[o];Ri(n,u)}}},e.prototype.applyChildrenStyles=function(t,n){(0,w.each)(n,function(o,u){var l=t.getElementsByClassName(u);(0,w.each)(l,function(c){Ri(c,o)})})},e.prototype.applyStyle=function(t,n){var o=this.get("domStyles");Ri(n,o[t])},e.prototype.createDom=function(){var t=this.get("containerTpl");return Fa(t)},e.prototype.initEvent=function(){},e.prototype.removeDom=function(){var t=this.get("container");t&&t.parentNode&&t.parentNode.removeChild(t)},e.prototype.removeEvent=function(){},e.prototype.updateInner=function(t){(0,w.hasKey)(t,"domStyles")&&(this.resetStyles(),this.applyStyles()),this.resetPosition()},e.prototype.resetPosition=function(){},e}(yT),$2=SB,wB=function(a){(0,Z.__extends)(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=a.prototype.getDefaultCfg.call(this);return(0,Z.__assign)((0,Z.__assign)({},t),{name:"annotation",type:"html",locationType:"point",x:0,y:0,containerTpl:'<div class="g2-html-annotation"></div>',alignX:"left",alignY:"top",html:"",zIndex:7})},e.prototype.render=function(){var t=this.getContainer(),n=this.get("html");H2(t);var o=(0,w.isFunction)(n)?n(t):n;if((0,w.isElement)(o))t.appendChild(o);else if((0,w.isString)(o)||(0,w.isNumber)(o)){var u=Fa(""+o);u&&t.appendChild(u)}this.resetPosition()},e.prototype.resetPosition=function(){var t=this.getContainer(),n=this.getLocation(),o=n.x,u=n.y,l=this.get("alignX"),c=this.get("alignY"),f=this.get("offsetX"),h=this.get("offsetY"),v=xB(t),p=EB(t),g={x:o,y:u};l==="middle"?g.x-=Math.round(v/2):l==="right"&&(g.x-=Math.round(v)),c==="middle"?g.y-=Math.round(p/2):c==="bottom"&&(g.y-=Math.round(p)),f&&(g.x+=f),h&&(g.y+=h),Ri(t,{position:"absolute",left:g.x+"px",top:g.y+"px",zIndex:this.get("zIndex")})},e}($2),_B=wB;function wx(a,e,t){var n=e+"Style",o=null;return(0,w.each)(t,function(u,l){a[l]&&u[n]&&(o||(o={}),(0,w.mix)(o,u[n]))}),o}var AB=function(a){(0,Z.__extends)(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=a.prototype.getDefaultCfg.call(this);return(0,Z.__assign)((0,Z.__assign)({},t),{name:"axis",ticks:[],line:{},tickLine:{},subTickLine:null,title:null,label:{},verticalFactor:1,verticalLimitLength:null,overlapOrder:["autoRotate","autoEllipsis","autoHide"],tickStates:{},optimize:{},defaultCfg:{line:{style:{lineWidth:1,stroke:oo.lineColor}},tickLine:{style:{lineWidth:1,stroke:oo.lineColor},alignTick:!0,length:5,displayWithLabel:!0},subTickLine:{style:{lineWidth:1,stroke:oo.lineColor},count:4,length:2},label:{autoRotate:!0,autoHide:!1,autoEllipsis:!1,style:{fontSize:12,fill:oo.textColor,fontFamily:oo.fontFamily,fontWeight:"normal"},offset:10,offsetX:0,offsetY:0},title:{autoRotate:!0,spacing:5,position:"center",style:{fontSize:12,fill:oo.textColor,textBaseline:"middle",fontFamily:oo.fontFamily,textAlign:"center"}},tickStates:{active:{labelStyle:{fontWeight:500},tickLineStyle:{lineWidth:2}},inactive:{labelStyle:{fill:oo.uncheckedColor}}},optimize:{enable:!0,threshold:400}},theme:{}})},e.prototype.renderInner=function(t){this.get("line")&&this.drawLine(t),this.drawTicks(t),this.get("title")&&this.drawTitle(t)},e.prototype.isList=function(){return!0},e.prototype.getItems=function(){return this.get("ticks")},e.prototype.setItems=function(t){this.update({ticks:t})},e.prototype.updateItem=function(t,n){(0,w.mix)(t,n),this.clear(),this.render()},e.prototype.clearItems=function(){var t=this.getElementByLocalId("label-group");t&&t.clear()},e.prototype.setItemState=function(t,n,o){t[n]=o,this.updateTickStates(t)},e.prototype.hasState=function(t,n){return!!t[n]},e.prototype.getItemStates=function(t){var n=this.get("tickStates"),o=[];return(0,w.each)(n,function(u,l){t[l]&&o.push(l)}),o},e.prototype.clearItemsState=function(t){var n=this,o=this.getItemsByState(t);(0,w.each)(o,function(u){n.setItemState(u,t,!1)})},e.prototype.getItemsByState=function(t){var n=this,o=this.getItems();return(0,w.filter)(o,function(u){return n.hasState(u,t)})},e.prototype.getSidePoint=function(t,n){var o=this,u=o.getSideVector(n,t);return{x:t.x+u[0],y:t.y+u[1]}},e.prototype.getTextAnchor=function(t){var n;return(0,w.isNumberEqual)(t[0],0)?n="center":t[0]>0?n="start":t[0]<0&&(n="end"),n},e.prototype.getTextBaseline=function(t){var n;return(0,w.isNumberEqual)(t[1],0)?n="middle":t[1]>0?n="top":t[1]<0&&(n="bottom"),n},e.prototype.processOverlap=function(t){},e.prototype.drawLine=function(t){var n=this.getLinePath(),o=this.get("line");this.addShape(t,{type:"path",id:this.getElementId("line"),name:"axis-line",attrs:(0,w.mix)({path:n},o.style)})},e.prototype.getTickLineItems=function(t){var n=this,o=[],u=this.get("tickLine"),l=u.alignTick,c=u.length,f=1,h=t.length;return h>=2&&(f=t[1].value-t[0].value),(0,w.each)(t,function(v){var p=v.point;l||(p=n.getTickPoint(v.value-f/2));var g=n.getSidePoint(p,c);o.push({startPoint:p,tickValue:v.value,endPoint:g,tickId:v.id,id:"tickline-"+v.id})}),o},e.prototype.getSubTickLineItems=function(t){var n=[],o=this.get("subTickLine"),u=o.count,l=t.length;if(l>=2)for(var c=0;c<l-1;c++)for(var f=t[c],h=t[c+1],v=0;v<u;v++){var p=(v+1)/(u+1),g=(1-p)*f.tickValue+p*h.tickValue,E=this.getTickPoint(g),D=this.getSidePoint(E,o.length);n.push({startPoint:E,endPoint:D,tickValue:g,id:"sub-"+f.id+"-"+v})}return n},e.prototype.getTickLineAttrs=function(t,n,o,u){var l=this.get(n).style,c={points:[t.startPoint,t.endPoint]},f=(0,w.get)(this.get("theme"),["tickLine","style"],{});l=(0,w.isFunction)(l)?(0,w.mix)({},f,l(c,o,u)):l;var h=t.startPoint,v=t.endPoint;return(0,Z.__assign)({x1:h.x,y1:h.y,x2:v.x,y2:v.y},l)},e.prototype.drawTick=function(t,n,o,u,l){this.addShape(n,{type:"line",id:this.getElementId(t.id),name:"axis-"+o,attrs:this.getTickLineAttrs(t,o,u,l)})},e.prototype.drawTickLines=function(t){var n=this,o=this.get("ticks"),u=this.get("subTickLine"),l=this.getTickLineItems(o),c=this.addGroup(t,{name:"axis-tickline-group",id:this.getElementId("tickline-group")}),f=this.get("tickLine");if((0,w.each)(l,function(v,p){if(f.displayWithLabel){var g=n.getElementId("label-"+v.tickId);t.findById(g)&&n.drawTick(v,c,"tickLine",p,l)}else n.drawTick(v,c,"tickLine",p,l)}),u){var h=this.getSubTickLineItems(l);(0,w.each)(h,function(v,p){n.drawTick(v,c,"subTickLine",p,h)})}},e.prototype.processTicks=function(){var t=this,n=this.get("ticks");(0,w.each)(n,function(o){o.point=t.getTickPoint(o.value),(0,w.isNil)(o.id)&&(o.id=o.name)})},e.prototype.drawTicks=function(t){var n=this;this.optimizeTicks(),this.processTicks(),this.get("label")&&this.drawLabels(t),this.get("tickLine")&&this.drawTickLines(t);var o=this.get("ticks");(0,w.each)(o,function(u){n.applyTickStates(u,t)})},e.prototype.optimizeTicks=function(){var t=this.get("optimize"),n=this.get("ticks");if(t&&t.enable&&t.threshold>0){var o=(0,w.size)(n);if(o>t.threshold){var u=Math.ceil(o/t.threshold),l=n.filter(function(c,f){return f%u===0});this.set("ticks",l),this.set("originalTicks",n)}}},e.prototype.getLabelAttrs=function(t,n,o){var u=this.get("label"),l=u.offset,c=u.offsetX,f=u.offsetY,h=u.rotate,v=u.formatter,p=this.getSidePoint(t.point,l),g=this.getSideVector(l,p),E=v?v(t.name,t,n):t.name,D=u.style;D=(0,w.isFunction)(D)?(0,w.get)(this.get("theme"),["label","style"],{}):D;var G=(0,w.mix)({x:p.x+c,y:p.y+f,text:E,textAlign:this.getTextAnchor(g),textBaseline:this.getTextBaseline(g)},D);return h&&(G.matrix=U0(p,h)),G},e.prototype.drawLabels=function(t){var n=this,o=this.get("ticks"),u=this.addGroup(t,{name:"axis-label-group",id:this.getElementId("label-group")});(0,w.each)(o,function(g,E){n.addShape(u,{type:"text",name:"axis-label",id:n.getElementId("label-"+g.id),attrs:n.getLabelAttrs(g,E,o),delegateObject:{tick:g,item:g,index:E}})}),this.processOverlap(u);var l=u.getChildren(),c=(0,w.get)(this.get("theme"),["label","style"],{}),f=this.get("label"),h=f.style,v=f.formatter;if((0,w.isFunction)(h)){var p=l.map(function(g){return(0,w.get)(g.get("delegateObject"),"tick")});(0,w.each)(l,function(g,E){var D=g.get("delegateObject").tick,G=v?v(D.name,D,E):D.name,H=(0,w.mix)({},c,h(G,E,p));g.attr(H)})}},e.prototype.getTitleAttrs=function(){var t=this.get("title"),n=t.style,o=t.position,u=t.offset,l=t.spacing,c=l===void 0?0:l,f=t.autoRotate,h=n.fontSize,v=.5;o==="start"?v=0:o==="end"&&(v=1);var p=this.getTickPoint(v),g=this.getSidePoint(p,u||c+h/2),E=(0,w.mix)({x:g.x,y:g.y,text:t.text},n),D=t.rotate,G=D;if((0,w.isNil)(D)&&f){var H=this.getAxisVector(p),X=[1,0];G=yl(H,X,!0)}if(G){var rt=U0(g,G);E.matrix=rt}return E},e.prototype.drawTitle=function(t){this.addShape(t,{type:"text",id:this.getElementId("title"),name:"axis-title",attrs:this.getTitleAttrs()})},e.prototype.applyTickStates=function(t,n){var o=this.getItemStates(t);if(o.length){var u=this.get("tickStates"),l=this.getElementId("label-"+t.id),c=n.findById(l);if(c){var f=wx(t,"label",u);f&&c.attr(f)}var h=this.getElementId("tickline-"+t.id),v=n.findById(h);if(v){var p=wx(t,"tickLine",u);p&&v.attr(p)}}},e.prototype.updateTickStates=function(t){var n=this.getItemStates(t),o=this.get("tickStates"),u=this.get("label"),l=this.getElementByLocalId("label-"+t.id),c=this.get("tickLine"),f=this.getElementByLocalId("tickline-"+t.id);if(n.length){if(l){var h=wx(t,"label",o);h&&l.attr(h)}if(f){var v=wx(t,"tickLine",o);v&&f.attr(v)}}else l&&l.attr(u.style),f&&f.attr(c.style)},e}(Kf),mT=AB;function K2(a,e,t,n){var o=e.getChildren(),u=!1;return(0,w.each)(o,function(l){var c=Sx(a,l,t,n);u=u||c}),u}function CB(){return xT}function TB(a,e,t){return K2(a,e,t,"head")}function xT(a,e,t){return K2(a,e,t,"tail")}function MB(a,e,t){return K2(a,e,t,"middle")}function IB(a){var e=a.attr("matrix");return e&&e[0]!==1}function bT(a){var e=IB(a)?Fk(a.attr("matrix")):0;return e%360}function Z2(a,e,t,n){var o=!1,u=bT(e),l=Math.abs(a?t.attr("y")-e.attr("y"):t.attr("x")-e.attr("x")),c=(a?t.attr("y")>e.attr("y"):t.attr("x")>e.attr("x"))?e.getBBox():t.getBBox();if(a){var f=Math.abs(Math.cos(u));tE(f,0,Math.PI/180)?o=c.width+n>l:o=c.height/f+n>l}else{var f=Math.abs(Math.sin(u));tE(f,0,Math.PI/180)?o=c.width+n>l:o=c.height/f+n>l}return o}function _x(a,e,t,n){var o=(n==null?void 0:n.minGap)||0,u=e.getChildren().slice().filter(function(D){return D.get("visible")});if(!u.length)return!1;var l=!1;t&&u.reverse();for(var c=u.length,f=u[0],h=f,v=1;v<c;v++){var p=u[v],g=p.getBBox(),E=Z2(a,h,p,o);E?(p.hide(),l=!0):h=p}return l}function ET(a,e,t){var n=(t==null?void 0:t.minGap)||0,o=e.getChildren().slice();if(o.length<2)return!1;var u=!1,l=o[0],c=l.getBBox(),f=o[1],h=o.length,v=bT(l),p=Math.abs(a?f.attr("y")-l.attr("y"):f.attr("x")-l.attr("x")),g=0;if(a){var E=Math.abs(Math.cos(v));if(tE(E,0,Math.PI/180)){var D=X2(o);g=(D+n)/p}else g=(c.height/E+n)/p}else{var E=Math.abs(Math.sin(v));if(tE(E,0,Math.PI/180)){var D=X2(o);g=(D+n)/p}else g=(c.height/E+n)/p}if(g>1){g=Math.ceil(g);for(var G=0;G<h;G++)G%g!==0&&(o[G].hide(),u=!0)}return u}function OB(){return ST}function DB(a,e,t,n){return _x(a,e,!1,n)}function PB(a,e,t,n){return _x(a,e,!0,n)}function LB(a,e,t,n){var o=(n==null?void 0:n.minGap)||0,u=e.getChildren().slice();if(u.length<=2)return!1;for(var l=!1,c=u.length,f=u[0],h=u[c-1],v=f,p=1;p<c-1;p++){var g=u[p],E=g.getBBox(),D=Z2(a,v,g,o);D?(g.hide(),l=!0):v=g}var G=Z2(a,v,h,o);return G&&(v.hide(),l=!0),l}function ST(a,e,t,n){var o=ET(a,e,n);return _x(a,e,!1)&&(o=!0),o}function RB(a,e,t,n){var o=e.getChildren().slice(),u=ET(a,e,n);if(o.length>2){var l=o[0],c=o[o.length-1];l.get("visible")||(l.show(),_x(a,e,!1,n)&&(u=!0)),c.get("visible")||(c.show(),_x(a,e,!0,n)&&(u=!0))}return u}function FB(a,e){(0,w.each)(a,function(t){var n=t.attr("x"),o=t.attr("y"),u=U0({x:n,y:o},e);t.attr("matrix",u)})}function wT(a,e,t,n){var o=e.getChildren();if(!o.length||!a&&o.length<2)return!1;var u=X2(o),l=!1;if(a)l=!!t&&u>t;else{var c=Math.abs(o[1].attr("x")-o[0].attr("x"));l=u>c}if(l){var f=n(t,u);FB(o,f)}return l}function NB(){return _T}function _T(a,e,t,n){return wT(a,e,t,function(){return(0,w.isNumber)(n)?n:a?oo.verticalAxisRotate:oo.horizontalAxisRotate})}function kB(a,e,t){return wT(a,e,t,function(n,o){if(!n)return a?oo.verticalAxisRotate:oo.horizontalAxisRotate;if(a)return-Math.acos(n/o);var u=0;return n>o?u=Math.PI/4:(u=Math.asin(n/o),u>Math.PI/4&&(u=Math.PI/4)),u})}var BB=function(a){(0,Z.__extends)(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=a.prototype.getDefaultCfg.call(this);return(0,Z.__assign)((0,Z.__assign)({},t),{type:"line",locationType:"region",start:null,end:null})},e.prototype.getLinePath=function(){var t=this.get("start"),n=this.get("end"),o=[];return o.push(["M",t.x,t.y]),o.push(["L",n.x,n.y]),o},e.prototype.getInnerLayoutBBox=function(){var t=this.get("start"),n=this.get("end"),o=a.prototype.getInnerLayoutBBox.call(this),u=Math.min(t.x,n.x,o.x),l=Math.min(t.y,n.y,o.y),c=Math.max(t.x,n.x,o.maxX),f=Math.max(t.y,n.y,o.maxY);return{x:u,y:l,minX:u,minY:l,maxX:c,maxY:f,width:c-u,height:f-l}},e.prototype.isVertical=function(){var t=this.get("start"),n=this.get("end");return(0,w.isNumberEqual)(t.x,n.x)},e.prototype.isHorizontal=function(){var t=this.get("start"),n=this.get("end");return(0,w.isNumberEqual)(t.y,n.y)},e.prototype.getTickPoint=function(t){var n=this,o=n.get("start"),u=n.get("end"),l=u.x-o.x,c=u.y-o.y;return{x:o.x+l*t,y:o.y+c*t}},e.prototype.getSideVector=function(t){var n=this.getAxisVector(),o=Ps([0,0],n),u=this.get("verticalFactor"),l=[o[1],o[0]*-1];return Ua([0,0],l,t*u)},e.prototype.getAxisVector=function(){var t=this.get("start"),n=this.get("end");return[n.x-t.x,n.y-t.y]},e.prototype.processOverlap=function(t){var n=this,o=this.isVertical(),u=this.isHorizontal();if(!(!o&&!u)){var l=this.get("label"),c=this.get("title"),f=this.get("verticalLimitLength"),h=l.offset,v=f,p=0,g=0;c&&(p=c.style.fontSize,g=c.spacing),v&&(v=v-h-g-p);var E=this.get("overlapOrder");if((0,w.each)(E,function(H){l[H]&&n.canProcessOverlap(H)&&n.autoProcessOverlap(H,l[H],t,v)}),c&&(0,w.isNil)(c.offset)){var D=t.getCanvasBBox(),G=o?D.width:D.height;c.offset=h+G+g+p/2}}},e.prototype.canProcessOverlap=function(t){var n=this.get("label");return t==="autoRotate"?(0,w.isNil)(n.rotate):!0},e.prototype.autoProcessOverlap=function(t,n,o,u){var l=this,c=this.isVertical(),f=!1,h=O[t];if(n===!0){var v=this.get("label");f=h.getDefault()(c,o,u)}else if((0,w.isFunction)(n))f=n(c,o,u);else if((0,w.isObject)(n)){var p=n;h[p.type]&&(f=h[p.type](c,o,u,p.cfg))}else h[n]&&(f=h[n](c,o,u));if(t==="autoRotate"){if(f){var g=o.getChildren(),E=this.get("verticalFactor");(0,w.each)(g,function(G){var H=G.attr("textAlign");if(H==="center"){var X=E>0?"end":"start";G.attr("textAlign",X)}})}}else if(t==="autoHide"){var D=o.getChildren().slice(0);(0,w.each)(D,function(G){G.get("visible")||(l.get("isRegister")&&l.unregisterElement(G),G.remove())})}},e}(mT),GB=BB,zB=function(a){(0,Z.__extends)(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=a.prototype.getDefaultCfg.call(this);return(0,Z.__assign)((0,Z.__assign)({},t),{type:"circle",locationType:"circle",center:null,radius:null,startAngle:-Math.PI/2,endAngle:Math.PI*3/2})},e.prototype.getLinePath=function(){var t=this.get("center"),n=t.x,o=t.y,u=this.get("radius"),l=u,c=this.get("startAngle"),f=this.get("endAngle"),h=[];if(Math.abs(f-c)===Math.PI*2)h=[["M",n,o-l],["A",u,l,0,1,1,n,o+l],["A",u,l,0,1,1,n,o-l],["Z"]];else{var v=this.getCirclePoint(c),p=this.getCirclePoint(f),g=Math.abs(f-c)>Math.PI?1:0,E=c>f?0:1;h=[["M",n,o],["L",v.x,v.y],["A",u,l,0,g,E,p.x,p.y],["L",n,o]]}return h},e.prototype.getTickPoint=function(t){var n=this.get("startAngle"),o=this.get("endAngle"),u=n+(o-n)*t;return this.getCirclePoint(u)},e.prototype.getSideVector=function(t,n){var o=this.get("center"),u=[n.x-o.x,n.y-o.y],l=this.get("verticalFactor"),c=Js(u);return Ua(u,u,l*t/c),u},e.prototype.getAxisVector=function(t){var n=this.get("center"),o=[t.x-n.x,t.y-n.y];return[o[1],-1*o[0]]},e.prototype.getCirclePoint=function(t,n){var o=this.get("center");return n=n||this.get("radius"),{x:o.x+Math.cos(t)*n,y:o.y+Math.sin(t)*n}},e.prototype.canProcessOverlap=function(t){var n=this.get("label");return t==="autoRotate"?(0,w.isNil)(n.rotate):!0},e.prototype.processOverlap=function(t){var n=this,o=this.get("label"),u=this.get("title"),l=this.get("verticalLimitLength"),c=o.offset,f=l,h=0,v=0;u&&(h=u.style.fontSize,v=u.spacing),f&&(f=f-c-v-h);var p=this.get("overlapOrder");if((0,w.each)(p,function(E){o[E]&&n.canProcessOverlap(E)&&n.autoProcessOverlap(E,o[E],t,f)}),u&&(0,w.isNil)(u.offset)){var g=t.getCanvasBBox().height;u.offset=c+g+v+h/2}},e.prototype.autoProcessOverlap=function(t,n,o,u){var l=this,c=!1,f=O[t];if(u>0)if(n===!0)c=f.getDefault()(!1,o,u);else if((0,w.isFunction)(n))c=n(!1,o,u);else if((0,w.isObject)(n)){var h=n;f[h.type]&&(c=f[h.type](!1,o,u,h.cfg))}else f[n]&&(c=f[n](!1,o,u));if(t==="autoRotate"){if(c){var v=o.getChildren(),p=this.get("verticalFactor");(0,w.each)(v,function(E){var D=E.attr("textAlign");if(D==="center"){var G=p>0?"end":"start";E.attr("textAlign",G)}})}}else if(t==="autoHide"){var g=o.getChildren().slice(0);(0,w.each)(g,function(E){E.get("visible")||(l.get("isRegister")&&l.unregisterElement(E),E.remove())})}},e}(mT),UB=zB,jB=function(a){(0,Z.__extends)(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=a.prototype.getDefaultCfg.call(this);return(0,Z.__assign)((0,Z.__assign)({},t),{name:"crosshair",type:"base",line:{},text:null,textBackground:{},capture:!1,defaultCfg:{line:{style:{lineWidth:1,stroke:oo.lineColor}},text:{position:"start",offset:10,autoRotate:!1,content:null,style:{fill:oo.textColor,textAlign:"center",textBaseline:"middle",fontFamily:oo.fontFamily}},textBackground:{padding:5,style:{stroke:oo.lineColor}}}})},e.prototype.renderInner=function(t){this.get("line")&&this.renderLine(t),this.get("text")&&(this.renderText(t),this.renderBackground(t))},e.prototype.renderText=function(t){var n=this.get("text"),o=n.style,u=n.autoRotate,l=n.content;if(!(0,w.isNil)(l)){var c=this.getTextPoint(),f=null;if(u){var h=this.getRotateAngle();f=U0(c,h)}this.addShape(t,{type:"text",name:"crosshair-text",id:this.getElementId("text"),attrs:(0,Z.__assign)((0,Z.__assign)((0,Z.__assign)({},c),{text:l,matrix:f}),o)})}},e.prototype.renderLine=function(t){var n=this.getLinePath(),o=this.get("line"),u=o.style;this.addShape(t,{type:"path",name:"crosshair-line",id:this.getElementId("line"),attrs:(0,Z.__assign)({path:n},u)})},e.prototype.renderBackground=function(t){var n=this.getElementId("text"),o=t.findById(n),u=this.get("textBackground");if(u&&o){var l=o.getBBox(),c=qb(u.padding),f=u.style,h=this.addShape(t,{type:"rect",name:"crosshair-text-background",id:this.getElementId("text-background"),attrs:(0,Z.__assign)({x:l.x-c[3],y:l.y-c[0],width:l.width+c[1]+c[3],height:l.height+c[0]+c[2],matrix:o.attr("matrix")},f)});h.toBack()}},e}(Kf),Q2=jB,WB=function(a){(0,Z.__extends)(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=a.prototype.getDefaultCfg.call(this);return(0,Z.__assign)((0,Z.__assign)({},t),{type:"line",locationType:"region",start:null,end:null})},e.prototype.getRotateAngle=function(){var t=this.getLocation(),n=t.start,o=t.end,u=this.get("text").position,l=Math.atan2(o.y-n.y,o.x-n.x),c=u==="start"?l-Math.PI/2:l+Math.PI/2;return c},e.prototype.getTextPoint=function(){var t=this.getLocation(),n=t.start,o=t.end,u=this.get("text"),l=u.position,c=u.offset;return gT(n,o,l,c)},e.prototype.getLinePath=function(){var t=this.getLocation(),n=t.start,o=t.end;return[["M",n.x,n.y],["L",o.x,o.y]]},e}(Q2),AT=WB,VB=function(a){(0,Z.__extends)(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=a.prototype.getDefaultCfg.call(this);return(0,Z.__assign)((0,Z.__assign)({},t),{type:"circle",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:Math.PI*3/2})},e.prototype.getRotateAngle=function(){var t=this.getLocation(),n=t.startAngle,o=t.endAngle,u=this.get("text").position,l=u==="start"?n+Math.PI/2:o-Math.PI/2;return l},e.prototype.getTextPoint=function(){var t=this.get("text"),n=t.position,o=t.offset,u=this.getLocation(),l=u.center,c=u.radius,f=u.startAngle,h=u.endAngle,v=n==="start"?f:h,p=this.getRotateAngle()-Math.PI,g=Cm(l,c,v),E=Math.cos(p)*o,D=Math.sin(p)*o;return{x:g.x+E,y:g.y+D}},e.prototype.getLinePath=function(){var t=this.getLocation(),n=t.center,o=t.radius,u=t.startAngle,l=t.endAngle,c=null;if(l-u===Math.PI*2){var f=n.x,h=n.y;c=[["M",f,h-o],["A",o,o,0,1,1,f,h+o],["A",o,o,0,1,1,f,h-o],["Z"]]}else{var v=Cm(n,o,u),p=Cm(n,o,l),g=Math.abs(l-u)>Math.PI?1:0,E=u>l?0:1;c=[["M",v.x,v.y],["A",o,o,0,g,E,p.x,p.y]]}return c},e}(Q2),HB=VB,Ax="g2-crosshair",J2=Ax+"-line",q2=Ax+"-text",Cx,YB=(Cx={},Cx[""+Ax]={position:"relative"},Cx[""+J2]={position:"absolute",backgroundColor:"rgba(0, 0, 0, 0.25)"},Cx[""+q2]={position:"absolute",color:oo.textColor,fontFamily:oo.fontFamily},Cx),XB=function(a){(0,Z.__extends)(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=a.prototype.getDefaultCfg.call(this);return(0,Z.__assign)((0,Z.__assign)({},t),{name:"crosshair",type:"html",locationType:"region",start:{x:0,y:0},end:{x:0,y:0},capture:!1,text:null,containerTpl:'<div class="'+Ax+'"></div>',crosshairTpl:'<div class="'+J2+'"></div>',textTpl:'<span class="'+q2+'">{content}</span>',domStyles:null,containerClassName:Ax,defaultStyles:YB,defaultCfg:{text:{position:"start",content:null,align:"center",offset:10}}})},e.prototype.render=function(){this.resetText(),this.resetPosition()},e.prototype.initCrossHair=function(){var t=this.getContainer(),n=this.get("crosshairTpl"),o=Fa(n);t.appendChild(o),this.applyStyle(J2,o),this.set("crosshairEl",o)},e.prototype.getTextPoint=function(){var t=this.getLocation(),n=t.start,o=t.end,u=this.get("text"),l=u.position,c=u.offset;return gT(n,o,l,c)},e.prototype.resetText=function(){var t=this.get("text"),n=this.get("textEl");if(t){var o=t.content;if(!n){var u=this.getContainer(),l=(0,w.substitute)(this.get("textTpl"),t);n=Fa(l),u.appendChild(n),this.applyStyle(q2,n),this.set("textEl",n)}n.innerHTML=o}else n&&n.remove()},e.prototype.isVertical=function(t,n){return t.x===n.x},e.prototype.resetPosition=function(){var t=this.get("crosshairEl");t||(this.initCrossHair(),t=this.get("crosshairEl"));var n=this.get("start"),o=this.get("end"),u=Math.min(n.x,o.x),l=Math.min(n.y,o.y);this.isVertical(n,o)?Ri(t,{width:"1px",height:Wd(Math.abs(o.y-n.y))}):Ri(t,{height:"1px",width:Wd(Math.abs(o.x-n.x))}),Ri(t,{top:Wd(l),left:Wd(u)}),this.alignText()},e.prototype.alignText=function(){var t=this.get("textEl");if(t){var n=this.get("text").align,o=t.clientWidth,u=this.getTextPoint();switch(n){case"center":u.x=u.x-o/2;break;case"right":u.x=u.x-o;case"left":break}Ri(t,{top:Wd(u.y),left:Wd(u.x)})}},e.prototype.updateInner=function(t){(0,w.hasKey)(t,"text")&&this.resetText(),a.prototype.updateInner.call(this,t)},e}($2),$B=XB,KB=function(a){(0,Z.__extends)(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=a.prototype.getDefaultCfg.call(this);return(0,Z.__assign)((0,Z.__assign)({},t),{name:"grid",line:{},alternateColor:null,capture:!1,items:[],closed:!1,defaultCfg:{line:{type:"line",style:{lineWidth:1,stroke:oo.lineColor}}}})},e.prototype.getLineType=function(){var t=this.get("line")||this.get("defaultCfg").line;return t.type},e.prototype.renderInner=function(t){this.drawGrid(t)},e.prototype.getAlternatePath=function(t,n){var o=this.getGridPath(t),u=n.slice(0).reverse(),l=this.getGridPath(u,!0),c=this.get("closed");return c?o=o.concat(l):(l[0][0]="L",o=o.concat(l),o.push(["Z"])),o},e.prototype.getPathStyle=function(){return this.get("line").style},e.prototype.drawGrid=function(t){var n=this,o=this.get("line"),u=this.get("items"),l=this.get("alternateColor"),c=null;(0,w.each)(u,function(f,h){var v=f.id||h;if(o){var p=n.getPathStyle();p=(0,w.isFunction)(p)?p(f,h,u):p;var g=n.getElementId("line-"+v),E=n.getGridPath(f.points);n.addShape(t,{type:"path",name:"grid-line",id:g,attrs:(0,w.mix)({path:E},p)})}if(l&&h>0){var D=n.getElementId("region-"+v),G=h%2===0;if((0,w.isString)(l))G&&n.drawAlternateRegion(D,t,c.points,f.points,l);else{var H=G?l[1]:l[0];n.drawAlternateRegion(D,t,c.points,f.points,H)}}c=f})},e.prototype.drawAlternateRegion=function(t,n,o,u,l){var c=this.getAlternatePath(o,u);this.addShape(n,{type:"path",id:t,name:"grid-region",attrs:{path:c,fill:l}})},e}(Kf),CT=KB;function ZB(a,e,t,n){var o=t-a,u=n-e;return Math.sqrt(o*o+u*u)}var QB=function(a){(0,Z.__extends)(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=a.prototype.getDefaultCfg.call(this);return(0,Z.__assign)((0,Z.__assign)({},t),{type:"circle",center:null,closed:!0})},e.prototype.getGridPath=function(t,n){var o=this.getLineType(),u=this.get("closed"),l=[];if(t.length)if(o==="circle"){var c=this.get("center"),f=t[0],h=ZB(c.x,c.y,f.x,f.y),v=n?0:1;u?(l.push(["M",c.x,c.y-h]),l.push(["A",h,h,0,0,v,c.x,c.y+h]),l.push(["A",h,h,0,0,v,c.x,c.y-h]),l.push(["Z"])):(0,w.each)(t,function(p,g){g===0?l.push(["M",p.x,p.y]):l.push(["A",h,h,0,0,v,p.x,p.y])})}else(0,w.each)(t,function(p,g){g===0?l.push(["M",p.x,p.y]):l.push(["L",p.x,p.y])}),u&&l.push(["Z"]);return l},e}(CT),JB=QB,qB=function(a){(0,Z.__extends)(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=a.prototype.getDefaultCfg.call(this);return(0,Z.__assign)((0,Z.__assign)({},t),{type:"line"})},e.prototype.getGridPath=function(t){var n=[];return(0,w.each)(t,function(o,u){u===0?n.push(["M",o.x,o.y]):n.push(["L",o.x,o.y])}),n},e}(CT),t4=qB,e4=function(a){(0,Z.__extends)(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=a.prototype.getDefaultCfg.call(this);return(0,Z.__assign)((0,Z.__assign)({},t),{name:"legend",layout:"horizontal",locationType:"point",x:0,y:0,offsetX:0,offsetY:0,title:null,background:null})},e.prototype.getLayoutBBox=function(){var t=a.prototype.getLayoutBBox.call(this),n=this.get("maxWidth"),o=this.get("maxHeight"),u=t.width,l=t.height;return n&&(u=Math.min(u,n)),o&&(l=Math.min(l,o)),Ex(t.minX,t.minY,u,l)},e.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetLocation()},e.prototype.resetLocation=function(){var t=this.get("x"),n=this.get("y"),o=this.get("offsetX"),u=this.get("offsetY");this.moveElementTo(this.get("group"),{x:t+o,y:n+u})},e.prototype.applyOffset=function(){this.resetLocation()},e.prototype.getDrawPoint=function(){return this.get("currentPoint")},e.prototype.setDrawPoint=function(t){return this.set("currentPoint",t)},e.prototype.renderInner=function(t){this.resetDraw(),this.get("title")&&this.drawTitle(t),this.drawLegendContent(t),this.get("background")&&this.drawBackground(t)},e.prototype.drawBackground=function(t){var n=this.get("background"),o=t.getBBox(),u=qb(n.padding),l=(0,Z.__assign)({x:0,y:0,width:o.width+u[1]+u[3],height:o.height+u[0]+u[2]},n.style),c=this.addShape(t,{type:"rect",id:this.getElementId("background"),name:"legend-background",attrs:l});c.toBack()},e.prototype.drawTitle=function(t){var n=this.get("currentPoint"),o=this.get("title"),u=o.spacing,l=o.style,c=o.text,f=this.addShape(t,{type:"text",id:this.getElementId("title"),name:"legend-title",attrs:(0,Z.__assign)({text:c,x:n.x,y:n.y},l)}),h=f.getBBox();this.set("currentPoint",{x:n.x,y:h.maxY+u})},e.prototype.resetDraw=function(){var t=this.get("background"),n={x:0,y:0};if(t){var o=qb(t.padding);n.x=o[3],n.y=o[0]}this.set("currentPoint",n)},e}(Kf),TT=e4,tw={marker:{style:{inactiveFill:"#000",inactiveOpacity:.45,fill:"#000",opacity:1,size:12}},text:{style:{fill:"#ccc",fontSize:12}}},rE={fill:oo.textColor,fontSize:12,textAlign:"start",textBaseline:"middle",fontFamily:oo.fontFamily,fontWeight:"normal",lineHeight:12},ew="navigation-arrow-right",rw="navigation-arrow-left",MT={right:90*Math.PI/180,left:(360-90)*Math.PI/180,up:0,down:180*Math.PI/180},r4=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.currentPageIndex=1,t.totalPagesCnt=1,t.pageWidth=0,t.pageHeight=0,t.startX=0,t.startY=0,t.onNavigationBack=function(){var n=t.getElementByLocalId("item-group");if(t.currentPageIndex>1){t.currentPageIndex-=1,t.updateNavigation();var o=t.getCurrentNavigationMatrix();t.get("animate")?n.animate({matrix:o},100):n.attr({matrix:o})}},t.onNavigationAfter=function(){var n=t.getElementByLocalId("item-group");if(t.currentPageIndex<t.totalPagesCnt){t.currentPageIndex+=1,t.updateNavigation();var o=t.getCurrentNavigationMatrix();t.get("animate")?n.animate({matrix:o},100):n.attr({matrix:o})}},t}return e.prototype.getDefaultCfg=function(){var t=a.prototype.getDefaultCfg.call(this);return(0,Z.__assign)((0,Z.__assign)({},t),{name:"legend",type:"category",itemSpacing:24,itemMarginBottom:8,maxItemWidth:null,itemWidth:null,itemHeight:null,itemName:{},itemValue:null,maxWidth:null,maxHeight:null,marker:{},radio:null,items:[],itemStates:{},itemBackground:{},pageNavigator:{},defaultCfg:{title:{spacing:5,style:{fill:oo.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}},background:{padding:5,style:{stroke:oo.lineColor}},itemBackground:{style:{opacity:0,fill:"#fff"}},pageNavigator:tw,itemName:{spacing:16,style:rE},marker:{spacing:8,style:{r:6,symbol:"circle"}},itemValue:{alignRight:!1,formatter:null,style:rE,spacing:6},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:oo.uncheckedColor},markerStyle:{fill:oo.uncheckedColor,stroke:oo.uncheckedColor}},inactive:{nameStyle:{fill:oo.uncheckedColor},markerStyle:{opacity:.2}}}}})},e.prototype.isList=function(){return!0},e.prototype.getItems=function(){return this.get("items")},e.prototype.setItems=function(t){this.update({items:t})},e.prototype.updateItem=function(t,n){(0,w.mix)(t,n),this.clear(),this.render()},e.prototype.clearItems=function(){var t=this.getElementByLocalId("item-group");t&&t.clear()},e.prototype.setItemState=function(t,n,o){t[n]=o;var u=this.getElementByLocalId("item-"+t.id);if(u){var l=this.getItems(),c=l.indexOf(t),f=this.createOffScreenGroup(),h=this.drawItem(t,c,this.getItemHeight(),f);this.updateElements(h,u),this.clearUpdateStatus(u)}},e.prototype.hasState=function(t,n){return!!t[n]},e.prototype.getItemStates=function(t){var n=this.get("itemStates"),o=[];return(0,w.each)(n,function(u,l){t[l]&&o.push(l)}),o},e.prototype.clearItemsState=function(t){var n=this,o=this.getItemsByState(t);(0,w.each)(o,function(u){n.setItemState(u,t,!1)})},e.prototype.getItemsByState=function(t){var n=this,o=this.getItems();return(0,w.filter)(o,function(u){return n.hasState(u,t)})},e.prototype.drawLegendContent=function(t){this.processItems(),this.drawItems(t)},e.prototype.processItems=function(){var t=this.get("items");(0,w.each)(t,function(n){n.id||(n.id=n.name)})},e.prototype.drawItems=function(t){var n=this,o=this.addGroup(t,{id:this.getElementId("item-container-group"),name:"legend-item-container-group"}),u=this.addGroup(o,{id:this.getElementId("item-group"),name:"legend-item-group"}),l=this.getItemHeight(),c=this.get("itemWidth"),f=this.get("itemSpacing"),h=this.get("itemMarginBottom"),v=this.get("currentPoint"),p=v.x,g=v.y,E=this.get("layout"),D=this.get("items"),G=!1,H=0,X=this.get("maxWidth"),rt=this.get("maxHeight");(0,w.each)(D,function(ht,mt){var Dt=n.drawItem(ht,mt,l,u),kt=Dt.getBBox(),Vt=c||kt.width;Vt>H&&(H=Vt),E==="horizontal"?(X&&X<v.x+Vt-p&&(G=!0,v.x=p,v.y+=l+h),n.moveElementTo(Dt,v),v.x+=Vt+f):(rt&&rt<v.y+l+h-g&&(G=!0,v.x+=H+f,v.y=g,H=0),n.moveElementTo(Dt,v),v.y+=l+h)}),G&&this.get("flipPage")&&(this.pageHeight=0,this.pageWidth=0,this.totalPagesCnt=1,this.startX=p,this.startY=g,this.adjustNavigation(t,u))},e.prototype.getItemHeight=function(){var t=this.get("itemHeight");if(!t){var n=(this.get("itemName")||{}).style;if((0,w.isFunction)(n)){var o=this.getItems();o.forEach(function(u,l){var c=(0,Z.__assign)((0,Z.__assign)({},rE),n(u,l,o)).fontSize;t<c&&(t=c)})}else n&&(t=n.fontSize)}return t},e.prototype.drawMarker=function(t,n,o,u){var l=(0,Z.__assign)((0,Z.__assign)((0,Z.__assign)({x:0,y:u/2},n.style),{symbol:(0,w.get)(o.marker,"symbol","circle")}),(0,w.get)(o.marker,"style",{})),c=this.addShape(t,{type:"marker",id:this.getElementId("item-"+o.id+"-marker"),name:"legend-item-marker",attrs:l}),f=c.getBBox();c.attr("x",f.width/2);var h=c.attr(),v=h.stroke,p=h.fill;return v&&c.set("isStroke",!0),p&&c.set("isFill",!0),c},e.prototype.drawItemText=function(t,n,o,u,l,c,f){var h=o.formatter,v=o.style,p=(0,Z.__assign)((0,Z.__assign)({x:c,y:l/2,text:h?h(u[n],u,f):u[n]},rE),(0,w.isFunction)(v)?v(u,f,this.getItems()):v);return this.addShape(t,{type:"text",id:this.getElementId("item-"+u.id+"-"+n),name:"legend-item-"+n,attrs:p})},e.prototype.drawRadio=function(t,n,o,u,l){var c,f=n.style||{},h=(c=f.r)!==null&&c!==void 0?c:u/2,v=h*3.6/8,p=[l+h,u/2-h],g=p[0],E=p[1],D=[g+h,E+h],G=D[0],H=D[1],X=[g,H+h],rt=X[0],ht=X[1],mt=[l,E+h],Dt=mt[0],kt=mt[1],Vt=o.showRadio,te=(0,Z.__assign)((0,Z.__assign)({path:[["M",g,E],["A",h,h,0,0,1,G,H],["L",G-v,H],["L",G,H],["A",h,h,0,0,1,rt,ht],["L",rt,ht-v],["L",rt,ht],["A",h,h,0,0,1,Dt,kt],["L",Dt+v,kt],["L",Dt,kt],["A",h,h,0,0,1,g,E],["L",g,E+v]],stroke:"#000000",fill:"#ffffff"},f),{opacity:Vt?.45:0}),le=this.addShape(t,{type:"path",id:this.getElementId("item-"+o.id+"-radio"),name:"legend-item-radio",attrs:te});return le.set("tip",n.tip),le},e.prototype.drawItem=function(t,n,o,u){var l="item-"+t.id,c=this.addGroup(u,{name:"legend-item-container",id:this.getElementId("item-container-"+l),delegateObject:{item:t,index:n}}),f=this.addGroup(c,{name:"legend-item",id:this.getElementId(l),delegateObject:{item:t,index:n}}),h=this.get("marker"),v=this.get("itemName"),p=this.get("itemValue"),g=this.get("itemBackground"),E=this.get("radio"),D=this.getLimitItemWidth(),G=0;if(h){var H=this.drawMarker(f,h,t,o),X=h.spacing,rt=(0,w.get)(t,["marker","spacing"]);(0,w.isNumber)(rt)&&(X=rt),G=H.getBBox().maxX+X}if(v){var ht=this.drawItemText(f,"name",v,t,o,G,n);D&&Sx(!0,ht,(0,w.clamp)(D-G,0,D)),G=ht.getBBox().maxX+v.spacing}if(p){var mt=this.drawItemText(f,"value",p,t,o,G,n);D&&(p.alignRight?(mt.attr({textAlign:"right",x:D}),Sx(!0,mt,(0,w.clamp)(D-G,0,D),"head")):Sx(!0,mt,(0,w.clamp)(D-G,0,D))),G=mt.getBBox().maxX+p.spacing}if(E&&this.drawRadio(f,E,t,o,G),g){var Dt=f.getBBox(),kt=this.addShape(f,{type:"rect",name:"legend-item-background",id:this.getElementId(l+"-background"),attrs:(0,Z.__assign)({x:0,y:0,width:Dt.width,height:o},g.style)});kt.toBack()}return this.applyItemStates(t,f),f},e.prototype.adjustNavigation=function(t,n){var o=this,u=this.startX,l=this.startY,c=this.get("layout"),f=n.findAll(function(pe){return pe.get("name")==="legend-item"}),h=this.get("maxWidth"),v=this.get("maxHeight"),p=this.get("itemWidth"),g=this.get("itemSpacing"),E=this.getItemHeight(),D=(0,w.deepMix)({},tw,this.get("pageNavigator")),G=this.drawNavigation(t,c,"00/00",D),H=G.getBBox(),X={x:u,y:l},rt=1,ht=0,mt=0,Dt=0,kt=this.get("itemMarginBottom");if(c==="horizontal"){var Vt=this.get("maxRow")||1,te=E+(Vt===1?0:kt);this.pageHeight=te*Vt,(0,w.each)(f,function(pe){var De=pe.getBBox(),Xe=p||De.width;(ht&&ht<X.x+Xe+g||h<X.x+Xe+g+H.width)&&(rt===1&&(ht=X.x+g,o.pageWidth=ht,o.moveElementTo(G,{x:h-g-H.width-H.minX,y:X.y+E/2-H.height/2-H.minY})),rt+=1,X.x=u,X.y+=te),o.moveElementTo(pe,X),pe.getParent().setClip({type:"rect",attrs:{x:X.x,y:X.y,width:Xe+g,height:E}}),X.x+=Xe+g})}else{(0,w.each)(f,function(pe){var De=pe.getBBox();De.width>mt&&(mt=De.width)}),Dt=mt,mt+=g,h&&(mt=Math.min(h,mt),Dt=Math.min(h,Dt)),this.pageWidth=mt,this.pageHeight=v-Math.max(H.height,E+kt);var le=Math.floor(this.pageHeight/(E+kt));(0,w.each)(f,function(pe,De){De!==0&&De%le===0&&(rt+=1,X.x+=mt,X.y=l),o.moveElementTo(pe,X),pe.getParent().setClip({type:"rect",attrs:{x:X.x,y:X.y,width:mt,height:E}}),X.y+=E+kt}),this.totalPagesCnt=rt,this.moveElementTo(G,{x:u+Dt/2-H.width/2-H.minX,y:v-H.height-H.minY})}this.pageHeight&&this.pageWidth&&n.getParent().setClip({type:"rect",attrs:{x:this.startX,y:this.startY,width:this.pageWidth,height:this.pageHeight}}),c==="horizontal"&&this.get("maxRow")?this.totalPagesCnt=Math.ceil(rt/this.get("maxRow")):this.totalPagesCnt=rt,this.currentPageIndex>this.totalPagesCnt&&(this.currentPageIndex=1),this.updateNavigation(G),n.attr("matrix",this.getCurrentNavigationMatrix())},e.prototype.drawNavigation=function(t,n,o,u){var l={x:0,y:0},c=this.addGroup(t,{id:this.getElementId("navigation-group"),name:"legend-navigation"}),f=(0,w.get)(u.marker,"style",{}),h=f.size,v=h===void 0?12:h,p=(0,Z.__rest)(f,["size"]),g=this.drawArrow(c,l,rw,n==="horizontal"?"up":"left",v,p);g.on("click",this.onNavigationBack);var E=g.getBBox();l.x+=E.width+2;var D=this.addShape(c,{type:"text",id:this.getElementId("navigation-text"),name:"navigation-text",attrs:(0,Z.__assign)({x:l.x,y:l.y+v/2,text:o,textBaseline:"middle"},(0,w.get)(u.text,"style"))}),G=D.getBBox();l.x+=G.width+2;var H=this.drawArrow(c,l,ew,n==="horizontal"?"down":"right",v,p);return H.on("click",this.onNavigationAfter),c},e.prototype.updateNavigation=function(t){var n=(0,w.deepMix)({},tw,this.get("pageNavigator")),o=n.marker.style,u=o.fill,l=o.opacity,c=o.inactiveFill,f=o.inactiveOpacity,h=this.currentPageIndex+"/"+this.totalPagesCnt,v=t?t.getChildren()[1]:this.getElementByLocalId("navigation-text"),p=t?t.findById(this.getElementId(rw)):this.getElementByLocalId(rw),g=t?t.findById(this.getElementId(ew)):this.getElementByLocalId(ew);v.attr("text",h),p.attr("opacity",this.currentPageIndex===1?f:l),p.attr("fill",this.currentPageIndex===1?c:u),p.attr("cursor",this.currentPageIndex===1?"not-allowed":"pointer"),g.attr("opacity",this.currentPageIndex===this.totalPagesCnt?f:l),g.attr("fill",this.currentPageIndex===this.totalPagesCnt?c:u),g.attr("cursor",this.currentPageIndex===this.totalPagesCnt?"not-allowed":"pointer");var E=p.getBBox().maxX+2;v.attr("x",E),E+=v.getBBox().width+2,this.updateArrowPath(g,{x:E,y:0})},e.prototype.drawArrow=function(t,n,o,u,l,c){var f=n.x,h=n.y,v=this.addShape(t,{type:"path",id:this.getElementId(o),name:o,attrs:(0,Z.__assign)({size:l,direction:u,path:[["M",f+l/2,h],["L",f,h+l],["L",f+l,h+l],["Z"]],cursor:"pointer"},c)});return v.attr("matrix",U0({x:f+l/2,y:h+l/2},MT[u])),v},e.prototype.updateArrowPath=function(t,n){var o=n.x,u=n.y,l=t.attr(),c=l.size,f=l.direction,h=U0({x:o+c/2,y:u+c/2},MT[f]);t.attr("path",[["M",o+c/2,u],["L",o,u+c],["L",o+c,u+c],["Z"]]),t.attr("matrix",h)},e.prototype.getCurrentNavigationMatrix=function(){var t=this,n=t.currentPageIndex,o=t.pageWidth,u=t.pageHeight,l=this.get("layout"),c=l==="horizontal"?{x:0,y:u*(1-n)}:{x:o*(1-n),y:0};return V2(c)},e.prototype.applyItemStates=function(t,n){var o=this.getItemStates(t),u=o.length>0;if(u){var l=n.getChildren(),c=this.get("itemStates");(0,w.each)(l,function(f){var h=f.get("name"),v=h.split("-")[2],p=wx(t,v,c);p&&(f.attr(p),v==="marker"&&!(f.get("isStroke")&&f.get("isFill"))&&(f.get("isStroke")&&f.attr("fill",null),f.get("isFill")&&f.attr("stroke",null)))})}},e.prototype.getLimitItemWidth=function(){var t=this.get("itemWidth"),n=this.get("maxItemWidth");return n?t&&(n=t<=n?t:n):t&&(n=t),n},e}(TT),n4=r4,i4=1.4,IT=.4,a4=function(a){(0,Z.__extends)(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=a.prototype.getDefaultCfg.call(this);return(0,Z.__assign)((0,Z.__assign)({},t),{type:"continue",min:0,max:100,value:null,colors:[],track:{},rail:{},label:{},handler:{},slidable:!0,tip:null,step:null,maxWidth:null,maxHeight:null,defaultCfg:{label:{align:"rail",spacing:5,formatter:null,style:{fontSize:12,fill:oo.textColor,textBaseline:"middle",fontFamily:oo.fontFamily}},handler:{size:10,style:{fill:"#fff",stroke:"#333"}},track:{},rail:{type:"color",size:20,defaultLength:100,style:{fill:"#DCDEE2"}},title:{spacing:5,style:{fill:oo.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}}}})},e.prototype.isSlider=function(){return!0},e.prototype.getValue=function(){return this.getCurrentValue()},e.prototype.getRange=function(){return{min:this.get("min"),max:this.get("max")}},e.prototype.setRange=function(t,n){this.update({min:t,max:n})},e.prototype.setValue=function(t){var n=this.getValue();this.set("value",t);var o=this.get("group");this.resetTrackClip(),this.get("slidable")&&this.resetHandlers(o),this.delegateEmit("valuechanged",{originValue:n,value:t})},e.prototype.initEvent=function(){var t=this.get("group");this.bindSliderEvent(t),this.bindRailEvent(t),this.bindTrackEvent(t)},e.prototype.drawLegendContent=function(t){this.drawRail(t),this.drawLabels(t),this.fixedElements(t),this.resetTrack(t),this.resetTrackClip(t),this.get("slidable")&&this.resetHandlers(t)},e.prototype.bindSliderEvent=function(t){this.bindHandlersEvent(t)},e.prototype.bindHandlersEvent=function(t){var n=this;t.on("legend-handler-min:drag",function(o){var u=n.getValueByCanvasPoint(o.x,o.y),l=n.getCurrentValue(),c=l[1];c<u&&(c=u),n.setValue([u,c])}),t.on("legend-handler-max:drag",function(o){var u=n.getValueByCanvasPoint(o.x,o.y),l=n.getCurrentValue(),c=l[0];c>u&&(c=u),n.setValue([c,u])})},e.prototype.bindRailEvent=function(t){},e.prototype.bindTrackEvent=function(t){var n=this,o=null;t.on("legend-track:dragstart",function(u){o={x:u.x,y:u.y}}),t.on("legend-track:drag",function(u){if(!!o){var l=n.getValueByCanvasPoint(o.x,o.y),c=n.getValueByCanvasPoint(u.x,u.y),f=n.getCurrentValue(),h=f[1]-f[0],v=n.getRange(),p=c-l;p<0?f[0]+p>v.min?n.setValue([f[0]+p,f[1]+p]):n.setValue([v.min,v.min+h]):p>0&&(p>0&&f[1]+p<v.max?n.setValue([f[0]+p,f[1]+p]):n.setValue([v.max-h,v.max])),o={x:u.x,y:u.y}}}),t.on("legend-track:dragend",function(u){o=null})},e.prototype.drawLabels=function(t){this.drawLabel("min",t),this.drawLabel("max",t)},e.prototype.drawLabel=function(t,n){var o=this.get("label"),u=o.style,l=o.align,c=o.formatter,f=this.get(t),h=this.getLabelAlignAttrs(t,l),v="label-"+t;this.addShape(n,{type:"text",id:this.getElementId(v),name:"legend-label-"+t,attrs:(0,Z.__assign)((0,Z.__assign)({x:0,y:0,text:(0,w.isFunction)(c)?c(f):f},u),h)})},e.prototype.getLabelAlignAttrs=function(t,n){var o=this.isVertical(),u="center",l="middle";return o?(u="start",n!=="rail"?t==="min"?l="top":l="bottom":l="top"):n!=="rail"?(l="top",t==="min"?u="start":u="end"):(u="start",l="middle"),{textAlign:u,textBaseline:l}},e.prototype.getRailPath=function(t,n,o,u){var l=this.get("rail"),c=l.size,f=l.defaultLength,h=l.type,v=this.isVertical(),p=f,g=o,E=u;g||(g=v?c:p),E||(E=v?p:c);var D=[];return h==="color"?(D.push(["M",t,n]),D.push(["L",t+g,n]),D.push(["L",t+g,n+E]),D.push(["L",t,n+E]),D.push(["Z"])):(D.push(["M",t+g,n]),D.push(["L",t+g,n+E]),D.push(["L",t,n+E]),D.push(["Z"])),D},e.prototype.drawRail=function(t){var n=this.get("rail"),o=n.style;this.addShape(t,{type:"path",id:this.getElementId("rail"),name:"legend-rail",attrs:(0,Z.__assign)({path:this.getRailPath(0,0)},o)})},e.prototype.getTrackColor=function(t){var n=t.length;if(!n)return null;if(n===1)return t[0];var o;this.isVertical()?o="l(90)":o="l(0)";for(var u=0;u<n;u++){var l=u/(n-1);o+=" "+l+":"+t[u]}return o},e.prototype.getTrackPath=function(t){var n=this.getRailShape(t),o=n.attr("path");return(0,w.clone)(o)},e.prototype.getClipTrackAttrs=function(t){var n=this.getCurrentValue(),o=n[0],u=n[1],l=this.getRailBBox(t),c=this.getPointByValue(o,t),f=this.getPointByValue(u,t),h=this.isVertical(),v,p,g,E;return h?(v=l.minX,p=c.y,g=l.width,E=f.y-c.y):(v=c.x,p=l.minY,g=f.x-c.x,E=l.height),{x:v,y:p,width:g,height:E}},e.prototype.getTrackAttrs=function(t){var n=this.get("track"),o=this.get("colors"),u=this.getTrackPath(t);return(0,w.mix)({path:u,fill:this.getTrackColor(o)},n.style)},e.prototype.resetTrackClip=function(t){var n=t||this.get("group"),o=this.getElementId("track"),u=n.findById(o),l=u.getClip(),c=this.getClipTrackAttrs(t);l?l.attr(c):u.setClip({type:"rect",attrs:c})},e.prototype.resetTrack=function(t){var n=this.getElementId("track"),o=t.findById(n),u=this.getTrackAttrs(t);o?o.attr(u):this.addShape(t,{type:"path",id:n,draggable:this.get("slidable"),name:"legend-track",attrs:u})},e.prototype.getPointByValue=function(t,n){var o=this.getRange(),u=o.min,l=o.max,c=(t-u)/(l-u),f=this.getRailBBox(n),h=this.isVertical(),v={x:0,y:0};return h?(v.x=f.minX+f.width/2,v.y=j0(f.minY,f.maxY,c)):(v.x=j0(f.minX,f.maxX,c),v.y=f.minY+f.height/2),v},e.prototype.getRailShape=function(t){var n=t||this.get("group");return n.findById(this.getElementId("rail"))},e.prototype.getRailBBox=function(t){var n=this.getRailShape(t),o=n.getBBox();return o},e.prototype.getRailCanvasBBox=function(){var t=this.get("group"),n=t.findById(this.getElementId("rail")),o=n.getCanvasBBox();return o},e.prototype.isVertical=function(){return this.get("layout")==="vertical"},e.prototype.getValueByCanvasPoint=function(t,n){var o=this.getRange(),u=o.min,l=o.max,c=this.getRailCanvasBBox(),f=this.isVertical(),h=this.get("step"),v;f?v=(n-c.minY)/c.height:v=(t-c.minX)/c.width;var p=j0(u,l,v);if(h){var g=Math.round((p-u)/h);p=u+g*h}return p>l&&(p=l),p<u&&(p=u),p},e.prototype.getCurrentValue=function(){var t=this.get("value");if(!t){var n=this.get("values");return n?[Math.max(Math.min.apply(Math,(0,Z.__spreadArrays)(n,[this.get("max")])),this.get("min")),Math.min(Math.max.apply(Math,(0,Z.__spreadArrays)(n,[this.get("min")])),this.get("max"))]:[this.get("min"),this.get("max")]}return t},e.prototype.resetHandlers=function(t){var n=this.getCurrentValue(),o=n[0],u=n[1];this.resetHandler(t,"min",o),this.resetHandler(t,"max",u)},e.prototype.getHandlerPath=function(t,n){var o=this.isVertical(),u=[],l=t.size,c=n.x,f=n.y,h=l*i4,v=l/2,p=l/6;if(o){var g=c+h*IT;u.push(["M",c,f]),u.push(["L",g,f+v]),u.push(["L",c+h,f+v]),u.push(["L",c+h,f-v]),u.push(["L",g,f-v]),u.push(["Z"]),u.push(["M",g,f+p]),u.push(["L",c+h-2,f+p]),u.push(["M",g,f-p]),u.push(["L",c+h-2,f-p])}else{var E=f+h*IT;u.push(["M",c,f]),u.push(["L",c-v,E]),u.push(["L",c-v,f+h]),u.push(["L",c+v,f+h]),u.push(["L",c+v,E]),u.push(["Z"]),u.push(["M",c-p,E]),u.push(["L",c-p,f+h-2]),u.push(["M",c+p,E]),u.push(["L",c+p,f+h-2])}return u},e.prototype.resetHandler=function(t,n,o){var u=this.getPointByValue(o,t),l=this.get("handler"),c=this.getHandlerPath(l,u),f=this.getElementId("handler-"+n),h=t.findById(f),v=this.isVertical();h?h.attr("path",c):this.addShape(t,{type:"path",name:"legend-handler-"+n,draggable:!0,id:f,attrs:(0,Z.__assign)((0,Z.__assign)({path:c},l.style),{cursor:v?"ns-resize":"ew-resize"})})},e.prototype.fixedElements=function(t){var n=t.findById(this.getElementId("rail")),o=t.findById(this.getElementId("label-min")),u=t.findById(this.getElementId("label-max")),l=this.getDrawPoint();this.isVertical()?this.fixedVertail(o,u,n,l):this.fixedHorizontal(o,u,n,l)},e.prototype.fitRailLength=function(t,n,o,u){var l=this.isVertical(),c=l?"height":"width",f=this.get("label"),h=f.align,v=f.spacing,p=this.get("max"+(0,w.upperFirst)(c));if(p){var g=h==="rail"?o[c]+t[c]+n[c]+v*2:o[c],E=g-p;E>0&&this.changeRailLength(u,c,o[c]-E)}},e.prototype.changeRailLength=function(t,n,o){var u=t.getBBox(),l;n==="height"?l=this.getRailPath(u.x,u.y,u.width,o):l=this.getRailPath(u.x,u.y,o,u.height),t.attr("path",l)},e.prototype.changeRailPosition=function(t,n,o){var u=t.getBBox(),l=this.getRailPath(n,o,u.width,u.height);t.attr("path",l)},e.prototype.fixedHorizontal=function(t,n,o,u){var l=this.get("label"),c=l.align,f=l.spacing,h=o.getBBox(),v=t.getBBox(),p=n.getBBox(),g=h.height;this.fitRailLength(v,p,h,o),h=o.getBBox(),c==="rail"?(t.attr({x:u.x,y:u.y+g/2}),this.changeRailPosition(o,u.x+v.width+f,u.y),n.attr({x:u.x+v.width+h.width+f*2,y:u.y+g/2})):c==="top"?(t.attr({x:u.x,y:u.y}),n.attr({x:u.x+h.width,y:u.y}),this.changeRailPosition(o,u.x,u.y+v.height+f)):(this.changeRailPosition(o,u.x,u.y),t.attr({x:u.x,y:u.y+h.height+f}),n.attr({x:u.x+h.width,y:u.y+h.height+f}))},e.prototype.fixedVertail=function(t,n,o,u){var l=this.get("label"),c=l.align,f=l.spacing,h=o.getBBox(),v=t.getBBox(),p=n.getBBox();if(this.fitRailLength(v,p,h,o),h=o.getBBox(),c==="rail")t.attr({x:u.x,y:u.y}),this.changeRailPosition(o,u.x,u.y+v.height+f),n.attr({x:u.x,y:u.y+v.height+h.height+f*2});else if(c==="right")t.attr({x:u.x+h.width+f,y:u.y}),this.changeRailPosition(o,u.x,u.y),n.attr({x:u.x+h.width+f,y:u.y+h.height});else{var g=Math.max(v.width,p.width);t.attr({x:u.x,y:u.y}),this.changeRailPosition(o,u.x+g+f,u.y),n.attr({x:u.x,y:u.y+h.height})}},e}(TT),o4=a4,H0="g2-tooltip",Y0="g2-tooltip-title",Tx="g2-tooltip-list",nE="g2-tooltip-list-item",iE="g2-tooltip-marker",aE="g2-tooltip-value",OT="g2-tooltip-name",nw="g2-tooltip-crosshair-x",iw="g2-tooltip-crosshair-y",Lp,s4=(Lp={},Lp[""+H0]={position:"absolute",visibility:"visible",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:oo.fontFamily,lineHeight:"20px",padding:"10px 10px 6px 10px"},Lp[""+Y0]={marginBottom:"4px"},Lp[""+Tx]={margin:"0px",listStyleType:"none",padding:"0px"},Lp[""+nE]={listStyleType:"none",marginBottom:"4px"},Lp[""+iE]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},Lp[""+aE]={display:"inline-block",float:"right",marginLeft:"30px"},Lp[""+nw]={position:"absolute",width:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},Lp[""+iw]={position:"absolute",height:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},Lp);function u4(a,e,t,n,o){var u={left:a<o.x,right:a+t>o.x+o.width,top:e<o.y,bottom:e+n>o.y+o.height};return u}function l4(a,e,t,n,o,u){var l=a,c=e;switch(u){case"left":l=a-n-t,c=e-o/2;break;case"right":l=a+t,c=e-o/2;break;case"top":l=a-n/2,c=e-o-t;break;case"bottom":l=a-n/2,c=e+t;break;default:l=a+t,c=e-o-t;break}return{x:l,y:c}}function c4(a,e,t,n,o,u,l){var c=l4(a,e,t,n,o,u);if(l){var f=u4(c.x,c.y,n,o,l);u==="auto"?(f.right&&(c.x=Math.max(0,a-n-t)),f.top&&(c.y=Math.max(0,e-o-t))):u==="top"||u==="bottom"?(f.left&&(c.x=l.x),f.right&&(c.x=l.x+l.width-n),u==="top"&&f.top&&(c.y=e+t),u==="bottom"&&f.bottom&&(c.y=e-o-t)):(f.top&&(c.y=l.y),f.bottom&&(c.y=l.y+l.height-o),u==="left"&&f.left&&(c.x=a+t),u==="right"&&f.right&&(c.x=a-n-t))}return c}function f4(a,e){var t=!1;return(0,w.each)(e,function(n){if((0,w.hasKey)(a,n))return t=!0,!1}),t}var h4=function(a){(0,Z.__extends)(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=a.prototype.getDefaultCfg.call(this);return(0,Z.__assign)((0,Z.__assign)({},t),{name:"tooltip",type:"html",x:0,y:0,items:[],customContent:null,containerTpl:'<div class="'+H0+'"><div class="'+Y0+'"></div><ul class="'+Tx+'"></ul></div>',itemTpl:'<li class="'+nE+`" data-index={index}>
          <span class="`+iE+`" style="background:{color}"></span>
          <span class="`+OT+`">{name}</span>:
          <span class="`+aE+`">{value}</span>
        </li>`,xCrosshairTpl:'<div class="'+nw+'"></div>',yCrosshairTpl:'<div class="'+iw+'"></div>',title:null,showTitle:!0,region:null,crosshairsRegion:null,containerClassName:H0,crosshairs:null,offset:10,position:"right",domStyles:null,defaultStyles:s4})},e.prototype.render=function(){this.get("customContent")?this.renderCustomContent():(this.resetTitle(),this.renderItems()),this.resetPosition()},e.prototype.clear=function(){this.clearCrosshairs(),this.setTitle(""),this.clearItemDoms()},e.prototype.show=function(){var t=this.getContainer();!t||this.destroyed||(this.set("visible",!0),Ri(t,{visibility:"visible"}),this.setCrossHairsVisible(!0))},e.prototype.hide=function(){var t=this.getContainer();!t||this.destroyed||(this.set("visible",!1),Ri(t,{visibility:"hidden"}),this.setCrossHairsVisible(!1))},e.prototype.getLocation=function(){return{x:this.get("x"),y:this.get("y")}},e.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetPosition()},e.prototype.setCrossHairsVisible=function(t){var n=t?"":"none",o=this.get("xCrosshairDom"),u=this.get("yCrosshairDom");o&&Ri(o,{display:n}),u&&Ri(u,{display:n})},e.prototype.initContainer=function(){if(a.prototype.initContainer.call(this),this.get("customContent")){this.get("container")&&this.get("container").remove();var t=this.getHtmlContentNode();this.get("parent").appendChild(t),this.set("container",t),this.resetStyles(),this.applyStyles()}},e.prototype.updateInner=function(t){this.get("customContent")?this.renderCustomContent():(f4(t,["title","showTitle"])&&this.resetTitle(),(0,w.hasKey)(t,"items")&&this.renderItems()),a.prototype.updateInner.call(this,t)},e.prototype.initDom=function(){this.cacheDoms()},e.prototype.removeDom=function(){a.prototype.removeDom.call(this),this.clearCrosshairs()},e.prototype.resetPosition=function(){var t=this.get("x"),n=this.get("y"),o=this.get("offset"),u=this.getOffset(),l=u.offsetX,c=u.offsetY,f=this.get("position"),h=this.get("region"),v=this.getContainer(),p=this.getBBox(),g=p.width,E=p.height,D;h&&(D=bx(h));var G=c4(t,n,o,g,E,f,D);Ri(v,{left:Wd(G.x+l),top:Wd(G.y+c)}),this.resetCrosshairs()},e.prototype.renderCustomContent=function(){var t=this.getHtmlContentNode(),n=this.get("parent"),o=this.get("container");o&&o.parentNode===n?n.replaceChild(t,o):n.appendChild(t),this.set("container",t),this.resetStyles(),this.applyStyles()},e.prototype.getHtmlContentNode=function(){var t,n=this.get("customContent");if(n){var o=n(this.get("title"),this.get("items"));(0,w.isElement)(o)?t=o:t=Fa(o)}return t},e.prototype.cacheDoms=function(){var t=this.getContainer(),n=t.getElementsByClassName(Y0)[0],o=t.getElementsByClassName(Tx)[0];this.set("titleDom",n),this.set("listDom",o)},e.prototype.resetTitle=function(){var t=this.get("title"),n=this.get("showTitle");n&&t?this.setTitle(t):this.setTitle("")},e.prototype.setTitle=function(t){var n=this.get("titleDom");n&&(n.innerText=t)},e.prototype.resetCrosshairs=function(){var t=this.get("crosshairsRegion"),n=this.get("crosshairs");if(!t||!n)this.clearCrosshairs();else{var o=bx(t),u=this.get("xCrosshairDom"),l=this.get("yCrosshairDom");n==="x"?(this.resetCrosshair("x",o),l&&(l.remove(),this.set("yCrosshairDom",null))):n==="y"?(this.resetCrosshair("y",o),u&&(u.remove(),this.set("xCrosshairDom",null))):(this.resetCrosshair("x",o),this.resetCrosshair("y",o)),this.setCrossHairsVisible(this.get("visible"))}},e.prototype.resetCrosshair=function(t,n){var o=this.checkCrosshair(t),u=this.get(t);t==="x"?Ri(o,{left:Wd(u),top:Wd(n.y),height:Wd(n.height)}):Ri(o,{top:Wd(u),left:Wd(n.x),width:Wd(n.width)})},e.prototype.checkCrosshair=function(t){var n=t+"CrosshairDom",o=t+"CrosshairTpl",u="CROSSHAIR_"+t.toUpperCase(),l=F[u],c=this.get(n),f=this.get("parent");return c||(c=Fa(this.get(o)),this.applyStyle(l,c),f.appendChild(c),this.set(n,c)),c},e.prototype.renderItems=function(){this.clearItemDoms();var t=this.get("items"),n=this.get("itemTpl"),o=this.get("listDom");o&&((0,w.each)(t,function(u){var l=hv.toCSSGradient(u.color),c=(0,Z.__assign)((0,Z.__assign)({},u),{color:l}),f=(0,w.substitute)(n,c),h=Fa(f);o.appendChild(h)}),this.applyChildrenStyles(o,this.get("domStyles")))},e.prototype.clearItemDoms=function(){this.get("listDom")&&H2(this.get("listDom"))},e.prototype.clearCrosshairs=function(){var t=this.get("xCrosshairDom"),n=this.get("yCrosshairDom");t&&t.remove(),n&&n.remove(),this.set("xCrosshairDom",null),this.set("yCrosshairDom",null)},e}($2),d4=h4,v4={opacity:0},p4={stroke:"#C5C5C5",strokeOpacity:.85},g4={fill:"#CACED4",opacity:.85};function y4(a){return(0,w.map)(a,function(e,t){var n=t===0?"M":"L",o=e[0],u=e[1];return[n,o,u]})}function DT(a){return y4(a)}function m4(a){if(a.length<=2)return DT(a);var e=[];(0,w.each)(a,function(l){(0,w.isEqual)(l,e.slice(e.length-2))||e.push(l[0],l[1])});var t=S0(e,!1),n=(0,w.head)(a),o=n[0],u=n[1];return t.unshift(["M",o,u]),t}function x4(a,e,t,n){n===void 0&&(n=!0);var o=new Me({values:a}),u=new dv({values:(0,w.map)(a,function(c,f){return f})}),l=(0,w.map)(a,function(c,f){return[u.scale(f)*e,t-o.scale(c)*t]});return n?m4(l):DT(l)}function b4(a,e){var t=new Me({values:a}),n=t.max<0?t.max:Math.max(0,t.min);return e-t.scale(n)*e}function E4(a,e,t,n){var o=(0,Z.__spreadArrays)(a),u=b4(n,t);return o.push(["L",e,u]),o.push(["L",0,u]),o.push(["Z"]),o}var S4=function(a){(0,Z.__extends)(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=a.prototype.getDefaultCfg.call(this);return(0,Z.__assign)((0,Z.__assign)({},t),{name:"trend",x:0,y:0,width:200,height:16,smooth:!0,isArea:!1,data:[],backgroundStyle:v4,lineStyle:p4,areaStyle:g4})},e.prototype.renderInner=function(t){var n=this.cfg,o=n.width,u=n.height,l=n.data,c=n.smooth,f=n.isArea,h=n.backgroundStyle,v=n.lineStyle,p=n.areaStyle;this.addShape(t,{id:this.getElementId("background"),type:"rect",attrs:(0,Z.__assign)({x:0,y:0,width:o,height:u},h)});var g=x4(l,o,u,c);if(this.addShape(t,{id:this.getElementId("line"),type:"path",attrs:(0,Z.__assign)({path:g},v)}),f){var E=E4(g,o,u,l);this.addShape(t,{id:this.getElementId("area"),type:"path",attrs:(0,Z.__assign)({path:E},p)})}},e.prototype.applyOffset=function(){var t=this.cfg,n=t.x,o=t.y;this.moveElementTo(this.get("group"),{x:n,y:o})},e}(Kf),Blt=null,PT={fill:"#F7F7F7",stroke:"#BFBFBF",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#FFF"},LT=function(a){(0,Z.__extends)(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=a.prototype.getDefaultCfg.call(this);return(0,Z.__assign)((0,Z.__assign)({},t),{name:"handler",x:0,y:0,width:10,height:24,style:PT})},e.prototype.renderInner=function(t){var n=this.cfg,o=n.width,u=n.height,l=n.style,c=l.fill,f=l.stroke,h=l.radius,v=l.opacity,p=l.cursor;this.addShape(t,{type:"rect",id:this.getElementId("background"),attrs:{x:0,y:0,width:o,height:u,fill:c,stroke:f,radius:h,opacity:v,cursor:p}});var g=1/3*o,E=2/3*o,D=1/4*u,G=3/4*u;this.addShape(t,{id:this.getElementId("line-left"),type:"line",attrs:{x1:g,y1:D,x2:g,y2:G,stroke:f,cursor:p}}),this.addShape(t,{id:this.getElementId("line-right"),type:"line",attrs:{x1:E,y1:D,x2:E,y2:G,stroke:f,cursor:p}})},e.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},e.prototype.initEvent=function(){this.bindEvents()},e.prototype.bindEvents=function(){var t=this;this.get("group").on("mouseenter",function(){var n=t.get("style").highLightFill;t.getElementByLocalId("background").attr("fill",n),t.draw()}),this.get("group").on("mouseleave",function(){var n=t.get("style").fill;t.getElementByLocalId("background").attr("fill",n),t.draw()})},e.prototype.draw=function(){var t=this.get("container").get("canvas");t&&t.draw()},e}(Kf),Glt=null,w4={fill:"#416180",opacity:.05},_4={fill:"#5B8FF9",opacity:.15,cursor:"move"},oE=10,A4={width:oE,height:24},C4={textBaseline:"middle",fill:"#000",opacity:.45},T4="sliderchange",M4=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.onMouseDown=function(n){return function(o){t.currentTarget=n;var u=o.originalEvent;u.stopPropagation(),u.preventDefault(),t.prevX=(0,w.get)(u,"touches.0.pageX",u.pageX),t.prevY=(0,w.get)(u,"touches.0.pageY",u.pageY);var l=t.getContainerDOM();l.addEventListener("mousemove",t.onMouseMove),l.addEventListener("mouseup",t.onMouseUp),l.addEventListener("mouseleave",t.onMouseUp),l.addEventListener("touchmove",t.onMouseMove),l.addEventListener("touchend",t.onMouseUp),l.addEventListener("touchcancel",t.onMouseUp)}},t.onMouseMove=function(n){var o=t.cfg.width,u=[t.get("start"),t.get("end")];n.stopPropagation(),n.preventDefault();var l=(0,w.get)(n,"touches.0.pageX",n.pageX),c=(0,w.get)(n,"touches.0.pageY",n.pageY),f=l-t.prevX,h=t.adjustOffsetRange(f/o);t.updateStartEnd(h),t.updateUI(t.getElementByLocalId("foreground"),t.getElementByLocalId("minText"),t.getElementByLocalId("maxText")),t.prevX=l,t.prevY=c,t.draw(),t.emit(T4,[t.get("start"),t.get("end")].sort()),t.delegateEmit("valuechanged",{originValue:u,value:[t.get("start"),t.get("end")]})},t.onMouseUp=function(){t.currentTarget&&(t.currentTarget=void 0);var n=t.getContainerDOM();n&&(n.removeEventListener("mousemove",t.onMouseMove),n.removeEventListener("mouseup",t.onMouseUp),n.removeEventListener("mouseleave",t.onMouseUp),n.removeEventListener("touchmove",t.onMouseMove),n.removeEventListener("touchend",t.onMouseUp),n.removeEventListener("touchcancel",t.onMouseUp))},t}return e.prototype.setRange=function(t,n){this.set("minLimit",t),this.set("maxLimit",n);var o=this.get("start"),u=this.get("end"),l=(0,w.clamp)(o,t,n),c=(0,w.clamp)(u,t,n);!this.get("isInit")&&(o!==l||u!==c)&&this.setValue([l,c])},e.prototype.getRange=function(){return{min:this.get("minLimit")||0,max:this.get("maxLimit")||1}},e.prototype.setValue=function(t){var n=this.getRange();if((0,w.isArray)(t)&&t.length===2){var o=[this.get("start"),this.get("end")];this.update({start:(0,w.clamp)(t[0],n.min,n.max),end:(0,w.clamp)(t[1],n.min,n.max)}),this.get("updateAutoRender")||this.render(),this.delegateEmit("valuechanged",{originValue:o,value:t})}},e.prototype.getValue=function(){return[this.get("start"),this.get("end")]},e.prototype.getDefaultCfg=function(){var t=a.prototype.getDefaultCfg.call(this);return(0,Z.__assign)((0,Z.__assign)({},t),{name:"slider",x:0,y:0,width:100,height:16,backgroundStyle:{},foregroundStyle:{},handlerStyle:{},textStyle:{},defaultCfg:{backgroundStyle:w4,foregroundStyle:_4,handlerStyle:A4,textStyle:C4}})},e.prototype.update=function(t){var n=t.start,o=t.end,u=(0,Z.__assign)({},t);(0,w.isNil)(n)||(u.start=(0,w.clamp)(n,0,1)),(0,w.isNil)(o)||(u.end=(0,w.clamp)(o,0,1)),a.prototype.update.call(this,u),this.minHandler=this.getChildComponentById(this.getElementId("minHandler")),this.maxHandler=this.getChildComponentById(this.getElementId("maxHandler")),this.trend=this.getChildComponentById(this.getElementId("trend"))},e.prototype.init=function(){this.set("start",(0,w.clamp)(this.get("start"),0,1)),this.set("end",(0,w.clamp)(this.get("end"),0,1)),a.prototype.init.call(this)},e.prototype.render=function(){a.prototype.render.call(this),this.updateUI(this.getElementByLocalId("foreground"),this.getElementByLocalId("minText"),this.getElementByLocalId("maxText"))},e.prototype.renderInner=function(t){var n=this.cfg,o=n.start,u=n.end,l=n.width,c=n.height,f=n.trendCfg,h=f===void 0?{}:f,v=n.minText,p=n.maxText,g=n.backgroundStyle,E=g===void 0?{}:g,D=n.foregroundStyle,G=D===void 0?{}:D,H=n.textStyle,X=H===void 0?{}:H,rt=(0,w.deepMix)({},PT,this.cfg.handlerStyle),ht=o*l,mt=u*l;(0,w.size)((0,w.get)(h,"data"))&&(this.trend=this.addComponent(t,(0,Z.__assign)({component:S4,id:this.getElementId("trend"),x:0,y:0,width:l,height:c},h))),this.addShape(t,{id:this.getElementId("background"),type:"rect",attrs:(0,Z.__assign)({x:0,y:0,width:l,height:c},E)});var Dt=this.addShape(t,{id:this.getElementId("minText"),type:"text",attrs:(0,Z.__assign)({y:c/2,textAlign:"right",text:v,silent:!1},X)}),kt=this.addShape(t,{id:this.getElementId("maxText"),type:"text",attrs:(0,Z.__assign)({y:c/2,textAlign:"left",text:p,silent:!1},X)}),Vt=this.addShape(t,{id:this.getElementId("foreground"),name:"foreground",type:"rect",attrs:(0,Z.__assign)({y:0,height:c},G)}),te=(0,w.get)(rt,"width",oE),le=(0,w.get)(rt,"height",24);this.minHandler=this.addComponent(t,{component:LT,id:this.getElementId("minHandler"),name:"handler-min",x:0,y:(c-le)/2,width:te,height:le,cursor:"ew-resize",style:rt}),this.maxHandler=this.addComponent(t,{component:LT,id:this.getElementId("maxHandler"),name:"handler-max",x:0,y:(c-le)/2,width:te,height:le,cursor:"ew-resize",style:rt})},e.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},e.prototype.initEvent=function(){this.bindEvents()},e.prototype.updateUI=function(t,n,o){var u=this.cfg,l=u.start,c=u.end,f=u.width,h=u.minText,v=u.maxText,p=u.handlerStyle,g=u.height,E=l*f,D=c*f;this.trend&&(this.trend.update({width:f,height:g}),this.get("updateAutoRender")||this.trend.render()),t.attr("x",E),t.attr("width",D-E);var G=(0,w.get)(p,"width",oE);n.attr("text",h),o.attr("text",v);var H=this._dodgeText([E,D],n,o),X=H[0],rt=H[1];this.minHandler&&(this.minHandler.update({x:E-G/2}),this.get("updateAutoRender")||this.minHandler.render()),(0,w.each)(X,function(ht,mt){return n.attr(mt,ht)}),this.maxHandler&&(this.maxHandler.update({x:D-G/2}),this.get("updateAutoRender")||this.maxHandler.render()),(0,w.each)(rt,function(ht,mt){return o.attr(mt,ht)})},e.prototype.bindEvents=function(){var t=this.get("group");t.on("handler-min:mousedown",this.onMouseDown("minHandler")),t.on("handler-min:touchstart",this.onMouseDown("minHandler")),t.on("handler-max:mousedown",this.onMouseDown("maxHandler")),t.on("handler-max:touchstart",this.onMouseDown("maxHandler"));var n=t.findById(this.getElementId("foreground"));n.on("mousedown",this.onMouseDown("foreground")),n.on("touchstart",this.onMouseDown("foreground"))},e.prototype.adjustOffsetRange=function(t){var n=this.cfg,o=n.start,u=n.end;switch(this.currentTarget){case"minHandler":{var l=0-o,c=1-o;return Math.min(c,Math.max(l,t))}case"maxHandler":{var l=0-u,c=1-u;return Math.min(c,Math.max(l,t))}case"foreground":{var l=0-o,c=1-u;return Math.min(c,Math.max(l,t))}}},e.prototype.updateStartEnd=function(t){var n=this.cfg,o=n.start,u=n.end;switch(this.currentTarget){case"minHandler":o+=t;break;case"maxHandler":u+=t;break;case"foreground":o+=t,u+=t;break}this.set("start",o),this.set("end",u)},e.prototype._dodgeText=function(t,n,o){var u,l,c=this.cfg,f=c.handlerStyle,h=c.width,v=2,p=(0,w.get)(f,"width",oE),g=t[0],E=t[1],D=!1;g>E&&(u=[E,g],g=u[0],E=u[1],l=[o,n],n=l[0],o=l[1],D=!0);var G=n.getBBox(),H=o.getBBox(),X=G.width>g-v?{x:g+p/2+v,textAlign:"left"}:{x:g-p/2-v,textAlign:"right"},rt=H.width>h-E-v?{x:E-p/2-v,textAlign:"right"}:{x:E+p/2+v,textAlign:"left"};return D?[rt,X]:[X,rt]},e.prototype.draw=function(){var t=this.get("container"),n=t&&t.get("canvas");n&&n.draw()},e.prototype.getContainerDOM=function(){var t=this.get("container"),n=t&&t.get("canvas");return n&&n.get("container")},e}(Kf),zlt=null;function lp(a,e,t){if(a){if(typeof a.addEventListener=="function")return a.addEventListener(e,t,!1),{remove:function(){a.removeEventListener(e,t,!1)}};if(typeof a.attachEvent=="function")return a.attachEvent("on"+e,t),{remove:function(){a.detachEvent("on"+e,t)}}}}var I4={trackColor:"rgba(0,0,0,0)",thumbColor:"rgba(0,0,0,0.15)",size:8,lineCap:"round"},aw={default:I4,hover:{thumbColor:"rgba(0,0,0,0.2)"}},O4=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.clearEvents=w.noop,t.onStartEvent=function(n){return function(o){t.isMobile=n,o.originalEvent.preventDefault();var u=n?(0,w.get)(o.originalEvent,"touches.0.clientX"):o.clientX,l=n?(0,w.get)(o.originalEvent,"touches.0.clientY"):o.clientY;t.startPos=t.cfg.isHorizontal?u:l,t.bindLaterEvent()}},t.bindLaterEvent=function(){var n=t.getContainerDOM(),o=[];t.isMobile?o=[lp(n,"touchmove",t.onMouseMove),lp(n,"touchend",t.onMouseUp),lp(n,"touchcancel",t.onMouseUp)]:o=[lp(n,"mousemove",t.onMouseMove),lp(n,"mouseup",t.onMouseUp),lp(n,"mouseleave",t.onMouseUp)],t.clearEvents=function(){o.forEach(function(u){u.remove()})}},t.onMouseMove=function(n){var o=t.cfg,u=o.isHorizontal,l=o.thumbOffset;n.preventDefault();var c=t.isMobile?(0,w.get)(n,"touches.0.clientX"):n.clientX,f=t.isMobile?(0,w.get)(n,"touches.0.clientY"):n.clientY,h=u?c:f,v=h-t.startPos;t.startPos=h,t.updateThumbOffset(l+v)},t.onMouseUp=function(n){n.preventDefault(),t.clearEvents()},t.onTrackClick=function(n){var o=t.cfg,u=o.isHorizontal,l=o.x,c=o.y,f=o.thumbLen,h=t.getContainerDOM(),v=h.getBoundingClientRect(),p=n.clientX,g=n.clientY,E=u?p-v.left-l-f/2:g-v.top-c-f/2,D=t.validateRange(E);t.updateThumbOffset(D)},t.onThumbMouseOver=function(){var n=t.cfg.theme.hover.thumbColor;t.getElementByLocalId("thumb").attr("stroke",n),t.draw()},t.onThumbMouseOut=function(){var n=t.cfg.theme.default.thumbColor;t.getElementByLocalId("thumb").attr("stroke",n),t.draw()},t}return e.prototype.setRange=function(t,n){this.set("minLimit",t),this.set("maxLimit",n);var o=this.getValue(),u=(0,w.clamp)(o,t,n);o!==u&&!this.get("isInit")&&this.setValue(u)},e.prototype.getRange=function(){var t=this.get("minLimit")||0,n=this.get("maxLimit")||1;return{min:t,max:n}},e.prototype.setValue=function(t){var n=this.getRange(),o=this.getValue();this.update({thumbOffset:(this.get("trackLen")-this.get("thumbLen"))*(0,w.clamp)(t,n.min,n.max)}),this.delegateEmit("valuechange",{originalValue:o,value:this.getValue()})},e.prototype.getValue=function(){return(0,w.clamp)(this.get("thumbOffset")/(this.get("trackLen")-this.get("thumbLen")),0,1)},e.prototype.getDefaultCfg=function(){var t=a.prototype.getDefaultCfg.call(this);return(0,Z.__assign)((0,Z.__assign)({},t),{name:"scrollbar",isHorizontal:!0,minThumbLen:20,thumbOffset:0,theme:aw})},e.prototype.renderInner=function(t){this.renderTrackShape(t),this.renderThumbShape(t)},e.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},e.prototype.initEvent=function(){this.bindEvents()},e.prototype.renderTrackShape=function(t){var n=this.cfg,o=n.trackLen,u=n.theme,l=u===void 0?{default:{}}:u,c=(0,w.deepMix)({},aw,l).default,f=c.lineCap,h=c.trackColor,v=c.size,p=(0,w.get)(this.cfg,"size",v),g=this.get("isHorizontal")?{x1:0+p/2,y1:p/2,x2:o-p/2,y2:p/2,lineWidth:p,stroke:h,lineCap:f}:{x1:p/2,y1:0+p/2,x2:p/2,y2:o-p/2,lineWidth:p,stroke:h,lineCap:f};return this.addShape(t,{id:this.getElementId("track"),name:"track",type:"line",attrs:g})},e.prototype.renderThumbShape=function(t){var n=this.cfg,o=n.thumbOffset,u=n.thumbLen,l=n.theme,c=(0,w.deepMix)({},aw,l).default,f=c.size,h=c.lineCap,v=c.thumbColor,p=(0,w.get)(this.cfg,"size",f),g=this.get("isHorizontal")?{x1:o+p/2,y1:p/2,x2:o+u-p/2,y2:p/2,lineWidth:p,stroke:v,lineCap:h,cursor:"default"}:{x1:p/2,y1:o+p/2,x2:p/2,y2:o+u-p/2,lineWidth:p,stroke:v,lineCap:h,cursor:"default"};return this.addShape(t,{id:this.getElementId("thumb"),name:"thumb",type:"line",attrs:g})},e.prototype.bindEvents=function(){var t=this.get("group");t.on("mousedown",this.onStartEvent(!1)),t.on("mouseup",this.onMouseUp),t.on("touchstart",this.onStartEvent(!0)),t.on("touchend",this.onMouseUp);var n=t.findById(this.getElementId("track"));n.on("click",this.onTrackClick);var o=t.findById(this.getElementId("thumb"));o.on("mouseover",this.onThumbMouseOver),o.on("mouseout",this.onThumbMouseOut)},e.prototype.getContainerDOM=function(){var t=this.get("container"),n=t&&t.get("canvas");return n&&n.get("container")},e.prototype.validateRange=function(t){var n=this.cfg,o=n.thumbLen,u=n.trackLen,l=t;return t+o>u?l=u-o:t+o<o&&(l=0),l},e.prototype.draw=function(){var t=this.get("container"),n=t&&t.get("canvas");n&&n.draw()},e.prototype.updateThumbOffset=function(t){var n=this.cfg,o=n.thumbOffset,u=n.isHorizontal,l=n.thumbLen,c=n.size,f=this.validateRange(t);if(f!==o){var h=this.getElementByLocalId("thumb");u?h.attr({x1:f+c/2,x2:f+l-c/2}):h.attr({y1:f+c/2,y2:f+l-c/2}),this.emitOffsetChange(f)}},e.prototype.emitOffsetChange=function(t){var n=this.cfg,o=n.thumbOffset,u=n.trackLen,l=n.thumbLen;this.cfg.thumbOffset=t,this.emit("scrollchange",{thumbOffset:t,ratio:(0,w.clamp)(t/(u-l),0,1)}),this.delegateEmit("valuechange",{originalValue:o,value:t})},e}(Kf),D4=GB,P4=UB,L4=t4,R4=JB,RT=n4,F4=o4,ow=d4;function N4(a){if((0,w.isEmpty)(a))return null;var e=a[0].x,t=a[0].x,n=a[0].y,o=a[0].y;return(0,w.each)(a,function(u){e=e>u.x?u.x:e,t=t<u.x?u.x:t,n=n>u.y?u.y:n,o=o<u.y?u.y:o}),{minX:e,maxX:t,minY:n,maxY:o,centerX:(e+t)/2,centerY:(n+o)/2}}function FT(a){return Array.from(new Set(a)).length===1}function NT(a){return((0,w.min)(a)+(0,w.max)(a))/2}function _l(a,e,t,n){return{x:a+t*Math.cos(n),y:e+t*Math.sin(n)}}function Zg(a,e,t,n,o,u){u===void 0&&(u=0);var l=_l(a,e,t,n),c=_l(a,e,t,o),f=_l(a,e,u,n),h=_l(a,e,u,o);if(o-n===Math.PI*2){var v=_l(a,e,t,n+Math.PI),p=_l(a,e,u,n+Math.PI),g=[["M",l.x,l.y],["A",t,t,0,1,1,v.x,v.y],["A",t,t,0,1,1,c.x,c.y],["M",f.x,f.y]];return u&&(g.push(["A",u,u,0,1,0,p.x,p.y]),g.push(["A",u,u,0,1,0,h.x,h.y])),g.push(["M",l.x,l.y]),g.push(["Z"]),g}var E=o-n<=Math.PI?0:1,D=[["M",l.x,l.y],["A",t,t,0,E,1,c.x,c.y],["L",h.x,h.y]];return u&&D.push(["A",u,u,0,E,0,f.x,f.y]),D.push(["L",l.x,l.y]),D.push(["Z"]),D}function kT(a,e,t,n,o){var u=_l(a,e,t,n),l=_l(a,e,t,o);if((0,w.isNumberEqual)(o-n,Math.PI*2)){var c=_l(a,e,t,n+Math.PI);return[["M",u.x,u.y],["A",t,t,0,1,1,c.x,c.y],["A",t,t,0,1,1,u.x,u.y],["A",t,t,0,1,0,c.x,c.y],["A",t,t,0,1,0,u.x,u.y],["Z"]]}var f=o-n<=Math.PI?0:1;return[["M",u.x,u.y],["A",t,t,0,f,1,l.x,l.y]]}function Mx(a,e){var t=a.points,n=N4(t),o,u,l=e.startAngle,c=e.endAngle,f=c-l;return e.isTransposed?(o=n.maxY*f,u=n.minY*f):(o=n.maxX*f,u=n.minX*f),o+=l,u+=l,{startAngle:u,endAngle:o}}function k4(a,e){if((0,w.isNumber)(a)&&(0,w.isNumber)(e))return[a,e];if(a=a,e=e,FT(a)||FT(e))return[NT(a),NT(e)];for(var t=-1,n=0,o=0,u,l=a.length-1,c,f=0;++t<a.length;)u=l,l=t,f+=c=a[u]*e[l]-a[l]*e[u],n+=(a[u]+a[l])*c,o+=(e[u]+e[l])*c;return f*=3,[n/f,o/f]}function BT(a,e){var t=a.attr(),n=e.attr();return(0,w.each)(t,function(o,u){n[u]===void 0&&(n[u]=void 0)}),n}function Tm(a,e,t){var n=Math.min(e,t),o=Math.max(e,t);return a>=n&&a<=o}function B4(a,e,t){if((0,w.isString)(a))return a.padEnd(e,t);if((0,w.isArray)(a)){var n=a.length;if(n<e)for(var o=e-n,u=0;u<o;u++)a.push(t)}return a}function Hd(a,e){return typeof a=="object"&&e.forEach(function(t){delete a[t]}),a}function Qg(a,e,t){e===void 0&&(e=[]),t===void 0&&(t=new Map);for(var n=0,o=a;n<o.length;n++){var u=o[n];t.has(u)||(e.push(u),t.set(u,!0))}return e}var kh=function(){function a(e,t,n,o){e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0),o===void 0&&(o=0),this.x=e,this.y=t,this.height=o,this.width=n}return a.fromRange=function(e,t,n,o){return new a(e,t,n-e,o-t)},a.fromObject=function(e){return new a(e.minX,e.minY,e.width,e.height)},Object.defineProperty(a.prototype,"minX",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"maxX",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"minY",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"maxY",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"tl",{get:function(){return{x:this.x,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"tr",{get:function(){return{x:this.maxX,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"bl",{get:function(){return{x:this.x,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"br",{get:function(){return{x:this.maxX,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"top",{get:function(){return{x:this.x+this.width/2,y:this.minY}},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"right",{get:function(){return{x:this.maxX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"bottom",{get:function(){return{x:this.x+this.width/2,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"left",{get:function(){return{x:this.minX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),a.prototype.isEqual=function(e){return this.x===e.x&&this.y===e.y&&this.width===e.width&&this.height===e.height},a.prototype.contains=function(e){return e.minX>=this.minX&&e.maxX<=this.maxX&&e.minY>=this.minY&&e.maxY<=this.maxY},a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height)},a.prototype.add=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.clone();return(0,w.each)(e,function(o){n.x=Math.min(o.x,n.x),n.y=Math.min(o.y,n.y),n.width=Math.max(o.maxX,n.maxX)-n.x,n.height=Math.max(o.maxY,n.maxY)-n.y}),n},a.prototype.merge=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.clone();return(0,w.each)(e,function(o){n.x=Math.max(o.x,n.x),n.y=Math.max(o.y,n.y),n.width=Math.min(o.maxX,n.maxX)-n.x,n.height=Math.min(o.maxY,n.maxY)-n.y}),n},a.prototype.cut=function(e,t){var n=e.width,o=e.height;switch(t){case An.TOP:case An.TOP_LEFT:case An.TOP_RIGHT:return a.fromRange(this.minX,this.minY+o,this.maxX,this.maxY);case An.RIGHT:case An.RIGHT_TOP:case An.RIGHT_BOTTOM:return a.fromRange(this.minX,this.minY,this.maxX-n,this.maxY);case An.BOTTOM:case An.BOTTOM_LEFT:case An.BOTTOM_RIGHT:return a.fromRange(this.minX,this.minY,this.maxX,this.maxY-o);case An.LEFT:case An.LEFT_TOP:case An.LEFT_BOTTOM:return a.fromRange(this.minX+n,this.minY,this.maxX,this.maxY);default:return this}},a.prototype.shrink=function(e){var t=e[0],n=e[1],o=e[2],u=e[3];return new a(this.x+u,this.y+t,this.width-u-n,this.height-t-o)},a.prototype.expand=function(e){var t=e[0],n=e[1],o=e[2],u=e[3];return new a(this.x-u,this.y-t,this.width+u+n,this.height+t+o)},a.prototype.exceed=function(e){return[Math.max(-this.minY+e.minY,0),Math.max(this.maxX-e.maxX,0),Math.max(this.maxY-e.maxY,0),Math.max(-this.minX+e.minX,0)]},a.prototype.collide=function(e){return this.minX<e.maxX&&this.maxX>e.minX&&this.minY<e.maxY&&this.maxY>e.minY},a.prototype.size=function(){return this.width*this.height},a.prototype.isPointIn=function(e){return e.x>=this.minX&&e.x<=this.maxX&&e.y>=this.minY&&e.y<=this.maxY},a}(),Ult=function(a,e){var t=e.start,n=e.end;return new kh(a.x+a.width*t.x,a.y+a.height*t.y,a.width*Math.abs(n.x-t.x),a.height*Math.abs(n.y-t.y))};function G4(a){return[[a.minX,a.minY],[a.maxX,a.minY],[a.maxX,a.maxY],[a.minX,a.maxY]]}function Ix(a){if(a.isPolar&&!a.isTransposed)return(a.endAngle-a.startAngle)*a.getRadius();var e=a.convert({x:0,y:0}),t=a.convert({x:1,y:0});return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function z4(a){if(a.isPolar){var e=a.startAngle,t=a.endAngle;return t-e===Math.PI*2}return!1}function sE(a,e){var t=a.getCenter();return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function sw(a,e){var t=!1;if(a)if(a.type==="theta"){var n=a.start,o=a.end;t=Tm(e.x,n.x,o.x)&&Tm(e.y,n.y,o.y)}else{var u=a.invert(e);t=Tm(u.x,0,1)&&Tm(u.y,0,1)}return t}function Mm(a,e){var t=a.getCenter();return Math.atan2(e.y-t.y,e.x-t.x)}function uw(a,e){e===void 0&&(e=0);var t=a.start,n=a.end,o=a.getWidth(),u=a.getHeight();if(a.isPolar){var l=a.startAngle,c=a.endAngle,f=a.getCenter(),h=a.getRadius();return{type:"path",startState:{path:Zg(f.x,f.y,h+e,l,l)},endState:function(p){var g=(c-l)*p+l,E=Zg(f.x,f.y,h+e,l,g);return{path:E}},attrs:{path:Zg(f.x,f.y,h+e,l,c)}}}var v;return a.isTransposed?v={height:u+e*2}:v={width:o+e*2},{type:"rect",startState:{x:t.x-e,y:n.y-e,width:a.isTransposed?o+e*2:0,height:a.isTransposed?0:u+e*2},endState:v,attrs:{x:t.x-e,y:n.y-e,width:o+e*2,height:u+e*2}}}function U4(a,e){e===void 0&&(e=0);var t=a.start,n=a.end,o=a.getWidth(),u=a.getHeight(),l=Math.min(t.x,n.x),c=Math.min(t.y,n.y);return kh.fromRange(l-e,c-e,l+o+e,c+u+e)}var j4=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;function W4(a){var e="linear";return j4.test(a)?e="timeCat":(0,w.isString)(a)&&(e="cat"),e}function GT(a,e,t,n){return e===void 0&&(e={}),e.type?e.type:a.type!=="identity"&&ac.includes(t)&&["interval"].includes(n)||a.isCategory?"cat":a.type}function V4(a,e,t){var n=e||[];if((0,w.isNumber)(a)||(0,w.isNil)((0,w.firstValue)(n,a))&&(0,w.isEmpty)(t)){var o=il("identity");return new o({field:a.toString(),values:[a]})}var u=(0,w.valuesOfKey)(n,a),l=(0,w.get)(t,"type",W4(u[0])),c=il(l);return new c((0,Z.__assign)({field:a,values:u},t))}function H4(a,e){if(a.type!=="identity"&&e.type!=="identity"){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);a.change(t)}}function Ox(a){return a.alias||a.field}function zT(a,e,t){var n=a.values,o=n.length,u;if(o===1)u=[.5,1];else{var l=1,c=0;z4(e)?e.isTransposed?(l=(0,w.get)(t,"widthRatio.multiplePie",1/1.3),c=1/o*l,u=[c/2,1-c/2]):u=[0,1-1/o]:(c=1/o/2,u=[c,1-c])}return u}function Y4(a){var e=a.values.filter(function(t){return!(0,w.isNil)(t)&&!isNaN(t)});return Math.max.apply(Math,(0,Z.__spreadArray)((0,Z.__spreadArray)([],e,!1),[(0,w.isNil)(a.max)?-1/0:a.max],!1))}function X4(a){var e,t;switch(a){case An.TOP:e={x:0,y:1},t={x:1,y:1};break;case An.RIGHT:e={x:1,y:0},t={x:1,y:1};break;case An.BOTTOM:e={x:0,y:0},t={x:1,y:0};break;case An.LEFT:e={x:0,y:0},t={x:0,y:1};break;default:e=t={x:0,y:0}}return{start:e,end:t}}function $4(a){var e,t;return a.isTransposed?(e={x:0,y:0},t={x:1,y:0}):(e={x:0,y:0},t={x:0,y:1}),{start:e,end:t}}function uE(a,e){var t={start:{x:0,y:0},end:{x:0,y:0}};a.isRect?t=X4(e):a.isPolar&&(t=$4(a));var n=t.start,o=t.end;return{start:a.convert(n),end:a.convert(o)}}function jlt(a,e){if(a.isRect)return a.isTransposed?[DIRECTION.RIGHT,DIRECTION.BOTTOM].includes(e)?1:-1:[DIRECTION.BOTTOM,DIRECTION.RIGHT].includes(e)?-1:1;if(a.isPolar){var t=a.x.start;return t<0?-1:1}return 1}function UT(a){var e=a.start,t=a.end;return e.x===t.x}function jT(a,e){var t=a.start,n=a.end,o=UT(a);return o?(t.y-n.y)*(e.x-t.x)>0?1:-1:(n.x-t.x)*(t.y-e.y)>0?-1:1}function lE(a,e){var t=(0,w.get)(a,["components","axis"],{});return(0,w.deepMix)({},(0,w.get)(t,["common"],{}),(0,w.deepMix)({},(0,w.get)(t,[e],{})))}function WT(a,e,t){var n=(0,w.get)(a,["components","axis"],{});return(0,w.deepMix)({},(0,w.get)(n,["common","title"],{}),(0,w.deepMix)({},(0,w.get)(n,[e,"title"],{})),t)}function lw(a){var e=a.x,t=a.y,n=a.circleCenter,o=t.start>t.end,u=a.isTransposed?a.convert({x:o?0:1,y:0}):a.convert({x:0,y:o?0:1}),l=[u.x-n.x,u.y-n.y],c=[1,0],f=u.y>n.y?Uc(l,c):Uc(l,c)*-1,h=f+(e.end-e.start),v=Math.sqrt(Math.pow(u.x-n.x,2)+Math.pow(u.y-n.y,2));return{center:n,radius:v,startAngle:f,endAngle:h}}function cE(a,e){return(0,w.isBoolean)(a)?a===!1?!1:{}:(0,w.get)(a,[e])}function VT(a,e){return(0,w.get)(a,"position",e)}function HT(a,e){return(0,w.get)(e,["title","text"],Ox(a))}var X0=function(){function a(e,t){this.destroyed=!1,this.facets=[],this.view=e,this.cfg=(0,w.deepMix)({},this.getDefaultCfg(),t)}return a.prototype.init=function(){this.container||(this.container=this.createContainer());var e=this.view.getData();this.facets=this.generateFacets(e)},a.prototype.render=function(){this.renderViews()},a.prototype.update=function(){},a.prototype.clear=function(){this.clearFacetViews()},a.prototype.destroy=function(){this.clear(),this.container&&(this.container.remove(!0),this.container=void 0),this.destroyed=!0,this.view=void 0,this.facets=[]},a.prototype.facetToView=function(e){var t=e.region,n=e.data,o=e.padding,u=o===void 0?this.cfg.padding:o,l=this.view.createView({region:t,padding:u});l.data(n||[]),e.view=l,this.beforeEachView(l,e);var c=this.cfg.eachView;return c&&c(l,e),this.afterEachView(l,e),l},a.prototype.createContainer=function(){var e=this.view.getLayer(hi.FORE);return e.addGroup()},a.prototype.renderViews=function(){this.createFacetViews()},a.prototype.createFacetViews=function(){var e=this;return this.facets.map(function(t){return e.facetToView(t)})},a.prototype.clearFacetViews=function(){var e=this;(0,w.each)(this.facets,function(t){t.view&&(e.view.removeView(t.view),t.view=void 0)})},a.prototype.parseSpacing=function(){var e=this.view.viewBBox,t=e.width,n=e.height,o=this.cfg.spacing;return o.map(function(u,l){return(0,w.isNumber)(u)?u/(l===0?t:n):parseFloat(u)/100})},a.prototype.getFieldValues=function(e,t){var n=[],o={};return(0,w.each)(e,function(u){var l=u[t];!(0,w.isNil)(l)&&!o[l]&&(n.push(l),o[l]=!0)}),n},a.prototype.getRegion=function(e,t,n,o){var u=this.parseSpacing(),l=u[0],c=u[1],f=(1+l)/(t===0?1:t)-l,h=(1+c)/(e===0?1:e)-c,v={x:(f+l)*n,y:(h+c)*o},p={x:v.x+f,y:v.y+h};return{start:v,end:p}},a.prototype.getDefaultCfg=function(){return{eachView:void 0,showTitle:!0,spacing:[0,0],padding:10,fields:[]}},a.prototype.getDefaultTitleCfg=function(){var e=this.view.getTheme().fontFamily;return{style:{fontSize:14,fill:"#666",fontFamily:e}}},a.prototype.processAxis=function(e,t){var n=e.getOptions(),o=n.coordinate,u=e.geometries,l=(0,w.get)(o,"type","rect");if(l==="rect"&&u.length){(0,w.isNil)(n.axes)&&(n.axes={});var c=n.axes,f=u[0].getXYFields(),h=f[0],v=f[1],p=cE(c,h),g=cE(c,v);p!==!1&&(n.axes[h]=this.getXAxisOption(h,c,p,t)),g!==!1&&(n.axes[v]=this.getYAxisOption(v,c,g,t))}},a.prototype.getFacetDataFilter=function(e){return function(t){return(0,w.every)(e,function(n){var o=n.field,u=n.value;return!(0,w.isNil)(u)&&o?t[o]===u:!0})}},a}(),YT={},XT=function(a){return YT[(0,w.lowerCase)(a)]},$0=function(a,e){YT[(0,w.lowerCase)(a)]=e},K4=function(){function a(e,t){this.context=e,this.cfg=t,e.addAction(this)}return a.prototype.applyCfg=function(e){(0,w.assign)(this,e)},a.prototype.init=function(){this.applyCfg(this.cfg)},a.prototype.destroy=function(){this.context.removeAction(this),this.context=null},a}(),Ws=K4,Z4=function(a){(0,Z.__extends)(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.execute=function(){this.callback&&this.callback(this.context)},e.prototype.destroy=function(){a.prototype.destroy.call(this),this.callback=null},e}(Ws),Q4=Z4,fE={};function J4(a,e){var t=fE[a],n=null;if(t){var o=t.ActionClass,u=t.cfg;n=new o(e,u),n.name=a,n.init()}return n}function Dx(a){var e=fE[a];return(0,w.get)(e,"ActionClass")}function na(a,e,t){fE[a]={ActionClass:e,cfg:t}}function Wlt(a){delete fE[a]}function q4(a,e){var t=new Q4(e);return t.callback=a,t.name="callback",t}function t5(a,e){var t=[];if(a.length){t.push(["M",a[0].x,a[0].y]);for(var n=1,o=a.length;n<o;n+=1){var u=a[n];t.push(["L",u.x,u.y])}e&&t.push(["Z"])}return t}function cw(a,e){for(var t=[a[0]],n=1,o=a.length;n<o;n=n+2){var u=e.convert({x:a[n],y:a[n+1]});t.push(u.x,u.y)}return t}function $T(a,e){var t=e.isTransposed,n=a[1],o=a[6],u=a[7],l=e.convert({x:o,y:u}),c=t?0:1;return["A",n,n,0,0,c,l.x,l.y]}function e5(a,e,t){var n=t.isTransposed,o=t.startAngle,u=t.endAngle,l=a[0].toLowerCase()==="a"?{x:a[6],y:a[7]}:{x:a[1],y:a[2]},c={x:e[1],y:e[2]},f=[],h=n?"y":"x",v=Math.abs(c[h]-l[h])*(u-o),p=c[h]>=l[h]?1:0,g=v>Math.PI?1:0,E=t.convert(c),D=sE(t,E);if(D>=.5)if(v===Math.PI*2){var G={x:(c.x+l.x)/2,y:(c.y+l.y)/2},H=t.convert(G);f.push(["A",D,D,0,g,p,H.x,H.y]),f.push(["A",D,D,0,g,p,E.x,E.y])}else f.push(["A",D,D,0,g,p,E.x,E.y]);return f}function r5(a){(0,w.each)(a,function(e,t){var n=e;if(n[0].toLowerCase()==="a"){var o=a[t-1],u=a[t+1];u&&u[0].toLowerCase()==="a"?o&&o[0].toLowerCase()==="l"&&(o[0]="M"):o&&o[0].toLowerCase()==="a"&&u&&u[0].toLowerCase()==="l"&&(u[0]="M")}})}var n5=function(a,e,t,n){var o=[],u=!!n,l,c,f,h,v,p,g;if(u){f=n[0],h=n[1];for(var E=0,D=a.length;E<D;E++){var G=a[E];f=_a([0,0],f,G),h=To([0,0],h,G)}}for(var E=0,H=a.length;E<H;E++){var G=a[E];if(E===0&&!t)g=G;else if(E===H-1&&!t)p=G,o.push(g),o.push(p);else{l=a[t?E?E-1:H-1:E-1],c=a[t?(E+1)%H:E+1];var X=[0,0];X=Lu(X,c,l),X=Ua(X,X,e);var rt=xu(G,l),ht=xu(G,c),mt=rt+ht;mt!==0&&(rt/=mt,ht/=mt);var Dt=Ua([0,0],X,-rt),kt=Ua([0,0],X,ht);p=Da([0,0],G,Dt),v=Da([0,0],G,kt),v=_a([0,0],v,To([0,0],c,G)),v=To([0,0],v,_a([0,0],c,G)),Dt=Lu([0,0],v,G),Dt=Ua([0,0],Dt,-rt/ht),p=Da([0,0],G,Dt),p=_a([0,0],p,To([0,0],l,G)),p=To([0,0],p,_a([0,0],l,G)),kt=Lu([0,0],G,p),kt=Ua([0,0],kt,ht/rt),v=Da([0,0],G,kt),u&&(p=To([0,0],p,f),p=_a([0,0],p,h),v=To([0,0],v,f),v=_a([0,0],v,h)),o.push(g),o.push(p),g=v}}return t&&o.push(o.shift()),o};function KT(a,e,t){for(var n=!!e,o=[],u=0,l=a.length;u<l;u+=2)o.push([a[u],a[u+1]]);for(var c=n5(o,.4,n,t),f=o.length,h=[],v,p,g,u=0;u<f-1;u++)v=c[u*2],p=c[u*2+1],g=o[u+1],h.push(["C",v[0],v[1],p[0],p[1],g[0],g[1]]);return n&&(v=c[f],p=c[f+1],g=o[0],h.push(["C",v[0],v[1],p[0],p[1],g[0],g[1]])),h}function Px(a,e){return t5(a,e)}function hE(a,e,t){var n=[],o=a[0],u=null;if(a.length<=2)return Px(a,e);for(var l=0,c=a.length;l<c;l++){var f=a[l];(!u||!(u.x===f.x&&u.y===f.y))&&(n.push(f.x),n.push(f.y),u=f)}var h=t||[[0,0],[1,1]],v=KT(n,e,h);return v.unshift(["M",o.x,o.y]),v}function i5(a,e){var t=[];return(0,w.each)(e,function(n){var o=n[0];switch(o.toLowerCase()){case"m":case"l":case"c":t.push(cw(n,a));break;case"a":t.push($T(n,a));break;case"z":default:t.push(n);break}}),t}function a5(a,e){var t=[],n,o,u,l;return(0,w.each)(e,function(c,f){var h=c[0];switch(h.toLowerCase()){case"m":case"c":case"q":t.push(cw(c,a));break;case"l":n=e[f-1],o=c,u=a.isTransposed,l=u?n[n.length-2]===o[1]:n[n.length-1]===o[2],l?t=t.concat(e5(n,o,a)):t.push(cw(c,a));break;case"a":t.push($T(c,a));break;case"z":default:t.push(c);break}}),r5(t),t}function ZT(a,e){var t=a.event,n=t.target,o=n.getCanvasBBox();return o.width>=e||o.height>=e?o:null}function o5(a,e){var t=a.event,n=t.target,o=n.getCanvasBBox();return o.width>=e||o.height>=e?n.attr("path"):null}function Jg(a){var e=a.event,t,n=e.target;return n&&(t=n.get("element")),t}function Im(a){var e=a.event,t=e.target,n;return t&&(n=t.get("delegateObject")),n}function QT(a){var e=a.event.gEvent;return!(e&&e.fromShape&&e.toShape&&e.fromShape.get("element")===e.toShape.get("element"))}function Lx(a){return a&&a.component&&a.component.isList()}function JT(a){return a&&a.component&&a.component.isSlider()}function Rx(a){var e=a.event,t=e.target;return t&&t.get("name")==="mask"}function fw(a,e){var t=a.event.target;if(t.get("type")==="path"){var n=o5(a,e);return n?l5(a.view,n):void 0}var o=ZT(a,e);return o?hw(a.view,o):null}function qT(a,e,t){var n=ZT(a,t);if(!n)return null;var o=a.view,u=vw(o,e,{x:n.x,y:n.y}),l=vw(o,e,{x:n.maxX,y:n.maxY}),c={minX:u.x,minY:u.y,maxX:l.x,maxY:l.y};return hw(e,c)}function Sf(a){var e=a.geometries,t=[];return(0,w.each)(e,function(n){var o=n.elements;t=t.concat(o)}),a.views&&a.views.length&&(0,w.each)(a.views,function(n){t=t.concat(Sf(n))}),t}function s5(a,e,t){var n=Sf(a);return n.filter(function(o){return cp(o,e)===t})}function tM(a,e){var t=a.geometries,n=[];return(0,w.each)(t,function(o){var u=o.getElementsBy(function(l){return l.hasState(e)});n=n.concat(u)}),n}function cp(a,e){var t=a.getModel(),n=t.data,o;return(0,w.isArray)(n)?o=n[0][e]:o=n[e],o}function u5(a,e){return!(e.minX>a.maxX||e.maxX<a.minX||e.minY>a.maxY||e.maxY<a.minY)}function hw(a,e){var t=Sf(a),n=[];return(0,w.each)(t,function(o){var u=o.shape,l=u.getCanvasBBox();u5(e,l)&&n.push(o)}),n}function eM(a){var e=[];return(0,w.each)(a,function(t){var n=t[0];if(n!=="A")for(var o=1;o<t.length;o=o+2)e.push([t[o],t[o+1]]);else{var u=t.length;e.push([t[u-2],t[u-1]])}}),e}function l5(a,e){var t=Sf(a),n=eM(e),o=t.filter(function(u){var l=u.shape,c;if(l.get("type")==="path")c=eM(l.attr("path"));else{var f=l.getCanvasBBox();c=G4(f)}return ru(n,c)});return o}function rM(a){return a.getComponents().map(function(e){return e.component})}function dw(a,e){var t=e.x-a.x,n=e.y-a.y;return Math.sqrt(t*t+n*n)}function c5(a,e){if(a.length<=2)return Px(a,!1);var t=a[0],n=[];(0,w.each)(a,function(u){n.push(u.x),n.push(u.y)});var o=KT(n,e,null);return o.unshift(["M",t.x,t.y]),o}function nM(a,e){return a.x<=e.x&&a.maxX>=e.x&&a.y<=e.y&&a.maxY>e.y}function Rp(a){var e=a.parent,t=null;return e&&(t=e.views.filter(function(n){return n!==a})),t}function f5(a,e){var t=a.getCoordinate();return t.invert(e)}function vw(a,e,t){var n=f5(a,t);return e.getCoordinate().convert(n)}function iM(a,e,t,n){var o=!1;return(0,w.each)(a,function(u){if(u[t]===e[t]&&u[n]===e[n])return o=!0,!1}),o}function Om(a,e){var t=a.getScaleByField(e);return!t&&a.views&&(0,w.each)(a.views,function(n){if(t=Om(n,e),t)return!1}),t}var h5=function(){function a(e){this.actions=[],this.event=null,this.cacheMap={},this.view=e}return a.prototype.cache=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(e.length===1)return this.cacheMap[e[0]];e.length===2&&(this.cacheMap[e[0]]=e[1])},a.prototype.getAction=function(e){return this.actions.find(function(t){return t.name===e})},a.prototype.addAction=function(e){this.actions.push(e)},a.prototype.removeAction=function(e){var t=this.actions,n=this.actions.indexOf(e);n>=0&&t.splice(n,1)},a.prototype.getCurrentPoint=function(){var e=this.event;if(e)if(e.target instanceof HTMLElement){var t=this.view.getCanvas(),n=t.getPointByClient(e.clientX,e.clientY);return n}else return{x:e.x,y:e.y};return null},a.prototype.getCurrentShape=function(){return(0,w.get)(this.event,["gEvent","shape"])},a.prototype.isInPlot=function(){var e=this.getCurrentPoint();return e?this.view.isPointInPlot(e):!1},a.prototype.isInShape=function(e){var t=this.getCurrentShape();return t?t.get("name")===e:!1},a.prototype.isInComponent=function(e){var t=rM(this.view),n=this.getCurrentPoint();return n?!!t.find(function(o){var u=o.getBBox();return e?o.get("name")===e&&nM(u,n):nM(u,n)}):!1},a.prototype.destroy=function(){(0,w.each)(this.actions.slice(),function(e){e.destroy()}),this.view=null,this.event=null,this.actions=null,this.cacheMap=null},a}(),d5=h5,v5=function(){function a(e,t){this.view=e,this.cfg=t}return a.prototype.init=function(){this.initEvents()},a.prototype.initEvents=function(){},a.prototype.clearEvents=function(){},a.prototype.destroy=function(){this.clearEvents()},a}(),aM=v5;function oM(a,e,t){var n=a.split(":"),o=n[0],u=e.getAction(o)||J4(o,e);if(!u)throw new Error("There is no action named ".concat(o));var l=n[1];return{action:u,methodName:l,arg:t}}function sM(a){var e=a.action,t=a.methodName,n=a.arg;if(e[t])e[t](n);else throw new Error("Action(".concat(e.name,") doesn't have a method called ").concat(t))}var yv={START:"start",SHOW_ENABLE:"showEnable",END:"end",ROLLBACK:"rollback",PROCESSING:"processing"},p5=function(a){(0,Z.__extends)(e,a);function e(t,n){var o=a.call(this,t,n)||this;return o.callbackCaches={},o.emitCaches={},o.steps=n,o}return e.prototype.init=function(){this.initContext(),a.prototype.init.call(this)},e.prototype.destroy=function(){a.prototype.destroy.call(this),this.steps=null,this.context&&(this.context.destroy(),this.context=null),this.callbackCaches=null,this.view=null},e.prototype.initEvents=function(){var t=this;(0,w.each)(this.steps,function(n,o){(0,w.each)(n,function(u){var l=t.getActionCallback(o,u);l&&t.bindEvent(u.trigger,l)})})},e.prototype.clearEvents=function(){var t=this;(0,w.each)(this.steps,function(n,o){(0,w.each)(n,function(u){var l=t.getActionCallback(o,u);l&&t.offEvent(u.trigger,l)})})},e.prototype.initContext=function(){var t=this.view,n=new d5(t);this.context=n;var o=this.steps;(0,w.each)(o,function(u){(0,w.each)(u,function(l){if((0,w.isFunction)(l.action))l.actionObject={action:q4(l.action,n),methodName:"execute"};else if((0,w.isString)(l.action))l.actionObject=oM(l.action,n,l.arg);else if((0,w.isArray)(l.action)){var c=l.action,f=(0,w.isArray)(l.arg)?l.arg:[l.arg];l.actionObject=[],(0,w.each)(c,function(h,v){l.actionObject.push(oM(h,n,f[v]))})}})})},e.prototype.isAllowStep=function(t){var n=this.currentStepName,o=this.steps;if(n===t||t===yv.SHOW_ENABLE)return!0;if(t===yv.PROCESSING)return n===yv.START;if(t===yv.START)return n!==yv.PROCESSING;if(t===yv.END)return n===yv.PROCESSING||n===yv.START;if(t===yv.ROLLBACK){if(o[yv.END])return n===yv.END;if(n===yv.START)return!0}return!1},e.prototype.isAllowExecute=function(t,n){if(this.isAllowStep(t)){var o=this.getKey(t,n);return n.once&&this.emitCaches[o]?!1:n.isEnable?n.isEnable(this.context):!0}return!1},e.prototype.enterStep=function(t){this.currentStepName=t,this.emitCaches={}},e.prototype.afterExecute=function(t,n){t!==yv.SHOW_ENABLE&&this.currentStepName!==t&&this.enterStep(t);var o=this.getKey(t,n);this.emitCaches[o]=!0},e.prototype.getKey=function(t,n){return t+n.trigger+n.action},e.prototype.getActionCallback=function(t,n){var o=this,u=this.context,l=this.callbackCaches,c=n.actionObject;if(n.action&&c){var f=this.getKey(t,n);if(!l[f]){var h=function(v){u.event=v,o.isAllowExecute(t,n)?((0,w.isArray)(c)?(0,w.each)(c,function(p){u.event=v,sM(p)}):(u.event=v,sM(c)),o.afterExecute(t,n),n.callback&&(u.event=v,n.callback(u))):u.event=null};n.debounce?l[f]=(0,w.debounce)(h,n.debounce.wait,n.debounce.immediate):n.throttle?l[f]=(0,w.throttle)(h,n.throttle.wait,{leading:n.throttle.leading,trailing:n.throttle.trailing}):l[f]=h}return l[f]}return null},e.prototype.bindEvent=function(t,n){var o=t.split(":");o[0]==="window"?window.addEventListener(o[1],n):o[0]==="document"?document.addEventListener(o[1],n):this.view.on(t,n)},e.prototype.offEvent=function(t,n){var o=t.split(":");o[0]==="window"?window.removeEventListener(o[1],n):o[0]==="document"?document.removeEventListener(o[1],n):this.view.off(t,n)},e}(aM),g5=p5,uM={};function lM(a){return uM[(0,w.lowerCase)(a)]}function Ta(a,e){uM[(0,w.lowerCase)(a)]=e}function y5(a,e,t){var n=lM(a);if(!n)return null;if((0,w.isPlainObject)(n)){var o=(0,w.mix)((0,w.clone)(n),t);return new g5(e,o)}else{var u=n;return new u(e,t)}}function m5(a){return{title:{autoRotate:!0,position:"center",spacing:a.axisTitleSpacing,style:{fill:a.axisTitleTextFillColor,fontSize:a.axisTitleTextFontSize,lineHeight:a.axisTitleTextLineHeight,textBaseline:"middle",fontFamily:a.fontFamily}},label:{autoRotate:!1,autoEllipsis:!1,autoHide:{type:"equidistance",cfg:{minGap:6}},offset:a.axisLabelOffset,style:{fill:a.axisLabelFillColor,fontSize:a.axisLabelFontSize,lineHeight:a.axisLabelLineHeight,fontFamily:a.fontFamily}},line:{style:{lineWidth:a.axisLineBorder,stroke:a.axisLineBorderColor}},grid:{line:{type:"line",style:{stroke:a.axisGridBorderColor,lineWidth:a.axisGridBorder,lineDash:a.axisGridLineDash}},alignTick:!0,animate:!0},tickLine:{style:{lineWidth:a.axisTickLineBorder,stroke:a.axisTickLineBorderColor},alignTick:!0,length:a.axisTickLineLength},subTickLine:null,animate:!0}}function x5(a){return{title:null,marker:{symbol:"circle",spacing:a.legendMarkerSpacing,style:{r:a.legendCircleMarkerSize,fill:a.legendMarkerColor}},itemName:{spacing:5,style:{fill:a.legendItemNameFillColor,fontFamily:a.fontFamily,fontSize:a.legendItemNameFontSize,lineHeight:a.legendItemNameLineHeight,fontWeight:a.legendItemNameFontWeight,textAlign:"start",textBaseline:"middle"}},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:"#D8D8D8"},markerStyle:{fill:"#D8D8D8",stroke:"#D8D8D8"}},inactive:{nameStyle:{fill:"#D8D8D8"},markerStyle:{opacity:.2}}},flipPage:!0,pageNavigator:{marker:{style:{size:a.legendPageNavigatorMarkerSize,inactiveFill:a.legendPageNavigatorMarkerInactiveFillColor,inactiveOpacity:a.legendPageNavigatorMarkerInactiveFillOpacity,fill:a.legendPageNavigatorMarkerFillColor,opacity:a.legendPageNavigatorMarkerFillOpacity}},text:{style:{fill:a.legendPageNavigatorTextFillColor,fontSize:a.legendPageNavigatorTextFontSize}}},animate:!1,maxItemWidth:200,itemSpacing:a.legendItemSpacing,itemMarginBottom:a.legendItemMarginBottom,padding:a.legendPadding}}function cM(a){var e,t={point:{default:{fill:a.pointFillColor,r:a.pointSize,stroke:a.pointBorderColor,lineWidth:a.pointBorder,fillOpacity:a.pointFillOpacity},active:{stroke:a.pointActiveBorderColor,lineWidth:a.pointActiveBorder},selected:{stroke:a.pointSelectedBorderColor,lineWidth:a.pointSelectedBorder},inactive:{fillOpacity:a.pointInactiveFillOpacity,strokeOpacity:a.pointInactiveBorderOpacity}},hollowPoint:{default:{fill:a.hollowPointFillColor,lineWidth:a.hollowPointBorder,stroke:a.hollowPointBorderColor,strokeOpacity:a.hollowPointBorderOpacity,r:a.hollowPointSize},active:{stroke:a.hollowPointActiveBorderColor,strokeOpacity:a.hollowPointActiveBorderOpacity},selected:{lineWidth:a.hollowPointSelectedBorder,stroke:a.hollowPointSelectedBorderColor,strokeOpacity:a.hollowPointSelectedBorderOpacity},inactive:{strokeOpacity:a.hollowPointInactiveBorderOpacity}},area:{default:{fill:a.areaFillColor,fillOpacity:a.areaFillOpacity,stroke:null},active:{fillOpacity:a.areaActiveFillOpacity},selected:{fillOpacity:a.areaSelectedFillOpacity},inactive:{fillOpacity:a.areaInactiveFillOpacity}},hollowArea:{default:{fill:null,stroke:a.hollowAreaBorderColor,lineWidth:a.hollowAreaBorder,strokeOpacity:a.hollowAreaBorderOpacity},active:{fill:null,lineWidth:a.hollowAreaActiveBorder},selected:{fill:null,lineWidth:a.hollowAreaSelectedBorder},inactive:{strokeOpacity:a.hollowAreaInactiveBorderOpacity}},interval:{default:{fill:a.intervalFillColor,fillOpacity:a.intervalFillOpacity},active:{stroke:a.intervalActiveBorderColor,lineWidth:a.intervalActiveBorder},selected:{stroke:a.intervalSelectedBorderColor,lineWidth:a.intervalSelectedBorder},inactive:{fillOpacity:a.intervalInactiveFillOpacity,strokeOpacity:a.intervalInactiveBorderOpacity}},hollowInterval:{default:{fill:a.hollowIntervalFillColor,stroke:a.hollowIntervalBorderColor,lineWidth:a.hollowIntervalBorder,strokeOpacity:a.hollowIntervalBorderOpacity},active:{stroke:a.hollowIntervalActiveBorderColor,lineWidth:a.hollowIntervalActiveBorder,strokeOpacity:a.hollowIntervalActiveBorderOpacity},selected:{stroke:a.hollowIntervalSelectedBorderColor,lineWidth:a.hollowIntervalSelectedBorder,strokeOpacity:a.hollowIntervalSelectedBorderOpacity},inactive:{stroke:a.hollowIntervalInactiveBorderColor,lineWidth:a.hollowIntervalInactiveBorder,strokeOpacity:a.hollowIntervalInactiveBorderOpacity}},line:{default:{stroke:a.lineBorderColor,lineWidth:a.lineBorder,strokeOpacity:a.lineBorderOpacity,fill:null,lineAppendWidth:10,lineCap:"round",lineJoin:"round"},active:{lineWidth:a.lineActiveBorder},selected:{lineWidth:a.lineSelectedBorder},inactive:{strokeOpacity:a.lineInactiveBorderOpacity}}},n=m5(a),o=x5(a);return{background:a.backgroundColor,defaultColor:a.brandColor,subColor:a.subColor,semanticRed:a.paletteSemanticRed,semanticGreen:a.paletteSemanticGreen,padding:"auto",fontFamily:a.fontFamily,columnWidthRatio:1/2,maxColumnWidth:null,minColumnWidth:null,roseWidthRatio:.9999999,multiplePieWidthRatio:1/1.3,colors10:a.paletteQualitative10,colors20:a.paletteQualitative20,sequenceColors:a.paletteSequence,shapes:{point:["hollow-circle","hollow-square","hollow-bowtie","hollow-diamond","hollow-hexagon","hollow-triangle","hollow-triangle-down","circle","square","bowtie","diamond","hexagon","triangle","triangle-down","cross","tick","plus","hyphen","line"],line:["line","dash","dot","smooth"],area:["area","smooth","line","smooth-line"],interval:["rect","hollow-rect","line","tick"]},sizes:[1,10],geometries:{interval:{rect:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:function(u){var l=u.geometry.coordinate;if(l.isPolar&&l.isTransposed){var c=Mx(u.getModel(),l),f=c.startAngle,h=c.endAngle,v=(f+h)/2,p=7.5,g=p*Math.cos(v),E=p*Math.sin(v);return{matrix:ka(null,[["t",g,E]])}}return t.interval.selected}}},"hollow-rect":{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},line:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},tick:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},funnel:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}},pyramid:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}}},line:{line:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},dot:{default:{style:(0,Z.__assign)((0,Z.__assign)({},t.line.default),{lineCap:null,lineDash:[1,1]})},active:{style:(0,Z.__assign)((0,Z.__assign)({},t.line.active),{lineCap:null,lineDash:[1,1]})},inactive:{style:(0,Z.__assign)((0,Z.__assign)({},t.line.inactive),{lineCap:null,lineDash:[1,1]})},selected:{style:(0,Z.__assign)((0,Z.__assign)({},t.line.selected),{lineCap:null,lineDash:[1,1]})}},dash:{default:{style:(0,Z.__assign)((0,Z.__assign)({},t.line.default),{lineCap:null,lineDash:[5.5,1]})},active:{style:(0,Z.__assign)((0,Z.__assign)({},t.line.active),{lineCap:null,lineDash:[5.5,1]})},inactive:{style:(0,Z.__assign)((0,Z.__assign)({},t.line.inactive),{lineCap:null,lineDash:[5.5,1]})},selected:{style:(0,Z.__assign)((0,Z.__assign)({},t.line.selected),{lineCap:null,lineDash:[5.5,1]})}},smooth:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},hv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vh:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},hvh:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vhv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}}},polygon:{polygon:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}}},point:{circle:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},square:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},bowtie:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},diamond:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},hexagon:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},triangle:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},"triangle-down":{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},"hollow-circle":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-square":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-bowtie":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-diamond":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-hexagon":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-triangle":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-triangle-down":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},cross:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},tick:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},plus:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},hyphen:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},line:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}}},area:{area:{default:{style:t.area.default},active:{style:t.area.active},inactive:{style:t.area.inactive},selected:{style:t.area.selected}},smooth:{default:{style:t.area.default},active:{style:t.area.active},inactive:{style:t.area.inactive},selected:{style:t.area.selected}},line:{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}},"smooth-line":{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}}},schema:{candle:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},box:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}}},edge:{line:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vhv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},smooth:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},arc:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}}},violin:{violin:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},smooth:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},hollow:{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}},"hollow-smooth":{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}}}},components:{axis:{common:n,top:{position:"top",grid:null,title:null,verticalLimitLength:1/2},bottom:{position:"bottom",grid:null,title:null,verticalLimitLength:1/2},left:{position:"left",title:null,line:null,tickLine:null,verticalLimitLength:1/3},right:{position:"right",title:null,line:null,tickLine:null,verticalLimitLength:1/3},circle:{title:null,grid:(0,w.deepMix)({},n.grid,{line:{type:"line"}})},radius:{title:null,grid:(0,w.deepMix)({},n.grid,{line:{type:"circle"}})}},legend:{common:o,right:{layout:"vertical",padding:a.legendVerticalPadding},left:{layout:"vertical",padding:a.legendVerticalPadding},top:{layout:"horizontal",padding:a.legendHorizontalPadding},bottom:{layout:"horizontal",padding:a.legendHorizontalPadding},continuous:{title:null,background:null,track:{},rail:{type:"color",size:a.sliderRailHeight,defaultLength:a.sliderRailWidth,style:{fill:a.sliderRailFillColor,stroke:a.sliderRailBorderColor,lineWidth:a.sliderRailBorder}},label:{align:"rail",spacing:4,formatter:null,style:{fill:a.sliderLabelTextFillColor,fontSize:a.sliderLabelTextFontSize,lineHeight:a.sliderLabelTextLineHeight,textBaseline:"middle",fontFamily:a.fontFamily}},handler:{size:a.sliderHandlerWidth,style:{fill:a.sliderHandlerFillColor,stroke:a.sliderHandlerBorderColor}},slidable:!0,padding:o.padding}},tooltip:{showContent:!0,follow:!0,showCrosshairs:!1,showMarkers:!0,shared:!1,enterable:!1,position:"auto",marker:{symbol:"circle",stroke:"#fff",shadowBlur:10,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"rgba(0,0,0,0.09)",lineWidth:2,r:4},crosshairs:{line:{style:{stroke:a.tooltipCrosshairsBorderColor,lineWidth:a.tooltipCrosshairsBorder}},text:null,textBackground:{padding:2,style:{fill:"rgba(0, 0, 0, 0.25)",lineWidth:0,stroke:null}},follow:!1},domStyles:(e={},e["".concat(H0)]={position:"absolute",visibility:"hidden",zIndex:8,transition:"left 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s, top 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s",backgroundColor:a.tooltipContainerFillColor,opacity:a.tooltipContainerFillOpacity,boxShadow:a.tooltipContainerShadow,borderRadius:"".concat(a.tooltipContainerBorderRadius,"px"),color:a.tooltipTextFillColor,fontSize:"".concat(a.tooltipTextFontSize,"px"),fontFamily:a.fontFamily,lineHeight:"".concat(a.tooltipTextLineHeight,"px"),padding:"0 12px 0 12px"},e["".concat(Y0)]={marginBottom:"12px",marginTop:"12px"},e["".concat(Tx)]={margin:0,listStyleType:"none",padding:0},e["".concat(nE)]={listStyleType:"none",padding:0,marginBottom:"12px",marginTop:"12px",marginLeft:0,marginRight:0},e["".concat(iE)]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},e["".concat(aE)]={display:"inline-block",float:"right",marginLeft:"30px"},e)},annotation:{arc:{style:{stroke:a.annotationArcBorderColor,lineWidth:a.annotationArcBorder},animate:!0},line:{style:{stroke:a.annotationLineBorderColor,lineDash:a.annotationLineDash,lineWidth:a.annotationLineBorder},text:{position:"start",autoRotate:!0,style:{fill:a.annotationTextFillColor,stroke:a.annotationTextBorderColor,lineWidth:a.annotationTextBorder,fontSize:a.annotationTextFontSize,textAlign:"start",fontFamily:a.fontFamily,textBaseline:"bottom"}},animate:!0},text:{style:{fill:a.annotationTextFillColor,stroke:a.annotationTextBorderColor,lineWidth:a.annotationTextBorder,fontSize:a.annotationTextFontSize,textBaseline:"middle",textAlign:"start",fontFamily:a.fontFamily},animate:!0},region:{top:!1,style:{lineWidth:a.annotationRegionBorder,stroke:a.annotationRegionBorderColor,fill:a.annotationRegionFillColor,fillOpacity:a.annotationRegionFillOpacity},animate:!0},image:{top:!1,animate:!0},dataMarker:{top:!0,point:{style:{r:3,stroke:a.brandColor,lineWidth:2}},line:{style:{stroke:a.annotationLineBorderColor,lineWidth:a.annotationLineBorder},length:a.annotationDataMarkerLineLength},text:{style:{textAlign:"start",fill:a.annotationTextFillColor,stroke:a.annotationTextBorderColor,lineWidth:a.annotationTextBorder,fontSize:a.annotationTextFontSize,fontFamily:a.fontFamily}},direction:"upward",autoAdjust:!0,animate:!0},dataRegion:{style:{region:{fill:a.annotationRegionFillColor,fillOpacity:a.annotationRegionFillOpacity},text:{textAlign:"center",textBaseline:"bottom",fill:a.annotationTextFillColor,stroke:a.annotationTextBorderColor,lineWidth:a.annotationTextBorder,fontSize:a.annotationTextFontSize,fontFamily:a.fontFamily}},animate:!0}},slider:{common:{padding:[8,8,8,8],backgroundStyle:{fill:a.cSliderBackgroundFillColor,opacity:a.cSliderBackgroundFillOpacity},foregroundStyle:{fill:a.cSliderForegroundFillColor,opacity:a.cSliderForegroundFillOpacity},handlerStyle:{width:a.cSliderHandlerWidth,height:a.cSliderHandlerHeight,fill:a.cSliderHandlerFillColor,opacity:a.cSliderHandlerFillOpacity,stroke:a.cSliderHandlerBorderColor,lineWidth:a.cSliderHandlerBorder,radius:a.cSliderHandlerBorderRadius,highLightFill:a.cSliderHandlerHighlightFillColor},textStyle:{fill:a.cSliderTextFillColor,opacity:a.cSliderTextFillOpacity,fontSize:a.cSliderTextFontSize,lineHeight:a.cSliderTextLineHeight,fontWeight:a.cSliderTextFontWeight,stroke:a.cSliderTextBorderColor,lineWidth:a.cSliderTextBorder}}},scrollbar:{common:{padding:[8,8,8,8]},default:{style:{trackColor:a.scrollbarTrackFillColor,thumbColor:a.scrollbarThumbFillColor}},hover:{style:{thumbColor:a.scrollbarThumbHighlightFillColor}}}},labels:{offset:12,style:{fill:a.labelFillColor,fontSize:a.labelFontSize,fontFamily:a.fontFamily,stroke:a.labelBorderColor,lineWidth:a.labelBorder},fillColorDark:a.labelFillColorDark,fillColorLight:a.labelFillColorLight,autoRotate:!0},innerLabels:{style:{fill:a.innerLabelFillColor,fontSize:a.innerLabelFontSize,fontFamily:a.fontFamily,stroke:a.innerLabelBorderColor,lineWidth:a.innerLabelBorder},autoRotate:!0},overflowLabels:{style:{fill:a.overflowLabelFillColor,fontSize:a.overflowLabelFontSize,fontFamily:a.fontFamily,stroke:a.overflowLabelBorderColor,lineWidth:a.overflowLabelBorder}},pieLabels:{labelHeight:14,offset:10,labelLine:{style:{lineWidth:a.labelLineBorder}},autoRotate:!0}}}var $o={100:"#000",95:"#0D0D0D",85:"#262626",65:"#595959",45:"#8C8C8C",25:"#BFBFBF",15:"#D9D9D9",6:"#F0F0F0"},Fx={100:"#FFFFFF",95:"#F2F2F2",85:"#D9D9D9",65:"#A6A6A6",45:"#737373",25:"#404040",15:"#262626",6:"#0F0F0F"},b5=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#6F5EF9","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],E5=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#6F5EF9","#D3CEFD","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],S5=["#B8E1FF","#9AC5FF","#7DAAFF","#5B8FF9","#3D76DD","#085EC0","#0047A5","#00318A","#001D70"],fM=function(a){a===void 0&&(a={});var e=a.backgroundColor,t=e===void 0?"transparent":e,n=a.subColor,o=n===void 0?"rgba(0,0,0,0.05)":n,u=a.paletteQualitative10,l=u===void 0?b5:u,c=a.paletteQualitative20,f=c===void 0?E5:c,h=a.paletteSemanticRed,v=h===void 0?"#F4664A":h,p=a.paletteSemanticGreen,g=p===void 0?"#30BF78":p,E=a.paletteSemanticYellow,D=E===void 0?"#FAAD14":E,G=a.paletteSequence,H=G===void 0?S5:G,X=a.fontFamily,rt=X===void 0?`"Segoe UI", Roboto, "Helvetica Neue", Arial,
    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
    "Noto Color Emoji"`:X,ht=a.brandColor,mt=ht===void 0?l[0]:ht;return{backgroundColor:t,brandColor:mt,subColor:o,paletteQualitative10:l,paletteQualitative20:f,paletteSemanticRed:v,paletteSemanticGreen:g,paletteSemanticYellow:D,paletteSequence:H,fontFamily:rt,axisLineBorderColor:$o[25],axisLineBorder:1,axisLineDash:null,axisTitleTextFillColor:$o[65],axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTitleSpacing:12,axisTickLineBorderColor:$o[25],axisTickLineLength:4,axisTickLineBorder:1,axisSubTickLineBorderColor:$o[15],axisSubTickLineLength:2,axisSubTickLineBorder:1,axisLabelFillColor:$o[45],axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisLabelOffset:8,axisGridBorderColor:$o[15],axisGridBorder:1,axisGridLineDash:null,legendTitleTextFillColor:$o[45],legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:mt,legendMarkerSpacing:8,legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:$o[65],legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",legendItemSpacing:24,legendItemMarginBottom:12,legendPadding:[8,8,8,8],legendHorizontalPadding:[8,0,8,0],legendVerticalPadding:[0,8,0,8],legendPageNavigatorMarkerSize:12,legendPageNavigatorMarkerInactiveFillColor:$o[100],legendPageNavigatorMarkerInactiveFillOpacity:.45,legendPageNavigatorMarkerFillColor:$o[100],legendPageNavigatorMarkerFillOpacity:1,legendPageNavigatorTextFillColor:$o[45],legendPageNavigatorTextFontSize:12,sliderRailFillColor:$o[15],sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:$o[45],sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:$o[6],sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:$o[25],annotationArcBorderColor:$o[15],annotationArcBorder:1,annotationLineBorderColor:$o[25],annotationLineBorder:1,annotationLineDash:null,annotationTextFillColor:$o[65],annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:null,annotationTextBorder:0,annotationRegionFillColor:$o[100],annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:$o[25],tooltipCrosshairsBorder:1,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"rgb(255, 255, 255)",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 0px 10px #aeaeae",tooltipContainerBorderRadius:3,tooltipTextFillColor:$o[65],tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:$o[65],labelFillColorDark:"#2c3542",labelFillColorLight:"#ffffff",labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:Fx[100],innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,overflowLabelFillColor:$o[65],overflowLabelFontSize:12,overflowLabelLineHeight:12,overflowLabelFontWeight:"normal",overflowLabelBorderColor:Fx[100],overflowLabelBorder:1,labelLineBorder:1,labelLineBorderColor:$o[25],cSliderRailHieght:16,cSliderBackgroundFillColor:"#416180",cSliderBackgroundFillOpacity:.05,cSliderForegroundFillColor:"#5B8FF9",cSliderForegroundFillOpacity:.15,cSliderHandlerHeight:24,cSliderHandlerWidth:10,cSliderHandlerFillColor:"#F7F7F7",cSliderHandlerFillOpacity:1,cSliderHandlerHighlightFillColor:"#FFF",cSliderHandlerBorderColor:"#BFBFBF",cSliderHandlerBorder:1,cSliderHandlerBorderRadius:2,cSliderTextFillColor:"#000",cSliderTextFillOpacity:.45,cSliderTextFontSize:12,cSliderTextLineHeight:12,cSliderTextFontWeight:"normal",cSliderTextBorderColor:null,cSliderTextBorder:0,scrollbarTrackFillColor:"rgba(0,0,0,0)",scrollbarThumbFillColor:"rgba(0,0,0,0.15)",scrollbarThumbHighlightFillColor:"rgba(0,0,0,0.2)",pointFillColor:mt,pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:Fx[100],pointBorderOpacity:1,pointActiveBorderColor:$o[100],pointSelectedBorder:2,pointSelectedBorderColor:$o[100],pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:mt,hollowPointBorderOpacity:.95,hollowPointFillColor:Fx[100],hollowPointActiveBorder:1,hollowPointActiveBorderColor:$o[100],hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:$o[100],hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:mt,lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:mt,areaFillOpacity:.25,areaActiveFillColor:mt,areaActiveFillOpacity:.5,areaSelectedFillColor:mt,areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:mt,hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:$o[100],hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:$o[100],hollowAreaInactiveBorderOpacity:.3,intervalFillColor:mt,intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:$o[100],intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:$o[100],intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:mt,hollowIntervalBorderOpacity:1,hollowIntervalFillColor:Fx[100],hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:$o[100],hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:$o[100],hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3}},Vlt=fM();function dE(a){var e=a.styleSheet,t=e===void 0?{}:e,n=(0,Z.__rest)(a,["styleSheet"]),o=fM(t);return(0,w.deepMix)({},cM(o),n)}var w5=dE({}),pw={default:w5};function Dm(a){return(0,w.get)(pw,(0,w.lowerCase)(a),pw.default)}function hM(a,e){pw[(0,w.lowerCase)(a)]=dE(e)}function dM(a,e,t){var n=t.translate(a),o=t.translate(e);return(0,w.isNumberEqual)(n,o)}function _5(a,e){var t=e.coordinate,n=e.getXScale(),o=n.range,u=o[o.length-1],l=o[0],c=t.invert(a),f=c.x;return t.isPolar&&f>(1+u)/2&&(f=l),n.translate(n.invert(f))}function vM(a,e,t){var n=t.coordinate,o=t.getYScale(),u=o.field,l=n.invert(e),c=o.invert(l.y),f=(0,w.find)(a,function(h){var v=h[Ja];return v[u][0]<=c&&v[u][1]>=c});return f||a[a.length-1]}var A5=(0,w.memoize)(function(a){if(a.isCategory)return 1;for(var e=a.values,t=e.length,n=a.translate(e[0]),o=n,u=0;u<t;u++){var l=e[u],c=a.translate(l);c<n&&(n=c),c>o&&(o=c)}return(o-n)/(t-1)});function C5(a,e,t){var n=e.getAttribute("position"),o=n.getFields(),u=e.scales,l=(0,w.isFunction)(t)||!t?o[0]:t,c=u[l],f=c?c.getText(a[l]):a[l]||l;return(0,w.isFunction)(t)?t(f,a):f}function T5(a){var e=(0,w.values)(a.attributes);return(0,w.filter)(e,function(t){return(0,w.contains)(ac,t.type)})}function pM(a){for(var e=T5(a),t,n=0,o=e;n<o.length;n++){var u=o[n],l=u.getScale(u.type);if(l&&l.isLinear){var c=(0,w.get)(a.scaleDefs,l.field),f=GT(l,c,u.type,a.type);if(f!=="cat"){t=l;break}}}var h=a.getXScale(),v=a.getYScale();return t||v||h}function M5(a,e){var t=e.field,n=a[t];if((0,w.isArray)(n)){var o=n.map(function(u){return e.getText(u)});return o.join("-")}return e.getText(n)}function I5(a,e){var t,n=e.getGroupScales();if(n.length&&(t=n[0]),t){var o=t.field;return t.getText(a[o])}var u=pM(e);return Ox(u)}function gM(a,e,t){if(e.length===0)return null;var n=t.type,o=t.getXScale(),u=t.getYScale(),l=o.field,c=u.field,f=null;if(n==="heatmap"||n==="point"){for(var h=t.coordinate,v=h.invert(a),p=o.invert(v.x),g=u.invert(v.y),E=1/0,D=0;D<e.length;D++){var G=e[D],H=G[Ja],X=Math.pow(H[l]-p,2)+Math.pow(H[c]-g,2);X<E&&(E=X,f=G)}return f}var rt=e[0],ht=e[e.length-1],mt=_5(a,t),Dt=rt[Ja][l],kt=rt[Ja][c],Vt=ht[Ja][l],te=u.isLinear&&(0,w.isArray)(kt);if((0,w.isArray)(Dt)){for(var D=0;D<e.length;D++){var le=e[D],H=le[Ja];if(o.translate(H[l][0])<=mt&&o.translate(H[l][1])>=mt)if(te)(0,w.isArray)(f)||(f=[]),f.push(le);else{f=le;break}}(0,w.isArray)(f)&&(f=vM(f,a,t))}else{var pe=void 0;if(!o.isLinear&&o.type!=="timeCat"){for(var D=0;D<e.length;D++){var le=e[D],H=le[Ja];if(dM(H[l],mt,o))if(te)(0,w.isArray)(f)||(f=[]),f.push(le);else{f=le;break}else o.translate(H[l])<=mt&&(ht=le,pe=e[D+1])}(0,w.isArray)(f)&&(f=vM(f,a,t))}else{if((mt>o.translate(Vt)||mt<o.translate(Dt))&&(mt>o.max||mt<o.min))return null;for(var De=0,Xe=e.length-1,pr=void 0;De<=Xe;){pr=Math.floor((De+Xe)/2);var yr=e[pr][Ja][l];if(dM(yr,mt,o))return e[pr];o.translate(yr)<=o.translate(mt)?(De=pr+1,ht=e[pr],pe=e[pr+1]):(Xe===0&&(ht=e[0]),Xe=pr-1)}}ht&&pe&&Math.abs(o.translate(ht[Ja][l])-mt)>Math.abs(o.translate(pe[Ja][l])-mt)&&(ht=pe)}var Vr=A5(t.getXScale());return!f&&Math.abs(o.translate(ht[Ja][l])-mt)<=Vr/2&&(f=ht),f}function gw(a,e,t,n){t===void 0&&(t=""),n===void 0&&(n=!1);var o=a[Ja],u=C5(o,e,t),l=e.tooltipOption,c=e.theme.defaultColor,f=[],h,v;function p(Vt,te){if(n||!(0,w.isNil)(te)&&te!==""){var le={title:u,data:o,mappingData:a,name:Vt,value:te,color:a.color||c,marker:!0};f.push(le)}}if((0,w.isObject)(l)){var g=l.fields,E=l.callback;if(E){var D=g.map(function(Vt){return a[Ja][Vt]}),G=E.apply(void 0,D),H=(0,Z.__assign)({data:a[Ja],mappingData:a,title:u,color:a.color||c,marker:!0},G);f.push(H)}else for(var X=e.scales,rt=0,ht=g;rt<ht.length;rt++){var mt=ht[rt];if(!(0,w.isNil)(o[mt])){var Dt=X[mt];h=Ox(Dt),v=Dt.getText(o[mt]),p(h,v)}}}else{var kt=pM(e);v=M5(o,kt),h=I5(o,e),p(h,v)}return f}function yM(a,e,t,n){var o=n.showNil,u=[],l=a.dataArray;if(!(0,w.isEmpty)(l)){a.sort(l);for(var c=0,f=l;c<f.length;c++){var h=f[c],v=gM(e,h,a);if(v){var p=a.getElementId(v),g=a.elementsMap[p];if(a.type==="heatmap"||g.visible){var E=gw(v,a,t,o);E.length&&u.push(E)}}}}return u}function mM(a,e,t,n){var o=n.showNil,u=[],l=a.container,c=l.getShape(e.x,e.y);if(c&&c.get("visible")&&c.get("origin")){var f=c.get("origin").mappingData,h=gw(f,a,t,o);h.length&&u.push(h)}return u}function yw(a,e,t){for(var n=[],o=a.geometries,u=t.shared,l=t.title,c=t.reversed,f=0,h=o;f<h.length;f++){var v=h[f];if(v.visible&&v.tooltipOption!==!1){var p=v.type,g=void 0;["point","edge","polygon"].includes(p)?g=mM(v,e,l,t):["area","line","path","heatmap"].includes(p)||u!==!1?g=yM(v,e,l,t):g=mM(v,e,l,t),g.length&&(c&&g.reverse(),n.push(g))}}return n}function O5(a,e,t){for(var n=yw(a,e,t),o=0,u=a.views;o<u.length;o++){var l=u[o];n=n.concat(yw(l,e,t))}return n}function D5(a){return!(0,w.isNumber)(a)&&!(0,w.isArray)(a)}function mw(a){a===void 0&&(a=0);var e=(0,w.isArray)(a)?a:[a];switch(e.length){case 0:e=[0,0,0,0];break;case 1:e=new Array(4).fill(e[0]);break;case 2:e=(0,Z.__spreadArray)((0,Z.__spreadArray)([],e,!0),e,!0);break;case 3:e=(0,Z.__spreadArray)((0,Z.__spreadArray)([],e,!0),[e[1]],!1);break;default:e=e.slice(0,4);break}return e}var vE={};function qg(a,e){vE[a]=e}function Hlt(a){delete vE[a]}function P5(){return Object.keys(vE)}function L5(a){return vE[a]}var R5=function(){function a(e){this.option=this.wrapperOption(e)}return a.prototype.update=function(e){return this.option=this.wrapperOption(e),this},a.prototype.hasAction=function(e){var t=this.option.actions;return(0,w.some)(t,function(n){return n[0]===e})},a.prototype.create=function(e,t){var n=this.option,o=n.type,u=n.cfg,l=o==="theta",c=(0,Z.__assign)({start:e,end:t},u),f=Rk(l?"polar":o);return this.coordinate=new f(c),this.coordinate.type=o,l&&(this.hasAction("transpose")||this.transpose()),this.execActions(),this.coordinate},a.prototype.adjust=function(e,t){return this.coordinate.update({start:e,end:t}),this.coordinate.resetMatrix(),this.execActions(["scale","rotate","translate"]),this.coordinate},a.prototype.rotate=function(e){return this.option.actions.push(["rotate",e]),this},a.prototype.reflect=function(e){return this.option.actions.push(["reflect",e]),this},a.prototype.scale=function(e,t){return this.option.actions.push(["scale",e,t]),this},a.prototype.transpose=function(){return this.option.actions.push(["transpose"]),this},a.prototype.getOption=function(){return this.option},a.prototype.getCoordinate=function(){return this.coordinate},a.prototype.wrapperOption=function(e){return(0,Z.__assign)({type:"rect",actions:[],cfg:{}},e)},a.prototype.execActions=function(e){var t=this,n=this.option.actions;(0,w.each)(n,function(o){var u,l=o[0],c=o.slice(1),f=(0,w.isNil)(e)?!0:e.includes(l);f&&(u=t.coordinate)[l].apply(u,c)})},a}(),F5=R5,N5=function(){function a(e,t,n){this.view=e,this.gEvent=t,this.data=n,this.type=t.type}return a.fromData=function(e,t,n){return new a(e,new Ss(t,{}),n)},Object.defineProperty(a.prototype,"target",{get:function(){return this.gEvent.target},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"event",{get:function(){return this.gEvent.originalEvent},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"x",{get:function(){return this.gEvent.x},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"y",{get:function(){return this.gEvent.y},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"clientX",{get:function(){return this.gEvent.clientX},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"clientY",{get:function(){return this.gEvent.clientY},enumerable:!1,configurable:!0}),a.prototype.toString=function(){return"[Event (type=".concat(this.type,")]")},a.prototype.clone=function(){return new a(this.view,this.gEvent,this.data)},a}(),nu=N5;function k5(a){var e=a.getController("axis"),t=a.getController("legend"),n=a.getController("annotation"),o=a.getController("slider"),u=a.getController("scrollbar");[e,o,u,t,n].forEach(function(l){l&&l.layout()})}var B5=function(){function a(){this.scales=new Map,this.syncScales=new Map}return a.prototype.createScale=function(e,t,n,o){var u=n,l=this.getScaleMeta(o);if(t.length===0&&l){var c=l.scale,f={type:c.type};c.isCategory&&(f.values=c.values),u=(0,w.deepMix)(f,l.scaleDef,n)}var h=V4(e,t,u);return this.cacheScale(h,n,o),h},a.prototype.sync=function(e,t){var n=this;this.syncScales.forEach(function(o,u){var l=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER,f=[];(0,w.each)(o,function(h){var v=n.getScale(h);c=(0,w.isNumber)(v.max)?Math.max(c,v.max):c,l=(0,w.isNumber)(v.min)?Math.min(l,v.min):l,(0,w.each)(v.values,function(p){f.includes(p)||f.push(p)})}),(0,w.each)(o,function(h){var v=n.getScale(h);if(v.isContinuous)v.change({min:l,max:c,values:f});else if(v.isCategory){var p=v.range,g=n.getScaleMeta(h);f&&!(0,w.get)(g,["scaleDef","range"])&&(p=zT((0,w.deepMix)({},v,{values:f}),e,t)),v.change({values:f,range:p})}})})},a.prototype.cacheScale=function(e,t,n){var o=this.getScaleMeta(n);o&&o.scale.type===e.type?(H4(o.scale,e),o.scaleDef=t):(o={key:n,scale:e,scaleDef:t},this.scales.set(n,o));var u=this.getSyncKey(o);if(o.syncKey=u,this.removeFromSyncScales(n),u){var l=this.syncScales.get(u);l||(l=[],this.syncScales.set(u,l)),l.push(n)}},a.prototype.getScale=function(e){var t=this.getScaleMeta(e);if(!t){var n=(0,w.last)(e.split("-")),o=this.syncScales.get(n);o&&o.length&&(t=this.getScaleMeta(o[0]))}return t&&t.scale},a.prototype.deleteScale=function(e){var t=this.getScaleMeta(e);if(t){var n=t.syncKey,o=this.syncScales.get(n);if(o&&o.length){var u=o.indexOf(e);u!==-1&&o.splice(u,1)}}this.scales.delete(e)},a.prototype.clear=function(){this.scales.clear(),this.syncScales.clear()},a.prototype.removeFromSyncScales=function(e){var t=this;this.syncScales.forEach(function(n,o){var u=n.indexOf(e);if(u!==-1)return n.splice(u,1),n.length===0&&t.syncScales.delete(o),!1})},a.prototype.getSyncKey=function(e){var t=e.scale,n=e.scaleDef,o=t.field,u=(0,w.get)(n,["sync"]);return u===!0?o:u===!1?void 0:u},a.prototype.getScaleMeta=function(e){return this.scales.get(e)},a}(),pE=function(){function a(e,t,n,o){e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0),o===void 0&&(o=0),this.top=e,this.right=t,this.bottom=n,this.left=o}return a.instance=function(e,t,n,o){return e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0),o===void 0&&(o=0),new a(e,t,n,o)},a.prototype.max=function(e){var t=e[0],n=e[1],o=e[2],u=e[3];return this.top=Math.max(this.top,t),this.right=Math.max(this.right,n),this.bottom=Math.max(this.bottom,o),this.left=Math.max(this.left,u),this},a.prototype.shrink=function(e){var t=e[0],n=e[1],o=e[2],u=e[3];return this.top+=t,this.right+=n,this.bottom+=o,this.left+=u,this},a.prototype.inc=function(e,t){var n=e.width,o=e.height;switch(t){case An.TOP:case An.TOP_LEFT:case An.TOP_RIGHT:this.top+=o;break;case An.RIGHT:case An.RIGHT_TOP:case An.RIGHT_BOTTOM:this.right+=n;break;case An.BOTTOM:case An.BOTTOM_LEFT:case An.BOTTOM_RIGHT:this.bottom+=o;break;case An.LEFT:case An.LEFT_TOP:case An.LEFT_BOTTOM:this.left+=n;break;default:break}return this},a.prototype.getPadding=function(){return[this.top,this.right,this.bottom,this.left]},a.prototype.clone=function(){return new(a.bind.apply(a,(0,Z.__spreadArray)([void 0],this.getPadding(),!1)))},a}();function G5(a){var e=a.padding;if(!D5(e))return new(pE.bind.apply(pE,(0,Z.__spreadArray)([void 0],mw(e),!1)));var t=a.viewBBox,n=new pE,o=[],u=[],l=[];return(0,w.each)(a.getComponents(),function(c){var f=c.type;f===ua.AXIS?o.push(c):[ua.LEGEND,ua.SLIDER,ua.SCROLLBAR].includes(f)?u.push(c):f!==ua.GRID&&f!==ua.TOOLTIP&&l.push(c)}),(0,w.each)(o,function(c){var f=c.component,h=f.getLayoutBBox(),v=new kh(h.x,h.y,h.width,h.height),p=v.exceed(t);n.max(p)}),(0,w.each)(u,function(c){var f=c.component,h=c.direction,v=f.getLayoutBBox(),p=f.get("padding"),g=new kh(v.x,v.y,v.width,v.height).expand(p);n.inc(g,h)}),(0,w.each)(l,function(c){var f=c.component,h=c.direction,v=f.getLayoutBBox(),p=new kh(v.x,v.y,v.width,v.height);n.inc(p,h)}),n}function z5(a,e,t){var n=t.instance();e.forEach(function(o){o.autoPadding=n.max(o.autoPadding.getPadding())})}var xM=function(a){(0,Z.__extends)(e,a);function e(t){var n=a.call(this,{visible:t.visible})||this;n.views=[],n.geometries=[],n.controllers=[],n.interactions={},n.limitInPlot=!1,n.options={data:[],animate:!0},n.usedControllers=P5(),n.scalePool=new B5,n.layoutFunc=k5,n.isPreMouseInPlot=!1,n.isDataChanged=!1,n.isCoordinateChanged=!1,n.createdScaleKeys=new Map,n.onCanvasEvent=function(ht){var mt=ht.name;if(!mt.includes(":")){var Dt=n.createViewEvent(ht);n.doPlotEvent(Dt),n.emit(mt,Dt)}},n.onDelegateEvents=function(ht){var mt=ht.name;if(!!mt.includes(":")){var Dt=n.createViewEvent(ht);n.emit(mt,Dt)}};var o=t.id,u=o===void 0?(0,w.uniqueId)("view"):o,l=t.parent,c=t.canvas,f=t.backgroundGroup,h=t.middleGroup,v=t.foregroundGroup,p=t.region,g=p===void 0?{start:{x:0,y:0},end:{x:1,y:1}}:p,E=t.padding,D=t.appendPadding,G=t.theme,H=t.options,X=t.limitInPlot,rt=t.syncViewPadding;return n.parent=l,n.canvas=c,n.backgroundGroup=f,n.middleGroup=h,n.foregroundGroup=v,n.region=g,n.padding=E,n.appendPadding=D,n.options=(0,Z.__assign)((0,Z.__assign)({},n.options),H),n.limitInPlot=X,n.id=u,n.syncViewPadding=rt,n.themeObject=(0,w.isObject)(G)?(0,w.deepMix)({},Dm("default"),dE(G)):Dm(G),n.init(),n}return e.prototype.setLayout=function(t){this.layoutFunc=t},e.prototype.init=function(){this.calculateViewBBox(),this.initEvents(),this.initComponentController(),this.initOptions()},e.prototype.render=function(t,n){t===void 0&&(t=!1),this.emit(pi.BEFORE_RENDER,nu.fromData(this,pi.BEFORE_RENDER,n)),this.paint(t),this.emit(pi.AFTER_RENDER,nu.fromData(this,pi.AFTER_RENDER,n)),this.visible===!1&&this.changeVisible(!1)},e.prototype.clear=function(){var t=this;this.emit(pi.BEFORE_CLEAR),this.filteredData=[],this.coordinateInstance=void 0,this.isDataChanged=!1,this.isCoordinateChanged=!1;for(var n=this.geometries,o=0;o<n.length;o++)n[o].clear(),n[o].container.remove(!0),n[o].labelsContainer.remove(!0);this.geometries=[];for(var u=this.controllers,o=0;o<u.length;o++)u[o].name==="annotation"?u[o].clear(!0):u[o].clear();this.createdScaleKeys.forEach(function(c,f){t.getRootView().scalePool.deleteScale(f)}),this.createdScaleKeys.clear();for(var l=this.views,o=0;o<l.length;o++)l[o].clear();this.emit(pi.AFTER_CLEAR)},e.prototype.destroy=function(){this.emit(pi.BEFORE_DESTROY);var t=this.interactions;(0,w.each)(t,function(c){c&&c.destroy()}),this.clear();for(var n=this.controllers,o=0,u=n.length;o<u;o++){var l=n[o];l.destroy()}this.backgroundGroup.remove(!0),this.middleGroup.remove(!0),this.foregroundGroup.remove(!0),a.prototype.destroy.call(this)},e.prototype.changeVisible=function(t){a.prototype.changeVisible.call(this,t);for(var n=this.geometries,o=0,u=n.length;o<u;o++){var l=n[o];l.changeVisible(t)}for(var c=this.controllers,o=0,u=c.length;o<u;o++){var f=c[o];f.changeVisible(t)}return this.foregroundGroup.set("visible",t),this.middleGroup.set("visible",t),this.backgroundGroup.set("visible",t),this.getCanvas().draw(),this},e.prototype.data=function(t){return(0,w.set)(this.options,"data",t),this.isDataChanged=!0,this},e.prototype.source=function(t){return console.warn("This method will be removed at G2 V4.1. Please use chart.data() instead."),this.data(t)},e.prototype.filter=function(t,n){return(0,w.isFunction)(n)?((0,w.set)(this.options,["filters",t],n),this):(!n&&(0,w.get)(this.options,["filters",t])&&delete this.options.filters[t],this)},e.prototype.axis=function(t,n){return(0,w.isBoolean)(t)?(0,w.set)(this.options,["axes"],t):(0,w.set)(this.options,["axes",t],n),this},e.prototype.legend=function(t,n){return(0,w.isBoolean)(t)?(0,w.set)(this.options,["legends"],t):(0,w.isString)(t)?((0,w.set)(this.options,["legends",t],n),(0,w.isPlainObject)(n)&&(n==null?void 0:n.selected)&&(0,w.set)(this.options,["filters",t],function(o){var u;return(u=n==null?void 0:n.selected[o])!==null&&u!==void 0?u:!0})):(0,w.set)(this.options,["legends"],t),this},e.prototype.scale=function(t,n){var o=this;return(0,w.isString)(t)?(0,w.set)(this.options,["scales",t],n):(0,w.isObject)(t)&&(0,w.each)(t,function(u,l){(0,w.set)(o.options,["scales",l],u)}),this},e.prototype.tooltip=function(t){return(0,w.set)(this.options,"tooltip",t),this},e.prototype.annotation=function(){return this.getController("annotation")},e.prototype.guide=function(){return console.warn("This method will be removed at G2 V4.1. Please use chart.annotation() instead."),this.annotation()},e.prototype.coordinate=function(t,n){return(0,w.isString)(t)?(0,w.set)(this.options,"coordinate",{type:t,cfg:n}):(0,w.set)(this.options,"coordinate",t),this.coordinateController.update(this.options.coordinate),this.coordinateController},e.prototype.coord=function(t,n){return console.warn("This method will be removed at G2 V4.1. Please use chart.coordinate() instead."),this.coordinate(t,n)},e.prototype.facet=function(t,n){this.facetInstance&&this.facetInstance.destroy();var o=XT(t);if(!o)throw new Error("facet '".concat(t,"' is not exist!"));return this.facetInstance=new o(this,(0,Z.__assign)((0,Z.__assign)({},n),{type:t})),this},e.prototype.animate=function(t){return(0,w.set)(this.options,"animate",t),this},e.prototype.updateOptions=function(t){return this.clear(),(0,w.mix)(this.options,t),this.views.forEach(function(n){return n.destroy()}),this.views=[],this.initOptions(),this.coordinateBBox=this.viewBBox,this},e.prototype.option=function(t,n){if(e.prototype[t])throw new Error(`Can't use built in variable name "`.concat(t,'", please change another one.'));return(0,w.set)(this.options,t,n),this},e.prototype.theme=function(t){return this.themeObject=(0,w.isObject)(t)?(0,w.deepMix)({},this.themeObject,dE(t)):Dm(t),this},e.prototype.interaction=function(t,n){var o=this.interactions[t];o&&o.destroy();var u=y5(t,this,n);return u&&(u.init(),this.interactions[t]=u),this},e.prototype.removeInteraction=function(t){var n=this.interactions[t];n&&(n.destroy(),this.interactions[t]=void 0)},e.prototype.changeData=function(t){this.isDataChanged=!0,this.emit(pi.BEFORE_CHANGE_DATA,nu.fromData(this,pi.BEFORE_CHANGE_DATA,null)),this.data(t),this.paint(!0);for(var n=this.views,o=0,u=n.length;o<u;o++){var l=n[o];l.changeData(t)}this.emit(pi.AFTER_CHANGE_DATA,nu.fromData(this,pi.AFTER_CHANGE_DATA,null))},e.prototype.createView=function(t){this.parent&&this.parent.parent&&console.warn("The view nesting recursive feature will be removed at G2 V4.1. Please avoid to use it.");var n={data:this.options.data,scales:(0,w.clone)(this.options.scales),axes:(0,w.clone)(this.options.axes),coordinate:(0,w.clone)(this.coordinateController.getOption()),tooltip:(0,w.clone)(this.options.tooltip),legends:(0,w.clone)(this.options.legends),animate:this.options.animate,visible:this.visible},o=new e((0,Z.__assign)((0,Z.__assign)({parent:this,canvas:this.canvas,backgroundGroup:this.backgroundGroup.addGroup({zIndex:qo.BG}),middleGroup:this.middleGroup.addGroup({zIndex:qo.MID}),foregroundGroup:this.foregroundGroup.addGroup({zIndex:qo.FORE}),theme:this.themeObject,padding:this.padding},t),{options:(0,Z.__assign)((0,Z.__assign)({},n),(0,w.get)(t,"options",{}))}));return this.views.push(o),o},e.prototype.view=function(t){return console.warn("This method will be removed at G2 V4.1. Please use chart.createView() instead."),this.createView(t)},e.prototype.removeView=function(t){var n=(0,w.remove)(this.views,function(o){return o===t})[0];return n&&n.destroy(),n},e.prototype.getCoordinate=function(){return this.coordinateInstance},e.prototype.getTheme=function(){return this.themeObject},e.prototype.getXScale=function(){var t=this.geometries[0];return t?t.getXScale():null},e.prototype.getYScales=function(){var t={},n=[];return this.geometries.forEach(function(o){var u=o.getYScale(),l=u.field;t[l]||(t[l]=!0,n.push(u))}),n},e.prototype.getScalesByDim=function(t){for(var n=this.geometries,o={},u=0,l=n.length;u<l;u++){var c=n[u],f=t==="x"?c.getXScale():c.getYScale();f&&!o[f.field]&&(o[f.field]=f)}return o},e.prototype.getScale=function(t,n){var o=n||this.getScaleKey(t);return this.getRootView().scalePool.getScale(o)},e.prototype.getScaleByField=function(t,n){return this.getScale(t,n)},e.prototype.getOptions=function(){return this.options},e.prototype.getData=function(){return this.filteredData},e.prototype.getOriginalData=function(){return this.options.data},e.prototype.getPadding=function(){return this.autoPadding.getPadding()},e.prototype.getGeometries=function(){return this.geometries},e.prototype.getElements=function(){return(0,w.reduce)(this.geometries,function(t,n){return t.concat(n.getElements())},[])},e.prototype.getElementsBy=function(t){return this.getElements().filter(function(n){return t(n)})},e.prototype.getLayer=function(t){return t===hi.BG?this.backgroundGroup:t===hi.MID?this.middleGroup:t===hi.FORE?this.foregroundGroup:this.foregroundGroup},e.prototype.isPointInPlot=function(t){return sw(this.getCoordinate(),t)},e.prototype.getLegendAttributes=function(){return(0,w.flatten)(this.geometries.map(function(t){return t.getGroupAttributes()}))},e.prototype.getGroupScales=function(){var t=this.geometries.map(function(n){return n.getGroupScales()});return Qg((0,w.flatten)(t))},e.prototype.getCanvas=function(){return this.getRootView().canvas},e.prototype.getRootView=function(){for(var t=this;;){if(t.parent){t=t.parent;continue}break}return t},e.prototype.getXY=function(t){var n=this.getCoordinate(),o=this.getScalesByDim("x"),u=this.getScalesByDim("y"),l,c;if((0,w.each)(t,function(f,h){o[h]&&(l=o[h].scale(f)),u[h]&&(c=u[h].scale(f))}),!(0,w.isNil)(l)&&!(0,w.isNil)(c))return n.convert({x:l,y:c})},e.prototype.getController=function(t){return(0,w.find)(this.controllers,function(n){return n.name===t})},e.prototype.showTooltip=function(t){var n=this.getController("tooltip");return n&&n.showTooltip(t),this},e.prototype.hideTooltip=function(){var t=this.getController("tooltip");return t&&t.hideTooltip(),this},e.prototype.lockTooltip=function(){var t=this.getController("tooltip");return t&&t.lockTooltip(),this},e.prototype.unlockTooltip=function(){var t=this.getController("tooltip");return t&&t.unlockTooltip(),this},e.prototype.isTooltipLocked=function(){var t=this.getController("tooltip");return t&&t.isTooltipLocked()},e.prototype.getTooltipItems=function(t){var n=this.getController("tooltip");return n?n.getTooltipItems(t):[]},e.prototype.getSnapRecords=function(t){for(var n=this.geometries,o=[],u=0,l=n.length;u<l;u++){var c=n[u],f=c.dataArray;c.sort(f);for(var h=void 0,v=0,p=f.length;v<p;v++){var g=f[v];h=gM(t,g,c),h&&o.push(h)}}for(var E=this.views,u=0,l=E.length;u<l;u++){var D=E[u],G=D.getSnapRecords(t);o=o.concat(G)}return o},e.prototype.getComponents=function(){for(var t=[],n=this.controllers,o=0,u=n.length;o<u;o++){var l=n[o];t=t.concat(l.getComponents())}return t},e.prototype.filterData=function(t){var n=this.options.filters;return(0,w.size)(n)===0?t:(0,w.filter)(t,function(o,u){var l=Object.keys(n);return l.every(function(c){var f=n[c];return f(o[c],o,u)})})},e.prototype.filterFieldData=function(t,n){var o=this.options.filters,u=(0,w.get)(o,t);return(0,w.isUndefined)(u)?n:n.filter(function(l,c){return u(l[t],l,c)})},e.prototype.adjustCoordinate=function(){var t=this.getCoordinate(),n=t.start,o=t.end,u=this.coordinateBBox.bl,l=this.coordinateBBox.tr;if((0,w.isEqual)(n,u)&&(0,w.isEqual)(o,l)){this.isCoordinateChanged=!1;return}this.isCoordinateChanged=!0,this.coordinateInstance=this.coordinateController.adjust(u,l)},e.prototype.paint=function(t){this.renderDataRecursive(t),this.syncScale(),this.emit(pi.BEFORE_PAINT),this.renderPaddingRecursive(t),this.renderLayoutRecursive(t),this.renderBackgroundStyleShape(),this.renderPaintRecursive(t),this.emit(pi.AFTER_PAINT),this.isDataChanged=!1},e.prototype.renderBackgroundStyleShape=function(){if(!this.parent){var t=(0,w.get)(this.themeObject,"background");if(t){this.backgroundStyleRectShape||(this.backgroundStyleRectShape=this.backgroundGroup.addShape("rect",{attrs:{},zIndex:-1,capture:!1}),this.backgroundStyleRectShape.toBack());var n=this.viewBBox,o=n.x,u=n.y,l=n.width,c=n.height;this.backgroundStyleRectShape.attr({fill:t,x:o,y:u,width:l,height:c})}else this.backgroundStyleRectShape&&(this.backgroundStyleRectShape.remove(!0),this.backgroundStyleRectShape=void 0)}},e.prototype.renderPaddingRecursive=function(t){this.calculateViewBBox(),this.adjustCoordinate(),this.initComponents(t),this.autoPadding=G5(this).shrink(mw(this.appendPadding)),this.coordinateBBox=this.viewBBox.shrink(this.autoPadding.getPadding()),this.adjustCoordinate();for(var n=this.views,o=0,u=n.length;o<u;o++){var l=n[o];l.renderPaddingRecursive(t)}},e.prototype.renderLayoutRecursive=function(t){var n=this.syncViewPadding===!0?z5:(0,w.isFunction)(this.syncViewPadding)?this.syncViewPadding:void 0;n&&(n(this,this.views,pE),this.views.forEach(function(f){f.coordinateBBox=f.viewBBox.shrink(f.autoPadding.getPadding()),f.adjustCoordinate()})),this.doLayout();for(var o=this.views,u=0,l=o.length;u<l;u++){var c=o[u];c.renderLayoutRecursive(t)}},e.prototype.renderPaintRecursive=function(t){var n=this.middleGroup;if(this.limitInPlot){var o=uw(this.coordinateInstance),u=o.type,l=o.attrs;n.setClip({type:u,attrs:l})}else n.setClip(void 0);this.paintGeometries(t),this.renderComponents(t);for(var c=this.views,f=0,h=c.length;f<h;f++){var v=c[f];v.renderPaintRecursive(t)}},e.prototype.createScale=function(t,n,o,u){var l=(0,w.get)(this.options.scales,[t]),c=(0,Z.__assign)((0,Z.__assign)({},l),o);return this.parent?this.parent.createScale(t,n,c,u):this.scalePool.createScale(t,n,c,u)},e.prototype.renderDataRecursive=function(t){this.doFilterData(),this.createCoordinate(),this.initGeometries(t),this.renderFacet(t);for(var n=this.views,o=0,u=n.length;o<u;o++){var l=n[o];l.renderDataRecursive(t)}},e.prototype.calculateViewBBox=function(){var t,n,o,u;if(this.parent){var l=this.parent.coordinateBBox;t=l.x,n=l.y,o=l.width,u=l.height}else t=0,n=0,o=this.canvas.get("width"),u=this.canvas.get("height");var c=this.region,f=c.start,h=c.end,v=new kh(t+o*f.x,n+u*f.y,o*(h.x-f.x),u*(h.y-f.y));(!this.viewBBox||!this.viewBBox.isEqual(v))&&(this.viewBBox=new kh(t+o*f.x,n+u*f.y,o*(h.x-f.x),u*(h.y-f.y))),this.coordinateBBox=this.viewBBox},e.prototype.initEvents=function(){this.foregroundGroup.on("*",this.onDelegateEvents),this.middleGroup.on("*",this.onDelegateEvents),this.backgroundGroup.on("*",this.onDelegateEvents),this.canvas.on("*",this.onCanvasEvent)},e.prototype.initComponentController=function(){for(var t=this.usedControllers,n=0,o=t.length;n<o;n++){var u=t[n],l=L5(u);l&&this.controllers.push(new l(this))}},e.prototype.createViewEvent=function(t){var n=t.shape,o=t.name,u=n?n.get("origin"):null,l=new nu(this,t,u);return l.type=o,l},e.prototype.doPlotEvent=function(t){var n=t.type,o=t.x,u=t.y,l={x:o,y:u},c=["mousedown","mouseup","mousemove","mouseleave","mousewheel","touchstart","touchmove","touchend","touchcancel","click","dblclick","contextmenu"];if(c.includes(n)){var f=this.isPointInPlot(l),h=t.clone();if(f){var v="plot:".concat(n);h.type=v,this.emit(v,h),(n==="mouseleave"||n==="touchend")&&(this.isPreMouseInPlot=!1)}n==="mousemove"||n==="touchmove"?(this.isPreMouseInPlot&&!f?(n==="mousemove"&&(h.type=ks.MOUSE_LEAVE,this.emit(ks.MOUSE_LEAVE,h)),h.type=ks.LEAVE,this.emit(ks.LEAVE,h)):!this.isPreMouseInPlot&&f&&(n==="mousemove"&&(h.type=ks.MOUSE_ENTER,this.emit(ks.MOUSE_ENTER,h)),h.type=ks.ENTER,this.emit(ks.ENTER,h)),this.isPreMouseInPlot=f):(n==="mouseleave"||n==="touchend")&&this.isPreMouseInPlot&&(n==="mouseleave"&&(h.type=ks.MOUSE_LEAVE,this.emit(ks.MOUSE_LEAVE,h)),h.type=ks.LEAVE,this.emit(ks.LEAVE,h),this.isPreMouseInPlot=!1)}},e.prototype.doFilterData=function(){var t=this.options.data;this.filteredData=this.filterData(t)},e.prototype.initGeometries=function(t){this.createOrUpdateScales();for(var n=this.getCoordinate(),o=(0,w.get)(this.options,"scales",{}),u=this.geometries,l=0,c=u.length;l<c;l++){var f=u[l];f.scales=this.getGeometryScales();var h={coordinate:n,scaleDefs:o,data:this.filteredData,theme:this.themeObject,isDataChanged:this.isDataChanged,isCoordinateChanged:this.isCoordinateChanged};t?f.update(h):f.init(h)}this.adjustScales()},e.prototype.createOrUpdateScales=function(){for(var t=this.getScaleFields(),n=this.getGroupedFields(),o=this.getOptions(),u=o.data,l=o.scales,c=l===void 0?{}:l,f=this.filteredData,h=0,v=t.length;h<v;h++){var p=t[h],g=c[p],E=this.getScaleKey(p);this.createScale(p,n.includes(p)?u:f,g,E),this.createdScaleKeys.set(E,!0)}},e.prototype.syncScale=function(){this.getRootView().scalePool.sync(this.getCoordinate(),this.theme)},e.prototype.getGeometryScales=function(){for(var t=this.getScaleFields(),n={},o=0;o<t.length;o++){var u=t[o];n[u]=this.getScaleByField(u)}return n},e.prototype.getScaleFields=function(){for(var t=[],n=new Map,o=this.geometries,u=0;u<o.length;u++){var l=o[u],c=l.getScaleFields();Qg(c,t,n)}return t},e.prototype.getGroupedFields=function(){for(var t=[],n=new Map,o=this.geometries,u=0;u<o.length;u++){var l=o[u],c=l.getGroupFields();Qg(c,t,n)}return t},e.prototype.adjustScales=function(){this.adjustCategoryScaleRange()},e.prototype.adjustCategoryScaleRange=function(){var t=this,n=(0,Z.__spreadArray)([this.getXScale()],this.getYScales(),!0).filter(function(l){return!!l}),o=this.getCoordinate(),u=this.options.scales;(0,w.each)(n,function(l){var c=l.field,f=l.values,h=l.isCategory,v=l.isIdentity;(h||v)&&f&&!(0,w.get)(u,[c,"range"])&&(l.range=zT(l,o,t.theme))})},e.prototype.initComponents=function(t){for(var n=this.controllers,o=0;o<n.length;o++){var u=n[o];t?u.update():(u.clear(),u.render())}},e.prototype.doLayout=function(){this.layoutFunc(this)},e.prototype.createCoordinate=function(){var t=this.coordinateBBox.bl,n=this.coordinateBBox.tr;this.coordinateInstance=this.coordinateController.create(t,n)},e.prototype.paintGeometries=function(t){for(var n=this.options.animate,o=this.getCoordinate(),u={x:this.viewBBox.x,y:this.viewBBox.y,minX:this.viewBBox.minX,minY:this.viewBBox.minY,maxX:this.viewBBox.maxX,maxY:this.viewBBox.maxY,width:this.viewBBox.width,height:this.viewBBox.height},l=this.geometries,c=0;c<l.length;c++){var f=l[c];f.coordinate=o,f.canvasRegion=u,n||f.animate(!1),f.paint(t)}},e.prototype.renderComponents=function(t){for(var n=0;n<this.getComponents().length;n++){var o=this.getComponents()[n];o.component.render()}},e.prototype.renderFacet=function(t){this.facetInstance&&(t?this.facetInstance.update():(this.facetInstance.clear(),this.facetInstance.init(),this.facetInstance.render()))},e.prototype.initOptions=function(){var t=this,n=this.options,o=n.geometries,u=o===void 0?[]:o,l=n.interactions,c=l===void 0?[]:l,f=n.views,h=f===void 0?[]:f,v=n.annotations,p=v===void 0?[]:v,g=n.coordinate,E=n.events,D=n.facets;this.coordinateController?g&&this.coordinateController.update(g):this.coordinateController=new F5(g);for(var G=0;G<u.length;G++){var H=u[G];this.createGeometry(H)}for(var X=0;X<c.length;X++){var rt=c[X],ht=rt.type,mt=rt.cfg;this.interaction(ht,mt)}for(var Dt=0;Dt<h.length;Dt++){var kt=h[Dt];this.createView(kt)}for(var Vt=this.getController("annotation"),te=0;te<p.length;te++){var le=p[te];Vt.annotation(le)}E&&(0,w.each)(E,function(pe,De){t.on(De,pe)}),D&&(0,w.each)(D,function(pe){var De=pe.type,Xe=(0,Z.__rest)(pe,["type"]);t.facet(De,Xe)})},e.prototype.createGeometry=function(t){var n=t.type,o=t.cfg,u=o===void 0?{}:o;if(this[n]){var l=this[n](u);(0,w.each)(t,function(c,f){(0,w.isFunction)(l[f])&&l[f](c)})}},e.prototype.getScaleKey=function(t){return"".concat(this.id,"-").concat(t)},e}(fc);function fp(a,e){xM.prototype[a.toLowerCase()]=function(t){t===void 0&&(t={});var n=(0,Z.__assign)({container:this.middleGroup.addGroup(),labelsContainer:this.foregroundGroup.addGroup()},t),o=new e(n);return this.geometries.push(o),o}}var bM=xM,U5=function(a){(0,Z.__extends)(e,a);function e(t){var n=this,o=t.container,u=t.width,l=t.height,c=t.autoFit,f=c===void 0?!1:c,h=t.padding,v=t.appendPadding,p=t.renderer,g=p===void 0?"canvas":p,E=t.pixelRatio,D=t.localRefresh,G=D===void 0?!0:D,H=t.visible,X=H===void 0?!0:H,rt=t.supportCSSTransform,ht=rt===void 0?!1:rt,mt=t.defaultInteractions,Dt=mt===void 0?["tooltip","legend-filter","legend-active","continuous-filter","ellipsis-text"]:mt,kt=t.options,Vt=t.limitInPlot,te=t.theme,le=t.syncViewPadding,pe=(0,w.isString)(o)?document.getElementById(o):o,De=Fa('<div style="position:relative;"></div>');pe.appendChild(De);var Xe=Ff(pe,f,u,l),pr=sc(g),yr=new pr.Canvas((0,Z.__assign)({container:De,pixelRatio:E,localRefresh:G,supportCSSTransform:ht},Xe));return n=a.call(this,{parent:null,canvas:yr,backgroundGroup:yr.addGroup({zIndex:qo.BG}),middleGroup:yr.addGroup({zIndex:qo.MID}),foregroundGroup:yr.addGroup({zIndex:qo.FORE}),padding:h,appendPadding:v,visible:X,options:kt,limitInPlot:Vt,theme:te,syncViewPadding:le})||this,n.onResize=(0,w.debounce)(function(){n.forceFit()},300),n.ele=pe,n.canvas=yr,n.width=Xe.width,n.height=Xe.height,n.autoFit=f,n.localRefresh=G,n.renderer=g,n.wrapperElement=De,n.updateCanvasStyle(),n.bindAutoFit(),n.initDefaultInteractions(Dt),n}return e.prototype.initDefaultInteractions=function(t){var n=this;(0,w.each)(t,function(o){n.interaction(o)})},e.prototype.aria=function(t){var n="aria-label";t===!1?this.ele.removeAttribute(n):this.ele.setAttribute(n,t.label)},e.prototype.changeSize=function(t,n){return this.width===t&&this.height===n?this:(this.emit(pi.BEFORE_CHANGE_SIZE),this.width=t,this.height=n,this.canvas.changeSize(t,n),this.render(!0),this.emit(pi.AFTER_CHANGE_SIZE),this)},e.prototype.clear=function(){a.prototype.clear.call(this),this.aria(!1)},e.prototype.destroy=function(){a.prototype.destroy.call(this),this.unbindAutoFit(),this.canvas.destroy(),Vu(this.wrapperElement),this.wrapperElement=null},e.prototype.changeVisible=function(t){return a.prototype.changeVisible.call(this,t),this.wrapperElement.style.display=t?"":"none",this},e.prototype.forceFit=function(){if(!this.destroyed){var t=Ff(this.ele,!0,this.width,this.height),n=t.width,o=t.height;this.changeSize(n,o)}},e.prototype.updateCanvasStyle=function(){Ri(this.canvas.get("el"),{display:"inline-block",verticalAlign:"middle"})},e.prototype.bindAutoFit=function(){this.autoFit&&window.addEventListener("resize",this.onResize)},e.prototype.unbindAutoFit=function(){this.autoFit&&window.removeEventListener("resize",this.onResize)},e}(bM),EM=U5,K0=function(){function a(e){this.visible=!0,this.components=[],this.view=e}return a.prototype.clear=function(e){(0,w.each)(this.components,function(t){t.component.destroy()}),this.components=[]},a.prototype.destroy=function(){this.clear()},a.prototype.getComponents=function(){return this.components},a.prototype.changeVisible=function(e){this.visible!==e&&(this.components.forEach(function(t){e?t.component.show():t.component.hide()}),this.visible=e)},a}();function j5(a){for(var e=[],t=function(o){var u=a[o],l=(0,w.find)(e,function(c){return c.color===u.color&&c.name===u.name&&c.value===u.value&&c.title===u.title});l||e.push(u)},n=0;n<a.length;n++)t(n);return e}var W5=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.isLocked=!1,t}return Object.defineProperty(e.prototype,"name",{get:function(){return"tooltip"},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.isVisible=function(){var t=this.view.getOptions().tooltip;return t!==!1},e.prototype.render=function(){},e.prototype.showTooltip=function(t){if(this.point=t,!!this.isVisible()){var n=this.view,o=this.getTooltipItems(t);if(!o.length){this.hideTooltip();return}var u=this.getTitle(o),l={x:o[0].x,y:o[0].y};n.emit("tooltip:show",nu.fromData(n,"tooltip:show",(0,Z.__assign)({items:o,title:u},t)));var c=this.getTooltipCfg(),f=c.follow,h=c.showMarkers,v=c.showCrosshairs,p=c.showContent,g=c.marker,E=this.items,D=this.title;if(!(0,w.isEqual)(D,u)||!(0,w.isEqual)(E,o)?(n.emit("tooltip:change",nu.fromData(n,"tooltip:change",(0,Z.__assign)({items:o,title:u},t))),((0,w.isFunction)(p)?p(o):p)&&(this.tooltip||this.renderTooltip(),this.tooltip.update((0,w.mix)({},c,{items:this.getItemsAfterProcess(o),title:u},f?t:{})),this.tooltip.show()),h&&this.renderTooltipMarkers(o,g)):(this.tooltip&&f&&(this.tooltip.update(t),this.tooltip.show()),this.tooltipMarkersGroup&&this.tooltipMarkersGroup.show()),this.items=o,this.title=u,v){var G=(0,w.get)(c,["crosshairs","follow"],!1);this.renderCrosshairs(G?t:l,c)}}},e.prototype.hideTooltip=function(){var t=this.getTooltipCfg().follow;if(!t){this.point=null;return}var n=this.tooltipMarkersGroup;n&&n.hide();var o=this.xCrosshair,u=this.yCrosshair;o&&o.hide(),u&&u.hide();var l=this.tooltip;l&&l.hide(),this.view.emit("tooltip:hide",nu.fromData(this.view,"tooltip:hide",{})),this.point=null},e.prototype.lockTooltip=function(){this.isLocked=!0,this.tooltip&&this.tooltip.setCapture(!0)},e.prototype.unlockTooltip=function(){this.isLocked=!1;var t=this.getTooltipCfg();this.tooltip&&this.tooltip.setCapture(t.capture)},e.prototype.isTooltipLocked=function(){return this.isLocked},e.prototype.clear=function(){var t=this,n=t.tooltip,o=t.xCrosshair,u=t.yCrosshair,l=t.tooltipMarkersGroup;n&&(n.hide(),n.clear()),o&&o.clear(),u&&u.clear(),l&&l.clear(),n!=null&&n.get("customContent")&&(this.tooltip.destroy(),this.tooltip=null),this.title=null,this.items=null},e.prototype.destroy=function(){this.tooltip&&this.tooltip.destroy(),this.xCrosshair&&this.xCrosshair.destroy(),this.yCrosshair&&this.yCrosshair.destroy(),this.guideGroup&&this.guideGroup.remove(!0),this.reset()},e.prototype.reset=function(){this.items=null,this.title=null,this.tooltipMarkersGroup=null,this.tooltipCrosshairsGroup=null,this.xCrosshair=null,this.yCrosshair=null,this.tooltip=null,this.guideGroup=null,this.isLocked=!1,this.point=null},e.prototype.changeVisible=function(t){if(this.visible!==t){var n=this,o=n.tooltip,u=n.tooltipMarkersGroup,l=n.xCrosshair,c=n.yCrosshair;t?(o&&o.show(),u&&u.show(),l&&l.show(),c&&c.show()):(o&&o.hide(),u&&u.hide(),l&&l.hide(),c&&c.hide()),this.visible=t}},e.prototype.getTooltipItems=function(t){var n=this.findItemsFromView(this.view,t);if(n.length){n=(0,w.flatten)(n);for(var o=0,u=n;o<u.length;o++)for(var l=u[o],c=0,f=l;c<f.length;c++){var h=f[c],v=h.mappingData,p=v.x,g=v.y;h.x=(0,w.isArray)(p)?p[p.length-1]:p,h.y=(0,w.isArray)(g)?g[g.length-1]:g}var E=this.getTooltipCfg().shared;if(E===!1&&n.length>1){for(var D=n[0],G=Math.abs(t.y-D[0].y),H=0,X=n;H<X.length;H++){var rt=X[H],ht=Math.abs(t.y-rt[0].y);ht<=G&&(D=rt,G=ht)}n=[D]}return j5((0,w.flatten)(n))}return[]},e.prototype.layout=function(){},e.prototype.update=function(){if(this.point&&this.showTooltip(this.point),this.tooltip){var t=this.view.getCanvas();this.tooltip.set("region",{start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}})}},e.prototype.isCursorEntered=function(t){if(this.tooltip){var n=this.tooltip.getContainer(),o=this.tooltip.get("capture");if(n&&o){var u=n.getBoundingClientRect(),l=u.x,c=u.y,f=u.width,h=u.height;return new kh(l,c,f,h).isPointIn(t)}}return!1},e.prototype.getTooltipCfg=function(){var t=this.view,n=t.getOptions().tooltip,o=this.processCustomContent(n),u=t.getTheme(),l=(0,w.get)(u,["components","tooltip"],{}),c=(0,w.get)(o,"enterable",l.enterable);return(0,w.deepMix)({},l,o,{capture:!!(c||this.isLocked)})},e.prototype.processCustomContent=function(t){if((0,w.isBoolean)(t)||!(0,w.get)(t,"customContent"))return t;var n=t.customContent,o=function(u,l){var c=n(u,l)||"";return(0,w.isString)(c)?'<div class="g2-tooltip">'+c+"</div>":c};return(0,Z.__assign)((0,Z.__assign)({},t),{customContent:o})},e.prototype.getTitle=function(t){var n=t[0].title||t[0].name;return this.title=n,n},e.prototype.renderTooltip=function(){var t=this.view.getCanvas(),n={start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}},o=this.getTooltipCfg(),u=new ow((0,Z.__assign)((0,Z.__assign)({parent:t.get("el").parentNode,region:n},o),{visible:!1,crosshairs:null}));u.init(),this.tooltip=u},e.prototype.renderTooltipMarkers=function(t,n){for(var o=this.getTooltipMarkersGroup(),u=this.view.getRootView(),l=u.limitInPlot,c=0,f=t;c<f.length;c++){var h=f[c],v=h.x,p=h.y;if(l||(o==null?void 0:o.getClip())){var g=uw(u.getCoordinate()),E=g.type,D=g.attrs;o==null||o.setClip({type:E,attrs:D})}else o==null||o.setClip(void 0);var G=(0,Z.__assign)((0,Z.__assign)({fill:h.color,symbol:"circle",shadowColor:h.color},n),{x:v,y:p});o.addShape("marker",{attrs:G})}},e.prototype.renderCrosshairs=function(t,n){var o=(0,w.get)(n,["crosshairs","type"],"x");o==="x"?(this.yCrosshair&&this.yCrosshair.hide(),this.renderXCrosshairs(t,n)):o==="y"?(this.xCrosshair&&this.xCrosshair.hide(),this.renderYCrosshairs(t,n)):o==="xy"&&(this.renderXCrosshairs(t,n),this.renderYCrosshairs(t,n))},e.prototype.renderXCrosshairs=function(t,n){var o=this.getViewWithGeometry(this.view).getCoordinate();if(!!sw(o,t)){var u,l;if(o.isRect)o.isTransposed?(u={x:o.start.x,y:t.y},l={x:o.end.x,y:t.y}):(u={x:t.x,y:o.end.y},l={x:t.x,y:o.start.y});else{var c=Mm(o,t),f=o.getCenter(),h=o.getRadius();l=_l(f.x,f.y,h,c),u=f}var v=(0,w.deepMix)({start:u,end:l,container:this.getTooltipCrosshairsGroup()},(0,w.get)(n,"crosshairs",{}),this.getCrosshairsText("x",t,n));delete v.type;var p=this.xCrosshair;p?p.update(v):(p=new AT(v),p.init()),p.render(),p.show(),this.xCrosshair=p}},e.prototype.renderYCrosshairs=function(t,n){var o=this.getViewWithGeometry(this.view).getCoordinate();if(!!sw(o,t)){var u,l;if(o.isRect){var c=void 0,f=void 0;o.isTransposed?(c={x:t.x,y:o.end.y},f={x:t.x,y:o.start.y}):(c={x:o.start.x,y:t.y},f={x:o.end.x,y:t.y}),u={start:c,end:f},l="Line"}else u={center:o.getCenter(),radius:sE(o,t),startAngle:o.startAngle,endAngle:o.endAngle},l="Circle";u=(0,w.deepMix)({container:this.getTooltipCrosshairsGroup()},u,(0,w.get)(n,"crosshairs",{}),this.getCrosshairsText("y",t,n)),delete u.type;var h=this.yCrosshair;h?o.isRect&&h.get("type")==="circle"||!o.isRect&&h.get("type")==="line"?(h=new T[l](u),h.init()):h.update(u):(h=new T[l](u),h.init()),h.render(),h.show(),this.yCrosshair=h}},e.prototype.getCrosshairsText=function(t,n,o){var u=(0,w.get)(o,["crosshairs","text"]),l=(0,w.get)(o,["crosshairs","follow"]),c=this.items;if(u){var f=this.getViewWithGeometry(this.view),h=c[0],v=f.getXScale(),p=f.getYScales()[0],g=void 0,E=void 0;if(l){var D=this.view.getCoordinate().invert(n);g=v.invert(D.x),E=p.invert(D.y)}else g=h.data[v.field],E=h.data[p.field];var G=t==="x"?g:E;return(0,w.isFunction)(u)?u=u(t,G,c,n):u.content=G,{text:u}}},e.prototype.getGuideGroup=function(){if(!this.guideGroup){var t=this.view.foregroundGroup;this.guideGroup=t.addGroup({name:"tooltipGuide",capture:!1})}return this.guideGroup},e.prototype.getTooltipMarkersGroup=function(){var t=this.tooltipMarkersGroup;return t&&!t.destroyed?(t.clear(),t.show()):(t=this.getGuideGroup().addGroup({name:"tooltipMarkersGroup"}),t.toFront(),this.tooltipMarkersGroup=t),t},e.prototype.getTooltipCrosshairsGroup=function(){var t=this.tooltipCrosshairsGroup;return t||(t=this.getGuideGroup().addGroup({name:"tooltipCrosshairsGroup",capture:!1}),t.toBack(),this.tooltipCrosshairsGroup=t),t},e.prototype.findItemsFromView=function(t,n){if(t.getOptions().tooltip===!1)return[];for(var o=this.getTooltipCfg(),u=yw(t,n,o),l=0,c=t.views;l<c.length;l++){var f=c[l];u=u.concat(this.findItemsFromView(f,n))}return u},e.prototype.getViewWithGeometry=function(t){var n=this;return t.geometries.length?t:(0,w.find)(t.views,function(o){return n.getViewWithGeometry(o)})},e.prototype.getItemsAfterProcess=function(t){var n=this.getTooltipCfg().customItems,o=n||function(u){return u};return o(t)},e}(K0),xw=W5,SM={};function bw(a){return SM[a.toLowerCase()]}function Yd(a,e){SM[a.toLowerCase()]=e}var Pm={appear:{duration:450,easing:"easeQuadOut"},update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},V5={interval:function(a){return{enter:{animation:a.isRect?a.isTransposed?"scale-in-x":"scale-in-y":"fade-in"},update:{animation:a.isPolar&&a.isTransposed?"sector-path-update":null},leave:{animation:"fade-out"}}},line:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},path:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},point:{appear:{animation:"zoom-in"},enter:{animation:"zoom-in"},leave:{animation:"zoom-out"}},area:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},polygon:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},schema:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},edge:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},label:{appear:{animation:"fade-in",delay:450},enter:{animation:"fade-in"},update:{animation:"position-update"},leave:{animation:"fade-out"}}},wM={line:function(){return{animation:"wave-in"}},area:function(){return{animation:"wave-in"}},path:function(){return{animation:"fade-in"}},interval:function(a){var e;return a.isRect?e=a.isTransposed?"grow-in-x":"grow-in-y":(e="grow-in-xy",a.isPolar&&a.isTransposed&&(e="wave-in")),{animation:e}},schema:function(a){var e;return a.isRect?e=a.isTransposed?"grow-in-x":"grow-in-y":e="grow-in-xy",{animation:e}},polygon:function(){return{animation:"fade-in",duration:500}},edge:function(){return{animation:"fade-in"}}};function H5(a,e){return{delay:(0,w.isFunction)(a.delay)?a.delay(e):a.delay,easing:(0,w.isFunction)(a.easing)?a.easing(e):a.easing,duration:(0,w.isFunction)(a.duration)?a.duration(e):a.duration,callback:a.callback,repeat:a.repeat}}function _M(a,e,t){var n=V5[a];return n&&((0,w.isFunction)(n)&&(n=n(e)),n=(0,w.deepMix)({},Pm,n),t)?n[t]:n}function Lm(a,e,t){var n=(0,w.get)(a.get("origin"),"data",Ja),o=e.animation,u=H5(e,n);if(o){var l=bw(o);l&&l(a,u,t)}else a.animate(t.toAttrs,u)}function Y5(a,e,t,n,o){if(wM[t]){var u=wM[t](n),l=bw((0,w.get)(u,"animation",""));if(l){var c=(0,Z.__assign)((0,Z.__assign)((0,Z.__assign)({},Pm.appear),u),e);a.stopAnimate(),l(a,c,{coordinate:n,minYPoint:o,toAttrs:null})}}}var Ew="element-background",X5=function(a){(0,Z.__extends)(e,a);function e(t){var n=a.call(this,t)||this;n.states=[];var o=t.shapeFactory,u=t.container,l=t.offscreenGroup,c=t.elementIndex,f=t.visible,h=f===void 0?!0:f;return n.shapeFactory=o,n.container=u,n.offscreenGroup=l,n.visible=h,n.elementIndex=c,n}return e.prototype.draw=function(t,n){n===void 0&&(n=!1),this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.drawShape(t,n),this.visible===!1&&this.changeVisible(!1)},e.prototype.update=function(t){var n=this,o=n.shapeFactory,u=n.shape;if(!!u){this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.setShapeInfo(u,t);var l=this.getOffscreenGroup(),c=o.drawShape(this.shapeType,t,l);c.cfg.data=this.data,c.cfg.origin=t,c.cfg.element=this,this.syncShapeStyle(u,c,this.getStates(),this.getAnimateCfg("update"))}},e.prototype.destroy=function(){var t=this,n=t.shapeFactory,o=t.shape;if(o){var u=this.getAnimateCfg("leave");u?Lm(o,u,{coordinate:n.coordinate,toAttrs:(0,Z.__assign)({},o.attr())}):o.remove(!0)}this.states=[],this.shapeFactory=void 0,this.container=void 0,this.shape=void 0,this.animate=void 0,this.geometry=void 0,this.labelShape=void 0,this.model=void 0,this.data=void 0,this.offscreenGroup=void 0,this.statesStyle=void 0,a.prototype.destroy.call(this)},e.prototype.changeVisible=function(t){a.prototype.changeVisible.call(this,t),t?(this.shape&&this.shape.show(),this.labelShape&&this.labelShape.forEach(function(n){n.show()})):(this.shape&&this.shape.hide(),this.labelShape&&this.labelShape.forEach(function(n){n.hide()}))},e.prototype.setState=function(t,n){var o=this,u=o.states,l=o.shapeFactory,c=o.model,f=o.shape,h=o.shapeType,v=u.indexOf(t);if(n){if(v>-1)return;u.push(t),(t==="active"||t==="selected")&&(f==null||f.toFront())}else{if(v===-1)return;if(u.splice(v,1),t==="active"||t==="selected"){var p=this.geometry,g=p.sortZIndex,E=p.zIndexReversed,D=E?this.geometry.elements.length-this.elementIndex:this.elementIndex;g?f.setZIndex(D):f.set("zIndex",D)}}var G=l.drawShape(h,c,this.getOffscreenGroup());u.length?this.syncShapeStyle(f,G,u,null):this.syncShapeStyle(f,G,["reset"],null),G.remove(!0);var H={state:t,stateStatus:n,element:this,target:this.container};this.container.emit("statechange",H),hT(this.shape,"statechange",H)},e.prototype.clearStates=function(){var t=this,n=this.states;(0,w.each)(n,function(o){t.setState(o,!1)}),this.states=[]},e.prototype.hasState=function(t){return this.states.includes(t)},e.prototype.getStates=function(){return this.states},e.prototype.getData=function(){return this.data},e.prototype.getModel=function(){return this.model},e.prototype.getBBox=function(){var t=this,n=t.shape,o=t.labelShape,u={x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0};return n&&(u=n.getCanvasBBox()),o&&o.forEach(function(l){var c=l.getCanvasBBox();u.x=Math.min(c.x,u.x),u.y=Math.min(c.y,u.y),u.minX=Math.min(c.minX,u.minX),u.minY=Math.min(c.minY,u.minY),u.maxX=Math.max(c.maxX,u.maxX),u.maxY=Math.max(c.maxY,u.maxY)}),u.width=u.maxX-u.minX,u.height=u.maxY-u.minY,u},e.prototype.getStatesStyle=function(){if(!this.statesStyle){var t=this,n=t.shapeType,o=t.geometry,u=t.shapeFactory,l=o.stateOption,c=u.defaultShapeType,f=u.theme[n]||u.theme[c];this.statesStyle=(0,w.deepMix)({},f,l)}return this.statesStyle},e.prototype.getStateStyle=function(t,n){var o=this.getStatesStyle(),u=(0,w.get)(o,[t,"style"],{}),l=u[n]||u;return(0,w.isFunction)(l)?l(this):l},e.prototype.getAnimateCfg=function(t){var n=this,o=this.animate;if(o){var u=o[t];return u&&(0,Z.__assign)((0,Z.__assign)({},u),{callback:function(){var l;(0,w.isFunction)(u.callback)&&u.callback(),(l=n.geometry)===null||l===void 0||l.emit(Nc.AFTER_DRAW_ANIMATE)}})}return null},e.prototype.drawShape=function(t,n){var o;n===void 0&&(n=!1);var u=this,l=u.shapeFactory,c=u.container,f=u.shapeType;if(this.shape=l.drawShape(f,t,c),this.shape){this.setShapeInfo(this.shape,t);var h=this.shape.cfg.name;h?(0,w.isString)(h)&&(this.shape.cfg.name=["element",h]):this.shape.cfg.name=["element",this.shapeFactory.geometryType];var v=n?"enter":"appear",p=this.getAnimateCfg(v);p&&((o=this.geometry)===null||o===void 0||o.emit(Nc.BEFORE_DRAW_ANIMATE),Lm(this.shape,p,{coordinate:l.coordinate,toAttrs:(0,Z.__assign)({},this.shape.attr())}))}},e.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var t=this.container.getGroupBase();this.offscreenGroup=new t({})}return this.offscreenGroup},e.prototype.setShapeInfo=function(t,n){var o=this;if(t.cfg.origin=n,t.cfg.element=this,t.isGroup()){var u=t.get("children");u.forEach(function(l){o.setShapeInfo(l,n)})}},e.prototype.syncShapeStyle=function(t,n,o,u,l){var c=this,f;if(o===void 0&&(o=[]),l===void 0&&(l=0),!(!t||!n)){var h=t.get("clipShape"),v=n.get("clipShape");if(this.syncShapeStyle(h,v,o,u),t.isGroup())for(var p=t.get("children"),g=n.get("children"),E=0;E<p.length;E++)this.syncShapeStyle(p[E],g[E],o,u,l+E);else{if(!(0,w.isEmpty)(o)&&!(0,w.isEqual)(o,["reset"])){var D=t.get("name");(0,w.isArray)(D)&&(D=D[1]),(0,w.each)(o,function(H){if(n.get("name")!==Ew){var X=c.getStateStyle(H,D||l);n.attr(X)}})}var G=BT(t,n);this.animate?u?((f=this.geometry)===null||f===void 0||f.emit(Nc.BEFORE_DRAW_ANIMATE),Lm(t,u,{coordinate:this.shapeFactory.coordinate,toAttrs:G,shapeModel:this.model})):(0,w.isEmpty)(o)?t.attr(G):(t.stopAnimate(),t.animate(G,{duration:300})):t.attr(G)}}},e.prototype.getShapeType=function(t){var n=(0,w.get)(t,"shape");return(0,w.isArray)(n)?n[0]:n},e}(fc),Sw=X5,AM={},CM={};function TM(a){return AM[a.toLowerCase()]}function Rm(a,e){AM[a.toLowerCase()]=e}function MM(a){return CM[a.toLowerCase()]}function Ed(a,e){CM[a.toLowerCase()]=e}var $5={coordinate:null,defaultShapeType:null,theme:null,getShapePoints:function(a,e){var t=this.getShape(a);return t.getPoints?t.getPoints(e):this.getDefaultPoints(e)},getShape:function(a){var e=this[a]||this[this.defaultShapeType];return e.coordinate=this.coordinate,e},getDefaultPoints:function(){return[]},getDefaultStyle:function(a){return(0,w.get)(a,[this.defaultShapeType,"default","style"],{})},getMarker:function(a,e){var t=this.getShape(a);if(!t.getMarker){var n=this.defaultShapeType;t=this.getShape(n)}var o=this.theme,u=(0,w.get)(o,[a,"default"],{}),l=t.getMarker(e);return(0,w.deepMix)({},u,l)},drawShape:function(a,e,t){var n=this.getShape(a);return n.draw(e,t)}},K5={coordinate:null,parsePath:function(a){var e=this.coordinate,t=Tp(a);return e.isPolar?t=a5(e,t):t=i5(e,t),t},parsePoint:function(a){var e=this.coordinate;return e.convert(a)},parsePoints:function(a){var e=this.coordinate;return a.map(function(t){return e.convert(t)})},draw:function(a,e){}},ww={};function lg(a,e){var t=(0,w.upperFirst)(a),n=(0,Z.__assign)((0,Z.__assign)((0,Z.__assign)({},$5),e),{geometryType:a});return ww[t]=n,n}function No(a,e,t){var n=(0,w.upperFirst)(a),o=ww[n],u=(0,Z.__assign)((0,Z.__assign)({},K5),t);return o[e]=u,u}function _w(a){var e=(0,w.upperFirst)(a);return ww[e]}function Z5(a,e,t){if(t===void 0&&(t={}),!e)return[a];var n=(0,w.groupToMap)(a,e),o=[];if(e.length===1&&t[e[0]])for(var u=t[e[0]],l=0,c=u;l<c.length;l++){var f=c[l],h=n["_".concat(f)];h&&o.push(h)}else for(var v in n)if(n.hasOwnProperty(v)){var p=n[v];o.push(p)}return o}function IM(a,e){return(0,w.some)(["color","shape","size","x","y","isInCircle","data","style","defaultStyle","points","mappingData"],function(t){return!(0,w.isEqual)(a[t],e[t])})}function Nx(a){return(0,w.isArray)(a)?a:a.split("*")}function OM(a,e){for(var t=[],n=[],o=[],u=new Map,l=0;l<e.length;l++){var c=e[l];a[c]?n.push(c):t.push(c),u.set(c,!0)}return Object.keys(a).forEach(function(f){u.has(f)||o.push(f)}),{added:t,updated:n,removed:o}}function Q5(a,e){var t=[];return(0,w.each)(e,function(n,o){var u=o.split(" ")[0];u===a&&t.push(n)}),t}var J5=function(a){(0,Z.__extends)(e,a);function e(t){var n=a.call(this,t)||this;n.type="base",n.attributes={},n.elements=[],n.elementsMap={},n.animateOption=!0,n.attributeOption={},n.lastElementsMap={},n.generatePoints=!1,n.beforeMappingData=null,n.adjusts={},n.idFields=[],n.hasSorted=!1,n.isCoordinateChanged=!1;var o=t.container,u=t.labelsContainer,l=t.coordinate,c=t.data,f=t.sortable,h=f===void 0?!1:f,v=t.visible,p=v===void 0?!0:v,g=t.theme,E=t.scales,D=E===void 0?{}:E,G=t.scaleDefs,H=G===void 0?{}:G,X=t.intervalPadding,rt=t.dodgePadding,ht=t.maxColumnWidth,mt=t.minColumnWidth,Dt=t.columnWidthRatio,kt=t.roseWidthRatio,Vt=t.multiplePieWidthRatio,te=t.zIndexReversed,le=t.sortZIndex;return n.container=o,n.labelsContainer=u,n.coordinate=l,n.data=c,n.sortable=h,n.visible=p,n.userTheme=g,n.scales=D,n.scaleDefs=H,n.intervalPadding=X,n.dodgePadding=rt,n.maxColumnWidth=ht,n.minColumnWidth=mt,n.columnWidthRatio=Dt,n.roseWidthRatio=kt,n.multiplePieWidthRatio=Vt,n.zIndexReversed=te,n.sortZIndex=le,n}return e.prototype.position=function(t){var n=t;(0,w.isPlainObject)(t)||(n={fields:Nx(t)});var o=(0,w.get)(n,"fields");return o.length===1&&(o.unshift("1"),(0,w.set)(n,"fields",o)),(0,w.set)(this.attributeOption,"position",n),this},e.prototype.color=function(t,n){return this.createAttrOption("color",t,n),this},e.prototype.shape=function(t,n){return this.createAttrOption("shape",t,n),this},e.prototype.size=function(t,n){return this.createAttrOption("size",t,n),this},e.prototype.adjust=function(t){var n=t;return((0,w.isString)(t)||(0,w.isPlainObject)(t))&&(n=[t]),(0,w.each)(n,function(o,u){(0,w.isObject)(o)||(n[u]={type:o})}),this.adjustOption=n,this},e.prototype.style=function(t,n){if((0,w.isString)(t)){var o=Nx(t);this.styleOption={fields:o,callback:n}}else{var u=t,o=u.fields,l=u.callback,c=u.cfg;o||l||c?this.styleOption=t:this.styleOption={cfg:t}}return this},e.prototype.tooltip=function(t,n){if((0,w.isString)(t)){var o=Nx(t);this.tooltipOption={fields:o,callback:n}}else this.tooltipOption=t;return this},e.prototype.animate=function(t){return this.animateOption=t,this},e.prototype.label=function(t,n,o){if((0,w.isString)(t)){var u={},l=Nx(t);u.fields=l,(0,w.isFunction)(n)?u.callback=n:(0,w.isPlainObject)(n)&&(u.cfg=n),o&&(u.cfg=o),this.labelOption=u}else this.labelOption=t;return this},e.prototype.state=function(t){return this.stateOption=t,this},e.prototype.customInfo=function(t){return this.customOption=t,this},e.prototype.init=function(t){t===void 0&&(t={}),this.setCfg(t),this.initAttributes(),this.processData(this.data),this.adjustScale()},e.prototype.update=function(t){t===void 0&&(t={});var n=t.data,o=t.isDataChanged,u=t.isCoordinateChanged,l=this,c=l.attributeOption,f=l.lastAttributeOption;(0,w.isEqual)(c,f)?n&&(o||!(0,w.isEqual)(n,this.data))?(this.setCfg(t),this.initAttributes(),this.processData(n)):this.setCfg(t):this.init(t),this.adjustScale(),this.isCoordinateChanged=u},e.prototype.paint=function(t){t===void 0&&(t=!1),this.animateOption&&(this.animateOption=(0,w.deepMix)({},_M(this.type,this.coordinate),this.animateOption)),this.defaultSize=void 0,this.elementsMap={},this.elements=[];var n=this.getOffscreenGroup();n.clear();var o=this.beforeMappingData,u=this.beforeMapping(o);this.dataArray=new Array(u.length);for(var l=0;l<u.length;l++){var c=u[l];this.dataArray[l]=this.mapping(c)}if(this.updateElements(this.dataArray,t),this.lastElementsMap=this.elementsMap,this.canDoGroupAnimation(t)){var f=this.container,h=this.type,v=this.coordinate,p=(0,w.get)(this.animateOption,"appear"),g=this.getYScale(),E=v.convert({x:0,y:g.scale(this.getYMinValue())});Y5(f,p,h,v,E)}this.labelOption&&this.renderLabels((0,w.flatten)(this.dataArray),t),this.lastAttributeOption=(0,Z.__assign)({},this.attributeOption),this.visible===!1&&this.changeVisible(!1)},e.prototype.clear=function(){var t=this,n=t.container,o=t.geometryLabel,u=t.offscreenGroup;n&&n.clear(),o&&o.clear(),u&&u.clear(),this.scaleDefs=void 0,this.attributes={},this.scales={},this.elementsMap={},this.lastElementsMap={},this.elements=[],this.adjusts={},this.dataArray=null,this.beforeMappingData=null,this.lastAttributeOption=void 0,this.defaultSize=void 0,this.idFields=[],this.groupScales=void 0,this.hasSorted=!1,this.isCoordinateChanged=!1},e.prototype.destroy=function(){this.clear();var t=this.container;t.remove(!0),this.offscreenGroup&&(this.offscreenGroup.remove(!0),this.offscreenGroup=null),this.geometryLabel&&(this.geometryLabel.destroy(),this.geometryLabel=null),this.theme=void 0,this.shapeFactory=void 0,a.prototype.destroy.call(this)},e.prototype.getGroupScales=function(){return this.groupScales},e.prototype.getAttribute=function(t){return this.attributes[t]},e.prototype.getXScale=function(){return this.getAttribute("position").scales[0]},e.prototype.getYScale=function(){return this.getAttribute("position").scales[1]},e.prototype.getGroupAttributes=function(){var t=[];return(0,w.each)(this.attributes,function(n){ac.includes(n.type)&&t.push(n)}),t},e.prototype.getDefaultValue=function(t){var n,o=this.getAttribute(t);return o&&(0,w.isEmpty)(o.scales)&&(n=o.values[0]),n},e.prototype.getAttributeValues=function(t,n){for(var o=[],u=t.scales,l=0,c=u.length;l<c;l++){var f=u[l],h=f.field;f.isIdentity?o.push(f.values):o.push(n[h])}return t.mapping.apply(t,o)},e.prototype.getAdjust=function(t){return this.adjusts[t]},e.prototype.getCoordinate=function(){return this.coordinate},e.prototype.getData=function(){return this.data},e.prototype.getShapeMarker=function(t,n){var o=this.getShapeFactory();return o.getMarker(t,n)},e.prototype.getElementsBy=function(t){return this.elements.filter(function(n){return t(n)})},e.prototype.getElements=function(){return this.elements},e.prototype.getElementId=function(t){t=(0,w.isArray)(t)?t[0]:t;var n=t[Ja];if(this.idFields.length){for(var o=n[this.idFields[0]],u=1;u<this.idFields.length;u++)o+="-"+n[this.idFields[u]];return o}var l=this.type,c=this.getXScale(),f=this.getYScale(),h=c.field||"x",v=f.field||"y",p=n[v],g;c.type==="identity"?g=c.values[0]:g=n[h];var E;l==="interval"||l==="schema"?E="".concat(g):l==="line"||l==="area"||l==="path"?E=l:E="".concat(g,"-").concat(p);for(var D=this.groupScales,u=0,G=D.length;u<G;u++){var H=D[u],X=H.field;E="".concat(E,"-").concat(n[X])}var rt=this.getAdjust("dodge");if(rt){var ht=rt.dodgeBy;ht&&(E="".concat(E,"-").concat(n[ht]))}return this.getAdjust("jitter")&&(E="".concat(E,"-").concat(t.x,"-").concat(t.y)),E},e.prototype.getScaleFields=function(){var t=[],n=new Map,o=this,u=o.attributeOption,l=o.labelOption,c=o.tooltipOption;for(var f in u)if(u.hasOwnProperty(f)){var h=u[f];h.fields?Qg(h.fields,t,n):h.values&&Qg(h.values,t,n)}return l&&l.fields&&Qg(l.fields,t,n),(0,w.isObject)(c)&&c.fields&&Qg(c.fields,t,n),t},e.prototype.changeVisible=function(t){a.prototype.changeVisible.call(this,t);for(var n=this.elements,o=0,u=n.length;o<u;o++){var l=n[o];l.changeVisible(t)}t?(this.container&&this.container.show(),this.labelsContainer&&this.labelsContainer.show()):(this.container&&this.container.hide(),this.labelsContainer&&this.labelsContainer.hide())},e.prototype.getFields=function(){var t=new Map,n=[];return Object.values(this.attributeOption).forEach(function(o){var u=(o==null?void 0:o.fields)||[];u.forEach(function(l){t.has(l)||n.push(l),t.set(l,!0)})},[]),n},e.prototype.getGroupFields=function(){for(var t=[],n=new Map,o=0,u=ac.length;o<u;o++){var l=ac[o],c=this.attributeOption[l];c&&c.fields&&Qg(c.fields,t,n)}return t},e.prototype.getXYFields=function(){var t=this.attributeOption.position.fields,n=t[0],o=t[1];return[n,o]},e.prototype.getXField=function(){return(0,w.get)(this.getXYFields(),[0])},e.prototype.getYField=function(){return(0,w.get)(this.getXYFields(),[1])},e.prototype.getShapes=function(){return this.elements.map(function(t){return t.shape})},e.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var t=this.container.getGroupBase();this.offscreenGroup=new t({})}return this.offscreenGroup},e.prototype.sort=function(t){if(!this.hasSorted)for(var n=this.getXScale(),o=n.field,u=0;u<t.length;u++){var l=t[u];l.sort(function(c,f){return n.translate(c[Ja][o])-n.translate(f[Ja][o])})}this.hasSorted=!0},e.prototype.adjustScale=function(){var t=this.getYScale();t&&this.getAdjust("stack")&&this.updateStackRange(t,this.beforeMappingData)},e.prototype.getShapeFactory=function(){var t=this.shapeType;if(!!_w(t))return this.shapeFactory||(this.shapeFactory=(0,w.clone)(_w(t))),this.shapeFactory.coordinate=this.coordinate,this.shapeFactory.theme=this.theme.geometries[t]||{},this.shapeFactory},e.prototype.createShapePointsCfg=function(t){var n=this.getXScale(),o=this.getYScale(),u=this.normalizeValues(t[n.field],n),l;return o?l=this.normalizeValues(t[o.field],o):l=t.y?t.y:.1,{x:u,y:l,y0:o?o.scale(this.getYMinValue()):void 0}},e.prototype.createElement=function(t,n,o){o===void 0&&(o=!1);var u=this.container,l=this.getDrawCfg(t),c=this.getShapeFactory(),f=new Sw({shapeFactory:c,container:u,offscreenGroup:this.getOffscreenGroup(),elementIndex:n});return f.animate=this.animateOption,f.geometry=this,f.draw(l,o),f},e.prototype.getDrawCfg=function(t){var n=t[Ja],o={mappingData:t,data:n,x:t.x,y:t.y,color:t.color,size:t.size,isInCircle:this.coordinate.isPolar,customInfo:this.customOption},u=t.shape;!u&&this.getShapeFactory()&&(u=this.getShapeFactory().defaultShapeType),o.shape=u;var l=this.theme.geometries[this.shapeType];o.defaultStyle=(0,w.get)(l,[u,"default"],{}).style,!o.defaultStyle&&this.getShapeFactory()&&(o.defaultStyle=this.getShapeFactory().getDefaultStyle(l));var c=this.styleOption;return c&&(o.style=this.getStyleCfg(c,n)),this.generatePoints&&(o.points=t.points,o.nextPoints=t.nextPoints),o},e.prototype.updateElements=function(t,n){n===void 0&&(n=!1);for(var o=new Map,u=[],l=new Map,c=0,f=0;f<t.length;f++)for(var h=t[f],v=0;v<h.length;v++){var p=h[v],g=this.getElementId(p),E=o.has(g)?"".concat(g,"-").concat(f,"-").concat(v):g;u.push(E),o.set(E,p),l.set(E,c),c++}this.elements=new Array(c);for(var D=OM(this.lastElementsMap,u),G=D.added,H=D.updated,X=D.removed,rt=0,ht=G;rt<ht.length;rt++){var g=ht[rt],p=o.get(g),f=l.get(g),mt=this.createElement(p,f,n);this.elements[f]=mt,this.elementsMap[g]=mt,mt.shape&&mt.shape.set("zIndex",this.zIndexReversed?this.elements.length-f:f)}for(var Dt=0,kt=H;Dt<kt.length;Dt++){var g=kt[Dt],mt=this.lastElementsMap[g],p=o.get(g),Vt=this.getDrawCfg(p),te=mt.getModel(),f=l.get(g);(this.isCoordinateChanged||IM(Vt,te))&&(mt.animate=this.animateOption,mt.update(Vt)),this.elements[f]=mt,this.elementsMap[g]=mt,mt.shape&&mt.shape.set("zIndex",this.zIndexReversed?this.elements.length-f:f)}this.container&&this.container.sort();for(var le=0,pe=X;le<pe.length;le++){var g=pe[le],mt=this.lastElementsMap[g];mt.animate=this.animateOption,mt.destroy()}},e.prototype.getLabelType=function(){var t=this,n=t.labelOption,o=t.coordinate,u=t.type,l=o.type,c=o.isTransposed,f=(0,w.get)(n,["cfg","type"]);return f||(l==="polar"?f=c?"pie":"polar":l==="theta"?f="pie":u==="interval"||u==="polygon"?f="interval":f="base"),f},e.prototype.getYMinValue=function(){var t=this.getYScale(),n=t.min,o=t.max,u;return n>=0?u=n:o<=0?u=o:u=0,u},e.prototype.createAttrOption=function(t,n,o){if((0,w.isNil)(n)||(0,w.isObject)(n))(0,w.isObject)(n)&&(0,w.isEqual)(Object.keys(n),["values"])?(0,w.set)(this.attributeOption,t,{fields:n.values}):(0,w.set)(this.attributeOption,t,n);else{var u={};(0,w.isNumber)(n)?u.values=[n]:u.fields=Nx(n),o&&((0,w.isFunction)(o)?u.callback=o:u.values=o),(0,w.set)(this.attributeOption,t,u)}},e.prototype.initAttributes=function(){var t=this,n=this,o=n.attributes,u=n.attributeOption,l=n.theme,c=n.shapeType;this.groupScales=[];var f={},h=function(g){if(u.hasOwnProperty(g)){var E=u[g];if(!E)return{value:void 0};var D=(0,Z.__assign)({},E),G=D.callback,H=D.values,X=D.fields,rt=X===void 0?[]:X,ht=rt.map(function(Dt){var kt=t.scales[Dt];if(!f[Dt]&&ac.includes(g)){var Vt=GT(kt,(0,w.get)(t.scaleDefs,Dt),g,t.type);Vt==="cat"&&(t.groupScales.push(kt),f[Dt]=!0)}return kt});D.scales=ht,g!=="position"&&ht.length===1&&ht[0].type==="identity"?D.values=ht[0].values:!G&&!H&&(g==="size"?D.values=l.sizes:g==="shape"?D.values=l.shapes[c]||[]:g==="color"&&(ht.length?D.values=ht[0].values.length<=10?l.colors10:l.colors20:D.values=l.colors10));var mt=lT(g);o[g]=new mt(D)}};for(var v in u){var p=h(v);if(typeof p=="object")return p.value}},e.prototype.processData=function(t){this.hasSorted=!1;for(var n=this.getAttribute("position").scales,o=n.filter(function(Dt){return Dt.isCategory}),u=this.groupData(t),l=[],c=0,f=u.length;c<f;c++){for(var h=u[c],v=[],p=0,g=h.length;p<g;p++){var E=h[p],D={};for(var G in E)D[G]=E[G];D[Ja]=E;for(var H=0,X=o;H<X.length;H++){var rt=X[H],ht=rt.field;D[ht]=rt.translate(D[ht])}v.push(D)}l.push(v)}var mt=this.adjustData(l);return this.beforeMappingData=mt,mt},e.prototype.adjustData=function(t){var n=this.adjustOption,o=this,u=o.intervalPadding,l=o.dodgePadding,c=o.theme,f=this.maxColumnWidth||c.maxColumnWidth,h=this.minColumnWidth||c.minColumnWidth,v=this.columnWidthRatio||c.columnWidthRatio,p=t;if(n){var g=this.getXScale(),E=this.getYScale(),D=g.field,G=E?E.field:null,H=Ix(this.coordinate),X=g.values.length,rt=this.getAttribute("size"),ht=void 0;rt&&(ht=rt.values[0]);for(var mt=0,Dt=n.length;mt<Dt;mt++){var kt=n[mt],Vt=(0,Z.__assign)({xField:D,yField:G,intervalPadding:u,dodgePadding:l,xDimensionLength:H,groupNum:X,defaultSize:ht,maxColumnWidth:f,minColumnWidth:h,columnWidthRatio:v},kt),te=kt.type;if(te==="dodge"){var le=[];if(g.isCategory||g.type==="identity")le.push("x");else if(!E)le.push("y");else throw new Error("dodge is not support linear attribute, please use category attribute!");Vt.adjustNames=le,Vt.dodgeRatio=v}else if(te==="stack"){var pe=this.coordinate;if(!E){Vt.height=pe.getHeight();var De=this.getDefaultValue("size")||3;Vt.size=De}!pe.isTransposed&&(0,w.isNil)(Vt.reverseOrder)&&(Vt.reverseOrder=!0)}var Xe=jl(te);Vt.dimValuesMap={},g&&g.values&&(Vt.dimValuesMap[g.field]=g.values.map(function(yr){return g.translate(yr)}));var pr=new Xe(Vt);p=pr.process(p),this.adjusts[te]=pr}}return p},e.prototype.groupData=function(t){for(var n=this.getGroupScales(),o=this.scaleDefs,u={},l=[],c=0;c<n.length;c++){var f=n[c],h=f.field;l.push(h),(0,w.get)(o,[h,"values"])&&(u[h]=o[h].values)}return Z5(t,l,u)},e.prototype.updateStackRange=function(t,n){for(var o=(0,w.flatten)(n),u=t.field,l=t.min,c=t.max,f=0;f<o.length;f++){var h=o[f],v=Math.min.apply(null,h[u]),p=Math.max.apply(null,h[u]);v<l&&(l=v),p>c&&(c=p)}var g=this.scaleDefs,E={};l<t.min&&!(0,w.get)(g,[u,"min"])&&(E.min=l),c>t.max&&!(0,w.get)(g,[u,"max"])&&(E.max=c),t.change(E)},e.prototype.beforeMapping=function(t){var n=t;if(this.sortable&&this.sort(n),this.generatePoints)for(var o=0,u=n.length;o<u;o++){var l=n[o];this.generateShapePoints(l);var c=n[o+1];c&&(this.generateShapePoints(c),l[0].nextPoints=c[0].points)}return n},e.prototype.generateShapePoints=function(t){for(var n=this.getShapeFactory(),o=this.getAttribute("shape"),u=0;u<t.length;u++){var l=t[u],c=this.createShapePointsCfg(l),f=o?this.getAttributeValues(o,l):null,h=n.getShapePoints(f,c);l.points=h}},e.prototype.normalizeValues=function(t,n){var o=[];if((0,w.isArray)(t))for(var u=0;u<t.length;u++){var l=t[u];o.push(n.scale(l))}else o=n.scale(t);return o},e.prototype.mapping=function(t){for(var n=this.attributes,o=[],u=0;u<t.length;u++){var l=t[u],c={_origin:l[Ja],points:l.points,nextPoints:l.nextPoints};for(var f in n)if(n.hasOwnProperty(f)){var h=n[f],v=h.names,p=this.getAttributeValues(h,l);if(v.length>1)for(var g=0;g<p.length;g+=1){var E=p[g],D=v[g];c[D]=(0,w.isArray)(E)&&E.length===1?E[0]:E}else c[v[0]]=p.length===1?p[0]:p}this.convertPoint(c),o.push(c)}return o},e.prototype.convertPoint=function(t){var n=t.x,o=t.y,u,l,c,f=this.coordinate;if((0,w.isArray)(n)&&(0,w.isArray)(o)){u=[],l=[];for(var h=0,v=0,p=n.length,g=o.length;h<p&&v<g;h+=1,v+=1)c=f.convert({x:n[h],y:o[v]}),u.push(c.x),l.push(c.y)}else if((0,w.isArray)(o)){l=[];for(var E=0;E<o.length;E++){var D=o[E];c=f.convert({x:n,y:D}),u&&u!==c.x?((0,w.isArray)(u)||(u=[u]),u.push(c.x)):u=c.x,l.push(c.y)}}else if((0,w.isArray)(n)){u=[];for(var E=0;E<n.length;E++){var G=n[E];c=f.convert({x:G,y:o}),l&&l!==c.y?((0,w.isArray)(l)||(l=[l]),l.push(c.y)):l=c.y,u.push(c.x)}}else{var H=f.convert({x:n,y:o});u=H.x,l=H.y}t.x=u,t.y=l},e.prototype.getStyleCfg=function(t,n){var o=t.fields,u=o===void 0?[]:o,l=t.callback,c=t.cfg;if(c)return c;var f=u.map(function(h){return n[h]});return l.apply(void 0,f)},e.prototype.setCfg=function(t){var n=this,o=t.coordinate,u=t.data,l=t.theme,c=t.scaleDefs;o&&(this.coordinate=o),u&&(this.data=u),c&&(this.scaleDefs=c,this.idFields=[],(0,w.each)(c,function(f,h){f&&f.key&&n.idFields.push(h)})),l&&(this.theme=this.userTheme?(0,w.deepMix)({},l,this.userTheme):l)},e.prototype.renderLabels=function(t,n){n===void 0&&(n=!1);var o=this.geometryLabel;if(!o){var u=this.getLabelType(),l=TM(u);o=new l(this),this.geometryLabel=o}o.render(t,n);var c=o.labelsRenderer.shapesMap;(0,w.each)(this.elementsMap,function(f,h){var v=Q5(h,c);if(v.length){f.labelShape=v;for(var p=0;p<v.length;p++)for(var g=v[p],E=g.getChildren(),D=0;D<E.length;D++){var G=E[D];G.cfg.name=["element","label"],G.cfg.element=f}}})},e.prototype.canDoGroupAnimation=function(t){return!t&&this.animateOption&&((0,w.get)(this.animateOption,"appear")===void 0||(0,w.get)(this.animateOption,"appear")&&(0,w.get)(this.animateOption,["appear","animation"])===void 0)},e}(fc),cg=J5,gE=ka;function kx(a,e,t){var n=gE(a.getMatrix(),[["t",e,t]]);a.setMatrix(n)}function q5(a,e){var t=a.attr(),n=t.x,o=t.y,u=gE(a.getMatrix(),[["t",-n,-o],["r",e],["t",n,o]]);return u}function Aw(a,e){var t=q5(a,e);a.setMatrix(t)}function Ylt(){return[1,0,0,0,1,0,0,0,1]}function t6(a,e){var t=a.getBBox(),n=(t.minX+t.maxX)/2,o=(t.minY+t.maxY)/2;a.applyToMatrix([n,o,1]);var u=gE(a.getMatrix(),[["t",-n,-o],["s",e,e],["t",n,o]]);a.setMatrix(u)}function t0(a){return a.find(function(e){return e.get("type")==="text"})}function Cw(a,e,t){t===void 0&&(t=[0,0,0,0]);var n=a.getChildren()[0];if(n){var o=n.clone();e!=null&&e.rotate&&Aw(o,-e.rotate);var u=o.getCanvasBBox(),l=u.x,c=u.y,f=u.width,h=u.height;o.destroy();var v=t;return(0,w.isNil)(v)?v=[2,2,2,2]:(0,w.isNumber)(v)&&(v=new Array(4).fill(v)),{x:l-v[3],y:c-v[0],width:f+v[1]+v[3],height:h+v[0]+v[2],rotation:(e==null?void 0:e.rotate)||0}}}function e6(a,e,t){t===void 0&&(t=0);var n=Math.max(0,Math.min(a.x+a.width+t,e.x+e.width+t)-Math.max(a.x-t,e.x-t)),o=Math.max(0,Math.min(a.y+a.height+t,e.y+e.height+t)-Math.max(a.y-t,e.y-t));return n*o}function r6(a,e){var t=a.getBBox();return(0,w.some)(e,function(n){var o=n.getBBox();return e6(t,o,2)>0})}function DM(a,e,t){var n=t.data,o=t.origin,u=t.animateCfg,l=t.coordinate,c=(0,w.get)(u,"update");a.set("data",n),a.set("origin",o),a.set("animateCfg",u),a.set("coordinate",l),a.set("visible",e.get("visible")),a.getChildren().forEach(function(f,h){var v=e.getChildByIndex(h);if(!v)a.removeChild(f),f.remove(!0);else{f.set("data",n),f.set("origin",o),f.set("animateCfg",u),f.set("coordinate",l);var p=BT(f,v);c?Lm(f,c,{toAttrs:p,coordinate:l}):f.attr(p),v.isGroup()&&DM(f,v,t)}}),(0,w.each)(e.getChildren(),function(f,h){h>=a.getCount()&&(f.destroyed||a.add(f))})}var n6=function(){function a(e){this.shapesMap={},this.lastShapesMap={};var t=e.layout,n=e.container;this.layout=t,this.container=n}return a.prototype.render=function(e,t,n){var o=this;n===void 0&&(n=!1),this.shapesMap={};var u=this.container,l=this.createOffscreenGroup();if(e.length){for(var c=0,f=e;c<f.length;c++){var h=f[c];h&&this.renderLabel(h,l)}this.doLayout(e,t),this.renderLabelLine(e),this.renderLabelBackground(e),this.adjustLabel(e)}var v=this.lastShapesMap,p=this.shapesMap;(0,w.each)(p,function(g,E){if(g.destroyed)delete p[E];else{if(v[E]){var D=g.get("data"),G=g.get("origin"),H=g.get("coordinate"),X=g.get("animateCfg"),rt=v[E];DM(rt,p[E],{data:D,origin:G,animateCfg:X,coordinate:H}),o.shapesMap[E]=rt}else{u.add(g);var ht=(0,w.get)(g.get("animateCfg"),n?"enter":"appear");ht&&Lm(g,ht,{toAttrs:(0,Z.__assign)({},g.attr()),coordinate:g.get("coordinate")})}delete v[E]}}),(0,w.each)(v,function(g){var E=(0,w.get)(g.get("animateCfg"),"leave");E?Lm(g,E,{toAttrs:null,coordinate:g.get("coordinate")}):g.remove(!0)}),this.lastShapesMap=p,l.destroy()},a.prototype.clear=function(){this.container.clear(),this.shapesMap={},this.lastShapesMap={}},a.prototype.destroy=function(){this.container.destroy(),this.shapesMap=null,this.lastShapesMap=null},a.prototype.renderLabel=function(e,t){var n=e.id,o=e.elementId,u=e.data,l=e.mappingData,c=e.coordinate,f=e.animate,h=e.content,v={id:n,elementId:o,data:u,origin:(0,Z.__assign)((0,Z.__assign)({},l),{data:l[Ja]}),coordinate:c},p=t.addGroup((0,Z.__assign)({name:"label",animateCfg:this.animate===!1||f===null||f===!1?!1:(0,w.deepMix)({},this.animate,f)},v)),g;if(h.isGroup&&h.isGroup()||h.isShape&&h.isShape()){var E=h.getCanvasBBox(),D=E.width,G=E.height,H=(0,w.get)(e,"textAlign","left"),X=e.x,rt=e.y-G/2;H==="center"?X=X-D/2:(H==="right"||H==="end")&&(X=X-D),kx(h,X,rt),g=h,p.add(h)}else{var ht=(0,w.get)(e,["style","fill"]);g=p.addShape("text",(0,Z.__assign)({attrs:(0,Z.__assign)((0,Z.__assign)({x:e.x,y:e.y,textAlign:e.textAlign,textBaseline:(0,w.get)(e,"textBaseline","middle"),text:e.content},e.style),{fill:(0,w.isNull)(ht)?e.color:ht})},v))}e.rotate&&Aw(g,e.rotate),this.shapesMap[n]=p},a.prototype.doLayout=function(e,t){var n=this;if(this.layout){var o=(0,w.isArray)(this.layout)?this.layout:[this.layout];(0,w.each)(o,function(u){var l=MM((0,w.get)(u,"type",""));if(l){var c=[],f=[];(0,w.each)(n.shapesMap,function(h,v){c.push(h),f.push(t[h.get("elementId")])}),l(e,c,f,n.region,u.cfg)}})}},a.prototype.renderLabelLine=function(e){var t=this;(0,w.each)(e,function(n){var o=(0,w.get)(n,"coordinate");if(!(!n||!o)){var u=o.getCenter(),l=o.getRadius();if(!!n.labelLine){var c=(0,w.get)(n,"labelLine",{}),f=n.id,h=c.path;if(!h){var v=_l(u.x,u.y,l,n.angle);h=[["M",v.x,v.y],["L",n.x,n.y]]}var p=t.shapesMap[f];p.destroyed||p.addShape("path",{capture:!1,attrs:(0,Z.__assign)({path:h,stroke:n.color?n.color:(0,w.get)(n,["style","fill"],"#000"),fill:null},c.style),id:f,origin:n.mappingData,data:n.data,coordinate:n.coordinate})}}})},a.prototype.renderLabelBackground=function(e){var t=this;(0,w.each)(e,function(n){var o=(0,w.get)(n,"coordinate"),u=(0,w.get)(n,"background");if(!(!u||!o)){var l=n.id,c=t.shapesMap[l];if(!c.destroyed){var f=c.getChildren()[0];if(f){var h=Cw(c,n,u.padding),v=h.rotation,p=(0,Z.__rest)(h,["rotation"]),g=c.addShape("rect",{attrs:(0,Z.__assign)((0,Z.__assign)({},p),u.style||{}),id:l,origin:n.mappingData,data:n.data,coordinate:n.coordinate});if(g.setZIndex(-1),v){var E=f.getMatrix();g.setMatrix(E)}}}}})},a.prototype.createOffscreenGroup=function(){var e=this.container,t=e.getGroupBase(),n=new t({});return n},a.prototype.adjustLabel=function(e){var t=this;(0,w.each)(e,function(n){if(n){var o=n.id,u=t.shapesMap[o];if(!u.destroyed){var l=u.findAll(function(c){return c.get("type")!=="path"});(0,w.each)(l,function(c){c&&(n.offsetX&&c.attr("x",c.attr("x")+n.offsetX),n.offsetY&&c.attr("y",c.attr("y")+n.offsetY))})}}})},a}(),i6=n6;function PM(a){var e=0;return(0,w.each)(a,function(t){e+=t}),e/a.length}var a6=function(){function a(e){this.geometry=e}return a.prototype.getLabelItems=function(e){var t=this,n=[],o=this.getLabelCfgs(e);return(0,w.each)(e,function(u,l){var c=o[l];if(!c||(0,w.isNil)(u.x)||(0,w.isNil)(u.y)){n.push(null);return}var f=(0,w.isArray)(c.content)?c.content:[c.content];c.content=f;var h=f.length;(0,w.each)(f,function(v,p){if((0,w.isNil)(v)||v===""){n.push(null);return}var g=(0,Z.__assign)((0,Z.__assign)({},c),t.getLabelPoint(c,u,p));g.textAlign||(g.textAlign=t.getLabelAlign(g,p,h)),g.offset<=0&&(g.labelLine=null),n.push(g)})}),n},a.prototype.render=function(e,t){t===void 0&&(t=!1);var n=this.getLabelItems(e),o=this.getLabelsRenderer(),u=this.getGeometryShapes();o.render(n,u,t)},a.prototype.clear=function(){var e=this.labelsRenderer;e&&e.clear()},a.prototype.destroy=function(){var e=this.labelsRenderer;e&&e.destroy(),this.labelsRenderer=null},a.prototype.getCoordinate=function(){return this.geometry.coordinate},a.prototype.getDefaultLabelCfg=function(e,t){var n=this.geometry,o=n.type,u=n.theme;return o==="polygon"||o==="interval"&&t==="middle"||e<0&&!["line","point","path"].includes(o)?(0,w.get)(u,"innerLabels",{}):(0,w.get)(u,"labels",{})},a.prototype.getThemedLabelCfg=function(e){var t=this.geometry,n=this.getDefaultLabelCfg(),o=t.type,u=t.theme,l;return o==="polygon"||e.offset<0&&!["line","point","path"].includes(o)?l=(0,w.deepMix)({},n,u.innerLabels,e):l=(0,w.deepMix)({},n,u.labels,e),l},a.prototype.setLabelPosition=function(e,t,n,o){},a.prototype.getLabelOffset=function(e){var t=this.getCoordinate(),n=this.getOffsetVector(e);return t.isTransposed?n[0]:n[1]},a.prototype.getLabelOffsetPoint=function(e,t,n){var o=e.offset,u=this.getCoordinate(),l=u.isTransposed,c=l?"x":"y",f=l?1:-1,h={x:0,y:0};return t>0||n===1?h[c]=o*f:h[c]=o*f*-1,h},a.prototype.getLabelPoint=function(e,t,n){var o=this.getCoordinate(),u=e.content.length;function l(H,X,rt){rt===void 0&&(rt=!1);var ht=H;return(0,w.isArray)(ht)&&(e.content.length===1?rt?ht=PM(ht):ht.length<=2?ht=ht[H.length-1]:ht=PM(ht):ht=ht[X]),ht}var c={content:e.content[n],x:0,y:0,start:{x:0,y:0},color:"#fff"},f=(0,w.isArray)(t.shape)?t.shape[0]:t.shape,h=f==="funnel"||f==="pyramid";if(this.geometry.type==="polygon"){var v=k4(t.x,t.y);c.x=v[0],c.y=v[1]}else this.geometry.type==="interval"&&!h?(c.x=l(t.x,n,!0),c.y=l(t.y,n)):(c.x=l(t.x,n),c.y=l(t.y,n));if(h){var p=(0,w.get)(t,"nextPoints"),g=(0,w.get)(t,"points");if(p){var E=o.convert(g[1]),D=o.convert(p[1]);c.x=(E.x+D.x)/2,c.y=(E.y+D.y)/2}else if(f==="pyramid"){var E=o.convert(g[1]),D=o.convert(g[2]);c.x=(E.x+D.x)/2,c.y=(E.y+D.y)/2}}e.position&&this.setLabelPosition(c,t,n,e.position);var G=this.getLabelOffsetPoint(e,n,u);return c.start={x:c.x,y:c.y},c.x+=G.x,c.y+=G.y,c.color=t.color,c},a.prototype.getLabelAlign=function(e,t,n){var o="center",u=this.getCoordinate();if(u.isTransposed){var l=e.offset;l<0?o="right":l===0?o="center":o="left",n>1&&t===0&&(o==="right"?o="left":o==="left"&&(o="right"))}return o},a.prototype.getLabelId=function(e){var t=this.geometry,n=t.type,o=t.getXScale(),u=t.getYScale(),l=e[Ja],c=t.getElementId(e);return n==="line"||n==="area"?c+=" ".concat(l[o.field]):n==="path"&&(c+=" ".concat(l[o.field],"-").concat(l[u.field])),c},a.prototype.getLabelsRenderer=function(){var e=this.geometry,t=e.labelsContainer,n=e.labelOption,o=e.canvasRegion,u=e.animateOption,l=this.geometry.coordinate,c=this.labelsRenderer;return c||(c=new i6({container:t,layout:(0,w.get)(n,["cfg","layout"],{type:this.defaultLayout})}),this.labelsRenderer=c),c.region=o,c.animate=u?_M("label",l):!1,c},a.prototype.getLabelCfgs=function(e){var t=this,n=this.geometry,o=n.labelOption,u=n.scales,l=n.coordinate,c=o,f=c.fields,h=c.callback,v=c.cfg,p=f.map(function(E){return u[E]}),g=[];return(0,w.each)(e,function(E,D){var G=E[Ja],H=t.getLabelText(G,p),X;if(h){var rt=f.map(function(Vt){return G[Vt]});if(X=h.apply(void 0,rt),(0,w.isNil)(X)){g.push(null);return}}var ht=(0,Z.__assign)((0,Z.__assign)({id:t.getLabelId(E),elementId:t.geometry.getElementId(E),data:G,mappingData:E,coordinate:l},v),X);(0,w.isFunction)(ht.position)&&(ht.position=ht.position(G,E,D));var mt=t.getLabelOffset(ht.offset||0),Dt=t.getDefaultLabelCfg(mt,ht.position);ht=(0,w.deepMix)({},Dt,ht),ht.offset=t.getLabelOffset(ht.offset||0);var kt=ht.content;(0,w.isFunction)(kt)?ht.content=kt(G,E,D):(0,w.isUndefined)(kt)&&(ht.content=H[0]),g.push(ht)}),g},a.prototype.getLabelText=function(e,t){var n=[];return(0,w.each)(t,function(o){var u=e[o.field];(0,w.isArray)(u)?u=u.map(function(l){return o.getText(l)}):u=o.getText(u),(0,w.isNil)(u)||u===""?n.push(null):n.push(u)}),n},a.prototype.getOffsetVector=function(e){e===void 0&&(e=0);var t=this.getCoordinate(),n=0;return(0,w.isNumber)(e)&&(n=e),t.isTransposed?t.applyMatrix(n,0):t.applyMatrix(0,n)},a.prototype.getGeometryShapes=function(){var e=this.geometry,t={};return(0,w.each)(e.elementsMap,function(n,o){t[o]=n.shape}),(0,w.each)(e.getOffscreenGroup().getChildren(),function(n){var o=e.getElementId(n.get("origin").mappingData);t[o]=n}),t},a}(),Bx=a6;function Tw(a,e,t){if(!a)return t;var n;if(a.callback&&a.callback.length>1){var o=Array(a.callback.length-1).fill("");n=a.mapping.apply(a,(0,Z.__spreadArray)([e],o,!1)).join("")}else n=a.mapping(e).join("");return n||t}var Z0={hexagon:function(a,e,t){var n=t/2*Math.sqrt(3);return[["M",a,e-t],["L",a+n,e-t/2],["L",a+n,e+t/2],["L",a,e+t],["L",a-n,e+t/2],["L",a-n,e-t/2],["Z"]]},bowtie:function(a,e,t){var n=t-1.5;return[["M",a-t,e-n],["L",a+t,e+n],["L",a+t,e-n],["L",a-t,e+n],["Z"]]},cross:function(a,e,t){return[["M",a-t,e-t],["L",a+t,e+t],["M",a+t,e-t],["L",a-t,e+t]]},tick:function(a,e,t){return[["M",a-t/2,e-t],["L",a+t/2,e-t],["M",a,e-t],["L",a,e+t],["M",a-t/2,e+t],["L",a+t/2,e+t]]},plus:function(a,e,t){return[["M",a-t,e],["L",a+t,e],["M",a,e-t],["L",a,e+t]]},hyphen:function(a,e,t){return[["M",a-t,e],["L",a+t,e]]},line:function(a,e,t){return[["M",a,e-t],["L",a,e+t]]}},o6=["line","cross","tick","plus","hyphen"];function s6(a,e){return(0,w.isFunction)(e)?e(a):(0,w.deepMix)({},a,e)}function u6(a,e){var t=a.symbol;if((0,w.isString)(t)&&o6.indexOf(t)!==-1){var n=(0,w.get)(a,"style",{}),o=(0,w.get)(n,"lineWidth",1),u=n.stroke||n.fill||e;a.style=(0,w.deepMix)({},a.style,{lineWidth:o,stroke:u,fill:null})}}function LM(a){var e=a.symbol;(0,w.isString)(e)&&Z0[e]&&(a.symbol=Z0[e])}function Mw(a){return a.startsWith(An.LEFT)||a.startsWith(An.RIGHT)?"vertical":"horizontal"}function RM(a,e,t,n,o){var u=t.getScale(t.type);if(u.isCategory){var l=u.field,c=e.getAttribute("color"),f=e.getAttribute("shape"),h=a.getTheme().defaultColor,v=e.coordinate.isPolar;return u.getTicks().map(function(p,g){var E,D=p.text,G=p.value,H=D,X=u.invert(G),rt=a.filterFieldData(l,[(E={},E[l]=X,E)]).length===0;(0,w.each)(a.views,function(Vt){var te;Vt.filterFieldData(l,[(te={},te[l]=X,te)]).length||(rt=!0)});var ht=Tw(c,X,h),mt=Tw(f,X,"point"),Dt=e.getShapeMarker(mt,{color:ht,isInPolar:v}),kt=o;return(0,w.isFunction)(kt)&&(kt=kt(H,g,(0,Z.__assign)({name:H,value:X},(0,w.deepMix)({},n,Dt)))),Dt=(0,w.deepMix)({},n,Dt,Hd((0,Z.__assign)({},kt),["style"])),u6(Dt,ht),kt&&kt.style&&(Dt.style=s6(Dt.style,kt.style)),LM(Dt),{id:X,name:H,value:X,marker:Dt,unchecked:rt}})}return[]}function l6(a,e,t){return t.map(function(n,o){var u=e;(0,w.isFunction)(u)&&(u=u(n.name,o,(0,w.deepMix)({},a,n)));var l=(0,w.isFunction)(n.marker)?n.marker(n.name,o,(0,w.deepMix)({},a,n)):n.marker,c=(0,w.deepMix)({},a,u,l);return LM(c),n.marker=c,n})}function FM(a,e){var t=(0,w.get)(a,["components","legend"],{});return(0,w.deepMix)({},(0,w.get)(t,["common"],{}),(0,w.deepMix)({},(0,w.get)(t,[e],{})))}function Iw(a){return a?!1:a==null||isNaN(a)}function NM(a){if((0,w.isArray)(a))return Iw(a[1].y);var e=a.y;return(0,w.isArray)(e)?Iw(e[0]):Iw(e)}function yE(a,e,t){if(e===void 0&&(e=!1),t===void 0&&(t=!0),!a.length||a.length===1&&!t)return[];if(e){for(var n=[],o=0,u=a.length;o<u;o++){var l=a[o];NM(l)||n.push(l)}return[n]}for(var c=[],f=[],o=0,u=a.length;o<u;o++){var l=a[o];NM(l)?f.length&&(f.length===1&&!t||c.push(f),f=[]):f.push(l)}return f.length&&c.push(f),c}function kM(a){for(var e=[],t=0;t<a.length;t++){var n=a[t];if(n){var o=t===0?"M":"L";e.push([o,n.x,n.y])}}var u=a[0];return u&&(e.push(["L",u.x,u.y]),e.push(["z"])),e}function BM(a){for(var e=a.length/2,t=[],n=[],o=0;o<a.length;o++)o<e?t.push(a[o]):n.push(a[o]);var u=hE(t,!1),l=hE(n,!1);n.length&&u.push(["L",n[0].x,n[0].y]),l.shift();var c=u.concat(l);return t.length&&c.push(["L",t[0].x,t[0].y]),c.push(["z"]),c}function al(a,e,t,n){n===void 0&&(n="");var o=a.style,u=o===void 0?{}:o,l=a.defaultStyle,c=a.color,f=a.size,h=(0,Z.__assign)((0,Z.__assign)({},l),u);return c&&(e&&(u.stroke||(h.stroke=c)),t&&(u.fill||(h.fill=c))),n&&(0,w.isNil)(u[n])&&!(0,w.isNil)(f)&&(h[n]=f),h}function GM(a){return(0,w.deepMix)({},{fill:"#CCD6EC",fillOpacity:.3},(0,w.get)(a,["background","style"]))}function Ow(a){var e=a.x,t=(0,w.isArray)(a.y)?a.y:[a.y];return t.map(function(n,o){return{x:(0,w.isArray)(e)?e[o]:e,y:n}})}var c6={line:function(a,e,t){return[["M",a-t,e],["L",a+t,e]]},dot:function(a,e,t){return[["M",a-t,e],["L",a+t,e]]},dash:function(a,e,t){return[["M",a-t,e],["L",a+t,e]]},smooth:function(a,e,t){return[["M",a-t,e],["A",t/2,t/2,0,1,1,a,e],["A",t/2,t/2,0,1,0,a+t,e]]},hv:function(a,e,t){return[["M",a-t-1,e-2.5],["L",a,e-2.5],["L",a,e+2.5],["L",a+t+1,e+2.5]]},vh:function(a,e,t){return[["M",a-t-1,e+2.5],["L",a,e+2.5],["L",a,e-2.5],["L",a+t+1,e-2.5]]},hvh:function(a,e,t){return[["M",a-(t+1),e+2.5],["L",a-t/2,e+2.5],["L",a-t/2,e-2.5],["L",a+t/2,e-2.5],["L",a+t/2,e+2.5],["L",a+t+1,e+2.5]]},vhv:function(a,e){return[["M",a-5,e+2.5],["L",a-5,e],["L",a,e],["L",a,e-3],["L",a,e+3],["L",a+6.5,e+3]]}};function zM(a,e){var t=a.color;return{symbol:c6[e],style:{lineWidth:2,r:6,stroke:t}}}function f6(a,e,t){for(var n=a.isStack,o=a.connectNulls,u=a.isInCircle,l=a.showSinglePoint,c=al(a,!0,!1,"lineWidth"),f=yE(a.points,o,l),h=[],v=0,p=f.length;v<p;v++){var g=f[v];h=h.concat(UM(g,u,n,e,t,c))}return c.path=h,c}function Dw(a,e,t,n,o){if(a.length===1)return[["M",a[0].x,a[0].y-o.lineWidth/2],["L",a[0].x,a[0].y],["L",a[0].x,a[0].y+o.lineWidth/2]];var u;return t?(e&&a.length&&a.push({x:a[0].x,y:a[0].y}),u=hE(a,!1,n)):(u=Px(a,!1),e&&u.push(["Z"])),u}function h6(a,e,t,n,o,u){var l=[],c=[];(0,w.each)(a,function(v){var p=Ow(v);l.push(p[1]),c.push(p[0])});var f=Dw(l,e,n,o,u),h=Dw(c,e,n,o,u);return t?f:f.concat(h)}function UM(a,e,t,n,o,u){if(a.length){var l=a[0];return(0,w.isArray)(l.y)?h6(a,e,t,n,o,u):Dw(a,e,n,o,u)}return[]}var Xlt=lg("line",{defaultShapeType:"line"});(0,w.each)(["line","dot","dash","smooth"],function(a){No("line",a,{draw:function(e,t){var n=a==="smooth",o;if(n){var u=this.coordinate,l=u.start,c=u.end;o=[[l.x,c.y],[c.x,l.y]]}var f=f6(e,n,o),h=t.addShape({type:"path",attrs:f,name:"line",capture:!n});return h},getMarker:function(e){return zM(e,a)}})});var $lt=null,d6="4.1.47",Sd={getLegendItems:RM,translate:kx,rotate:Aw,zoom:t6,transform:gE,getAngle:Mx,getSectorPath:Zg,polarToCartesian:_l,getDelegationObject:Im,getTooltipItems:gw,getMappingValue:Tw,getPath:UM,getPathPoints:yE},Q0={100:"#000",95:"#0D0D0D",85:"#262626",65:"#595959",45:"#8C8C8C",25:"#BFBFBF",15:"#D9D9D9",6:"#F0F0F0"},fs={100:"#FFFFFF",95:"#F2F2F2",85:"#D9D9D9",65:"#A6A6A6",45:"#737373",25:"#404040",15:"#262626",6:"#0F0F0F"},hp=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E86452","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],v6=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#E86452","#F8D0CB","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],p6=["#B8E1FF","#9AC5FF","#7DAAFF","#5B8FF9","#3D76DD","#085EC0","#0047A5","#00318A","#001D70"],g6=function(a){a===void 0&&(a={});var e=a.backgroundColor,t=e===void 0?"#141414":e,n=a.subColor,o=n===void 0?"rgba(255,255,255,0.05)":n,u=a.paletteQualitative10,l=u===void 0?hp:u,c=a.paletteQualitative20,f=c===void 0?v6:c,h=a.paletteSemanticRed,v=h===void 0?"#F4664A":h,p=a.paletteSemanticGreen,g=p===void 0?"#30BF78":p,E=a.paletteSemanticYellow,D=E===void 0?"#FAAD14":E,G=a.paletteSequence,H=G===void 0?p6:G,X=a.fontFamily,rt=X===void 0?`"Segoe UI", Roboto, "Helvetica Neue", Arial,
    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
    "Noto Color Emoji"`:X,ht=a.brandColor,mt=ht===void 0?l[0]:ht;return{backgroundColor:t,brandColor:mt,subColor:o,paletteQualitative10:l,paletteQualitative20:f,paletteSemanticRed:v,paletteSemanticGreen:g,paletteSemanticYellow:D,paletteSequence:H,fontFamily:rt,axisLineBorderColor:fs[25],axisLineBorder:1,axisLineDash:null,axisTitleTextFillColor:fs[65],axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTitleSpacing:12,axisTickLineBorderColor:fs[25],axisTickLineLength:4,axisTickLineBorder:1,axisSubTickLineBorderColor:fs[15],axisSubTickLineLength:2,axisSubTickLineBorder:1,axisLabelFillColor:fs[45],axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisLabelOffset:8,axisGridBorderColor:fs[15],axisGridBorder:1,axisGridLineDash:null,legendTitleTextFillColor:fs[45],legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:hp[0],legendMarkerSpacing:8,legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:fs[65],legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",legendItemSpacing:24,legendItemMarginBottom:12,legendSpacing:16,legendPadding:[8,8,8,8],legendHorizontalPadding:[8,0,8,0],legendVerticalPadding:[0,8,0,8],legendPageNavigatorMarkerSize:12,legendPageNavigatorMarkerInactiveFillColor:fs[45],legendPageNavigatorMarkerInactiveFillOpacity:.45,legendPageNavigatorMarkerFillColor:fs[45],legendPageNavigatorMarkerFillOpacity:1,legendPageNavigatorTextFillColor:fs[65],legendPageNavigatorTextFontSize:12,sliderRailFillColor:fs[15],sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:fs[45],sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:Q0[6],sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:Q0[25],annotationArcBorderColor:fs[15],annotationArcBorder:1,annotationLineBorderColor:fs[25],annotationLineBorder:1,annotationLineDash:null,annotationTextFillColor:fs[65],annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:null,annotationTextBorder:0,annotationRegionFillColor:fs[100],annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:fs[25],tooltipCrosshairsBorder:1,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"#1f1f1f",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 2px 4px rgba(0,0,0,.5)",tooltipContainerBorderRadius:3,tooltipTextFillColor:fs[65],tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:fs[65],labelFillColorDark:"#2c3542",labelFillColorLight:"#ffffff",labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:Q0[100],innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,overflowLabelFillColor:fs[65],overflowLabelFillColorDark:"#2c3542",overflowLabelFillColorLight:"#ffffff",overflowLabelFontSize:12,overflowLabelLineHeight:12,overflowLabelFontWeight:"normal",overflowLabelBorderColor:Q0[100],overflowLabelBorder:1,labelLineBorder:1,labelLineBorderColor:fs[25],cSliderRailHieght:16,cSliderBackgroundFillColor:"#416180",cSliderBackgroundFillOpacity:.05,cSliderForegroundFillColor:"#5B8FF9",cSliderForegroundFillOpacity:.15,cSliderHandlerHeight:24,cSliderHandlerWidth:10,cSliderHandlerFillColor:"#F7F7F7",cSliderHandlerFillOpacity:1,cSliderHandlerHighlightFillColor:"#FFF",cSliderHandlerBorderColor:"#BFBFBF",cSliderHandlerBorder:1,cSliderHandlerBorderRadius:2,cSliderTextFillColor:"#fff",cSliderTextFillOpacity:.45,cSliderTextFontSize:12,cSliderTextLineHeight:12,cSliderTextFontWeight:"normal",cSliderTextBorderColor:null,cSliderTextBorder:0,scrollbarTrackFillColor:"rgba(255,255,255,0.65)",scrollbarThumbFillColor:"rgba(0,0,0,0.35)",scrollbarThumbHighlightFillColor:"rgba(0,0,0,0.45)",pointFillColor:hp[0],pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:Q0[100],pointBorderOpacity:1,pointActiveBorderColor:fs[100],pointSelectedBorder:2,pointSelectedBorderColor:fs[100],pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:hp[0],hollowPointBorderOpacity:.95,hollowPointFillColor:Q0[100],hollowPointActiveBorder:1,hollowPointActiveBorderColor:fs[100],hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:fs[100],hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:hp[0],lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:hp[0],areaFillOpacity:.25,areaActiveFillColor:hp[0],areaActiveFillOpacity:.5,areaSelectedFillColor:hp[0],areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:hp[0],hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:fs[100],hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:fs[100],hollowAreaInactiveBorderOpacity:.3,intervalFillColor:hp[0],intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:fs[100],intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:fs[100],intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:hp[0],hollowIntervalBorderOpacity:1,hollowIntervalFillColor:Q0[100],hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:fs[100],hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:fs[100],hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3}},y6=g6();function m6(){return window?window.devicePixelRatio:1}function jM(a,e,t,n){var o=a-t,u=e-n;return Math.sqrt(o*o+u*u)}function J0(a,e,t,n,o,u){return o>=a&&o<=a+t&&u>=e&&u<=e+n}function Gx(a,e){return!(e.minX>a.maxX||e.maxX<a.minX||e.minY>a.maxY||e.maxY<a.minY)}function x6(a,e){return!a||!e?a||e:{minX:Math.min(a.minX,e.minX),minY:Math.min(a.minY,e.minY),maxX:Math.max(a.maxX,e.maxX),maxY:Math.max(a.maxY,e.maxY)}}function WM(a,e){return a[0]===e[0]&&a[1]===e[1]}var b6=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,E6=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,S6=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,VM=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function HM(a,e){var t=a.match(VM);(0,w.each)(t,function(n){var o=n.split(":");e.addColorStop(o[0],o[1])})}function w6(a,e,t){var n=b6.exec(t),o=parseFloat(n[1])%360*(Math.PI/180),u=n[2],l=e.getBBox(),c,f;o>=0&&o<1/2*Math.PI?(c={x:l.minX,y:l.minY},f={x:l.maxX,y:l.maxY}):1/2*Math.PI<=o&&o<Math.PI?(c={x:l.maxX,y:l.minY},f={x:l.minX,y:l.maxY}):Math.PI<=o&&o<3/2*Math.PI?(c={x:l.maxX,y:l.maxY},f={x:l.minX,y:l.minY}):(c={x:l.minX,y:l.maxY},f={x:l.maxX,y:l.minY});var h=Math.tan(o),v=h*h,p=(f.x-c.x+h*(f.y-c.y))/(v+1)+c.x,g=h*(f.x-c.x+h*(f.y-c.y))/(v+1)+c.y,E=a.createLinearGradient(c.x,c.y,p,g);return HM(u,E),E}function _6(a,e,t){var n=E6.exec(t),o=parseFloat(n[1]),u=parseFloat(n[2]),l=parseFloat(n[3]),c=n[4];if(l===0){var f=c.match(VM);return f[f.length-1].split(":")[1]}var h=e.getBBox(),v=h.maxX-h.minX,p=h.maxY-h.minY,g=Math.sqrt(v*v+p*p)/2,E=a.createRadialGradient(h.minX+v*o,h.minY+p*u,0,h.minX+v/2,h.minY+p/2,l*g);return HM(c,E),E}function A6(a,e,t){if(e.get("patternSource")&&e.get("patternSource")===t)return e.get("pattern");var n,o,u=S6.exec(t),l=u[1],c=u[2];function f(){n=a.createPattern(o,l),e.set("pattern",n),e.set("patternSource",t)}switch(l){case"a":l="repeat";break;case"x":l="repeat-x";break;case"y":l="repeat-y";break;case"n":l="no-repeat";break;default:l="no-repeat"}return o=new Image,c.match(/^data:/i)||(o.crossOrigin="Anonymous"),o.src=c,o.complete?f():(o.onload=f,o.src=o.src),n}function C6(a,e,t){var n=e.getBBox();if(isNaN(n.x)||isNaN(n.y)||isNaN(n.width)||isNaN(n.height))return t;if((0,w.isString)(t)){if(t[1]==="("||t[2]==="("){if(t[0]==="l")return w6(a,e,t);if(t[0]==="r")return _6(a,e,t);if(t[0]==="p")return A6(a,e,t)}return t}if(t instanceof CanvasPattern)return t}function T6(a){var e=0,t=0,n=0,o=0;return(0,w.isArray)(a)?a.length===1?e=t=n=o=a[0]:a.length===2?(e=n=a[0],t=o=a[1]):a.length===3?(e=a[0],t=o=a[1],n=a[2]):(e=a[0],t=a[1],n=a[2],o=a[3]):e=t=n=o=a,[e,t,n,o]}function mE(a){return Math.sqrt(a[0]*a[0]+a[1]*a[1])}function Pw(a,e){return mE(a)*mE(e)?(a[0]*e[0]+a[1]*e[1])/(mE(a)*mE(e)):1}function YM(a,e){return(a[0]*e[1]<a[1]*e[0]?-1:1)*Math.acos(Pw(a,e))}function xE(a,e){var t=e[1],n=e[2],o=(0,w.mod)((0,w.toRadian)(e[3]),Math.PI*2),u=e[4],l=e[5],c=a[0],f=a[1],h=e[6],v=e[7],p=Math.cos(o)*(c-h)/2+Math.sin(o)*(f-v)/2,g=-1*Math.sin(o)*(c-h)/2+Math.cos(o)*(f-v)/2,E=p*p/(t*t)+g*g/(n*n);E>1&&(t*=Math.sqrt(E),n*=Math.sqrt(E));var D=t*t*(g*g)+n*n*(p*p),G=D?Math.sqrt((t*t*(n*n)-D)/D):1;u===l&&(G*=-1),isNaN(G)&&(G=0);var H=n?G*t*g/n:0,X=t?G*-n*p/t:0,rt=(c+h)/2+Math.cos(o)*H-Math.sin(o)*X,ht=(f+v)/2+Math.sin(o)*H+Math.cos(o)*X,mt=[(p-H)/t,(g-X)/n],Dt=[(-1*p-H)/t,(-1*g-X)/n],kt=YM([1,0],mt),Vt=YM(mt,Dt);return Pw(mt,Dt)<=-1&&(Vt=Math.PI),Pw(mt,Dt)>=1&&(Vt=0),l===0&&Vt>0&&(Vt=Vt-2*Math.PI),l===1&&Vt<0&&(Vt=Vt+2*Math.PI),{cx:rt,cy:ht,rx:WM(a,[h,v])?0:t,ry:WM(a,[h,v])?0:n,startAngle:kt,endAngle:kt+Vt,xRotation:o,arcFlag:u,sweepFlag:l}}var bE=Math.sin,EE=Math.cos,Lw=Math.atan2,SE=Math.PI;function XM(a,e,t,n,o,u,l){var c=e.stroke,f=e.lineWidth,h=t-o,v=n-u,p=Lw(v,h),g=new Uw({type:"path",canvas:a.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*EE(SE/6)+","+10*bE(SE/6)+" L0,0 L"+10*EE(SE/6)+",-"+10*bE(SE/6),stroke:c,lineWidth:f}});g.translate(o,u),g.rotateAtPoint(o,u,p),a.set(l?"startArrowShape":"endArrowShape",g)}function $M(a,e,t,n,o,u,l){var c=e.startArrow,f=e.endArrow,h=e.stroke,v=e.lineWidth,p=l?c:f,g=p.d,E=p.fill,D=p.stroke,G=p.lineWidth,H=(0,Z.__rest)(p,["d","fill","stroke","lineWidth"]),X=t-o,rt=n-u,ht=Lw(rt,X);g&&(o=o-EE(ht)*g,u=u-bE(ht)*g);var mt=new Uw({type:"path",canvas:a.get("canvas"),isArrowShape:!0,attrs:(0,Z.__assign)((0,Z.__assign)({},H),{stroke:D||h,lineWidth:G||v,fill:E})});mt.translate(o,u),mt.rotateAtPoint(o,u,ht),a.set(l?"startArrowShape":"endArrowShape",mt)}function q0(a,e,t,n,o){var u=Lw(n-e,t-a);return{dx:EE(u)*o,dy:bE(u)*o}}function Rw(a,e,t,n,o,u){typeof e.startArrow=="object"?$M(a,e,t,n,o,u,!0):e.startArrow?XM(a,e,t,n,o,u,!0):a.set("startArrowShape",null)}function Fw(a,e,t,n,o,u){typeof e.endArrow=="object"?$M(a,e,t,n,o,u,!1):e.endArrow?XM(a,e,t,n,o,u,!1):a.set("startArrowShape",null)}var KM={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function Fm(a,e){var t=e.attr();for(var n in t){var o=t[n],u=KM[n]?KM[n]:n;u==="matrix"&&o?a.transform(o[0],o[1],o[3],o[4],o[6],o[7]):u==="lineDash"&&a.setLineDash?(0,w.isArray)(o)&&a.setLineDash(o):(u==="strokeStyle"||u==="fillStyle"?o=C6(a,e,o):u==="globalAlpha"&&(o=o*a.globalAlpha),a[u]=o)}}function Nw(a,e,t){for(var n=0;n<e.length;n++){var o=e[n];o.cfg.visible?o.draw(a,t):o.skipDraw()}}function M6(a,e,t){var n=a.get("refreshElements");(0,w.each)(n,function(o){if(o!==a)for(var u=o.cfg.parent;u&&u!==a&&!u.cfg.refresh;)u.cfg.refresh=!0,u=u.cfg.parent}),n[0]===a?Bw(e,t):kw(e,t)}function kw(a,e){for(var t=0;t<a.length;t++){var n=a[t];if(n.cfg.visible)if(n.cfg.hasChanged)n.cfg.refresh=!0,n.isGroup()&&Bw(n.cfg.children,e);else if(n.cfg.refresh)n.isGroup()&&kw(n.cfg.children,e);else{var o=I6(n,e);n.cfg.refresh=o,o&&n.isGroup()&&kw(n.cfg.children,e)}}}function ZM(a){for(var e=0;e<a.length;e++){var t=a[e];t.cfg.hasChanged=!1,t.isGroup()&&!t.destroyed&&ZM(t.cfg.children)}}function Bw(a,e){for(var t=0;t<a.length;t++){var n=a[t];n.cfg.refresh=!0,n.isGroup()&&Bw(n.get("children"),e)}}function I6(a,e){var t=a.cfg.cacheCanvasBBox,n=a.cfg.isInView&&t&&Gx(t,e);return n}function QM(a,e,t,n){var o=t.path,u=t.startArrow,l=t.endArrow;if(!!o){var c=[0,0],f=[0,0],h={dx:0,dy:0};e.beginPath();for(var v=0;v<o.length;v++){var p=o[v],g=p[0];if(v===0&&u&&u.d){var E=a.getStartTangent();h=q0(E[0][0],E[0][1],E[1][0],E[1][1],u.d)}else if(v===o.length-2&&o[v+1][0]==="Z"&&l&&l.d){var D=o[v+1];if(D[0]==="Z"){var E=a.getEndTangent();h=q0(E[0][0],E[0][1],E[1][0],E[1][1],l.d)}}else if(v===o.length-1&&l&&l.d&&o[0]!=="Z"){var E=a.getEndTangent();h=q0(E[0][0],E[0][1],E[1][0],E[1][1],l.d)}var G=h.dx,H=h.dy;switch(g){case"M":e.moveTo(p[1]-G,p[2]-H),f=[p[1],p[2]];break;case"L":e.lineTo(p[1]-G,p[2]-H);break;case"Q":e.quadraticCurveTo(p[1],p[2],p[3]-G,p[4]-H);break;case"C":e.bezierCurveTo(p[1],p[2],p[3],p[4],p[5]-G,p[6]-H);break;case"A":{var X=void 0;n?(X=n[v],X||(X=xE(c,p),n[v]=X)):X=xE(c,p);var rt=X.cx,ht=X.cy,mt=X.rx,Dt=X.ry,kt=X.startAngle,Vt=X.endAngle,te=X.xRotation,le=X.sweepFlag;if(e.ellipse)e.ellipse(rt,ht,mt,Dt,te,kt,Vt,1-le);else{var pe=mt>Dt?mt:Dt,De=mt>Dt?1:mt/Dt,Xe=mt>Dt?Dt/mt:1;e.translate(rt,ht),e.rotate(te),e.scale(De,Xe),e.arc(0,0,pe,kt,Vt,1-le),e.scale(1/De,1/Xe),e.rotate(-te),e.translate(-rt,-ht)}break}case"Z":e.closePath();break;default:break}if(g==="Z")c=f;else{var pr=p.length;c=[p[pr-2],p[pr-1]]}}}}function JM(a,e){var t=a.get("canvas");t&&(e==="remove"&&(a._cacheCanvasBBox=a.get("cacheCanvasBBox")),a.get("hasChanged")||(a.set("hasChanged",!0),a.cfg.parent&&a.cfg.parent.get("hasChanged")||(t.refreshElement(a,e,t),t.get("autoDraw")&&t.draw())))}function O6(a){var e;if(a.destroyed)e=a._cacheCanvasBBox;else{var t=a.get("cacheCanvasBBox"),n=t&&!!(t.width&&t.height),o=a.getCanvasBBox(),u=o&&!!(o.width&&o.height);n&&u?e=x6(t,o):n?e=t:u&&(e=o)}return e}function D6(a){if(!a.length)return null;var e=[],t=[],n=[],o=[];return(0,w.each)(a,function(u){var l=O6(u);l&&(e.push(l.minX),t.push(l.minY),n.push(l.maxX),o.push(l.maxY))}),{minX:(0,w.min)(e),minY:(0,w.min)(t),maxX:(0,w.max)(n),maxY:(0,w.max)(o)}}function P6(a,e){return!a||!e||!Gx(a,e)?null:{minX:Math.max(a.minX,e.minX),minY:Math.max(a.minY,e.minY),maxX:Math.min(a.maxX,e.maxX),maxY:Math.min(a.maxY,e.maxY)}}var L6=function(a){(0,Z.__extends)(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.onCanvasChange=function(t){JM(this,t)},e.prototype.getShapeBase=function(){return M},e.prototype.getGroupBase=function(){return e},e.prototype._applyClip=function(t,n){n&&(t.save(),Fm(t,n),n.createPath(t),t.restore(),t.clip(),n._afterDraw())},e.prototype.cacheCanvasBBox=function(){var t=this.cfg.children,n=[],o=[];(0,w.each)(t,function(g){var E=g.cfg.cacheCanvasBBox;E&&g.cfg.isInView&&(n.push(E.minX,E.maxX),o.push(E.minY,E.maxY))});var u=null;if(n.length){var l=(0,w.min)(n),c=(0,w.max)(n),f=(0,w.min)(o),h=(0,w.max)(o);u={minX:l,minY:f,x:l,y:f,maxX:c,maxY:h,width:c-l,height:h-f};var v=this.cfg.canvas;if(v){var p=v.getViewRange();this.set("isInView",Gx(u,p))}}else this.set("isInView",!1);this.set("cacheCanvasBBox",u)},e.prototype.draw=function(t,n){var o=this.cfg.children,u=n?this.cfg.refresh:!0;o.length&&u&&(t.save(),Fm(t,this),this._applyClip(t,this.getClip()),Nw(t,o,n),t.restore(),this.cacheCanvasBBox()),this.cfg.refresh=null,this.set("hasChanged",!1)},e.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},e}(Zi),Gw=L6,R6=function(a){(0,Z.__extends)(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=a.prototype.getDefaultAttrs.call(this);return(0,Z.__assign)((0,Z.__assign)({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},e.prototype.getShapeBase=function(){return M},e.prototype.getGroupBase=function(){return Gw},e.prototype.onCanvasChange=function(t){JM(this,t)},e.prototype.calculateBBox=function(){var t=this.get("type"),n=this.getHitLineWidth(),o=ku(t),u=o(this),l=n/2,c=u.x-l,f=u.y-l,h=u.x+u.width+l,v=u.y+u.height+l;return{x:c,minX:c,y:f,minY:f,width:u.width+n,height:u.height+n,maxX:h,maxY:v}},e.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},e.prototype.isStroke=function(){return!!this.attrs.stroke},e.prototype._applyClip=function(t,n){n&&(t.save(),Fm(t,n),n.createPath(t),t.restore(),t.clip(),n._afterDraw())},e.prototype.draw=function(t,n){var o=this.cfg.clipShape;if(n){if(this.cfg.refresh===!1){this.set("hasChanged",!1);return}var u=this.getCanvasBBox();if(!Gx(n,u)){this.set("hasChanged",!1),this.cfg.isInView&&this._afterDraw();return}}t.save(),Fm(t,this),this._applyClip(t,o),this.drawPath(t),t.restore(),this._afterDraw()},e.prototype.getCanvasViewBox=function(){var t=this.cfg.canvas;return t?t.getViewRange():null},e.prototype.cacheCanvasBBox=function(){var t=this.getCanvasViewBox();if(t){var n=this.getCanvasBBox(),o=Gx(n,t);this.set("isInView",o),o?this.set("cacheCanvasBBox",n):this.set("cacheCanvasBBox",null)}},e.prototype._afterDraw=function(){this.cacheCanvasBBox(),this.set("hasChanged",!1),this.set("refresh",null)},e.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},e.prototype.drawPath=function(t){this.createPath(t),this.strokeAndFill(t),this.afterDrawPath(t)},e.prototype.fill=function(t){t.fill()},e.prototype.stroke=function(t){t.stroke()},e.prototype.strokeAndFill=function(t){var n=this.attrs,o=n.lineWidth,u=n.opacity,l=n.strokeOpacity,c=n.fillOpacity;this.isFill()&&(!(0,w.isNil)(c)&&c!==1?(t.globalAlpha=c,this.fill(t),t.globalAlpha=u):this.fill(t)),this.isStroke()&&o>0&&(!(0,w.isNil)(l)&&l!==1&&(t.globalAlpha=l),this.stroke(t)),this.afterDrawPath(t)},e.prototype.createPath=function(t){},e.prototype.afterDrawPath=function(t){},e.prototype.isInShape=function(t,n){var o=this.isStroke(),u=this.isFill(),l=this.getHitLineWidth();return this.isInStrokeOrPath(t,n,o,u,l)},e.prototype.isInStrokeOrPath=function(t,n,o,u,l){return!1},e.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var t=this.attrs;return t.lineWidth+t.lineAppendWidth},e}(bo),dp=R6,F6=function(a){(0,Z.__extends)(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=a.prototype.getDefaultAttrs.call(this);return(0,Z.__assign)((0,Z.__assign)({},t),{x:0,y:0,r:0})},e.prototype.isInStrokeOrPath=function(t,n,o,u,l){var c=this.attr(),f=c.x,h=c.y,v=c.r,p=l/2,g=jM(f,h,t,n);return u&&o?g<=v+p:u?g<=v:o?g>=v-p&&g<=v+p:!1},e.prototype.createPath=function(t){var n=this.attr(),o=n.x,u=n.y,l=n.r;t.beginPath(),t.arc(o,u,l,0,Math.PI*2,!1),t.closePath()},e}(dp),N6=F6;function wE(a,e,t,n){return a/(t*t)+e/(n*n)}var k6=function(a){(0,Z.__extends)(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=a.prototype.getDefaultAttrs.call(this);return(0,Z.__assign)((0,Z.__assign)({},t),{x:0,y:0,rx:0,ry:0})},e.prototype.isInStrokeOrPath=function(t,n,o,u,l){var c=this.attr(),f=l/2,h=c.x,v=c.y,p=c.rx,g=c.ry,E=(t-h)*(t-h),D=(n-v)*(n-v);return u&&o?wE(E,D,p+f,g+f)<=1:u?wE(E,D,p,g)<=1:o?wE(E,D,p-f,g-f)>=1&&wE(E,D,p+f,g+f)<=1:!1},e.prototype.createPath=function(t){var n=this.attr(),o=n.x,u=n.y,l=n.rx,c=n.ry;if(t.beginPath(),t.ellipse)t.ellipse(o,u,l,c,0,0,Math.PI*2,!1);else{var f=l>c?l:c,h=l>c?1:l/c,v=l>c?c/l:1;t.save(),t.translate(o,u),t.scale(h,v),t.arc(0,0,f,0,Math.PI*2),t.restore(),t.closePath()}},e}(dp),B6=k6;function qM(a){return a instanceof HTMLElement&&(0,w.isString)(a.nodeName)&&a.nodeName.toUpperCase()==="CANVAS"}var G6=function(a){(0,Z.__extends)(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=a.prototype.getDefaultAttrs.call(this);return(0,Z.__assign)((0,Z.__assign)({},t),{x:0,y:0,width:0,height:0})},e.prototype.initAttrs=function(t){this._setImage(t.img)},e.prototype.isStroke=function(){return!1},e.prototype.isOnlyHitBox=function(){return!0},e.prototype._afterLoading=function(){if(this.get("toDraw")===!0){var t=this.get("canvas");t?t.draw():this.createPath(this.get("context"))}},e.prototype._setImage=function(t){var n=this,o=this.attrs;if((0,w.isString)(t)){var u=new Image;u.onload=function(){if(n.destroyed)return!1;n.attr("img",u),n.set("loading",!1),n._afterLoading();var l=n.get("callback");l&&l.call(n)},u.crossOrigin="Anonymous",u.src=t,this.set("loading",!0)}else t instanceof Image?(o.width||(o.width=t.width),o.height||(o.height=t.height)):qM(t)&&(o.width||(o.width=Number(t.getAttribute("width"))),o.height||(o.height,Number(t.getAttribute("height"))))},e.prototype.onAttrChange=function(t,n,o){a.prototype.onAttrChange.call(this,t,n,o),t==="img"&&this._setImage(n)},e.prototype.createPath=function(t){if(this.get("loading")){this.set("toDraw",!0),this.set("context",t);return}var n=this.attr(),o=n.x,u=n.y,l=n.width,c=n.height,f=n.sx,h=n.sy,v=n.swidth,p=n.sheight,g=n.img;(g instanceof Image||qM(g))&&(!(0,w.isNil)(f)&&!(0,w.isNil)(h)&&!(0,w.isNil)(v)&&!(0,w.isNil)(p)?t.drawImage(g,f,h,v,p,o,u,l,c):t.drawImage(g,o,u,l,c))},e}(dp),z6=G6;function e0(a,e,t,n,o,u,l){var c=Math.min(a,t),f=Math.max(a,t),h=Math.min(e,n),v=Math.max(e,n),p=o/2;return u>=c-p&&u<=f+p&&l>=h-p&&l<=v+p?ne.pointToLine(a,e,t,n,u,l)<=o/2:!1}var U6=function(a){(0,Z.__extends)(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=a.prototype.getDefaultAttrs.call(this);return(0,Z.__assign)((0,Z.__assign)({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this.setArrow()},e.prototype.onAttrChange=function(t,n,o){a.prototype.onAttrChange.call(this,t,n,o),this.setArrow()},e.prototype.setArrow=function(){var t=this.attr(),n=t.x1,o=t.y1,u=t.x2,l=t.y2,c=t.startArrow,f=t.endArrow;c&&Rw(this,t,u,l,n,o),f&&Fw(this,t,n,o,u,l)},e.prototype.isInStrokeOrPath=function(t,n,o,u,l){if(!o||!l)return!1;var c=this.attr(),f=c.x1,h=c.y1,v=c.x2,p=c.y2;return e0(f,h,v,p,l,t,n)},e.prototype.createPath=function(t){var n=this.attr(),o=n.x1,u=n.y1,l=n.x2,c=n.y2,f=n.startArrow,h=n.endArrow,v={dx:0,dy:0},p={dx:0,dy:0};f&&f.d&&(v=q0(o,u,l,c,n.startArrow.d)),h&&h.d&&(p=q0(o,u,l,c,n.endArrow.d)),t.beginPath(),t.moveTo(o+v.dx,u+v.dy),t.lineTo(l-p.dx,c-p.dy)},e.prototype.afterDrawPath=function(t){var n=this.get("startArrowShape"),o=this.get("endArrowShape");n&&n.draw(t),o&&o.draw(t)},e.prototype.getTotalLength=function(){var t=this.attr(),n=t.x1,o=t.y1,u=t.x2,l=t.y2;return ne.length(n,o,u,l)},e.prototype.getPoint=function(t){var n=this.attr(),o=n.x1,u=n.y1,l=n.x2,c=n.y2;return ne.pointAt(o,u,l,c,t)},e}(dp),j6=U6,W6={circle:function(a,e,t){return[["M",a-t,e],["A",t,t,0,1,0,a+t,e],["A",t,t,0,1,0,a-t,e]]},square:function(a,e,t){return[["M",a-t,e-t],["L",a+t,e-t],["L",a+t,e+t],["L",a-t,e+t],["Z"]]},diamond:function(a,e,t){return[["M",a-t,e],["L",a,e-t],["L",a+t,e],["L",a,e+t],["Z"]]},triangle:function(a,e,t){var n=t*Math.sin(.3333333333333333*Math.PI);return[["M",a-t,e+n],["L",a,e-n],["L",a+t,e+n],["Z"]]},"triangle-down":function(a,e,t){var n=t*Math.sin(.3333333333333333*Math.PI);return[["M",a-t,e-n],["L",a+t,e-n],["L",a,e+n],["Z"]]}},V6=function(a){(0,Z.__extends)(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.initAttrs=function(t){this._resetParamsCache()},e.prototype._resetParamsCache=function(){this.set("paramsCache",{})},e.prototype.onAttrChange=function(t,n,o){a.prototype.onAttrChange.call(this,t,n,o),["symbol","x","y","r","radius"].indexOf(t)!==-1&&this._resetParamsCache()},e.prototype.isOnlyHitBox=function(){return!0},e.prototype._getR=function(t){return(0,w.isNil)(t.r)?t.radius:t.r},e.prototype._getPath=function(){var t=this.attr(),n=t.x,o=t.y,u=t.symbol||"circle",l=this._getR(t),c,f;if((0,w.isFunction)(u))c=u,f=c(n,o,l),f=Uy(f);else{if(c=e.Symbols[u],!c)return console.warn(u+" marker is not supported."),null;f=c(n,o,l)}return f},e.prototype.createPath=function(t){var n=this._getPath(),o=this.get("paramsCache");QM(this,t,{path:n},o)},e.Symbols=W6,e}(dp),H6=V6;function tI(a,e,t){var n=Og();return a.createPath(n),n.isPointInPath(e,t)}var Y6=1e-6;function zw(a){return Math.abs(a)<Y6?0:a<0?-1:1}function X6(a,e,t){return(t[0]-a[0])*(e[1]-a[1])===(e[0]-a[0])*(t[1]-a[1])&&Math.min(a[0],e[0])<=t[0]&&t[0]<=Math.max(a[0],e[0])&&Math.min(a[1],e[1])<=t[1]&&t[1]<=Math.max(a[1],e[1])}function eI(a,e,t){var n=!1,o=a.length;if(o<=2)return!1;for(var u=0;u<o;u++){var l=a[u],c=a[(u+1)%o];if(X6(l,c,[e,t]))return!0;zw(l[1]-t)>0!=zw(c[1]-t)>0&&zw(e-(t-l[1])*(l[0]-c[0])/(l[1]-c[1])-l[0])<0&&(n=!n)}return n}function zx(a,e,t,n,o,u,l,c){var f=(Math.atan2(c-e,l-a)+Math.PI*2)%(Math.PI*2);if(f<n||f>o)return!1;var h={x:a+t*Math.cos(f),y:e+t*Math.sin(f)};return jM(h.x,h.y,l,c)<=u/2}var $6=ka;function K6(a){for(var e=!1,t=a.length,n=0;n<t;n++){var o=a[n],u=o[0];if(u==="C"||u==="A"||u==="Q"){e=!0;break}}return e}function Z6(a,e,t,n,o){for(var u=!1,l=e/2,c=0;c<a.length;c++){var f=a[c],h=f.currentPoint,v=f.params,p=f.prePoint,g=f.box;if(!(g&&!J0(g.x-l,g.y-l,g.width+e,g.height+e,t,n))){switch(f.command){case"L":case"Z":u=e0(p[0],p[1],h[0],h[1],e,t,n);break;case"Q":var E=Ea.pointDistance(p[0],p[1],v[1],v[2],v[3],v[4],t,n);u=E<=e/2;break;case"C":var D=ei.pointDistance(p[0],p[1],v[1],v[2],v[3],v[4],v[5],v[6],t,n,o);u=D<=e/2;break;case"A":var G=f.arcParams,H=G.cx,X=G.cy,rt=G.rx,ht=G.ry,mt=G.startAngle,Dt=G.endAngle,kt=G.xRotation,Vt=[t,n,1],te=rt>ht?rt:ht,le=rt>ht?1:rt/ht,pe=rt>ht?ht/rt:1,De=$6(null,[["t",-H,-X],["r",-kt],["s",1/le,1/pe]]);z0.kK(Vt,Vt,De),u=zx(0,0,te,mt,Dt,e,Vt[0],Vt[1]);break;default:break}if(u)break}}return u}function Q6(a){for(var e=a.length,t=[],n=[],o=[],u=0;u<e;u++){var l=a[u],c=l[0];c==="M"?(o.length&&(n.push(o),o=[]),o.push([l[1],l[2]])):c==="Z"?o.length&&(t.push(o),o=[]):o.push([l[1],l[2]])}return o.length>0&&n.push(o),{polygons:t,polylines:n}}var _E=(0,Z.__assign)({hasArc:K6,extractPolygons:Q6,isPointInStroke:Z6},at);function rI(a,e,t){for(var n=!1,o=0;o<a.length;o++){var u=a[o];if(n=eI(u,e,t),n)break}return n}var J6=function(a){(0,Z.__extends)(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=a.prototype.getDefaultAttrs.call(this);return(0,Z.__assign)((0,Z.__assign)({},t),{startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this._setPathArr(t.path),this.setArrow()},e.prototype.onAttrChange=function(t,n,o){a.prototype.onAttrChange.call(this,t,n,o),t==="path"&&this._setPathArr(n),this.setArrow()},e.prototype._setPathArr=function(t){this.attrs.path=Uy(t);var n=_E.hasArc(t);this.set("hasArc",n),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},e.prototype.getSegments=function(){var t=this.get("segements");return t||(t=Yy(this.attr("path")),this.set("segments",t)),t},e.prototype.setArrow=function(){var t=this.attr(),n=t.startArrow,o=t.endArrow;if(n){var u=this.getStartTangent();Rw(this,t,u[0][0],u[0][1],u[1][0],u[1][1])}if(o){var u=this.getEndTangent();Fw(this,t,u[0][0],u[0][1],u[1][0],u[1][1])}},e.prototype.isInStrokeOrPath=function(t,n,o,u,l){var c=this.getSegments(),f=this.get("hasArc"),h=!1;if(o){var v=this.getTotalLength();h=_E.isPointInStroke(c,l,t,n,v)}if(!h&&u)if(f)h=tI(this,t,n);else{var p=this.attr("path"),g=_E.extractPolygons(p);h=rI(g.polygons,t,n)||rI(g.polylines,t,n)}return h},e.prototype.createPath=function(t){var n=this.attr(),o=this.get("paramsCache");QM(this,t,n,o)},e.prototype.afterDrawPath=function(t){var n=this.get("startArrowShape"),o=this.get("endArrowShape");n&&n.draw(t),o&&o.draw(t)},e.prototype.getTotalLength=function(){var t=this.get("totalLength");return(0,w.isNil)(t)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):t},e.prototype.getPoint=function(t){var n=this.get("tCache");n||(this._calculateCurve(),this._setTcache(),n=this.get("tCache"));var o,u,l=this.get("curve");if(!n||n.length===0)return l?{x:l[0][1],y:l[0][2]}:null;(0,w.each)(n,function(v,p){t>=v[0]&&t<=v[1]&&(o=(t-v[0])/(v[1]-v[0]),u=p)});var c=l[u];if((0,w.isNil)(c)||(0,w.isNil)(u))return null;var f=c.length,h=l[u+1];return ei.pointAt(c[f-2],c[f-1],h[1],h[2],h[3],h[4],h[5],h[6],o)},e.prototype._calculateCurve=function(){var t=this.attr().path;this.set("curve",_E.pathToCurve(t))},e.prototype._setTcache=function(){var t=0,n=0,o=[],u,l,c,f,h=this.get("curve");if(!!h){if((0,w.each)(h,function(v,p){c=h[p+1],f=v.length,c&&(t+=ei.length(v[f-2],v[f-1],c[1],c[2],c[3],c[4],c[5],c[6])||0)}),this.set("totalLength",t),t===0){this.set("tCache",[]);return}(0,w.each)(h,function(v,p){c=h[p+1],f=v.length,c&&(u=[],u[0]=n/t,l=ei.length(v[f-2],v[f-1],c[1],c[2],c[3],c[4],c[5],c[6]),n+=l||0,u[1]=n/t,o.push(u))}),this.set("tCache",o)}},e.prototype.getStartTangent=function(){var t=this.getSegments(),n;if(t.length>1){var o=t[0].currentPoint,u=t[1].currentPoint,l=t[1].startTangent;n=[],l?(n.push([o[0]-l[0],o[1]-l[1]]),n.push([o[0],o[1]])):(n.push([u[0],u[1]]),n.push([o[0],o[1]]))}return n},e.prototype.getEndTangent=function(){var t=this.getSegments(),n=t.length,o;if(n>1){var u=t[n-2].currentPoint,l=t[n-1].currentPoint,c=t[n-1].endTangent;o=[],c?(o.push([l[0]-c[0],l[1]-c[1]]),o.push([l[0],l[1]])):(o.push([u[0],u[1]]),o.push([l[0],l[1]]))}return o},e}(dp),Uw=J6;function nI(a,e,t,n,o){var u=a.length;if(u<2)return!1;for(var l=0;l<u-1;l++){var c=a[l][0],f=a[l][1],h=a[l+1][0],v=a[l+1][1];if(e0(c,f,h,v,e,t,n))return!0}if(o){var p=a[0],g=a[u-1];if(e0(p[0],p[1],g[0],g[1],e,t,n))return!0}return!1}var q6=function(a){(0,Z.__extends)(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.isInStrokeOrPath=function(t,n,o,u,l){var c=this.attr().points,f=!1;return o&&(f=nI(c,l,t,n,!0)),!f&&u&&(f=eI(c,t,n)),f},e.prototype.createPath=function(t){var n=this.attr(),o=n.points;if(!(o.length<2)){t.beginPath();for(var u=0;u<o.length;u++){var l=o[u];u===0?t.moveTo(l[0],l[1]):t.lineTo(l[0],l[1])}t.closePath()}},e}(dp),t8=q6,e8=function(a){(0,Z.__extends)(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=a.prototype.getDefaultAttrs.call(this);return(0,Z.__assign)((0,Z.__assign)({},t),{startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this.setArrow()},e.prototype.onAttrChange=function(t,n,o){a.prototype.onAttrChange.call(this,t,n,o),this.setArrow(),["points"].indexOf(t)!==-1&&this._resetCache()},e.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},e.prototype.setArrow=function(){var t=this.attr(),n=this.attrs,o=n.points,u=n.startArrow,l=n.endArrow,c=o.length,f=o[0][0],h=o[0][1],v=o[c-1][0],p=o[c-1][1];u&&Rw(this,t,o[1][0],o[1][1],f,h),l&&Fw(this,t,o[c-2][0],o[c-2][1],v,p)},e.prototype.isFill=function(){return!1},e.prototype.isInStrokeOrPath=function(t,n,o,u,l){if(!o||!l)return!1;var c=this.attr().points;return nI(c,l,t,n,!1)},e.prototype.isStroke=function(){return!0},e.prototype.createPath=function(t){var n=this.attr(),o=n.points,u=n.startArrow,l=n.endArrow,c=o.length;if(!(o.length<2)){var f=o[0][0],h=o[0][1],v=o[c-1][0],p=o[c-1][1];if(u&&u.d){var g=q0(f,h,o[1][0],o[1][1],u.d);f+=g.dx,h+=g.dy}if(l&&l.d){var g=q0(o[c-2][0],o[c-2][1],v,p,l.d);v-=g.dx,p-=g.dy}t.beginPath(),t.moveTo(f,h);for(var E=0;E<c-1;E++){var D=o[E];t.lineTo(D[0],D[1])}t.lineTo(v,p)}},e.prototype.afterDrawPath=function(t){var n=this.get("startArrowShape"),o=this.get("endArrowShape");n&&n.draw(t),o&&o.draw(t)},e.prototype.getTotalLength=function(){var t=this.attr().points,n=this.get("totalLength");return(0,w.isNil)(n)?(this.set("totalLength",Ig.length(t)),this.get("totalLength")):n},e.prototype.getPoint=function(t){var n=this.attr().points,o=this.get("tCache");o||(this._setTcache(),o=this.get("tCache"));var u,l;return(0,w.each)(o,function(c,f){t>=c[0]&&t<=c[1]&&(u=(t-c[0])/(c[1]-c[0]),l=f)}),ne.pointAt(n[l][0],n[l][1],n[l+1][0],n[l+1][1],u)},e.prototype._setTcache=function(){var t=this.attr().points;if(!(!t||t.length===0)){var n=this.getTotalLength();if(!(n<=0)){var o=0,u=[],l,c;(0,w.each)(t,function(f,h){t[h+1]&&(l=[],l[0]=o/n,c=ne.length(f[0],f[1],t[h+1][0],t[h+1][1]),o+=c,l[1]=o/n,u.push(l))}),this.set("tCache",u)}}},e.prototype.getStartTangent=function(){var t=this.attr().points,n=[];return n.push([t[1][0],t[1][1]]),n.push([t[0][0],t[0][1]]),n},e.prototype.getEndTangent=function(){var t=this.attr().points,n=t.length-1,o=[];return o.push([t[n-1][0],t[n-1][1]]),o.push([t[n][0],t[n][1]]),o},e}(dp),r8=e8;function n8(a,e,t,n,o,u,l){var c=o/2;return J0(a-c,e-c,t,o,u,l)||J0(a+t-c,e-c,o,n,u,l)||J0(a+c,e+n-c,t,o,u,l)||J0(a-c,e+c,o,n,u,l)}function i8(a,e,t,n,o,u,l,c){var f=u/2;return e0(a+o,e,a+t-o,e,u,l,c)||e0(a+t,e+o,a+t,e+n-o,u,l,c)||e0(a+t-o,e+n,a+o,e+n,u,l,c)||e0(a,e+n-o,a,e+o,u,l,c)||zx(a+t-o,e+o,o,1.5*Math.PI,2*Math.PI,u,l,c)||zx(a+t-o,e+n-o,o,0,.5*Math.PI,u,l,c)||zx(a+o,e+n-o,o,.5*Math.PI,Math.PI,u,l,c)||zx(a+o,e+o,o,Math.PI,1.5*Math.PI,u,l,c)}var a8=function(a){(0,Z.__extends)(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=a.prototype.getDefaultAttrs.call(this);return(0,Z.__assign)((0,Z.__assign)({},t),{x:0,y:0,width:0,height:0,radius:0})},e.prototype.isInStrokeOrPath=function(t,n,o,u,l){var c=this.attr(),f=c.x,h=c.y,v=c.width,p=c.height,g=c.radius;if(g){var D=!1;return o&&(D=i8(f,h,v,p,g,l,t,n)),!D&&u&&(D=tI(this,t,n)),D}else{var E=l/2;if(u&&o)return J0(f-E,h-E,v+E,p+E,t,n);if(u)return J0(f,h,v,p,t,n);if(o)return n8(f,h,v,p,l,t,n)}},e.prototype.createPath=function(t){var n=this.attr(),o=n.x,u=n.y,l=n.width,c=n.height,f=n.radius;if(t.beginPath(),f===0)t.rect(o,u,l,c);else{var h=T6(f),v=h[0],p=h[1],g=h[2],E=h[3];t.moveTo(o+v,u),t.lineTo(o+l-p,u),p!==0&&t.arc(o+l-p,u+p,p,-Math.PI/2,0),t.lineTo(o+l,u+c-g),g!==0&&t.arc(o+l-g,u+c-g,g,0,Math.PI/2),t.lineTo(o+E,u+c),E!==0&&t.arc(o+E,u+c-E,E,Math.PI/2,Math.PI),t.lineTo(o,u+v),v!==0&&t.arc(o+v,u+v,v,Math.PI,Math.PI*1.5),t.closePath()}},e}(dp),o8=a8,s8=function(a){(0,Z.__extends)(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=a.prototype.getDefaultAttrs.call(this);return(0,Z.__assign)((0,Z.__assign)({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},e.prototype.isOnlyHitBox=function(){return!0},e.prototype.initAttrs=function(t){this._assembleFont(),t.text&&this._setText(t.text)},e.prototype._assembleFont=function(){var t=this.attrs;t.font=lv(t)},e.prototype._setText=function(t){var n=null;(0,w.isString)(t)&&t.indexOf(`
`)!==-1&&(n=t.split(`
`)),this.set("textArr",n)},e.prototype.onAttrChange=function(t,n,o){a.prototype.onAttrChange.call(this,t,n,o),t.startsWith("font")&&this._assembleFont(),t==="text"&&this._setText(n)},e.prototype._getSpaceingY=function(){var t=this.attrs,n=t.lineHeight,o=t.fontSize*1;return n?n-o:o*.14},e.prototype._drawTextArr=function(t,n,o){var u=this.attrs,l=u.textBaseline,c=u.x,f=u.y,h=u.fontSize*1,v=this._getSpaceingY(),p=kv(u.text,u.fontSize,u.lineHeight),g;(0,w.each)(n,function(E,D){g=f+D*(v+h)-p+h,l==="middle"&&(g+=p-h-(p-h)/2),l==="top"&&(g+=p-h),(0,w.isNil)(E)||(o?t.fillText(E,c,g):t.strokeText(E,c,g))})},e.prototype._drawText=function(t,n){var o=this.attr(),u=o.x,l=o.y,c=this.get("textArr");if(c)this._drawTextArr(t,c,n);else{var f=o.text;(0,w.isNil)(f)||(n?t.fillText(f,u,l):t.strokeText(f,u,l))}},e.prototype.strokeAndFill=function(t){var n=this.attrs,o=n.lineWidth,u=n.opacity,l=n.strokeOpacity,c=n.fillOpacity;this.isStroke()&&o>0&&(!(0,w.isNil)(l)&&l!==1&&(t.globalAlpha=u),this.stroke(t)),this.isFill()&&(!(0,w.isNil)(c)&&c!==1?(t.globalAlpha=c,this.fill(t),t.globalAlpha=u):this.fill(t)),this.afterDrawPath(t)},e.prototype.fill=function(t){this._drawText(t,!0)},e.prototype.stroke=function(t){this._drawText(t,!1)},e}(dp),u8=s8;function l8(a,e){if(e){var t=Ru(e);return Eu(t,a)}return a}function iI(a,e,t){var n=a.getTotalMatrix();if(n){var o=l8([e,t,1],n),u=o[0],l=o[1];return[u,l]}return[e,t]}function aI(a,e,t){if(a.isCanvas&&a.isCanvas())return!0;if(!ph(a)||a.cfg.isInView===!1)return!1;if(a.cfg.clipShape){var n=iI(a,e,t),o=n[0],u=n[1];if(a.isClipped(o,u))return!1}var l=a.cfg.cacheCanvasBBox||a.getCanvasBBox();return e>=l.minX&&e<=l.maxX&&t>=l.minY&&t<=l.maxY}function oI(a,e,t){if(!aI(a,e,t))return null;for(var n=null,o=a.getChildren(),u=o.length,l=u-1;l>=0;l--){var c=o[l];if(c.isGroup())n=oI(c,e,t);else if(aI(c,e,t)){var f=c,h=iI(c,e,t),v=h[0],p=h[1];f.isInShape(v,p)&&(n=c)}if(n)break}return n}var c8=function(a){(0,Z.__extends)(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=a.prototype.getDefaultCfg.call(this);return t.renderer="canvas",t.autoDraw=!0,t.localRefresh=!0,t.refreshElements=[],t.clipView=!0,t.quickHit=!1,t},e.prototype.onCanvasChange=function(t){(t==="attr"||t==="sort"||t==="changeSize")&&(this.set("refreshElements",[this]),this.draw())},e.prototype.getShapeBase=function(){return M},e.prototype.getGroupBase=function(){return Gw},e.prototype.getPixelRatio=function(){var t=this.get("pixelRatio")||m6();return t>=1?Math.ceil(t):1},e.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.cfg.width,maxY:this.cfg.height}},e.prototype.createDom=function(){var t=document.createElement("canvas"),n=t.getContext("2d");return this.set("context",n),t},e.prototype.setDOMSize=function(t,n){a.prototype.setDOMSize.call(this,t,n);var o=this.get("context"),u=this.get("el"),l=this.getPixelRatio();u.width=l*t,u.height=l*n,l>1&&o.scale(l,l)},e.prototype.clear=function(){a.prototype.clear.call(this),this._clearFrame();var t=this.get("context"),n=this.get("el");t.clearRect(0,0,n.width,n.height)},e.prototype.getShape=function(t,n){var o;return this.get("quickHit")?o=oI(this,t,n):o=a.prototype.getShape.call(this,t,n,null),o},e.prototype._getRefreshRegion=function(){var t=this.get("refreshElements"),n=this.getViewRange(),o;if(t.length&&t[0]===this)o=n;else if(o=D6(t),o){o.minX=Math.floor(o.minX),o.minY=Math.floor(o.minY),o.maxX=Math.ceil(o.maxX),o.maxY=Math.ceil(o.maxY),o.maxY+=1;var u=this.get("clipView");u&&(o=P6(o,n))}return o},e.prototype.refreshElement=function(t){var n=this.get("refreshElements");n.push(t)},e.prototype._clearFrame=function(){var t=this.get("drawFrame");t&&((0,w.clearAnimationFrame)(t),this.set("drawFrame",null),this.set("refreshElements",[]))},e.prototype.draw=function(){var t=this.get("drawFrame");this.get("autoDraw")&&t||this._startDraw()},e.prototype._drawAll=function(){var t=this.get("context"),n=this.get("el"),o=this.getChildren();t.clearRect(0,0,n.width,n.height),Fm(t,this),Nw(t,o),this.set("refreshElements",[])},e.prototype._drawRegion=function(){var t=this.get("context"),n=this.get("refreshElements"),o=this.getChildren(),u=this._getRefreshRegion();u?(t.clearRect(u.minX,u.minY,u.maxX-u.minX,u.maxY-u.minY),t.save(),t.beginPath(),t.rect(u.minX,u.minY,u.maxX-u.minX,u.maxY-u.minY),t.clip(),Fm(t,this),M6(this,o,u),Nw(t,o,u),t.restore()):n.length&&ZM(n),(0,w.each)(n,function(l){l.get("hasChanged")&&l.set("hasChanged",!1)}),this.set("refreshElements",[])},e.prototype._startDraw=function(){var t=this,n=this.get("drawFrame");n||(n=(0,w.requestAnimationFrame)(function(){t.get("localRefresh")?t._drawRegion():t._drawAll(),t.set("drawFrame",null)}),this.set("drawFrame",n))},e.prototype.skipDraw=function(){},e.prototype.removeDom=function(){var t=this.get("el");t.width=0,t.height=0,t.parentNode.removeChild(t)},e}(wi),fg=c8,f8="0.5.12",jw={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},ko={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"},Klt=null;function Vv(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function sI(a){var e=jw[a.type],t=a.getParent();if(!e)throw new Error("the type "+a.type+" is not supported by svg");var n=Vv(e);if(a.get("id")&&(n.id=a.get("id")),a.set("el",n),a.set("attrs",{}),t){var o=t.get("el");o||(o=t.createDom(),t.set("el",o)),o.appendChild(n)}return n}function uI(a,e){var t=a.get("el"),n=(0,w.toArray)(t.children).sort(e),o=document.createDocumentFragment();n.forEach(function(u){o.appendChild(u)}),t.appendChild(o)}function h8(a,e){var t=a.parentNode,n=Array.from(t.childNodes).filter(function(c){return c.nodeType===1&&c.nodeName.toLowerCase()!=="defs"}),o=n[e],u=n.indexOf(a);if(o){if(u>e)t.insertBefore(a,o);else if(u<e){var l=n[e+1];l?t.insertBefore(a,l):t.appendChild(a)}}else t.appendChild(a)}function d8(a,e){var t=a.cfg.el,n=a.attr(),o={dx:n.shadowOffsetX,dy:n.shadowOffsetY,blur:n.shadowBlur,color:n.shadowColor};if(!o.dx&&!o.dy&&!o.blur&&!o.color)t.removeAttribute("filter");else{var u=e.find("filter",o);u||(u=e.addShadow(o)),t.setAttribute("filter","url(#"+u+")")}}function Ux(a){var e=a.attr().matrix;if(e){for(var t=a.cfg.el,n=[],o=0;o<9;o+=3)n.push(e[o]+","+e[o+1]);n=n.join(","),n.indexOf("NaN")===-1?t.setAttribute("transform","matrix("+n+")"):console.warn("invalid matrix:",e)}}function jx(a,e){var t=a.getClip(),n=a.get("el");if(!t)n.removeAttribute("clip-path");else if(t&&!n.hasAttribute("clip-path")){sI(t),t.createPath(e);var o=e.addClip(t);n.setAttribute("clip-path","url(#"+o+")")}}function lI(a,e){e.forEach(function(t){t.draw(a)})}function cI(a,e){var t=a.get("canvas");if(t&&t.get("autoDraw")){var n=t.get("context"),o=a.getParent(),u=o?o.getChildren():[t],l=a.get("el");if(e==="remove"){var c=a.get("isClipShape");if(c){var f=l&&l.parentNode,h=f&&f.parentNode;f&&h&&h.removeChild(f)}else l&&l.parentNode&&l.parentNode.removeChild(l)}else if(e==="show")l.setAttribute("visibility","visible");else if(e==="hide")l.setAttribute("visibility","hidden");else if(e==="zIndex")h8(l,u.indexOf(a));else if(e==="sort"){var v=a.get("children");v&&v.length&&uI(a,function(p,g){return v.indexOf(p)-v.indexOf(g)?1:0})}else e==="clear"?l&&(l.innerHTML=""):e==="matrix"?Ux(a):e==="clip"?jx(a,n):e==="attr"||e==="add"&&a.draw(n)}}var v8=function(a){(0,Z.__extends)(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.isEntityGroup=function(){return!0},e.prototype.createDom=function(){var t=Vv("g");this.set("el",t);var n=this.getParent();if(n){var o=n.get("el");o||(o=n.createDom(),n.set("el",o)),o.appendChild(t)}return t},e.prototype.afterAttrsChange=function(t){a.prototype.afterAttrsChange.call(this,t);var n=this.get("canvas");if(n&&n.get("autoDraw")){var o=n.get("context");this.createPath(o,t)}},e.prototype.onCanvasChange=function(t){cI(this,t)},e.prototype.getShapeBase=function(){return L},e.prototype.getGroupBase=function(){return e},e.prototype.draw=function(t){var n=this.getChildren(),o=this.get("el");this.get("destroyed")?o&&o.parentNode.removeChild(o):(o||this.createDom(),jx(this,t),this.createPath(t),n.length&&lI(t,n))},e.prototype.createPath=function(t,n){var o=this.attr(),u=this.get("el");(0,w.each)(n||o,function(l,c){ko[c]&&u.setAttribute(ko[c],l)}),Ux(this)},e}(Zi),Ww=v8,p8=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type="svg",t.canFill=!1,t.canStroke=!1,t}return e.prototype.getDefaultAttrs=function(){var t=a.prototype.getDefaultAttrs.call(this);return(0,Z.__assign)((0,Z.__assign)({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},e.prototype.afterAttrsChange=function(t){a.prototype.afterAttrsChange.call(this,t);var n=this.get("canvas");if(n&&n.get("autoDraw")){var o=n.get("context");this.draw(o,t)}},e.prototype.getShapeBase=function(){return L},e.prototype.getGroupBase=function(){return Ww},e.prototype.onCanvasChange=function(t){cI(this,t)},e.prototype.calculateBBox=function(){var t=this.get("el"),n=null;if(t)n=t.getBBox();else{var o=ku(this.get("type"));o&&(n=o(this))}if(n){var u=n.x,l=n.y,c=n.width,f=n.height,h=this.getHitLineWidth(),v=h/2,p=u-v,g=l-v,E=u+c+v,D=l+f+v;return{x:p,y:g,minX:p,minY:g,maxX:E,maxY:D,width:c+h,height:f+h}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},e.prototype.isFill=function(){var t=this.attr(),n=t.fill,o=t.fillStyle;return(n||o||this.isClipShape())&&this.canFill},e.prototype.isStroke=function(){var t=this.attr(),n=t.stroke,o=t.strokeStyle;return(n||o)&&this.canStroke},e.prototype.draw=function(t,n){var o=this.get("el");this.get("destroyed")?o&&o.parentNode.removeChild(o):(o||sI(this),jx(this,t),this.createPath(t,n),this.shadow(t,n),this.strokeAndFill(t,n),this.transform(n))},e.prototype.createPath=function(t,n){},e.prototype.strokeAndFill=function(t,n){var o=n||this.attr(),u=o.fill,l=o.fillStyle,c=o.stroke,f=o.strokeStyle,h=o.fillOpacity,v=o.strokeOpacity,p=o.lineWidth,g=this.get("el");this.canFill&&(n?"fill"in o?this._setColor(t,"fill",u):"fillStyle"in o&&this._setColor(t,"fill",l):this._setColor(t,"fill",u||l),h&&g.setAttribute(ko.fillOpacity,h)),this.canStroke&&p>0&&(n?"stroke"in o?this._setColor(t,"stroke",c):"strokeStyle"in o&&this._setColor(t,"stroke",f):this._setColor(t,"stroke",c||f),v&&g.setAttribute(ko.strokeOpacity,v),p&&g.setAttribute(ko.lineWidth,p))},e.prototype._setColor=function(t,n,o){var u=this.get("el");if(!o){u.setAttribute(ko[n],"none");return}if(o=o.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(o)){var l=t.find("gradient",o);l||(l=t.addGradient(o)),u.setAttribute(ko[n],"url(#"+l+")")}else if(/^[p,P]{1}[\s]*\(/.test(o)){var l=t.find("pattern",o);l||(l=t.addPattern(o)),u.setAttribute(ko[n],"url(#"+l+")")}else u.setAttribute(ko[n],o)},e.prototype.shadow=function(t,n){var o=this.attr(),u=n||o,l=u.shadowOffsetX,c=u.shadowOffsetY,f=u.shadowBlur,h=u.shadowColor;(l||c||f||h)&&d8(this,t)},e.prototype.transform=function(t){var n=this.attr(),o=(t||n).matrix;o&&Ux(this)},e.prototype.isInShape=function(t,n){return this.isPointInPath(t,n)},e.prototype.isPointInPath=function(t,n){var o=this.get("el"),u=this.get("canvas"),l=u.get("el").getBoundingClientRect(),c=t+l.left,f=n+l.top,h=document.elementFromPoint(c,f);return!!(h&&h.isEqualNode(o))},e.prototype.getHitLineWidth=function(){var t=this.attrs,n=t.lineWidth,o=t.lineAppendWidth;return this.isStroke()?n+o:0},e}(bo),Hv=p8,g8=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type="circle",t.canFill=!0,t.canStroke=!0,t}return e.prototype.getDefaultAttrs=function(){var t=a.prototype.getDefaultAttrs.call(this);return(0,Z.__assign)((0,Z.__assign)({},t),{x:0,y:0,r:0})},e.prototype.createPath=function(t,n){var o=this.attr(),u=this.get("el");(0,w.each)(n||o,function(l,c){c==="x"||c==="y"?u.setAttribute("c"+c,l):ko[c]&&u.setAttribute(ko[c],l)})},e}(Hv),y8=g8,m8=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type="dom",t.canFill=!1,t.canStroke=!1,t}return e.prototype.createPath=function(t,n){var o=this.attr(),u=this.get("el");if((0,w.each)(n||o,function(h,v){ko[v]&&u.setAttribute(ko[v],h)}),typeof o.html=="function"){var l=o.html.call(this,o);if(l instanceof Element||l instanceof HTMLDocument){for(var c=u.childNodes,f=c.length-1;f>=0;f--)u.removeChild(c[f]);u.appendChild(l)}else u.innerHTML=l}else u.innerHTML=o.html},e}(Hv),x8=m8,b8=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type="ellipse",t.canFill=!0,t.canStroke=!0,t}return e.prototype.getDefaultAttrs=function(){var t=a.prototype.getDefaultAttrs.call(this);return(0,Z.__assign)((0,Z.__assign)({},t),{x:0,y:0,rx:0,ry:0})},e.prototype.createPath=function(t,n){var o=this.attr(),u=this.get("el");(0,w.each)(n||o,function(l,c){c==="x"||c==="y"?u.setAttribute("c"+c,l):ko[c]&&u.setAttribute(ko[c],l)})},e}(Hv),E8=b8,S8=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type="image",t.canFill=!1,t.canStroke=!1,t}return e.prototype.getDefaultAttrs=function(){var t=a.prototype.getDefaultAttrs.call(this);return(0,Z.__assign)((0,Z.__assign)({},t),{x:0,y:0,width:0,height:0})},e.prototype.createPath=function(t,n){var o=this,u=this.attr(),l=this.get("el");(0,w.each)(n||u,function(c,f){f==="img"?o._setImage(u.img):ko[f]&&l.setAttribute(ko[f],c)})},e.prototype.setAttr=function(t,n){this.attrs[t]=n,t==="img"&&this._setImage(n)},e.prototype._setImage=function(t){var n=this.attr(),o=this.get("el");if((0,w.isString)(t))o.setAttribute("href",t);else if(t instanceof window.Image)n.width||(o.setAttribute("width",t.width),this.attr("width",t.width)),n.height||(o.setAttribute("height",t.height),this.attr("height",t.height)),o.setAttribute("href",t.src);else if(t instanceof HTMLElement&&(0,w.isString)(t.nodeName)&&t.nodeName.toUpperCase()==="CANVAS")o.setAttribute("href",t.toDataURL());else if(t instanceof ImageData){var u=document.createElement("canvas");u.setAttribute("width",""+t.width),u.setAttribute("height",""+t.height),u.getContext("2d").putImageData(t,0,0),n.width||(o.setAttribute("width",""+t.width),this.attr("width",t.width)),n.height||(o.setAttribute("height",""+t.height),this.attr("height",t.height)),o.setAttribute("href",u.toDataURL())}},e}(Hv),w8=S8,_8=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type="line",t.canFill=!1,t.canStroke=!0,t}return e.prototype.getDefaultAttrs=function(){var t=a.prototype.getDefaultAttrs.call(this);return(0,Z.__assign)((0,Z.__assign)({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},e.prototype.createPath=function(t,n){var o=this.attr(),u=this.get("el");(0,w.each)(n||o,function(l,c){if(c==="startArrow"||c==="endArrow")if(l){var f=(0,w.isObject)(l)?t.addArrow(o,ko[c]):t.getDefaultArrow(o,ko[c]);u.setAttribute(ko[c],"url(#"+f+")")}else u.removeAttribute(ko[c]);else ko[c]&&u.setAttribute(ko[c],l)})},e.prototype.getTotalLength=function(){var t=this.attr(),n=t.x1,o=t.y1,u=t.x2,l=t.y2;return ne.length(n,o,u,l)},e.prototype.getPoint=function(t){var n=this.attr(),o=n.x1,u=n.y1,l=n.x2,c=n.y2;return ne.pointAt(o,u,l,c,t)},e}(Hv),A8=_8,AE={circle:function(a,e,t){return[["M",a,e],["m",-t,0],["a",t,t,0,1,0,t*2,0],["a",t,t,0,1,0,-t*2,0]]},square:function(a,e,t){return[["M",a-t,e-t],["L",a+t,e-t],["L",a+t,e+t],["L",a-t,e+t],["Z"]]},diamond:function(a,e,t){return[["M",a-t,e],["L",a,e-t],["L",a+t,e],["L",a,e+t],["Z"]]},triangle:function(a,e,t){var n=t*Math.sin(.3333333333333333*Math.PI);return[["M",a-t,e+n],["L",a,e-n],["L",a+t,e+n],["z"]]},triangleDown:function(a,e,t){var n=t*Math.sin(.3333333333333333*Math.PI);return[["M",a-t,e-n],["L",a+t,e-n],["L",a,e+n],["Z"]]}},fI={get:function(a){return AE[a]},register:function(a,e){AE[a]=e},remove:function(a){delete AE[a]},getAll:function(){return AE}},C8=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type="marker",t.canFill=!0,t.canStroke=!0,t}return e.prototype.createPath=function(t){var n=this.get("el");n.setAttribute("d",this._assembleMarker())},e.prototype._assembleMarker=function(){var t=this._getPath();return(0,w.isArray)(t)?t.map(function(n){return n.join(" ")}).join(""):t},e.prototype._getPath=function(){var t=this.attr(),n=t.x,o=t.y,u=t.r||t.radius,l=t.symbol||"circle",c;return(0,w.isFunction)(l)?c=l:c=fI.get(l),c?c(n,o,u):(console.warn(c+" symbol is not exist."),null)},e.symbolsFactory=fI,e}(Hv),T8=C8,M8=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type="path",t.canFill=!0,t.canStroke=!0,t}return e.prototype.getDefaultAttrs=function(){var t=a.prototype.getDefaultAttrs.call(this);return(0,Z.__assign)((0,Z.__assign)({},t),{startArrow:!1,endArrow:!1})},e.prototype.createPath=function(t,n){var o=this,u=this.attr(),l=this.get("el");(0,w.each)(n||u,function(c,f){if(f==="path"&&(0,w.isArray)(c))l.setAttribute("d",o._formatPath(c));else if(f==="startArrow"||f==="endArrow")if(c){var h=(0,w.isObject)(c)?t.addArrow(u,ko[f]):t.getDefaultArrow(u,ko[f]);l.setAttribute(ko[f],"url(#"+h+")")}else l.removeAttribute(ko[f]);else ko[f]&&l.setAttribute(ko[f],c)})},e.prototype._formatPath=function(t){var n=t.map(function(o){return o.join(" ")}).join("");return~n.indexOf("NaN")?"":n},e.prototype.getTotalLength=function(){var t=this.get("el");return t?t.getTotalLength():null},e.prototype.getPoint=function(t){var n=this.get("el"),o=this.getTotalLength();if(o===0)return null;var u=n?n.getPointAtLength(t*o):null;return u?{x:u.x,y:u.y}:null},e}(Hv),I8=M8,O8=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type="polygon",t.canFill=!0,t.canStroke=!0,t}return e.prototype.createPath=function(t,n){var o=this.attr(),u=this.get("el");(0,w.each)(n||o,function(l,c){c==="points"&&(0,w.isArray)(l)&&l.length>=2?u.setAttribute("points",l.map(function(f){return f[0]+","+f[1]}).join(" ")):ko[c]&&u.setAttribute(ko[c],l)})},e}(Hv),D8=O8,P8=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type="polyline",t.canFill=!0,t.canStroke=!0,t}return e.prototype.getDefaultAttrs=function(){var t=a.prototype.getDefaultAttrs.call(this);return(0,Z.__assign)((0,Z.__assign)({},t),{startArrow:!1,endArrow:!1})},e.prototype.onAttrChange=function(t,n,o){a.prototype.onAttrChange.call(this,t,n,o),["points"].indexOf(t)!==-1&&this._resetCache()},e.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},e.prototype.createPath=function(t,n){var o=this.attr(),u=this.get("el");(0,w.each)(n||o,function(l,c){c==="points"&&(0,w.isArray)(l)&&l.length>=2?u.setAttribute("points",l.map(function(f){return f[0]+","+f[1]}).join(" ")):ko[c]&&u.setAttribute(ko[c],l)})},e.prototype.getTotalLength=function(){var t=this.attr().points,n=this.get("totalLength");return(0,w.isNil)(n)?(this.set("totalLength",Ig.length(t)),this.get("totalLength")):n},e.prototype.getPoint=function(t){var n=this.attr().points,o=this.get("tCache");o||(this._setTcache(),o=this.get("tCache"));var u,l;return(0,w.each)(o,function(c,f){t>=c[0]&&t<=c[1]&&(u=(t-c[0])/(c[1]-c[0]),l=f)}),ne.pointAt(n[l][0],n[l][1],n[l+1][0],n[l+1][1],u)},e.prototype._setTcache=function(){var t=this.attr().points;if(!(!t||t.length===0)){var n=this.getTotalLength();if(!(n<=0)){var o=0,u=[],l,c;(0,w.each)(t,function(f,h){t[h+1]&&(l=[],l[0]=o/n,c=ne.length(f[0],f[1],t[h+1][0],t[h+1][1]),o+=c,l[1]=o/n,u.push(l))}),this.set("tCache",u)}}},e.prototype.getStartTangent=function(){var t=this.attr().points,n=[];return n.push([t[1][0],t[1][1]]),n.push([t[0][0],t[0][1]]),n},e.prototype.getEndTangent=function(){var t=this.attr().points,n=t.length-1,o=[];return o.push([t[n-1][0],t[n-1][1]]),o.push([t[n][0],t[n][1]]),o},e}(Hv),L8=P8,R8=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,F8=/[^\s,]+/gi;function N8(a){var e=0,t=0,n=0,o=0;return(0,w.isArray)(a)?a.length===1?e=t=n=o=a[0]:a.length===2?(e=n=a[0],t=o=a[1]):a.length===3?(e=a[0],t=o=a[1],n=a[2]):(e=a[0],t=a[1],n=a[2],o=a[3]):e=t=n=o=a,{r1:e,r2:t,r3:n,r4:o}}function Zlt(a){if(a=a||[],isArray(a))return a;if(isString(a))return a=a.match(R8),each(a,function(e,t){if(e=e.match(F8),e[0].length>1){var n=e[0].charAt(0);e.splice(1,0,e[0].substr(1)),e[0]=n}each(e,function(o,u){isNaN(o)||(e[u]=+o)}),a[t]=e}),a}var k8=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type="rect",t.canFill=!0,t.canStroke=!0,t}return e.prototype.getDefaultAttrs=function(){var t=a.prototype.getDefaultAttrs.call(this);return(0,Z.__assign)((0,Z.__assign)({},t),{x:0,y:0,width:0,height:0,radius:0})},e.prototype.createPath=function(t,n){var o=this,u=this.attr(),l=this.get("el"),c=!1,f=["x","y","width","height","radius"];(0,w.each)(n||u,function(h,v){f.indexOf(v)!==-1&&!c?(l.setAttribute("d",o._assembleRect(u)),c=!0):f.indexOf(v)===-1&&ko[v]&&l.setAttribute(ko[v],h)})},e.prototype._assembleRect=function(t){var n=t.x,o=t.y,u=t.width,l=t.height,c=t.radius;if(!c)return"M "+n+","+o+" l "+u+",0 l 0,"+l+" l"+-u+" 0 z";var f=N8(c);(0,w.isArray)(c)?c.length===1?f.r1=f.r2=f.r3=f.r4=c[0]:c.length===2?(f.r1=f.r3=c[0],f.r2=f.r4=c[1]):c.length===3?(f.r1=c[0],f.r2=f.r4=c[1],f.r3=c[2]):(f.r1=c[0],f.r2=c[1],f.r3=c[2],f.r4=c[3]):f.r1=f.r2=f.r3=f.r4=c;var h=[["M "+(n+f.r1)+","+o],["l "+(u-f.r1-f.r2)+",0"],["a "+f.r2+","+f.r2+",0,0,1,"+f.r2+","+f.r2],["l 0,"+(l-f.r2-f.r3)],["a "+f.r3+","+f.r3+",0,0,1,"+-f.r3+","+f.r3],["l "+(f.r3+f.r4-u)+",0"],["a "+f.r4+","+f.r4+",0,0,1,"+-f.r4+","+-f.r4],["l 0,"+(f.r4+f.r1-l)],["a "+f.r1+","+f.r1+",0,0,1,"+f.r1+","+-f.r1],["z"]];return h.join(" ")},e}(Hv),B8=k8,hI=.3,G8={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},z8={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},U8={left:"left",start:"left",center:"middle",right:"end",end:"end"},j8=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type="text",t.canFill=!0,t.canStroke=!0,t}return e.prototype.getDefaultAttrs=function(){var t=a.prototype.getDefaultAttrs.call(this);return(0,Z.__assign)((0,Z.__assign)({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},e.prototype.createPath=function(t,n){var o=this,u=this.attr(),l=this.get("el");this._setFont(),(0,w.each)(n||u,function(c,f){f==="text"?o._setText(""+c):f==="matrix"&&c?Ux(o):ko[f]&&l.setAttribute(ko[f],c)}),l.setAttribute("paint-order","stroke"),l.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},e.prototype._setFont=function(){var t=this.get("el"),n=this.attr(),o=n.textBaseline,u=n.textAlign,l=yh();l&&l.name==="firefox"?t.setAttribute("dominant-baseline",z8[o]||"alphabetic"):t.setAttribute("alignment-baseline",G8[o]||"baseline"),t.setAttribute("text-anchor",U8[u]||"left")},e.prototype._setText=function(t){var n=this.get("el"),o=this.attr(),u=o.x,l=o.textBaseline,c=l===void 0?"bottom":l;if(!t)n.innerHTML="";else if(~t.indexOf(`
`)){var f=t.split(`
`),h=f.length-1,v="";(0,w.each)(f,function(p,g){g===0?c==="alphabetic"?v+='<tspan x="'+u+'" dy="'+-h+'em">'+p+"</tspan>":c==="top"?v+='<tspan x="'+u+'" dy="0.9em">'+p+"</tspan>":c==="middle"?v+='<tspan x="'+u+'" dy="'+-(h-1)/2+'em">'+p+"</tspan>":c==="bottom"?v+='<tspan x="'+u+'" dy="-'+(h+hI)+'em">'+p+"</tspan>":c==="hanging"&&(v+='<tspan x="'+u+'" dy="'+(-(h-1)-hI)+'em">'+p+"</tspan>"):v+='<tspan x="'+u+'" dy="1em">'+p+"</tspan>"}),n.innerHTML=v}else n.innerHTML=t},e}(Hv),W8=j8,V8=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,H8=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,Y8=/[\d.]+:(#[^\s]+|[^)]+\))/gi;function dI(a){var e=a.match(Y8);if(!e)return"";var t="";return e.sort(function(n,o){return n=n.split(":"),o=o.split(":"),Number(n[0])-Number(o[0])}),(0,w.each)(e,function(n){n=n.split(":"),t+='<stop offset="'+n[0]+'" stop-color="'+n[1]+'"></stop>'}),t}function X8(a,e){var t=V8.exec(a),n=(0,w.mod)((0,w.toRadian)(parseFloat(t[1])),Math.PI*2),o=t[2],u,l;n>=0&&n<.5*Math.PI?(u={x:0,y:0},l={x:1,y:1}):.5*Math.PI<=n&&n<Math.PI?(u={x:1,y:0},l={x:0,y:1}):Math.PI<=n&&n<1.5*Math.PI?(u={x:1,y:1},l={x:0,y:0}):(u={x:0,y:1},l={x:1,y:0});var c=Math.tan(n),f=c*c,h=(l.x-u.x+c*(l.y-u.y))/(f+1)+u.x,v=c*(l.x-u.x+c*(l.y-u.y))/(f+1)+u.y;e.setAttribute("x1",u.x),e.setAttribute("y1",u.y),e.setAttribute("x2",h),e.setAttribute("y2",v),e.innerHTML=dI(o)}function $8(a,e){var t=H8.exec(a),n=parseFloat(t[1]),o=parseFloat(t[2]),u=parseFloat(t[3]),l=t[4];e.setAttribute("cx",n),e.setAttribute("cy",o),e.setAttribute("r",u),e.innerHTML=dI(l)}var K8=function(){function a(e){this.cfg={};var t=null,n=(0,w.uniqueId)("gradient_");return e.toLowerCase()[0]==="l"?(t=Vv("linearGradient"),X8(e,t)):(t=Vv("radialGradient"),$8(e,t)),t.setAttribute("id",n),this.el=t,this.id=n,this.cfg=e,this}return a.prototype.match=function(e,t){return this.cfg===t},a}(),Z8=K8,Q8={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},J8={x:"-40%",y:"-40%",width:"200%",height:"200%"},q8=function(){function a(e){this.type="filter",this.cfg={},this.type="filter";var t=Vv("filter");return(0,w.each)(J8,function(n,o){t.setAttribute(o,n)}),this.el=t,this.id=(0,w.uniqueId)("filter_"),this.el.id=this.id,this.cfg=e,this._parseShadow(e,t),this}return a.prototype.match=function(e,t){if(this.type!==e)return!1;var n=!0,o=this.cfg;return(0,w.each)(Object.keys(o),function(u){if(o[u]!==t[u])return n=!1,!1}),n},a.prototype.update=function(e,t){var n=this.cfg;return n[Q8[e]]=t,this._parseShadow(n,this.el),this},a.prototype._parseShadow=function(e,t){var n=`<feDropShadow
      dx="`+(e.dx||0)+`"
      dy="`+(e.dy||0)+`"
      stdDeviation="`+(e.blur?e.blur/10:0)+`"
      flood-color="`+(e.color?e.color:"#000")+`"
      flood-opacity="`+(e.opacity?e.opacity:1)+`"
      />`;t.innerHTML=n},a}(),t7=q8,e7=function(){function a(e,t){this.cfg={};var n=Vv("marker"),o=(0,w.uniqueId)("marker_");n.setAttribute("id",o);var u=Vv("path");u.setAttribute("stroke",e.stroke||"none"),u.setAttribute("fill",e.fill||"none"),n.appendChild(u),n.setAttribute("overflow","visible"),n.setAttribute("orient","auto-start-reverse"),this.el=n,this.child=u,this.id=o;var l=e[t==="marker-start"?"startArrow":"endArrow"];return this.stroke=e.stroke||"#000",l===!0?this._setDefaultPath(t,u):(this.cfg=l,this._setMarker(e.lineWidth,u)),this}return a.prototype.match=function(){return!1},a.prototype._setDefaultPath=function(e,t){var n=this.el;t.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),n.setAttribute("refX",""+10*Math.cos(Math.PI/6)),n.setAttribute("refY",""+5)},a.prototype._setMarker=function(e,t){var n=this.el,o=this.cfg.path,u=this.cfg.d;(0,w.isArray)(o)&&(o=o.map(function(l){return l.join(" ")}).join("")),t.setAttribute("d",o),n.appendChild(t),u&&n.setAttribute("refX",""+u/e)},a.prototype.update=function(e){var t=this.child;t.attr?t.attr("fill",e):t.setAttribute("fill",e)},a}(),vI=e7,r7=function(){function a(e){this.type="clip",this.cfg={};var t=Vv("clipPath");this.el=t,this.id=(0,w.uniqueId)("clip_"),t.id=this.id;var n=e.cfg.el;return t.appendChild(n),this.cfg=e,this}return a.prototype.match=function(){return!1},a.prototype.remove=function(){var e=this.el;e.parentNode.removeChild(e)},a}(),n7=r7,i7=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,a7=function(){function a(e){this.cfg={};var t=Vv("pattern");t.setAttribute("patternUnits","userSpaceOnUse");var n=Vv("image");t.appendChild(n);var o=(0,w.uniqueId)("pattern_");t.id=o,this.el=t,this.id=o,this.cfg=e;var u=i7.exec(e),l=u[2];n.setAttribute("href",l);var c=new Image;l.match(/^data:/i)||(c.crossOrigin="Anonymous"),c.src=l;function f(){t.setAttribute("width",""+c.width),t.setAttribute("height",""+c.height)}return c.complete?f():(c.onload=f,c.src=c.src),this}return a.prototype.match=function(e,t){return this.cfg===t},a}(),o7=a7,s7=function(){function a(e){var t=Vv("defs"),n=(0,w.uniqueId)("defs_");t.id=n,e.appendChild(t),this.children=[],this.defaultArrow={},this.el=t,this.canvas=e}return a.prototype.find=function(e,t){for(var n=this.children,o=null,u=0;u<n.length;u++)if(n[u].match(e,t)){o=n[u].id;break}return o},a.prototype.findById=function(e){for(var t=this.children,n=null,o=0;o<t.length;o++)if(t[o].id===e){n=t[o];break}return n},a.prototype.add=function(e){this.children.push(e),e.canvas=this.canvas,e.parent=this},a.prototype.getDefaultArrow=function(e,t){var n=e.stroke||e.strokeStyle;if(this.defaultArrow[n])return this.defaultArrow[n].id;var o=new vI(e,t);return this.defaultArrow[n]=o,this.el.appendChild(o.el),this.add(o),o.id},a.prototype.addGradient=function(e){var t=new Z8(e);return this.el.appendChild(t.el),this.add(t),t.id},a.prototype.addArrow=function(e,t){var n=new vI(e,t);return this.el.appendChild(n.el),this.add(n),n.id},a.prototype.addShadow=function(e){var t=new t7(e);return this.el.appendChild(t.el),this.add(t),t.id},a.prototype.addPattern=function(e){var t=new o7(e);return this.el.appendChild(t.el),this.add(t),t.id},a.prototype.addClip=function(e){var t=new n7(e);return this.el.appendChild(t.el),this.add(t),t.id},a}(),u7=s7,l7=function(a){(0,Z.__extends)(e,a);function e(t){return a.call(this,(0,Z.__assign)((0,Z.__assign)({},t),{autoDraw:!0,renderer:"svg"}))||this}return e.prototype.getShapeBase=function(){return L},e.prototype.getGroupBase=function(){return Ww},e.prototype.getShape=function(t,n,o){var u=o.target||o.srcElement;if(!jw[u.tagName]){for(var l=u.parentNode;l&&!jw[l.tagName];)l=l.parentNode;u=l}return this.find(function(c){return c.get("el")===u})},e.prototype.createDom=function(){var t=Vv("svg"),n=new u7(t);return t.setAttribute("width",""+this.get("width")),t.setAttribute("height",""+this.get("height")),this.set("context",n),t},e.prototype.onCanvasChange=function(t){var n=this.get("context"),o=this.get("el");if(t==="sort"){var u=this.get("children");u&&u.length&&uI(this,function(c,f){return u.indexOf(c)-u.indexOf(f)?1:0})}else if(t==="clear"){if(o){o.innerHTML="";var l=n.el;l.innerHTML="",o.appendChild(l)}}else t==="matrix"?Ux(this):t==="clip"?jx(this,n):t==="changeSize"&&(o.setAttribute("width",""+this.get("width")),o.setAttribute("height",""+this.get("height")))},e.prototype.draw=function(){var t=this.get("context"),n=this.getChildren();jx(this,t),n.length&&lI(t,n)},e}(wi),Nm=l7,c7="0.5.6",f7=function(a){(0,Z.__extends)(e,a);function e(t){var n=a.call(this,t)||this;n.type="path",n.shapeType="line";var o=t.connectNulls,u=o===void 0?!1:o,l=t.showSinglePoint,c=l===void 0?!0:l;return n.connectNulls=u,n.showSinglePoint=c,n}return e.prototype.updateElements=function(t,n){n===void 0&&(n=!1);for(var o=new Map,u=new Map,l=[],c=0,f=0;f<t.length;f++){var h=t[f],v=this.getElementId(h);l.push(v),o.set(v,h),u.set(v,c),c++}this.elements=new Array(c);for(var p=OM(this.lastElementsMap,l),g=p.added,E=p.updated,D=p.removed,G=0,H=g;G<H.length;G++){var v=H[G],h=o.get(v),X=this.getShapeFactory(),rt=this.getShapeInfo(h),f=u.get(v),ht=new Sw({shapeFactory:X,container:this.container,offscreenGroup:this.getOffscreenGroup(),elementIndex:f});ht.geometry=this,ht.animate=this.animateOption,ht.draw(rt,n),this.elementsMap[v]=ht,this.elements[f]=ht}for(var mt=0,Dt=E;mt<Dt.length;mt++){var v=Dt[mt],h=o.get(v),ht=this.lastElementsMap[v],f=u.get(v),rt=this.getShapeInfo(h),kt=ht.getModel();(this.isCoordinateChanged||IM(kt,rt))&&(ht.animate=this.animateOption,ht.update(rt)),this.elementsMap[v]=ht,this.elements[f]=ht}for(var Vt=0,te=D;Vt<te.length;Vt++){var v=te[Vt],ht=this.lastElementsMap[v];ht.animate=this.animateOption,ht.destroy()}},e.prototype.getPointsAndData=function(t){for(var n=[],o=[],u=0,l=t.length;u<l;u++){var c=t[u];n.push({x:c.x,y:c.y}),o.push(c[Ja])}return{points:n,data:o}},e.prototype.getShapeInfo=function(t){var n=this.getDrawCfg(t[0]),o=this.getPointsAndData(t),u=o.points,l=o.data;return n.mappingData=t,n.data=l,n.isStack=!!this.getAdjust("stack"),n.points=u,n.connectNulls=this.connectNulls,n.showSinglePoint=this.showSinglePoint,n},e}(cg),Vw=f7;function h7(a,e,t,n,o){var u=[];if(a.length){for(var l=[],c=[],f=0,h=a.length;f<h;f++){var v=a[f];l.push(v[1]),c.push(v[0])}c=c.reverse(),(0,w.each)([l,c],function(p,g){var E=[],D=n.parsePoints(p),G=D[0];l.length===1&&c.length===1?E=g===0?[["M",G.x-.5,G.y],["L",G.x+.5,G.y]]:[["L",G.x+.5,G.y],["L",G.x-.5,G.y]]:(e&&D.push({x:G.x,y:G.y}),t?E=hE(D,!1,o):E=Px(D,!1),g>0&&(E[0][0]="L")),u=u.concat(E)}),u.push(["Z"])}return u}function CE(a,e,t,n,o){for(var u=al(a,e,!e,"lineWidth"),l=a.connectNulls,c=a.isInCircle,f=a.points,h=a.showSinglePoint,v=yE(f,l,h),p=[],g=0,E=v.length;g<E;g++){var D=v[g];p=p.concat(h7(D,c,t,n,o))}return u.path=p,u}function pI(a){var e=a.start,t=a.end;return[[e.x,t.y],[t.x,e.y]]}var Qlt=lg("area",{defaultShapeType:"area",getDefaultPoints:function(a){var e=a.x,t=a.y0,n=(0,w.isArray)(a.y)?a.y:[t,a.y];return n.map(function(o){return{x:e,y:o}})}});No("area","area",{draw:function(a,e){var t=CE(a,!1,!1,this),n=e.addShape({type:"path",attrs:t,name:"area"});return n},getMarker:function(a){var e=a.color;return{symbol:function(t,n,o){return o===void 0&&(o=5.5),[["M",t-o,n-4],["L",t+o,n-4],["L",t+o,n+4],["L",t-o,n+4],["Z"]]},style:{r:5,fill:e}}}});var Jlt=null,d7=function(a){(0,Z.__extends)(e,a);function e(t){var n=a.call(this,t)||this;n.type="area",n.shapeType="area",n.generatePoints=!0,n.startOnZero=!0;var o=t.startOnZero,u=o===void 0?!0:o,l=t.sortable,c=l===void 0?!1:l,f=t.showSinglePoint,h=f===void 0?!1:f;return n.startOnZero=u,n.sortable=c,n.showSinglePoint=h,n}return e.prototype.getPointsAndData=function(t){for(var n=[],o=[],u=0,l=t.length;u<l;u++){var c=t[u];n.push(c.points),o.push(c[Ja])}return{points:n,data:o}},e.prototype.getYMinValue=function(){if(this.startOnZero)return a.prototype.getYMinValue.call(this);var t=this.getYScale();return t.min},e}(Vw),v7=d7,qlt=lg("edge",{defaultShapeType:"line",getDefaultPoints:function(a){return Ow(a)}});No("edge","line",{draw:function(a,e){var t=al(a,!0,!1,"lineWidth"),n=Px(this.parsePoints(a.points),this.coordinate.isPolar);return e.addShape("path",{attrs:(0,Z.__assign)((0,Z.__assign)({},t),{path:n})})},getMarker:function(a){return{symbol:"circle",style:{r:4.5,fill:a.color}}}});var tct=null,p7=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type="edge",t.shapeType="edge",t.generatePoints=!0,t}return e}(cg),g7=p7,y7=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type="heatmap",t.paletteCache={},t}return e.prototype.updateElements=function(t,n){n===void 0&&(n=!1);for(var o=0;o<t.length;o++){var u=t[o],l=this.prepareRange(u),c=this.prepareSize(),f=(0,w.get)(this.styleOption,["cfg","shadowBlur"]);(0,w.isNumber)(f)||(f=c/2),this.prepareGreyScaleBlurredCircle(c,f),this.drawWithRange(u,l,c,f)}},e.prototype.color=function(t,n){return this.createAttrOption("color",t,typeof n!="function"?n:""),this},e.prototype.clear=function(){a.prototype.clear.call(this),this.clearShadowCanvasCtx(),this.paletteCache={}},e.prototype.prepareRange=function(t){var n=this.getAttribute("color"),o=n.getFields()[0],u=1/0,l=-1/0;return t.forEach(function(c){var f=c[Ja][o];f>l&&(l=f),f<u&&(u=f)}),u===l&&(u=l-1),[u,l]},e.prototype.prepareSize=function(){var t=this.getDefaultValue("size");return(0,w.isNumber)(t)||(t=this.getDefaultSize()),t},e.prototype.prepareGreyScaleBlurredCircle=function(t,n){var o=this.getGrayScaleBlurredCanvas(),u=t+n,l=o.getContext("2d");o.width=o.height=u*2,l.clearRect(0,0,o.width,o.height),l.shadowOffsetX=l.shadowOffsetY=u*2,l.shadowBlur=n,l.shadowColor="black",l.beginPath(),l.arc(-u,-u,t,0,Math.PI*2,!0),l.closePath(),l.fill()},e.prototype.drawWithRange=function(t,n,o,u){var l=this.coordinate,c=l.start,f=l.end,h=this.coordinate.getWidth(),v=this.coordinate.getHeight(),p=this.getAttribute("color"),g=p.getFields()[0];this.clearShadowCanvasCtx();var E=this.getShadowCanvasCtx();n&&(t=t.filter(function(te){return te[Ja][g]<=n[1]&&te[Ja][g]>=n[0]}));for(var D=this.scales[g],G=0,H=t;G<H.length;G++){var X=H[G],rt=this.getDrawCfg(X),ht=rt.x,mt=rt.y,Dt=D.scale(X[Ja][g]);this.drawGrayScaleBlurredCircle(ht-c.x,mt-f.y,o+u,Dt,E)}var kt=E.getImageData(0,0,h,v);this.clearShadowCanvasCtx(),this.colorize(kt),E.putImageData(kt,0,0);var Vt=this.getImageShape();Vt.attr("x",c.x),Vt.attr("y",f.y),Vt.attr("width",h),Vt.attr("height",v),Vt.attr("img",E.canvas),Vt.set("origin",this.getShapeInfo(t))},e.prototype.getDefaultSize=function(){var t=this.getAttribute("position"),n=this.coordinate;return Math.min(n.getWidth()/(t.scales[0].ticks.length*4),n.getHeight()/(t.scales[1].ticks.length*4))},e.prototype.clearShadowCanvasCtx=function(){var t=this.getShadowCanvasCtx();t.clearRect(0,0,t.canvas.width,t.canvas.height)},e.prototype.getShadowCanvasCtx=function(){var t=this.shadowCanvas;return t||(t=document.createElement("canvas"),this.shadowCanvas=t),t.width=this.coordinate.getWidth(),t.height=this.coordinate.getHeight(),t.getContext("2d")},e.prototype.getGrayScaleBlurredCanvas=function(){return this.grayScaleBlurredCanvas||(this.grayScaleBlurredCanvas=document.createElement("canvas")),this.grayScaleBlurredCanvas},e.prototype.drawGrayScaleBlurredCircle=function(t,n,o,u,l){var c=this.getGrayScaleBlurredCanvas();l.globalAlpha=u,l.drawImage(c,t-o,n-o)},e.prototype.colorize=function(t){for(var n=this.getAttribute("color"),o=t.data,u=this.paletteCache,l=3;l<o.length;l+=4){var c=o[l];if((0,w.isNumber)(c)){var f=u[c]?u[c]:hv.rgb2arr(n.gradient(c/256));o[l-3]=f[0],o[l-2]=f[1],o[l-1]=f[2],o[l]=c}}},e.prototype.getImageShape=function(){var t=this.imageShape;if(t)return t;var n=this.container;return t=n.addShape({type:"image",attrs:{}}),this.imageShape=t,t},e.prototype.getShapeInfo=function(t){var n=this.getDrawCfg(t[0]),o=t.map(function(u){return u[Ja]});return(0,Z.__assign)((0,Z.__assign)({},n),{mappingData:t,data:o})},e}(cg),m7=y7;function Hw(a){var e=a.x,t=a.y,n=a.y0,o=a.size,u,l;(0,w.isArray)(t)?(u=t[0],l=t[1]):(u=n,l=t);var c,f;(0,w.isArray)(e)?(c=e[0],f=e[1]):(c=e-o/2,f=e+o/2);var h=[{x:c,y:u},{x:c,y:l}];return h.push({x:f,y:l},{x:f,y:u}),h}function Yw(a,e){e===void 0&&(e=!0);var t=[],n=a[0];t.push(["M",n.x,n.y]);for(var o=1,u=a.length;o<u;o++)t.push(["L",a[o].x,a[o].y]);return e&&(t.push(["L",n.x,n.y]),t.push(["z"])),t}function gI(a,e){var t=0,n=0,o=0,u=0;return(0,w.isArray)(a)?a.length===1?t=n=o=u=a[0]:a.length===2?(t=o=a[0],n=u=a[1]):a.length===3?(t=a[0],n=u=a[1],o=a[2]):(t=a[0],n=a[1],o=a[2],u=a[3]):t=n=o=u=a,t+n>e&&(t=t?e/(1+n/t):0,n=e-t),o+u>e&&(o=o?e/(1+u/o):0,u=e-o),[t||0,n||0,o||0,u||0]}function yI(a,e,t){var n=[];if(t.isRect){var o=t.isTransposed?{x:t.start.x,y:e[0].y}:{x:e[0].x,y:t.start.y},u=t.isTransposed?{x:t.end.x,y:e[2].y}:{x:e[3].x,y:t.end.y},l=(0,w.get)(a,["background","style","radius"]);if(l){var c=t.isTransposed?Math.abs(e[0].y-e[2].y):e[2].x-e[1].x,f=t.isTransposed?t.getWidth():t.getHeight(),h=gI(l,Math.min(c,f)),v=h[0],p=h[1],g=h[2],E=h[3];n.push(["M",o.x,u.y+v]),v!==0&&n.push(["A",v,v,0,0,1,o.x+v,u.y]),n.push(["L",u.x-p,u.y]),p!==0&&n.push(["A",p,p,0,0,1,u.x,u.y+p]),n.push(["L",u.x,o.y-g]),g!==0&&n.push(["A",g,g,0,0,1,u.x-g,o.y]),n.push(["L",o.x+E,o.y]),E!==0&&n.push(["A",E,E,0,0,1,o.x,o.y-E])}else n.push(["M",o.x,o.y]),n.push(["L",u.x,o.y]),n.push(["L",u.x,u.y]),n.push(["L",o.x,u.y]),n.push(["L",o.x,o.y]);n.push(["z"])}if(t.isPolar){var D=t.getCenter(),G=Mx(a,t),H=G.startAngle,X=G.endAngle;if(t.type!=="theta"&&!t.isTransposed)n=Zg(D.x,D.y,t.getRadius(),H,X);else{var rt=function(Dt){return Math.pow(Dt,2)},v=Math.sqrt(rt(D.x-e[0].x)+rt(D.y-e[0].y)),p=Math.sqrt(rt(D.x-e[2].x)+rt(D.y-e[2].y));n=Zg(D.x,D.y,v,t.startAngle,t.endAngle,p)}}return n}function x7(a,e,t){var n=t.getWidth(),o=t.getHeight(),u=t.type==="rect",l=[],c=(a[2].x-a[1].x)/2,f=t.isTransposed?c*o/n:c*n/o;return e==="round"?(u?(l.push(["M",a[0].x,a[0].y+f]),l.push(["L",a[1].x,a[1].y-f]),l.push(["A",c,c,0,0,1,a[2].x,a[2].y-f]),l.push(["L",a[3].x,a[3].y+f]),l.push(["A",c,c,0,0,1,a[0].x,a[0].y+f])):(l.push(["M",a[0].x,a[0].y]),l.push(["L",a[1].x,a[1].y]),l.push(["A",c,c,0,0,1,a[2].x,a[2].y]),l.push(["L",a[3].x,a[3].y]),l.push(["A",c,c,0,0,1,a[0].x,a[0].y])),l.push(["z"])):l=Yw(a),l}function mI(a,e,t){var n=[];return(0,w.isNil)(e)?t?n.push(["M",a[0].x,a[0].y],["L",a[1].x,a[1].y],["L",(a[2].x+a[3].x)/2,(a[2].y+a[3].y)/2],["Z"]):n.push(["M",a[0].x,a[0].y],["L",a[1].x,a[1].y],["L",a[2].x,a[2].y],["L",a[3].x,a[3].y],["Z"]):n.push(["M",a[0].x,a[0].y],["L",a[1].x,a[1].y],["L",e[1].x,e[1].y],["L",e[0].x,e[0].y],["Z"]),n}function Wx(a,e){return[e,a]}function b7(a,e,t){var n,o,u,l,c,f,h,v=(0,Z.__spreadArray)([],a,!0),p=v[0],g=v[1],E=v[2],D=v[3],G=typeof t=="number"?Array(4).fill(t):t,H=G[0],X=G[1],rt=G[2],ht=G[3];e.isTransposed&&(n=Wx(g,D),g=n[0],D=n[1],o=[ht,H,X,rt],H=o[0],X=o[1],rt=o[2],ht=o[3]),e.isReflect("y")&&(u=Wx(p,g),p=u[0],g=u[1],l=Wx(E,D),E=l[0],D=l[1]),e.isReflect("x")&&(c=Wx(p,D),p=c[0],D=c[1],f=Wx(g,E),g=f[0],E=f[1]);var mt=[],Dt=function(kt){return Math.abs(kt)};return h=gI([H,X,rt,ht],Math.min(Dt(D.x-p.x),Dt(g.y-p.y))).map(function(kt){return Dt(kt)}),H=h[0],X=h[1],rt=h[2],ht=h[3],p.y<g.y?(mt.push(["M",D.x,D.y+rt]),rt!==0&&mt.push(["A",rt,rt,0,0,0,D.x-rt,D.y]),mt.push(["L",p.x+ht,p.y]),ht!==0&&mt.push(["A",ht,ht,0,0,0,p.x,p.y+ht]),mt.push(["L",g.x,g.y-H]),H!==0&&mt.push(["A",H,H,0,0,0,g.x+H,g.y]),mt.push(["L",E.x-X,E.y]),X!==0&&mt.push(["A",X,X,0,0,0,E.x,E.y-X]),mt.push(["L",D.x,D.y+rt]),mt.push(["z"])):D.x<p.x?(mt.push(["M",E.x+X,E.y]),X!==0&&mt.push(["A",X,X,0,0,0,E.x,E.y+X]),mt.push(["L",D.x,D.y-rt]),rt!==0&&mt.push(["A",rt,rt,0,0,0,D.x+rt,D.y]),mt.push(["L",p.x-ht,p.y]),ht!==0&&mt.push(["A",ht,ht,0,0,0,p.x,p.y-ht]),mt.push(["L",g.x,g.y+H]),H!==0&&mt.push(["A",H,H,0,0,0,g.x-H,g.y]),mt.push(["L",E.x+X,E.y]),mt.push(["z"])):(mt.push(["M",g.x,g.y+H]),H!==0&&mt.push(["A",H,H,0,0,1,g.x+H,g.y]),mt.push(["L",E.x-X,E.y]),X!==0&&mt.push(["A",X,X,0,0,1,E.x,E.y+X]),mt.push(["L",D.x,D.y-rt]),rt!==0&&mt.push(["A",rt,rt,0,0,1,D.x-rt,D.y]),mt.push(["L",p.x+ht,p.y]),ht!==0&&mt.push(["A",ht,ht,0,0,1,p.x,p.y-ht]),mt.push(["L",g.x,g.y+H]),mt.push(["z"])),mt}var ect=lg("interval",{defaultShapeType:"rect",getDefaultPoints:function(a){return Hw(a)}});No("interval","rect",{draw:function(a,e){var t=al(a,!1,!0),n=e,o=a==null?void 0:a.background;if(o){n=e.addGroup();var u=GM(a),l=yI(a,this.parsePoints(a.points),this.coordinate);n.addShape("path",{attrs:(0,Z.__assign)((0,Z.__assign)({},u),{path:l}),zIndex:-1,name:Ew})}var c;t.radius&&this.coordinate.isRect?c=b7(this.parsePoints(a.points),this.coordinate,t.radius):c=this.parsePath(x7(a.points,t.lineCap,this.coordinate));var f=n.addShape("path",{attrs:(0,Z.__assign)((0,Z.__assign)({},t),{path:c}),name:"interval"});return o?n:f},getMarker:function(a){var e=a.color,t=a.isInPolar;return t?{symbol:"circle",style:{r:4.5,fill:e}}:{symbol:"square",style:{r:4,fill:e}}}});var rct=null;function E7(a,e){var t=a.length,n=a;(0,w.isString)(n[0])&&(n=a.map(function(c){return e.translate(c)}));for(var o=n[1]-n[0],u=2;u<t;u++){var l=n[u]-n[u-1];o>l&&(o=l)}return o}function S7(a,e){if(e){var t=(0,w.flatten)(a),n=(0,w.valuesOfKey)(t,e);return n.length}return a.length}function Xw(a){var e=a.theme,t=a.coordinate,n=a.getXScale(),o=n.values,u=a.beforeMappingData,l=o.length,c=Ix(a.coordinate),f=a.intervalPadding,h=a.dodgePadding,v=a.maxColumnWidth||e.maxColumnWidth,p=a.minColumnWidth||e.minColumnWidth,g=a.columnWidthRatio||e.columnWidthRatio,E=a.multiplePieWidthRatio||e.multiplePieWidthRatio,D=a.roseWidthRatio||e.roseWidthRatio;if(n.isLinear&&o.length>1){o.sort();var G=E7(o,n);l=(n.max-n.min)/G,o.length>l&&(l=o.length)}var H=n.range,X=1/l,rt=1;if(t.isPolar?t.isTransposed&&l>1?rt=E:rt=D:(n.isLinear&&(X*=H[1]-H[0]),rt=g),!(0,w.isNil)(f)&&f>=0){var ht=f/c;X=(1-(l-1)*ht)/l}else X*=rt;if(a.getAdjust("dodge")){var mt=a.getAdjust("dodge"),Dt=mt.dodgeBy,kt=S7(u,Dt);if(!(0,w.isNil)(h)&&h>=0){var Vt=h/c;X=(X-Vt*(kt-1))/kt}else!(0,w.isNil)(f)&&f>=0&&(X*=rt),X=X/kt;X=X>=0?X:0}if(!(0,w.isNil)(v)&&v>=0){var te=v/c;X>te&&(X=te)}if(!(0,w.isNil)(p)&&p>=0){var le=p/c;X<le&&(X=le)}return X}var w7=function(a){(0,Z.__extends)(e,a);function e(t){var n=a.call(this,t)||this;n.type="interval",n.shapeType="interval",n.generatePoints=!0;var o=t.background;return n.background=o,n}return e.prototype.createShapePointsCfg=function(t){var n=a.prototype.createShapePointsCfg.call(this,t),o,u=this.getAttribute("size");if(u){o=this.getAttributeValues(u,t)[0];var l=this.coordinate,c=Ix(l);o=o/c}else this.defaultSize||(this.defaultSize=Xw(this)),o=this.defaultSize;return n.size=o,n},e.prototype.adjustScale=function(){a.prototype.adjustScale.call(this);var t=this.getYScale();if(this.coordinate.type==="theta")t.change({nice:!1,min:0,max:Y4(t)});else{var n=this.scaleDefs,o=t.field,u=t.min,l=t.max,c=t.type;c!=="time"&&(u>0&&!(0,w.get)(n,[o,"min"])&&t.change({min:0}),l<=0&&!(0,w.get)(n,[o,"max"])&&t.change({max:0}))}},e.prototype.getDrawCfg=function(t){var n=a.prototype.getDrawCfg.call(this,t);return n.background=this.background,n},e}(cg),_7=w7,A7=function(a){(0,Z.__extends)(e,a);function e(t){var n=a.call(this,t)||this;n.type="line";var o=t.sortable,u=o===void 0?!1:o;return n.sortable=u,n}return e}(Vw),C7=A7,xI=["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"],T7=["cross","tick","plus","hyphen","line"];function $w(a,e,t,n,o){var u=al(e,o,!o,"r"),l=a.parsePoints(e.points),c=l[0];if(e.isStack)c=l[1];else if(l.length>1){for(var f=t.addGroup(),h=0,v=l;h<v.length;h++){var p=v[h];f.addShape({type:"marker",attrs:(0,Z.__assign)((0,Z.__assign)((0,Z.__assign)({},u),{symbol:Z0[n]||n}),p)})}return f}return t.addShape({type:"marker",attrs:(0,Z.__assign)((0,Z.__assign)((0,Z.__assign)({},u),{symbol:Z0[n]||n}),c)})}var nct=lg("point",{defaultShapeType:"hollow-circle",getDefaultPoints:function(a){return Ow(a)}});(0,w.each)(xI,function(a){No("point","hollow-".concat(a),{draw:function(e,t){return $w(this,e,t,a,!0)},getMarker:function(e){var t=e.color;return{symbol:Z0[a]||a,style:{r:4.5,stroke:t,fill:null}}}})});var ict=null,M7=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type="point",t.shapeType="point",t.generatePoints=!0,t}return e.prototype.getDrawCfg=function(t){var n=a.prototype.getDrawCfg.call(this,t);return(0,Z.__assign)((0,Z.__assign)({},n),{isStack:!!this.getAdjust("stack")})},e}(cg),I7=M7;function O7(a){for(var e=a[0],t=1,n=[["M",e.x,e.y]];t<a.length;){var o=a[t];(o.x!==a[t-1].x||o.y!==a[t-1].y)&&(n.push(["L",o.x,o.y]),o.x===e.x&&o.y===e.y&&t<a.length-1&&(e=a[t+1],n.push(["Z"]),n.push(["M",e.x,e.y]),t++)),t++}return(0,w.isEqual)((0,w.last)(n),e)||n.push(["L",e.x,e.y]),n.push(["Z"]),n}var act=lg("polygon",{defaultShapeType:"polygon",getDefaultPoints:function(a){var e=[];return(0,w.each)(a.x,function(t,n){var o=a.y[n];e.push({x:t,y:o})}),e}});No("polygon","polygon",{draw:function(a,e){if(!(0,w.isEmpty)(a.points)){var t=al(a,!0,!0),n=this.parsePath(O7(a.points));return e.addShape("path",{attrs:(0,Z.__assign)((0,Z.__assign)({},t),{path:n}),name:"polygon"})}},getMarker:function(a){var e=a.color;return{symbol:"square",style:{r:4,fill:e}}}});var oct=null,D7=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type="polygon",t.shapeType="polygon",t.generatePoints=!0,t}return e.prototype.createShapePointsCfg=function(t){var n=a.prototype.createShapePointsCfg.call(this,t),o=n.x,u=n.y,l;if(!((0,w.isArray)(o)&&(0,w.isArray)(u))){var c=this.getXScale(),f=this.getYScale(),h=c.values.length,v=f.values.length,p=.5*1/h,g=.5*1/v;c.isCategory&&f.isCategory?(o=[o-p,o-p,o+p,o+p],u=[u-g,u+g,u+g,u-g]):(0,w.isArray)(o)?(l=o,o=[l[0],l[0],l[1],l[1]],u=[u-g/2,u+g/2,u+g/2,u-g/2]):(0,w.isArray)(u)&&(l=u,u=[l[0],l[1],l[1],l[0]],o=[o-p/2,o-p/2,o+p/2,o+p/2]),n.x=o,n.y=u}return n},e}(cg),P7=D7,sct=lg("schema",{defaultShapeType:""}),uct=null,L7=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type="schema",t.shapeType="schema",t.generatePoints=!0,t}return e.prototype.createShapePointsCfg=function(t){var n=a.prototype.createShapePointsCfg.call(this,t),o,u=this.getAttribute("size");if(u){o=this.getAttributeValues(u,t)[0];var l=this.coordinate,c=Ix(l);o=o/c}else this.defaultSize||(this.defaultSize=Xw(this)),o=this.defaultSize;return n.size=o,n},e}(cg),R7=L7;function F7(a){if(!(0,w.isArray)(a))return[];var e=(0,w.max)(a);return(0,w.map)(a,function(t){return t/e})}var lct=lg("violin",{defaultShapeType:"violin",getDefaultPoints:function(a){var e=a.size/2,t=[],n=F7(a._size);return(0,w.each)(a.y,function(o,u){var l=n[u]*e,c=u===0,f=u===a.y.length-1;t.push({isMin:c,isMax:f,x:a.x-l,y:o}),t.unshift({isMin:c,isMax:f,x:a.x+l,y:o})}),t}});No("violin","violin",{draw:function(a,e){var t=al(a,!0,!0),n=this.parsePath(kM(a.points));return e.addShape("path",{attrs:(0,Z.__assign)((0,Z.__assign)({},t),{path:n}),name:"violin"})},getMarker:function(a){var e=a.color;return{symbol:"circle",style:{r:4,fill:e}}}});var cct=null,N7=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type="violin",t.shapeType="violin",t.generatePoints=!0,t}return e.prototype.createShapePointsCfg=function(t){var n=a.prototype.createShapePointsCfg.call(this,t),o,u=this.getAttribute("size");if(u){o=this.getAttributeValues(u,t)[0];var l=this.coordinate,c=Ix(l);o=o/c}else this.defaultSize||(this.defaultSize=Xw(this)),o=this.defaultSize;return n.size=o,n._size=(0,w.get)(t[Ja],[this._sizeField]),n},e.prototype.initAttributes=function(){var t=this.attributeOption,n=t.size?t.size.fields[0]:this._sizeField?this._sizeField:"size";this._sizeField=n,delete t.size,a.prototype.initAttributes.call(this)},e}(cg),k7=N7;No("area","line",{draw:function(a,e){var t=CE(a,!0,!1,this),n=e.addShape({type:"path",attrs:t,name:"area"});return n},getMarker:function(a){var e=a.color;return{symbol:function(t,n,o){return o===void 0&&(o=5.5),[["M",t-o,n-4],["L",t+o,n-4],["L",t+o,n+4],["L",t-o,n+4],["Z"]]},style:{r:5,stroke:e,fill:null}}}}),No("area","smooth",{draw:function(a,e){var t=this.coordinate,n=CE(a,!1,!0,this,pI(t)),o=e.addShape({type:"path",attrs:n,name:"area"});return o},getMarker:function(a){var e=a.color;return{symbol:function(t,n,o){return o===void 0&&(o=5.5),[["M",t-o,n-4],["L",t+o,n-4],["L",t+o,n+4],["L",t-o,n+4],["Z"]]},style:{r:5,fill:e}}}}),No("area","smooth-line",{draw:function(a,e){var t=this.coordinate,n=CE(a,!0,!0,this,pI(t)),o=e.addShape({type:"path",attrs:n,name:"area"});return o},getMarker:function(a){var e=a.color;return{symbol:function(t,n,o){return o===void 0&&(o=5.5),[["M",t-o,n-4],["L",t+o,n-4],["L",t+o,n+4],["L",t-o,n+4],["Z"]]},style:{r:5,stroke:e,fill:null}}}});function Kw(a,e){return["C",a.x*1/2+e.x*1/2,a.y,a.x*1/2+e.x*1/2,e.y,e.x,e.y]}function Zw(a,e){var t=[];t.push({x:e.x,y:e.y}),t.push(a);var n=["Q"];return(0,w.each)(t,function(o){n.push(o.x,o.y)}),n}function B7(a,e,t){var n=Zw(e,t),o=[["M",a.x,a.y]];return o.push(n),o}function G7(a,e){var t=Zw(a[1],e),n=Zw(a[3],e),o=[["M",a[0].x,a[0].y]];return o.push(n),o.push(["L",a[3].x,a[3].y]),o.push(["L",a[2].x,a[2].y]),o.push(t),o.push(["L",a[1].x,a[1].y]),o.push(["L",a[0].x,a[0].y]),o.push(["Z"]),o}No("edge","arc",{draw:function(a,e){var t=al(a,!0,!1,"lineWidth"),n=a.points,o=n.length>2?"weight":"normal",u;if(a.isInCircle){var l={x:0,y:1};return o==="normal"?u=B7(n[0],n[1],l):(t.fill=t.stroke,u=G7(n,l)),u=this.parsePath(u),e.addShape("path",{attrs:(0,Z.__assign)((0,Z.__assign)({},t),{path:u})})}else{if(o==="normal")return n=this.parsePoints(n),u=kT((n[1].x+n[0].x)/2,n[0].y,Math.abs(n[1].x-n[0].x)/2,Math.PI,Math.PI*2),e.addShape("path",{attrs:(0,Z.__assign)((0,Z.__assign)({},t),{path:u})});var c=Kw(n[1],n[3]),f=Kw(n[2],n[0]);return u=[["M",n[0].x,n[0].y],["L",n[1].x,n[1].y],c,["L",n[3].x,n[3].y],["L",n[2].x,n[2].y],f,["Z"]],u=this.parsePath(u),t.fill=t.stroke,e.addShape("path",{attrs:(0,Z.__assign)((0,Z.__assign)({},t),{path:u})})}},getMarker:function(a){return{symbol:"circle",style:{r:4.5,fill:a.color}}}});function z7(a,e){var t=Kw(a,e),n=[["M",a.x,a.y]];return n.push(t),n}No("edge","smooth",{draw:function(a,e){var t=al(a,!0,!1,"lineWidth"),n=a.points,o=this.parsePath(z7(n[0],n[1]));return e.addShape("path",{attrs:(0,Z.__assign)((0,Z.__assign)({},t),{path:o})})},getMarker:function(a){return{symbol:"circle",style:{r:4.5,fill:a.color}}}});var TE=1/3;function U7(a,e){var t=[];t.push({x:a.x,y:a.y*(1-TE)+e.y*TE}),t.push({x:e.x,y:a.y*(1-TE)+e.y*TE}),t.push(e);var n=[["M",a.x,a.y]];return(0,w.each)(t,function(o){n.push(["L",o.x,o.y])}),n}No("edge","vhv",{draw:function(a,e){var t=al(a,!0,!1,"lineWidth"),n=a.points,o=this.parsePath(U7(n[0],n[1]));return e.addShape("path",{attrs:(0,Z.__assign)((0,Z.__assign)({},t),{path:o})})},getMarker:function(a){return{symbol:"circle",style:{r:4.5,fill:a.color}}}}),No("interval","funnel",{getPoints:function(a){return a.size=a.size*2,Hw(a)},draw:function(a,e){var t=al(a,!1,!0),n=this.parsePath(mI(a.points,a.nextPoints,!1)),o=e.addShape("path",{attrs:(0,Z.__assign)((0,Z.__assign)({},t),{path:n}),name:"interval"});return o},getMarker:function(a){var e=a.color;return{symbol:"square",style:{r:4,fill:e}}}}),No("interval","hollow-rect",{draw:function(a,e){var t=al(a,!0,!1),n=e,o=a==null?void 0:a.background;if(o){n=e.addGroup();var u=GM(a),l=yI(a,this.parsePoints(a.points),this.coordinate);n.addShape("path",{attrs:(0,Z.__assign)((0,Z.__assign)({},u),{path:l}),zIndex:-1,name:Ew})}var c=this.parsePath(Yw(a.points)),f=n.addShape("path",{attrs:(0,Z.__assign)((0,Z.__assign)({},t),{path:c}),name:"interval"});return o?n:f},getMarker:function(a){var e=a.color,t=a.isInPolar;return t?{symbol:"circle",style:{r:4.5,stroke:e,fill:null}}:{symbol:"square",style:{r:4,stroke:e,fill:null}}}});function j7(a){var e=a.x,t=a.y,n=a.y0;return(0,w.isArray)(t)?t.map(function(o,u){return{x:(0,w.isArray)(e)?e[u]:e,y:o}}):[{x:e,y:n},{x:e,y:t}]}No("interval","line",{getPoints:function(a){return j7(a)},draw:function(a,e){var t=al(a,!0,!1,"lineWidth"),n=Hd((0,Z.__assign)({},t),["fill"]),o=this.parsePath(Yw(a.points,!1)),u=e.addShape("path",{attrs:(0,Z.__assign)((0,Z.__assign)({},n),{path:o}),name:"interval"});return u},getMarker:function(a){var e=a.color;return{symbol:function(t,n,o){return[["M",t,n-o],["L",t,n+o]]},style:{r:5,stroke:e}}}}),No("interval","pyramid",{getPoints:function(a){return a.size=a.size*2,Hw(a)},draw:function(a,e){var t=al(a,!1,!0),n=this.parsePath(mI(a.points,a.nextPoints,!0)),o=e.addShape("path",{attrs:(0,Z.__assign)((0,Z.__assign)({},t),{path:n}),name:"interval"});return o},getMarker:function(a){var e=a.color;return{symbol:"square",style:{r:4,fill:e}}}});function W7(a){var e=a.x,t=a.y,n=a.y0,o=a.size,u,l;(0,w.isArray)(t)?(u=t[0],l=t[1]):(u=n,l=t);var c=e+o/2,f=e-o/2;return[{x:e,y:u},{x:e,y:l},{x:f,y:u},{x:c,y:u},{x:f,y:l},{x:c,y:l}]}function V7(a){return[["M",a[0].x,a[0].y],["L",a[1].x,a[1].y],["M",a[2].x,a[2].y],["L",a[3].x,a[3].y],["M",a[4].x,a[4].y],["L",a[5].x,a[5].y]]}No("interval","tick",{getPoints:function(a){return W7(a)},draw:function(a,e){var t=al(a,!0,!1),n=this.parsePath(V7(a.points)),o=e.addShape("path",{attrs:(0,Z.__assign)((0,Z.__assign)({},t),{path:n}),name:"interval"});return o},getMarker:function(a){var e=a.color;return{symbol:function(t,n,o){return[["M",t-o/2,n-o],["L",t+o/2,n-o],["M",t,n-o],["L",t,n+o],["M",t-o/2,n+o],["L",t+o/2,n+o]]},style:{r:5,stroke:e}}}});var H7=function(a,e,t){var n=a.x,o=a.y,u=e.x,l=e.y,c;switch(t){case"hv":c=[{x:u,y:o}];break;case"vh":c=[{x:n,y:l}];break;case"hvh":var f=(u+n)/2;c=[{x:f,y:o},{x:f,y:l}];break;case"vhv":var h=(o+l)/2;c=[{x:n,y:h},{x:u,y:h}];break;default:break}return c};function Y7(a,e){var t=[];return(0,w.each)(a,function(n,o){var u=a[o+1];if(t.push(n),u){var l=H7(n,u,e);t=t.concat(l)}}),t}function X7(a){return a.map(function(e,t){return t===0?["M",e.x,e.y]:["L",e.x,e.y]})}function $7(a,e){var t=yE(a.points,a.connectNulls,a.showSinglePoint),n=[];return(0,w.each)(t,function(o){var u=Y7(o,e);n=n.concat(X7(u))}),(0,Z.__assign)((0,Z.__assign)({},al(a,!0,!1,"lineWidth")),{path:n})}(0,w.each)(["hv","vh","hvh","vhv"],function(a){No("line",a,{draw:function(e,t){var n=$7(e,a),o=t.addShape({type:"path",attrs:n,name:"line"});return o},getMarker:function(e){return zM(e,a)}})}),(0,w.each)(T7,function(a){No("point",a,{draw:function(e,t){return $w(this,e,t,a,!0)},getMarker:function(e){var t=e.color;return{symbol:Z0[a],style:{r:4.5,stroke:t,fill:null}}}})}),No("point","image",{draw:function(a,e){var t=al(a,!1,!1,"r").r,n=this.parsePoints(a.points),o=n[0];if(a.isStack)o=n[1];else if(n.length>1){for(var u=e.addGroup(),l=0,c=n;l<c.length;l++){var f=c[l];u.addShape("image",{attrs:{x:f.x-t/2,y:f.y-t,width:t,height:t,img:a.shape[1]}})}return u}return e.addShape("image",{attrs:{x:o.x-t/2,y:o.y-t,width:t,height:t,img:a.shape[1]}})},getMarker:function(a){var e=a.color;return{symbol:"circle",style:{r:4.5,fill:e}}}}),(0,w.each)(xI,function(a){No("point",a,{draw:function(e,t){return $w(this,e,t,a,!1)},getMarker:function(e){var t=e.color;return{symbol:Z0[a]||a,style:{r:4.5,fill:t}}}})});function bI(a){var e=(0,w.isArray)(a)?a:[a],t=e[0],n=e[e.length-1],o=e.length>1?e[1]:t,u=e.length>3?e[3]:n,l=e.length>2?e[2]:o;return{min:t,max:n,min1:o,max1:u,median:l}}function EI(a,e,t){var n=t/2,o;if((0,w.isArray)(e)){var u=bI(e),l=u.min,c=u.max,f=u.median,h=u.min1,v=u.max1,p=a-n,g=a+n;o=[[p,c],[g,c],[a,c],[a,v],[p,h],[p,v],[g,v],[g,h],[a,h],[a,l],[p,l],[g,l],[p,f],[g,f]]}else{e=(0,w.isNil)(e)?.5:e;var E=bI(a),l=E.min,c=E.max,f=E.median,h=E.min1,v=E.max1,D=e-n,G=e+n;o=[[l,D],[l,G],[l,e],[h,e],[h,D],[h,G],[v,G],[v,D],[v,e],[c,e],[c,D],[c,G],[f,D],[f,G]]}return o.map(function(H){return{x:H[0],y:H[1]}})}function K7(a){return[["M",a[0].x,a[0].y],["L",a[1].x,a[1].y],["M",a[2].x,a[2].y],["L",a[3].x,a[3].y],["M",a[4].x,a[4].y],["L",a[5].x,a[5].y],["L",a[6].x,a[6].y],["L",a[7].x,a[7].y],["L",a[4].x,a[4].y],["Z"],["M",a[8].x,a[8].y],["L",a[9].x,a[9].y],["M",a[10].x,a[10].y],["L",a[11].x,a[11].y],["M",a[12].x,a[12].y],["L",a[13].x,a[13].y]]}No("schema","box",{getPoints:function(a){var e=a.x,t=a.y,n=a.size;return EI(e,t,n)},draw:function(a,e){var t=al(a,!0,!1),n=this.parsePath(K7(a.points)),o=e.addShape("path",{attrs:(0,Z.__assign)((0,Z.__assign)({},t),{path:n,name:"schema"})});return o},getMarker:function(a){var e=a.color;return{symbol:function(t,n,o){var u=[n-6,n-3,n,n+3,n+6],l=EI(t,u,o);return[["M",l[0].x+1,l[0].y],["L",l[1].x-1,l[1].y],["M",l[2].x,l[2].y],["L",l[3].x,l[3].y],["M",l[4].x,l[4].y],["L",l[5].x,l[5].y],["L",l[6].x,l[6].y],["L",l[7].x,l[7].y],["L",l[4].x,l[4].y],["Z"],["M",l[8].x,l[8].y],["L",l[9].x,l[9].y],["M",l[10].x+1,l[10].y],["L",l[11].x-1,l[11].y],["M",l[12].x,l[12].y],["L",l[13].x,l[13].y]]},style:{r:6,lineWidth:1,stroke:e}}}});function Z7(a){var e=(0,w.isArray)(a)?a:[a],t=e.sort(function(n,o){return o-n});return B4(t,4,t[t.length-1])}function SI(a,e,t){var n=Z7(e);return[{x:a,y:n[0]},{x:a,y:n[1]},{x:a-t/2,y:n[2]},{x:a-t/2,y:n[1]},{x:a+t/2,y:n[1]},{x:a+t/2,y:n[2]},{x:a,y:n[2]},{x:a,y:n[3]}]}function Q7(a){return[["M",a[0].x,a[0].y],["L",a[1].x,a[1].y],["M",a[2].x,a[2].y],["L",a[3].x,a[3].y],["L",a[4].x,a[4].y],["L",a[5].x,a[5].y],["Z"],["M",a[6].x,a[6].y],["L",a[7].x,a[7].y]]}No("schema","candle",{getPoints:function(a){var e=a.x,t=a.y,n=a.size;return SI(e,t,n)},draw:function(a,e){var t=al(a,!0,!0),n=this.parsePath(Q7(a.points)),o=e.addShape("path",{attrs:(0,Z.__assign)((0,Z.__assign)({},t),{path:n,name:"schema"})});return o},getMarker:function(a){var e=a.color;return{symbol:function(t,n,o){var u=[n+7.5,n+3,n-3,n-7.5],l=SI(t,u,o);return[["M",l[0].x,l[0].y],["L",l[1].x,l[1].y],["M",l[2].x,l[2].y],["L",l[3].x,l[3].y],["L",l[4].x,l[4].y],["L",l[5].x,l[5].y],["Z"],["M",l[6].x,l[6].y],["L",l[7].x,l[7].y]]},style:{lineWidth:1,stroke:e,fill:e,r:6}}}});function J7(a,e){var t=Math.abs(a[0].x-a[2].x),n=Math.abs(a[0].y-a[2].y),o=Math.min(t,n);e&&(o=(0,w.clamp)(e,0,Math.min(t,n))),o=o/2;var u=(a[0].x+a[2].x)/2,l=(a[0].y+a[2].y)/2;return{x:u-o,y:l-o,width:o*2,height:o*2}}No("polygon","square",{draw:function(a,e){if(!(0,w.isEmpty)(a.points)){var t=al(a,!0,!0),n=this.parsePoints(a.points);return e.addShape("rect",{attrs:(0,Z.__assign)((0,Z.__assign)({},t),J7(n,a.size)),name:"polygon"})}},getMarker:function(a){var e=a.color;return{symbol:"square",style:{r:4,fill:e}}}}),No("violin","smooth",{draw:function(a,e){var t=al(a,!0,!0),n=this.parsePath(BM(a.points));return e.addShape("path",{attrs:(0,Z.__assign)((0,Z.__assign)({},t),{path:n})})},getMarker:function(a){var e=a.color;return{symbol:"circle",style:{stroke:null,r:4,fill:e}}}}),No("violin","hollow",{draw:function(a,e){var t=al(a,!0,!1),n=this.parsePath(kM(a.points));return e.addShape("path",{attrs:(0,Z.__assign)((0,Z.__assign)({},t),{path:n})})},getMarker:function(a){var e=a.color;return{symbol:"circle",style:{r:4,fill:null,stroke:e}}}}),No("violin","hollow-smooth",{draw:function(a,e){var t=al(a,!0,!1),n=this.parsePath(BM(a.points));return e.addShape("path",{attrs:(0,Z.__assign)((0,Z.__assign)({},t),{path:n})})},getMarker:function(a){var e=a.color;return{symbol:"circle",style:{r:4,fill:null,stroke:e}}}});var q7=function(a){(0,Z.__extends)(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.getLabelValueDir=function(t){var n="y",o=t.points;return o[0][n]<=o[2][n]?1:-1},e.prototype.getLabelOffsetPoint=function(t,n,o,u){var l,c=a.prototype.getLabelOffsetPoint.call(this,t,n,o),f=this.getCoordinate(),h=f.isTransposed,v=h?"x":"y",p=this.getLabelValueDir(t.mappingData);return c=(0,Z.__assign)((0,Z.__assign)({},c),(l={},l[v]=c[v]*p,l)),f.isReflect("x")&&(c=(0,Z.__assign)((0,Z.__assign)({},c),{x:c.x*-1})),f.isReflect("y")&&(c=(0,Z.__assign)((0,Z.__assign)({},c),{y:c.y*-1})),c},e.prototype.getThemedLabelCfg=function(t){var n=this.geometry,o=this.getDefaultLabelCfg(),u=n.theme;return(0,w.deepMix)({},o,u.labels,t.position==="middle"?{offset:0}:{},t)},e.prototype.setLabelPosition=function(t,n,o,u){var l=this.getCoordinate(),c=l.isTransposed,f=n.points,h=l.convert(f[0]),v=l.convert(f[2]),p=this.getLabelValueDir(n),g,E,D,G,H=(0,w.isArray)(n.shape)?n.shape[0]:n.shape;if(H==="funnel"||H==="pyramid"){var X=(0,w.get)(n,"nextPoints"),rt=(0,w.get)(n,"points");if(X){var ht=l.convert(rt[0]),mt=l.convert(rt[1]),Dt=l.convert(X[0]),kt=l.convert(X[1]);c?(g=Math.min(Dt.y,ht.y),D=Math.max(Dt.y,ht.y),E=(mt.x+kt.x)/2,G=(ht.x+Dt.x)/2):(g=Math.min((mt.y+kt.y)/2,(ht.y+Dt.y)/2),D=Math.max((mt.y+kt.y)/2,(ht.y+Dt.y)/2),E=kt.x,G=ht.x)}else g=Math.min(v.y,h.y),D=Math.max(v.y,h.y),E=v.x,G=h.x}else g=Math.min(v.y,h.y),D=Math.max(v.y,h.y),E=v.x,G=h.x;switch(u){case"right":t.x=E,t.y=(g+D)/2,t.textAlign=(0,w.get)(t,"textAlign",p>0?"left":"right");break;case"left":t.x=G,t.y=(g+D)/2,t.textAlign=(0,w.get)(t,"textAlign",p>0?"left":"right");break;case"bottom":c&&(t.x=(E+G)/2),t.y=D,t.textAlign=(0,w.get)(t,"textAlign","center"),t.textBaseline=(0,w.get)(t,"textBaseline",p>0?"bottom":"top");break;case"middle":c&&(t.x=(E+G)/2),t.y=(g+D)/2,t.textAlign=(0,w.get)(t,"textAlign","center"),t.textBaseline=(0,w.get)(t,"textBaseline","middle");break;case"top":c&&(t.x=(E+G)/2),t.y=g,t.textAlign=(0,w.get)(t,"textAlign","center"),t.textBaseline=(0,w.get)(t,"textBaseline",p>0?"bottom":"top");break;default:break}},e}(Bx),t9=q7,ME=Math.PI/2,e9=function(a){(0,Z.__extends)(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.getLabelOffset=function(t){var n=this.getCoordinate(),o=0;if((0,w.isNumber)(t))o=t;else if((0,w.isString)(t)&&t.indexOf("%")!==-1){var u=n.getRadius();n.innerRadius>0&&(u=u*(1-n.innerRadius)),o=parseFloat(t)*.01*u}return o},e.prototype.getLabelItems=function(t){var n=a.prototype.getLabelItems.call(this,t),o=this.geometry.getYScale();return(0,w.map)(n,function(u){if(u&&o){var l=o.scale((0,w.get)(u.data,o.field));return(0,Z.__assign)((0,Z.__assign)({},u),{percent:l})}return u})},e.prototype.getLabelAlign=function(t){var n=this.getCoordinate(),o;if(t.labelEmit)o=t.angle<=Math.PI/2&&t.angle>=-Math.PI/2?"left":"right";else if(!n.isTransposed)o="center";else{var u=n.getCenter(),l=t.offset;Math.abs(t.x-u.x)<1?o="center":t.angle>Math.PI||t.angle<=0?o=l>0?"left":"right":o=l>0?"right":"left"}return o},e.prototype.getLabelPoint=function(t,n,o){var u=1,l,c=t.content[o];this.isToMiddle(n)?l=this.getMiddlePoint(n.points):(t.content.length===1&&o===0?o=1:o===0&&(u=-1),l=this.getArcPoint(n,o));var f=t.offset*u,h=this.getPointAngle(l),v=t.labelEmit,p=this.getCirclePoint(h,f,l,v);return p.r===0?p.content="":(p.content=c,p.angle=h,p.color=n.color),p.rotate=t.autoRotate?this.getLabelRotate(h,f,v):t.rotate,p.start={x:l.x,y:l.y},p},e.prototype.getArcPoint=function(t,n){return n===void 0&&(n=0),!(0,w.isArray)(t.x)&&!(0,w.isArray)(t.y)?{x:t.x,y:t.y}:{x:(0,w.isArray)(t.x)?t.x[n]:t.x,y:(0,w.isArray)(t.y)?t.y[n]:t.y}},e.prototype.getPointAngle=function(t){return Mm(this.getCoordinate(),t)},e.prototype.getCirclePoint=function(t,n,o,u){var l=this.getCoordinate(),c=l.getCenter(),f=sE(l,o);if(f===0)return(0,Z.__assign)((0,Z.__assign)({},c),{r:f});var h=t;if(l.isTransposed&&f>n&&!u){var v=Math.asin(n/(2*f));h=t+v*2}else f=f+n;return{x:c.x+f*Math.cos(h),y:c.y+f*Math.sin(h),r:f}},e.prototype.getLabelRotate=function(t,n,o){var u=t+ME;return o&&(u-=ME),u&&(u>ME?u=u-Math.PI:u<-ME&&(u=u+Math.PI)),u},e.prototype.getMiddlePoint=function(t){var n=this.getCoordinate(),o=t.length,u={x:0,y:0};return(0,w.each)(t,function(l){u.x+=l.x,u.y+=l.y}),u.x/=o,u.y/=o,u=n.convert(u),u},e.prototype.isToMiddle=function(t){return t.x.length>2},e}(Bx),wI=e9,r9=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.defaultLayout="distribute",t}return e.prototype.getDefaultLabelCfg=function(t,n){var o=a.prototype.getDefaultLabelCfg.call(this,t,n);return(0,w.deepMix)({},o,(0,w.get)(this.geometry.theme,"pieLabels",{}))},e.prototype.getLabelOffset=function(t){return a.prototype.getLabelOffset.call(this,t)||0},e.prototype.getLabelRotate=function(t,n,o){var u;return n<0&&(u=t,u>Math.PI/2&&(u=u-Math.PI),u<-Math.PI/2&&(u=u+Math.PI)),u},e.prototype.getLabelAlign=function(t){var n=this.getCoordinate(),o=n.getCenter(),u;return t.angle<=Math.PI/2&&t.x>=o.x?u="left":u="right",t.offset<=0&&(u==="right"?u="left":u="right"),u},e.prototype.getArcPoint=function(t){return t},e.prototype.getPointAngle=function(t){var n=this.getCoordinate(),o={x:(0,w.isArray)(t.x)?t.x[0]:t.x,y:t.y[0]},u={x:(0,w.isArray)(t.x)?t.x[1]:t.x,y:t.y[1]},l,c=Mm(n,o);if(t.points&&t.points[0].y===t.points[1].y)l=c;else{var f=Mm(n,u);c>=f&&(f=f+Math.PI*2),l=c+(f-c)/2}return l},e.prototype.getCirclePoint=function(t,n){var o=this.getCoordinate(),u=o.getCenter(),l=o.getRadius()+n;return(0,Z.__assign)((0,Z.__assign)({},_l(u.x,u.y,l,t)),{angle:t,r:l})},e}(wI),n9=r9,_I=4;function i9(a,e,t,n,o,u){var l=!0,c=n.start,f=n.end,h=Math.min(c.y,f.y),v=Math.abs(c.y-f.y),p,g=0,E=Number.MIN_VALUE,D=e.map(function(Dt){return Dt.y>g&&(g=Dt.y),Dt.y<E&&(E=Dt.y),{size:t,targets:[Dt.y-h]}});for(E-=h,g-h>v&&(v=g-h);l;)for(D.forEach(function(Dt){var kt=(Math.min.apply(E,Dt.targets)+Math.max.apply(E,Dt.targets))/2;Dt.pos=Math.min(Math.max(E,kt-Dt.size/2),v-Dt.size)}),l=!1,p=D.length;p--;)if(p>0){var G=D[p-1],H=D[p];G.pos+G.size>H.pos&&(G.size+=H.size,G.targets=G.targets.concat(H.targets),G.pos+G.size>v&&(G.pos=v-G.size),D.splice(p,1),l=!0)}p=0,D.forEach(function(Dt){var kt=h+t/2;Dt.targets.forEach(function(){e[p].y=Dt.pos+kt,kt+=t,p++})});for(var X={},rt=0,ht=a;rt<ht.length;rt++){var mt=ht[rt];X[mt.get("id")]=mt}e.forEach(function(Dt){var kt=Dt.r*Dt.r,Vt=Math.pow(Math.abs(Dt.y-o.y),2);if(kt<Vt)Dt.x=o.x;else{var te=Math.sqrt(kt-Vt);u?Dt.x=o.x+te:Dt.x=o.x-te}var le=X[Dt.id];le.attr("x",Dt.x),le.attr("y",Dt.y);var pe=(0,w.find)(le.getChildren(),function(De){return De.get("type")==="text"});pe&&(pe.attr("y",Dt.y),pe.attr("x",Dt.x))})}function a9(a,e,t,n){if(!(!a.length||!e.length)){var o=a[0]?a[0].offset:0,u=e[0].get("coordinate"),l=u.getRadius(),c=u.getCenter();if(o>0){var f=14,h=l+o,v=h*2+f*2,p={start:u.start,end:u.end},g=[[],[]];a.forEach(function(E){!E||(E.textAlign==="right"?g[0].push(E):g[1].push(E))}),g.forEach(function(E,D){var G=v/f;E.length>G&&(E.sort(function(H,X){return X["..percent"]-H["..percent"]}),E.splice(G,E.length-G)),E.sort(function(H,X){return H.y-X.y}),i9(e,E,f,p,c,D)})}(0,w.each)(a,function(E){if(E&&E.labelLine){var D=E.offset,G=E.angle,H=_l(c.x,c.y,l,G),X=_l(c.x,c.y,l+D/2,G),rt=E.x+(0,w.get)(E,"offsetX",0),ht=E.y+(0,w.get)(E,"offsetY",0),mt={x:rt-Math.cos(G)*_I,y:ht-Math.sin(G)*_I};(0,w.isObject)(E.labelLine)||(E.labelLine={}),E.labelLine.path=["M ".concat(H.x),"".concat(H.y," Q").concat(X.x),"".concat(X.y," ").concat(mt.x),mt.y].join(",")}})}}function AI(a,e,t){var n=a.filter(function(D){return!D.invisible});n.sort(function(D,G){return D.y-G.y});var o=!0,u=t.minY,l=t.maxY,c=Math.abs(u-l),f,h=0,v=Number.MIN_VALUE,p=n.map(function(D){return D.y>h&&(h=D.y),D.y<v&&(v=D.y),{content:D.content,size:e,targets:[D.y-u],pos:null}});for(v-=u,h-u>c&&(c=h-u);o;)for(p.forEach(function(D){var G=(Math.min.apply(v,D.targets)+Math.max.apply(v,D.targets))/2;D.pos=Math.min(Math.max(v,G-D.size/2),c-D.size),D.pos=Math.max(0,D.pos)}),o=!1,f=p.length;f--;)if(f>0){var g=p[f-1],E=p[f];g.pos+g.size>E.pos&&(g.size+=E.size,g.targets=g.targets.concat(E.targets),g.pos+g.size>c&&(g.pos=c-g.size),p.splice(f,1),o=!0)}f=0,p.forEach(function(D){var G=u+e/2;D.targets.forEach(function(){n[f].y=D.pos+G,G+=e,f++})})}var CI=4;function o9(a,e){var t=e.getCenter(),n=e.getRadius();if(a&&a.labelLine){var o=a.angle,u=a.offset,l=_l(t.x,t.y,n,o),c=a.x+(0,w.get)(a,"offsetX",0)*(Math.cos(o)>0?1:-1),f=a.y+(0,w.get)(a,"offsetY",0)*(Math.sin(o)>0?1:-1),h={x:c-Math.cos(o)*CI,y:f-Math.sin(o)*CI},v=a.labelLine.smooth,p=[],g=h.x-t.x,E=h.y-t.y,D=Math.atan(E/g);if(g<0&&(D+=Math.PI),v===!1){(0,w.isObject)(a.labelLine)||(a.labelLine={});var G=0;(o<0&&o>-Math.PI/2||o>Math.PI*1.5)&&h.y>l.y&&(G=1),o>=0&&o<Math.PI/2&&h.y>l.y&&(G=1),o>=Math.PI/2&&o<Math.PI&&l.y>h.y&&(G=1),(o<-Math.PI/2||o>=Math.PI&&o<Math.PI*1.5)&&l.y>h.y&&(G=1);var H=u/2>4?4:Math.max(u/2-1,0),X=_l(t.x,t.y,n+H,o),rt=_l(t.x,t.y,n+u/2,D),ht=0;p.push("M ".concat(l.x," ").concat(l.y)),p.push("L ".concat(X.x," ").concat(X.y)),p.push("A ".concat(t.x," ").concat(t.y," 0 ").concat(ht," ").concat(G," ").concat(rt.x," ").concat(rt.y)),p.push("L ".concat(h.x," ").concat(h.y))}else{var X=_l(t.x,t.y,n+(u/2>4?4:Math.max(u/2-1,0)),o),mt=l.x<t.x?1:-1;p.push("M ".concat(h.x," ").concat(h.y));var Dt=(l.y-t.y)/(l.x-t.x),kt=(h.y-t.y)/(h.x-t.x);Math.abs(Dt-kt)>Math.pow(Math.E,-16)&&p.push.apply(p,["C",h.x+mt*4,h.y,2*X.x-l.x,2*X.y-l.y,l.x,l.y]),p.push("L ".concat(l.x," ").concat(l.y))}a.labelLine.path=p.join(" ")}}function s9(a,e,t,n){var o=(0,w.filter)(a,function(kt){return!(0,w.isNil)(kt)}),u=e[0]&&e[0].get("coordinate");if(!!u){for(var l=u.getCenter(),c=u.getRadius(),f={},h=0,v=e;h<v.length;h++){var p=v[h];f[p.get("id")]=p}var g=(0,w.get)(o[0],"labelHeight",14),E=(0,w.get)(o[0],"offset",0);if(!(E<=0)){var D="left",G="right",H=(0,w.groupBy)(o,function(kt){return kt.x<l.x?D:G}),X=u.start,rt=u.end,ht=Math.min((c+E+g)*2,u.getHeight()),mt=ht/2,Dt={minX:X.x,maxX:rt.x,minY:l.y-mt,maxY:l.y+mt};(0,w.each)(H,function(kt,Vt){var te=Math.floor(ht/g);kt.length>te&&(kt.sort(function(le,pe){return pe.percent-le.percent}),(0,w.each)(kt,function(le,pe){pe+1>te&&(f[le.id].set("visible",!1),le.invisible=!0)})),AI(kt,g,Dt)}),(0,w.each)(H,function(kt,Vt){(0,w.each)(kt,function(te){var le=Vt===G,pe=f[te.id],De=pe.getChildByIndex(0);if(De){var Xe=c+E,pr=te.y-l.y,yr=Math.pow(Xe,2),Vr=Math.pow(pr,2),nr=yr-Vr>0?yr-Vr:0,Gr=Math.sqrt(nr),en=Math.abs(Math.cos(te.angle)*Xe);le?te.x=l.x+Math.max(Gr,en):te.x=l.x-Math.max(Gr,en)}De&&(De.attr("y",te.y),De.attr("x",te.x)),o9(te,u)})})}}}var Qw=4,u9=4,TI=4;function l9(a,e,t){var n=e.getCenter(),o=e.getRadius(),u={x:a.x-(t?TI:-TI),y:a.y},l=_l(n.x,n.y,o+Qw,a.angle),c={x:u.x,y:u.y},f={x:l.x,y:l.y},h=_l(n.x,n.y,o,a.angle),v="";if(u.y!==l.y){var p=t?4:-4;c.y=u.y,a.angle<0&&a.angle>=-Math.PI/2&&(c.x=Math.max(l.x,u.x-p),u.y<l.y?f.y=c.y:(f.y=l.y,f.x=Math.max(f.x,c.x-p))),a.angle>0&&a.angle<Math.PI/2&&(c.x=Math.max(l.x,u.x-p),u.y>l.y?f.y=c.y:(f.y=l.y,f.x=Math.max(f.x,c.x-p))),a.angle>Math.PI/2&&(c.x=Math.min(l.x,u.x-p),u.y>l.y?f.y=c.y:(f.y=l.y,f.x=Math.min(f.x,c.x-p))),a.angle<-Math.PI/2&&(c.x=Math.min(l.x,u.x-p),u.y<l.y?f.y=c.y:(f.y=l.y,f.x=Math.min(f.x,c.x-p)))}v=["M ".concat(u.x,",").concat(u.y),"L ".concat(c.x,",").concat(c.y),"L ".concat(f.x,",").concat(f.y),"L ".concat(l.x,",").concat(l.y),"L ".concat(h.x,",").concat(h.y)].join(" "),a.labelLine=(0,w.deepMix)({},a.labelLine,{path:v})}function c9(a,e,t,n){var o=e[0]&&e[0].get("coordinate");if(!!o){for(var u=o.getCenter(),l=o.getRadius(),c={},f=0,h=e;f<h.length;f++){var v=h[f];c[v.get("id")]=v}var p=(0,w.get)(a[0],"labelHeight",14),g=Math.max((0,w.get)(a[0],"offset",0),Qw);(0,w.each)(a,function(kt){var Vt=(0,w.get)(c,[kt.id]);if(!!Vt){var te=kt.x>u.x||kt.x===u.x&&kt.y>u.y,le=(0,w.isNil)(kt.offsetX)?u9:kt.offsetX,pe=_l(u.x,u.y,l+Qw,kt.angle),De=g+le;kt.x=u.x+(te?1:-1)*(l+De),kt.y=pe.y}});var E=o.start,D=o.end,G="left",H="right",X=(0,w.groupBy)(a,function(kt){return kt.x<u.x?G:H}),rt=(l+g)*2+p;(0,w.each)(X,function(kt){var Vt=kt.length*p;Vt>rt&&(rt=Math.min(Vt,Math.abs(E.y-D.y)))});var ht={minX:E.x,maxX:D.x,minY:u.y-rt/2,maxY:u.y+rt/2};(0,w.each)(X,function(kt,Vt){var te=rt/p;kt.length>te&&(kt.sort(function(le,pe){return pe.percent-le.percent}),(0,w.each)(kt,function(le,pe){pe>te&&(c[le.id].set("visible",!1),le.invisible=!0)})),AI(kt,p,ht)});var mt=ht.minY,Dt=ht.maxY;(0,w.each)(X,function(kt,Vt){var te=Vt===H;(0,w.each)(kt,function(le){var pe=(0,w.get)(c,le&&[le.id]);if(!!pe){if(le.y<mt||le.y>Dt){pe.set("visible",!1);return}var De=pe.getChildByIndex(0),Xe=De.getCanvasBBox(),pr={x:te?Xe.x:Xe.maxX,y:Xe.y+Xe.height/2};kx(De,le.x-pr.x,le.y-pr.y),le.labelLine&&l9(le,o,te)}})})}}function f9(a,e,t,n){(0,w.each)(e,function(o){var u=n.minX,l=n.minY,c=n.maxX,f=n.maxY,h=o.getCanvasBBox(),v=h.minX,p=h.minY,g=h.maxX,E=h.maxY,D=h.x,G=h.y,H=h.width,X=h.height,rt=D,ht=G;(v<u||g<u)&&(rt=u),(p<l||E<l)&&(ht=l),v>c?rt=c-H:g>c&&(rt=rt-(g-c)),p>f?ht=f-X:E>f&&(ht=ht-(E-f)),(rt!==D||ht!==G)&&kx(o,rt-D,ht-G)})}function h9(a,e,t,n){(0,w.each)(e,function(o,u){var l=o.getCanvasBBox(),c=t[u].getBBox();(l.minX<c.minX||l.minY<c.minY||l.maxX>c.maxX||l.maxY>c.maxY)&&o.remove(!0)})}var d9=100,MI=function(){function a(e){e===void 0&&(e={}),this.bitmap={};var t=e.xGap,n=t===void 0?1:t,o=e.yGap,u=o===void 0?8:o;this.xGap=n,this.yGap=u}return a.prototype.hasGap=function(e){for(var t=!0,n=this.bitmap,o=Math.round(e.minX),u=Math.round(e.maxX),l=Math.round(e.minY),c=Math.round(e.maxY),f=o;f<=u;f+=1){if(!n[f]){n[f]={};continue}if(f===o||f===u){for(var h=l;h<=c;h++)if(n[f][h]){t=!1;break}}else if(n[f][l]||n[f][c]){t=!1;break}}return t},a.prototype.fillGap=function(e){for(var t=this.bitmap,n=Math.round(e.minX),o=Math.round(e.maxX),u=Math.round(e.minY),l=Math.round(e.maxY),c=n;c<=o;c+=1)t[c]||(t[c]={});for(var c=n;c<=o;c+=this.xGap){for(var f=u;f<=l;f+=this.yGap)t[c][f]=!0;t[c][l]=!0}if(this.yGap!==1)for(var c=u;c<=l;c+=1)t[n][c]=!0,t[o][c]=!0;if(this.xGap!==1)for(var c=n;c<=o;c+=1)t[c][u]=!0,t[c][l]=!0},a.prototype.destroy=function(){this.bitmap={}},a}();function v9(a,e,t){t===void 0&&(t=d9);var n=-1,o=a.attr(),u=o.x,l=o.y,c=a.getCanvasBBox(),f=Math.sqrt(c.width*c.width+c.height*c.height),h,v=-n,p=0,g=0,E=function(X){var rt=X*.1;return[rt*Math.cos(rt),rt*Math.sin(rt)]};if(e.hasGap(c))return e.fillGap(c),!0;for(var D=!1,G=0,H={};Math.min(Math.abs(p),Math.abs(g))<f&&G<t;)if(h=E(v+=n),p=~~h[0],g=~~h[1],!(!p&&!g||H["".concat(p,"-").concat(g)])&&(a.attr({x:u+p,y:l+g}),p+g<0&&a.attr("textAlign","right"),G++,e.hasGap(a.getCanvasBBox()))){e.fillGap(a.getCanvasBBox()),D=!0,H["".concat(p,"-").concat(g)]=!0;break}return D}function p9(a,e,t,n){var o=a.getCanvasBBox(),u=o.width,l=o.height,c={x:e,y:t,textAlign:"center"};switch(n){case 0:c.y-=l+1,c.x+=1,c.textAlign="left";break;case 1:c.y-=l+1,c.x-=1,c.textAlign="right";break;case 2:c.y+=l+1,c.x-=1,c.textAlign="right";break;case 3:c.y+=l+1,c.x+=1,c.textAlign="left";break;case 5:c.y-=l*2+2;break;case 6:c.y+=l*2+2;break;case 7:c.x+=u+1,c.textAlign="left";break;case 8:c.x-=u+1,c.textAlign="right";break;default:break}return a.attr(c),a.getCanvasBBox()}function g9(a,e,t,n){var o=new MI;(0,w.each)(e,function(u){var l=u.find(function(c){return c.get("type")==="text"});v9(l,o)||u.remove(!0)}),o.destroy()}function y9(a,e,t,n){var o=new MI;(0,w.each)(e,function(u){for(var l=u.find(function(E){return E.get("type")==="text"}),c=l.attr(),f=c.x,h=c.y,v=!1,p=0;p<=8;p++){var g=p9(l,f,h,p);if(o.hasGap(g)){o.fillGap(g),v=!0;break}}v||u.remove(!0)}),o.destroy()}var m9=ud;function II(a){if(a.length>4)return[];var e=function(o,u){return[u.x-o.x,u.y-o.y]},t=e(a[0],a[1]),n=e(a[1],a[2]);return[t,n]}function IE(a,e,t){e===void 0&&(e=0),t===void 0&&(t={x:0,y:0});var n=a.x,o=a.y;return{x:(n-t.x)*Math.cos(-e)+(o-t.y)*Math.sin(-e)+t.x,y:(t.x-n)*Math.sin(-e)+(o-t.y)*Math.cos(-e)+t.y}}function OI(a){var e=[{x:a.x,y:a.y},{x:a.x+a.width,y:a.y},{x:a.x+a.width,y:a.y+a.height},{x:a.x,y:a.y+a.height}],t=a.rotation;return t?[IE(e[0],t,e[0]),IE(e[1],t,e[0]),IE(e[2],t,e[0]),IE(e[3],t,e[0])]:e}function DI(a,e){if(a.length>4)return{min:0,max:0};var t=[];return a.forEach(function(n){t.push(m9([n.x,n.y],e))}),{min:Math.min.apply(Math,t),max:Math.max.apply(Math,t)}}function x9(a,e){return a.max>e.min&&a.min<e.max}function b9(a){return(0,w.isNumber)(a)&&!Number.isNaN(a)&&a!==1/0&&a!==-1/0}function PI(a){return Object.values(a).every(b9)}function E9(a,e,t){return t===void 0&&(t=0),!(e.x>a.x+a.width+t||e.x+e.width<a.x-t||e.y>a.y+a.height+t||e.y+e.height<a.y-t)}function S9(a,e){if(!PI(a)||!PI(e))return!1;if(!a.rotation&&!e.rotation)return E9(a,e);for(var t=OI(a),n=OI(e),o=(0,Z.__spreadArray)((0,Z.__spreadArray)([],II(t),!0),II(n),!0),u=0;u<o.length;u++){var l=o[u],c=DI(t,l),f=DI(n,l);if(!x9(c,f))return!1}return!0}function w9(a,e,t,n){for(var o=0;o<e.length;o++){var u=e[o];if(e[o].get("visible"))for(var l=o+1;l<e.length;l++){var c=e[l];if(u&&c&&u!==c&&c.get("visible")){var f=Cw(u,a[o],(0,w.get)(a[o],"background.padding")),h=Cw(c,a[l],(0,w.get)(a[l],"background.padding"));S9(f,h)&&e[l].set("visible",!1)}}}}var LI={"#5B8FF9":!0},_9=function(a){var e=hv.toRGB(a).toUpperCase();if(LI[e])return LI[e];var t=hv.rgb2arr(e),n=t[0],o=t[1],u=t[2],l=(n*299+o*587+u*114)/1e3<128;return l};function A9(a,e,t){if(t.length!==0){var n=t[0].get("element"),o=n.geometry.theme,u=o.labels||{},l=u.fillColorLight,c=u.fillColorDark;t.forEach(function(f,h){var v=e[h],p=v.find(function(X){return X.get("type")==="text"}),g=kh.fromObject(f.getBBox()),E=kh.fromObject(p.getCanvasBBox()),D=!g.contains(E),G=f.attr("fill"),H=_9(G);D?p.attr(o.overflowLabels.style):H?l&&p.attr("fill",l):c&&p.attr("fill",c)})}}function C9(a,e,t){var n=a.coordinate,o=t0(e),u=kh.fromObject(o.getCanvasBBox()),l=kh.fromObject(t.getBBox());return n.isTransposed?l.height>=u.height:l.width>=u.width}function T9(a,e,t){var n=!!a.getAdjust("stack");return n||e.every(function(o,u){var l=t[u];return C9(a,o,l)})}function M9(a,e,t){var n=a.coordinate,o=kh.fromObject(t.getBBox()),u=t0(e);n.isTransposed?u.attr({x:o.minX+o.width/2,textAlign:"center"}):u.attr({y:o.minY+o.height/2,textBaseline:"middle"})}function I9(a,e,t){var n;if(t.length!==0){var o=(n=t[0])===null||n===void 0?void 0:n.get("element"),u=o==null?void 0:o.geometry;if(!(!u||u.type!=="interval")){var l=T9(u,e,t);l&&t.forEach(function(c,f){var h=e[f];M9(u,h,c)})}}}function O9(a){var e=500,t=[],n=Math.max(Math.floor(a.length/e),1);return(0,w.each)(a,function(o,u){u%n===0?t.push(o):o.set("visible",!1)}),t}function D9(a,e,t){var n;if(t.length!==0){var o=(n=t[0])===null||n===void 0?void 0:n.get("element"),u=o==null?void 0:o.geometry;if(!(!u||u.type!=="interval")){var l=O9(e),c=u.getXYFields()[0],f=[],h=[],v=(0,w.groupBy)(l,function(G){return G.get("data")[c]}),p=(0,w.uniq)((0,w.map)(l,function(G){return G.get("data")[c]})),g;l.forEach(function(G){G.set("visible",!0)});var E=function(G){G&&(G.length&&h.push(G.pop()),h.push.apply(h,G))};for((0,w.size)(p)>0&&(g=p.shift(),E(v[g])),(0,w.size)(p)>0&&(g=p.pop(),E(v[g])),(0,w.each)(p.reverse(),function(G){E(v[G])});h.length>0;){var D=h.shift();D.get("visible")&&(r6(D,f)?D.set("visible",!1):f.push(D))}}}}function P9(a,e){var t=a.getXYFields()[1],n=[],o=e.sort(function(u,l){return u.get("data")[t]-u.get("data")[t]});return o.length>0&&n.push(o.shift()),o.length>0&&n.push(o.pop()),n.push.apply(n,o),n}function RI(a,e,t){return a.some(function(n){return t(n,e)})}function L9(a,e,t){t===void 0&&(t=0);var n=Math.max(0,Math.min(a.x+a.width+t,e.x+e.width+t)-Math.max(a.x-t,e.x-t)),o=Math.max(0,Math.min(a.y+a.height+t,e.y+e.height+t)-Math.max(a.y-t,e.y-t));return n*o}function FI(a,e){return RI(a,e,function(t,n){var o=t0(t),u=t0(n);return L9(o.getCanvasBBox(),u.getCanvasBBox(),2)>0})}function R9(a,e,t,n,o){var u,l;if(t.length!==0){var c=(u=t[0])===null||u===void 0?void 0:u.get("element"),f=c==null?void 0:c.geometry;if(!(!f||f.type!=="point")){var h=f.getXYFields(),v=h[0],p=h[1],g=(0,w.groupBy)(e,function(G){return G.get("data")[v]}),E=[],D=o&&o.offset||((l=a[0])===null||l===void 0?void 0:l.offset)||12;(0,w.map)((0,w.keys)(g).reverse(),function(G){for(var H=P9(f,g[G]);H.length;){var X=H.shift(),rt=t0(X);if(RI(E,X,function(Dt,kt){return Dt.get("data")[v]===kt.get("data")[v]&&Dt.get("data")[p]===kt.get("data")[p]})){rt.set("visible",!1);continue}var ht=FI(E,X),mt=!1;if(ht&&(rt.attr("y",rt.attr("y")+2*D),mt=FI(E,X)),mt){rt.set("visible",!1);continue}E.push(X)}})}}}function F9(a,e){var t=a.getXYFields()[1],n=[],o=e.sort(function(u,l){return u.get("data")[t]-u.get("data")[t]});return o.length>0&&n.push(o.shift()),o.length>0&&n.push(o.pop()),n.push.apply(n,o),n}function NI(a,e,t){return a.some(function(n){return t(n,e)})}function N9(a,e,t){t===void 0&&(t=0);var n=Math.max(0,Math.min(a.x+a.width+t,e.x+e.width+t)-Math.max(a.x-t,e.x-t)),o=Math.max(0,Math.min(a.y+a.height+t,e.y+e.height+t)-Math.max(a.y-t,e.y-t));return n*o}function kI(a,e){return NI(a,e,function(t,n){var o=t0(t),u=t0(n);return N9(o.getCanvasBBox(),u.getCanvasBBox(),2)>0})}function k9(a,e,t,n,o){var u,l;if(t.length!==0){var c=(u=t[0])===null||u===void 0?void 0:u.get("element"),f=c==null?void 0:c.geometry;if(!(!f||["path","line","area"].indexOf(f.type)<0)){var h=f.getXYFields(),v=h[0],p=h[1],g=(0,w.groupBy)(e,function(G){return G.get("data")[v]}),E=[],D=o&&o.offset||((l=a[0])===null||l===void 0?void 0:l.offset)||12;(0,w.map)((0,w.keys)(g).reverse(),function(G){for(var H=F9(f,g[G]);H.length;){var X=H.shift(),rt=t0(X);if(NI(E,X,function(Dt,kt){return Dt.get("data")[v]===kt.get("data")[v]&&Dt.get("data")[p]===kt.get("data")[p]})){rt.set("visible",!1);continue}var ht=kI(E,X),mt=!1;if(ht&&(rt.attr("y",rt.attr("y")+2*D),mt=kI(E,X)),mt){rt.set("visible",!1);continue}E.push(X)}})}}}var Jw;function B9(){return Jw||(Jw=document.createElement("canvas").getContext("2d")),Jw}var OE=(0,w.memoize)(function(a,e){e===void 0&&(e={});var t=e.fontSize,n=e.fontFamily,o=e.fontWeight,u=e.fontStyle,l=e.fontVariant,c=B9();return c.font=[u,l,o,"".concat(t,"px"),n].join(" "),c.measureText((0,w.isString)(a)?a:"").width},function(a,e){return e===void 0&&(e={}),(0,Z.__spreadArray)([a],(0,w.values)(e),!0).join("")}),G9=function(a,e,t){var n=16,o=OE("...",t),u;(0,w.isString)(a)?u=a:u=(0,w.toString)(a);var l=e,c=[],f,h;if(OE(a,t)<=e)return a;for(;f=u.substr(0,n),h=OE(f,t),!(h+o>l&&h>l);)if(c.push(f),l-=h,u=u.substr(n),!u)return c.join("");for(;f=u.substr(0,1),h=OE(f,t),!(h+o>l);)if(c.push(f),l-=h,u=u.substr(1),!u)return c.join("");return"".concat(c.join(""),"...")};function z9(a,e,t,n,o){if(!(e.length<=0)){var u=(o==null?void 0:o.direction)||["top","right","bottom","left"],l=(o==null?void 0:o.action)||"translate",c=(o==null?void 0:o.margin)||0,f=e[0].get("coordinate");if(!!f){var h=U4(f,c),v=h.minX,p=h.minY,g=h.maxX,E=h.maxY;(0,w.each)(e,function(D){var G=D.getCanvasBBox(),H=G.minX,X=G.minY,rt=G.maxX,ht=G.maxY,mt=G.x,Dt=G.y,kt=G.width,Vt=G.height,te=mt,le=Dt;if(u.indexOf("left")>=0&&(H<v||rt<v)&&(te=v),u.indexOf("top")>=0&&(X<p||ht<p)&&(le=p),u.indexOf("right")>=0&&(H>g?te=g-kt:rt>g&&(te=te-(rt-g))),u.indexOf("bottom")>=0&&(X>E?le=E-Vt:ht>E&&(le=le-(ht-E))),te!==mt||le!==Dt){var pe=te-mt;if(l==="translate")kx(D,pe,le-Dt);else if(l==="ellipsis"){var De=D.findAll(function(Xe){return Xe.get("type")==="text"});De.forEach(function(Xe){var pr=(0,w.pick)(Xe.attr(),["fontSize","fontFamily","fontWeight","fontStyle","fontVariant"]),yr=Xe.getCanvasBBox(),Vr=G9(Xe.attr("text"),yr.width-Math.abs(pe),pr);Xe.attr("text",Vr)})}else D.hide()}})}}}function U9(a,e,t){var n={fillOpacity:(0,w.isNil)(a.attr("fillOpacity"))?1:a.attr("fillOpacity"),strokeOpacity:(0,w.isNil)(a.attr("strokeOpacity"))?1:a.attr("strokeOpacity"),opacity:(0,w.isNil)(a.attr("opacity"))?1:a.attr("opacity")};a.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),a.animate(n,e)}function j9(a,e,t){var n={fillOpacity:0,strokeOpacity:0,opacity:0},o=e.easing,u=e.duration,l=e.delay;a.animate(n,u,o,function(){a.remove(!0)},l)}function W9(a,e,t){var n,o=e[0],u=e[1];return a.applyToMatrix([o,u,1]),t==="x"?(a.setMatrix(ka(a.getMatrix(),[["t",-o,-u],["s",.01,1],["t",o,u]])),n=ka(a.getMatrix(),[["t",-o,-u],["s",100,1],["t",o,u]])):t==="y"?(a.setMatrix(ka(a.getMatrix(),[["t",-o,-u],["s",1,.01],["t",o,u]])),n=ka(a.getMatrix(),[["t",-o,-u],["s",1,100],["t",o,u]])):t==="xy"&&(a.setMatrix(ka(a.getMatrix(),[["t",-o,-u],["s",.01,.01],["t",o,u]])),n=ka(a.getMatrix(),[["t",-o,-u],["s",100,100],["t",o,u]])),n}function qw(a,e,t,n,o){var u=t.start,l=t.end,c=t.getWidth(),f=t.getHeight(),h,v;o==="y"?(h=u.x+c/2,v=n.y<u.y?n.y:u.y):o==="x"?(h=n.x>u.x?n.x:u.x,v=u.y+f/2):o==="xy"&&(t.isPolar?(h=t.getCenter().x,v=t.getCenter().y):(h=(u.x+l.x)/2,v=(u.y+l.y)/2));var p=W9(a,[h,v],o);a.animate({matrix:p},e)}function V9(a,e,t){var n=t.coordinate,o=t.minYPoint;qw(a,e,n,o,"x")}function H9(a,e,t){var n=t.coordinate,o=t.minYPoint;qw(a,e,n,o,"y")}function Y9(a,e,t){var n=t.coordinate,o=t.minYPoint;qw(a,e,n,o,"xy")}function X9(a,e,t){var n=a.getTotalLength();a.attr("lineDash",[n]),a.animate(function(o){return{lineDashOffset:(1-o)*n}},e)}function $9(a,e,t){var n=t.toAttrs,o=n.x,u=n.y;delete n.x,delete n.y,a.attr(n),a.animate({x:o,y:u},e)}function K9(a,e,t){var n=a.getBBox(),o=a.get("origin").mappingData,u=o.points,l=u[0].y-u[1].y>0?n.maxX:n.minX,c=(n.minY+n.maxY)/2;a.applyToMatrix([l,c,1]);var f=ka(a.getMatrix(),[["t",-l,-c],["s",.01,1],["t",l,c]]);a.setMatrix(f),a.animate({matrix:ka(a.getMatrix(),[["t",-l,-c],["s",100,1],["t",l,c]])},e)}function Z9(a,e,t){var n=a.getBBox(),o=a.get("origin").mappingData,u=(n.minX+n.maxX)/2,l=o.points,c=l[0].y-l[1].y<=0?n.maxY:n.minY;a.applyToMatrix([u,c,1]);var f=ka(a.getMatrix(),[["t",-u,-c],["s",1,.01],["t",u,c]]);a.setMatrix(f),a.animate({matrix:ka(a.getMatrix(),[["t",-u,-c],["s",1,100],["t",u,c]])},e)}function BI(a,e){var t,n=xE(a,e),o=n.startAngle,u=n.endAngle;return!(0,w.isNumberEqual)(o,-Math.PI*.5)&&o<-Math.PI*.5&&(o+=Math.PI*2),!(0,w.isNumberEqual)(u,-Math.PI*.5)&&u<-Math.PI*.5&&(u+=Math.PI*2),e[5]===0&&(t=[u,o],o=t[0],u=t[1]),(0,w.isNumberEqual)(o,Math.PI*1.5)&&(o=Math.PI*-.5),(0,w.isNumberEqual)(u,Math.PI*-.5)&&(u=Math.PI*1.5),{startAngle:o,endAngle:u}}function GI(a){var e;return a[0]==="M"||a[0]==="L"?e=[a[1],a[2]]:(a[0]==="a"||a[0]==="A"||a[0]==="C")&&(e=[a[a.length-2],a[a.length-1]]),e}function zI(a){var e,t,n,o=a.filter(function(ht){return ht[0]==="A"||ht[0]==="a"});if(o.length===0)return{startAngle:0,endAngle:0,radius:0,innerRadius:0};var u=o[0],l=o.length>1?o[1]:o[0],c=a.indexOf(u),f=a.indexOf(l),h=GI(a[c-1]),v=GI(a[f-1]),p=BI(h,u),g=p.startAngle,E=p.endAngle,D=BI(v,l),G=D.startAngle,H=D.endAngle;(0,w.isNumberEqual)(g,G)&&(0,w.isNumberEqual)(E,H)?(t=g,n=E):(t=Math.min(g,G),n=Math.max(E,H));var X=u[1],rt=o[o.length-1][1];return X<rt?(e=[rt,X],X=e[0],rt=e[1]):X===rt&&(rt=0),{startAngle:t,endAngle:n,radius:X,innerRadius:rt}}function Q9(a,e,t){var n=t.toAttrs,o=t.coordinate,u=n.path||[],l=u.map(function(rt){return rt[0]});if(!(u.length<1)){var c=zI(u),f=c.startAngle,h=c.endAngle,v=c.radius,p=c.innerRadius,g=zI(a.attr("path")),E=g.startAngle,D=g.endAngle,G=o.getCenter(),H=f-E,X=h-D;if(H===0&&X===0){a.attr("path",u);return}a.animate(function(rt){var ht=E+rt*H,mt=D+rt*X;return(0,Z.__assign)((0,Z.__assign)({},n),{path:(0,w.isEqual)(l,["M","A","A","Z"])?kT(G.x,G.y,v,ht,mt):Zg(G.x,G.y,v,ht,mt,p)})},(0,Z.__assign)((0,Z.__assign)({},e),{callback:function(){a.attr("path",u)}}))}}function J9(a,e,t){var n=uw(t.coordinate,20),o=n.type,u=n.startState,l=n.endState,c=a.setClip({type:o,attrs:u});c.animate(l,(0,Z.__assign)((0,Z.__assign)({},e),{callback:function(){a&&!a.get("destroyed")&&a.set("clipShape",null),c.remove(!0)}}))}function t_(a,e,t){if(a.isGroup())(0,w.each)(a.getChildren(),function(c){t_(c,e,t)});else{var n=a.getBBox(),o=(n.minX+n.maxX)/2,u=(n.minY+n.maxY)/2;if(a.applyToMatrix([o,u,1]),t==="zoomIn"){var l=ka(a.getMatrix(),[["t",-o,-u],["s",.01,.01],["t",o,u]]);a.setMatrix(l),a.animate({matrix:ka(a.getMatrix(),[["t",-o,-u],["s",100,100],["t",o,u]])},e)}else a.animate({matrix:ka(a.getMatrix(),[["t",-o,-u],["s",.01,.01],["t",o,u]])},(0,Z.__assign)((0,Z.__assign)({},e),{callback:function(){a.remove(!0)}}))}}function q9(a,e,t){t_(a,e,"zoomIn")}function tG(a,e,t){t_(a,e,"zoomOut")}function hg(a){return[An.TOP,An.BOTTOM].includes(a)?{offsetX:0,offsetY:a===An.TOP?-8:8,style:{textAlign:"center",textBaseline:a===An.TOP?"bottom":"top"}}:[An.LEFT,An.RIGHT].includes(a)?{offsetX:a===An.LEFT?-8:8,offsetY:0,style:{textAlign:a===An.LEFT?"right":"left",textBaseline:"middle",rotate:Math.PI/2}}:{}}function e_(a,e,t){return{x:a.x+e*Math.cos(t),y:a.y+e*Math.sin(t)}}var eG=function(a){(0,Z.__extends)(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){return(0,w.deepMix)({},a.prototype.getDefaultCfg.call(this),{type:"circle",showTitle:!0,title:a.prototype.getDefaultTitleCfg.call(this)})},e.prototype.render=function(){a.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.getRegion=function(t,n){var o=.5,u={x:.5,y:.5},l=Math.PI*2/t,c=-1*Math.PI/2+l*n,f=o/(1+1/Math.sin(l/2)),h=e_(u,o-f,c),v=Math.PI*5/4,p=Math.PI*1/4;return{start:e_(h,f,v),end:e_(h,f,p)}},e.prototype.afterEachView=function(t,n){this.processAxis(t,n)},e.prototype.beforeEachView=function(t,n){},e.prototype.generateFacets=function(t){var n=this,o=this.cfg,u=o.fields,l=o.type,c=u[0];if(!c)throw new Error("No `fields` specified!");var f=this.getFieldValues(t,c),h=f.length,v=[];return f.forEach(function(p,g){var E=[{field:c,value:p,values:f}],D=(0,w.filter)(t,n.getFacetDataFilter(E)),G={type:l,data:D,region:n.getRegion(h,g),columnValue:p,columnField:c,columnIndex:g,columnValuesLength:h,rowValue:null,rowField:null,rowIndex:0,rowValuesLength:1};v.push(G)}),v},e.prototype.getXAxisOption=function(t,n,o,u){return o},e.prototype.getYAxisOption=function(t,n,o,u){return o},e.prototype.renderTitle=function(){var t=this;(0,w.each)(this.facets,function(n){var o=n.columnValue,u=n.view,l=(0,w.get)(t.cfg.title,"formatter"),c=(0,w.deepMix)({position:["50%","0%"],content:l?l(o):o},hg(An.TOP),t.cfg.title);u.annotation().text(c)})},e}(X0),rG=eG,nG=function(a){(0,Z.__extends)(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){return(0,w.deepMix)({},a.prototype.getDefaultCfg.call(this),{type:"list",cols:null,showTitle:!0,title:a.prototype.getDefaultTitleCfg.call(this)})},e.prototype.render=function(){a.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.afterEachView=function(t,n){this.processAxis(t,n)},e.prototype.beforeEachView=function(t,n){},e.prototype.generateFacets=function(t){var n=this,o=this.cfg.fields,u=this.cfg.cols,l=o[0];if(!l)throw new Error("No `fields` specified!");var c=this.getFieldValues(t,l),f=c.length;u=u||f;var h=this.getPageCount(f,u),v=[];return c.forEach(function(p,g){var E=n.getRowCol(g,u),D=E.row,G=E.col,H=[{field:l,value:p,values:c}],X=(0,w.filter)(t,n.getFacetDataFilter(H)),rt={type:n.cfg.type,data:X,region:n.getRegion(h,u,G,D),columnValue:p,rowValue:p,columnField:l,rowField:null,columnIndex:G,rowIndex:D,columnValuesLength:u,rowValuesLength:h,total:f};v.push(rt)}),v},e.prototype.getXAxisOption=function(t,n,o,u){return u.rowIndex!==u.rowValuesLength-1&&u.columnValuesLength*u.rowIndex+u.columnIndex+1+u.columnValuesLength<=u.total?(0,Z.__assign)((0,Z.__assign)({},o),{label:null,title:null}):o},e.prototype.getYAxisOption=function(t,n,o,u){return u.columnIndex!==0?(0,Z.__assign)((0,Z.__assign)({},o),{title:null,label:null}):o},e.prototype.renderTitle=function(){var t=this;(0,w.each)(this.facets,function(n){var o=n.columnValue,u=n.view,l=(0,w.get)(t.cfg.title,"formatter"),c=(0,w.deepMix)({position:["50%","0%"],content:l?l(o):o},hg(An.TOP),t.cfg.title);u.annotation().text(c)})},e.prototype.getPageCount=function(t,n){return Math.floor((t+n-1)/n)},e.prototype.getRowCol=function(t,n){var o=Math.floor(t/n),u=t%n;return{row:o,col:u}},e}(X0),iG=nG,aG=function(a){(0,Z.__extends)(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){return(0,w.deepMix)({},a.prototype.getDefaultCfg.call(this),{type:"matrix",showTitle:!1,columnTitle:(0,Z.__assign)({},a.prototype.getDefaultTitleCfg.call(this)),rowTitle:(0,Z.__assign)({},a.prototype.getDefaultTitleCfg.call(this))})},e.prototype.render=function(){a.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.afterEachView=function(t,n){this.processAxis(t,n)},e.prototype.beforeEachView=function(t,n){},e.prototype.generateFacets=function(t){for(var n=this.cfg,o=n.fields,u=n.type,l=o.length,c=l,f=[],h=0;h<c;h++)for(var v=o[h],p=0;p<l;p++){var g=o[p],E={type:u,data:t,region:this.getRegion(l,c,h,p),columnValue:v,rowValue:g,columnField:v,rowField:g,columnIndex:h,rowIndex:p,columnValuesLength:c,rowValuesLength:l};f.push(E)}return f},e.prototype.getXAxisOption=function(t,n,o,u){return u.rowIndex!==u.rowValuesLength-1?(0,Z.__assign)((0,Z.__assign)({},o),{label:null,title:null}):o},e.prototype.getYAxisOption=function(t,n,o,u){return u.columnIndex!==0?(0,Z.__assign)((0,Z.__assign)({},o),{title:null,label:null}):o},e.prototype.renderTitle=function(){var t=this;(0,w.each)(this.facets,function(n,o){var u=n.columnIndex,l=n.rowIndex,c=n.columnValuesLength,f=n.rowValuesLength,h=n.columnValue,v=n.rowValue,p=n.view;if(l===0){var g=(0,w.get)(t.cfg.columnTitle,"formatter"),E=(0,w.deepMix)({position:["50%","0%"],content:g?g(h):h},hg(An.TOP),t.cfg.columnTitle);p.annotation().text(E)}if(u===c-1){var g=(0,w.get)(t.cfg.rowTitle,"formatter"),E=(0,w.deepMix)({position:["100%","50%"],content:g?g(v):v},hg(An.RIGHT),t.cfg.rowTitle);p.annotation().text(E)}})},e}(X0),oG=aG,sG=function(a){(0,Z.__extends)(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){return(0,w.deepMix)({},a.prototype.getDefaultCfg.call(this),{type:"mirror",showTitle:!0,title:a.prototype.getDefaultTitleCfg.call(this),transpose:!1})},e.prototype.render=function(){a.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.beforeEachView=function(t,n){this.cfg.transpose?n.columnIndex%2===0?t.coordinate().transpose().reflect("x"):t.coordinate().transpose():n.rowIndex%2!==0&&t.coordinate().reflect("y")},e.prototype.afterEachView=function(t,n){this.processAxis(t,n)},e.prototype.generateFacets=function(t){var n=this,o=this.cfg.fields[0],u=[],l=1,c=1,f=[""],h=[""],v,p;return this.cfg.transpose?(v=o,f=this.getFieldValues(t,v).slice(0,2),l=f.length):(p=o,h=this.getFieldValues(t,p).slice(0,2),c=h.length),f.forEach(function(g,E){h.forEach(function(D,G){var H=[{field:v,value:g,values:f},{field:p,value:D,values:h}],X=(0,w.filter)(t,n.getFacetDataFilter(H)),rt={type:n.cfg.type,data:X,region:n.getRegion(c,l,E,G),columnValue:g,rowValue:D,columnField:v,rowField:p,columnIndex:E,rowIndex:G,columnValuesLength:l,rowValuesLength:c};u.push(rt)})}),u},e.prototype.getXAxisOption=function(t,n,o,u){return u.columnIndex===1||u.rowIndex===1?(0,Z.__assign)((0,Z.__assign)({},o),{label:null,title:null}):o},e.prototype.getYAxisOption=function(t,n,o,u){return o},e.prototype.renderTitle=function(){var t=this;(0,w.each)(this.facets,function(n,o){var u=n.columnValue,l=n.rowValue,c=n.view,f=(0,w.get)(t.cfg.title,"formatter");if(t.cfg.transpose){var h=(0,w.deepMix)({position:["50%","0%"],content:f?f(u):u},hg(An.TOP),t.cfg.title);c.annotation().text(h)}else{var h=(0,w.deepMix)({position:["100%","50%"],content:f?f(l):l},hg(An.RIGHT),t.cfg.title);c.annotation().text(h)}})},e}(X0),uG=sG,lG=function(a){(0,Z.__extends)(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.afterEachView=function(t,n){this.processAxis(t,n)},e.prototype.beforeEachView=function(t,n){},e.prototype.getDefaultCfg=function(){return(0,w.deepMix)({},a.prototype.getDefaultCfg.call(this),{type:"rect",columnTitle:(0,Z.__assign)({},a.prototype.getDefaultTitleCfg.call(this)),rowTitle:(0,Z.__assign)({},a.prototype.getDefaultTitleCfg.call(this))})},e.prototype.render=function(){a.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.generateFacets=function(t){var n=this,o=this.cfg.fields,u=o[0],l=o[1],c=[],f=1,h=1,v=[""],p=[""];return u&&(v=this.getFieldValues(t,u),f=v.length),l&&(p=this.getFieldValues(t,l),h=p.length),v.forEach(function(g,E){p.forEach(function(D,G){var H=[{field:u,value:g,values:v},{field:l,value:D,values:p}],X=(0,w.filter)(t,n.getFacetDataFilter(H)),rt={type:n.cfg.type,data:X,region:n.getRegion(h,f,E,G),columnValue:g,rowValue:D,columnField:u,rowField:l,columnIndex:E,rowIndex:G,columnValuesLength:f,rowValuesLength:h};c.push(rt)})}),c},e.prototype.renderTitle=function(){var t=this;(0,w.each)(this.facets,function(n,o){var u=n.columnIndex,l=n.rowIndex,c=n.columnValuesLength,f=n.columnValue,h=n.rowValue,v=n.view;if(l===0){var p=(0,w.get)(t.cfg.columnTitle,"formatter"),g=(0,w.deepMix)({position:["50%","0%"],content:p?p(f):f},hg(An.TOP),t.cfg.columnTitle);v.annotation().text(g)}if(u===c-1){var p=(0,w.get)(t.cfg.rowTitle,"formatter"),g=(0,w.deepMix)({position:["100%","50%"],content:p?p(h):h},hg(An.RIGHT),t.cfg.rowTitle);v.annotation().text(g)}})},e.prototype.getXAxisOption=function(t,n,o,u){return u.rowIndex!==u.rowValuesLength-1?(0,Z.__assign)((0,Z.__assign)({},o),{title:null,label:null}):u.columnIndex!==Math.floor((u.columnValuesLength-1)/2)?(0,Z.__assign)((0,Z.__assign)({},o),{title:null}):o},e.prototype.getYAxisOption=function(t,n,o,u){return u.columnIndex!==0?(0,Z.__assign)((0,Z.__assign)({},o),{title:null,label:null}):u.rowIndex!==Math.floor((u.rowValuesLength-1)/2)?(0,Z.__assign)((0,Z.__assign)({},o),{title:null}):o},e}(X0),cG=lG,fG=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.afterChartRender=function(){t.facets&&t.cfg.line&&(t.container.clear(),t.drawLines(t.facets))},t}return e.prototype.afterEachView=function(t,n){this.processAxis(t,n)},e.prototype.beforeEachView=function(t,n){},e.prototype.init=function(){a.prototype.init.call(this),this.view.on(pi.AFTER_RENDER,this.afterChartRender)},e.prototype.getDefaultCfg=function(){return(0,w.deepMix)({},a.prototype.getDefaultCfg.call(this),{type:"tree",line:{style:{lineWidth:1,stroke:"#ddd"},smooth:!1},showTitle:!0,title:a.prototype.getDefaultTitleCfg.call(this)})},e.prototype.generateFacets=function(t){var n=this.cfg.fields;if(!n.length)throw new Error("Please specify for the fields for rootFacet!");var o=[],u={type:this.cfg.type,data:t,region:null,rowValuesLength:this.getRows(),columnValuesLength:1,rowIndex:0,columnIndex:0,rowField:"",columnField:"",rowValue:"",columnValue:""};return o.push(u),u.children=this.getChildFacets(t,1,o),this.setRegion(o),o},e.prototype.setRegion=function(t){var n=this;this.forceColIndex(t),t.forEach(function(o){o.region=n.getRegion(o.rowValuesLength,o.columnValuesLength,o.columnIndex,o.rowIndex)})},e.prototype.getRegion=function(t,n,o,u){var l=1/n,c=1/t,f={x:l*o,y:c*u},h={x:f.x+l,y:f.y+c*2/3};return{start:f,end:h}},e.prototype.forceColIndex=function(t){var n=this,o=[],u=0;t.forEach(function(g){n.isLeaf(g)&&(o.push(g),g.columnIndex=u,u++)}),o.forEach(function(g){g.columnValuesLength=o.length});for(var l=this.cfg.fields.length,c=l-1;c>=0;c--)for(var f=this.getFacetsByLevel(t,c),h=0,v=f;h<v.length;h++){var p=v[h];this.isLeaf(p)||(p.originColIndex=p.columnIndex,p.columnIndex=this.getRegionIndex(p.children),p.columnValuesLength=o.length)}},e.prototype.getFacetsByLevel=function(t,n){var o=[];return t.forEach(function(u){u.rowIndex===n&&o.push(u)}),o},e.prototype.getRegionIndex=function(t){var n=t[0],o=t[t.length-1];return(o.columnIndex-n.columnIndex)/2+n.columnIndex},e.prototype.isLeaf=function(t){return!t.children||!t.children.length},e.prototype.getRows=function(){return this.cfg.fields.length+1},e.prototype.getChildFacets=function(t,n,o){var u=this,l=this.cfg.fields,c=l.length;if(!(c<n)){var f=[],h=l[n-1],v=this.getFieldValues(t,h);return v.forEach(function(p,g){var E=[{field:h,value:p,values:v}],D=t.filter(u.getFacetDataFilter(E));if(D.length){var G={type:u.cfg.type,data:D,region:null,columnValue:p,rowValue:"",columnField:h,rowField:"",columnIndex:g,rowValuesLength:u.getRows(),columnValuesLength:1,rowIndex:n,children:u.getChildFacets(D,n+1,o)};f.push(G),o.push(G)}}),f}},e.prototype.render=function(){a.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.renderTitle=function(){var t=this;(0,w.each)(this.facets,function(n){var o=n.columnValue,u=n.view,l=(0,w.get)(t.cfg.title,"formatter"),c=(0,w.deepMix)({position:["50%","0%"],content:l?l(o):o},hg(An.TOP),t.cfg.title);u.annotation().text(c)})},e.prototype.drawLines=function(t){var n=this;t.forEach(function(o){if(!n.isLeaf(o)){var u=o.children;n.addFacetLines(o,u)}})},e.prototype.addFacetLines=function(t,n){var o=this,u=t.view,l=u.coordinateBBox,c={x:l.x+l.width/2,y:l.y+l.height};n.forEach(function(f){var h=f.view.coordinateBBox,v={x:h.bl.x+(h.tr.x-h.bl.x)/2,y:h.tr.y},p={x:c.x,y:c.y+(v.y-c.y)/2},g={x:v.x,y:p.y};o.drawLine([c,p,g,v])})},e.prototype.getPath=function(t){var n=[],o=this.cfg.line.smooth;return o?(n.push(["M",t[0].x,t[0].y]),n.push(["C",t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y])):t.forEach(function(u,l){l===0?n.push(["M",u.x,u.y]):n.push(["L",u.x,u.y])}),n},e.prototype.drawLine=function(t){var n=this.getPath(t),o=this.cfg.line.style;this.container.addShape("path",{attrs:(0,w.assign)({path:n},o)})},e.prototype.getXAxisOption=function(t,n,o,u){return u.rowIndex!==u.rowValuesLength-1?(0,Z.__assign)((0,Z.__assign)({},o),{title:null,label:null}):o},e.prototype.getYAxisOption=function(t,n,o,u){return u.originColIndex!==0&&u.columnIndex!==0?(0,Z.__assign)((0,Z.__assign)({},o),{title:null,label:null}):o},e}(X0),hG=fG;function UI(a){var e=(0,Z.__spreadArray)([],a,!0);e.sort(function(n,o){return n-o});var t=e.length;return t===0?0:t%2===1?e[(t-1)/2]:(e[t/2]+e[t/2-1])/2}function dG(a){var e=(0,w.reduce)(a,function(t,n){return t+=isNaN(n)||!(0,w.isNumber)(n)?0:n},0);return a.length===0?0:e/a.length}function DE(a,e){if(!e)return null;var t;switch(a){case"start":return 0;case"center":return .5;case"end":return 1;case"median":{t=e.isCategory?UI(e.values.map(function(n,o){return o})):UI(e.values);break}case"mean":{t=e.isCategory?(e.values.length-1)/2:dG(e.values);break}case"min":t=e.isCategory?0:e[a];break;case"max":t=e.isCategory?e.values.length-1:e[a];break;default:t=a;break}return e.scale(t)}var PE=["regionFilter","shape"],vG=function(a){(0,Z.__extends)(e,a);function e(t){var n=a.call(this,t)||this;return n.cache=new Map,n.foregroundContainer=n.view.getLayer(hi.FORE).addGroup(),n.backgroundContainer=n.view.getLayer(hi.BG).addGroup(),n.option=[],n}return Object.defineProperty(e.prototype,"name",{get:function(){return"annotation"},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.layout=function(){this.update()},e.prototype.render=function(){},e.prototype.update=function(){var t=this;this.onAfterRender(function(){var o=new Map;(0,w.each)(t.option,function(u){if((0,w.includes)(PE,u.type)){var l=t.updateOrCreate(u);l&&o.set(t.getCacheKey(u),l)}}),t.cache=t.syncCache(o)});var n=new Map;(0,w.each)(this.option,function(o){if(!(0,w.includes)(PE,o.type)){var u=t.updateOrCreate(o);u&&n.set(t.getCacheKey(o),u)}}),this.cache=this.syncCache(n)},e.prototype.clear=function(t){t===void 0&&(t=!1),a.prototype.clear.call(this),this.clearComponents(),this.foregroundContainer.clear(),this.backgroundContainer.clear(),t&&(this.option=[])},e.prototype.destroy=function(){this.clear(!0),this.foregroundContainer.remove(!0),this.backgroundContainer.remove(!0)},e.prototype.getComponents=function(){var t=[];return this.cache.forEach(function(n){t.push(n)}),t},e.prototype.clearComponents=function(){this.getComponents().forEach(function(t){t.component.destroy()}),this.cache.clear()},e.prototype.onAfterRender=function(t){this.view.getOptions().animate?this.view.geometries.forEach(function(n){n.animateOption&&n.once(Nc.AFTER_DRAW_ANIMATE,function(){t()})}):this.view.getRootView().once(pi.AFTER_RENDER,function(){t()})},e.prototype.createAnnotation=function(t){var n=t.type,o=x[(0,w.upperFirst)(n)];if(o){var u=this.getAnnotationTheme(n),l=this.getAnnotationCfg(n,t,u);if(!l)return null;var c=new o(l);return{component:c,layer:this.isTop(l)?hi.FORE:hi.BG,direction:An.NONE,type:ua.ANNOTATION,extra:t}}},e.prototype.annotation=function(t){this.option.push(t)},e.prototype.arc=function(t){return this.annotation((0,Z.__assign)({type:"arc"},t)),this},e.prototype.image=function(t){return this.annotation((0,Z.__assign)({type:"image"},t)),this},e.prototype.line=function(t){return this.annotation((0,Z.__assign)({type:"line"},t)),this},e.prototype.region=function(t){return this.annotation((0,Z.__assign)({type:"region"},t)),this},e.prototype.text=function(t){return this.annotation((0,Z.__assign)({type:"text"},t)),this},e.prototype.dataMarker=function(t){return this.annotation((0,Z.__assign)({type:"dataMarker"},t)),this},e.prototype.dataRegion=function(t){this.annotation((0,Z.__assign)({type:"dataRegion"},t))},e.prototype.regionFilter=function(t){this.annotation((0,Z.__assign)({type:"regionFilter"},t))},e.prototype.shape=function(t){this.annotation((0,Z.__assign)({type:"shape"},t))},e.prototype.html=function(t){this.annotation((0,Z.__assign)({type:"html"},t))},e.prototype.parsePosition=function(t){var n=this.view.getXScale(),o=this.view.getScalesByDim("y"),u=(0,w.isFunction)(t)?t.call(null,n,o):t,l=0,c=0;if((0,w.isArray)(u)){var f=u[0],h=u[1];if((0,w.isString)(f)&&f.indexOf("%")!==-1&&!isNaN(f.slice(0,-1)))return this.parsePercentPosition(u);l=DE(f,n),c=DE(h,Object.values(o)[0])}else if(!(0,w.isNil)(u))for(var v=0,p=(0,w.keys)(u);v<p.length;v++){var g=p[v],E=u[g];g===n.field&&(l=DE(E,n)),o[g]&&(c=DE(E,o[g]))}return isNaN(l)||isNaN(c)?null:this.view.getCoordinate().convert({x:l,y:c})},e.prototype.getRegionPoints=function(t,n){var o=this,u=this.view.getXScale(),l=this.view.getScalesByDim("y"),c=Object.values(l)[0],f=u.field,h=this.view.getData(),v=(0,w.isArray)(t)?t[0]:t[f],p=(0,w.isArray)(n)?n[0]:n[f],g=[],E;return(0,w.each)(h,function(D,G){if(D[f]===v&&(E=G),G>=E){var H=o.parsePosition([D[f],D[c.field]]);H&&g.push(H)}if(D[f]===p)return!1}),g},e.prototype.parsePercentPosition=function(t){var n=parseFloat(t[0])/100,o=parseFloat(t[1])/100,u=this.view.getCoordinate(),l=u.start,c=u.end,f={x:Math.min(l.x,c.x),y:Math.min(l.y,c.y)},h=u.getWidth()*n+f.x,v=u.getHeight()*o+f.y;return{x:h,y:v}},e.prototype.getCoordinateBBox=function(){var t=this.view.getCoordinate(),n=t.start,o=t.end,u=t.getWidth(),l=t.getHeight(),c={x:Math.min(n.x,o.x),y:Math.min(n.y,o.y)};return{x:c.x,y:c.y,minX:c.x,minY:c.y,maxX:c.x+u,maxY:c.y+l,width:u,height:l}},e.prototype.getAnnotationCfg=function(t,n,o){var u=this,l=this.view.getCoordinate(),c=this.view.getCanvas(),f={};if((0,w.isNil)(n))return null;var h=n.start,v=n.end,p=n.position,g=this.parsePosition(h),E=this.parsePosition(v),D=this.parsePosition(p);if(["arc","image","line","region","regionFilter"].includes(t)&&(!g||!E))return null;if(["text","dataMarker","html"].includes(t)&&!D)return null;if(t==="arc"){var G=n,H=G.start,X=G.end,rt=(0,Z.__rest)(G,["start","end"]),ht=Mm(l,g),mt=Mm(l,E);ht>mt&&(mt=Math.PI*2+mt),f=(0,Z.__assign)((0,Z.__assign)({},rt),{center:l.getCenter(),radius:sE(l,g),startAngle:ht,endAngle:mt})}else if(t==="image"){var Dt=n,kt=Dt.start,Vt=Dt.end,rt=(0,Z.__rest)(Dt,["start","end"]);f=(0,Z.__assign)((0,Z.__assign)({},rt),{start:g,end:E,src:n.src})}else if(t==="line"){var te=n,le=te.start,pe=te.end,rt=(0,Z.__rest)(te,["start","end"]);f=(0,Z.__assign)((0,Z.__assign)({},rt),{start:g,end:E,text:(0,w.get)(n,"text",null)})}else if(t==="region"){var De=n,Xe=De.start,pr=De.end,rt=(0,Z.__rest)(De,["start","end"]);f=(0,Z.__assign)((0,Z.__assign)({},rt),{start:g,end:E})}else if(t==="text"){var yr=this.view.getData(),Vr=n,nr=Vr.position,Gr=Vr.content,rt=(0,Z.__rest)(Vr,["position","content"]),en=Gr;(0,w.isFunction)(Gr)&&(en=Gr(yr)),f=(0,Z.__assign)((0,Z.__assign)((0,Z.__assign)({},D),rt),{content:en})}else if(t==="dataMarker"){var cr=n,Fr=cr.position,qr=cr.point,_r=cr.line,kr=cr.text,Yr=cr.autoAdjust,mn=cr.direction,rt=(0,Z.__rest)(cr,["position","point","line","text","autoAdjust","direction"]);f=(0,Z.__assign)((0,Z.__assign)((0,Z.__assign)({},rt),D),{coordinateBBox:this.getCoordinateBBox(),point:qr,line:_r,text:kr,autoAdjust:Yr,direction:mn})}else if(t==="dataRegion"){var Er=n,oi=Er.start,mr=Er.end,ki=Er.region,kr=Er.text,Xn=Er.lineLength,rt=(0,Z.__rest)(Er,["start","end","region","text","lineLength"]);f=(0,Z.__assign)((0,Z.__assign)({},rt),{points:this.getRegionPoints(oi,mr),region:ki,text:kr,lineLength:Xn})}else if(t==="regionFilter"){var qn=n,ai=qn.start,va=qn.end,Ii=qn.apply,Ni=qn.color,rt=(0,Z.__rest)(qn,["start","end","apply","color"]),Sa=this.view.geometries,ea=[],lo=function(So){!So||(So.isGroup()?So.getChildren().forEach(function($a){return lo($a)}):ea.push(So))};(0,w.each)(Sa,function(So){Ii?(0,w.contains)(Ii,So.type)&&(0,w.each)(So.elements,function($a){lo($a.shape)}):(0,w.each)(So.elements,function($a){lo($a.shape)})}),f=(0,Z.__assign)((0,Z.__assign)({},rt),{color:Ni,shapes:ea,start:g,end:E})}else if(t==="shape"){var Vs=n,Go=Vs.render,pa=(0,Z.__rest)(Vs,["render"]),so=function(Oa){if((0,w.isFunction)(n.render))return Go(Oa,u.view,{parsePosition:u.parsePosition.bind(u)})};f=(0,Z.__assign)((0,Z.__assign)({},pa),{render:so})}else if(t==="html"){var ia=n,Ai=ia.html,sa=ia.position,pa=(0,Z.__rest)(ia,["html","position"]),Bi=function(So){return(0,w.isFunction)(Ai)?Ai(So,u.view):Ai};f=(0,Z.__assign)((0,Z.__assign)((0,Z.__assign)({},pa),D),{parent:c.get("el").parentNode,html:Bi})}var Ia=(0,w.deepMix)({},o,(0,Z.__assign)((0,Z.__assign)({},f),{top:n.top,style:n.style,offsetX:n.offsetX,offsetY:n.offsetY}));return t!=="html"&&(Ia.container=this.getComponentContainer(Ia)),Ia.animate=this.view.getOptions().animate&&Ia.animate&&(0,w.get)(n,"animate",Ia.animate),Ia.animateOption=(0,w.deepMix)({},Pm,Ia.animateOption,n.animateOption),Ia},e.prototype.isTop=function(t){return(0,w.get)(t,"top",!0)},e.prototype.getComponentContainer=function(t){return this.isTop(t)?this.foregroundContainer:this.backgroundContainer},e.prototype.getAnnotationTheme=function(t){return(0,w.get)(this.view.getTheme(),["components","annotation",t],{})},e.prototype.updateOrCreate=function(t){var n=this.cache.get(this.getCacheKey(t));if(n){var o=t.type,u=this.getAnnotationTheme(o),l=this.getAnnotationCfg(o,t,u);l&&Hd(l,["container"]),n.component.update((0,Z.__assign)((0,Z.__assign)({},l||{}),{visible:!!l})),(0,w.includes)(PE,t.type)&&n.component.render()}else n=this.createAnnotation(t),n&&(n.component.init(),(0,w.includes)(PE,t.type)&&n.component.render());return n},e.prototype.syncCache=function(t){var n=this,o=new Map(this.cache);return t.forEach(function(u,l){o.set(l,u)}),o.forEach(function(u,l){(0,w.find)(n.option,function(c){return l===n.getCacheKey(c)})||(u.component.destroy(),o.delete(l))}),o},e.prototype.getCacheKey=function(t){return t},e}(K0),pG=vG;function jI(a,e){var t=(0,w.deepMix)({},(0,w.get)(a,["components","axis","common"]),(0,w.get)(a,["components","axis",e]));return(0,w.get)(t,["grid"],{})}function LE(a,e,t,n){var o=[],u=e.getTicks();return a.isPolar&&u.push({value:1,text:"",tickValue:""}),u.reduce(function(l,c,f){var h=c.value;if(n)o.push({points:[a.convert(t==="y"?{x:0,y:h}:{x:h,y:0}),a.convert(t==="y"?{x:1,y:h}:{x:h,y:1})]});else if(f){var v=l.value,p=(v+h)/2;o.push({points:[a.convert(t==="y"?{x:0,y:p}:{x:p,y:0}),a.convert(t==="y"?{x:1,y:p}:{x:p,y:1})]})}return c},u[0]),o}function r_(a,e,t,n,o){var u=e.values.length,l=[],c=t.getTicks();return c.reduce(function(f,h){var v=f?f.value:h.value,p=h.value,g=(v+p)/2;return o==="x"?l.push({points:[a.convert({x:n?p:g,y:0}),a.convert({x:n?p:g,y:1})]}):l.push({points:(0,w.map)(Array(u+1),function(E,D){return a.convert({x:D/u,y:n?p:g})})}),h},c[0]),l}function WI(a,e){var t=(0,w.get)(e,"grid");if(t===null)return!1;var n=(0,w.get)(a,"grid");return!(t===void 0&&n===null)}var r0=["container"],VI=(0,Z.__assign)((0,Z.__assign)({},Pm),{appear:null}),gG=function(a){(0,Z.__extends)(e,a);function e(t){var n=a.call(this,t)||this;return n.cache=new Map,n.gridContainer=n.view.getLayer(hi.BG).addGroup(),n.gridForeContainer=n.view.getLayer(hi.FORE).addGroup(),n.axisContainer=n.view.getLayer(hi.BG).addGroup(),n.axisForeContainer=n.view.getLayer(hi.FORE).addGroup(),n}return Object.defineProperty(e.prototype,"name",{get:function(){return"axis"},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.render=function(){this.update()},e.prototype.layout=function(){var t=this,n=this.view.getCoordinate();(0,w.each)(this.getComponents(),function(o){var u=o.component,l=o.direction,c=o.type,f=o.extra,h=f.dim,v=f.scale,p=f.alignTick,g;if(c===ua.AXIS)n.isPolar?h==="x"?g=n.isTransposed?uE(n,l):lw(n):h==="y"&&(g=n.isTransposed?lw(n):uE(n,l)):g=uE(n,l);else if(c===ua.GRID)if(n.isPolar){var E=void 0;n.isTransposed?E=h==="x"?r_(n,t.view.getYScales()[0],v,p,h):LE(n,v,h,p):E=h==="x"?LE(n,v,h,p):r_(n,t.view.getXScale(),v,p,h),g={items:E,center:t.view.getCoordinate().getCenter()}}else g={items:LE(n,v,h,p)};u.update(g)})},e.prototype.update=function(){this.option=this.view.getOptions().axes;var t=new Map;this.updateXAxes(t),this.updateYAxes(t);var n=new Map;this.cache.forEach(function(o,u){t.has(u)?n.set(u,o):o.component.destroy()}),this.cache=n},e.prototype.clear=function(){a.prototype.clear.call(this),this.cache.clear(),this.gridContainer.clear(),this.gridForeContainer.clear(),this.axisContainer.clear(),this.axisForeContainer.clear()},e.prototype.destroy=function(){a.prototype.destroy.call(this),this.gridContainer.remove(!0),this.gridForeContainer.remove(!0),this.axisContainer.remove(!0),this.axisForeContainer.remove(!0)},e.prototype.getComponents=function(){var t=[];return this.cache.forEach(function(n){t.push(n)}),t},e.prototype.updateXAxes=function(t){var n=this.view.getXScale();if(!(!n||n.isIdentity)){var o=cE(this.option,n.field);if(o!==!1){var u=VT(o,An.BOTTOM),l=hi.BG,c="x",f=this.view.getCoordinate(),h=this.getId("axis",n.field),v=this.getId("grid",n.field);if(f.isRect){var p=this.cache.get(h);if(p){var g=this.getLineAxisCfg(n,o,u);Hd(g,r0),p.component.update(g),t.set(h,p)}else p=this.createLineAxis(n,o,l,u,c),this.cache.set(h,p),t.set(h,p);var E=this.cache.get(v);if(E){var g=this.getLineGridCfg(n,o,u,c);Hd(g,r0),E.component.update(g),t.set(v,E)}else E=this.createLineGrid(n,o,l,u,c),E&&(this.cache.set(v,E),t.set(v,E))}else if(f.isPolar){var p=this.cache.get(h);if(p){var g=f.isTransposed?this.getLineAxisCfg(n,o,An.RADIUS):this.getCircleAxisCfg(n,o,u);Hd(g,r0),p.component.update(g),t.set(h,p)}else{if(f.isTransposed){if((0,w.isUndefined)(o))return;p=this.createLineAxis(n,o,l,An.RADIUS,c)}else p=this.createCircleAxis(n,o,l,u,c);this.cache.set(h,p),t.set(h,p)}var E=this.cache.get(v);if(E){var g=f.isTransposed?this.getCircleGridCfg(n,o,An.RADIUS,c):this.getLineGridCfg(n,o,An.CIRCLE,c);Hd(g,r0),E.component.update(g),t.set(v,E)}else{if(f.isTransposed){if((0,w.isUndefined)(o))return;E=this.createCircleGrid(n,o,l,An.RADIUS,c)}else E=this.createLineGrid(n,o,l,An.CIRCLE,c);E&&(this.cache.set(v,E),t.set(v,E))}}}}},e.prototype.updateYAxes=function(t){var n=this,o=this.view.getYScales();(0,w.each)(o,function(u,l){if(!(!u||u.isIdentity)){var c=u.field,f=cE(n.option,c);if(f!==!1){var h=hi.BG,v="y",p=n.getId("axis",c),g=n.getId("grid",c),E=n.view.getCoordinate();if(E.isRect){var D=VT(f,l===0?An.LEFT:An.RIGHT),G=n.cache.get(p);if(G){var H=n.getLineAxisCfg(u,f,D);Hd(H,r0),G.component.update(H),t.set(p,G)}else G=n.createLineAxis(u,f,h,D,v),n.cache.set(p,G),t.set(p,G);var X=n.cache.get(g);if(X){var H=n.getLineGridCfg(u,f,D,v);Hd(H,r0),X.component.update(H),t.set(g,X)}else X=n.createLineGrid(u,f,h,D,v),X&&(n.cache.set(g,X),t.set(g,X))}else if(E.isPolar){var G=n.cache.get(p);if(G){var H=E.isTransposed?n.getCircleAxisCfg(u,f,An.CIRCLE):n.getLineAxisCfg(u,f,An.RADIUS);Hd(H,r0),G.component.update(H),t.set(p,G)}else{if(E.isTransposed){if((0,w.isUndefined)(f))return;G=n.createCircleAxis(u,f,h,An.CIRCLE,v)}else G=n.createLineAxis(u,f,h,An.RADIUS,v);n.cache.set(p,G),t.set(p,G)}var X=n.cache.get(g);if(X){var H=E.isTransposed?n.getLineGridCfg(u,f,An.CIRCLE,v):n.getCircleGridCfg(u,f,An.RADIUS,v);Hd(H,r0),X.component.update(H),t.set(g,X)}else{if(E.isTransposed){if((0,w.isUndefined)(f))return;X=n.createLineGrid(u,f,h,An.CIRCLE,v)}else X=n.createCircleGrid(u,f,h,An.RADIUS,v);X&&(n.cache.set(g,X),t.set(g,X))}}}}})},e.prototype.createLineAxis=function(t,n,o,u,l){var c={component:new D4(this.getLineAxisCfg(t,n,u)),layer:o,direction:u===An.RADIUS?An.NONE:u,type:ua.AXIS,extra:{dim:l,scale:t}};return c.component.set("field",t.field),c.component.init(),c},e.prototype.createLineGrid=function(t,n,o,u,l){var c=this.getLineGridCfg(t,n,u,l);if(c){var f={component:new L4(c),layer:o,direction:An.NONE,type:ua.GRID,extra:{dim:l,scale:t,alignTick:(0,w.get)(c,"alignTick",!0)}};return f.component.init(),f}},e.prototype.createCircleAxis=function(t,n,o,u,l){var c={component:new P4(this.getCircleAxisCfg(t,n,u)),layer:o,direction:u,type:ua.AXIS,extra:{dim:l,scale:t}};return c.component.set("field",t.field),c.component.init(),c},e.prototype.createCircleGrid=function(t,n,o,u,l){var c=this.getCircleGridCfg(t,n,u,l);if(c){var f={component:new R4(c),layer:o,direction:An.NONE,type:ua.GRID,extra:{dim:l,scale:t,alignTick:(0,w.get)(c,"alignTick",!0)}};return f.component.init(),f}},e.prototype.getLineAxisCfg=function(t,n,o){var u=(0,w.get)(n,["top"])?this.axisForeContainer:this.axisContainer,l=this.view.getCoordinate(),c=uE(l,o),f=HT(t,n),h=lE(this.view.getTheme(),o),v=(0,w.get)(n,["title"])?(0,w.deepMix)({title:{style:{text:f}}},{title:WT(this.view.getTheme(),o,n.title)},n):n,p=(0,w.deepMix)((0,Z.__assign)((0,Z.__assign)({container:u},c),{ticks:t.getTicks().map(function(ht){return{id:"".concat(ht.tickValue),name:ht.text,value:ht.value}}),verticalFactor:l.isPolar?jT(c,l.getCenter())*-1:jT(c,l.getCenter()),theme:h}),h,v),g=this.getAnimateCfg(p),E=g.animate,D=g.animateOption;p.animateOption=D,p.animate=E;var G=UT(c),H=(0,w.get)(p,"verticalLimitLength",G?1/3:1/2);if(H<=1){var X=this.view.getCanvas().get("width"),rt=this.view.getCanvas().get("height");p.verticalLimitLength=H*(G?X:rt)}return p},e.prototype.getLineGridCfg=function(t,n,o,u){if(!!WI(lE(this.view.getTheme(),o),n)){var l=jI(this.view.getTheme(),o),c=(0,w.deepMix)({container:(0,w.get)(n,["top"])?this.gridForeContainer:this.gridContainer},l,(0,w.get)(n,"grid"),this.getAnimateCfg(n));return c.items=LE(this.view.getCoordinate(),t,u,(0,w.get)(c,"alignTick",!0)),c}},e.prototype.getCircleAxisCfg=function(t,n,o){var u=(0,w.get)(n,["top"])?this.axisForeContainer:this.axisContainer,l=this.view.getCoordinate(),c=t.getTicks().map(function(G){return{id:"".concat(G.tickValue),name:G.text,value:G.value}});!t.isCategory&&Math.abs(l.endAngle-l.startAngle)===Math.PI*2&&c.pop();var f=HT(t,n),h=lE(this.view.getTheme(),An.CIRCLE),v=(0,w.get)(n,["title"])?(0,w.deepMix)({title:{style:{text:f}}},{title:WT(this.view.getTheme(),o,n.title)},n):n,p=(0,w.deepMix)((0,Z.__assign)((0,Z.__assign)({container:u},lw(this.view.getCoordinate())),{ticks:c,verticalFactor:1,theme:h}),h,v),g=this.getAnimateCfg(p),E=g.animate,D=g.animateOption;return p.animate=E,p.animateOption=D,p},e.prototype.getCircleGridCfg=function(t,n,o,u){if(!!WI(lE(this.view.getTheme(),o),n)){var l=jI(this.view.getTheme(),An.RADIUS),c=(0,w.deepMix)({container:(0,w.get)(n,["top"])?this.gridForeContainer:this.gridContainer,center:this.view.getCoordinate().getCenter()},l,(0,w.get)(n,"grid"),this.getAnimateCfg(n)),f=(0,w.get)(c,"alignTick",!0),h=u==="x"?this.view.getYScales()[0]:this.view.getXScale();return c.items=r_(this.view.getCoordinate(),h,t,f,u),c}},e.prototype.getId=function(t,n){var o=this.view.getCoordinate();return"".concat(t,"-").concat(n,"-").concat(o.type)},e.prototype.getAnimateCfg=function(t){return{animate:this.view.getOptions().animate&&(0,w.get)(t,"animate"),animateOption:t&&t.animateOption?(0,w.deepMix)({},VI,t.animateOption):VI}},e}(K0),yG=gG;function n0(a,e,t){return t===An.TOP?[a.minX+a.width/2-e.width/2,a.minY]:t===An.BOTTOM?[a.minX+a.width/2-e.width/2,a.maxY-e.height]:t===An.LEFT?[a.minX,a.minY+a.height/2-e.height/2]:t===An.RIGHT?[a.maxX-e.width,a.minY+a.height/2-e.height/2]:t===An.TOP_LEFT||t===An.LEFT_TOP?[a.tl.x,a.tl.y]:t===An.TOP_RIGHT||t===An.RIGHT_TOP?[a.tr.x-e.width,a.tr.y]:t===An.BOTTOM_LEFT||t===An.LEFT_BOTTOM?[a.bl.x,a.bl.y-e.height]:t===An.BOTTOM_RIGHT||t===An.RIGHT_BOTTOM?[a.br.x-e.width,a.br.y-e.height]:[0,0]}function mG(a,e){if(e.isTransposed)switch(a){case DIRECTION.BOTTOM:return DIRECTION.LEFT;case DIRECTION.LEFT:return DIRECTION.BOTTOM;case DIRECTION.RIGHT:return DIRECTION.TOP;case DIRECTION.TOP:return DIRECTION.RIGHT}return a}function HI(a){return a===DIRECTION.LEFT?DIRECTION.RIGHT:a===DIRECTION.RIGHT?DIRECTION.LEFT:a}function YI(a){return a===DIRECTION.TOP?DIRECTION.BOTTOM:a===DIRECTION.BOTTOM?DIRECTION.TOP:a}function xG(a,e){var t=e.matrix[0],n=e.matrix[4],o=a;return t<0&&(o=HI(o)),n<0&&(o=YI(o)),o}function bG(a,e){var t=a;return e.isReflect("x")&&(t=HI(t)),e.isReflect("y")&&(t=YI(t)),t}function fct(a,e){var t=a;return t=mG(t,e),t=xG(t,e),t=bG(t,e),t}function XI(a,e){return(0,w.isBoolean)(a)?a===!1?!1:{}:(0,w.get)(a,[e],a)}function RE(a){return(0,w.get)(a,"position",An.BOTTOM)}var EG=function(a){(0,Z.__extends)(e,a);function e(t){var n=a.call(this,t)||this;return n.container=n.view.getLayer(hi.FORE).addGroup(),n}return Object.defineProperty(e.prototype,"name",{get:function(){return"legend"},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.render=function(){this.update()},e.prototype.layout=function(){var t=this;this.layoutBBox=this.view.viewBBox,(0,w.each)(this.components,function(n){var o=n.component,u=n.direction,l=Mw(u),c=o.get("maxWidthRatio"),f=o.get("maxHeightRatio"),h=t.getCategoryLegendSizeCfg(l,c,f),v=o.get("maxWidth"),p=o.get("maxHeight");o.update({maxWidth:Math.min(h.maxWidth,v||0),maxHeight:Math.min(h.maxHeight,p||0)});var g=o.get("padding"),E=o.getLayoutBBox(),D=new kh(E.x,E.y,E.width,E.height).expand(g),G=n0(t.view.viewBBox,D,u),H=G[0],X=G[1],rt=n0(t.layoutBBox,D,u),ht=rt[0],mt=rt[1],Dt=0,kt=0;u.startsWith("top")||u.startsWith("bottom")?(Dt=H,kt=mt):(Dt=ht,kt=X),o.setLocation({x:Dt+g[3],y:kt+g[0]}),t.layoutBBox=t.layoutBBox.cut(D,u)})},e.prototype.update=function(){var t=this;this.option=this.view.getOptions().legends;var n={},o=function(g,E,D){var G=t.getId(D.field),H=t.getComponentById(G);if(H){var X=void 0,rt=XI(t.option,D.field);rt!==!1&&((0,w.get)(rt,"custom")?X=t.getCategoryCfg(g,E,D,rt,!0):D.isLinear?X=t.getContinuousCfg(g,E,D,rt):D.isCategory&&(X=t.getCategoryCfg(g,E,D,rt))),X&&(Hd(X,["container"]),H.direction=RE(rt),H.component.update(X),n[G]=!0)}else{var ht=t.createFieldLegend(g,E,D);ht&&(ht.component.init(),t.components.push(ht),n[G]=!0)}};if((0,w.get)(this.option,"custom")){var u="global-custom",l=this.getComponentById(u);if(l){var c=this.getCategoryCfg(void 0,void 0,void 0,this.option,!0);Hd(c,["container"]),l.component.update(c),n[u]=!0}else{var f=this.createCustomLegend(void 0,void 0,void 0,this.option);if(f){f.init();var h=hi.FORE,v=RE(this.option);this.components.push({id:u,component:f,layer:h,direction:v,type:ua.LEGEND,extra:void 0}),n[u]=!0}}}else this.loopLegends(o);var p=[];(0,w.each)(this.getComponents(),function(g){n[g.id]?p.push(g):g.component.destroy()}),this.components=p},e.prototype.clear=function(){a.prototype.clear.call(this),this.container.clear()},e.prototype.destroy=function(){a.prototype.destroy.call(this),this.container.remove(!0)},e.prototype.getGeometries=function(t){var n=this,o=t.geometries;return(0,w.each)(t.views,function(u){o=o.concat(n.getGeometries(u))}),o},e.prototype.loopLegends=function(t){var n=this.view.getRootView()===this.view;if(!!n){var o=this.getGeometries(this.view),u={};(0,w.each)(o,function(l){var c=l.getGroupAttributes();(0,w.each)(c,function(f){var h=f.getScale(f.type);!h||h.type==="identity"||u[h.field]||(t(l,f,h),u[h.field]=!0)})})}},e.prototype.createFieldLegend=function(t,n,o){var u,l=XI(this.option,o.field),c=hi.FORE,f=RE(l);if(l!==!1&&((0,w.get)(l,"custom")?u=this.createCustomLegend(t,n,o,l):o.isLinear?u=this.createContinuousLegend(t,n,o,l):o.isCategory&&(u=this.createCategoryLegend(t,n,o,l))),u)return u.set("field",o.field),{id:this.getId(o.field),component:u,layer:c,direction:f,type:ua.LEGEND,extra:{scale:o}}},e.prototype.createCustomLegend=function(t,n,o,u){var l=this.getCategoryCfg(t,n,o,u,!0);return new RT(l)},e.prototype.createContinuousLegend=function(t,n,o,u){var l=this.getContinuousCfg(t,n,o,Hd(u,["value"]));return new F4(l)},e.prototype.createCategoryLegend=function(t,n,o,u){var l=this.getCategoryCfg(t,n,o,u);return new RT(l)},e.prototype.getContinuousCfg=function(t,n,o,u){var l=o.getTicks(),c=(0,w.find)(l,function(G){return G.value===0}),f=(0,w.find)(l,function(G){return G.value===1}),h=l.map(function(G){var H=G.value,X=G.tickValue,rt=n.mapping(o.invert(H)).join("");return{value:X,attrValue:rt,color:rt,scaleValue:H}});c||h.push({value:o.min,attrValue:n.mapping(o.invert(0)).join(""),color:n.mapping(o.invert(0)).join(""),scaleValue:0}),f||h.push({value:o.max,attrValue:n.mapping(o.invert(1)).join(""),color:n.mapping(o.invert(1)).join(""),scaleValue:1}),h.sort(function(G,H){return G.value-H.value});var v={min:(0,w.head)(h).value,max:(0,w.last)(h).value,colors:[],rail:{type:n.type},track:{}};n.type==="size"&&(v.track={style:{fill:n.type==="size"?this.view.getTheme().defaultColor:void 0}}),n.type==="color"&&(v.colors=h.map(function(G){return G.attrValue}));var p=this.container,g=RE(u),E=Mw(g),D=(0,w.get)(u,"title");return D&&(D=(0,w.deepMix)({text:Ox(o)},D)),v.container=p,v.layout=E,v.title=D,v.animateOption=Pm,this.mergeLegendCfg(v,u,"continuous")},e.prototype.getCategoryCfg=function(t,n,o,u,l){var c=this.container,f=(0,w.get)(u,"position",An.BOTTOM),h=FM(this.view.getTheme(),f),v=(0,w.get)(h,["marker"]),p=(0,w.get)(u,"marker"),g=Mw(f),E=(0,w.get)(h,["pageNavigator"]),D=(0,w.get)(u,"pageNavigator"),G=l?l6(v,p,u.items):RM(this.view,t,n,v,p),H=(0,w.get)(u,"title");H&&(H=(0,w.deepMix)({text:o?Ox(o):""},H));var X=(0,w.get)(u,"maxWidthRatio"),rt=(0,w.get)(u,"maxHeightRatio"),ht=this.getCategoryLegendSizeCfg(g,X,rt);ht.container=c,ht.layout=g,ht.items=G,ht.title=H,ht.animateOption=Pm,ht.pageNavigator=(0,w.deepMix)({},E,D);var mt=this.mergeLegendCfg(ht,u,f);mt.reversed&&mt.items.reverse();var Dt=(0,w.get)(mt,"maxItemWidth");return Dt&&Dt<=1&&(mt.maxItemWidth=this.view.viewBBox.width*Dt),mt},e.prototype.mergeLegendCfg=function(t,n,o){var u=o.split("-")[0],l=FM(this.view.getTheme(),u);return(0,w.deepMix)({},l,t,n)},e.prototype.getId=function(t){return"".concat(this.name,"-").concat(t)},e.prototype.getComponentById=function(t){return(0,w.find)(this.components,function(n){return n.id===t})},e.prototype.getCategoryLegendSizeCfg=function(t,n,o){n===void 0&&(n=oc),o===void 0&&(o=oc);var u=this.view.viewBBox,l=u.width,c=u.height;return t==="vertical"?{maxWidth:l*n,maxHeight:c}:{maxWidth:l,maxHeight:c*o}},e}(K0),SG=EG,wG=function(a){(0,Z.__extends)(e,a);function e(t){var n=a.call(this,t)||this;return n.onChangeFn=w.noop,n.resetMeasure=function(){n.clear()},n.onValueChange=function(o){var u=o[0],l=o[1];n.start=u,n.end=l,n.changeViewData(u,l)},n.container=n.view.getLayer(hi.FORE).addGroup(),n.onChangeFn=(0,w.throttle)(n.onValueChange,20,{leading:!0}),n.width=0,n.view.on(pi.BEFORE_CHANGE_DATA,n.resetMeasure),n.view.on(pi.BEFORE_CHANGE_SIZE,n.resetMeasure),n}return Object.defineProperty(e.prototype,"name",{get:function(){return"slider"},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){a.prototype.destroy.call(this),this.view.off(pi.BEFORE_CHANGE_DATA,this.resetMeasure),this.view.off(pi.BEFORE_CHANGE_SIZE,this.resetMeasure)},e.prototype.init=function(){},e.prototype.render=function(){this.option=this.view.getOptions().slider;var t=this.getSliderCfg(),n=t.start,o=t.end;(0,w.isNil)(this.start)&&(this.start=n,this.end=o);var u=this.view.getOptions().data;this.option&&!(0,w.isEmpty)(u)?this.slider?this.slider=this.updateSlider():(this.slider=this.createSlider(),this.slider.component.on("sliderchange",this.onChangeFn)):this.slider&&(this.slider.component.destroy(),this.slider=void 0)},e.prototype.layout=function(){var t=this;if(this.option&&!this.width&&(this.measureSlider(),setTimeout(function(){t.view.destroyed||t.changeViewData(t.start,t.end)},0)),this.slider){var n=this.view.coordinateBBox.width,o=this.slider.component.get("padding"),u=o[0],l=o[1],c=o[2],f=o[3],h=this.slider.component.getLayoutBBox(),v=new kh(h.x,h.y,Math.min(h.width,n),h.height).expand(o),p=this.getMinMaxText(this.start,this.end),g=p.minText,E=p.maxText,D=n0(this.view.viewBBox,v,An.BOTTOM),G=D[0],H=D[1],X=n0(this.view.coordinateBBox,v,An.BOTTOM),rt=X[0],ht=X[1];this.slider.component.update((0,Z.__assign)((0,Z.__assign)({},this.getSliderCfg()),{x:rt+f,y:H+u,width:this.width,start:this.start,end:this.end,minText:g,maxText:E})),this.view.viewBBox=this.view.viewBBox.cut(v,An.BOTTOM)}},e.prototype.update=function(){this.render()},e.prototype.createSlider=function(){var t=this.getSliderCfg(),n=new M4((0,Z.__assign)({container:this.container},t));return n.init(),{component:n,layer:hi.FORE,direction:An.BOTTOM,type:ua.SLIDER}},e.prototype.updateSlider=function(){var t=this.getSliderCfg();if(this.width){var n=this.getMinMaxText(this.start,this.end),o=n.minText,u=n.maxText;t=(0,Z.__assign)((0,Z.__assign)({},t),{width:this.width,start:this.start,end:this.end,minText:o,maxText:u})}return this.slider.component.update(t),this.slider},e.prototype.measureSlider=function(){var t=this.getSliderCfg().width;this.width=t},e.prototype.getSliderCfg=function(){var t={height:16,start:0,end:1,minText:"",maxText:"",x:0,y:0,width:this.view.coordinateBBox.width};if((0,w.isObject)(this.option)){var n=(0,Z.__assign)({data:this.getData()},(0,w.get)(this.option,"trendCfg",{}));t=(0,w.deepMix)({},t,this.getThemeOptions(),this.option),t=(0,Z.__assign)((0,Z.__assign)({},t),{trendCfg:n})}return t.start=(0,w.clamp)(Math.min((0,w.isNil)(t.start)?0:t.start,(0,w.isNil)(t.end)?1:t.end),0,1),t.end=(0,w.clamp)(Math.max((0,w.isNil)(t.start)?0:t.start,(0,w.isNil)(t.end)?1:t.end),0,1),t},e.prototype.getData=function(){var t=this.view.getOptions().data,n=this.view.getYScales()[0],o=this.view.getGroupScales();if(o.length){var u=o[0],l=u.field,c=u.ticks;return t.reduce(function(f,h){return h[l]===c[0]&&f.push(h[n.field]),f},[])}return t.map(function(f){return f[n.field]||0})},e.prototype.getThemeOptions=function(){var t=this.view.getTheme();return(0,w.get)(t,["components","slider","common"],{})},e.prototype.getMinMaxText=function(t,n){var o=this.view.getOptions().data,u=this.view.getXScale(),l=!0,c=(0,w.valuesOfKey)(o,u.field);u.isLinear&&(c=c.sort());var f=l?c:c.reverse(),h=(0,w.size)(o);if(!u||!h)return{};var v=(0,w.size)(f),p=Math.floor(t*(v-1)),g=Math.floor(n*(v-1)),E=(0,w.get)(f,[p]),D=(0,w.get)(f,[g]),G=this.getSliderCfg().formatter;return G&&(E=G(E,o[p],p),D=G(D,o[g],g)),{minText:E,maxText:D}},e.prototype.changeViewData=function(t,n){var o=this.view.getOptions().data,u=this.view.getXScale(),l=(0,w.size)(o);if(!(!u||!l)){var c=!0,f=(0,w.valuesOfKey)(o,u.field),h=this.view.getXScale().isLinear?f.sort(function(D,G){return Number(D)-Number(G)}):f,v=c?h:h.reverse(),p=(0,w.size)(v),g=Math.floor(t*(p-1)),E=Math.floor(n*(p-1));this.view.filter(u.field,function(D,G){var H=v.indexOf(D);return H>-1?Tm(H,g,E):!0}),this.view.render(!0)}},e.prototype.getComponents=function(){return this.slider?[this.slider]:[]},e.prototype.clear=function(){this.slider&&(this.slider.component.destroy(),this.slider=void 0),this.width=0,this.start=void 0,this.end=void 0},e}(K0),_G=wG,FE=0,$I=8,AG=32,CG=20,TG=function(a){(0,Z.__extends)(e,a);function e(t){var n=a.call(this,t)||this;return n.onChangeFn=w.noop,n.resetMeasure=function(){n.clear()},n.onValueChange=function(o){var u=o.ratio,l=n.getValidScrollbarCfg().animate;n.ratio=(0,w.clamp)(u,0,1);var c=n.view.getOptions().animate;l||n.view.animate(!1),n.changeViewData(n.getScrollRange(),!0),n.view.animate(c)},n.container=n.view.getLayer(hi.FORE).addGroup(),n.onChangeFn=(0,w.throttle)(n.onValueChange,20,{leading:!0}),n.trackLen=0,n.thumbLen=0,n.ratio=0,n.view.on(pi.BEFORE_CHANGE_DATA,n.resetMeasure),n.view.on(pi.BEFORE_CHANGE_SIZE,n.resetMeasure),n}return Object.defineProperty(e.prototype,"name",{get:function(){return"scrollbar"},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){a.prototype.destroy.call(this),this.view.off(pi.BEFORE_CHANGE_DATA,this.resetMeasure),this.view.off(pi.BEFORE_CHANGE_SIZE,this.resetMeasure)},e.prototype.init=function(){},e.prototype.render=function(){this.option=this.view.getOptions().scrollbar,this.option?this.scrollbar?this.scrollbar=this.updateScrollbar():(this.scrollbar=this.createScrollbar(),this.scrollbar.component.on("scrollchange",this.onChangeFn)):this.scrollbar&&(this.scrollbar.component.destroy(),this.scrollbar=void 0)},e.prototype.layout=function(){var t=this;if(this.option&&!this.trackLen&&(this.measureScrollbar(),setTimeout(function(){t.view.destroyed||t.changeViewData(t.getScrollRange(),!0)})),this.scrollbar){var n=this.view.coordinateBBox.width,o=this.scrollbar.component.get("padding"),u=this.scrollbar.component.getLayoutBBox(),l=new kh(u.x,u.y,Math.min(u.width,n),u.height).expand(o),c=this.getScrollbarComponentCfg(),f=void 0,h=void 0;if(c.isHorizontal){var v=n0(this.view.viewBBox,l,An.BOTTOM),p=v[0],g=v[1],E=n0(this.view.coordinateBBox,l,An.BOTTOM),D=E[0],G=E[1];f=D,h=g}else{var H=n0(this.view.viewBBox,l,An.RIGHT),p=H[0],g=H[1],X=n0(this.view.viewBBox,l,An.RIGHT),D=X[0],G=X[1];f=D,h=g}f+=o[3],h+=o[0],this.trackLen?this.scrollbar.component.update((0,Z.__assign)((0,Z.__assign)({},c),{x:f,y:h,trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:(this.trackLen-this.thumbLen)*this.ratio})):this.scrollbar.component.update((0,Z.__assign)((0,Z.__assign)({},c),{x:f,y:h})),this.view.viewBBox=this.view.viewBBox.cut(l,c.isHorizontal?An.BOTTOM:An.RIGHT)}},e.prototype.update=function(){this.render()},e.prototype.getComponents=function(){return this.scrollbar?[this.scrollbar]:[]},e.prototype.clear=function(){this.scrollbar&&(this.scrollbar.component.destroy(),this.scrollbar=void 0),this.trackLen=0,this.thumbLen=0,this.ratio=0,this.cnt=0,this.step=0,this.data=void 0,this.xScaleCfg=void 0,this.yScalesCfg=[]},e.prototype.setValue=function(t){this.onValueChange({ratio:t})},e.prototype.getValue=function(){return this.ratio},e.prototype.getThemeOptions=function(){var t=this.view.getTheme();return(0,w.get)(t,["components","scrollbar","common"],{})},e.prototype.getScrollbarTheme=function(t){var n=(0,w.get)(this.view.getTheme(),["components","scrollbar"]),o=t||{},u=o.thumbHighlightColor,l=(0,Z.__rest)(o,["thumbHighlightColor"]);return{default:(0,w.deepMix)({},(0,w.get)(n,["default","style"],{}),l),hover:(0,w.deepMix)({},(0,w.get)(n,["hover","style"],{}),{thumbColor:u})}},e.prototype.measureScrollbar=function(){var t=this.view.getXScale(),n=this.view.getYScales().slice();this.data=this.getScrollbarData(),this.step=this.getStep(),this.cnt=this.getCnt();var o=this.getScrollbarComponentCfg(),u=o.trackLen,l=o.thumbLen;this.trackLen=u,this.thumbLen=l,this.xScaleCfg={field:t.field,values:t.values||[]},this.yScalesCfg=n},e.prototype.getScrollRange=function(){var t=Math.floor((this.cnt-this.step)*(0,w.clamp)(this.ratio,0,1)),n=Math.min(t+this.step-1,this.cnt-1);return[t,n]},e.prototype.changeViewData=function(t,n){var o=this,u=t[0],l=t[1],c=this.getValidScrollbarCfg().type,f=c!=="vertical",h=(0,w.valuesOfKey)(this.data,this.xScaleCfg.field),v=this.view.getXScale().isLinear?h.sort(function(g,E){return Number(g)-Number(E)}):h,p=f?v:v.reverse();this.yScalesCfg.forEach(function(g){o.view.scale(g.field,{formatter:g.formatter,type:g.type,min:g.min,max:g.max,tickMethod:g.tickMethod})}),this.view.filter(this.xScaleCfg.field,function(g){var E=p.indexOf(g);return E>-1?Tm(E,u,l):!0}),this.view.render(!0)},e.prototype.createScrollbar=function(){var t=this.getValidScrollbarCfg().type,n=t!=="vertical",o=new O4((0,Z.__assign)((0,Z.__assign)({container:this.container},this.getScrollbarComponentCfg()),{x:0,y:0}));return o.init(),{component:o,layer:hi.FORE,direction:n?An.BOTTOM:An.RIGHT,type:ua.SCROLLBAR}},e.prototype.updateScrollbar=function(){var t=this.getScrollbarComponentCfg(),n=this.trackLen?(0,Z.__assign)((0,Z.__assign)({},t),{trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:(this.trackLen-this.thumbLen)*this.ratio}):(0,Z.__assign)({},t);return this.scrollbar.component.update(n),this.scrollbar},e.prototype.getStep=function(){if(this.step)return this.step;var t=this.view.coordinateBBox,n=this.getValidScrollbarCfg(),o=n.type,u=n.categorySize,l=o!=="vertical";return Math.floor((l?t.width:t.height)/u)},e.prototype.getCnt=function(){if(this.cnt)return this.cnt;var t=this.view.getXScale(),n=this.getScrollbarData(),o=(0,w.valuesOfKey)(n,t.field);return(0,w.size)(o)},e.prototype.getScrollbarComponentCfg=function(){var t=this.view,n=t.coordinateBBox,o=t.viewBBox,u=this.getValidScrollbarCfg(),l=u.type,c=u.padding,f=u.width,h=u.height,v=u.style,p=l!=="vertical",g=c[0],E=c[1],D=c[2],G=c[3],H=p?{x:n.minX+G,y:o.maxY-h-D}:{x:o.maxX-f-E,y:n.minY+g},X=this.getStep(),rt=this.getCnt(),ht=p?n.width-G-E:n.height-g-D,mt=Math.max(ht*(0,w.clamp)(X/rt,0,1),CG);return(0,Z.__assign)((0,Z.__assign)({},this.getThemeOptions()),{x:H.x,y:H.y,size:p?h:f,isHorizontal:p,trackLen:ht,thumbLen:mt,thumbOffset:0,theme:this.getScrollbarTheme(v)})},e.prototype.getValidScrollbarCfg=function(){var t={type:"horizontal",categorySize:AG,width:$I,height:$I,padding:[0,0,0,0],animate:!0,style:{}};return(0,w.isObject)(this.option)&&(t=(0,Z.__assign)((0,Z.__assign)({},t),this.option)),(!(0,w.isObject)(this.option)||!this.option.padding)&&(t.padding=t.type==="horizontal"?[FE,0,FE,0]:[0,FE,0,FE]),t},e.prototype.getScrollbarData=function(){var t=this.view.getCoordinate(),n=this.getValidScrollbarCfg(),o=this.view.getOptions().data||[];return t.isReflect("y")&&n.type==="vertical"&&(o=(0,Z.__spreadArray)([],o,!0).reverse()),o},e}(K0),MG=TG,IG={fill:"#CCD6EC",opacity:.3};function OG(a,e,t){var n=O5(a,e,t);if(n.length){n=(0,w.flatten)(n);for(var o=0,u=n;o<u.length;o++)for(var l=u[o],c=0,f=l;c<f.length;c++){var h=f[c],v=h.mappingData,p=v.x,g=v.y;h.x=(0,w.isArray)(p)?p[p.length-1]:p,h.y=(0,w.isArray)(g)?g[g.length-1]:g}var E=t.shared;if(E===!1&&n.length>1){for(var D=n[0],G=Math.abs(e.y-D[0].y),H=0,X=n;H<X.length;H++){var rt=X[H],ht=Math.abs(e.y-rt[0].y);ht<=G&&(D=rt,G=ht)}n=[D]}return(0,w.uniq)((0,w.flatten)(n))}return[]}var DG=function(a){(0,Z.__extends)(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.show=function(t){var n=this.context.view,o=this.context.event,u=n.getController("tooltip").getTooltipCfg(),l=OG(n,{x:o.x,y:o.y},u);if(!(0,w.isEqual)(l,this.items)&&(this.items=l,l.length)){var c=n.getXScale().field,f=l[0].data[c],h=[],v=n.geometries;if((0,w.each)(v,function(en){if(en.type==="interval"||en.type==="schema"){var cr=en.getElementsBy(function(Fr){var qr=Fr.getData();return qr[c]===f});h=h.concat(cr)}}),h.length){var p=n.getCoordinate(),g=h[0].shape.getCanvasBBox(),E=h[0].shape.getCanvasBBox(),D=g;(0,w.each)(h,function(en){var cr=en.shape.getCanvasBBox();p.isTransposed?(cr.minY<g.minY&&(g=cr),cr.maxY>E.maxY&&(E=cr)):(cr.minX<g.minX&&(g=cr),cr.maxX>E.maxX&&(E=cr)),D.x=Math.min(cr.minX,D.minX),D.y=Math.min(cr.minY,D.minY),D.width=Math.max(cr.maxX,D.maxX)-D.x,D.height=Math.max(cr.maxY,D.maxY)-D.y});var G=n.backgroundGroup,H=n.coordinateBBox,X=void 0;if(p.isRect){var rt=n.getXScale(),ht=t||{},mt=ht.appendRatio,Dt=ht.appendWidth;(0,w.isNil)(Dt)&&(mt=(0,w.isNil)(mt)?rt.isLinear?0:.25:mt,Dt=p.isTransposed?mt*E.height:mt*g.width);var kt=void 0,Vt=void 0,te=void 0,le=void 0;p.isTransposed?(kt=H.minX,Vt=Math.min(E.minY,g.minY)-Dt,te=H.width,le=D.height+Dt*2):(kt=Math.min(g.minX,E.minX)-Dt,Vt=H.minY,te=D.width+Dt*2,le=H.height),X=[["M",kt,Vt],["L",kt+te,Vt],["L",kt+te,Vt+le],["L",kt,Vt+le],["Z"]]}else{var pe=(0,w.head)(h),De=(0,w.last)(h),Xe=Mx(pe.getModel(),p).startAngle,pr=Mx(De.getModel(),p).endAngle,yr=p.getCenter(),Vr=p.getRadius(),nr=p.innerRadius*Vr;X=Zg(yr.x,yr.y,Vr,Xe,pr,nr)}if(this.regionPath)this.regionPath.attr("path",X),this.regionPath.show();else{var Gr=(0,w.get)(t,"style",IG);this.regionPath=G.addShape({type:"path",name:"active-region",capture:!1,attrs:(0,Z.__assign)((0,Z.__assign)({},Gr),{path:X})})}}}},e.prototype.hide=function(){this.regionPath&&this.regionPath.hide(),this.items=null},e.prototype.destroy=function(){this.hide(),this.regionPath&&this.regionPath.remove(!0),a.prototype.destroy.call(this)},e}(Ws),PG=DG,LG=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.timeStamp=0,t}return e.prototype.show=function(){var t=this.context,n=t.event,o=t.view,u=o.isTooltipLocked();if(!u){var l=this.timeStamp,c=+new Date,f=(0,w.get)(t.view.getOptions(),"tooltip.showDelay",16);if(c-l>f){var h=this.location,v={x:n.x,y:n.y};(!h||!(0,w.isEqual)(h,v))&&this.showTooltip(o,v),this.timeStamp=c,this.location=v}}},e.prototype.hide=function(){var t=this.context.view,n=t.getController("tooltip"),o=this.context.event,u=o.clientX,l=o.clientY;n.isCursorEntered({x:u,y:l})||t.isTooltipLocked()||(this.hideTooltip(t),this.location=null)},e.prototype.showTooltip=function(t,n){t.showTooltip(n)},e.prototype.hideTooltip=function(t){t.hideTooltip()},e}(Ws),KI=LG,RG=function(a){(0,Z.__extends)(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.showTooltip=function(t,n){var o=Rp(t);(0,w.each)(o,function(u){var l=vw(t,u,n);u.showTooltip(l)})},e.prototype.hideTooltip=function(t){var n=Rp(t);(0,w.each)(n,function(o){o.hideTooltip()})},e}(KI),FG=RG,NG=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.timeStamp=0,t}return e.prototype.destroy=function(){a.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},e.prototype.show=function(){var t=this.context,n=t.event,o=this.timeStamp,u=+new Date;if(u-o>16){var l=this.location,c={x:n.x,y:n.y};(!l||!(0,w.isEqual)(l,c))&&this.showTooltip(c),this.timeStamp=u,this.location=c}},e.prototype.hide=function(){this.hideTooltip(),this.location=null},e.prototype.showTooltip=function(t){var n=this.context,o=n.event,u=o.target;if(u&&u.get("tip")){this.tooltip||this.renderTooltip();var l=u.get("tip");this.tooltip.update((0,Z.__assign)({title:l},t)),this.tooltip.show()}},e.prototype.hideTooltip=function(){this.tooltip&&this.tooltip.hide()},e.prototype.renderTooltip=function(){var t,n=this.context.view,o=n.canvas,u={start:{x:0,y:0},end:{x:o.get("width"),y:o.get("height")}},l=n.getTheme(),c=(0,w.get)(l,["components","tooltip","domStyles"],{}),f=new ow({parent:o.get("el").parentNode,region:u,visible:!1,crosshairs:null,domStyles:(0,Z.__assign)({},(0,w.deepMix)({},c,(t={},t[H0]={"max-width":"50%"},t[Y0]={"word-break":"break-all"},t)))});f.init(),f.setCapture(!1),this.tooltip=f},e}(Ws),kG=NG,BG=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.stateName="",t}return e.prototype.hasState=function(t){return t.hasState(this.stateName)},e.prototype.setElementState=function(t,n){t.setState(this.stateName,n)},e.prototype.setState=function(){this.setStateEnable(!0)},e.prototype.clear=function(){var t=this.context.view;this.clearViewState(t)},e.prototype.clearViewState=function(t){var n=this,o=tM(t,this.stateName);(0,w.each)(o,function(u){n.setElementState(u,!1)})},e}(Ws),n_=BG;function ZI(a){return(0,w.get)(a.get("delegateObject"),"item")}var GG=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.ignoreListItemStates=["unchecked"],t}return e.prototype.isItemIgnore=function(t,n){var o=this.ignoreListItemStates,u=o.filter(function(l){return n.hasState(t,l)});return!!u.length},e.prototype.setStateByComponent=function(t,n,o){var u=this.context.view,l=t.get("field"),c=Sf(u);this.setElementsStateByItem(c,l,n,o)},e.prototype.setStateByElement=function(t,n){this.setElementState(t,n)},e.prototype.isMathItem=function(t,n,o){var u=this.context.view,l=Om(u,n),c=cp(t,n);return!(0,w.isNil)(c)&&o.name===l.getText(c)},e.prototype.setElementsStateByItem=function(t,n,o,u){var l=this;(0,w.each)(t,function(c){l.isMathItem(c,n,o)&&c.setState(l.stateName,u)})},e.prototype.setStateEnable=function(t){var n=Jg(this.context);if(n)QT(this.context)&&this.setStateByElement(n,t);else{var o=Im(this.context);if(Lx(o)){var u=o.item,l=o.component;if(u&&l&&!this.isItemIgnore(u,l)){var c=this.context.event.gEvent;if(c&&c.fromShape&&c.toShape&&ZI(c.fromShape)===ZI(c.toShape))return;this.setStateByComponent(l,u,t)}}}},e.prototype.toggle=function(){var t=Jg(this.context);if(t){var n=t.hasState(this.stateName);this.setElementState(t,!n)}},e.prototype.reset=function(){this.setStateEnable(!1)},e}(n_),i_=GG,zG=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.stateName="active",t}return e.prototype.active=function(){this.setState()},e}(i_),UG=zG,jG=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.cache={},t}return e.prototype.getColorScale=function(t,n){var o=n.geometry.getAttribute("color");if(!o)return null;var u=t.getScaleByField(o.getFields()[0]);return u},e.prototype.getLinkPath=function(t,n){var o=this.context.view,u=o.getCoordinate().isTransposed,l=t.shape.getCanvasBBox(),c=n.shape.getCanvasBBox(),f=u?[["M",l.minX,l.minY],["L",c.minX,c.maxY],["L",c.maxX,c.maxY],["L",l.maxX,l.minY],["Z"]]:[["M",l.maxX,l.minY],["L",c.minX,c.minY],["L",c.minX,c.maxY],["L",l.maxX,l.maxY],["Z"]];return f},e.prototype.addLinkShape=function(t,n,o,u){var l={opacity:.4,fill:n.shape.attr("fill")};t.addShape({type:"path",attrs:(0,Z.__assign)((0,Z.__assign)({},(0,w.deepMix)({},l,(0,w.isFunction)(u)?u(l,n):u)),{path:this.getLinkPath(n,o)})})},e.prototype.linkByElement=function(t,n){var o=this,u=this.context.view,l=this.getColorScale(u,t);if(!!l){var c=cp(t,l.field);if(!this.cache[c]){var f=s5(u,l.field,c),h=this.linkGroup,v=h.addGroup();this.cache[c]=v;var p=f.length;(0,w.each)(f,function(g,E){if(E<p-1){var D=f[E+1];o.addLinkShape(v,g,D,n)}})}}},e.prototype.removeLink=function(t){var n=this.getColorScale(this.context.view,t);if(!!n){var o=cp(t,n.field);this.cache[o]&&(this.cache[o].remove(),this.cache[o]=null)}},e.prototype.link=function(t){var n=this.context;this.linkGroup||(this.linkGroup=n.view.foregroundGroup.addGroup({id:"link-by-color-group",capture:!1}));var o=Jg(n);o&&this.linkByElement(o,t==null?void 0:t.style)},e.prototype.unlink=function(){var t=Jg(this.context);t&&this.removeLink(t)},e.prototype.clear=function(){this.linkGroup&&this.linkGroup.clear(),this.cache={}},e.prototype.destroy=function(){a.prototype.destroy.call(this),this.linkGroup&&this.linkGroup.remove()},e}(Ws),WG=jG,VG=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.startPoint=null,t.endPoint=null,t.isStarted=!1,t.effectSiblings=!1,t.effectByRecord=!1,t}return e.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},e.prototype.start=function(){this.clear(),this.startPoint=this.getCurrentPoint(),this.isStarted=!0},e.prototype.getIntersectElements=function(){var t=null;if(Rx(this.context))t=fw(this.context,10);else{var n=this.startPoint,o=this.isStarted?this.getCurrentPoint():this.endPoint;if(!n||!o)return;var u={minX:Math.min(n.x,o.x),minY:Math.min(n.y,o.y),maxX:Math.max(n.x,o.x),maxY:Math.max(n.y,o.y)},l=this.context.view;t=hw(l,u)}return t},e.prototype.setStateEnable=function(t){if(this.effectSiblings&&!this.effectByRecord)this.setSiblingsState(t);else{var n=Sf(this.context.view),o=this.getIntersectElements();o&&o.length?this.effectByRecord?this.setSiblingsStateByRecord(o,t):this.setElementsState(o,t,n):this.clear()}},e.prototype.setSiblingsStateByRecord=function(t,n){var o=this,u=this.context.view,l=Rp(u),c=t.map(function(v){return v.getModel().data}),f=u.getXScale().field,h=u.getYScales()[0].field;(0,w.each)(l,function(v){var p=Sf(v),g=p.filter(function(E){var D=E.getModel().data;return iM(c,D,f,h)});o.setElementsState(g,n,p)})},e.prototype.setSiblingsState=function(t){var n=this,o=this.context.view,u=Rp(o);Rx(this.context)&&(0,w.each)(u,function(l){var c=Sf(l),f=qT(n.context,l,10);f&&f.length?n.setElementsState(f,t,c):n.clearViewState(l)})},e.prototype.setElementsState=function(t,n,o){var u=this;(0,w.each)(o,function(l){t.includes(l)?u.setElementState(l,n):u.setElementState(l,!1)})},e.prototype.end=function(){this.isStarted=!1,this.endPoint=this.getCurrentPoint()},e.prototype.clear=function(){var t=this,n=this.context.view;if(this.effectSiblings){var o=Rp(n);(0,w.each)(o,function(u){t.clearViewState(u)})}else this.clearViewState(n)},e}(n_),a_=VG,HG=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.stateName="active",t}return e.prototype.active=function(){this.setState()},e}(a_),YG=HG,XG=function(a){(0,Z.__extends)(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.setStateEnable=function(t){var n=Jg(this.context);if(n){if(!QT(this.context))return;t?(this.clear(),this.setElementState(n,!0)):this.hasState(n)&&this.setElementState(n,!1)}},e.prototype.toggle=function(){var t=Jg(this.context);if(t){var n=this.hasState(t);n||this.clear(),this.setElementState(t,!n)}},e.prototype.reset=function(){this.setStateEnable(!1)},e}(n_),o_=XG,$G=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.stateName="active",t}return e.prototype.active=function(){this.setState()},e}(o_),KG=$G,Vx="inactive",Hx="active";function s_(a){var e=Sf(a);(0,w.each)(e,function(t){t.hasState(Hx)&&t.setState(Hx,!1),t.hasState(Vx)&&t.setState(Vx,!1)})}function QI(a,e,t){(0,w.each)(a,function(n){e(n)?(n.hasState(Vx)&&n.setState(Vx,!1),n.setState(Hx,t)):(n.hasState(Hx)&&n.setState(Hx,!1),n.setState(Vx,t))})}var ty=uu.INACTIVE,dg=uu.ACTIVE,ZG=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.stateName=dg,t}return e.prototype.setElementsStateByItem=function(t,n,o,u){var l=this,c=function(f){return l.isMathItem(f,n,o)};this.setHighlightBy(t,c,u)},e.prototype.setElementHighlight=function(t,n){n(t)?(t.hasState(ty)&&t.setState(ty,!1),t.setState(dg,!0)):t.hasState(dg)||t.setState(ty,!0)},e.prototype.setHighlightBy=function(t,n,o){var u=this;if(o)(0,w.each)(t,function(f){u.setElementHighlight(f,n)});else{var l=tM(this.context.view,dg),c=!0;(0,w.each)(l,function(f){if(!n(f))return c=!1,!1}),c?this.clear():(0,w.each)(t,function(f){n(f)&&(f.hasState(dg)&&f.setState(dg,!1),f.setState(ty,!0))})}},e.prototype.setElementState=function(t,n){var o=this.context.view,u=Sf(o);this.setHighlightBy(u,function(l){return t===l},n)},e.prototype.highlight=function(){this.setState()},e.prototype.clear=function(){var t=this.context.view;s_(t)},e}(i_),u_=ZG,QG=function(a){(0,Z.__extends)(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.setStateByElement=function(t,n){var o=this.context.view,u=t.geometry.getAttribute("color");if(!!u){var l=o.getScaleByField(u.getFields()[0]),c=cp(t,l.field),f=Sf(o),h=f.filter(function(v){return cp(v,l.field)===c});this.setHighlightBy(f,function(v){return h.includes(v)},n)}},e}(u_),JG=QG,qG=function(a){(0,Z.__extends)(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.setElementHighlight=function(t,n){n(t)?(t.hasState(ty)&&t.setState(ty,!1),t.setState(dg,!0)):(t.setState(ty,!0),t.hasState(dg)&&t.setState(dg,!1))},e.prototype.setStateByElement=function(t,n){var o=this.context.view,u=o.getXScale(),l=cp(t,u.field),c=Sf(o),f=c.filter(function(h){return cp(h,u.field)===l});this.setHighlightBy(c,function(h){return f.includes(h)},n)},e.prototype.toggle=function(){var t=Jg(this.context);if(t){var n=t.hasState(this.stateName);this.setStateByElement(t,!n)}},e}(u_),tz=qG,vp;(function(a){a.BEFORE_HIGHLIGHT="element-range-highlight:beforehighlight",a.AFTER_HIGHLIGHT="element-range-highlight:afterhighlight",a.BEFORE_CLEAR="element-range-highlight:beforeclear",a.AFTER_CLEAR="element-range-highlight:afterclear"})(vp||(vp={}));var ez=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.stateName="active",t}return e.prototype.clearViewState=function(t){s_(t)},e.prototype.highlight=function(){var t=this.context,n=t.view,o=t.event,u=this.getIntersectElements(),l={view:n,event:o,highlightElements:u};n.emit(vp.BEFORE_HIGHLIGHT,nu.fromData(n,vp.BEFORE_HIGHLIGHT,l)),this.setState(),n.emit(vp.AFTER_HIGHLIGHT,nu.fromData(n,vp.AFTER_HIGHLIGHT,l))},e.prototype.clear=function(){var t=this.context.view;t.emit(vp.BEFORE_CLEAR,nu.fromData(t,vp.BEFORE_CLEAR,{})),a.prototype.clear.call(this),t.emit(vp.AFTER_CLEAR,nu.fromData(t,vp.AFTER_CLEAR,{}))},e.prototype.setElementsState=function(t,n,o){QI(o,function(u){return t.indexOf(u)>=0},n)},e}(a_),JI=ez,rz=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.stateName="active",t}return e.prototype.highlight=function(){this.setState()},e.prototype.setElementState=function(t,n){var o=this.context.view,u=Sf(o);QI(u,function(l){return t===l},n)},e.prototype.clear=function(){var t=this.context.view;s_(t)},e}(o_),nz=rz,iz=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.stateName="selected",t}return e.prototype.selected=function(){this.setState()},e}(a_),az=iz,oz=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.stateName="selected",t}return e.prototype.selected=function(){this.setState()},e}(i_),sz=oz,uz=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.stateName="selected",t}return e.prototype.selected=function(){this.setState()},e}(o_),lz=uz,cz=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.stateName="",t.ignoreItemStates=[],t}return e.prototype.getTriggerListInfo=function(){var t=Im(this.context),n=null;return Lx(t)&&(n={item:t.item,list:t.component}),n},e.prototype.getAllowComponents=function(){var t=this,n=this.context.view,o=rM(n),u=[];return(0,w.each)(o,function(l){l.isList()&&t.allowSetStateByElement(l)&&u.push(l)}),u},e.prototype.hasState=function(t,n){return t.hasState(n,this.stateName)},e.prototype.clearAllComponentsState=function(){var t=this,n=this.getAllowComponents();(0,w.each)(n,function(o){o.clearItemsState(t.stateName)})},e.prototype.allowSetStateByElement=function(t){var n=t.get("field");if(!n)return!1;if(this.cfg&&this.cfg.componentNames){var o=t.get("name");if(this.cfg.componentNames.indexOf(o)===-1)return!1}var u=this.context.view,l=Om(u,n);return l&&l.isCategory},e.prototype.allowSetStateByItem=function(t,n){var o=this.ignoreItemStates;if(o.length){var u=o.filter(function(l){return n.hasState(t,l)});return u.length===0}return!0},e.prototype.setStateByElement=function(t,n,o){var u=t.get("field"),l=this.context.view,c=Om(l,u),f=cp(n,u),h=c.getText(f);this.setItemsState(t,h,o)},e.prototype.setStateEnable=function(t){var n=this,o=Jg(this.context);if(o){var u=this.getAllowComponents();(0,w.each)(u,function(h){n.setStateByElement(h,o,t)})}else{var l=Im(this.context);if(Lx(l)){var c=l.item,f=l.component;this.allowSetStateByElement(f)&&this.allowSetStateByItem(c,f)&&this.setItemState(f,c,t)}}},e.prototype.setItemsState=function(t,n,o){var u=this,l=t.getItems();(0,w.each)(l,function(c){c.name===n&&u.setItemState(t,c,o)})},e.prototype.setItemState=function(t,n,o){t.setItemState(n,this.stateName,o)},e.prototype.setState=function(){this.setStateEnable(!0)},e.prototype.reset=function(){this.setStateEnable(!1)},e.prototype.toggle=function(){var t=this.getTriggerListInfo();if(t&&t.item){var n=t.list,o=t.item,u=this.hasState(n,o);this.setItemState(n,o,!u)}},e.prototype.clear=function(){var t=this.getTriggerListInfo();t?t.list.clearItemsState(this.stateName):this.clearAllComponentsState()},e}(Ws),ey=cz,fz=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.stateName="active",t}return e.prototype.active=function(){this.setState()},e}(ey),hz=fz,qI="inactive",tO="active";function dz(a){var e=a.getItems();(0,w.each)(e,function(t){a.hasState(t,tO)&&a.setItemState(t,tO,!1),a.hasState(t,qI)&&a.setItemState(t,qI,!1)})}var Yx="inactive",ry="active",vz=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.stateName=ry,t.ignoreItemStates=["unchecked"],t}return e.prototype.setItemsState=function(t,n,o){this.setHighlightBy(t,function(u){return u.name===n},o)},e.prototype.setItemState=function(t,n,o){var u=t.getItems();this.setHighlightBy(t,function(l){return l===n},o)},e.prototype.setHighlightBy=function(t,n,o){var u=t.getItems();if(o)(0,w.each)(u,function(f){n(f)?(t.hasState(f,Yx)&&t.setItemState(f,Yx,!1),t.setItemState(f,ry,!0)):t.hasState(f,ry)||t.setItemState(f,Yx,!0)});else{var l=t.getItemsByState(ry),c=!0;(0,w.each)(l,function(f){if(!n(f))return c=!1,!1}),c?this.clear():(0,w.each)(u,function(f){n(f)&&(t.hasState(f,ry)&&t.setItemState(f,ry,!1),t.setItemState(f,Yx,!0))})}},e.prototype.highlight=function(){this.setState()},e.prototype.clear=function(){var t=this.getTriggerListInfo();if(t)dz(t.list);else{var n=this.getAllowComponents();(0,w.each)(n,function(o){o.clearItemsState(ry),o.clearItemsState(Yx)})}},e}(ey),l_=vz,pz=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.stateName="selected",t}return e.prototype.selected=function(){this.setState()},e}(ey),gz=pz,yz=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.stateName="unchecked",t}return e.prototype.unchecked=function(){this.setState()},e}(ey),mz=yz,km="unchecked",NE="checked",xz=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.stateName=NE,t}return e.prototype.setItemState=function(t,n,o){this.setCheckedBy(t,function(u){return u===n},o)},e.prototype.setCheckedBy=function(t,n,o){var u=t.getItems();o&&(0,w.each)(u,function(l){n(l)?(t.hasState(l,km)&&t.setItemState(l,km,!1),t.setItemState(l,NE,!0)):t.hasState(l,NE)||t.setItemState(l,km,!0)})},e.prototype.toggle=function(){var t=this.getTriggerListInfo();if(t&&t.item){var n=t.list,o=t.item,u=!(0,w.some)(n.getItems(),function(l){return n.hasState(l,km)});u||n.hasState(o,km)?this.setItemState(n,o,!0):this.reset()}},e.prototype.checked=function(){this.setState()},e.prototype.reset=function(){var t=this.getAllowComponents();(0,w.each)(t,function(n){n.clearItemsState(NE),n.clearItemsState(km)})},e}(ey),bz=xz,Bm="unchecked",Ez=function(a){(0,Z.__extends)(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.toggle=function(){var t=this.getTriggerListInfo();if(t!=null&&t.item){var n=t.list,o=t.item,u=n.getItems(),l=u.filter(function(rt){return!n.hasState(rt,Bm)}),c=u.filter(function(rt){return n.hasState(rt,Bm)}),f=l[0];if(u.length===l.length)for(var h=0,v=u;h<v.length;h++){var p=v[h];n.setItemState(p,Bm,p.id!==o.id)}else if(u.length-c.length===1)if(f.id===o.id)for(var g=0,E=u;g<E.length;g++){var p=E[g];n.setItemState(p,Bm,!1)}else for(var D=0,G=u;D<G.length;D++){var p=G[D];n.setItemState(p,Bm,p.id!==o.id)}else for(var H=0,X=u;H<X.length;H++){var p=X[H];n.setItemState(p,Bm,p.id!==o.id)}}},e}(ey),Sz=Ez,eO="showRadio",c_="legend-radio-tip",wz=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.timeStamp=0,t}return e.prototype.show=function(){var t=this.getTriggerListInfo();if(t!=null&&t.item){var n=t.list,o=t.item;n.setItemState(o,eO,!0)}},e.prototype.hide=function(){var t=this.getTriggerListInfo();if(t!=null&&t.item){var n=t.list,o=t.item;n.setItemState(o,eO,!1)}},e.prototype.destroy=function(){a.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},e.prototype.showTip=function(){var t=this.context,n=t.event,o=this.timeStamp,u=+new Date,l=this.context.event.target;if(u-o>16&&l.get("name")==="legend-item-radio"){var c=this.location,f={x:n.x,y:n.y};this.timeStamp=u,this.location=f,(!c||!(0,w.isEqual)(c,f))&&this.showTooltip(f)}},e.prototype.hideTip=function(){this.hideTooltip(),this.location=null},e.prototype.showTooltip=function(t){var n=this.context,o=n.event,u=o.target;if(u&&u.get("tip")){this.tooltip||this.renderTooltip();var l=n.view.getCanvas().get("el").getBoundingClientRect(),c=l.x,f=l.y;this.tooltip.update((0,Z.__assign)((0,Z.__assign)({title:u.get("tip")},t),{x:t.x+c,y:t.y+f})),this.tooltip.show()}},e.prototype.hideTooltip=function(){this.tooltip&&this.tooltip.hide()},e.prototype.renderTooltip=function(){var t,n=(t={},t[H0]={padding:"6px 8px",transform:"translate(-50%, -80%)",background:"rgba(0,0,0,0.75)",color:"#fff","border-radius":"2px","z-index":100},t[Y0]={"font-size":"12px","line-height":"14px","margin-bottom":0,"word-break":"break-all"},t);document.getElementById(c_)&&document.body.removeChild(document.getElementById(c_));var o=new ow({parent:document.body,region:null,visible:!1,crosshairs:null,domStyles:n,containerId:c_});o.init(),o.setCapture(!1),this.tooltip=o},e}(ey),_z=wz,Az=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.maskShape=null,t.points=[],t.starting=!1,t.moving=!1,t.preMovePoint=null,t.shapeType="path",t}return e.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},e.prototype.emitEvent=function(t){var n="mask:".concat(t),o=this.context.view,u=this.context.event;o.emit(n,{target:this.maskShape,shape:this.maskShape,points:this.points,x:u.x,y:u.y})},e.prototype.createMask=function(){var t=this.context.view,n=this.getMaskAttrs(),o=t.foregroundGroup.addShape({type:this.shapeType,name:"mask",draggable:!0,attrs:(0,Z.__assign)({fill:"#C5D4EB",opacity:.3},n)});return o},e.prototype.getMaskPath=function(){return[]},e.prototype.show=function(){this.maskShape&&(this.maskShape.show(),this.emitEvent("show"))},e.prototype.start=function(t){this.starting=!0,this.moving=!1,this.points=[this.getCurrentPoint()],this.maskShape||(this.maskShape=this.createMask(),this.maskShape.set("capture",!1)),this.updateMask(t==null?void 0:t.maskStyle),this.emitEvent("start")},e.prototype.moveStart=function(){this.moving=!0,this.preMovePoint=this.getCurrentPoint()},e.prototype.move=function(){if(!(!this.moving||!this.maskShape)){var t=this.getCurrentPoint(),n=this.preMovePoint,o=t.x-n.x,u=t.y-n.y,l=this.points;(0,w.each)(l,function(c){c.x+=o,c.y+=u}),this.updateMask(),this.emitEvent("change"),this.preMovePoint=t}},e.prototype.updateMask=function(t){var n=(0,w.deepMix)({},this.getMaskAttrs(),t);this.maskShape.attr(n)},e.prototype.moveEnd=function(){this.moving=!1,this.preMovePoint=null},e.prototype.end=function(){this.starting=!1,this.emitEvent("end"),this.maskShape&&this.maskShape.set("capture",!0)},e.prototype.hide=function(){this.maskShape&&(this.maskShape.hide(),this.emitEvent("hide"))},e.prototype.resize=function(){this.starting&&this.maskShape&&(this.points.push(this.getCurrentPoint()),this.updateMask(),this.emitEvent("change"))},e.prototype.destroy=function(){this.points=[],this.maskShape&&this.maskShape.remove(),this.maskShape=null,this.preMovePoint=null,a.prototype.destroy.call(this)},e}(Ws),f_=Az,Cz=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.shapeType="circle",t}return e.prototype.getMaskAttrs=function(){var t=this.points,n=(0,w.last)(this.points),o=0,u=0,l=0;if(t.length){var c=t[0];o=dw(c,n)/2,u=(n.x+c.x)/2,l=(n.y+c.y)/2}return{x:u,y:l,r:o}},e}(f_),Tz=Cz,Mz=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.shapeType="rect",t}return e.prototype.getRegion=function(){var t=this.points;return{start:(0,w.head)(t),end:(0,w.last)(t)}},e.prototype.getMaskAttrs=function(){var t=this.getRegion(),n=t.start,o=t.end,u=Math.min(n.x,o.x),l=Math.min(n.y,o.y),c=Math.abs(o.x-n.x),f=Math.abs(o.y-n.y);return{x:u,y:l,width:c,height:f}},e}(f_),rO=Mz;function nO(a){a.x=(0,w.clamp)(a.x,0,1),a.y=(0,w.clamp)(a.y,0,1)}var Iz=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.dim="x",t.inPlot=!0,t}return e.prototype.getRegion=function(){var t=null,n=null,o=this.points,u=this.dim,l=this.context.view.getCoordinate(),c=l.invert((0,w.head)(o)),f=l.invert((0,w.last)(o));return this.inPlot&&(nO(c),nO(f)),u==="x"?(t=l.convert({x:c.x,y:0}),n=l.convert({x:f.x,y:1})):(t=l.convert({x:0,y:c.y}),n=l.convert({x:1,y:f.y})),{start:t,end:n}},e}(rO),iO=Iz,Oz=function(a){(0,Z.__extends)(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.getMaskPath=function(){var t=this.points,n=[];return t.length&&((0,w.each)(t,function(o,u){u===0?n.push(["M",o.x,o.y]):n.push(["L",o.x,o.y])}),n.push(["L",t[0].x,t[0].y])),n},e.prototype.getMaskAttrs=function(){return{path:this.getMaskPath()}},e.prototype.addPoint=function(){this.resize()},e}(f_),aO=Oz,Dz=function(a){(0,Z.__extends)(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.getMaskPath=function(){var t=this.points;return c5(t,!0)},e}(aO),Pz=Dz,Lz=function(a){(0,Z.__extends)(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.setCursor=function(t){var n=this.context.view;n.getCanvas().setCursor(t)},e.prototype.default=function(){this.setCursor("default")},e.prototype.pointer=function(){this.setCursor("pointer")},e.prototype.move=function(){this.setCursor("move")},e.prototype.crosshair=function(){this.setCursor("crosshair")},e.prototype.wait=function(){this.setCursor("wait")},e.prototype.help=function(){this.setCursor("help")},e.prototype.text=function(){this.setCursor("text")},e.prototype.eResize=function(){this.setCursor("e-resize")},e.prototype.wResize=function(){this.setCursor("w-resize")},e.prototype.nResize=function(){this.setCursor("n-resize")},e.prototype.sResize=function(){this.setCursor("s-resize")},e.prototype.neResize=function(){this.setCursor("ne-resize")},e.prototype.nwResize=function(){this.setCursor("nw-resize")},e.prototype.seResize=function(){this.setCursor("se-resize")},e.prototype.swResize=function(){this.setCursor("sw-resize")},e.prototype.nsResize=function(){this.setCursor("ns-resize")},e.prototype.ewResize=function(){this.setCursor("ew-resize")},e}(Ws),Rz=Lz,Fz=function(a){(0,Z.__extends)(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.filterView=function(t,n,o){var u=this;t.getScaleByField(n)&&t.filter(n,o),t.views&&t.views.length&&(0,w.each)(t.views,function(l){u.filterView(l,n,o)})},e.prototype.filter=function(){var t=Im(this.context);if(t){var n=this.context.view,o=t.component,u=o.get("field");if(Lx(t)){if(u){var l=o.getItemsByState("unchecked"),c=Om(n,u),f=l.map(function(g){return g.name});f.length?this.filterView(n,u,function(g){var E=c.getText(g);return!f.includes(E)}):this.filterView(n,u,null),n.render(!0)}}else if(JT(t)){var h=o.getValue(),v=h[0],p=h[1];this.filterView(n,u,function(g){return g>=v&&g<=p}),n.render(!0)}}},e}(Ws),Nz=Fz;function oO(a,e,t,n){var o=Math.min(t[e],n[e]),u=Math.max(t[e],n[e]),l=a.range,c=l[0],f=l[1];if(o<c&&(o=c),u>f&&(u=f),o===f&&u===f)return null;var h=a.invert(o),v=a.invert(u);if(a.isCategory){var p=a.values.indexOf(h),g=a.values.indexOf(v),E=a.values.slice(p,g+1);return function(D){return E.includes(D)}}else return function(D){return D>=h&&D<=v}}var wd;(function(a){a.FILTER="brush-filter-processing",a.RESET="brush-filter-reset",a.BEFORE_FILTER="brush-filter:beforefilter",a.AFTER_FILTER="brush-filter:afterfilter",a.BEFORE_RESET="brush-filter:beforereset",a.AFTER_RESET="brush-filter:afterreset"})(wd||(wd={}));var kz=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.dims=["x","y"],t.startPoint=null,t.isStarted=!1,t}return e.prototype.hasDim=function(t){return this.dims.includes(t)},e.prototype.start=function(){var t=this.context;this.isStarted=!0,this.startPoint=t.getCurrentPoint()},e.prototype.filter=function(){var t,n;if(Rx(this.context)){var o=this.context.event.target,u=o.getCanvasBBox();t={x:u.x,y:u.y},n={x:u.maxX,y:u.maxY}}else{if(!this.isStarted)return;t=this.startPoint,n=this.context.getCurrentPoint()}if(!(Math.abs(t.x-n.x)<5||Math.abs(t.x-n.y)<5)){var l=this.context,c=l.view,f=l.event,h={view:c,event:f,dims:this.dims};c.emit(wd.BEFORE_FILTER,nu.fromData(c,wd.BEFORE_FILTER,h));var v=c.getCoordinate(),p=v.invert(n),g=v.invert(t);if(this.hasDim("x")){var E=c.getXScale(),D=oO(E,"x",p,g);this.filterView(c,E.field,D)}if(this.hasDim("y")){var G=c.getYScales()[0],D=oO(G,"y",p,g);this.filterView(c,G.field,D)}this.reRender(c,{source:wd.FILTER}),c.emit(wd.AFTER_FILTER,nu.fromData(c,wd.AFTER_FILTER,h))}},e.prototype.end=function(){this.isStarted=!1},e.prototype.reset=function(){var t=this.context.view;if(t.emit(wd.BEFORE_RESET,nu.fromData(t,wd.BEFORE_RESET,{})),this.isStarted=!1,this.hasDim("x")){var n=t.getXScale();this.filterView(t,n.field,null)}if(this.hasDim("y")){var o=t.getYScales()[0];this.filterView(t,o.field,null)}this.reRender(t,{source:wd.RESET}),t.emit(wd.AFTER_RESET,nu.fromData(t,wd.AFTER_RESET,{}))},e.prototype.filterView=function(t,n,o){t.filter(n,o)},e.prototype.reRender=function(t,n){t.render(!0,n)},e}(Ws),kE=kz,Bz=function(a){(0,Z.__extends)(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.filterView=function(t,n,o){var u=Rp(t);(0,w.each)(u,function(l){l.filter(n,o)})},e.prototype.reRender=function(t){var n=Rp(t);(0,w.each)(n,function(o){o.render(!0)})},e}(kE),h_=Bz,Gz=function(a){(0,Z.__extends)(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.filter=function(){var t=Im(this.context),n=this.context.view,o=Sf(n);if(Rx(this.context)){var u=fw(this.context,10);u&&(0,w.each)(o,function(D){u.includes(D)?D.show():D.hide()})}else if(t){var l=t.component,c=l.get("field");if(Lx(t)){if(c){var f=l.getItemsByState("unchecked"),h=Om(n,c),v=f.map(function(D){return D.name});(0,w.each)(o,function(D){var G=cp(D,c),H=h.getText(G);v.indexOf(H)>=0?D.hide():D.show()})}}else if(JT(t)){var p=l.getValue(),g=p[0],E=p[1];(0,w.each)(o,function(D){var G=cp(D,c);G>=g&&G<=E?D.show():D.hide()})}}},e.prototype.clear=function(){var t=Sf(this.context.view);(0,w.each)(t,function(n){n.show()})},e.prototype.reset=function(){this.clear()},e}(Ws),zz=Gz,Uz=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.byRecord=!1,t}return e.prototype.filter=function(){Rx(this.context)&&(this.byRecord?this.filterByRecord():this.filterByBBox())},e.prototype.filterByRecord=function(){var t=this.context.view,n=fw(this.context,10);if(!!n){var o=t.getXScale().field,u=t.getYScales()[0].field,l=n.map(function(f){return f.getModel().data}),c=Rp(t);(0,w.each)(c,function(f){var h=Sf(f);(0,w.each)(h,function(v){var p=v.getModel().data;iM(l,p,o,u)?v.show():v.hide()})})}},e.prototype.filterByBBox=function(){var t=this,n=this.context.view,o=Rp(n);(0,w.each)(o,function(u){var l=qT(t.context,u,10),c=Sf(u);l&&(0,w.each)(c,function(f){l.includes(f)?f.show():f.hide()})})},e.prototype.reset=function(){var t=Rp(this.context.view);(0,w.each)(t,function(n){var o=Sf(n);(0,w.each)(o,function(u){u.show()})})},e}(Ws),sO=Uz,jz=10,Wz=5,Vz=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.buttonGroup=null,t.buttonCfg={name:"button",text:"button",textStyle:{x:0,y:0,fontSize:12,fill:"#333333",cursor:"pointer"},padding:[8,10],style:{fill:"#f7f7f7",stroke:"#cccccc",cursor:"pointer"},activeStyle:{fill:"#e6e6e6"}},t}return e.prototype.getButtonCfg=function(){return(0,w.deepMix)(this.buttonCfg,this.cfg)},e.prototype.drawButton=function(){var t=this.getButtonCfg(),n=this.context.view.foregroundGroup.addGroup({name:t.name}),o=n.addShape({type:"text",name:"button-text",attrs:(0,Z.__assign)({text:t.text},t.textStyle)}),u=o.getBBox(),l=mw(t.padding),c=n.addShape({type:"rect",name:"button-rect",attrs:(0,Z.__assign)({x:u.x-l[3],y:u.y-l[0],width:u.width+l[1]+l[3],height:u.height+l[0]+l[2]},t.style)});c.toBack(),n.on("mouseenter",function(){c.attr(t.activeStyle)}),n.on("mouseleave",function(){c.attr(t.style)}),this.buttonGroup=n},e.prototype.resetPosition=function(){var t=this.context.view,n=t.getCoordinate(),o=n.convert({x:1,y:1}),u=this.buttonGroup,l=u.getBBox(),c=ka(null,[["t",o.x-l.width-jz,o.y+l.height+Wz]]);u.setMatrix(c)},e.prototype.show=function(){this.buttonGroup||this.drawButton(),this.resetPosition(),this.buttonGroup.show()},e.prototype.hide=function(){this.buttonGroup&&this.buttonGroup.hide()},e.prototype.destroy=function(){var t=this.buttonGroup;t&&t.remove(),a.prototype.destroy.call(this)},e}(Ws),Hz=Vz,Yz=4,Xz=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.starting=!1,t.dragStart=!1,t}return e.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint()},e.prototype.drag=function(){if(!!this.startPoint){var t=this.context.getCurrentPoint(),n=this.context.view,o=this.context.event;this.dragStart?n.emit("drag",{target:o.target,x:o.x,y:o.y}):dw(t,this.startPoint)>Yz&&(n.emit("dragstart",{target:o.target,x:o.x,y:o.y}),this.dragStart=!0)}},e.prototype.end=function(){if(this.dragStart){var t=this.context.view,n=this.context.event;t.emit("dragend",{target:n.target,x:n.x,y:n.y})}this.starting=!1,this.dragStart=!1},e}(Ws),$z=Xz,Kz=5,Zz=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.starting=!1,t.isMoving=!1,t.startPoint=null,t.startMatrix=null,t}return e.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint(),this.startMatrix=this.context.view.middleGroup.getMatrix()},e.prototype.move=function(){if(!!this.starting){var t=this.startPoint,n=this.context.getCurrentPoint(),o=dw(t,n);if(o>Kz&&!this.isMoving&&(this.isMoving=!0),this.isMoving){var u=this.context.view,l=ka(this.startMatrix,[["t",n.x-t.x,n.y-t.y]]);u.backgroundGroup.setMatrix(l),u.foregroundGroup.setMatrix(l),u.middleGroup.setMatrix(l)}}},e.prototype.end=function(){this.isMoving&&(this.isMoving=!1),this.startMatrix=null,this.starting=!1,this.startPoint=null},e.prototype.reset=function(){this.starting=!1,this.startPoint=null,this.isMoving=!1;var t=this.context.view;t.backgroundGroup.resetMatrix(),t.foregroundGroup.resetMatrix(),t.middleGroup.resetMatrix(),this.isMoving=!1},e}(Ws),Qz=Zz,uO="x",lO="y",Jz=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.dims=[uO,lO],t.cfgFields=["dims"],t.cacheScaleDefs={},t}return e.prototype.hasDim=function(t){return this.dims.includes(t)},e.prototype.getScale=function(t){var n=this.context.view;return t==="x"?n.getXScale():n.getYScales()[0]},e.prototype.resetDim=function(t){var n=this.context.view;if(this.hasDim(t)&&this.cacheScaleDefs[t]){var o=this.getScale(t);n.scale(o.field,this.cacheScaleDefs[t]),this.cacheScaleDefs[t]=null}},e.prototype.reset=function(){this.resetDim(uO),this.resetDim(lO);var t=this.context.view;t.render(!0)},e}(Ws),cO=Jz,qz=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.startPoint=null,t.starting=!1,t.startCache={},t}return e.prototype.start=function(){var t=this;this.startPoint=this.context.getCurrentPoint(),this.starting=!0;var n=this.dims;(0,w.each)(n,function(o){var u=t.getScale(o),l=u.min,c=u.max,f=u.values;t.startCache[o]={min:l,max:c,values:f}})},e.prototype.end=function(){this.startPoint=null,this.starting=!1,this.startCache={}},e.prototype.translate=function(){var t=this;if(!!this.starting){var n=this.startPoint,o=this.context.view.getCoordinate(),u=this.context.getCurrentPoint(),l=o.invert(n),c=o.invert(u),f=c.x-l.x,h=c.y-l.y,v=this.context.view,p=this.dims;(0,w.each)(p,function(g){t.translateDim(g,{x:f*-1,y:h*-1})}),v.render(!0)}},e.prototype.translateDim=function(t,n){if(this.hasDim(t)){var o=this.getScale(t);o.isLinear&&this.translateLinear(t,o,n)}},e.prototype.translateLinear=function(t,n,o){var u=this.context.view,l=this.startCache[t],c=l.min,f=l.max,h=f-c,v=o[t]*h;this.cacheScaleDefs[t]||(this.cacheScaleDefs[t]={nice:n.nice,min:c,max:f}),u.scale(n.field,{nice:!1,min:c+v,max:f+v})},e.prototype.reset=function(){a.prototype.reset.call(this),this.startPoint=null,this.starting=!1},e}(cO),tU=qz,eU=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.zoomRatio=.05,t}return e.prototype.zoomIn=function(){this.zoom(this.zoomRatio)},e.prototype.zoom=function(t){var n=this,o=this.dims;(0,w.each)(o,function(u){n.zoomDim(u,t)}),this.context.view.render(!0)},e.prototype.zoomOut=function(){this.zoom(-1*this.zoomRatio)},e.prototype.zoomDim=function(t,n){if(this.hasDim(t)){var o=this.getScale(t);o.isLinear&&this.zoomLinear(t,o,n)}},e.prototype.zoomLinear=function(t,n,o){var u=this.context.view;this.cacheScaleDefs[t]||(this.cacheScaleDefs[t]={nice:n.nice,min:n.min,max:n.max});var l=this.cacheScaleDefs[t],c=l.max-l.min,f=n.min,h=n.max,v=o*c,p=f-v,g=h+v,E=g-p,D=E/c;g>p&&D<100&&D>.01&&u.scale(n.field,{nice:!1,min:f-v,max:h+v})},e}(cO),rU=eU;function nU(a){var e=a.gEvent.originalEvent;return e.deltaY>0}var iU=1,aU=function(a){(0,Z.__extends)(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.scroll=function(t){var n=this.context,o=n.view,u=n.event;if(!!o.getOptions().scrollbar){var l=(t==null?void 0:t.wheelDelta)||iU,c=o.getController("scrollbar"),f=o.getXScale(),h=o.getOptions().data,v=(0,w.size)((0,w.valuesOfKey)(h,f.field)),p=(0,w.size)(f.values),g=c.getValue(),E=Math.floor((v-p)*g),D=E+(nU(u)?l:-l),G=l/(v-p)/1e4,H=(0,w.clamp)(D/(v-p)+G,0,1);c.setValue(H)}},e}(Ws),oU=aU;hM("dark",cM(y6)),uc("canvas",A),uc("svg",I),fp("Polygon",P7),fp("Interval",_7),fp("Schema",R7),fp("Path",Vw),fp("Point",I7),fp("Line",C7),fp("Area",v7),fp("Edge",g7),fp("Heatmap",m7),fp("Violin",k7),Rm("base",Bx),Rm("interval",t9),Rm("pie",n9),Rm("polar",wI),Ed("overlap",y9),Ed("distribute",a9),Ed("fixed-overlap",g9),Ed("hide-overlap",w9),Ed("limit-in-shape",h9),Ed("limit-in-canvas",f9),Ed("limit-in-plot",z9),Ed("pie-outer",s9),Ed("adjust-color",A9),Ed("interval-adjust-position",I9),Ed("interval-hide-overlap",D9),Ed("point-adjust-position",R9),Ed("pie-spider",c9),Ed("path-adjust-position",k9),Yd("fade-in",U9),Yd("fade-out",j9),Yd("grow-in-x",V9),Yd("grow-in-xy",Y9),Yd("grow-in-y",H9),Yd("scale-in-x",K9),Yd("scale-in-y",Z9),Yd("wave-in",J9),Yd("zoom-in",q9),Yd("zoom-out",tG),Yd("position-update",$9),Yd("sector-path-update",Q9),Yd("path-in",X9),$0("rect",cG),$0("mirror",uG),$0("list",iG),$0("matrix",oG),$0("circle",rG),$0("tree",hG),qg("axis",yG),qg("legend",SG),qg("tooltip",xw),qg("annotation",pG),qg("slider",_G),qg("scrollbar",MG),na("tooltip",KI),na("sibling-tooltip",FG),na("ellipsis-text",kG),na("element-active",UG),na("element-single-active",KG),na("element-range-active",YG),na("element-highlight",u_),na("element-highlight-by-x",tz),na("element-highlight-by-color",JG),na("element-single-highlight",nz),na("element-range-highlight",JI),na("element-sibling-highlight",JI,{effectSiblings:!0,effectByRecord:!0}),na("element-selected",sz),na("element-single-selected",lz),na("element-range-selected",az),na("element-link-by-color",WG),na("active-region",PG),na("list-active",hz),na("list-selected",gz),na("list-highlight",l_),na("list-unchecked",mz),na("list-checked",bz),na("list-focus",Sz),na("list-radio",_z),na("legend-item-highlight",l_,{componentNames:["legend"]}),na("axis-label-highlight",l_,{componentNames:["axis"]}),na("rect-mask",rO),na("x-rect-mask",iO,{dim:"x"}),na("y-rect-mask",iO,{dim:"y"}),na("circle-mask",Tz),na("path-mask",aO),na("smooth-path-mask",Pz),na("cursor",Rz),na("data-filter",Nz),na("brush",kE),na("brush-x",kE,{dims:["x"]}),na("brush-y",kE,{dims:["y"]}),na("sibling-filter",h_),na("sibling-x-filter",h_),na("sibling-y-filter",h_),na("element-filter",zz),na("element-sibling-filter",sO),na("element-sibling-filter-record",sO,{byRecord:!0}),na("view-drag",$z),na("view-move",Qz),na("scale-translate",tU),na("scale-zoom",rU),na("reset-button",Hz,{name:"reset-button",text:"reset"}),na("mousewheel-scroll",oU);function i0(a){return a.isInPlot()}Ta("tooltip",{start:[{trigger:"plot:mousemove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"plot:mouseleave",action:"tooltip:hide"},{trigger:"plot:leave",action:"tooltip:hide"},{trigger:"plot:touchend",action:"tooltip:hide"}]}),Ta("ellipsis-text",{start:[{trigger:"legend-item-name:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"legend-item-name:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"legend-item-name:mouseleave",action:"ellipsis-text:hide"},{trigger:"legend-item-name:touchend",action:"ellipsis-text:hide"},{trigger:"axis-label:mouseleave",action:"ellipsis-text:hide"},{trigger:"axis-label:touchend",action:"ellipsis-text:hide"}]}),Ta("element-active",{start:[{trigger:"element:mouseenter",action:"element-active:active"}],end:[{trigger:"element:mouseleave",action:"element-active:reset"}]}),Ta("element-selected",{start:[{trigger:"element:click",action:"element-selected:toggle"}]}),Ta("element-highlight",{start:[{trigger:"element:mouseenter",action:"element-highlight:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight:reset"}]}),Ta("element-highlight-by-x",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-x:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-x:reset"}]}),Ta("element-highlight-by-color",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-color:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-color:reset"}]}),Ta("legend-active",{start:[{trigger:"legend-item:mouseenter",action:["list-active:active","element-active:active"]}],end:[{trigger:"legend-item:mouseleave",action:["list-active:reset","element-active:reset"]}]}),Ta("legend-highlight",{start:[{trigger:"legend-item:mouseenter",action:["legend-item-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"legend-item:mouseleave",action:["legend-item-highlight:reset","element-highlight:reset"]}]}),Ta("axis-label-highlight",{start:[{trigger:"axis-label:mouseenter",action:["axis-label-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"axis-label:mouseleave",action:["axis-label-highlight:reset","element-highlight:reset"]}]}),Ta("element-list-highlight",{start:[{trigger:"element:mouseenter",action:["list-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"element:mouseleave",action:["list-highlight:reset","element-highlight:reset"]}]}),Ta("element-range-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"mask:mouseenter",action:"cursor:move"},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:function(a){return!a.isInShape("mask")},action:["rect-mask:start","rect-mask:show"]},{trigger:"mask:dragstart",action:["rect-mask:moveStart"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:drag",action:["rect-mask:move"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end"]},{trigger:"mask:dragend",action:["rect-mask:moveEnd"]},{trigger:"document:mouseup",isEnable:function(a){return!a.isInPlot()},action:["element-range-highlight:clear","rect-mask:end","rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","rect-mask:hide"]}]}),Ta("brush",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:i0,action:["brush:start","rect-mask:start","rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:i0,action:["rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:i0,action:["brush:filter","brush:end","rect-mask:end","rect-mask:hide","reset-button:show"]}],rollback:[{trigger:"reset-button:click",action:["brush:reset","reset-button:hide","cursor:crosshair"]}]}),Ta("brush-visible",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"plot:mousedown",action:["rect-mask:start","rect-mask:show"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end","rect-mask:hide","element-filter:filter","element-range-highlight:clear"]}],rollback:[{trigger:"dblclick",action:["element-filter:clear"]}]}),Ta("brush-x",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:i0,action:["brush-x:start","x-rect-mask:start","x-rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:i0,action:["x-rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:i0,action:["brush-x:filter","brush-x:end","x-rect-mask:end","x-rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["brush-x:reset"]}]}),Ta("element-path-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:i0,action:"path-mask:start"},{trigger:"mousedown",isEnable:i0,action:"path-mask:show"}],processing:[{trigger:"mousemove",action:"path-mask:addPoint"}],end:[{trigger:"mouseup",action:"path-mask:end"}],rollback:[{trigger:"dblclick",action:"path-mask:hide"}]}),Ta("element-single-selected",{start:[{trigger:"element:click",action:"element-single-selected:toggle"}]}),Ta("legend-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:["cursor:pointer","list-radio:show"]},{trigger:"legend-item:mouseleave",action:["cursor:default","list-radio:hide"]}],start:[{trigger:"legend-item:click",isEnable:function(a){return!a.isInShape("legend-item-radio")},action:["list-unchecked:toggle","data-filter:filter","list-radio:show"]},{trigger:"legend-item-radio:mouseenter",action:["list-radio:showTip"]},{trigger:"legend-item-radio:mouseleave",action:["list-radio:hideTip"]},{trigger:"legend-item-radio:click",action:["list-focus:toggle","data-filter:filter","list-radio:show"]}]}),Ta("continuous-filter",{start:[{trigger:"legend:valuechanged",action:"data-filter:filter"}]}),Ta("continuous-visible-filter",{start:[{trigger:"legend:valuechanged",action:"element-filter:filter"}]}),Ta("legend-visible-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:"cursor:pointer"},{trigger:"legend-item:mouseleave",action:"cursor:default"}],start:[{trigger:"legend-item:click",action:["list-unchecked:toggle","element-filter:filter"]}]}),Ta("active-region",{start:[{trigger:"plot:mousemove",action:"active-region:show"}],end:[{trigger:"plot:mouseleave",action:"active-region:hide"}]});function fO(a){return a.gEvent.preventDefault(),a.gEvent.originalEvent.deltaY>0}Ta("view-zoom",{start:[{trigger:"plot:mousewheel",isEnable:function(a){return fO(a.event)},action:"scale-zoom:zoomOut",throttle:{wait:100,leading:!0,trailing:!1}},{trigger:"plot:mousewheel",isEnable:function(a){return!fO(a.event)},action:"scale-zoom:zoomIn",throttle:{wait:100,leading:!0,trailing:!1}}]}),Ta("sibling-tooltip",{start:[{trigger:"plot:mousemove",action:"sibling-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"sibling-tooltip:hide"}]}),Ta("plot-mousewheel-scroll",{start:[{trigger:"plot:mousewheel",action:"mousewheel-scroll:scroll"}]});function oa(){for(var a=[],e=0;e<arguments.length;e++)a[e]=arguments[e];return function(t){return a.reduce(function(n,o){return o(n)},t)}}function Ko(a,e){var t={};return a!==null&&typeof a=="object"&&e.forEach(function(n){var o=a[n];o!==void 0&&(t[n]=o)}),t}function hO(a,e){return e?(0,w.reduce)(e,function(t,n,o){return t.replace(new RegExp("{\\s*"+o+"\\s*}","g"),n)},a):a}var pp;(function(a){a.ERROR="error",a.WARN="warn",a.INFO="log"})(pp||(pp={}));var dO="AntV/G2Plot";function vO(a){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];var n=0;return dO+": "+a.replace(/%s/g,function(){return""+e[n++]})}function hct(a,e){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];if(!a){var o=new Error(vO.apply(void 0,__spreadArrays([e],t)));throw o.name=dO,o}}function vg(a,e,t){for(var n=[],o=3;o<arguments.length;o++)n[o-3]=arguments[o];e||console[a](vO.apply(void 0,(0,Z.__spreadArrays)([t],n)))}function d_(a){if(!a)return{width:0,height:0};var e=getComputedStyle(a);return{width:(a.clientWidth||parseInt(e.width,10))-parseInt(e.paddingLeft,10)-parseInt(e.paddingRight,10),height:(a.clientHeight||parseInt(e.height,10))-parseInt(e.paddingTop,10)-parseInt(e.paddingBottom,10)}}function Zf(a,e){return a.geometries.find(function(t){return t.type===e})}function BE(a){return(0,w.reduce)(a.geometries,function(e,t){return e.concat(t.elements)},[])}function Xx(a){return(0,w.get)(a,["views","length"],0)<=0?BE(a):(0,w.reduce)(a.views,function(e,t){return e.concat(Xx(t))},BE(a))}function sU(a){return(0,w.get)(a,["views","length"],0)<=0?a.geometries:(0,w.reduce)(a.views,function(e,t){return e.concat(t.geometries)},a.geometries)}function Xa(a,e){return a.views.find(function(t){return t.id===e})}function $x(a){var e=a.parent;return e?e.views:[]}function pO(a){return $x(a).filter(function(e){return e!==a})}function Jc(a){if(!(0,w.isType)(a,"Object"))return a;var e=(0,Z.__assign)({},a);return e.formatter&&!e.content&&(e.content=e.formatter),e}function uU(a,e){var t=[];if(a.length){t.push(["M",a[0].x,a[0].y]);for(var n=1,o=a.length;n<o;n+=1){var u=a[n];t.push(["L",u.x,u.y])}e&&t.push(["Z"])}return t}var lU=function(a,e,t,n){var o=[],u,l,c=!!n,f,h;if(c){f=[1/0,1/0],h=[-1/0,-1/0];for(var v=0,p=a.length;v<p;v++){var g=a[v];f=_a([0,0],f,g),h=To([0,0],h,g)}f=_a([0,0],f,n[0]),h=To([0,0],h,n[1])}for(var v=0,E=a.length;v<E;v++){var g=a[v];if(t)u=a[v?v-1:E-1],l=a[(v+1)%E];else if(v===0||v===E-1){o.push(g);continue}else u=a[v-1],l=a[v+1];var D=[0,0];D=Lu(D,l,u),D=Ua(D,D,e);var G=xu(g,u),H=xu(g,l),X=G+H;X!==0&&(G/=X,H/=X);var rt=Ua([0,0],D,-G),ht=Ua([0,0],D,H),mt=Da([0,0],g,rt),Dt=Da([0,0],g,ht);c&&(mt=To([0,0],mt,f),mt=_a([0,0],mt,h),Dt=To([0,0],Dt,f),Dt=_a([0,0],Dt,h)),o.push(mt),o.push(Dt)}return t&&o.push(o.shift()),o};function cU(a,e,t){for(var n=!!e,o=[],u=0,l=a.length;u<l;u+=2)o.push([a[u],a[u+1]]);for(var c=lU(o,.4,n,t),f=o.length,h=[],v,p,g,u=0;u<f-1;u++)v=c[u*2],p=c[u*2+1],g=o[u+1],h.push(["C",v[0],v[1],p[0],p[1],g[0],g[1]]);return n&&(v=c[f],p=c[f+1],g=o[0],h.push(["C",v[0],v[1],p[0],p[1],g[0],g[1]])),h}function fU(a,e,t){var n=[],o=a[0],u=null;if(a.length<=2)return uU(a,e);for(var l=0,c=a.length;l<c;l++){var f=a[l];(!u||!(u.x===f.x&&u.y===f.y))&&(n.push(f.x),n.push(f.y),u=f)}var h=t||[[0,0],[1,1]],v=cU(n,e,h);return v.unshift(["M",o.x,o.y]),v}var hU=5,dU={}.toString,gO=function(a,e){return dU.call(a)==="[object "+e+"]"},vU=function(a){return gO(a,"Array")},pU=function(a){return typeof a=="object"&&a!==null},yO=function(a){if(!pU(a)||!gO(a,"Object"))return!1;for(var e=a;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(a)===e},mO=function(a,e,t,n){t=t||0,n=n||hU;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var u=e[o];u?yO(u)?(yO(a[o])||(a[o]={}),t<n?mO(a[o],u,t+1,n):a[o]=e[o]):vU(u)?(a[o]=[],a[o]=a[o].concat(u)):a[o]=u:a[o]=u}},yn=function(a){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];for(var n=0;n<e.length;n+=1)mO(a,e[n]);return a};function xO(a){if(!a)return a;var e=a.match(/(([A-Z]{0,1}[a-z]*[^A-Z])|([A-Z]{1}))/g);return e.map(function(t){return t.toLowerCase()}).join("-")}function bO(a){var e={overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis",display:"flex",justifyContent:"center",alignItems:"center"},t=["stroke","lineWidth","shadowColor","strokeOpacity","shadowBlur","shadowOffsetX","shadowOffsetY","fill"];(0,w.get)(a,"fill")&&(e.color=a.fill);var n=Ko(a,t),o=n.shadowColor,u=n.shadowBlur,l=u===void 0?0:u,c=n.shadowOffsetX,f=c===void 0?0:c,h=n.shadowOffsetY,v=h===void 0?0:h;e["text-shadow"]=""+[o,f+"px",v+"px",l+"px"].join(" ");var p=Ko(a,t),g=p.stroke,E=p.lineWidth,D=E===void 0?0:E;return e["-webkit-text-stroke"]=""+[D+"px",g].join(" "),(0,w.each)(a,function(G,H){["fontSize"].includes(H)&&(0,w.isNumber)(G)?e[xO(H)]=G+"px":H&&!t.includes(H)&&(e[xO(H)]=""+G)}),e}function EO(a,e){a.style["pointer-events"]="none",(0,w.each)(e,function(t,n){n&&t&&(a.style[n]=t)})}var GE=function(a,e,t){var n=e.statistic,o=e.plotType,u=n.title,l=n.content;[u,l].forEach(function(c,f){if(!!c){var h="";f===0?h=l?"translate(-50%, -100%)":"translate(-50%, -50%)":h=u?"translate(-50%, 0)":"translate(-50%, -50%)";var v=(0,w.isFunction)(c.style)?c.style(t):c.style;a.annotation().html((0,Z.__assign)({position:["50%","50%"],html:function(p,g){var E=g.getCoordinate(),D=0;if(o==="pie"||o==="ring-progress")D=E.getRadius()*E.innerRadius*2;else if(o==="liquid"){var G=(0,w.get)(g.geometries,[0,"elements",0,"shape"]);if(G){var H=G.find(function(mt){return mt.get("name")==="wrap"}),X=H.getCanvasBBox().width;D=X}}else D||(D=E.getWidth());EO(p,(0,Z.__assign)({width:D+"px",transform:h},bO(v)));var rt=g.getData();if(c.customHtml)return c.customHtml(p,g,t,rt);var ht=c.content;return c.formatter&&(ht=c.formatter(t,rt)),ht?(0,w.isString)(ht)?ht:""+ht:"<div></div>"},key:(f===0?"top":"bottom")+"-statistic"},Ko(c,["offsetX","offsetY","rotate","style","formatter"])))}})},gU=function(a,e,t){var n=e.statistic,o=n.title,u=n.content;[o,u].forEach(function(l){if(!!l){var c=(0,w.isFunction)(l.style)?l.style(t):l.style;a.annotation().html((0,Z.__assign)({position:["50%","100%"],html:function(f,h){var v=h.getCoordinate(),p=h.views[0].getCoordinate(),g=p.getCenter(),E=p.getRadius(),D=Math.max(Math.sin(p.startAngle),Math.sin(p.endAngle))*E,G=g.y+D-v.y.start-parseFloat((0,w.get)(c,"fontSize",0)),H=v.getRadius()*v.innerRadius*2;EO(f,(0,Z.__assign)({width:H+"px",transform:"translate(-50%, "+G+"px)"},bO(c)));var X=h.getData();if(l.customHtml)return l.customHtml(f,h,t,X);var rt=l.content;return l.formatter&&(rt=l.formatter(t,X)),rt?(0,w.isString)(rt)?rt:""+rt:"<div></div>"}},Ko(l,["offsetX","offsetY","rotate","style","formatter"])))}})},v_;function yU(){return v_||(v_=document.createElement("canvas").getContext("2d")),v_}var mU=(0,w.memoize)(function(a,e){e===void 0&&(e={});var t=e.fontSize,n=e.fontFamily,o=n===void 0?"sans-serif":n,u=e.fontWeight,l=e.fontStyle,c=e.fontVariant,f=yU();f.font=[l,u,c,t+"px",o].join(" ");var h=f.measureText((0,w.isString)(a)?a:"");return h.width},function(a,e){return e===void 0&&(e={}),(0,Z.__spreadArrays)([a],(0,w.values)(e)).join("")});function ny(a){return typeof a=="number"&&!isNaN(a)}function xU(a,e,t){var n=Math.min(e,t),o=Math.max(e,t);return a>=n&&a<=o}function p_(a,e){if(!a)return{};var t=a.filter(function(u){var l=(0,w.get)(u,[e]);return(0,w.isNumber)(l)&&!isNaN(l)}),n=t.every(function(u){return(0,w.get)(u,[e])>=0}),o=t.every(function(u){return(0,w.get)(u,[e])<=0});return n?{min:0}:o?{max:0}:{}}function SO(a,e,t,n,o){if(o===void 0&&(o=[]),!Array.isArray(a))return{nodes:[],links:[]};var u=[],l={},c=-1;return a.forEach(function(f){var h=f[e],v=f[t],p=f[n],g=Ko(f,o);l[h]||(l[h]=(0,Z.__assign)({id:++c,name:h},g)),l[v]||(l[v]=(0,Z.__assign)({id:++c,name:v},g)),u.push((0,Z.__assign)({source:l[h].id,target:l[v].id,value:p},g))}),{nodes:Object.values(l).sort(function(f,h){return f.id-h.id}),links:u}}function Gm(a,e){var t=(0,w.filter)(a,function(n){var o=n[e];return o===null||typeof o=="number"&&!isNaN(o)});return vg(pp.WARN,t.length===a.length,"illegal data existed in chart data."),t}function a0(a){if((0,w.isNumber)(a))return[a,a,a,a];if((0,w.isArray)(a)){var e=a.length;if(e===1)return[a[0],a[0],a[0],a[0]];if(e===2)return[a[0],a[1],a[0],a[1]];if(e===3)return[a[0],a[1],a[2],a[1]];if(e===4)return a}return[0,0,0,0]}function zE(a,e,t){e===void 0&&(e="bottom"),t===void 0&&(t=25);var n=a0(a),o=[e.startsWith("top")?t:0,e.startsWith("right")?t:0,e.startsWith("bottom")?t:0,e.startsWith("left")?t:0];return[n[0]+o[0],n[1]+o[1],n[2]+o[2],n[3]+o[3]]}function g_(a){var e=a.map(function(n){return a0(n)}),t=[0,0,0,0];return e.length>0&&(t=t.map(function(n,o){return e.forEach(function(u,l){n+=e[l][o]}),n})),t}var wO={locale:"en-US"};function dct(a){each(a,function(e,t){return wO[t]=e})}var UE={};function _O(a,e){UE[a]=e}function jE(a){return{get:function(e,t){return hO((0,w.get)(UE[a],e)||(0,w.get)(UE[wO.locale],e)||(0,w.get)(UE["en-US"],e)||e,t)}}}var bU={locale:"en-US",general:{increase:"Increase",decrease:"Decrease",root:"Root"},statistic:{total:"Total"},conversionTag:{label:"Rate"},legend:{},tooltip:{},slider:{},scrollbar:{},waterfall:{total:"Total"}},EU={locale:"zh-CN",general:{increase:"\u589E\u52A0",decrease:"\u51CF\u5C11",root:"\u521D\u59CB"},statistic:{total:"\u603B\u8BA1"},conversionTag:{label:"\u8F6C\u5316\u7387"},legend:{},tooltip:{},slider:{},scrollbar:{},waterfall:{total:"\u603B\u8BA1"}},SU=je(18587),AO="data-chart-source-type",CO=["padding","appendPadding","renderer","pixelRatio","syncViewPadding","supportCSSTransform","limitInPlot"],Ma=function(a){(0,Z.__extends)(e,a);function e(t,n){var o=a.call(this)||this;return o.container=typeof t=="string"?document.getElementById(t):t,o.options=yn({},o.getDefaultOptions(),n),o.createG2(),o.bindEvents(),o}return e.getDefaultOptions=function(){return{renderer:"canvas",xAxis:{nice:!0,label:{autoRotate:!1,autoHide:{type:"equidistance",cfg:{minGap:6}}}},yAxis:{nice:!0,label:{autoHide:!0,autoRotate:!1}},animation:!0}},e.prototype.createG2=function(){var t=this.options,n=t.width,o=t.height,u=t.defaultInteractions;this.chart=new EM((0,Z.__assign)((0,Z.__assign)((0,Z.__assign)((0,Z.__assign)({container:this.container,autoFit:!1},this.getChartSize(n,o)),{localRefresh:!1}),Ko(this.options,CO)),{defaultInteractions:u})),this.container.setAttribute(AO,"G2Plot")},e.prototype.getChartSize=function(t,n){var o=d_(this.container);return{width:t||o.width||400,height:n||o.height||400}},e.prototype.bindEvents=function(){var t=this;this.chart&&this.chart.on("*",function(n){n!=null&&n.type&&t.emit(n.type,n)})},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.render=function(){this.chart.clear(),this.chart.options={data:[],animate:!0},this.chart.views=[],this.execAdaptor(),this.chart.render(),this.bindSizeSensor()},e.prototype.update=function(t){this.updateOption(t),this.render()},e.prototype.updateOption=function(t){this.options=yn({},this.options,t)},e.prototype.setState=function(t,n,o){o===void 0&&(o=!0);var u=Xx(this.chart);(0,w.each)(u,function(l){n(l.getData())&&l.setState(t,o)})},e.prototype.getStates=function(){var t=Xx(this.chart),n=[];return(0,w.each)(t,function(o){var u=o.getData(),l=o.getStates();(0,w.each)(l,function(c){n.push({data:u,state:c,geometry:o.geometry,element:o})})}),n},e.prototype.changeData=function(t){this.update({data:t})},e.prototype.changeSize=function(t,n){this.chart.changeSize(t,n)},e.prototype.addAnnotations=function(t,n){n=n||this.chart;var o=(0,Z.__spreadArrays)(t),u=n.getController("annotation"),l=u.getComponents().map(function(h){return h.extra});u.clear(!0);for(var c=function(h){var v=l[h],p=o.findIndex(function(g){return g.id&&g.id===v.id});p!==-1&&(v=yn({},v,o[p]),o.splice(p,1)),u.annotation(v)},f=0;f<l.length;f++)c(f);o.forEach(function(h){return u.annotation(h)}),n.render(!0)},e.prototype.removeAnnotations=function(t){var n=this.chart.getController("annotation"),o=n.getComponents().map(function(c){return c.extra});n.clear(!0);for(var u=function(c){var f=o[c];t.find(function(h){return h.id&&h.id===f.id})||n.annotation(f)},l=0;l<o.length;l++)u(l);this.chart.render(!0)},e.prototype.destroy=function(){this.unbindSizeSensor(),this.chart.destroy(),this.off(),this.container.removeAttribute(AO)},e.prototype.execAdaptor=function(){var t=this.getSchemaAdaptor(),n=this.options,o=n.padding,u=n.appendPadding;this.chart.padding=o,this.chart.appendPadding=u,t({chart:this.chart,options:this.options})},e.prototype.triggerResize=function(){this.chart.forceFit()},e.prototype.bindSizeSensor=function(){var t=this;if(!this.unbind){var n=this.options.autoFit,o=n===void 0?!0:n;o&&(this.unbind=(0,SU.ak)(this.container,function(){var u=d_(t.container),l=u.width,c=u.height;(l!==t.chart.width||c!==t.chart.height)&&t.triggerResize()}))}},e.prototype.unbindSizeSensor=function(){this.unbind&&(this.unbind(),this.unbind=void 0)},e}(cc),Xd=["type","alias","tickCount","tickInterval","min","max","nice","minLimit","maxLimit","range","tickMethod","base","exponent","mask","sync"];function WE(){return typeof window=="object"?window==null?void 0:window.devicePixelRatio:2}function y_(a,e){e===void 0&&(e=a);var t=document.createElement("canvas"),n=WE();t.width=a*n,t.height=e*n,t.style.width=a+"px",t.style.height=e+"px";var o=t.getContext("2d");return o.scale(n,n),t}function m_(a,e,t,n){n===void 0&&(n=t);var o=e.backgroundColor,u=e.opacity;a.globalAlpha=u,a.fillStyle=o,a.beginPath(),a.fillRect(0,0,t,n),a.closePath()}function TO(a,e,t){var n=a+e;return t?n*2:n}function MO(a,e){var t=e?[[a*.25,a*.25],[a*.75,a*.75]]:[[a*.5,a*.5]];return t}function x_(a,e){var t=e*Math.PI/180,n={a:Math.cos(t)*(1/a),b:Math.sin(t)*(1/a),c:-Math.sin(t)*(1/a),d:Math.cos(t)*(1/a),e:0,f:0};return n}var wU={size:6,padding:2,backgroundColor:"transparent",opacity:1,rotation:0,fill:"#fff",fillOpacity:.5,stroke:"transparent",lineWidth:0,isStagger:!0};function _U(a,e,t,n){var o=e.size,u=e.fill,l=e.lineWidth,c=e.stroke,f=e.fillOpacity;a.beginPath(),a.globalAlpha=f,a.fillStyle=u,a.strokeStyle=c,a.lineWidth=l,a.arc(t,n,o/2,0,2*Math.PI,!1),a.fill(),l&&a.stroke(),a.closePath()}function AU(a){var e=yn({},wU,a),t=e.size,n=e.padding,o=e.isStagger,u=e.rotation,l=TO(t,n,o),c=MO(l,o),f=y_(l,l),h=f.getContext("2d");m_(h,e,l);for(var v=0,p=c;v<p.length;v++){var g=p[v],E=g[0],D=g[1];_U(h,e,E,D)}var G=h.createPattern(f,"repeat");if(G){var H=WE(),X=x_(H,u);G.setTransform(X)}return G}var CU={rotation:45,spacing:5,opacity:1,backgroundColor:"transparent",strokeOpacity:.5,stroke:"#fff",lineWidth:2};function TU(a,e,t){var n=e.stroke,o=e.lineWidth,u=e.strokeOpacity,l=new Path2D(t);a.globalAlpha=u,a.lineCap="square",a.strokeStyle=o?n:"transparent",a.lineWidth=o,a.stroke(l)}function MU(a){var e=yn({},CU,a),t=e.spacing,n=e.rotation,o=e.lineWidth,u=t+o||1,l=t+o||1,c=`
            M 0 0 L `+u+` 0
            M 0 `+l+" L "+u+" "+l+`
            `,f=y_(u,l),h=f.getContext("2d");m_(h,e,u,l),TU(h,e,c);var v=h.createPattern(f,"repeat");if(v){var p=WE(),g=x_(p,n);v.setTransform(g)}return v}var IU={size:6,padding:1,isStagger:!0,backgroundColor:"transparent",opacity:1,rotation:0,fill:"#fff",fillOpacity:.5,stroke:"transparent",lineWidth:0};function OU(a,e,t,n){var o=e.stroke,u=e.size,l=e.fill,c=e.lineWidth,f=e.fillOpacity;a.globalAlpha=f,a.strokeStyle=o,a.lineWidth=c,a.fillStyle=l,a.strokeRect(t-u/2,n-u/2,u,u),a.fillRect(t-u/2,n-u/2,u,u)}function DU(a){var e=yn({},IU,a),t=e.size,n=e.padding,o=e.isStagger,u=e.rotation,l=TO(t,n,o),c=MO(l,o),f=y_(l,l),h=f.getContext("2d");m_(h,e,l);for(var v=0,p=c;v<p.length;v++){var g=p[v],E=g[0],D=g[1];OU(h,e,E,D)}var G=h.createPattern(f,"repeat");if(G){var H=WE(),X=x_(H,u);G.setTransform(X)}return G}function PU(a){var e=a.type,t=a.cfg,n;switch(e){case"dot":n=AU(t);break;case"line":n=MU(t);break;case"square":n=DU(t);break;default:break}return n}function mv(a){var e=this;return function(t){var n,o=t.options,u=t.chart,l=o.pattern;if(!l)return t;var c=function(f){for(var h,v,p,g=[],E=1;E<arguments.length;E++)g[E-1]=arguments[E];var D=u.getTheme().defaultColor,G=D,H=(v=(h=u.geometries)===null||h===void 0?void 0:h[0])===null||v===void 0?void 0:v.getAttribute("color");if(H){var X=H.getFields()[0],rt=(0,w.get)(f,X);G=Sd.getMappingValue(H,rt,((p=H.values)===null||p===void 0?void 0:p[0])||D)}var ht=l;typeof l=="function"&&(ht=l.call(e,f,G)),ht instanceof CanvasPattern||(ht=PU(yn({},{cfg:{backgroundColor:G}},ht)));var mt=o[a];return(0,Z.__assign)((0,Z.__assign)({},typeof mt=="function"?mt.call.apply(mt,(0,Z.__spreadArrays)([e,f],g)):mt||{}),{fill:ht||G})};return yn({},t,{options:(n={},n[a]=c,n)})}}function iy(a){var e=a.chart,t=a.options,n=t.legend,o=t.colorField,u=t.seriesField;return n===!1?e.legend(!1):(o||u)&&e.legend(o||u,n),a}function Wl(a){var e=a.chart,t=a.options,n=t.tooltip;return n!==void 0&&e.tooltip(n),a}function Rs(a){var e=a.chart,t=a.options,n=t.interactions;return(0,w.each)(n,function(o){o.enable===!1?e.removeInteraction(o.type):e.interaction(o.type,o.cfg||{})}),a}function Zo(a){var e=a.chart,t=a.options,n=t.animation;return typeof n=="boolean"?e.animate(n):e.animate(!0),(0,w.each)(e.geometries,function(o){o.animate(n)}),a}function Oo(a){var e=a.chart,t=a.options,n=t.theme;return n&&e.theme(n),a}function o0(a){var e=a.chart,t=a.options,n=t.state;return n&&(0,w.each)(e.geometries,function(o){o.state(n)}),a}function Kx(a){var e=a.chart,t=a.options,n=t.slider;return e.option("slider",n),a}function b_(a){var e=a.chart,t=a.options,n=t.scrollbar;return e.option("scrollbar",n),a}function Tu(a,e){return function(t){var n=t.chart,o=t.options,u={};return(0,w.each)(a,function(l,c){u[c]=Ko(l,Xd)}),u=yn({},e,o.meta,u),n.scale(u),t}}function Mu(a){return function(e){var t=e.chart,n=e.options,o=t.getController("annotation");return(0,w.each)((0,Z.__spreadArrays)(n.annotations||[],a||[]),function(u){o.annotation(u)}),e}}function ay(a){var e=a.chart,t=a.options,n=t.yAxis,o=t.limitInPlot,u=o;return(0,w.isObject)(n)&&(0,w.isNil)(o)&&(Object.values(Ko(n,["min","max","minLimit","maxLimit"])).some(function(l){return!(0,w.isNil)(l)})?u=!0:u=!1),e.limitInPlot=u,a}function Yv(a,e){if(a===!1)return{fields:!1};var t=(0,w.get)(a,"fields"),n=(0,w.get)(a,"formatter");return n&&!t&&(t=e),{fields:t,formatter:n}}function VE(a,e){var t=a.type,n=a.xField,o=a.yField,u=a.colorField,l=a.shapeField,c=a.sizeField,f=a.styleField,h=a.rawFields,v=h===void 0?[]:h,p=[];if(e==="color")p=(0,Z.__spreadArrays)([u||n],v);else if(e==="shape")p=(0,Z.__spreadArrays)([l||n],v);else if(e==="size")p=(0,Z.__spreadArrays)([c||n],v);else{p=(0,Z.__spreadArrays)([n,o,u,l,c,f],v);var g=["x","y","color","shape","size","style"].indexOf(e),E=p[g];p.splice(g,1),p.unshift(E)}var D=(0,w.uniq)(p.filter(function(H){return!!H})),G=t==="line"&&[n,o].includes(D.join("*"))?"":D.join("*");return{mappingFields:D,tileMappingField:G}}function zm(a,e){if(!!e)return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var o={};return a.forEach(function(u,l){o[u]=t[l]}),delete o.undefined,e(o)}}function $d(a){var e=a.chart,t=a.options,n=t.type,o=t.args,u=t.mapping,l=t.xField,c=t.yField,f=t.colorField,h=t.shapeField,v=t.sizeField,p=t.tooltipFields,g=t.label,E=t.state,D=t.customInfo;if(!u)return a;var G=u.color,H=u.shape,X=u.size,rt=u.style,ht=u.tooltip,mt=e[n](o).position(l+"*"+c);if((0,w.isString)(G))f?mt.color(f,G):mt.color(G);else if((0,w.isFunction)(G)){var Dt=VE(t,"color"),kt=Dt.mappingFields,Vt=Dt.tileMappingField;mt.color(Vt,zm(kt,G))}else f&&mt.color(f,G);if((0,w.isString)(H))h?mt.shape(h,[H]):mt.shape(H);else if((0,w.isFunction)(H)){var te=VE(t,"shape"),kt=te.mappingFields,Vt=te.tileMappingField;mt.shape(Vt,zm(kt,H))}else h&&mt.shape(h,H);if((0,w.isNumber)(X))v?mt.size(v,X):mt.size(X);else if((0,w.isFunction)(X)){var le=VE(t,"size"),kt=le.mappingFields,Vt=le.tileMappingField;mt.size(Vt,zm(kt,X))}else v&&mt.size(v,X);if((0,w.isFunction)(rt)){var pe=VE(t,"style"),kt=pe.mappingFields,Vt=pe.tileMappingField;mt.style(Vt,zm(kt,rt))}else(0,w.isObject)(rt)&&mt.style(rt);if(p===!1?mt.tooltip(!1):(0,w.isEmpty)(p)||mt.tooltip(p.join("*"),zm(p,ht)),g===!1)mt.label(!1);else if(g){var De=g.callback,Xe=g.fields,pr=(0,Z.__rest)(g,["callback","fields"]);mt.label({fields:Xe||[c],callback:De,cfg:Jc(pr)})}return E&&mt.state(E),D&&mt.customInfo(D),[l,c].filter(function(yr){return yr!==f}).forEach(function(yr){e.legend(yr,!1)}),(0,Z.__assign)((0,Z.__assign)({},a),{ext:{geometry:mt}})}function HE(a){var e=a.options,t=e.area,n=e.xField,o=e.yField,u=e.seriesField,l=e.smooth,c=e.tooltip,f=Yv(c,[n,o,u]),h=f.fields,v=f.formatter;return t?$d(yn({},a,{options:{type:"area",colorField:u,tooltipFields:h,mapping:(0,Z.__assign)({shape:l?"smooth":"area",tooltip:v},t)}})):a}function Um(a){var e=a.options,t=e.line,n=e.stepType,o=e.xField,u=e.yField,l=e.seriesField,c=e.smooth,f=e.connectNulls,h=e.tooltip,v=Yv(h,[o,u,l]),p=v.fields,g=v.formatter;return t?$d(yn({},a,{options:{type:"line",colorField:l,tooltipFields:p,mapping:(0,w.deepMix)({shape:n||(c?"smooth":"line"),tooltip:g},t),args:{connectNulls:f}}})):a}function xv(a){var e=a.options,t=e.point,n=e.xField,o=e.yField,u=e.seriesField,l=e.sizeField,c=e.shapeField,f=e.tooltip,h=Yv(f,[n,o,u,l,c]),v=h.fields,p=h.formatter;return t?$d(yn({},a,{options:{type:"point",colorField:u,shapeField:c,tooltipFields:v,mapping:(0,Z.__assign)({tooltip:p},t)}})):a}function LU(a){var e=a.chart,t=a.options,n=a.ext,o=t.seriesField,u=t.isGroup,l=t.isStack,c=t.marginRatio,f=t.widthRatio,h=t.groupField,v=t.theme,p=[];if(o&&(u&&p.push({type:"dodge",dodgeBy:h||o,marginRatio:c}),l&&p.push({type:"stack",marginRatio:c})),p.length&&(n==null?void 0:n.geometry)){var g=n==null?void 0:n.geometry;g.adjust(p)}return(0,w.isNil)(f)||e.theme(yn({},(0,w.isObject)(v)?v:Dm(v),{columnWidthRatio:f})),a}function Qf(a){var e=a.options,t=e.xField,n=e.yField,o=e.interval,u=e.seriesField,l=e.tooltip,c=e.minColumnWidth,f=e.maxColumnWidth,h=e.columnBackground,v=e.dodgePadding,p=e.intervalPadding,g=Yv(l,[t,n,u]),E=g.fields,D=g.formatter,G=(o?$d(yn({},a,{options:{type:"interval",colorField:u,tooltipFields:E,mapping:(0,Z.__assign)({tooltip:D},o),args:{dodgePadding:v,intervalPadding:p,minColumnWidth:c,maxColumnWidth:f,background:h}}})):a).ext;return LU((0,Z.__assign)((0,Z.__assign)({},a),{ext:G}))}function YE(a){var e=a.options,t=e.polygon,n=e.xField,o=e.yField,u=e.seriesField,l=e.tooltip,c=Yv(l,[n,o,u]),f=c.fields,h=c.formatter;return t?$d(yn({},a,{options:{type:"polygon",colorField:u,tooltipFields:f,mapping:(0,Z.__assign)({tooltip:h},t)}})):a}function IO(a){var e=a.options,t=e.edge,n=e.xField,o=e.yField,u=e.seriesField,l=e.tooltip,c=Yv(l,[n,o,u]),f=c.fields,h=c.formatter;return t?$d(yn({},a,{options:{type:"edge",colorField:u,tooltipFields:f,mapping:(0,Z.__assign)({tooltip:h},t)}})):a}function E_(a){var e=a.options,t=e.schema,n=e.xField,o=e.yField,u=e.seriesField,l=e.tooltip,c=Yv(l,[n,o,u]),f=c.fields,h=c.formatter;return t?$d(yn({},a,{options:{type:"schema",colorField:u,tooltipFields:f,mapping:(0,Z.__assign)({tooltip:h},t)}})):a}function RU(a){var e=a.options,t=e.violin,n=e.xField,o=e.yField,u=e.seriesField,l=e.sizeField,c=e.tooltip,f=Yv(c,[n,o,u,l]),h=f.fields,v=f.formatter;return t?$d(yn({},a,{options:{type:"violin",colorField:u,tooltipFields:h,mapping:(0,Z.__assign)({tooltip:v},t)}})):a}function FU(a){var e=a.chart,t=a.options,n=t.data,o=t.color,u=t.lineStyle,l=t.lineShape,c=t.point,f=t.area,h=t.seriesField,v=c==null?void 0:c.state,p=f==null?void 0:f.state;e.data(n);var g=yn({},a,{options:{shapeField:h,line:{color:o,style:u,shape:l},point:c&&(0,Z.__assign)({color:o,shape:"circle"},c),area:f&&(0,Z.__assign)({color:o},f),label:void 0}}),E=yn({},g,{options:{tooltip:!1,state:v}}),D=yn({},g,{options:{tooltip:!1,state:p}});return Um(g),xv(E),HE(D),a}function XE(a){var e,t,n=a.options,o=n.xAxis,u=n.yAxis,l=n.xField,c=n.yField,f=n.data;return oa(Tu((e={},e[l]=o,e[c]=u,e),(t={},t[l]={type:"cat"},t[c]=p_(f,c),t)))(a)}function NU(a){var e=a.chart,t=a.options,n=t.reflect;if(n){var o=n;(0,w.isArray)(o)||(o=[o]);var u=o.map(function(l){return["reflect",l]});e.coordinate({type:"rect",actions:u})}return a}function OO(a){var e=a.chart,t=a.options,n=t.xAxis,o=t.yAxis,u=t.xField,l=t.yField;return n===!1?e.axis(u,!1):e.axis(u,n),o===!1?e.axis(l,!1):e.axis(l,o),a}function DO(a){var e=a.chart,t=a.options,n=t.legend,o=t.seriesField;return n&&o?e.legend(o,n):n===!1&&e.legend(!1),a}function kU(a){var e=a.chart,t=a.options,n=t.label,o=t.yField,u=Zf(e,"line");if(!n)u.label(!1);else{var l=n.callback,c=(0,Z.__rest)(n,["callback"]);u.label({fields:[o],callback:l,cfg:(0,Z.__assign)({layout:[{type:"limit-in-plot"},{type:"path-adjust-position"},{type:"point-adjust-position"},{type:"limit-in-plot",cfg:{action:"hide"}}]},Jc(c))})}return a}function BU(a){var e=a.chart,t=a.options,n=t.isStack;return n&&(0,w.each)(e.geometries,function(o){o.adjust("stack")}),a}function PO(a){return oa(FU,XE,BU,Oo,NU,OO,DO,Wl,kU,Kx,b_,Rs,Zo,Mu(),ay)(a)}var GU=yn({},Ma.getDefaultOptions(),{tooltip:{shared:!0,showMarkers:!0,showCrosshairs:!0,crosshairs:{type:"x"}},legend:{position:"top-left",radio:{}},isStack:!1}),zU=function(a){(0,Z.__extends)(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.active=function(){var t=this.getView(),n=this.context.event;if(n.data){var o=n.data.items,u=t.geometries.filter(function(l){return l.type==="point"});(0,w.each)(u,function(l){(0,w.each)(l.elements,function(c){var f=(0,w.findIndex)(o,function(h){return h.data===c.data})!==-1;c.setState("active",f)})})}},e.prototype.reset=function(){var t=this.getView(),n=t.geometries.filter(function(o){return o.type==="point"});(0,w.each)(n,function(o){(0,w.each)(o.elements,function(u){u.setState("active",!1)})})},e.prototype.getView=function(){return this.context.view},e}(Ws);na("marker-active",zU),Ta("marker-active",{start:[{trigger:"tooltip:show",action:"marker-active:active"}],end:[{trigger:"tooltip:hide",action:"marker-active:reset"}]});var LO=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type="line",t}return e.getDefaultOptions=function(){return GU},e.prototype.changeData=function(t){this.updateOption({data:t});var n=this,o=n.chart,u=n.options;XE({chart:o,options:u}),this.chart.changeData(t)},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return PO},e}(Ma);function RO(a,e,t,n){var o=(0,w.reduce)(a,function(u,l){var c=l[t],f=u.has(c)?u.get(c):0,h=l[e];return f=ny(h)?f+h:f,u.set(c,f),u},new Map);return(0,w.map)(a,function(u){var l,c=u[e],f=u[t],h=ny(c)&&o.get(f)!==0?c/o.get(f):0;return(0,Z.__assign)((0,Z.__assign)({},u),(l={},l[n]=h,l))})}function UU(a,e,t,n){var o=(0,w.reduce)(a,function(u,l){var c=(0,w.reduce)(t,function(v,p){return""+v+l[p]},""),f=u.has(c)?u.get(c):0,h=l[e];return f=ny(h)?f+h:f,u.set(c,f),u},new Map);return(0,w.map)(a,function(u){var l,c=u[e],f=(0,w.reduce)(t,function(v,p){return""+v+u[p]},""),h=ny(c)&&o.get(f)!==0?c/o.get(f):0;return(0,Z.__assign)((0,Z.__assign)({},u),(l={},l[n]=h,l))})}function Zx(a,e,t,n,o){return o?RO(a,e,t,n):a}function jU(a){var e=a.chart,t=a.options,n=t.data,o=t.areaStyle,u=t.color,l=t.point,c=t.line,f=t.isPercent,h=t.xField,v=t.yField,p=t.tooltip,g=t.seriesField,E=t.startOnZero,D=l==null?void 0:l.state,G=Zx(n,v,h,v,f);e.data(G);var H=f?(0,Z.__assign)({formatter:function(mt){return{name:mt[g]||mt[h],value:(Number(mt[v])*100).toFixed(2)+"%"}}},p):p,X=yn({},a,{options:{area:{color:u,style:o},point:l&&(0,Z.__assign)({color:u},l),tooltip:H,label:void 0,args:{startOnZero:E}}}),rt={chart:e,options:yn({line:{size:2}},(0,w.omit)(t,["state"]),{line:c&&(0,Z.__assign)({color:u},c),sizeField:g,state:c==null?void 0:c.state,tooltip:!1,label:void 0,args:{startOnZero:E}})},ht=yn({},X,{options:{tooltip:!1,state:D}});return HE(X),Um(rt),xv(ht),a}function WU(a){var e=a.chart,t=a.options,n=t.label,o=t.yField,u=Zf(e,"area");if(!n)u.label(!1);else{var l=n.callback,c=(0,Z.__rest)(n,["callback"]);u.label({fields:[o],callback:l,cfg:(0,Z.__assign)({layout:[{type:"limit-in-plot"},{type:"path-adjust-position"},{type:"point-adjust-position"},{type:"limit-in-plot",cfg:{action:"hide"}}]},Jc(c))})}return a}function VU(a){var e=a.chart,t=a.options,n=t.isStack,o=t.isPercent,u=t.seriesField;return(o||n)&&u&&(0,w.each)(e.geometries,function(l){l.adjust("stack")}),a}function FO(a){return oa(Oo,mv("areaStyle"),jU,XE,VU,OO,DO,Wl,WU,Kx,Mu(),Rs,Zo,ay)(a)}var HU=yn({},Ma.getDefaultOptions(),{tooltip:{shared:!0,showMarkers:!0,showCrosshairs:!0,crosshairs:{type:"x"}},isStack:!0,line:{},legend:{position:"top-left",radio:{}}}),NO=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type="area",t}return e.getDefaultOptions=function(){return HU},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.changeData=function(t){this.updateOption({data:t});var n=this.options,o=n.isPercent,u=n.xField,l=n.yField,c=this,f=c.chart,h=c.options;XE({chart:f,options:h}),this.chart.changeData(Zx(t,l,u,l,o))},e.prototype.getSchemaAdaptor=function(){return FO},e}(Ma);function kO(a,e){return!(0,w.isNumber)(a)||!(0,w.isNumber)(e)?"-":a===e?"100%":a===0?"\u221E":e===0?"-\u221E":(100*e/a).toFixed(2)+"%"}function YU(a,e){return yn({size:e?32:80,spacing:e?8:12,offset:e?32:0,arrow:a.arrow!==!1&&{headSize:12,style:{fill:"rgba(0, 0, 0, 0.05)"}},text:a.text!==!1&&{style:{fontSize:12,fill:"rgba(0, 0, 0, 0.85)",textAlign:"center",textBaseline:"middle"},formatter:kO}},a)}function $E(a,e){return(0,w.map)(e.getModel().points,function(t){return a.convertPoint(t)})}function XU(a,e,t){var n=a.view,o=a.geometry,u=a.group,l=a.options,c=a.horizontal,f=l.offset,h=l.size,v=l.arrow,p=n.getCoordinate(),g=$E(p,e)[3],E=$E(p,t)[0],D=E.y-g.y,G=E.x-g.x;if(typeof v!="boolean"){var H=v.headSize,X=l.spacing,rt;c?(G-H)/2<X?(X=Math.max(1,(G-H)/2),rt=[[g.x+X,g.y-f],[g.x+X,g.y-f-h],[E.x-X,E.y-f-h/2]]):rt=[[g.x+X,g.y-f],[g.x+X,g.y-f-h],[E.x-X-H,E.y-f-h],[E.x-X,E.y-f-h/2],[E.x-X-H,E.y-f]]:(D-H)/2<X?(X=Math.max(1,(D-H)/2),rt=[[g.x+f,g.y+X],[g.x+f+h,g.y+X],[E.x+f+h/2,E.y-X]]):rt=[[g.x+f,g.y+X],[g.x+f+h,g.y+X],[E.x+f+h,E.y-X-H],[E.x+f+h/2,E.y-X],[E.x+f,E.y-X-H]],u.addShape("polygon",{id:n.id+"-conversion-tag-arrow-"+o.getElementId(e.getModel().mappingData),name:"conversion-tag-arrow",origin:{element:e,nextElement:t},attrs:(0,Z.__assign)((0,Z.__assign)({},v.style||{}),{points:rt})})}}function $U(a,e,t){var n,o,u,l=a.view,c=a.geometry,f=a.group,h=a.options,v=a.field,p=a.horizontal,g=h.offset,E=h.size;if(typeof h.text!="boolean"){var D=l.getCoordinate(),G=((n=h.text)===null||n===void 0?void 0:n.formatter)&&((o=h.text)===null||o===void 0?void 0:o.formatter(e.getData()[v],t.getData()[v])),H=$E(D,e)[p?3:0],X=$E(D,t)[p?0:3],rt=f.addShape("text",{id:l.id+"-conversion-tag-text-"+c.getElementId(e.getModel().mappingData),name:"conversion-tag-text",origin:{element:e,nextElement:t},attrs:(0,Z.__assign)((0,Z.__assign)({},((u=h.text)===null||u===void 0?void 0:u.style)||{}),{text:G,x:p?(H.x+X.x)/2:H.x+g+E/2,y:p?H.y-g-E/2:(H.y+X.y)/2})});if(p){var ht=X.x-H.x,mt=rt.getBBox().width;if(mt>ht){var Dt=mt/G.length,kt=Math.max(1,Math.ceil(ht/Dt)-1),Vt=G.slice(0,kt)+"...";rt.attr("text",Vt)}}}}function KU(a,e,t){XU(a,e,t),$U(a,e,t)}function ZU(a,e,t){return e===void 0&&(e=!0),t===void 0&&(t=!1),function(n){var o=n.options,u=n.chart,l=o.conversionTag,c=o.theme;return l&&!t&&(u.theme(yn({},(0,w.isObject)(c)?c:Dm(c),{columnWidthRatio:1/3})),u.annotation().shape({render:function(f,h){var v=f.addGroup({id:u.id+"-conversion-tag-group",name:"conversion-tag-group"}),p=(0,w.find)(u.geometries,function(D){return D.type==="interval"}),g={view:h,geometry:p,group:v,field:a,horizontal:e,options:YU(l,e)},E=p.elements;(0,w.each)(E,function(D,G){G>0&&KU(g,E[G-1],D)})}})),n}}var oy={hover:"__interval-connected-area-hover__",click:"__interval-connected-area-click__"},S_=function(a,e){return a==="hover"?[{trigger:"interval:mouseenter",action:["element-highlight-by-color:highlight","element-link-by-color:link"],arg:[null,{style:e}]}]:[{trigger:"interval:click",action:["element-highlight-by-color:clear","element-highlight-by-color:highlight","element-link-by-color:clear","element-link-by-color:unlink","element-link-by-color:link"],arg:[null,null,null,null,{style:e}]}]};Ta(oy.hover,{start:S_(oy.hover),end:[{trigger:"interval:mouseleave",action:["element-highlight-by-color:reset","element-link-by-color:unlink"]}]}),Ta(oy.click,{start:S_(oy.click),end:[{trigger:"document:mousedown",action:["element-highlight-by-color:clear","element-link-by-color:clear"]}]});function QU(a){return a===void 0&&(a=!1),function(e){var t=e.chart,n=e.options,o=n.connectedArea,u=function(){t.removeInteraction(oy.hover),t.removeInteraction(oy.click)};if(!a&&o){var l=o.trigger||"hover";u(),t.interaction(oy[l],{start:S_(l,o.style)})}else u();return e}}var JU=10,qU=5,tj={padding:[8,10],text:"reset",textStyle:{default:{x:0,y:0,fontSize:12,fill:"#333333",cursor:"pointer"}},buttonStyle:{default:{fill:"#f7f7f7",stroke:"#cccccc",cursor:"pointer"},active:{fill:"#e6e6e6"}}},ej=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.buttonGroup=null,t.buttonCfg=(0,Z.__assign)({name:"button"},tj),t}return e.prototype.getButtonCfg=function(){var t=this.context.view,n=(0,w.get)(t,["interactions","filter-action","cfg","buttonConfig"]);return yn(this.buttonCfg,n,this.cfg)},e.prototype.drawButton=function(){var t=this.getButtonCfg(),n=this.context.view.foregroundGroup.addGroup({name:t.name}),o=this.drawText(n);this.drawBackground(n,o.getBBox()),this.buttonGroup=n},e.prototype.drawText=function(t){var n,o=this.getButtonCfg();return t.addShape({type:"text",name:"button-text",attrs:(0,Z.__assign)({text:o.text},(n=o.textStyle)===null||n===void 0?void 0:n.default)})},e.prototype.drawBackground=function(t,n){var o,u=this.getButtonCfg(),l=a0(u.padding),c=t.addShape({type:"rect",name:"button-rect",attrs:(0,Z.__assign)({x:n.x-l[3],y:n.y-l[0],width:n.width+l[1]+l[3],height:n.height+l[0]+l[2]},(o=u.buttonStyle)===null||o===void 0?void 0:o.default)});return c.toBack(),t.on("mouseenter",function(){var f;c.attr((f=u.buttonStyle)===null||f===void 0?void 0:f.active)}),t.on("mouseleave",function(){var f;c.attr((f=u.buttonStyle)===null||f===void 0?void 0:f.default)}),c},e.prototype.resetPosition=function(){var t=this.context.view,n=t.getCoordinate(),o=n.convert({x:1,y:1}),u=this.buttonGroup,l=u.getBBox(),c=Sd.transform(null,[["t",o.x-l.width-JU,o.y+l.height+qU]]);u.setMatrix(c)},e.prototype.show=function(){this.buttonGroup||this.drawButton(),this.resetPosition(),this.buttonGroup.show()},e.prototype.hide=function(){this.buttonGroup&&this.buttonGroup.hide()},e.prototype.destroy=function(){var t=this.buttonGroup;t&&t.remove(),a.prototype.destroy.call(this)},e}(Ws);na("brush-reset-button",ej,{name:"brush-reset-button"}),Ta("filter-action",{});function pg(a){return a.isInPlot()}function sy(a,e,t){var n=e||"rect";switch(a){case"brush":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:pg,action:["brush:start",n+"-mask:start",n+"-mask:show"],arg:[null,{maskStyle:t==null?void 0:t.style}]}],processing:[{trigger:"mousemove",isEnable:pg,action:[n+"-mask:resize"]}],end:[{trigger:"mouseup",isEnable:pg,action:["brush:filter","brush:end",n+"-mask:end",n+"-mask:hide","brush-reset-button:show"]}],rollback:[{trigger:"brush-reset-button:click",action:["brush:reset","brush-reset-button:hide","cursor:crosshair"]}]};case"brush-highlight":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"mask:mouseenter",action:"cursor:move"},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:function(o){return!o.isInShape("mask")},action:[n+"-mask:start",n+"-mask:show"],arg:[{maskStyle:t==null?void 0:t.style}]},{trigger:"mask:dragstart",action:[n+"-mask:moveStart"]}],processing:[{trigger:"plot:mousemove",action:[n+"-mask:resize"]},{trigger:"mask:drag",action:[n+"-mask:move"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:[n+"-mask:end"]},{trigger:"mask:dragend",action:[n+"-mask:moveEnd"]},{trigger:"document:mouseup",isEnable:function(o){return!o.isInPlot()},action:["element-range-highlight:clear",n+"-mask:end",n+"-mask:hide"]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear",n+"-mask:hide"]}]};case"brush-x":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:pg,action:["brush-x:start",n+"-mask:start",n+"-mask:show"],arg:[null,{maskStyle:t==null?void 0:t.style}]}],processing:[{trigger:"mousemove",isEnable:pg,action:[n+"-mask:resize"]}],end:[{trigger:"mouseup",isEnable:pg,action:["brush-x:filter","brush-x:end",n+"-mask:end",n+"-mask:hide"]}],rollback:[{trigger:"dblclick",action:["brush-x:reset"]}]};case"brush-x-highlight":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"mask:mouseenter",action:"cursor:move"},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:function(o){return!o.isInShape("mask")},action:[n+"-mask:start",n+"-mask:show"],arg:[{maskStyle:t==null?void 0:t.style}]},{trigger:"mask:dragstart",action:[n+"-mask:moveStart"]}],processing:[{trigger:"plot:mousemove",action:[n+"-mask:resize"]},{trigger:"mask:drag",action:[n+"-mask:move"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:[n+"-mask:end"]},{trigger:"mask:dragend",action:[n+"-mask:moveEnd"]},{trigger:"document:mouseup",isEnable:function(o){return!o.isInPlot()},action:["element-range-highlight:clear",n+"-mask:end",n+"-mask:hide"]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear",n+"-mask:hide"]}]};case"brush-y":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:pg,action:["brush-y:start",n+"-mask:start",n+"-mask:show"],arg:[null,{maskStyle:t==null?void 0:t.style}]}],processing:[{trigger:"mousemove",isEnable:pg,action:[n+"-mask:resize"]}],end:[{trigger:"mouseup",isEnable:pg,action:["brush-y:filter","brush-y:end",n+"-mask:end",n+"-mask:hide"]}],rollback:[{trigger:"dblclick",action:["brush-y:reset"]}]};case"brush-y-highlight":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"mask:mouseenter",action:"cursor:move"},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:function(o){return!o.isInShape("mask")},action:[n+"-mask:start",n+"-mask:show"],arg:[{maskStyle:t==null?void 0:t.style}]},{trigger:"mask:dragstart",action:[n+"-mask:moveStart"]}],processing:[{trigger:"plot:mousemove",action:[n+"-mask:resize"]},{trigger:"mask:drag",action:[n+"-mask:move"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:[n+"-mask:end"]},{trigger:"mask:dragend",action:[n+"-mask:moveEnd"]},{trigger:"document:mouseup",isEnable:function(o){return!o.isInPlot()},action:["element-range-highlight:clear",n+"-mask:end",n+"-mask:hide"]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear",n+"-mask:hide"]}]};default:return{}}}Ta("brush",sy("brush")),Ta("brush-highlight",sy("brush-highlight")),Ta("brush-x",sy("brush-x","x-rect")),Ta("brush-y",sy("brush-y","y-rect")),Ta("brush-x-highlight",sy("brush-x-highlight","x-rect")),Ta("brush-y-highlight",sy("brush-y-highlight","y-rect"));var BO=["brush","brush-x","brush-y","brush-highlight","brush-x-highlight","brush-y-highlight"];function GO(a){var e=a.options,t=e.brush,n=(0,w.filter)(e.interactions||[],function(o){return BO.indexOf(o.type)===-1});return t!=null&&t.enabled&&(BO.forEach(function(o){var u,l=!1;switch(t.type){case"x-rect":l=o===(t.action==="highlight"?"brush-x-highlight":"brush-x");break;case"y-rect":l=o===(t.action==="highlight"?"brush-y-highlight":"brush-y");break;default:l=o===(t.action==="highlight"?"brush-highlight":"brush");break}var c={type:o,enable:l};(((u=t.mask)===null||u===void 0?void 0:u.style)||t.type)&&(c.cfg=sy(o,t.type,t.mask)),n.push(c)}),(t==null?void 0:t.action)!=="highlight"&&n.push({type:"filter-action",cfg:{buttonConfig:t.button}})),yn({},a,{options:{interactions:n}})}function rj(a){var e=a.options,t=e.legend,n=e.seriesField,o=e.isStack;return n?t!==!1&&(t=(0,Z.__assign)({position:o?"right-top":"top-left"},t)):t=!1,a.options.legend=t,a}function nj(a){var e=a.chart,t=a.options,n=t.data,o=t.columnStyle,u=t.color,l=t.columnWidthRatio,c=t.isPercent,f=t.isGroup,h=t.isStack,v=t.xField,p=t.yField,g=t.seriesField,E=t.groupField,D=t.tooltip,G=t.shape,H=c&&f&&h?UU(n,p,[v,E],p):Zx(n,p,v,p,c),X=[];h&&g&&!f?H.forEach(function(mt){var Dt=X.find(function(kt){return kt[v]===mt[v]&&kt[g]===mt[g]});Dt?Dt[p]+=mt[p]||0:X.push((0,Z.__assign)({},mt))}):X=H,e.data(X);var rt=c?(0,Z.__assign)({formatter:function(mt){return{name:f&&h?mt[g]+" - "+mt[E]:mt[g]||mt[v],value:(Number(mt[p])*100).toFixed(2)+"%"}}},D):D,ht=yn({},a,{options:{data:X,widthRatio:l,tooltip:rt,interval:{shape:G,style:o,color:u}}});return Qf(ht),ht}function w_(a){var e,t,n=a.options,o=n.xAxis,u=n.yAxis,l=n.xField,c=n.yField,f=n.data,h=n.isPercent,v=h?{max:1,min:0,minLimit:0,maxLimit:1}:{};return oa(Tu((e={},e[l]=o,e[c]=u,e),(t={},t[l]={type:"cat"},t[c]=(0,Z.__assign)((0,Z.__assign)({},p_(f,c)),v),t)))(a)}function ij(a){var e=a.chart,t=a.options,n=t.xAxis,o=t.yAxis,u=t.xField,l=t.yField;return n===!1?e.axis(u,!1):e.axis(u,n),o===!1?e.axis(l,!1):e.axis(l,o),a}function aj(a){var e=a.chart,t=a.options,n=t.legend,o=t.seriesField;return n&&o?e.legend(o,n):n===!1&&e.legend(!1),a}function oj(a){var e=a.chart,t=a.options,n=t.label,o=t.yField,u=t.isRange,l=Zf(e,"interval");if(!n)l.label(!1);else{var c=n.callback,f=(0,Z.__rest)(n,["callback"]);l.label({fields:[o],callback:c,cfg:(0,Z.__assign)({layout:f!=null&&f.position?void 0:[{type:"interval-adjust-position"},{type:"interval-hide-overlap"},{type:"adjust-color"},{type:"limit-in-plot",cfg:{action:"hide"}}]},Jc(u?(0,Z.__assign)({content:function(h){var v;return(v=h[o])===null||v===void 0?void 0:v.join("-")}},f):f))})}return a}function sj(a){var e=a.chart,t=a.options,n=t.tooltip,o=t.isGroup,u=t.isStack,l=t.groupField,c=t.data,f=t.xField,h=t.yField,v=t.seriesField;if(n===!1)e.tooltip(!1);else{var p=n;if(o&&u){var g=(p==null?void 0:p.formatter)||function(E){return{name:E[v]+" - "+E[l],value:E[h]}};p=(0,Z.__assign)((0,Z.__assign)({},p),{customItems:function(E){var D=[];return(0,w.each)(E,function(G){var H=(0,w.filter)(c,function(X){return(0,w.isMatch)(X,Ko(G.data,[f,v]))});H.forEach(function(X){D.push((0,Z.__assign)((0,Z.__assign)((0,Z.__assign)({},G),{value:X[h],data:X,mappingData:{_origin:X}}),g(X)))})}),D}})}e.tooltip(p)}return a}function KE(a,e){e===void 0&&(e=!1);var t=a.options,n=t.seriesField;return oa(rj,Oo,mv("columnStyle"),o0,nj,w_,ij,aj,sj,Kx,b_,oj,GO,Rs,Zo,Mu(),ZU(t.yField,!e,!!n),QU(!t.isStack),ay)(a)}var uj=yn({},Ma.getDefaultOptions(),{columnWidthRatio:.6,marginRatio:1/32,tooltip:{shared:!0,showMarkers:!1,offset:20},legend:{radio:{}},interactions:[{type:"active-region"}]}),zO=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type="column",t}return e.getDefaultOptions=function(){return uj},e.prototype.changeData=function(t){this.updateOption({data:t});var n=this.options,o=n.yField,u=n.xField,l=n.isPercent,c=this,f=c.chart,h=c.options;w_({chart:f,options:h}),this.chart.changeData(Zx(t,o,u,o,l))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return KE},e}(Ma);function lj(a){var e=a.options,t=e.xField,n=e.yField,o=e.xAxis,u=e.yAxis,l={left:"bottom",right:"top",top:"left",bottom:"right"},c=u!==!1?(0,Z.__assign)({position:l[(u==null?void 0:u.position)||"left"]},u):!1,f=o!==!1?(0,Z.__assign)({position:l[(o==null?void 0:o.position)||"bottom"]},o):!1;return(0,Z.__assign)((0,Z.__assign)({},a),{options:(0,Z.__assign)((0,Z.__assign)({},e),{xField:n,yField:t,xAxis:c,yAxis:f})})}function cj(a){var e=a.options,t=e.label;return t&&!t.position&&(t.position="left",t.layout||(t.layout=[{type:"interval-adjust-position"},{type:"interval-hide-overlap"},{type:"adjust-color"},{type:"limit-in-plot",cfg:{action:"hide"}}])),yn({},a,{options:{label:t}})}function fj(a){var e=a.options,t=e.seriesField,n=e.isStack,o=e.legend;return t?o!==!1&&(o=(0,Z.__assign)({position:n?"top-left":"right-top"},o||{})):o=!1,yn({},a,{options:{legend:o}})}function hj(a){var e=a.chart;return e.coordinate({actions:[["transpose"],["reflect","y"]]}),a}function dj(a){var e=a.chart,t=a.options,n=t.barStyle,o=t.barWidthRatio,u=t.minBarWidth,l=t.maxBarWidth,c=t.barBackground;return KE({chart:e,options:(0,Z.__assign)((0,Z.__assign)({},t),{columnStyle:n,columnWidthRatio:o,minColumnWidth:u,maxColumnWidth:l,columnBackground:c})},!0)}function UO(a){return oa(lj,cj,fj,Wl,hj,dj)(a)}var vj=yn({},Ma.getDefaultOptions(),{barWidthRatio:.6,marginRatio:1/32,tooltip:{shared:!0,showMarkers:!1,offset:20},legend:{radio:{}},interactions:[{type:"active-region"}]}),jO=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type="bar",t}return e.getDefaultOptions=function(){return vj},e.prototype.changeData=function(t){this.updateOption({data:t});var n=this,o=n.chart,u=n.options,l=u.xField,c=u.yField,f=u.isPercent,h=(0,Z.__assign)((0,Z.__assign)({},u),{xField:c,yField:l});w_({chart:o,options:h}),o.changeData(Zx(t,l,c,l,f))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return UO},e}(Ma),WO=yn({},Ma.getDefaultOptions(),{legend:{position:"right",radio:{}},tooltip:{shared:!1,showTitle:!1,showMarkers:!1},label:{layout:{type:"limit-in-plot",cfg:{action:"ellipsis"}}},pieStyle:{stroke:"white",lineWidth:1},statistic:{title:{style:{fontWeight:300,color:"#4B535E",textAlign:"center",fontSize:"20px",lineHeight:1}},content:{style:{fontWeight:"bold",color:"rgba(44,53,66,0.85)",textAlign:"center",fontSize:"32px",lineHeight:1}}},theme:{components:{annotation:{text:{animate:!1}}}}});function pj(a,e){var t=null;return(0,w.each)(a,function(n){typeof n[e]=="number"&&(t+=n[e])}),t}function gj(a,e){var t;switch(a){case"inner":return t="-30%",(0,w.isString)(e)&&e.endsWith("%")?parseFloat(e)*.01>0?t:e:e<0?e:t;case"outer":return t=12,(0,w.isString)(e)&&e.endsWith("%")?parseFloat(e)*.01<0?t:e:e>0?e:t;default:return e}}function ZE(a,e){return(0,w.every)(Gm(a,e),function(t){return t[e]===0})}var yj=[1,0,0,0,1,0,0,0,1];function __(a,e){var t=e?(0,Z.__spreadArrays)(e):(0,Z.__spreadArrays)(yj);return Sd.transform(t,a)}var mj=function(a){(0,Z.__extends)(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.getActiveElements=function(){var t=Sd.getDelegationObject(this.context);if(t){var n=this.context.view,o=t.component,u=t.item,l=o.get("field");if(l){var c=n.geometries[0].elements;return c.filter(function(f){return f.getModel().data[l]===u.value})}}return[]},e.prototype.getActiveElementLabels=function(){var t=this.context.view,n=this.getActiveElements(),o=t.geometries[0].labelsContainer.getChildren();return o.filter(function(u){return n.find(function(l){return(0,w.isEqual)(l.getData(),u.get("data"))})})},e.prototype.transfrom=function(t){t===void 0&&(t=7.5);var n=this.getActiveElements(),o=this.getActiveElementLabels();n.forEach(function(u,l){var c=o[l],f=u.geometry.coordinate;if(f.isPolar&&f.isTransposed){var h=Sd.getAngle(u.getModel(),f),v=h.startAngle,p=h.endAngle,g=(v+p)/2,E=t,D=E*Math.cos(g),G=E*Math.sin(g);u.shape.setMatrix(__([["t",D,G]])),c.setMatrix(__([["t",D,G]]))}})},e.prototype.active=function(){this.transfrom()},e.prototype.reset=function(){this.transfrom(0)},e}(Ws);function xj(a){var e=a.event,t,n=e.target;return n&&(t=n.get("element")),t}var bj=function(a){(0,Z.__extends)(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.getAnnotations=function(t){var n=t||this.context.view;return n.getController("annotation").option},e.prototype.getInitialAnnotation=function(){return this.initialAnnotation},e.prototype.init=function(){var t=this,n=this.context.view;n.removeInteraction("tooltip"),n.on("afterchangesize",function(){var o=t.getAnnotations(n);t.initialAnnotation=o})},e.prototype.change=function(t){var n=this.context,o=n.view,u=n.event;this.initialAnnotation||(this.initialAnnotation=this.getAnnotations());var l=(0,w.get)(u,["data","data"]);if(u.type.match("legend-item")){var c=Sd.getDelegationObject(this.context),f=o.getGroupedFields()[0];if(c&&f){var h=c.item;l=o.getData().find(function(E){return E[f]===h.value})}}if(l){var v=(0,w.get)(t,"annotations",[]),p=(0,w.get)(t,"statistic",{});o.getController("annotation").clear(!0),(0,w.each)(v,function(E){typeof E=="object"&&o.annotation()[E.type](E)}),GE(o,{statistic:p,plotType:"pie"},l),o.render(!0)}var g=xj(this.context);g&&g.shape.toFront()},e.prototype.reset=function(){var t=this.context.view,n=t.getController("annotation");n.clear(!0);var o=this.getInitialAnnotation();(0,w.each)(o,function(u){t.annotation()[u.type](u)}),t.render(!0)},e}(Ws),VO="pie-statistic";na(VO,bj),Ta("pie-statistic-active",{start:[{trigger:"element:mouseenter",action:"pie-statistic:change"}],end:[{trigger:"element:mouseleave",action:"pie-statistic:reset"}]}),na("pie-legend",mj),Ta("pie-legend-active",{start:[{trigger:"legend-item:mouseenter",action:"pie-legend:active"}],end:[{trigger:"legend-item:mouseleave",action:"pie-legend:reset"}]});function Ej(a){var e=a.chart,t=a.options,n=t.data,o=t.angleField,u=t.colorField,l=t.color,c=t.pieStyle,f=Gm(n,o);if(ZE(f,o)){var h="$$percentage$$";f=f.map(function(p){var g;return(0,Z.__assign)((0,Z.__assign)({},p),(g={},g[h]=1/f.length,g))}),e.data(f);var v=yn({},a,{options:{xField:"1",yField:h,seriesField:u,isStack:!0,interval:{color:l,style:c},args:{zIndexReversed:!0,sortZIndex:!0}}});Qf(v)}else{e.data(f);var v=yn({},a,{options:{xField:"1",yField:o,seriesField:u,isStack:!0,interval:{color:l,style:c},args:{zIndexReversed:!0,sortZIndex:!0}}});Qf(v)}return a}function Sj(a){var e,t=a.chart,n=a.options,o=n.meta,u=n.colorField,l=yn({},o);return t.scale(l,(e={},e[u]={type:"cat"},e)),a}function wj(a){var e=a.chart,t=a.options,n=t.radius,o=t.innerRadius,u=t.startAngle,l=t.endAngle;return e.coordinate({type:"theta",cfg:{radius:n,innerRadius:o,startAngle:u,endAngle:l}}),a}function _j(a){var e=a.chart,t=a.options,n=t.label,o=t.colorField,u=t.angleField,l=e.geometries[0];if(!n)l.label(!1);else{var c=n.callback,f=(0,Z.__rest)(n,["callback"]),h=Jc(f);if(h.content){var v=h.content;h.content=function(D,G,H){var X=D[o],rt=D[u],ht=e.getScaleByField(u),mt=ht==null?void 0:ht.scale(rt);return(0,w.isFunction)(v)?v((0,Z.__assign)((0,Z.__assign)({},D),{percent:mt}),G,H):(0,w.isString)(v)?hO(v,{value:rt,name:X,percentage:(0,w.isNumber)(mt)&&!(0,w.isNil)(rt)?(mt*100).toFixed(2)+"%":null}):v}}var p={inner:"",outer:"pie-outer",spider:"pie-spider"},g=h.type?p[h.type]:"pie-outer",E=h.layout?(0,w.isArray)(h.layout)?h.layout:[h.layout]:[];h.layout=(g?[{type:g}]:[]).concat(E),l.label({fields:o?[u,o]:[u],callback:c,cfg:(0,Z.__assign)((0,Z.__assign)({},h),{offset:gj(h.type,h.offset),type:"pie"})})}return a}function HO(a){var e=a.innerRadius,t=a.statistic,n=a.angleField,o=a.colorField,u=a.meta,l=a.locale,c=jE(l);if(e&&t){var f=yn({},WO.statistic,t),h=f.title,v=f.content;return h!==!1&&(h=yn({},{formatter:function(p){return p?p[o]:(0,w.isNil)(h.content)?c.get(["statistic","total"]):h.content}},h)),v!==!1&&(v=yn({},{formatter:function(p,g){var E=p?p[n]:pj(g,n),D=(0,w.get)(u,[n,"formatter"])||function(G){return G};return p||(0,w.isNil)(v.content)?D(E):v.content}},v)),yn({},{statistic:{title:h,content:v}},a)}return a}function YO(a){var e=a.chart,t=a.options,n=HO(t),o=n.innerRadius,u=n.statistic;return e.getController("annotation").clear(!0),oa(Mu())(a),o&&u&&GE(e,{statistic:u,plotType:"pie"}),a}function Aj(a){var e=a.chart,t=a.options,n=t.tooltip,o=t.colorField,u=t.angleField,l=t.data;if(n===!1)e.tooltip(n);else if(e.tooltip(yn({},n,{shared:!1})),ZE(l,u)){var c=(0,w.get)(n,"fields"),f=(0,w.get)(n,"formatter");(0,w.isEmpty)((0,w.get)(n,"fields"))&&(c=[o,u],f=f||function(h){return{name:h[o],value:(0,w.toString)(h[u])}}),e.geometries[0].tooltip(c.join("*"),zm(c,f))}return a}function Cj(a){var e=a.chart,t=a.options,n=HO(t),o=n.interactions,u=n.statistic,l=n.annotations;return(0,w.each)(o,function(c){var f,h;if(c.enable===!1)e.removeInteraction(c.type);else if(c.type==="pie-statistic-active"){var v=[];!((f=c.cfg)===null||f===void 0)&&f.start||(v=[{trigger:"element:mouseenter",action:VO+":change",arg:{statistic:u,annotations:l}}]),(0,w.each)((h=c.cfg)===null||h===void 0?void 0:h.start,function(p){v.push((0,Z.__assign)((0,Z.__assign)({},p),{arg:{statistic:u,annotations:l}}))}),e.interaction(c.type,yn({},c.cfg,{start:v}))}else e.interaction(c.type,c.cfg||{})}),a}function XO(a){return oa(mv("pieStyle"),Ej,Sj,Oo,wj,iy,Aj,_j,o0,YO,Cj,Zo)(a)}var $O=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type="pie",t}return e.getDefaultOptions=function(){return WO},e.prototype.changeData=function(t){this.chart.emit(pi.BEFORE_CHANGE_DATA,nu.fromData(this.chart,pi.BEFORE_CHANGE_DATA,null));var n=this.options,o=this.options.angleField,u=Gm(n.data,o),l=Gm(t,o);ZE(u,o)||ZE(l,o)?this.update({data:t}):(this.updateOption({data:t}),this.chart.data(l),YO({chart:this.chart,options:this.options}),this.chart.render(!0)),this.chart.emit(pi.AFTER_CHANGE_DATA,nu.fromData(this.chart,pi.AFTER_CHANGE_DATA,null))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return XO},e}(Ma);function Tj(a){var e=a.chart,t=a.options,n=t.data,o=t.sectorStyle,u=t.color;return e.data(n),oa(Qf)(yn({},a,{options:{marginRatio:1,interval:{style:o,color:u}}})),a}function Mj(a){var e=a.chart,t=a.options,n=t.label,o=t.xField,u=Zf(e,"interval");if(n===!1)u.label(!1);else if((0,w.isObject)(n)){var l=n.callback,c=n.fields,f=(0,Z.__rest)(n,["callback","fields"]),h=f.offset,v=f.layout;(h===void 0||h>=0)&&(v=v?(0,w.isArray)(v)?v:[v]:[],f.layout=(0,w.filter)(v,function(p){return p.type!=="limit-in-shape"}),f.layout.length||delete f.layout),u.label({fields:c||[o],callback:l,cfg:Jc(f)})}else vg(pp.WARN,n===null,"the label option must be an Object."),u.label({fields:[o]});return a}function Ij(a){var e=a.chart,t=a.options,n=t.legend,o=t.seriesField;return n===!1?e.legend(!1):o&&e.legend(o,n),a}function Oj(a){var e=a.chart,t=a.options,n=t.radius,o=t.innerRadius,u=t.startAngle,l=t.endAngle;return e.coordinate({type:"polar",cfg:{radius:n,innerRadius:o,startAngle:u,endAngle:l}}),a}function Dj(a){var e,t=a.options,n=t.xAxis,o=t.yAxis,u=t.xField,l=t.yField;return oa(Tu((e={},e[u]=n,e[l]=o,e)))(a)}function Pj(a){var e=a.chart,t=a.options,n=t.xAxis,o=t.yAxis,u=t.xField,l=t.yField;return n?e.axis(u,n):e.axis(u,!1),o?e.axis(l,o):e.axis(l,!1),a}function Lj(a){oa(mv("sectorStyle"),Tj,Dj,Mj,Oj,Pj,Ij,Wl,Rs,Zo,Oo,Mu(),o0)(a)}var Rj=yn({},Ma.getDefaultOptions(),{xAxis:!1,yAxis:!1,legend:{position:"right",radio:{}},sectorStyle:{stroke:"#fff",lineWidth:1},label:{layout:{type:"limit-in-shape"}},tooltip:{shared:!0,showMarkers:!1},interactions:[{type:"active-region"}]}),Fj=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type="rose",t}return e.getDefaultOptions=function(){return Rj},e.prototype.changeData=function(t){this.updateOption({data:t}),this.chart.changeData(t)},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return Lj},e}(Ma),Nj={font:function(){return"serif"},padding:1,size:[500,500],spiral:"archimedean",timeInterval:3e3};function kj(a,e){return e=(0,w.assign)({},Nj,e),Bj(a,e)}function Bj(a,e){var t=Qj();["font","fontSize","fontWeight","padding","rotate","size","spiral","timeInterval","random"].forEach(function(f){(0,w.isNil)(e[f])||t[f](e[f])}),t.words(a),e.imageMask&&t.createMask(e.imageMask);var n=t.start(),o=n._tags;o.forEach(function(f){f.x+=e.size[0]/2,f.y+=e.size[1]/2});var u=e.size,l=u[0],c=u[1];return o.push({text:"",value:0,x:0,y:0,opacity:0}),o.push({text:"",value:0,x:l,y:c,opacity:0}),o}var A_=Math.PI/180,Qx=1<<11>>5,QE=1<<11;function Gj(a){return a.text}function zj(){return"serif"}function KO(){return"normal"}function Uj(a){return a.value}function jj(){return~~(Math.random()*2)*90}function Wj(){return 1}function Vj(a,e,t,n){if(!e.sprite){var o=a.context,u=a.ratio;o.clearRect(0,0,(Qx<<5)/u,QE/u);var l=0,c=0,f=0,h=t.length;for(--n;++n<h;){e=t[n],o.save(),o.font=e.style+" "+e.weight+" "+~~((e.size+1)/u)+"px "+e.font;var v=o.measureText(e.text+"m").width*u,p=e.size<<1;if(e.rotate){var g=Math.sin(e.rotate*A_),E=Math.cos(e.rotate*A_),D=v*E,G=v*g,H=p*E,X=p*g;v=Math.max(Math.abs(D+X),Math.abs(D-X))+31>>5<<5,p=~~Math.max(Math.abs(G+H),Math.abs(G-H))}else v=v+31>>5<<5;if(p>f&&(f=p),l+v>=Qx<<5&&(l=0,c+=f,f=0),c+p>=QE)break;o.translate((l+(v>>1))/u,(c+(p>>1))/u),e.rotate&&o.rotate(e.rotate*A_),o.fillText(e.text,0,0),e.padding&&(o.lineWidth=2*e.padding,o.strokeText(e.text,0,0)),o.restore(),e.width=v,e.height=p,e.xoff=l,e.yoff=c,e.x1=v>>1,e.y1=p>>1,e.x0=-e.x1,e.y0=-e.y1,e.hasText=!0,l+=v}for(var rt=o.getImageData(0,0,(Qx<<5)/u,QE/u).data,ht=[];--n>=0;)if(e=t[n],!!e.hasText){for(var v=e.width,mt=v>>5,p=e.y1-e.y0,Dt=0;Dt<p*mt;Dt++)ht[Dt]=0;if(l=e.xoff,l==null)return;c=e.yoff;for(var kt=0,Vt=-1,te=0;te<p;te++){for(var Dt=0;Dt<v;Dt++){var le=mt*te+(Dt>>5),pe=rt[(c+te)*(Qx<<5)+(l+Dt)<<2]?1<<31-Dt%32:0;ht[le]|=pe,kt|=pe}kt?Vt=te:(e.y0++,p--,te--,c++)}e.y1=e.y0+Vt,e.sprite=ht.slice(0,(e.y1-e.y0)*mt)}}}function Hj(a,e,t){t>>=5;for(var n=a.sprite,o=a.width>>5,u=a.x-(o<<4),l=u&127,c=32-l,f=a.y1-a.y0,h=(a.y+a.y0)*t+(u>>5),v,p=0;p<f;p++){v=0;for(var g=0;g<=o;g++)if((v<<c|(g<o?(v=n[p*o+g])>>>l:0))&e[h+g])return!0;h+=t}return!1}function Yj(a,e){var t=a[0],n=a[1];e.x+e.x0<t.x&&(t.x=e.x+e.x0),e.y+e.y0<t.y&&(t.y=e.y+e.y0),e.x+e.x1>n.x&&(n.x=e.x+e.x1),e.y+e.y1>n.y&&(n.y=e.y+e.y1)}function Xj(a,e){return a.x+a.x1>e[0].x&&a.x+a.x0<e[1].x&&a.y+a.y1>e[0].y&&a.y+a.y0<e[1].y}function ZO(a){var e=a[0]/a[1];return function(t){return[e*(t*=.1)*Math.cos(t),t*Math.sin(t)]}}function $j(a){var e=4,t=e*a[0]/a[1],n=0,o=0;return function(u){var l=u<0?-1:1;switch(Math.sqrt(1+4*l*u)-l&3){case 0:n+=t;break;case 1:o+=e;break;case 2:n-=t;break;default:o-=e;break}return[n,o]}}function QO(a){for(var e=[],t=-1;++t<a;)e[t]=0;return e}function Kj(){return document.createElement("canvas")}function Fp(a){return(0,w.isFunction)(a)?a:function(){return a}}var Zj={archimedean:ZO,rectangular:$j};function Qj(){var a=[256,256],e=zj,t=Uj,n=KO,o=jj,u=Wj,l=ZO,c=Math.random,f=[],h=1/0,v=Gj,p=KO,g=Kj,E={};E.start=function(){var H=a[0],X=a[1],rt=D(g()),ht=E.board?E.board:QO((a[0]>>5)*a[1]),mt=f.length,Dt=[],kt=f.map(function(pe,De,Xe){return pe.text=v.call(this,pe,De,Xe),pe.font=e.call(this,pe,De,Xe),pe.style=p.call(this,pe,De,Xe),pe.weight=n.call(this,pe,De,Xe),pe.rotate=o.call(this,pe,De,Xe),pe.size=~~t.call(this,pe,De,Xe),pe.padding=u.call(this,pe,De,Xe),pe}).sort(function(pe,De){return De.size-pe.size}),Vt=-1,te=E.board?[{x:0,y:0},{x:H,y:X}]:null;le();function le(){for(var pe=Date.now();Date.now()-pe<h&&++Vt<mt;){var De=kt[Vt];De.x=H*(c()+.5)>>1,De.y=X*(c()+.5)>>1,Vj(rt,De,kt,Vt),De.hasText&&G(ht,De,te)&&(Dt.push(De),te?E.hasImage||Yj(te,De):te=[{x:De.x+De.x0,y:De.y+De.y0},{x:De.x+De.x1,y:De.y+De.y1}],De.x-=a[0]>>1,De.y-=a[1]>>1)}E._tags=Dt,E._bounds=te}return E};function D(H){H.width=H.height=1;var X=Math.sqrt(H.getContext("2d").getImageData(0,0,1,1).data.length>>2);H.width=(Qx<<5)/X,H.height=QE/X;var rt=H.getContext("2d");return rt.fillStyle=rt.strokeStyle="red",rt.textAlign="center",{context:rt,ratio:X}}function G(H,X,rt){for(var ht=X.x,mt=X.y,Dt=Math.sqrt(a[0]*a[0]+a[1]*a[1]),kt=l(a),Vt=c()<.5?1:-1,te,le=-Vt,pe,De;(te=kt(le+=Vt))&&(pe=~~te[0],De=~~te[1],!(Math.min(Math.abs(pe),Math.abs(De))>=Dt));)if(X.x=ht+pe,X.y=mt+De,!(X.x+X.x0<0||X.y+X.y0<0||X.x+X.x1>a[0]||X.y+X.y1>a[1])&&(!rt||!Hj(X,H,a[0]))&&(!rt||Xj(X,rt))){for(var Xe=X.sprite,pr=X.width>>5,yr=a[0]>>5,Vr=X.x-(pr<<4),nr=Vr&127,Gr=32-nr,en=X.y1-X.y0,cr=void 0,Fr=(X.y+X.y0)*yr+(Vr>>5),qr=0;qr<en;qr++){cr=0;for(var _r=0;_r<=pr;_r++)H[Fr+_r]|=cr<<Gr|(_r<pr?(cr=Xe[qr*pr+_r])>>>nr:0);Fr+=yr}return delete X.sprite,!0}return!1}return E.createMask=function(H){var X=document.createElement("canvas"),rt=a[0],ht=a[1];if(!(!rt||!ht)){var mt=rt>>5,Dt=QO((rt>>5)*ht);X.width=rt,X.height=ht;var kt=X.getContext("2d");kt.drawImage(H,0,0,H.width,H.height,0,0,rt,ht);for(var Vt=kt.getImageData(0,0,rt,ht).data,te=0;te<ht;te++)for(var le=0;le<rt;le++){var pe=mt*te+(le>>5),De=te*rt+le<<2,Xe=Vt[De]>=250&&Vt[De+1]>=250&&Vt[De+2]>=250,pr=Xe?1<<31-le%32:0;Dt[pe]|=pr}E.board=Dt,E.hasImage=!0}},E.timeInterval=function(H){h=H==null?1/0:H},E.words=function(H){f=H},E.size=function(H){a=[+H[0],+H[1]]},E.font=function(H){e=Fp(H)},E.fontWeight=function(H){n=Fp(H)},E.rotate=function(H){o=Fp(H)},E.spiral=function(H){l=Zj[H]||H},E.fontSize=function(H){t=Fp(H)},E.padding=function(H){u=Fp(H)},E.random=function(H){c=Fp(H)},E}function JO(a){var e=a.options,t=a.chart,n=t,o=n.width,u=n.height,l=n.padding,c=n.appendPadding,f=n.ele,h=e.data,v=e.imageMask,p=e.wordField,g=e.weightField,E=e.colorField,D=e.wordStyle,G=e.timeInterval,H=e.random,X=e.spiral,rt=e.autoFit,ht=rt===void 0?!0:rt,mt=e.placementStrategy;if(!h||!h.length)return[];var Dt=D.fontFamily,kt=D.fontWeight,Vt=D.padding,te=D.fontSize,le=rW(h,g),pe=[aW(le),oW(le)],De=h.map(function(yr){return{text:yr[p],value:yr[g],color:yr[E],datum:yr}}),Xe={imageMask:v,font:Dt,fontSize:eW(te,pe),fontWeight:kt,size:Jj({width:o,height:u,padding:l,appendPadding:c,autoFit:ht,container:f}),padding:Vt,timeInterval:G,random:H,spiral:X,rotate:nW(e)};if((0,w.isFunction)(mt)){var pr=De.map(function(yr,Vr,nr){return(0,Z.__assign)((0,Z.__assign)((0,Z.__assign)({},yr),{hasText:!!yr.text,font:Fp(Xe.font)(yr,Vr,nr),weight:Fp(Xe.fontWeight)(yr,Vr,nr),rotate:Fp(Xe.rotate)(yr,Vr,nr),size:Fp(Xe.fontSize)(yr,Vr,nr),style:"normal"}),mt.call(t,yr,Vr,nr))});return pr.push({text:"",value:0,x:0,y:0,opacity:0}),pr.push({text:"",value:0,x:Xe.size[0],y:Xe.size[1],opacity:0}),pr}return kj(De,Xe)}function Jj(a){var e=a.width,t=a.height,n=a.container,o=a.autoFit,u=a.padding,l=a.appendPadding;if(o){var c=d_(n);e=c.width,t=c.height}e=e||400,t=t||400;var f=qj({padding:u,appendPadding:l}),h=f[0],v=f[1],p=f[2],g=f[3],E=[e-(g+v),t-(h+p)];return E}function qj(a){var e=a0(a.padding),t=a0(a.appendPadding),n=e[0]+t[0],o=e[1]+t[1],u=e[2]+t[2],l=e[3]+t[3];return[n,o,u,l]}function tW(a){return new Promise(function(e,t){if(a instanceof HTMLImageElement){e(a);return}if((0,w.isString)(a)){var n=new Image;n.crossOrigin="anonymous",n.src=a,n.onload=function(){e(n)},n.onerror=function(){vg(pp.ERROR,!1,"image %s load failed !!!",a),t()};return}vg(pp.WARN,a===void 0,"The type of imageMask option must be String or HTMLImageElement."),t()})}function eW(a,e){if((0,w.isFunction)(a))return a;if((0,w.isArray)(a)){var t=a[0],n=a[1];if(!e)return function(){return(n+t)/2};var o=e[0],u=e[1];return u===o?function(){return(n+t)/2}:function(c){var f=c.value;return(n-t)/(u-o)*(f-o)+t}}return function(){return a}}function rW(a,e){return a.map(function(t){return t[e]}).filter(function(t){return typeof t=="number"&&!isNaN(t)})}function nW(a){var e=iW(a),t=e.rotation,n=e.rotationSteps;if(!(0,w.isArray)(t))return t;var o=t[0],u=t[1],l=n===1?0:(u-o)/(n-1);return function(){return u===o?u:Math.floor(Math.random()*n)*l}}function iW(a){var e=a.wordStyle.rotationSteps;return e<1&&(vg(pp.WARN,!1,"The rotationSteps option must be greater than or equal to 1."),e=1),{rotation:a.wordStyle.rotation,rotationSteps:e}}function aW(a){return Math.min.apply(Math,a)}function oW(a){return Math.max.apply(Math,a)}var C_="color",sW=yn({},Ma.getDefaultOptions(),{timeInterval:2e3,legend:!1,tooltip:{showTitle:!1,showMarkers:!1,showCrosshairs:!1,fields:["text","value",C_],formatter:function(a){return{name:a.text,value:a.value}}},wordStyle:{fontFamily:"Verdana",fontWeight:"normal",padding:1,fontSize:[12,60],rotation:[0,90],rotationSteps:2,rotateRatio:.5}});function uW(a){var e=a.chart,t=a.options,n=t.colorField,o=t.color,u=JO(a);e.data(u);var l=yn({},a,{options:{xField:"x",yField:"y",seriesField:n&&C_,rawFields:(0,w.isFunction)(o)&&(0,Z.__spreadArrays)((0,w.get)(t,"rawFields",[]),["datum"]),point:{color:o,shape:"word-cloud"}}}),c=xv(l).ext;return c.geometry.label(!1),e.coordinate().reflect("y"),e.axis(!1),a}function lW(a){return oa(Tu({x:{nice:!1},y:{nice:!1}}))(a)}function cW(a){var e=a.chart,t=a.options,n=t.legend,o=t.colorField;return n===!1?e.legend(!1):o&&e.legend(C_,n),a}function fW(a){oa(uW,lW,Wl,cW,Rs,Zo,Oo,o0)(a)}No("point","word-cloud",{draw:function(a,e){var t=a.x,n=a.y,o=e.addShape("text",{attrs:(0,Z.__assign)((0,Z.__assign)({},hW(a)),{x:t,y:n})}),u=a.data.rotate;return typeof u=="number"&&Sd.rotate(o,u*Math.PI/180),o}});function hW(a){return{fontSize:a.data.size,text:a.data.text,textAlign:"center",fontFamily:a.data.font,fontWeight:a.data.weight,fill:a.color||a.defaultStyle.stroke,textBaseline:"alphabetic"}}var dW=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type="word-cloud",t}return e.getDefaultOptions=function(){return sW},e.prototype.changeData=function(t){this.updateOption({data:t}),this.options.imageMask?this.render():this.chart.changeData(JO({chart:this.chart,options:this.options}))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.render=function(){var t=this;return new Promise(function(n){var o=t.options.imageMask;if(!o){a.prototype.render.call(t),n();return}var u=function(l){t.options=(0,Z.__assign)((0,Z.__assign)({},t.options),{imageMask:l||null}),a.prototype.render.call(t),n()};tW(o).then(u).catch(u)})},e.prototype.getSchemaAdaptor=function(){return fW},e.prototype.triggerResize=function(){var t=this;this.chart.destroyed||(this.execAdaptor(),window.setTimeout(function(){a.prototype.triggerResize.call(t)}))},e}(Ma),uy=je(56645),vW={exp:uy.regressionExp,linear:uy.regressionLinear,loess:uy.regressionLoess,log:uy.regressionLog,poly:uy.regressionPoly,pow:uy.regressionPow,quad:uy.regressionQuad};function pW(a,e){var t=10,n={regionStyle:[{position:{start:[a,"max"],end:["max",e]},style:{fill:"#d8d0c0",opacity:.4}},{position:{start:["min","max"],end:[a,e]},style:{fill:"#a3dda1",opacity:.4}},{position:{start:["min",e],end:[a,"min"]},style:{fill:"#d8d0c0",opacity:.4}},{position:{start:[a,e],end:["max","min"]},style:{fill:"#a3dda1",opacity:.4}}],lineStyle:{stroke:"#9ba29a",lineWidth:1},labelStyle:[{position:["max",e],offsetX:-t,offsetY:-t,style:{textAlign:"right",textBaseline:"bottom",fontSize:14,fill:"#ccc"}},{position:["min",e],offsetX:t,offsetY:-t,style:{textAlign:"left",textBaseline:"bottom",fontSize:14,fill:"#ccc"}},{position:["min",e],offsetX:t,offsetY:t,style:{textAlign:"left",textBaseline:"top",fontSize:14,fill:"#ccc"}},{position:["max",e],offsetX:-t,offsetY:t,style:{textAlign:"right",textBaseline:"top",fontSize:14,fill:"#ccc"}}]};return n}var gW=function(a,e){var t=e.view,n=e.options,o=n.xField,u=n.yField,l=t.getScaleByField(o),c=t.getScaleByField(u),f=a.map(function(h){return t.getCoordinate().convert({x:l.scale(h[0]),y:c.scale(h[1])})});return fU(f,!1)},yW=function(a){var e=a.options,t=e.xField,n=e.yField,o=e.data,u=e.regressionLine,l=u.type,c=l===void 0?"linear":l,f=u.algorithm,h;if(f)h=(0,w.isArray)(f)?f:f(o);else{var v=vW[c]().x(function(p){return p[t]}).y(function(p){return p[n]});h=v(o)}return gW(h,a)},mW=function(a){var e,t=a.meta,n=t===void 0?{}:t,o=a.xField,u=a.yField,l=a.data,c=l[0][o],f=l[0][u],h=c>0,v=f>0;function p(g,E){var D=(0,w.get)(n,[g]);function G(X){return(0,w.get)(D,X)}var H={};return E==="x"?((0,w.isNumber)(c)&&((0,w.isNumber)(G("min"))||(H.min=h?0:c*2),(0,w.isNumber)(G("max"))||(H.max=h?c*2:0)),H):((0,w.isNumber)(f)&&((0,w.isNumber)(G("min"))||(H.min=v?0:f*2),(0,w.isNumber)(G("max"))||(H.max=v?f*2:0)),H)}return(0,Z.__assign)((0,Z.__assign)({},n),(e={},e[o]=(0,Z.__assign)((0,Z.__assign)({},n[o]),p(o,"x")),e[u]=(0,Z.__assign)((0,Z.__assign)({},n[u]),p(u,"y")),e))};function qO(a){var e=a.data,t=e===void 0?[]:e,n=a.xField,o=a.yField;if(t.length){for(var u=!0,l=!0,c=t[0],f=void 0,h=1;h<t.length&&(f=t[h],c[n]!==f[n]&&(u=!1),c[o]!==f[o]&&(l=!1),!(!u&&!l));h++)c=f;var v=[];u&&v.push(n),l&&v.push(o);var p=Ko(mW(a),v);return yn({},a,{meta:p})}return a}function xW(a){var e=a.chart,t=a.options,n=t.data,o=t.type,u=t.color,l=t.shape,c=t.pointStyle,f=t.shapeField,h=t.colorField,v=t.xField,p=t.yField,g=t.sizeField,E=t.size,D=t.tooltip;g&&(E||(E=[2,8]),(0,w.isNumber)(E)&&(E=[E,E])),D&&!D.fields&&(D=(0,Z.__assign)((0,Z.__assign)({},D),{fields:[v,p,h,g,f]})),e.data(n),xv(yn({},a,{options:{seriesField:h,point:{color:u,shape:l,size:E,style:c},tooltip:D}}));var G=Zf(e,"point");return o&&G.adjust(o),a}function JE(a){var e,t=a.options,n=t.xAxis,o=t.yAxis,u=t.xField,l=t.yField,c=qO(t);return oa(Tu((e={},e[u]=n,e[l]=o,e)))(yn({},a,{options:c}))}function bW(a){var e=a.chart,t=a.options,n=t.xAxis,o=t.yAxis,u=t.xField,l=t.yField;return e.axis(u,n),e.axis(l,o),a}function EW(a){var e=a.chart,t=a.options,n=t.legend,o=t.colorField,u=t.shapeField,l=t.sizeField,c=t.shapeLegend,f=t.sizeLegend,h=n!==!1;return o&&e.legend(o,h?n:!1),u&&(c?e.legend(u,c):e.legend(u,c===!1?!1:n)),l&&e.legend(l,f||!1),!h&&!c&&!f&&e.legend(!1),a}function SW(a){var e=a.chart,t=a.options,n=t.label,o=t.yField,u=Zf(e,"point");if(!n)u.label(!1);else{var l=n.callback,c=(0,Z.__rest)(n,["callback"]);u.label({fields:[o],callback:l,cfg:Jc(c)})}return a}function wW(a){var e=a.options,t=e.quadrant,n=[];if(t){var o=t.xBaseline,u=o===void 0?0:o,l=t.yBaseline,c=l===void 0?0:l,f=t.labels,h=t.regionStyle,v=t.lineStyle,p=pW(u,c),g=new Array(4).join(",").split(",");g.forEach(function(E,D){n.push((0,Z.__assign)((0,Z.__assign)({type:"region",top:!1},p.regionStyle[D].position),{style:yn({},p.regionStyle[D].style,h==null?void 0:h[D])}),(0,Z.__assign)({type:"text",top:!0},yn({},p.labelStyle[D],f==null?void 0:f[D])))}),n.push({type:"line",top:!1,start:["min",c],end:["max",c],style:yn({},p.lineStyle,v)},{type:"line",top:!1,start:[u,"min"],end:[u,"max"],style:yn({},p.lineStyle,v)})}return oa(Mu(n))(a)}function _W(a){var e=a.options,t=a.chart,n=e.regressionLine;if(n){var o=n.style,u=n.top,l=u===void 0?!1:u,c={stroke:"#9ba29a",lineWidth:2,opacity:.5};t.annotation().shape({top:l,render:function(f,h){var v=f.addGroup({id:t.id+"-regression-line",name:"regression-line-group"}),p=yW({view:h,options:e});v.addShape("path",{name:"regression-line",attrs:(0,Z.__assign)((0,Z.__assign)({path:p},c),o)})}})}return a}function AW(a){var e=a.chart,t=a.options,n=t.tooltip;return n?e.tooltip(n):n===!1&&e.tooltip(!1),a}function tD(a){return oa(xW,JE,bW,EW,AW,SW,GO,Kx,b_,Rs,wW,Zo,Oo,_W)(a)}var CW=yn({},Ma.getDefaultOptions(),{size:4,tooltip:{showTitle:!1,showMarkers:!1,showCrosshairs:!0,crosshairs:{type:"xy"}}});Ta("drag-move",{start:[{trigger:"plot:mousedown",action:"scale-translate:start"}],processing:[{trigger:"plot:mousemove",action:"scale-translate:translate",throttle:{wait:100,leading:!0,trailing:!1}}],end:[{trigger:"plot:mouseup",action:"scale-translate:end"}]});var eD=function(a){(0,Z.__extends)(e,a);function e(t,n){var o=a.call(this,t,n)||this;return o.type="scatter",o.on(pi.BEFORE_RENDER,function(u){var l,c,f=o,h=f.options,v=f.chart;if(((l=u.data)===null||l===void 0?void 0:l.source)===wd.FILTER){var p=o.chart.filterData(o.chart.getData());JE({chart:v,options:(0,Z.__assign)((0,Z.__assign)({},h),{data:p})})}((c=u.data)===null||c===void 0?void 0:c.source)===wd.RESET&&JE({chart:v,options:h})}),o}return e.getDefaultOptions=function(){return CW},e.prototype.changeData=function(t){this.updateOption(qO(yn({},this.options,{data:t})));var n=this,o=n.options,u=n.chart;JE({chart:u,options:o}),this.chart.changeData(t)},e.prototype.getSchemaAdaptor=function(){return tD},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e}(Ma);function TW(a){var e=a.chart,t=a.options,n=t.data,o=t.lineStyle,u=t.color,l=t.point,c=t.area;e.data(n);var f=yn({},a,{options:{line:{style:o,color:u},point:l&&(0,Z.__assign)({color:u},l),area:c&&(0,Z.__assign)({color:u},c),label:void 0}}),h=yn({},f,{options:{tooltip:!1}}),v=(l==null?void 0:l.state)||t.state,p=yn({},f,{options:{tooltip:!1,state:v}});return Um(f),xv(p),HE(h),a}function MW(a){var e,t=a.options,n=t.xAxis,o=t.yAxis,u=t.xField,l=t.yField;return oa(Tu((e={},e[u]=n,e[l]=o,e)))(a)}function IW(a){var e=a.chart,t=a.options,n=t.radius,o=t.startAngle,u=t.endAngle;return e.coordinate("polar",{radius:n,startAngle:o,endAngle:u}),a}function OW(a){var e=a.chart,t=a.options,n=t.xField,o=t.xAxis,u=t.yField,l=t.yAxis;return e.axis(n,o),e.axis(u,l),a}function DW(a){var e=a.chart,t=a.options,n=t.label,o=t.yField,u=Zf(e,"line");if(!n)u.label(!1);else{var l=n.callback,c=(0,Z.__rest)(n,["callback"]);u.label({fields:[o],callback:l,cfg:Jc(c)})}return a}function PW(a){return oa(TW,MW,Oo,IW,OW,iy,Wl,DW,Rs,Zo,Mu())(a)}var LW=function(a){(0,Z.__extends)(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"radar-tooltip"},enumerable:!1,configurable:!0}),e.prototype.getTooltipItems=function(t){var n=this.getTooltipCfg(),o=n.shared,u=n.title,l=a.prototype.getTooltipItems.call(this,t);if(l.length>0){var c=this.view.geometries[0],f=c.dataArray,h=l[0].name,v=[];return f.forEach(function(p){p.forEach(function(g){var E=Sd.getTooltipItems(g,c),D=E[0];if(!o&&D&&D.name===h){var G=(0,w.isNil)(u)?h:u;v.push((0,Z.__assign)((0,Z.__assign)({},D),{name:D.title,title:G}))}else if(o&&D){var G=(0,w.isNil)(u)?D.name||h:u;v.push((0,Z.__assign)((0,Z.__assign)({},D),{name:D.title,title:G}))}})}),v}return[]},e}(xw);qg("radar-tooltip",LW);var RW=function(a){(0,Z.__extends)(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.init=function(){var t=this.context.view;t.removeInteraction("tooltip")},e.prototype.show=function(){var t=this.context.event,n=this.getTooltipController();n.showTooltip({x:t.x,y:t.y})},e.prototype.hide=function(){var t=this.getTooltipController();t.hideTooltip()},e.prototype.getTooltipController=function(){var t=this.context.view;return t.getController("radar-tooltip")},e}(Ws);na("radar-tooltip",RW),Ta("radar-tooltip",{start:[{trigger:"plot:mousemove",action:"radar-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"radar-tooltip:hide"}]});var FW=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type="radar",t}return e.prototype.changeData=function(t){this.updateOption({data:t}),this.chart.changeData(t)},e.prototype.getDefaultOptions=function(){return yn({},a.prototype.getDefaultOptions.call(this),{xAxis:{label:{offset:15},grid:{line:{type:"line"}}},yAxis:{grid:{line:{type:"circle"}}},legend:{position:"top"},tooltip:{shared:!0,showCrosshairs:!0,showMarkers:!0,crosshairs:{type:"xy",line:{style:{stroke:"#565656",lineDash:[4]}},follow:!0}}})},e.prototype.getSchemaAdaptor=function(){return PW},e}(Ma),jm;(function(a){a.Left="Left",a.Right="Right"})(jm||(jm={}));var ly;(function(a){a.Line="line",a.Column="column"})(ly||(ly={}));var bv="left-axes-view",Ev="right-axes-view",rD={nice:!0,label:{autoHide:!0,autoRotate:!1}},NW=(0,Z.__assign)((0,Z.__assign)({},rD),{position:"left"}),kW=(0,Z.__assign)((0,Z.__assign)({},rD),{position:"right",grid:null});function T_(a){return(0,w.get)(a,"geometry")===ly.Line}function M_(a){return(0,w.get)(a,"geometry")===ly.Column}function nD(a,e,t){return M_(t)?yn({},{geometry:ly.Column,label:t.label&&t.isRange?{content:function(n){var o;return(o=n[e])===null||o===void 0?void 0:o.join("-")}}:void 0},t):(0,Z.__assign)({geometry:ly.Line},t)}function iD(a,e){var t=a[0],n=a[1];if((0,w.isArray)(e)){var o=e[0],u=e[1];return[o,u]}var l=(0,w.get)(e,t),c=(0,w.get)(e,n);return[l,c]}function aD(a,e){return e===jm.Left?a===!1?!1:yn({},NW,a):e===jm.Right?a===!1?!1:yn({},kW,a):a}function oD(a){var e=a.view,t=a.geometryOption,n=a.yField,o=a.legend,u=(0,w.get)(o,"marker"),l=Zf(e,T_(t)?"line":"interval");if(!t.seriesField){var c=(0,w.get)(e,"options.scales."+n+".alias")||n,f=l.getAttribute("color"),h=e.getTheme().defaultColor;f&&(h=Sd.getMappingValue(f,c,(0,w.get)(f,["values",0],h)));var v=((0,w.isFunction)(u)?u:!(0,w.isEmpty)(u)&&yn({},{style:{stroke:h,fill:h}},u))||(T_(t)?{symbol:function(g,E,D){return[["M",g-D,E],["L",g+D,E]]},style:{lineWidth:2,r:6,stroke:h}}:{symbol:"square",style:{fill:h}});return[{value:n,name:c,marker:v,isGeometry:!0,viewId:e.id}]}var p=l.getGroupAttributes();return(0,w.reduce)(p,function(g,E){var D=Sd.getLegendItems(e,l,E,e.getTheme(),u);return g.concat(D)},[])}function BW(a){var e=a.options,t=a.chart,n=e.geometryOption,o=n.isStack,u=n.color,l=n.seriesField,c=n.groupField,f=n.isGroup,h=["xField","yField"];if(T_(n)){Um(yn({},a,{options:(0,Z.__assign)((0,Z.__assign)((0,Z.__assign)({},Ko(e,h)),n),{line:{color:n.color,style:n.lineStyle}})})),xv(yn({},a,{options:(0,Z.__assign)((0,Z.__assign)((0,Z.__assign)({},Ko(e,h)),n),{point:n.point&&(0,Z.__assign)({color:u,shape:"circle"},n.point)})}));var v=[];f&&v.push({type:"dodge",dodgeBy:c||l,customOffset:0}),o&&v.push({type:"stack"}),v.length&&(0,w.each)(t.geometries,function(p){p.adjust(v)})}return M_(n)&&KE(yn({},a,{options:(0,Z.__assign)((0,Z.__assign)((0,Z.__assign)({},Ko(e,h)),n),{widthRatio:n.columnWidthRatio,interval:(0,Z.__assign)((0,Z.__assign)({},Ko(n,["color"])),{style:n.columnStyle})})})),a}var sD=function(a,e){var t=e[0],n=e[1],o=a.getOptions().data,u=a.getXScale(),l=(0,w.size)(o);if(!(!u||!l)){var c=!0,f=(0,w.valuesOfKey)(o,u.field),h=c?f:f.reverse(),v=(0,w.size)(h),p=Math.floor(t*(v-1)),g=Math.floor(n*(v-1));a.filter(u.field,function(E){var D=h.indexOf(E);return D>-1?xU(D,p,g):!0}),a.getRootView().render(!0)}};function GW(a){var e,t=a.options,n=t.geometryOptions,o=n===void 0?[]:n,u=t.xField,l=t.yField,c=(0,w.every)(o,function(f){var h=f.geometry;return h===ly.Line||h===void 0});return yn({},{options:{geometryOptions:[],meta:(e={},e[u]={type:"cat",sync:!0,range:c?[0,1]:void 0},e),tooltip:{showMarkers:c,showCrosshairs:c,shared:!0,crosshairs:{type:"x"}},interactions:c?[{type:"legend-visible-filter"}]:[{type:"legend-visible-filter"},{type:"active-region"}],legend:{position:"top-left"}}},a,{options:{yAxis:iD(l,t.yAxis),geometryOptions:[nD(u,l[0],o[0]),nD(u,l[1],o[1])],annotations:iD(l,t.annotations)}})}function zW(a){var e,t,n=a.chart,o=a.options,u=o.geometryOptions,l={line:0,column:1},c=[{type:(e=u[0])===null||e===void 0?void 0:e.geometry,id:bv},{type:(t=u[1])===null||t===void 0?void 0:t.geometry,id:Ev}];return c.sort(function(f,h){return-l[f.type]+l[h.type]}).forEach(function(f){return n.createView({id:f.id})}),a}function UW(a){var e=a.chart,t=a.options,n=t.xField,o=t.yField,u=t.geometryOptions,l=t.data,c=t.tooltip,f=[(0,Z.__assign)((0,Z.__assign)({},u[0]),{id:bv,data:l[0],yField:o[0]}),(0,Z.__assign)((0,Z.__assign)({},u[1]),{id:Ev,data:l[1],yField:o[1]})];return f.forEach(function(h){var v=h.id,p=h.data,g=h.yField,E=M_(h)&&h.isPercent,D=E?RO(p,g,n,g):p,G=Xa(e,v).data(D),H=E?(0,Z.__assign)({formatter:function(X){return{name:X[h.seriesField]||g,value:(Number(X[g])*100).toFixed(2)+"%"}}},c):c;BW({chart:G,options:{xField:n,yField:g,tooltip:H,geometryOption:h}})}),a}function jW(a){var e,t=a.chart,n=a.options,o=n.geometryOptions,u=((e=t.getTheme())===null||e===void 0?void 0:e.colors10)||[],l=0;return t.once("beforepaint",function(){(0,w.each)(o,function(c,f){var h=Xa(t,f===0?bv:Ev);if(!c.color){var v=h.getGroupScales(),p=(0,w.get)(v,[0,"values","length"],1),g=u.slice(l,l+p).concat(f===0?[]:u);h.geometries.forEach(function(E){c.seriesField?E.color(c.seriesField,g):E.color(g[0])}),l+=p}}),t.render(!0)}),a}function WW(a){var e,t,n=a.chart,o=a.options,u=o.xAxis,l=o.yAxis,c=o.xField,f=o.yField;return Tu((e={},e[c]=u,e[f[0]]=l[0],e))(yn({},a,{chart:Xa(n,bv)})),Tu((t={},t[c]=u,t[f[1]]=l[1],t))(yn({},a,{chart:Xa(n,Ev)})),a}function VW(a){var e=a.chart,t=a.options,n=Xa(e,bv),o=Xa(e,Ev),u=t.xField,l=t.yField,c=t.xAxis,f=t.yAxis;return e.axis(u,!1),e.axis(l[0],!1),e.axis(l[1],!1),n.axis(u,c),n.axis(l[0],aD(f[0],jm.Left)),o.axis(u,!1),o.axis(l[1],aD(f[1],jm.Right)),a}function HW(a){var e=a.chart,t=a.options,n=t.tooltip,o=Xa(e,bv),u=Xa(e,Ev);return e.tooltip(n),o.tooltip({shared:!0}),u.tooltip({shared:!0}),a}function YW(a){var e=a.chart;return Rs(yn({},a,{chart:Xa(e,bv)})),Rs(yn({},a,{chart:Xa(e,Ev)})),a}function XW(a){var e=a.chart,t=a.options,n=t.annotations,o=(0,w.get)(n,[0]),u=(0,w.get)(n,[1]);return Mu(o)(yn({},a,{chart:Xa(e,bv),options:{annotations:o}})),Mu(u)(yn({},a,{chart:Xa(e,Ev),options:{annotations:u}})),a}function $W(a){var e=a.chart;return Oo(yn({},a,{chart:Xa(e,bv)})),Oo(yn({},a,{chart:Xa(e,Ev)})),Oo(a),a}function KW(a){var e=a.chart;return Zo(yn({},a,{chart:Xa(e,bv)})),Zo(yn({},a,{chart:Xa(e,Ev)})),a}function ZW(a){var e=a.chart,t=a.options,n=t.yAxis;return ay(yn({},a,{chart:Xa(e,bv),options:{yAxis:n[0]}})),ay(yn({},a,{chart:Xa(e,Ev),options:{yAxis:n[1]}})),a}function QW(a){var e=a.chart,t=a.options,n=t.legend,o=t.geometryOptions,u=t.yField,l=t.data,c=Xa(e,bv),f=Xa(e,Ev);if(n===!1)e.legend(!1);else if((0,w.isObject)(n)&&n.custom===!0)e.legend(n);else{var h=(0,w.get)(o,[0,"legend"],n),v=(0,w.get)(o,[1,"legend"],n);e.once("beforepaint",function(){var p=l[0].length?oD({view:c,geometryOption:o[0],yField:u[0],legend:h}):[],g=l[1].length?oD({view:f,geometryOption:o[1],yField:u[1],legend:v}):[];e.legend(yn({},n,{custom:!0,items:p.concat(g)}))}),o[0].seriesField&&c.legend(o[0].seriesField,h),o[1].seriesField&&f.legend(o[1].seriesField,v),e.on("legend-item:click",function(p){var g=(0,w.get)(p,"gEvent.delegateObject",{});if(g&&g.item){var E=g.item,D=E.value,G=E.isGeometry,H=E.viewId;if(G){var X=(0,w.findIndex)(u,function(mt){return mt===D});if(X>-1){var rt=(0,w.get)(Xa(e,H),"geometries");(0,w.each)(rt,function(mt){mt.changeVisible(!g.item.unchecked)})}}else{var ht=(0,w.get)(e.getController("legend"),"option.items",[]);(0,w.each)(e.views,function(mt){var Dt=mt.getGroupScales();(0,w.each)(Dt,function(kt){kt.values&&kt.values.indexOf(D)>-1&&mt.filter(kt.field,function(Vt){var te=(0,w.find)(ht,function(le){return le.value===Vt});return!te.unchecked})}),e.render(!0)})}}})}return a}function JW(a){var e=a.chart,t=a.options,n=t.slider,o=Xa(e,bv),u=Xa(e,Ev);return n&&(o.option("slider",n),o.on("slider:valuechanged",function(l){var c=l.event,f=c.value,h=c.originValue;(0,w.isEqual)(f,h)||sD(u,f)}),e.once("afterpaint",function(){if(!(0,w.isBoolean)(n)){var l=n.start,c=n.end;(l||c)&&sD(u,[l,c])}})),a}function qW(a){return oa(GW,zW,$W,UW,WW,VW,ZW,HW,YW,XW,KW,jW,QW,JW)(a)}var tV=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type="dual-axes",t}return e.prototype.getDefaultOptions=function(){return yn({},a.prototype.getDefaultOptions.call(this),{yAxis:[],syncViewPadding:!0})},e.prototype.getSchemaAdaptor=function(){return qW},e}(Ma),Jx="x",Wm="y",uD={showTitle:!1,shared:!0,showMarkers:!1,customContent:function(a,e){return""+(0,w.get)(e,[0,"data","y"],0)},containerTpl:'<div class="g2-tooltip"><div class="g2-tooltip-list"></div></div>',itemTpl:"<span>{value}</span>",domStyles:{"g2-tooltip":{padding:"2px 4px",fontSize:"10px"}},showCrosshairs:!0,crosshairs:{type:"x"}},eV={appendPadding:2,tooltip:(0,Z.__assign)({},uD),animation:{}};function cy(a){return(0,w.map)(a||[],function(e,t){return{x:""+t,y:e}})}function rV(a){var e=a.chart,t=a.options,n=t.data,o=t.color,u=t.areaStyle,l=t.point,c=t.line,f=l==null?void 0:l.state,h=cy(n);e.data(h);var v=yn({},a,{options:{xField:Jx,yField:Wm,area:{color:o,style:u},line:c,point:l}}),p=yn({},v,{options:{tooltip:!1}}),g=yn({},v,{options:{tooltip:!1,state:f}});return HE(v),Um(p),xv(g),e.axis(!1),e.legend(!1),a}function Vm(a){var e,t,n=a.options,o=n.xAxis,u=n.yAxis,l=n.data,c=cy(l);return oa(Tu((e={},e[Jx]=o,e[Wm]=u,e),(t={},t[Jx]={type:"cat"},t[Wm]=p_(c,Wm),t)))(a)}function lD(a){return oa(mv("areaStyle"),rV,Vm,Wl,Oo,Zo,Mu())(a)}function nV(a){var e=a.chart,t=a.options,n=t.data,o=t.color,u=t.lineStyle,l=t.point,c=l==null?void 0:l.state,f=cy(n);e.data(f);var h=yn({},a,{options:{xField:Jx,yField:Wm,line:{color:o,style:u},point:l}}),v=yn({},h,{options:{tooltip:!1,state:c}});return Um(h),xv(v),e.axis(!1),e.legend(!1),a}function cD(a){return oa(nV,Vm,Oo,Wl,Zo,Mu())(a)}var fD=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type="tiny-line",t}return e.getDefaultOptions=function(){return eV},e.prototype.changeData=function(t){this.updateOption({data:t});var n=this,o=n.chart,u=n.options;Vm({chart:o,options:u}),o.changeData(cy(t))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return cD},e}(Ma);function iV(a){var e=a.chart,t=a.options,n=t.data,o=t.color,u=t.columnStyle,l=t.columnWidthRatio,c=cy(n);e.data(c);var f=yn({},a,{options:{xField:Jx,yField:Wm,widthRatio:l,interval:{style:u,color:o}}});return Qf(f),e.axis(!1),e.legend(!1),e.interaction("element-active"),a}function hD(a){return oa(Oo,mv("columnStyle"),iV,Vm,Wl,Zo,Mu())(a)}var aV={showTitle:!1,shared:!0,showMarkers:!1,customContent:function(a,e){return""+(0,w.get)(e,[0,"data","y"],0)},containerTpl:'<div class="g2-tooltip"><div class="g2-tooltip-list"></div></div>',itemTpl:"<span>{value}</span>",domStyles:{"g2-tooltip":{padding:"2px 4px",fontSize:"10px"}}},oV={appendPadding:2,tooltip:(0,Z.__assign)({},aV),animation:{}},dD=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type="tiny-column",t}return e.getDefaultOptions=function(){return oV},e.prototype.changeData=function(t){this.updateOption({data:t});var n=this,o=n.chart,u=n.options;Vm({chart:o,options:u}),o.changeData(cy(t))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return hD},e}(Ma),sV={appendPadding:2,tooltip:(0,Z.__assign)({},uD),color:"l(90) 0:#E5EDFE 1:#ffffff",areaStyle:{fillOpacity:.6},line:{size:1,color:"#5B8FF9"},animation:{}},vD=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type="tiny-area",t}return e.getDefaultOptions=function(){return sV},e.prototype.changeData=function(t){this.updateOption({data:t});var n=this,o=n.chart,u=n.options;Vm({chart:o,options:u}),o.changeData(cy(t))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return lD},e}(Ma);function pD(a,e,t){if(t===1)return[0,e];var n=Math.floor(a/e);return[e*n,e*(n+1)]}function uV(a){return Math.ceil(Math.log(a.length)/Math.LN2)+1}function gD(a,e,t,n,o){var u=(0,w.clone)(a);(0,w.sortBy)(u,e);var l=(0,w.valuesOfKey)(u,e),c=(0,w.getRange)(l),f=c.max-c.min,h=t;if(!t&&n&&(h=n>1?f/(n-1):c.max),!t&&!n){var v=uV(l);h=f/v}var p={},g=(0,w.groupBy)(u,o);(0,w.isEmpty)(g)?(0,w.each)(u,function(D){var G=D[e],H=pD(G,h,n),X=H[0]+"-"+H[1];(0,w.hasKey)(p,X)||(p[X]={range:H,count:0}),p[X].count+=1}):Object.keys(g).forEach(function(D){(0,w.each)(g[D],function(G){var H=G[e],X=pD(H,h,n),rt=X[0]+"-"+X[1],ht=rt+"-"+D;(0,w.hasKey)(p,ht)||(p[ht]={range:X,count:0},p[ht][o]=D),p[ht].count+=1})});var E=[];return(0,w.each)(p,function(D){E.push(D)}),E}var qE="range",qx="count",lV=yn({},Ma.getDefaultOptions(),{columnStyle:{stroke:"#FFFFFF"},tooltip:{shared:!0,showMarkers:!1},interactions:[{type:"active-region"}]});function cV(a){var e=a.chart,t=a.options,n=t.data,o=t.binField,u=t.binNumber,l=t.binWidth,c=t.color,f=t.stackField,h=t.legend,v=t.columnStyle,p=gD(n,o,l,u,f);e.data(p);var g=yn({},a,{options:{xField:qE,yField:qx,seriesField:f,isStack:!0,interval:{color:c,style:v}}});return Qf(g),h&&f&&e.legend(f,h),a}function fV(a){var e,t=a.options,n=t.xAxis,o=t.yAxis;return oa(Tu((e={},e[qE]=n,e[qx]=o,e)))(a)}function hV(a){var e=a.chart,t=a.options,n=t.xAxis,o=t.yAxis;return n===!1?e.axis(qE,!1):e.axis(qE,n),o===!1?e.axis(qx,!1):e.axis(qx,o),a}function dV(a){var e=a.chart,t=a.options,n=t.label,o=Zf(e,"interval");if(!n)o.label(!1);else{var u=n.callback,l=(0,Z.__rest)(n,["callback"]);o.label({fields:[qx],callback:u,cfg:Jc(l)})}return a}function yD(a){return oa(Oo,mv("columnStyle"),cV,fV,hV,o0,dV,Wl,Rs,Zo)(a)}var mD=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type="histogram",t}return e.getDefaultOptions=function(){return lV},e.prototype.changeData=function(t){this.updateOption({data:t});var n=this.options,o=n.binField,u=n.binNumber,l=n.binWidth,c=n.stackField;this.chart.changeData(gD(t,o,l,u,c))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return yD},e}(Ma),xD=["#FAAD14","#E8EDF3"],vV={percent:.2,color:xD,animation:{}};function I_(a){var e=(0,w.clamp)(ny(a)?a:0,0,1);return[{type:"current",percent:e},{type:"target",percent:1-e}]}function bD(a){var e=a.chart,t=a.options,n=t.percent,o=t.progressStyle,u=t.color,l=t.barWidthRatio;e.data(I_(n));var c=yn({},a,{options:{xField:"1",yField:"percent",seriesField:"type",isStack:!0,widthRatio:l,interval:{style:o,color:(0,w.isString)(u)?[u,xD[1]]:u},args:{zIndexReversed:!0,sortZIndex:!0}}});return Qf(c),e.tooltip(!1),e.axis(!1),e.legend(!1),a}function pV(a){var e=a.chart;return e.coordinate("rect").transpose(),a}function ED(a){return oa(bD,Tu({}),pV,Zo,Oo,Mu())(a)}var SD=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type="process",t}return e.getDefaultOptions=function(){return vV},e.prototype.changeData=function(t){this.updateOption({percent:t}),this.chart.changeData(I_(t))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return ED},e}(Ma);function gV(a){var e=a.chart,t=a.options,n=t.innerRadius,o=t.radius;return e.coordinate("theta",{innerRadius:n,radius:o}),a}function wD(a,e){var t=a.chart,n=a.options,o=n.innerRadius,u=n.statistic,l=n.percent,c=n.meta;if(t.getController("annotation").clear(!0),o&&u){var f=(0,w.get)(c,["percent","formatter"])||function(v){return(v*100).toFixed(2)+"%"},h=u.content;h&&(h=yn({},h,{content:(0,w.isNil)(h.content)?f(l):h.content})),GE(t,{statistic:(0,Z.__assign)((0,Z.__assign)({},u),{content:h}),plotType:"ring-progress"},{percent:l})}return e&&t.render(!0),a}function _D(a){return oa(bD,Tu({}),gV,wD,Zo,Oo,Mu())(a)}var yV={percent:.2,innerRadius:.8,radius:.98,color:["#FAAD14","#E8EDF3"],statistic:{title:!1,content:{style:{fontSize:"14px",fontWeight:300,fill:"#4D4D4D",textAlign:"center",textBaseline:"middle"}}},animation:{}},AD=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type="ring-process",t}return e.getDefaultOptions=function(){return yV},e.prototype.changeData=function(t){this.chart.emit(pi.BEFORE_CHANGE_DATA,nu.fromData(this.chart,pi.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:t}),this.chart.data(I_(t)),wD({chart:this.chart,options:this.options},!0),this.chart.emit(pi.AFTER_CHANGE_DATA,nu.fromData(this.chart,pi.AFTER_CHANGE_DATA,null))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return _D},e}(Ma);function mV(a){var e=a.chart,t=a.options,n=t.data,o=t.type,u=t.xField,l=t.yField,c=t.colorField,f=t.sizeField,h=t.sizeRatio,v=t.shape,p=t.color,g=t.tooltip,E=t.heatmapStyle;e.data(n);var D="polygon";o==="density"&&(D="heatmap");var G=Yv(g,[u,l,c]),H=G.fields,X=G.formatter,rt=1;return(h||h===0)&&(!v&&!f?console.warn("sizeRatio is not in effect: Must define shape or sizeField first"):h<0||h>1?console.warn("sizeRatio is not in effect: It must be a number in [0,1]"):rt=h),$d(yn({},a,{options:{type:D,colorField:c,tooltipFields:H,shapeField:f||"",label:void 0,mapping:{tooltip:X,shape:v&&(f?function(ht){var mt=n.map(function(Vt){return Vt[f]}),Dt=Math.min.apply(Math,mt),kt=Math.max.apply(Math,mt);return[v,((0,w.get)(ht,f)-Dt)/(kt-Dt),rt]}:function(){return[v,1,rt]}),color:p||c&&e.getTheme().sequenceColors.join("-"),style:E}}})),a}function xV(a){var e,t=a.options,n=t.xAxis,o=t.yAxis,u=t.xField,l=t.yField;return oa(Tu((e={},e[u]=n,e[l]=o,e)))(a)}function bV(a){var e=a.chart,t=a.options,n=t.xAxis,o=t.yAxis,u=t.xField,l=t.yField;return n===!1?e.axis(u,!1):e.axis(u,n),o===!1?e.axis(l,!1):e.axis(l,o),a}function EV(a){var e=a.chart,t=a.options,n=t.legend,o=t.colorField,u=t.sizeField,l=t.sizeLegend,c=n!==!1;return o&&e.legend(o,c?n:!1),u&&e.legend(u,l===void 0?n:l),!c&&!l&&e.legend(!1),a}function SV(a){var e=a.chart,t=a.options,n=t.label,o=t.colorField,u=t.type,l=Zf(e,u==="density"?"heatmap":"polygon");if(!n)l.label(!1);else if(o){var c=n.callback,f=(0,Z.__rest)(n,["callback"]);l.label({fields:[o],callback:c,cfg:Jc(f)})}return a}function wV(a){var e=a.chart,t=a.options,n=t.coordinate,o=t.reflect;return n&&e.coordinate({type:n.type||"rect",cfg:n.cfg}),o&&e.coordinate().reflect(o),a}function _V(a){return oa(Oo,mv("heatmapStyle"),xV,wV,mV,bV,EV,Wl,SV,Mu(),Rs,Zo,o0)(a)}var AV=yn({},Ma.getDefaultOptions(),{type:"polygon",legend:!1,coordinate:{type:"rect"},xAxis:{tickLine:null,line:null,grid:{alignTick:!1,line:{style:{lineWidth:1,lineDash:null,stroke:"#f0f0f0"}}}},yAxis:{grid:{alignTick:!1,line:{style:{lineWidth:1,lineDash:null,stroke:"#f0f0f0"}}}}});No("polygon","circle",{draw:function(a,e){var t,n,o=a.x,u=a.y,l=this.parsePoints(a.points),c=Math.abs(l[2].x-l[1].x),f=Math.abs(l[1].y-l[0].y),h=Math.min(c,f)/2,v=Number(a.shape[1]),p=Number(a.shape[2]),g=Math.sqrt(p),E=h*g*Math.sqrt(v),D=((t=a.style)===null||t===void 0?void 0:t.fill)||a.color||((n=a.defaultStyle)===null||n===void 0?void 0:n.fill),G=e.addShape("circle",{attrs:(0,Z.__assign)((0,Z.__assign)((0,Z.__assign)({x:o,y:u,r:E},a.defaultStyle),a.style),{fill:D})});return G}}),No("polygon","square",{draw:function(a,e){var t,n,o=a.x,u=a.y,l=this.parsePoints(a.points),c=Math.abs(l[2].x-l[1].x),f=Math.abs(l[1].y-l[0].y),h=Math.min(c,f),v=Number(a.shape[1]),p=Number(a.shape[2]),g=Math.sqrt(p),E=h*g*Math.sqrt(v),D=((t=a.style)===null||t===void 0?void 0:t.fill)||a.color||((n=a.defaultStyle)===null||n===void 0?void 0:n.fill),G=e.addShape("rect",{attrs:(0,Z.__assign)((0,Z.__assign)((0,Z.__assign)({x:o-E/2,y:u-E/2,width:E,height:E},a.defaultStyle),a.style),{fill:D})});return G}});var CV=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type="heatmap",t}return e.getDefaultOptions=function(){return AV},e.prototype.getSchemaAdaptor=function(){return _V},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e}(Ma),O_,Hm="$$range$$",TV="low-q1-median-q3-high",MV="$$y_outliers$$",CD="outliers_view",IV=yn({},Ma.getDefaultOptions(),{meta:(O_={},O_[Hm]={min:0,alias:TV},O_),interactions:[{type:"active-region"}],tooltip:{showMarkers:!1,shared:!0},boxStyle:{lineWidth:1}}),TD=function(a,e){var t=a;if(Array.isArray(e)){var n=e[0],o=e[1],u=e[2],l=e[3],c=e[4];t=(0,w.map)(a,function(f){return f[Hm]=[f[n],f[o],f[u],f[l],f[c]],f})}return t};function OV(a){var e=a.chart,t=a.options,n=t.xField,o=t.yField,u=t.groupField,l=t.color,c=t.tooltip,f=t.boxStyle;e.data(TD(t.data,o));var h=(0,w.isArray)(o)?Hm:o,v=o?(0,w.isArray)(o)?o:[o]:[],p=c;p!==!1&&(p=yn({},{fields:(0,w.isArray)(o)?o:[]},p));var g=E_(yn({},a,{options:{xField:n,yField:h,seriesField:u,tooltip:p,rawFields:v,label:!1,schema:{shape:"box",color:l,style:f}}})).ext;return u&&g.geometry.adjust("dodge"),a}function DV(a){var e=a.chart,t=a.options,n=t.xField,o=t.data,u=t.outliersField,l=t.outliersStyle,c=t.padding,f=t.label;if(!u)return a;var h=e.createView({padding:c,id:CD}),v=o.reduce(function(p,g){var E=g[u];return E.forEach(function(D){var G;return p.push((0,Z.__assign)((0,Z.__assign)({},g),(G={},G[u]=D,G)))}),p},[]);return h.data(v),xv({chart:h,options:{xField:n,yField:u,point:{shape:"circle",style:l},label:f}}),h.axis(!1),a}function PV(a){var e,t,n=a.chart,o=a.options,u=o.meta,l=o.xAxis,c=o.yAxis,f=o.xField,h=o.yField,v=o.outliersField,p=Array.isArray(h)?Hm:h,g={};if(v){var E=MV;g=(e={},e[v]={sync:E,nice:!0},e[p]={sync:E,nice:!0},e)}var D=yn(g,u,(t={},t[f]=Ko(l,Xd),t[p]=Ko(c,Xd),t));return n.scale(D),a}function LV(a){var e=a.chart,t=a.options,n=t.xAxis,o=t.yAxis,u=t.xField,l=t.yField,c=Array.isArray(l)?Hm:l;return n===!1?e.axis(u,!1):e.axis(u,n),o===!1?e.axis(Hm,!1):e.axis(c,o),a}function RV(a){var e=a.chart,t=a.options,n=t.legend,o=t.groupField;return o?n?e.legend(o,n):e.legend(o,{position:"bottom"}):e.legend(!1),a}function FV(a){return oa(OV,DV,PV,LV,RV,Wl,Rs,Zo,Oo)(a)}var NV=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type="box",t}return e.getDefaultOptions=function(){return IV},e.prototype.changeData=function(t){this.updateOption({data:t});var n=this.options.yField,o=this.chart.views.find(function(u){return u.id===CD});o&&o.data(t),this.chart.changeData(TD(t,n))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return FV},e}(Ma),kV=je(53843),BV=je.n(kV);function MD(a,e){var t=a.length*e;if(a.length===0)throw new Error("quantile requires at least one data point.");if(e<0||e>1)throw new Error("quantiles must be between 0 and 1");return e===1?a[a.length-1]:e===0?a[0]:t%1!==0?a[Math.ceil(t)-1]:a.length%2===0?(a[t-1]+a[t])/2:a[t]}function tb(a,e,t){var n=a[e];a[e]=a[t],a[t]=n}function tS(a,e,t,n){for(t=t||0,n=n||a.length-1;n>t;){if(n-t>600){var o=n-t+1,u=e-t+1,l=Math.log(o),c=.5*Math.exp(2*l/3),f=.5*Math.sqrt(l*c*(o-c)/o);u-o/2<0&&(f*=-1);var h=Math.max(t,Math.floor(e-u*c/o+f)),v=Math.min(n,Math.floor(e+(o-u)*c/o+f));tS(a,e,h,v)}var p=a[e],g=t,E=n;for(tb(a,t,e),a[n]>p&&tb(a,t,n);g<E;){for(tb(a,g,E),g++,E--;a[g]<p;)g++;for(;a[E]>p;)E--}a[t]===p?tb(a,t,E):(E++,tb(a,E,n)),E<=e&&(t=E+1),e<=E&&(n=E-1)}}function eb(a,e){var t=a.slice();if(Array.isArray(e)){GV(t,e);for(var n=[],o=0;o<e.length;o++)n[o]=MD(t,e[o]);return n}else{var u=OD(t.length,e);return ID(t,u,0,t.length-1),MD(t,e)}}function ID(a,e,t,n){e%1===0?tS(a,e,t,n):(e=Math.floor(e),tS(a,e,t,n),tS(a,e+1,e+1,n))}function GV(a,e){for(var t=[0],n=0;n<e.length;n++)t.push(OD(a.length,e[n]));t.push(a.length-1),t.sort(zV);for(var o=[0,t.length-1];o.length;){var u=Math.ceil(o.pop()),l=Math.floor(o.pop());if(!(u-l<=1)){var c=Math.floor((l+u)/2);ID(a,t[c],Math.floor(t[l]),Math.ceil(t[u])),o.push(l,c,c,u)}}}function zV(a,e){return a-e}function OD(a,e){var t=a*e;return e===1?a-1:e===0?0:t%1!==0?Math.ceil(t)-1:a%2===0?t-.5:t}var DD=function(a){return{low:(0,w.min)(a),high:(0,w.max)(a),q1:eb(a,.25),q3:eb(a,.75),median:eb(a,[.5]),minMax:[(0,w.min)(a),(0,w.max)(a)],quantile:[eb(a,.25),eb(a,.75)]}},PD=function(a,e){var t=BV().create(a,e);return{violinSize:t.map(function(n){return n.y}),violinY:t.map(function(n){return n.x})}},LD=function(a){var e=a.xField,t=a.yField,n=a.seriesField,o=a.data,u=a.kde,l={min:u.min,max:u.max,size:u.sampleSize,width:u.width};if(!n){var c=(0,w.groupBy)(o,e);return Object.keys(c).map(function(v){var p=c[v],g=p.map(function(E){return E[t]});return(0,Z.__assign)((0,Z.__assign)({x:v},PD(g,l)),DD(g))})}var f=[],h=(0,w.groupBy)(o,n);return Object.keys(h).forEach(function(v){var p=(0,w.groupBy)(h[v],e);return Object.keys(p).forEach(function(g){var E,D=p[g],G=D.map(function(H){return H[t]});f.push((0,Z.__assign)((0,Z.__assign)((E={x:g},E[n]=v,E),PD(G,l)),DD(G)))})}),f},Xv="x",fy="violinY",UV="violinSize",RD="minMax",FD="quantile",ND="median",D_="violin_view",jV="min_max_view",WV="quantile_view",VV="median_view",HV=yn({},Ma.getDefaultOptions(),{syncViewPadding:!0,kde:{type:"triangular",sampleSize:32,width:3},violinStyle:{lineWidth:1,fillOpacity:.3,strokeOpacity:.75},xAxis:{grid:{line:null},tickLine:{alignTick:!1}},yAxis:{grid:{line:{style:{lineWidth:.5,lineDash:[4,4]}}}},legend:{position:"top-left"},tooltip:{showMarkers:!1}}),eS=["low","high","q1","q3","median"],rS=[{type:"dodge",marginRatio:1/32}];function YV(a){var e=a.chart,t=a.options;return e.data(LD(t)),a}function XV(a){var e=a.chart,t=a.options,n=t.seriesField,o=t.color,u=t.shape,l=u===void 0?"violin":u,c=t.violinStyle,f=t.tooltip,h=t.state,v=e.createView({id:D_});return RU({chart:v,options:{xField:Xv,yField:fy,seriesField:n||Xv,sizeField:UV,tooltip:(0,Z.__assign)({fields:eS},f),violin:{style:c,color:o,shape:l},state:h}}),v.geometries[0].adjust(rS),a}function $V(a){var e=a.chart,t=a.options,n=t.seriesField,o=t.color,u=t.tooltip,l=t.box;if(l===!1)return a;var c=e.createView({id:jV});Qf({chart:c,options:{xField:Xv,yField:RD,seriesField:n||Xv,tooltip:(0,Z.__assign)({fields:eS},u),state:typeof l=="object"?l.state:{},interval:{color:o,size:1,style:{lineWidth:0}}}}),c.geometries[0].adjust(rS);var f=e.createView({id:WV});Qf({chart:f,options:{xField:Xv,yField:FD,seriesField:n||Xv,tooltip:(0,Z.__assign)({fields:eS},u),state:typeof l=="object"?l.state:{},interval:{color:o,size:8,style:{fillOpacity:1}}}}),f.geometries[0].adjust(rS);var h=e.createView({id:VV});return xv({chart:h,options:{xField:Xv,yField:ND,seriesField:n||Xv,tooltip:(0,Z.__assign)({fields:eS},u),state:typeof l=="object"?l.state:{},point:{color:o,size:1,style:{fill:"white",lineWidth:0}}}}),h.geometries[0].adjust(rS),f.axis(!1),c.axis(!1),h.axis(!1),h.legend(!1),c.legend(!1),f.legend(!1),a}function KV(a){var e,t=a.chart,n=a.options,o=n.meta,u=n.xAxis,l=n.yAxis,c={},f=yn(c,o,(e={},e[Xv]=(0,Z.__assign)((0,Z.__assign)({sync:!0},Ko(u,Xd)),{type:"cat"}),e[fy]=(0,Z.__assign)({sync:!0},Ko(l,Xd)),e[RD]=(0,Z.__assign)({sync:fy},Ko(l,Xd)),e[FD]=(0,Z.__assign)({sync:fy},Ko(l,Xd)),e[ND]=(0,Z.__assign)({sync:fy},Ko(l,Xd)),e));return t.scale(f),a}function ZV(a){var e=a.chart,t=a.options,n=t.xAxis,o=t.yAxis,u=Xa(e,D_);return n===!1?u.axis(Xv,!1):u.axis(Xv,n),o===!1?u.axis(fy,!1):u.axis(fy,o),e.axis(!1),a}function QV(a){var e=a.chart,t=a.options,n=t.legend,o=t.seriesField,u=t.shape;if(n===!1)e.legend(!1);else{var l=o||Xv,c=(0,w.omit)(n,["selected"]);(!u||!u.startsWith("hollow"))&&((0,w.get)(c,["marker","style","lineWidth"])||(0,w.set)(c,["marker","style","lineWidth"],0)),e.legend(l,c),(0,w.get)(n,"selected")&&(0,w.each)(e.views,function(f){return f.legend(l,n)})}return a}function JV(a){var e=a.chart,t=Xa(e,D_);return Mu()((0,Z.__assign)((0,Z.__assign)({},a),{chart:t})),a}function qV(a){var e=a.chart,t=a.options,n=t.animation;return(0,w.each)(e.views,function(o){typeof n=="boolean"?o.animate(n):o.animate(!0),(0,w.each)(o.geometries,function(u){u.animate(n)})}),a}function tH(a){return oa(Oo,YV,XV,$V,KV,Wl,ZV,QV,Rs,JV,qV)(a)}var vct=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type="violin",t}return e.getDefaultOptions=function(){return HV},e.prototype.changeData=function(t){this.updateOption({data:t}),this.chart.changeData(LD(this.options))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return tH},e}(Ma),eH=function(a){return function(e,t){var n=[];return n[0]=a(e[0],t[0]),n[1]=a(e[1],t[1]),n[2]=a(e[2],t[2]),n}},kD={normal:function(a){return a},multiply:function(a,e){return a*e/255},screen:function(a,e){return 255*(1-(1-a/255)*(1-e/255))},overlay:function(a,e){return e<128?2*a*e/255:255*(1-2*(1-a/255)*(1-e/255))},darken:function(a,e){return a>e?e:a},lighten:function(a,e){return a>e?a:e},dodge:function(a,e){return a===255?255:(a=255*(e/255)/(1-a/255),a>255?255:a)},burn:function(a,e){return e===255?255:a===0?0:255*(1-Math.min(1,(1-e/255)/(a/255)))}},rH=function(a){if(!kD[a])throw new Error("unknown blend mode "+a);return kD[a]};function nH(a,e,t){t===void 0&&(t="normal");var n=eH(rH(t))(nS(a),nS(e)),o=nS(a),u=o[0],l=o[1],c=o[2],f=o[3],h=nS(e),v=h[0],p=h[1],g=h[2],E=h[3],D=Number((f+E*(1-f)).toFixed(2)),G=Math.round((f*(1-E)*(u/255)+f*E*(n[0]/255)+(1-f)*E*(v/255))/D*255),H=Math.round((f*(1-E)*(l/255)+f*E*(n[1]/255)+(1-f)*E*(p/255))/D*255),X=Math.round((f*(1-E)*(c/255)+f*E*(n[2]/255)+(1-f)*E*(g/255))/D*255);return"rgba("+G+", "+H+", "+X+", "+D+")"}function nS(a){var e=a.replace("/s+/g",""),t;return typeof e=="string"&&!e.startsWith("rgba")&&!e.startsWith("#")?t=hv.rgb2arr(hv.toRGB(e)).concat([1]):(e.startsWith("rgba")&&(t=e.replace("rgba(","").replace(")","").split(",")),e.startsWith("#")&&(t=hv.rgb2arr(e).concat([1])),t.map(function(n,o){return o===3?Number(n):n|0}))}var Np=je(69916),BD=1e-10;function P_(a,e){var t=aH(a),n=t.filter(function(Vt){return iH(Vt,a)}),o=0,u=0,l,c=[];if(n.length>1){var f=UD(n);for(l=0;l<n.length;++l){var h=n[l];h.angle=Math.atan2(h.x-f.x,h.y-f.y)}n.sort(function(Vt,te){return te.angle-Vt.angle});var v=n[n.length-1];for(l=0;l<n.length;++l){var p=n[l];u+=(v.x+p.x)*(p.y-v.y);for(var g={x:(p.x+v.x)/2,y:(p.y+v.y)/2},E=null,D=0;D<p.parentIndex.length;++D)if(v.parentIndex.indexOf(p.parentIndex[D])>-1){var G=a[p.parentIndex[D]],H=Math.atan2(p.x-G.x,p.y-G.y),X=Math.atan2(v.x-G.x,v.y-G.y),rt=X-H;rt<0&&(rt+=2*Math.PI);var ht=X-rt/2,mt=gp(g,{x:G.x+G.radius*Math.sin(ht),y:G.y+G.radius*Math.cos(ht)});mt>G.radius*2&&(mt=G.radius*2),(E===null||E.width>mt)&&(E={circle:G,width:mt,p1:p,p2:v})}E!==null&&(c.push(E),o+=L_(E.circle.radius,E.width),v=p)}}else{var Dt=a[0];for(l=1;l<a.length;++l)a[l].radius<Dt.radius&&(Dt=a[l]);var kt=!1;for(l=0;l<a.length;++l)if(gp(a[l],Dt)>Math.abs(Dt.radius-a[l].radius)){kt=!0;break}kt?o=u=0:(o=Dt.radius*Dt.radius*Math.PI,c.push({circle:Dt,p1:{x:Dt.x,y:Dt.y+Dt.radius},p2:{x:Dt.x-BD,y:Dt.y+Dt.radius},width:Dt.radius*2}))}return u/=2,e&&(e.area=o+u,e.arcArea=o,e.polygonArea=u,e.arcs=c,e.innerPoints=n,e.intersectionPoints=t),o+u}function iH(a,e){for(var t=0;t<e.length;++t)if(gp(a,e[t])>e[t].radius+BD)return!1;return!0}function aH(a){for(var e=[],t=0;t<a.length;++t)for(var n=t+1;n<a.length;++n)for(var o=zD(a[t],a[n]),u=0;u<o.length;++u){var l=o[u];l.parentIndex=[t,n],e.push(l)}return e}function L_(a,e){return a*a*Math.acos(1-e/a)-(a-e)*Math.sqrt(e*(2*a-e))}function gp(a,e){return Math.sqrt((a.x-e.x)*(a.x-e.x)+(a.y-e.y)*(a.y-e.y))}function GD(a,e,t){if(t>=a+e)return 0;if(t<=Math.abs(a-e))return Math.PI*Math.min(a,e)*Math.min(a,e);var n=a-(t*t-e*e+a*a)/(2*t),o=e-(t*t-a*a+e*e)/(2*t);return L_(a,n)+L_(e,o)}function zD(a,e){var t=gp(a,e),n=a.radius,o=e.radius;if(t>=n+o||t<=Math.abs(n-o))return[];var u=(n*n-o*o+t*t)/(2*t),l=Math.sqrt(n*n-u*u),c=a.x+u*(e.x-a.x)/t,f=a.y+u*(e.y-a.y)/t,h=-(e.y-a.y)*(l/t),v=-(e.x-a.x)*(l/t);return[{x:c+h,y:f-v},{x:c-h,y:f+v}]}function UD(a){for(var e={x:0,y:0},t=0;t<a.length;++t)e.x+=a[t].x,e.y+=a[t].y;return e.x/=a.length,e.y/=a.length,e}function oH(a,e){e=e||{},e.maxIterations=e.maxIterations||500;var t=e.initialLayout||cH,n=e.lossFunction||F_;a=sH(a);var o=t(a,e),u=[],l=[],c;for(c in o)o.hasOwnProperty(c)&&(u.push(o[c].x),u.push(o[c].y),l.push(c));for(var f=(0,Np.nelderMead)(function(p){for(var g={},E=0;E<l.length;++E){var D=l[E];g[D]={x:p[2*E],y:p[2*E+1],radius:o[D].radius}}return n(g,a)},u,e),h=f.x,v=0;v<l.length;++v)c=l[v],o[c].x=h[2*v],o[c].y=h[2*v+1];return o}var jD=1e-10;function R_(a,e,t){return Math.min(a,e)*Math.min(a,e)*Math.PI<=t+jD?Math.abs(a-e):(0,Np.bisect)(function(n){return GD(a,e,n)-t},0,a+e)}function sH(a){a=a.slice();var e=[],t={},n,o,u,l;for(n=0;n<a.length;++n){var c=a[n];c.sets.length==1?e.push(c.sets[0]):c.sets.length==2&&(u=c.sets[0],l=c.sets[1],t[[u,l]]=!0,t[[l,u]]=!0)}for(e.sort(function(f,h){return f>h?1:-1}),n=0;n<e.length;++n)for(u=e[n],o=n+1;o<e.length;++o)l=e[o],[u,l]in t||a.push({sets:[u,l],size:0});return a}function uH(a,e,t){var n=(0,Np.zerosM)(e.length,e.length),o=(0,Np.zerosM)(e.length,e.length);return a.filter(function(u){return u.sets.length==2}).map(function(u){var l=t[u.sets[0]],c=t[u.sets[1]],f=Math.sqrt(e[l].size/Math.PI),h=Math.sqrt(e[c].size/Math.PI),v=R_(f,h,u.size);n[l][c]=n[c][l]=v;var p=0;u.size+1e-10>=Math.min(e[l].size,e[c].size)?p=1:u.size<=1e-10&&(p=-1),o[l][c]=o[c][l]=p}),{distances:n,constraints:o}}function lH(a,e,t,n){var o=0,u;for(u=0;u<e.length;++u)e[u]=0;for(u=0;u<t.length;++u)for(var l=a[2*u],c=a[2*u+1],f=u+1;f<t.length;++f){var h=a[2*f],v=a[2*f+1],p=t[u][f],g=n[u][f],E=(h-l)*(h-l)+(v-c)*(v-c),D=Math.sqrt(E),G=E-p*p;g>0&&D<=p||g<0&&D>=p||(o+=2*G*G,e[2*u]+=4*G*(l-h),e[2*u+1]+=4*G*(c-v),e[2*f]+=4*G*(h-l),e[2*f+1]+=4*G*(v-c))}return o}function cH(a,e){var t=hH(a,e),n=e.lossFunction||F_;if(a.length>=8){var o=fH(a,e),u=n(o,a),l=n(t,a);u+1e-8<l&&(t=o)}return t}function fH(a,e){e=e||{};var t=e.restarts||10,n=[],o={},u;for(u=0;u<a.length;++u){var l=a[u];l.sets.length==1&&(o[l.sets[0]]=n.length,n.push(l))}var c=uH(a,n,o),f=c.distances,h=c.constraints,v=(0,Np.norm2)(f.map(Np.norm2))/f.length;f=f.map(function(rt){return rt.map(function(ht){return ht/v})});var p=function(rt,ht){return lH(rt,ht,f,h)},g,E;for(u=0;u<t;++u){var D=(0,Np.zeros)(f.length*2).map(Math.random);E=(0,Np.conjugateGradient)(p,D,e),(!g||E.fx<g.fx)&&(g=E)}var G=g.x,H={};for(u=0;u<n.length;++u){var X=n[u];H[X.sets[0]]={x:G[2*u]*v,y:G[2*u+1]*v,radius:Math.sqrt(X.size/Math.PI)}}if(e.history)for(u=0;u<e.history.length;++u)(0,Np.scale)(e.history[u].x,v);return H}function hH(a,e){for(var t=e&&e.lossFunction?e.lossFunction:F_,n={},o={},u,l=0;l<a.length;++l){var c=a[l];c.sets.length==1&&(u=c.sets[0],n[u]={x:1e10,y:1e10,rowid:Object.keys(n).length,size:c.size,radius:Math.sqrt(c.size/Math.PI)},o[u]=[])}a=a.filter(function(nr){return nr.sets.length==2});for(var l=0;l<a.length;++l){var f=a[l],h=f.hasOwnProperty("weight")?f.weight:1,v=f.sets[0],p=f.sets[1];f.size+jD>=Math.min(n[v].size,n[p].size)&&(h=0),o[v].push({set:p,size:f.size,weight:h}),o[p].push({set:v,size:f.size,weight:h})}var g=[];for(u in o)if(o.hasOwnProperty(u)){for(var E=0,l=0;l<o[u].length;++l)E+=o[u][l].size*o[u][l].weight;g.push({set:u,size:E})}function D(nr,Gr){return Gr.size-nr.size}g.sort(D);var G={};function H(nr){return nr.set in G}function X(nr,Gr){n[Gr].x=nr.x,n[Gr].y=nr.y,G[Gr]=!0}X({x:0,y:0},g[0].set);for(var l=1;l<g.length;++l){var rt=g[l].set,ht=o[rt].filter(H);if(u=n[rt],ht.sort(D),ht.length===0)throw"ERROR: missing pairwise overlap information";for(var mt=[],Dt=0;Dt<ht.length;++Dt){var kt=n[ht[Dt].set],Vt=R_(u.radius,kt.radius,ht[Dt].size);mt.push({x:kt.x+Vt,y:kt.y}),mt.push({x:kt.x-Vt,y:kt.y}),mt.push({y:kt.y+Vt,x:kt.x}),mt.push({y:kt.y-Vt,x:kt.x});for(var te=Dt+1;te<ht.length;++te)for(var le=n[ht[te].set],pe=R_(u.radius,le.radius,ht[te].size),De=zD({x:kt.x,y:kt.y,radius:Vt},{x:le.x,y:le.y,radius:pe}),Xe=0;Xe<De.length;++Xe)mt.push(De[Xe])}for(var pr=1e50,yr=mt[0],Dt=0;Dt<mt.length;++Dt){n[rt].x=mt[Dt].x,n[rt].y=mt[Dt].y;var Vr=t(n,a);Vr<pr&&(pr=Vr,yr=mt[Dt])}X(yr,rt)}return n}function F_(a,e){var t=0;function n(v){return v.map(function(p){return a[p]})}for(var o=0;o<e.length;++o){var u=e[o],l=void 0;if(u.sets.length!=1){if(u.sets.length==2){var c=a[u.sets[0]],f=a[u.sets[1]];l=GD(c.radius,f.radius,gp(c,f))}else l=P_(n(u.sets));var h=u.hasOwnProperty("weight")?u.weight:1;t+=h*(l-u.size)*(l-u.size)}}return t}function dH(a,e,t){t===null?a.sort(function(G,H){return H.radius-G.radius}):a.sort(t);var n;if(a.length>0){var o=a[0].x,u=a[0].y;for(n=0;n<a.length;++n)a[n].x-=o,a[n].y-=u}if(a.length==2){var l=distance(a[0],a[1]);l<Math.abs(a[1].radius-a[0].radius)&&(a[1].x=a[0].x+a[0].radius-a[1].radius-1e-10,a[1].y=a[0].y)}if(a.length>1){var c=Math.atan2(a[1].x,a[1].y)-e,f=void 0,h=void 0,v=Math.cos(c),p=Math.sin(c);for(n=0;n<a.length;++n)f=a[n].x,h=a[n].y,a[n].x=v*f-p*h,a[n].y=p*f+v*h}if(a.length>2){for(var g=Math.atan2(a[2].x,a[2].y)-e;g<0;)g+=2*Math.PI;for(;g>2*Math.PI;)g-=2*Math.PI;if(g>Math.PI){var E=a[1].y/(1e-10+a[1].x);for(n=0;n<a.length;++n){var D=(a[n].x+E*a[n].y)/(1+E*E);a[n].x=2*D-a[n].x,a[n].y=2*D*E-a[n].y}}}}function vH(a){a.map(function(h){h.parent=h});function e(h){return h.parent!==h&&(h.parent=e(h.parent)),h.parent}function t(h,v){var p=e(h),g=e(v);p.parent=g}for(var n=0;n<a.length;++n)for(var o=n+1;o<a.length;++o){var u=a[n].radius+a[o].radius;distance(a[n],a[o])+1e-10<u&&t(a[o],a[n])}for(var l={},c,n=0;n<a.length;++n)c=e(a[n]).parent.setid,c in l||(l[c]=[]),l[c].push(a[n]);a.map(function(h){delete h.parent});var f=[];for(c in l)l.hasOwnProperty(c)&&f.push(l[c]);return f}function N_(a){var e=function(t){var n=Math.max.apply(null,a.map(function(u){return u[t]+u.radius})),o=Math.min.apply(null,a.map(function(u){return u[t]-u.radius}));return{max:n,min:o}};return{xRange:e("x"),yRange:e("y")}}function pct(a,e,t){e===null&&(e=Math.PI/2);var n=[],o,u;for(u in a)if(a.hasOwnProperty(u)){var l=a[u];n.push({x:l.x,y:l.y,radius:l.radius,setid:u})}var c=vH(n);for(o=0;o<c.length;++o){dH(c[o],e,t);var f=N_(c[o]);c[o].size=(f.xRange.max-f.xRange.min)*(f.yRange.max-f.yRange.min),c[o].bounds=f}c.sort(function(D,G){return G.size-D.size}),n=c[0];var h=n.bounds,v=(h.xRange.max-h.xRange.min)/50;function p(D,G,H){if(!!D){var X=D.bounds,rt,ht,mt;G?rt=h.xRange.max-X.xRange.min+v:(rt=h.xRange.max-X.xRange.max,mt=(X.xRange.max-X.xRange.min)/2-(h.xRange.max-h.xRange.min)/2,mt<0&&(rt+=mt)),H?ht=h.yRange.max-X.yRange.min+v:(ht=h.yRange.max-X.yRange.max,mt=(X.yRange.max-X.yRange.min)/2-(h.yRange.max-h.yRange.min)/2,mt<0&&(ht+=mt));for(var Dt=0;Dt<D.length;++Dt)D[Dt].x+=rt,D[Dt].y+=ht,n.push(D[Dt])}}for(var g=1;g<c.length;)p(c[g],!0,!1),p(c[g+1],!1,!0),p(c[g+2],!0,!0),g+=3,h=N_(n);var E={};for(o=0;o<n.length;++o)E[n[o].setid]=n[o];return E}function pH(a,e,t,n){var o=[],u=[];for(var l in a)a.hasOwnProperty(l)&&(u.push(l),o.push(a[l]));e-=2*n,t-=2*n;var c=N_(o),f=c.xRange,h=c.yRange;if(f.max==f.min||h.max==h.min)return console.log("not scaling solution: zero size detected"),a;for(var v=e/(f.max-f.min),p=t/(h.max-h.min),g=Math.min(p,v),E=(e-(f.max-f.min)*g)/2,D=(t-(h.max-h.min)*g)/2,G={},H=0;H<o.length;++H){var X=o[H];G[u[H]]={radius:g*X.radius,x:n+E+(X.x-f.min)*g,y:n+D+(X.y-h.min)*g}}return G}function k_(a,e,t){var n=e[0].radius-gp(e[0],a),o,u;for(o=1;o<e.length;++o)u=e[o].radius-gp(e[o],a),u<=n&&(n=u);for(o=0;o<t.length;++o)u=gp(t[o],a)-t[o].radius,u<=n&&(n=u);return n}function WD(a,e){var t=[],n;for(n=0;n<a.length;++n){var o=a[n];t.push({x:o.x,y:o.y}),t.push({x:o.x+o.radius/2,y:o.y}),t.push({x:o.x-o.radius/2,y:o.y}),t.push({x:o.x,y:o.y+o.radius/2}),t.push({x:o.x,y:o.y-o.radius/2})}var u=t[0],l=k_(t[0],a,e);for(n=1;n<t.length;++n){var c=k_(t[n],a,e);c>=l&&(u=t[n],l=c)}var f=(0,Np.nelderMead)(function(g){return-1*k_({x:g[0],y:g[1]},a,e)},[u.x,u.y],{maxIterations:500,minErrorDelta:1e-10}).x,h={x:f[0],y:f[1]},v=!0;for(n=0;n<a.length;++n)if(gp(h,a[n])>a[n].radius){v=!1;break}for(n=0;n<e.length;++n)if(gp(h,e[n])<e[n].radius){v=!1;break}if(!v)if(a.length==1)h={x:a[0].x,y:a[0].y};else{var p={};P_(a,p),p.arcs.length===0?h={x:0,y:-1e3,disjoint:!0}:p.arcs.length==1?h={x:p.arcs[0].circle.x,y:p.arcs[0].circle.y}:e.length?h=WD(a,[]):h=UD(p.arcs.map(function(g){return g.p1}))}return h}function gH(a){var e={},t=[];for(var n in a)t.push(n),e[n]=[];for(var o=0;o<t.length;o++)for(var u=a[t[o]],l=o+1;l<t.length;++l){var c=a[t[l]],f=gp(u,c);f+c.radius<=u.radius+1e-10?e[t[l]].push(t[o]):f+u.radius<=c.radius+1e-10&&e[t[o]].push(t[l])}return e}function yH(a,e){for(var t={},n=gH(a),o=0;o<e.length;++o){for(var u=e[o].sets,l={},c={},f=0;f<u.length;++f){l[u[f]]=!0;for(var h=n[u[f]],v=0;v<h.length;++v)c[h[v]]=!0}var p=[],g=[];for(var E in a)E in l?p.push(a[E]):E in c||g.push(a[E]);var D=WD(p,g);t[u]=D,D.disjoint&&e[o].size>0&&console.log("WARNING: area "+u+" not represented on screen")}return t}function mH(a,e,t){var n=[],o=a-t,u=e;return n.push("M",o,u),n.push("A",t,t,0,1,0,o+2*t,u),n.push("A",t,t,0,1,0,o,u),n.join(" ")}function gct(a){var e=a.split(" ");return{x:parseFloat(e[1]),y:parseFloat(e[2]),radius:-parseFloat(e[4])}}function xH(a){var e={};P_(a,e);var t=e.arcs;if(t.length===0)return"M 0 0";if(t.length==1){var n=t[0].circle;return mH(n.x,n.y,n.radius)}else{for(var o=[`
M`,t[0].p2.x,t[0].p2.y],u=0;u<t.length;++u){var l=t[u],c=l.circle.radius,f=l.width>c;o.push(`
A`,c,c,0,f?1:0,1,l.p1.x,l.p1.y)}return o.join(" ")}}var gg="id",B_="path",bH={appendPadding:[10,0,20,0],blendMode:"multiply",tooltip:{showTitle:!1,showMarkers:!1,fields:["id","size"],formatter:function(a){return{name:a.id,value:a.size}}},legend:{position:"top-left"},label:{style:{textAlign:"center",fill:"#fff"}},interactions:[{type:"legend-filter",enable:!1}],state:{active:{style:{stroke:"#000"}},selected:{style:{stroke:"#000",lineWidth:2}},inactive:{style:{fillOpacity:.3,strokeOpacity:.3}}},defaultInteractions:["tooltip","venn-legend-active"]},EH=(0,w.memoize)(function(a,e,t,n){var o=new Map,u=a.length;return e.forEach(function(l,c){if(l[n].length===1)o.set(l[gg],a[(c+u)%u]);else{var f=l[n].map(function(h){return o.get(h)});o.set(l[gg],f.slice(1).reduce(function(h,v){return nH(h,v,t)},f[0]))}}),o},function(){for(var a=[],e=0;e<arguments.length;e++)a[e]=arguments[e];return JSON.stringify(a)});function SH(a,e,t,n){n===void 0&&(n=0);var o=a.data,u=a.setsField,l=a.sizeField;if(o.length===0)return vg(pp.WARN,!1,"warn: %s","\u6570\u636E\u4E0D\u80FD\u4E3A\u7A7A"),[];var c=o.map(function(p){var g;return(0,Z.__assign)((0,Z.__assign)({},p),(g={sets:p[u]||[],size:p[l]},g[B_]="",g[gg]="",g))});c.sort(function(p,g){return p.sets.length-g.sets.length});var f=oH(c),h=pH(f,e,t,n),v=yH(h,c);return c.forEach(function(p){var g=p.sets,E=g.join(",");p[gg]=E;var D=g.map(function(X){return h[X]}),G=xH(D);/[zZ]$/.test(G)||(G+=" Z"),p[B_]=G;var H=v[E]||{x:0,y:0};(0,w.assign)(p,H)}),c}function wH(a,e){for(var t=0;t<e.length;t++)if(!a.includes(e[t]))return!1;return!0}function _H(a){return yn({},a.defaultStyle,{fill:a.color},a.style)}No("schema","venn",{draw:function(a,e){var t=a.data,n=Tp(t[B_]),o=_H(a),u=e.addGroup({name:"venn-shape"});u.addShape("path",{attrs:(0,Z.__assign)((0,Z.__assign)({},o),{path:n}),name:"venn-path"});var l=a.customInfo,c=l.offsetX,f=l.offsetY,h=Sd.transform(null,[["t",c,f]]);return u.setMatrix(h),u},getMarker:function(a){var e=a.color;return{symbol:"circle",style:{lineWidth:0,stroke:e,fill:e,r:4}}}});var AH=function(a){(0,Z.__extends)(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.getLabelPoint=function(t,n,o){var u=t.data,l=u.x,c=u.y,f=t.customLabelInfo,h=f.offsetX,v=f.offsetY;return{content:t.content[o],x:l+h,y:c+v}},e}(Bx);Rm("venn",AH);function iS(a){if(!!a){var e=a.geometries[0].elements;e.forEach(function(t){t.shape.toFront()})}}var CH=Dx("element-active"),TH=function(a){(0,Z.__extends)(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.syncElementsPos=function(){iS(this.context.view)},e.prototype.active=function(){a.prototype.active.call(this),this.syncElementsPos()},e.prototype.toggle=function(){a.prototype.toggle.call(this),this.syncElementsPos()},e.prototype.reset=function(){a.prototype.reset.call(this),this.syncElementsPos()},e}(CH),MH=Dx("element-highlight"),IH=function(a){(0,Z.__extends)(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.syncElementsPos=function(){iS(this.context.view)},e.prototype.highlight=function(){a.prototype.highlight.call(this),this.syncElementsPos()},e.prototype.toggle=function(){a.prototype.toggle.call(this),this.syncElementsPos()},e.prototype.clear=function(){a.prototype.clear.call(this),this.syncElementsPos()},e.prototype.reset=function(){a.prototype.reset.call(this),this.syncElementsPos()},e}(MH),OH=Dx("element-selected"),DH=Dx("element-single-selected"),PH=function(a){(0,Z.__extends)(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.syncElementsPos=function(){iS(this.context.view)},e.prototype.selected=function(){a.prototype.selected.call(this),this.syncElementsPos()},e.prototype.toggle=function(){a.prototype.toggle.call(this),this.syncElementsPos()},e.prototype.reset=function(){a.prototype.reset.call(this),this.syncElementsPos()},e}(OH),LH=function(a){(0,Z.__extends)(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.syncElementsPos=function(){iS(this.context.view)},e.prototype.selected=function(){a.prototype.selected.call(this),this.syncElementsPos()},e.prototype.toggle=function(){a.prototype.toggle.call(this),this.syncElementsPos()},e.prototype.reset=function(){a.prototype.reset.call(this),this.syncElementsPos()},e}(DH);na("venn-element-active",TH),na("venn-element-highlight",IH),na("venn-element-selected",PH),na("venn-element-single-selected",LH),Ta("venn-element-active",{start:[{trigger:"element:mouseenter",action:"venn-element-active:active"}],end:[{trigger:"element:mouseleave",action:"venn-element-active:reset"}]}),Ta("venn-element-highlight",{start:[{trigger:"element:mouseenter",action:"venn-element-highlight:highlight"}],end:[{trigger:"element:mouseleave",action:"venn-element-highlight:reset"}]}),Ta("venn-element-selected",{start:[{trigger:"element:click",action:"venn-element-selected:toggle"}],rollback:[{trigger:"dblclick",action:["venn-element-selected:reset"]}]}),Ta("venn-element-single-selected",{start:[{trigger:"element:click",action:"venn-element-single-selected:toggle"}],rollback:[{trigger:"dblclick",action:["venn-element-single-selected:reset"]}]}),Ta("venn-legend-active",{start:[{trigger:"legend-item:mouseenter",action:["list-active:active","venn-element-active:active"]}],end:[{trigger:"legend-item:mouseleave",action:["list-active:reset","venn-element-active:reset"]}]}),Ta("venn-legend-highlight",{start:[{trigger:"legend-item:mouseenter",action:["legend-item-highlight:highlight","venn-element-highlight:highlight"]}],end:[{trigger:"legend-item:mouseleave",action:["legend-item-highlight:reset","venn-element-highlight:reset"]}]});var RH=40;function VD(a,e,t){var n=a.chart,o=a.options,u=o.blendMode,l=o.setsField,c=n.getTheme(),f=c.colors10,h=c.colors20,v=t;(0,w.isArray)(v)||(v=e.filter(function(g){return g[l].length===1}).length<=10?f:h);var p=EH(v,e,u,l);return function(g){return p.get(g)||v[0]}}function FH(a,e){var t=a.options,n=t.color;if(typeof n!="function"){var o=typeof n=="string"?[n]:n,u=VD(a,e,o);return function(l){return u(l[gg])}}return n}function NH(a){var e=a.chart,t=a.options,n=t.legend,o=t.appendPadding,u=t.padding,l=a0(o);return n!==!1&&(l=zE(o,(0,w.get)(n,"position"),RH)),e.appendPadding=g_([l,u]),a}function kH(a){var e=a.options,t=e.data;t||(vg(pp.WARN,!1,"warn: %s","\u6570\u636E\u4E0D\u80FD\u4E3A\u7A7A"),t=[]);var n=t.filter(function(u){return u.sets.length===1}).map(function(u){return u.sets[0]}),o=t.filter(function(u){var l=u.sets;return wH(n,l)});return(0,w.isEqual)(o,t)||vg(pp.WARN,!1,"warn: %s","\u4EA4\u96C6\u4E2D\u4E0D\u80FD\u51FA\u73B0\u4E0D\u5B58\u5728\u7684\u96C6\u5408, \u8BF7\u8F93\u5165\u5408\u6CD5\u6570\u636E"),(0,w.deepMix)({},a,{options:{data:o}})}function BH(a){var e=a.chart,t=a.options,n=t.pointStyle,o=t.setsField,u=t.sizeField,l=a0(e.appendPadding),c=l[0],f=l[1],h=l[2],v=l[3],p={offsetX:v,offsetY:c},g=e.viewBBox,E=g.width,D=g.height,G=SH(t,Math.max(E-(f+v),0),Math.max(D-(c+h),0),0);e.data(G);var H=E_(yn({},a,{options:{xField:"x",yField:"y",sizeField:u,seriesField:gg,rawFields:[o,u],schema:{shape:"venn",style:n}}})).ext,X=H.geometry;X.customInfo(p);var rt=FH(a,G);return typeof rt=="function"&&X.color(gg,function(ht){var mt=G.find(function(kt){return kt[gg]===ht}),Dt=VD(a,G)(ht);return rt(mt,Dt)}),a}function GH(a){var e=a.chart,t=a.options,n=t.label,o=a0(e.appendPadding),u=o[0],l=o[3],c={offsetX:l,offsetY:u},f=Zf(e,"schema");if(!n)f.label(!1);else{var h=n.callback,v=(0,Z.__rest)(n,["callback"]);f.label({fields:["id"],callback:h,cfg:(0,w.deepMix)({},Jc(v),{type:"venn",customLabelInfo:c})})}return a}function zH(a){var e=a.chart,t=a.options,n=t.legend,o=t.sizeField;return e.legend(gg,n),e.legend(o,!1),a}function UH(a){var e=a.chart;return e.axis(!1),a}function jH(a){var e=a.options,t=a.chart,n=e.interactions;if(n){var o={"legend-active":"venn-legend-active","legend-highlight":"venn-legend-highlight"};Rs(yn({},a,{options:{interactions:n.map(function(u){return(0,Z.__assign)((0,Z.__assign)({},u),{type:o[u.type]||u.type})})}}))}return t.removeInteraction("legend-active"),t.removeInteraction("legend-highlight"),a}function WH(a){return oa(NH,Oo,kH,BH,GH,Tu({}),zH,UH,Wl,jH,Zo)(a)}var yct=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type="venn",t}return e.getDefaultOptions=function(){return bH},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return WH},e.prototype.triggerResize=function(){this.chart.destroyed||(this.chart.forceFit(),this.chart.clear(),this.execAdaptor(),this.chart.render(!0))},e}(Ma),rb="$$stock-range$$",aS="trend",HD="up",YD="down",VH={showMarkers:!1,showCrosshairs:!0,shared:!0,crosshairs:{type:"xy",follow:!0,text:function(a,e,t){var n;if(a==="x"){var o=t[0];n=o?o.title:e}else n=e;return{position:a==="y"?"start":"end",content:n,style:{fill:"#dfdfdf"}}},textBackground:{padding:[2,4],style:{fill:"#666"}}}},HH=yn({},Ma.getDefaultOptions(),{tooltip:VH,interactions:[{type:"tooltip"}],legend:{position:"top-left"},risingFill:"#ef5350",fallingFill:"#26a69a"});function XD(a,e){return(0,w.map)(a,function(t){if((0,w.isArray)(e)){var n=e[0],o=e[1],u=e[2],l=e[3];t[aS]=t[n]<=t[o]?HD:YD,t[rb]=[t[n],t[o],t[u],t[l]]}return t})}function YH(a){var e=a.chart,t=a.options,n=t.yField,o=t.data,u=t.risingFill,l=t.fallingFill,c=t.tooltip,f=t.stockStyle;e.data(XD(o,n));var h=c;return h!==!1&&(h=yn({},{fields:n},h)),E_(yn({},a,{options:{schema:{shape:"candle",color:[u,l],style:f},yField:rb,seriesField:aS,rawFields:n,tooltip:h}})),a}function XH(a){var e,t,n=a.chart,o=a.options,u=o.meta,l=o.xAxis,c=o.yAxis,f=o.xField,h=(e={},e[f]={type:"timeCat",tickCount:6},e[aS]={values:[HD,YD]},e),v=yn(h,u,(t={},t[f]=Ko(l,Xd),t[rb]=Ko(c,Xd),t));return n.scale(v),a}function $H(a){var e=a.chart,t=a.options,n=t.xAxis,o=t.yAxis,u=t.xField;return n===!1?e.axis(u,!1):e.axis(u,n),o===!1?e.axis(rb,!1):e.axis(rb,o),a}function KH(a){var e=a.chart,t=a.options,n=t.tooltip;return n!==!1?e.tooltip(n):e.tooltip(!1),a}function ZH(a){var e=a.chart,t=a.options,n=t.legend;return n?e.legend(aS,n):n===!1&&e.legend(!1),a}function QH(a){oa(Oo,YH,XH,$H,KH,ZH,Rs,Zo,Mu(),Kx)(a)}var JH=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type="stock",t}return e.getDefaultOptions=function(){return HH},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return QH},e.prototype.changeData=function(t){this.updateOption({data:t});var n=this.options.yField;this.chart.changeData(XD(t,n))},e}(Ma),G_,s0="$$percentage$$",u0="$$mappingValue$$",yg="$$conversion$$",z_="$$totalPercentage$$",nb="$$x$$",ib="$$y$$",qH={appendPadding:[0,80],minSize:0,maxSize:1,meta:(G_={},G_[u0]={min:0,max:1,nice:!1},G_),label:{style:{fill:"#fff",fontSize:12}},tooltip:{showTitle:!1,showMarkers:!1,shared:!1},conversionTag:{offsetX:10,offsetY:0,style:{fontSize:12,fill:"rgba(0,0,0,0.45)"}}};function $D(a,e,t){var n=[],o=t.yField,u=t.maxSize,l=t.minSize,c=(0,w.get)((0,w.maxBy)(e,o),[o]),f=(0,w.isNumber)(u)?u:1,h=(0,w.isNumber)(l)?l:0;return n=(0,w.map)(a,function(v,p){var g=(v[o]||0)/c;return v[s0]=g,v[u0]=(f-h)*g+h,v[yg]=[(0,w.get)(a,[p-1,o]),v[o]],v}),n}function U_(a){return function(e){var t=e.chart,n=e.options,o=n.conversionTag,u=t.getOptions().data;if(o){var l=o.formatter;u.forEach(function(c,f){if(!(f<=0||Number.isNaN(c[u0]))){var h=a(c,f,u,{top:!0,text:{content:(0,w.isFunction)(l)?l(c,u):l,offsetX:o.offsetX,offsetY:o.offsetY,position:"end",autoRotate:!1,style:(0,Z.__assign)({textAlign:"start",textBaseline:"middle"},o.style)}});t.annotation().line(h)}})}return e}}function tY(a){var e=a.chart,t=a.options,n=t.data,o=n===void 0?[]:n,u=t.yField,l=t.maxSize,c=t.minSize,f=$D(o,o,{yField:u,maxSize:l,minSize:c});return e.data(f),a}function eY(a){var e=a.chart,t=a.options,n=t.xField,o=t.yField,u=t.color,l=t.tooltip,c=t.label,f=t.shape,h=f===void 0?"funnel":f,v=t.funnelStyle,p=t.state,g=Yv(l,[n,o]),E=g.fields,D=g.formatter;$d({chart:e,options:{type:"interval",xField:n,yField:u0,colorField:n,tooltipFields:(0,w.isArray)(E)&&E.concat([s0,yg]),mapping:{shape:h,tooltip:D,color:u,style:v},label:c,state:p}});var G=Zf(a.chart,"interval");return G.adjust("symmetric"),a}function rY(a){var e=a.chart,t=a.options,n=t.isTransposed;return e.coordinate({type:"rect",actions:n?[]:[["transpose"],["scale",1,-1]]}),a}function nY(a){var e=a.options,t=e.maxSize,n=function(o,u,l,c){var f=t-(t-o[u0])/2;return(0,Z.__assign)((0,Z.__assign)({},c),{start:[u-.5,f],end:[u-.5,f+.05]})};return U_(n)(a),a}function KD(a){return oa(tY,eY,rY,nY)(a)}function iY(a){var e,t=a.chart,n=a.options,o=n.data,u=o===void 0?[]:o,l=n.yField;return t.data(u),t.scale((e={},e[l]={sync:!0},e)),a}function aY(a){var e=a.chart,t=a.options,n=t.data,o=t.xField,u=t.yField,l=t.color,c=t.compareField,f=t.isTransposed,h=t.tooltip,v=t.maxSize,p=t.minSize,g=t.label,E=t.funnelStyle,D=t.state,G=t.showFacetTitle;return e.facet("mirror",{fields:[c],transpose:!f,padding:f?0:[32,0,0,0],showTitle:G,eachView:function(H,X){var rt=f?X.rowIndex:X.columnIndex;f||H.coordinate({type:"rect",actions:[["transpose"],["scale",rt===0?-1:1,-1]]});var ht=$D(X.data,n,{yField:u,maxSize:v,minSize:p});H.data(ht);var mt=Yv(h,[o,u,c]),Dt=mt.fields,kt=mt.formatter,Vt=f?{offset:rt===0?10:-23,position:rt===0?"bottom":"top"}:{offset:10,position:"left",style:{textAlign:rt===0?"end":"start"}};$d({chart:H,options:{type:"interval",xField:o,yField:u0,colorField:o,tooltipFields:(0,w.isArray)(Dt)&&Dt.concat([s0,yg]),mapping:{shape:"funnel",tooltip:kt,color:l,style:E},label:g===!1?!1:yn({},Vt,g),state:D}})}}),a}function oY(a){var e=a.chart,t=a.options,n=t.conversionTag,o=t.isTransposed;return e.once("beforepaint",function(){e.views.forEach(function(u,l){var c=function(f,h,v,p){var g=l===0?-1:1;return yn({},p,{start:[h-.5,f[u0]],end:[h-.5,f[u0]+.05],text:o?{style:{textAlign:"start"}}:{offsetX:n!==!1?g*n.offsetX:0,style:{textAlign:l===0?"end":"start"}}})};U_(c)(yn({},{chart:u,options:t}))})}),a}function sY(a){return oa(iY,aY,oY)(a)}function uY(a){var e,t=a.chart,n=a.options,o=n.data,u=o===void 0?[]:o,l=n.yField;return t.data(u),t.scale((e={},e[l]={sync:!0},e)),a}function lY(a){var e=a.chart,t=a.options,n=t.seriesField,o=t.isTransposed,u=t.showFacetTitle;return e.facet("rect",{fields:[n],padding:[o?0:32,10,0,10],showTitle:u,eachView:function(l,c){KD(yn({},a,{chart:l,options:{data:c.data}}))}}),a}function cY(a){return oa(uY,lY)(a)}function fY(a){var e=a.chart,t=a.options,n=t.data,o=n===void 0?[]:n,u=t.yField,l=(0,w.reduce)(o,function(h,v){return h+(v[u]||0)},0),c=(0,w.maxBy)(o,u)[u],f=(0,w.map)(o,function(h,v){var p=[],g=[];if(h[z_]=(h[u]||0)/l,v){var E=o[v-1][nb],D=o[v-1][ib];p[0]=E[3],g[0]=D[3],p[1]=E[2],g[1]=D[2]}else p[0]=-.5,g[0]=1,p[1]=.5,g[1]=1;return g[2]=g[1]-h[z_],p[2]=(g[2]+1)/4,g[3]=g[2],p[3]=-p[2],h[nb]=p,h[ib]=g,h[s0]=(h[u]||0)/c,h[yg]=[(0,w.get)(o,[v-1,u]),h[u]],h});return e.data(f),a}function hY(a){var e=a.chart,t=a.options,n=t.xField,o=t.yField,u=t.color,l=t.tooltip,c=t.label,f=t.funnelStyle,h=t.state,v=Yv(l,[n,o]),p=v.fields,g=v.formatter;return $d({chart:e,options:{type:"polygon",xField:nb,yField:ib,colorField:n,tooltipFields:(0,w.isArray)(p)&&p.concat([s0,yg]),label:c,state:h,mapping:{tooltip:g,color:u,style:f}}}),a}function dY(a){var e=a.chart,t=a.options,n=t.isTransposed;return e.coordinate({type:"rect",actions:n?[["transpose"],["reflect","x"]]:[]}),a}function vY(a){var e=function(t,n,o,u){return(0,Z.__assign)((0,Z.__assign)({},u),{start:[t[nb][1],t[ib][1]],end:[t[nb][1]+.05,t[ib][1]]})};return U_(e)(a),a}function pY(a){return oa(fY,hY,dY,vY)(a)}function gY(a){var e=a.options,t=e.compareField,n=e.xField,o=e.yField,u=e.locale,l=e.funnelStyle,c=e.data,f=jE(u),h={label:t?{fields:[n,o,t,s0,yg],formatter:function(p){return""+p[o]}}:{fields:[n,o,s0,yg],offset:0,position:"middle",formatter:function(p){return p[n]+" "+p[o]}},tooltip:{title:n,formatter:function(p){return{name:p[n],value:p[o]}}},conversionTag:{formatter:function(p){return f.get(["conversionTag","label"])+": "+kO.apply(void 0,p[yg])}}},v;return(t||l)&&(v=function(p){return yn({},t&&{lineWidth:1,stroke:"#fff"},(0,w.isFunction)(l)?l(p):l)}),yn({options:h},a,{options:{funnelStyle:v,data:(0,w.clone)(c)}})}function yY(a){var e=a.options,t=e.compareField,n=e.dynamicHeight,o=e.seriesField;return o?cY(a):t?sY(a):n?pY(a):KD(a)}function mY(a){var e,t=a.options,n=t.xAxis,o=t.yAxis,u=t.xField,l=t.yField;return oa(Tu((e={},e[u]=n,e[l]=o,e)))(a)}function xY(a){var e=a.chart;return e.axis(!1),a}function bY(a){var e=a.chart,t=a.options,n=t.legend;return n===!1?e.legend(!1):e.legend(n),a}function ZD(a){return oa(gY,yY,mY,xY,Wl,Rs,bY,Zo,Oo,Mu())(a)}var QD=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type="funnel",t}return e.getDefaultOptions=function(){return qH},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return ZD},e.prototype.setState=function(t,n,o){o===void 0&&(o=!0);var u=Xx(this.chart);(0,w.each)(u,function(l){n(l.getData())&&l.setState(t,o)})},e.prototype.getStates=function(){var t=Xx(this.chart),n=[];return(0,w.each)(t,function(o){var u=o.getData(),l=o.getStates();(0,w.each)(l,function(c){n.push({data:u,state:c,geometry:o.geometry,element:o})})}),n},e.CONVERSATION_FIELD=yg,e.PERCENT_FIELD=s0,e.TOTAL_PERCENT_FIELD=z_,e}(Ma),EY="liquid";function JD(a){return[{percent:a,type:EY}]}function SY(a){var e=a.chart,t=a.options,n=t.percent,o=t.liquidStyle,u=t.radius,l=t.outline,c=t.wave,f=t.shape,h=t.animation;e.scale({percent:{min:0,max:1}}),e.data(JD(n));var v=t.color||e.getTheme().defaultColor,p=yn({},a,{options:{xField:"type",yField:"percent",widthRatio:u,interval:{color:v,style:o,shape:"liquid-fill-gauge"}}}),g=Qf(p).ext,E=g.geometry,D=e.getTheme().background,G={radius:u,outline:l,wave:c,shape:f,background:D,animation:h};return E.customInfo(G),e.legend(!1),e.axis(!1),e.tooltip(!1),a}function qD(a,e){var t=a.chart,n=a.options,o=n.statistic,u=n.percent,l=n.meta;t.getController("annotation").clear(!0);var c=(0,w.get)(l,["percent","formatter"])||function(h){return(h*100).toFixed(2)+"%"},f=o.content;return f&&(f=yn({},f,{content:(0,w.isNil)(f.content)?c(u):f.content})),GE(t,{statistic:(0,Z.__assign)((0,Z.__assign)({},o),{content:f}),plotType:"liquid"},{percent:u}),e&&t.render(!0),a}function wY(a){return oa(Oo,mv("liquidStyle"),SY,qD,Tu({}),Zo,Rs)(a)}var _Y={radius:.9,statistic:{title:!1,content:{style:{opacity:.75,fontSize:"30px",lineHeight:"30px",textAlign:"center"}}},outline:{border:2,distance:0},wave:{count:3,length:192},shape:"circle"},tP=5e3;function eP(a,e,t){return a+(e-a)*t}function AY(a){var e=(0,Z.__assign)({opacity:1},a.style);return a.color&&!e.fill&&(e.fill=a.color),e}function CY(a){var e={fill:"#fff",fillOpacity:0,lineWidth:4},t=(0,w.mix)({},e,a.style);return a.color&&!t.stroke&&(t.stroke=a.color),(0,w.isNumber)(a.opacity)&&(t.opacity=t.strokeOpacity=a.opacity),t}function TY(a,e,t,n){return e===0?[[a+1/2*t/Math.PI/2,n/2],[a+1/2*t/Math.PI,n],[a+t/4,n]]:e===1?[[a+1/2*t/Math.PI/2*(Math.PI-2),n],[a+1/2*t/Math.PI/2*(Math.PI-1),n/2],[a+t/4,0]]:e===2?[[a+1/2*t/Math.PI/2,-n/2],[a+1/2*t/Math.PI,-n],[a+t/4,-n]]:[[a+1/2*t/Math.PI/2*(Math.PI-2),-n],[a+1/2*t/Math.PI/2*(Math.PI-1),-n/2],[a+t/4,0]]}function MY(a,e,t,n,o,u,l){for(var c=Math.ceil(2*a/t*4)*4,f=[],h=n;h<-Math.PI*2;)h+=Math.PI*2;for(;h>0;)h-=Math.PI*2;h=h/Math.PI/2*t;var v=u-a+h-a*2;f.push(["M",v,e]);for(var p=0,g=0;g<c;++g){var E=g%4,D=TY(g*t/4,E,t,o);f.push(["C",D[0][0]+v,-D[0][1]+e,D[1][0]+v,-D[1][1]+e,D[2][0]+v,-D[2][1]+e]),g===c-1&&(p=D[2][0])}return f.push(["L",p+v,l+a]),f.push(["L",v,l+a]),f.push(["Z"]),f}function IY(a,e,t,n,o,u,l,c,f,h){for(var v=o.fill,p=o.opacity,g=l.getBBox(),E=g.maxX-g.minX,D=g.maxY-g.minY,G=0;G<n;G++){var H=n<=1?0:G/(n-1),X=u.addShape("path",{name:"waterwave-path",attrs:{path:MY(c,g.minY+D*t,f,0,E/32,a,e),fill:v,opacity:eP(.2,.9,H)*p}});try{if(h===!1)return;var rt=__([["t",f,0]]);X.stopAnimate(),X.animate({matrix:rt},{duration:eP(.5*tP,tP,H),repeat:!0})}catch(ht){console.warn("off-screen group animate error!")}}}function OY(a,e,t,n){var o=t*2/3,u=Math.max(o,n),l=o/2,c=a,f=l+e-u/2,h=Math.asin(l/((u-l)*.85)),v=Math.sin(h)*l,p=Math.cos(h)*l,g=c-p,E=f+v,D=a,G=f+l/Math.sin(h);return`
      M `+g+" "+E+`
      A `+l+" "+l+" 0 1 1 "+(g+p*2)+" "+E+`
      Q `+D+" "+G+" "+a+" "+(e+u/2)+`
      Q `+D+" "+G+" "+g+" "+E+`
      Z 
    `}function DY(a,e,t,n){var o=t/2,u=n/2;return`
      M `+a+" "+(e-u)+` 
      a `+o+" "+u+" 0 1 0 0 "+u*2+`
      a `+o+" "+u+" 0 1 0 0 "+-u*2+`
      Z
    `}function PY(a,e,t,n){var o=n/2,u=t/2;return`
      M `+a+" "+(e-o)+`
      L `+(a+u)+" "+e+`
      L `+a+" "+(e+o)+`
      L `+(a-u)+" "+e+`
      Z
    `}function LY(a,e,t,n){var o=n/2,u=t/2;return`
      M `+a+" "+(e-o)+`
      L `+(a+u)+" "+(e+o)+`
      L `+(a-u)+" "+(e+o)+`
      Z
    `}function RY(a,e,t,n){var o=.618,u=n/2,l=t/2*o;return`
      M `+(a-l)+" "+(e-u)+`
      L `+(a+l)+" "+(e-u)+`
      L `+(a+l)+" "+(e+u)+`
      L `+(a-l)+" "+(e+u)+`
      Z
    `}var rP={pin:OY,circle:DY,diamond:PY,triangle:LY,rect:RY};No("interval","liquid-fill-gauge",{draw:function(a,e){var t=.5,n=.5,o=a.customInfo,u=o,l=u.radius,c=u.shape,f=u.background,h=u.animation,v=o.outline,p=o.wave,g=v.border,E=v.distance,D=p.count,G=p.length,H=(0,w.reduce)(a.points,function(Xe,pr){return Math.min(Xe,pr.x)},1/0),X=this.parsePoint({x:t,y:n}),rt=this.parsePoint({x:H,y:n}),ht=X.x-rt.x,mt=Math.min(ht,rt.y*l),Dt=AY(a),kt=CY((0,w.mix)({},a,v)),Vt=mt-g/2,te=typeof c=="function"?c:rP[c]||rP.circle,le=te(X.x,X.y,Vt*2,Vt*2),pe=e.addGroup({name:"waves"}),De=pe.setClip({type:"path",attrs:{path:le}});return IY(X.x,X.y,1-a.points[1].y,D,Dt,pe,De,mt*2,G,h),e.addShape("path",{name:"distance",attrs:{path:le,fill:"transparent",lineWidth:g+E*2,stroke:f==="transparent"?"#fff":f}}),e.addShape("path",{name:"wrap",attrs:(0,w.mix)(kt,{path:le,fill:"transparent",lineWidth:g})}),e}});var FY=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type="liquid",t}return e.getDefaultOptions=function(){return _Y},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.changeData=function(t){this.chart.emit(pi.BEFORE_CHANGE_DATA,nu.fromData(this.chart,pi.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:t}),this.chart.data(JD(t)),qD({chart:this.chart,options:this.options},!0),this.chart.emit(pi.AFTER_CHANGE_DATA,nu.fromData(this.chart,pi.AFTER_CHANGE_DATA,null))},e.prototype.getSchemaAdaptor=function(){return wY},e}(Ma);function nP(a){var e=a.data,t=a.xField,n=a.measureField,o=a.rangeField,u=a.targetField,l=a.layout,c=[],f=[];e.forEach(function(p,g){var E;p[o].sort(function(D,G){return D-G}),p[o].forEach(function(D,G){var H,X=G===0?D:p[o][G]-p[o][G-1];c.push((H={rKey:o+"_"+G},H[t]=t?p[t]:String(g),H[o]=X,H))}),p[n].forEach(function(D,G){var H;c.push((H={mKey:p[n].length>1?n+"_"+G:""+n},H[t]=t?p[t]:String(g),H[n]=D,H))}),c.push((E={tKey:""+u},E[t]=t?p[t]:String(g),E[u]=p[u],E)),f.push(p[o],p[n],p[u])});var h=Math.min.apply(Math,f.flat(1/0)),v=Math.max.apply(Math,f.flat(1/0));return h=h>0?0:h,l==="vertical"&&c.reverse(),{min:h,max:v,ds:c}}function NY(a){var e=a.chart,t=a.options,n=t.bulletStyle,o=t.targetField,u=t.rangeField,l=t.measureField,c=t.xField,f=t.color,h=t.layout,v=t.size,p=t.label,g=nP(t),E=g.min,D=g.max,G=g.ds;e.data(G);var H=yn({},a,{options:{xField:c,yField:u,seriesField:"rKey",isStack:!0,label:(0,w.get)(p,"range"),interval:{color:(0,w.get)(f,"range"),style:(0,w.get)(n,"range"),size:(0,w.get)(v,"range")}}});Qf(H),e.geometries[0].tooltip(!1);var X=yn({},a,{options:{xField:c,yField:l,seriesField:"mKey",isStack:!0,label:(0,w.get)(p,"measure"),interval:{color:(0,w.get)(f,"measure"),style:(0,w.get)(n,"measure"),size:(0,w.get)(v,"measure")}}});Qf(X);var rt=yn({},a,{options:{xField:c,yField:o,seriesField:"tKey",label:(0,w.get)(p,"target"),point:{color:(0,w.get)(f,"target"),style:(0,w.get)(n,"target"),size:(0,w.isFunction)((0,w.get)(v,"target"))?function(ht){return(0,w.get)(v,"target")(ht)/2}:(0,w.get)(v,"target")/2,shape:h==="horizontal"?"line":"hyphen"}}});return xv(rt),h==="horizontal"&&e.coordinate().transpose(),(0,Z.__assign)((0,Z.__assign)({},a),{ext:{data:{min:E,max:D}}})}function iP(a){var e,t,n=a.options,o=a.ext,u=n.xAxis,l=n.yAxis,c=n.targetField,f=n.rangeField,h=n.measureField,v=n.xField,p=o.data;return oa(Tu((e={},e[v]=u,e[h]=l,e),(t={},t[h]={min:p==null?void 0:p.min,max:p==null?void 0:p.max,sync:!0},t[c]={sync:""+h},t[f]={sync:""+h},t)))(a)}function kY(a){var e=a.chart,t=a.options,n=t.xAxis,o=t.yAxis,u=t.xField,l=t.measureField,c=t.rangeField,f=t.targetField;return e.axis(""+c,!1),e.axis(""+f,!1),n===!1?e.axis(""+u,!1):e.axis(""+u,n),o===!1?e.axis(""+l,!1):e.axis(""+l,o),a}function BY(a){var e=a.chart,t=a.options,n=t.legend;return e.removeInteraction("legend-filter"),e.legend(n),e.legend("rKey",!1),e.legend("mKey",!1),e.legend("tKey",!1),a}function GY(a){var e=a.chart,t=a.options,n=t.label,o=t.measureField,u=t.targetField,l=t.rangeField,c=e.geometries,f=c[0],h=c[1],v=c[2];return(0,w.get)(n,"range")?f.label(""+l,(0,Z.__assign)({layout:[{type:"limit-in-plot"}]},Jc(n.range))):f.label(!1),(0,w.get)(n,"measure")?h.label(""+o,(0,Z.__assign)({layout:[{type:"limit-in-plot"}]},Jc(n.measure))):h.label(!1),(0,w.get)(n,"target")?v.label(""+u,(0,Z.__assign)({layout:[{type:"limit-in-plot"}]},Jc(n.target))):v.label(!1),a}function zY(a){oa(NY,iP,kY,BY,Oo,GY,Wl,Rs,Zo)(a)}var UY=yn({},Ma.getDefaultOptions(),{layout:"horizontal",size:{range:30,measure:20,target:20},xAxis:{tickLine:!1,line:null},bulletStyle:{range:{fillOpacity:.5}},label:{measure:{position:"right"}},tooltip:{showMarkers:!1}}),jY=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type="bullet",t}return e.getDefaultOptions=function(){return UY},e.prototype.changeData=function(t){this.updateOption({data:t});var n=nP(this.options),o=n.min,u=n.max,l=n.ds;iP({options:this.options,ext:{data:{min:o,max:u}},chart:this.chart}),this.chart.changeData(l)},e.prototype.getSchemaAdaptor=function(){return zY},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e}(Ma),aP="nodeIndex",oP="childNodeCount",j_="nodeAncestor",W_="Invalid field: it must be a string!";function V_(a,e){var t=a.field,n=a.fields;if((0,w.isString)(t))return t;if((0,w.isArray)(t))return console.warn(W_),t[0];if(console.warn(W_+" will try to get fields instead."),(0,w.isString)(n))return n;if((0,w.isArray)(n)&&n.length)return n[0];if(e)return e;throw new TypeError(W_)}function H_(a){var e=[];if(a&&a.each){var t,n;a.each(function(o){var u,l;o.parent!==t?(t=o.parent,n=0):n+=1;var c=(0,w.filter)((((u=o.ancestors)===null||u===void 0?void 0:u.call(o))||[]).map(function(f){return e.find(function(h){return h.name===f.name})||f}),function(f){var h=f.depth;return h>0&&h<o.depth});o[j_]=c,o[oP]=((l=o.children)===null||l===void 0?void 0:l.length)||0,o[aP]=n,e.push(o)})}else a&&a.eachNode&&a.eachNode(function(o){e.push(o)});return e}var Y_="ancestor-node",sP="value",ab="path",WY=[ab,aP,j_,oP,"name","depth","height"],VY=yn({},Ma.getDefaultOptions(),{innerRadius:0,radius:.85,hierarchyConfig:{field:"value"},tooltip:{shared:!0,showMarkers:!1,offset:20,showTitle:!1},legend:!1,sunburstStyle:{lineWidth:.5,stroke:"#FFF"},drilldown:{enabled:!0}}),uP=4,HY=0,lP=5,cP="drilldown-bread-crumb",YY={position:"top-left",dividerText:"/",textStyle:{fontSize:12,fill:"rgba(0, 0, 0, 0.65)",cursor:"pointer"},activeTextStyle:{fill:"#87B5FF"}},ob="hierarchy-data-transform-params",XY=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.name="drill-down",t.historyCache=[],t.breadCrumbGroup=null,t.breadCrumbCfg=YY,t}return e.prototype.click=function(){var t=(0,w.get)(this.context,["event","data","data"]);if(!t)return!1;this.drill(t),this.drawBreadCrumb()},e.prototype.resetPosition=function(){if(!!this.breadCrumbGroup){var t=this.context.view.getCoordinate(),n=this.breadCrumbGroup,o=n.getBBox(),u=this.getButtonCfg().position,l={x:t.start.x,y:t.end.y-(o.height+lP*2)};t.isPolar&&(l={x:0,y:0}),u==="bottom-left"&&(l={x:t.start.x,y:t.start.y});var c=Sd.transform(null,[["t",l.x+HY,l.y+o.height+lP]]);n.setMatrix(c)}},e.prototype.back=function(){(0,w.size)(this.historyCache)&&this.backTo(this.historyCache.slice(0,-1))},e.prototype.reset=function(){this.historyCache[0]&&this.backTo(this.historyCache.slice(0,1)),this.historyCache=[],this.hideCrumbGroup()},e.prototype.drill=function(t){var n=this.context.view,o=(0,w.get)(n,["interactions","drill-down","cfg","transformData"],function(h){return h}),u=o((0,Z.__assign)({data:t.data},t[ob]));n.changeData(u);for(var l=[],c=t;c;){var f=c.data;l.unshift({id:f.name+"_"+c.height+"_"+c.depth,name:f.name,children:o((0,Z.__assign)({data:f},t[ob]))}),c=c.parent}this.historyCache=(this.historyCache||[]).slice(0,-1).concat(l)},e.prototype.backTo=function(t){if(!(!t||t.length<=0)){var n=this.context.view,o=(0,w.last)(t).children;n.changeData(o),t.length>1?(this.historyCache=t,this.drawBreadCrumb()):(this.historyCache=[],this.hideCrumbGroup())}},e.prototype.getButtonCfg=function(){var t=this.context.view,n=(0,w.get)(t,["interactions","drill-down","cfg","drillDownConfig"]);return yn(this.breadCrumbCfg,n==null?void 0:n.breadCrumb,this.cfg)},e.prototype.drawBreadCrumb=function(){this.drawBreadCrumbGroup(),this.resetPosition(),this.breadCrumbGroup.show()},e.prototype.drawBreadCrumbGroup=function(){var t=this,n=this.getButtonCfg(),o=this.historyCache;this.breadCrumbGroup?this.breadCrumbGroup.clear():this.breadCrumbGroup=this.context.view.foregroundGroup.addGroup({name:cP});var u=0;o.forEach(function(l,c){var f=t.breadCrumbGroup.addShape({type:"text",id:l.id,name:cP+"_"+l.name+"_text",attrs:(0,Z.__assign)((0,Z.__assign)({text:c===0&&!(0,w.isNil)(n.rootText)?n.rootText:l.name},n.textStyle),{x:u,y:0})}),h=f.getBBox();if(u+=h.width+uP,f.on("click",function(g){var E,D=g.target.get("id");if(D!==((E=(0,w.last)(o))===null||E===void 0?void 0:E.id)){var G=o.slice(0,o.findIndex(function(H){return H.id===D})+1);t.backTo(G)}}),f.on("mouseenter",function(g){var E,D=g.target.get("id");D!==((E=(0,w.last)(o))===null||E===void 0?void 0:E.id)?f.attr(n.activeTextStyle):f.attr({cursor:"default"})}),f.on("mouseleave",function(){f.attr(n.textStyle)}),c<o.length-1){var v=t.breadCrumbGroup.addShape({type:"text",name:n.name+"_"+l.name+"_divider",attrs:(0,Z.__assign)((0,Z.__assign)({text:n.dividerText},n.textStyle),{x:u,y:0})}),p=v.getBBox();u+=p.width+uP}})},e.prototype.hideCrumbGroup=function(){this.breadCrumbGroup&&this.breadCrumbGroup.hide()},e.prototype.destroy=function(){this.breadCrumbGroup&&this.breadCrumbGroup.remove(),a.prototype.destroy.call(this)},e}(Ws);function fP(a){a.x0=Math.round(a.x0),a.y0=Math.round(a.y0),a.x1=Math.round(a.x1),a.y1=Math.round(a.y1)}function sb(a,e,t,n,o){for(var u=a.children,l,c=-1,f=u.length,h=a.value&&(n-e)/a.value;++c<f;)l=u[c],l.y0=t,l.y1=o,l.x0=e,l.x1=e+=l.value*h}function hP(){var a=1,e=1,t=0,n=!1;function o(l){var c=l.height+1;return l.x0=l.y0=t,l.x1=a,l.y1=e/c,l.eachBefore(u(e,c)),n&&l.eachBefore(fP),l}function u(l,c){return function(f){f.children&&sb(f,f.x0,l*(f.depth+1)/c,f.x1,l*(f.depth+2)/c);var h=f.x0,v=f.y0,p=f.x1-t,g=f.y1-t;p<h&&(h=p=(h+p)/2),g<v&&(v=g=(v+g)/2),f.x0=h,f.y0=v,f.x1=p,f.y1=g}}return o.round=function(l){return arguments.length?(n=!!l,o):n},o.size=function(l){return arguments.length?(a=+l[0],e=+l[1],o):[a,e]},o.padding=function(l){return arguments.length?(t=+l,o):t},o}function $Y(a){var e=0,t=a.children,n=t&&t.length;if(!n)e=1;else for(;--n>=0;)e+=t[n].value;a.value=e}function KY(){return this.eachAfter($Y)}function ZY(a,e){let t=-1;for(const n of this)a.call(e,n,++t,this);return this}function QY(a,e){for(var t=this,n=[t],o,u,l=-1;t=n.pop();)if(a.call(e,t,++l,this),o=t.children)for(u=o.length-1;u>=0;--u)n.push(o[u]);return this}function JY(a,e){for(var t=this,n=[t],o=[],u,l,c,f=-1;t=n.pop();)if(o.push(t),u=t.children)for(l=0,c=u.length;l<c;++l)n.push(u[l]);for(;t=o.pop();)a.call(e,t,++f,this);return this}function qY(a,e){let t=-1;for(const n of this)if(a.call(e,n,++t,this))return n}function tX(a){return this.eachAfter(function(e){for(var t=+a(e.data)||0,n=e.children,o=n&&n.length;--o>=0;)t+=n[o].value;e.value=t})}function eX(a){return this.eachBefore(function(e){e.children&&e.children.sort(a)})}function rX(a){for(var e=this,t=nX(e,a),n=[e];e!==t;)e=e.parent,n.push(e);for(var o=n.length;a!==t;)n.splice(o,0,a),a=a.parent;return n}function nX(a,e){if(a===e)return a;var t=a.ancestors(),n=e.ancestors(),o=null;for(a=t.pop(),e=n.pop();a===e;)o=a,a=t.pop(),e=n.pop();return o}function iX(){for(var a=this,e=[a];a=a.parent;)e.push(a);return e}function aX(){return Array.from(this)}function oX(){var a=[];return this.eachBefore(function(e){e.children||a.push(e)}),a}function sX(){var a=this,e=[];return a.each(function(t){t!==a&&e.push({source:t.parent,target:t})}),e}function*uX(){var a=this,e,t=[a],n,o,u;do for(e=t.reverse(),t=[];a=e.pop();)if(yield a,n=a.children)for(o=0,u=n.length;o<u;++o)t.push(n[o]);while(t.length)}function Ym(a,e){a instanceof Map?(a=[void 0,a],e===void 0&&(e=fX)):e===void 0&&(e=cX);for(var t=new Xm(a),n,o=[t],u,l,c,f;n=o.pop();)if((l=e(n.data))&&(f=(l=Array.from(l)).length))for(n.children=l,c=f-1;c>=0;--c)o.push(u=l[c]=new Xm(l[c])),u.parent=n,u.depth=n.depth+1;return t.eachBefore(dP)}function lX(){return Ym(this).eachBefore(hX)}function cX(a){return a.children}function fX(a){return Array.isArray(a)?a[1]:null}function hX(a){a.data.value!==void 0&&(a.value=a.data.value),a.data=a.data.data}function dP(a){var e=0;do a.height=e;while((a=a.parent)&&a.height<++e)}function Xm(a){this.data=a,this.depth=this.height=0,this.parent=null}Xm.prototype=Ym.prototype={constructor:Xm,count:KY,each:ZY,eachAfter:JY,eachBefore:QY,find:qY,sum:tX,sort:eX,path:rX,ancestors:iX,descendants:aX,leaves:oX,links:sX,copy:lX,[Symbol.iterator]:uX};var dX={field:"value",size:[1,1],round:!1,padding:0,sort:function(a,e){return e.value-a.value},as:["x","y"],ignoreParentValue:!0};function vX(a,e){e=(0,w.assign)({},dX,e);var t=e.as;if(!(0,w.isArray)(t)||t.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var n;try{n=V_(e)}catch(f){console.warn(f)}var o=function(f){return hP().size(e.size).round(e.round).padding(e.padding)(Ym(f).sum(function(h){return(0,w.size)(h.children)?e.ignoreParentValue?0:h[n]-(0,w.reduce)(h.children,function(v,p){return v+p[n]},0):h[n]}).sort(e.sort))},u=o(a),l=t[0],c=t[1];return u.each(function(f){var h,v;f[l]=[f.x0,f.x1,f.x1,f.x0],f[c]=[f.y1,f.y1,f.y0,f.y0],f.name=f.name||((h=f.data)===null||h===void 0?void 0:h.name)||((v=f.data)===null||v===void 0?void 0:v.label),f.data.name=f.name,["x0","x1","y0","y1"].forEach(function(p){t.indexOf(p)===-1&&delete f[p]})}),H_(u)}function pX(a,e){return a.parent===e.parent?1:2}function gX(a){return a.reduce(yX,0)/a.length}function yX(a,e){return a+e.x}function mX(a){return 1+a.reduce(xX,0)}function xX(a,e){return Math.max(a,e.y)}function bX(a){for(var e;e=a.children;)a=e[0];return a}function EX(a){for(var e;e=a.children;)a=e[e.length-1];return a}function SX(){var a=pX,e=1,t=1,n=!1;function o(u){var l,c=0;u.eachAfter(function(g){var E=g.children;E?(g.x=gX(E),g.y=mX(E)):(g.x=l?c+=a(g,l):0,g.y=0,l=g)});var f=bX(u),h=EX(u),v=f.x-a(f,h)/2,p=h.x+a(h,f)/2;return u.eachAfter(n?function(g){g.x=(g.x-u.x)*e,g.y=(u.y-g.y)*t}:function(g){g.x=(g.x-v)/(p-v)*e,g.y=(1-(u.y?g.y/u.y:1))*t})}return o.separation=function(u){return arguments.length?(a=u,o):a},o.size=function(u){return arguments.length?(n=!1,e=+u[0],t=+u[1],o):n?null:[e,t]},o.nodeSize=function(u){return arguments.length?(n=!0,e=+u[0],t=+u[1],o):n?[e,t]:null},o}function wX(a){return typeof a=="object"&&"length"in a?a:Array.from(a)}function _X(a){for(var e=a.length,t,n;e;)n=Math.random()*e--|0,t=a[e],a[e]=a[n],a[n]=t;return a}function vP(a){for(var e=0,t=(a=_X(Array.from(a))).length,n=[],o,u;e<t;)o=a[e],u&&pP(u,o)?++e:(u=CX(n=AX(n,o)),e=0);return u}function AX(a,e){var t,n;if(X_(e,a))return[e];for(t=0;t<a.length;++t)if(oS(e,a[t])&&X_(ub(a[t],e),a))return[a[t],e];for(t=0;t<a.length-1;++t)for(n=t+1;n<a.length;++n)if(oS(ub(a[t],a[n]),e)&&oS(ub(a[t],e),a[n])&&oS(ub(a[n],e),a[t])&&X_(gP(a[t],a[n],e),a))return[a[t],a[n],e];throw new Error}function oS(a,e){var t=a.r-e.r,n=e.x-a.x,o=e.y-a.y;return t<0||t*t<n*n+o*o}function pP(a,e){var t=a.r-e.r+Math.max(a.r,e.r,1)*1e-9,n=e.x-a.x,o=e.y-a.y;return t>0&&t*t>n*n+o*o}function X_(a,e){for(var t=0;t<e.length;++t)if(!pP(a,e[t]))return!1;return!0}function CX(a){switch(a.length){case 1:return TX(a[0]);case 2:return ub(a[0],a[1]);case 3:return gP(a[0],a[1],a[2])}}function TX(a){return{x:a.x,y:a.y,r:a.r}}function ub(a,e){var t=a.x,n=a.y,o=a.r,u=e.x,l=e.y,c=e.r,f=u-t,h=l-n,v=c-o,p=Math.sqrt(f*f+h*h);return{x:(t+u+f/p*v)/2,y:(n+l+h/p*v)/2,r:(p+o+c)/2}}function gP(a,e,t){var n=a.x,o=a.y,u=a.r,l=e.x,c=e.y,f=e.r,h=t.x,v=t.y,p=t.r,g=n-l,E=n-h,D=o-c,G=o-v,H=f-u,X=p-u,rt=n*n+o*o-u*u,ht=rt-l*l-c*c+f*f,mt=rt-h*h-v*v+p*p,Dt=E*D-g*G,kt=(D*mt-G*ht)/(Dt*2)-n,Vt=(G*H-D*X)/Dt,te=(E*ht-g*mt)/(Dt*2)-o,le=(g*X-E*H)/Dt,pe=Vt*Vt+le*le-1,De=2*(u+kt*Vt+te*le),Xe=kt*kt+te*te-u*u,pr=-(pe?(De+Math.sqrt(De*De-4*pe*Xe))/(2*pe):Xe/De);return{x:n+kt+Vt*pr,y:o+te+le*pr,r:pr}}function yP(a,e,t){var n=a.x-e.x,o,u,l=a.y-e.y,c,f,h=n*n+l*l;h?(u=e.r+t.r,u*=u,f=a.r+t.r,f*=f,u>f?(o=(h+f-u)/(2*h),c=Math.sqrt(Math.max(0,f/h-o*o)),t.x=a.x-o*n-c*l,t.y=a.y-o*l+c*n):(o=(h+u-f)/(2*h),c=Math.sqrt(Math.max(0,u/h-o*o)),t.x=e.x+o*n-c*l,t.y=e.y+o*l+c*n)):(t.x=e.x+t.r,t.y=e.y)}function mP(a,e){var t=a.r+e.r-1e-6,n=e.x-a.x,o=e.y-a.y;return t>0&&t*t>n*n+o*o}function xP(a){var e=a._,t=a.next._,n=e.r+t.r,o=(e.x*t.r+t.x*e.r)/n,u=(e.y*t.r+t.y*e.r)/n;return o*o+u*u}function sS(a){this._=a,this.next=null,this.previous=null}function bP(a){if(!(o=(a=wX(a)).length))return 0;var e,t,n,o,u,l,c,f,h,v,p;if(e=a[0],e.x=0,e.y=0,!(o>1))return e.r;if(t=a[1],e.x=-t.r,t.x=e.r,t.y=0,!(o>2))return e.r+t.r;yP(t,e,n=a[2]),e=new sS(e),t=new sS(t),n=new sS(n),e.next=n.previous=t,t.next=e.previous=n,n.next=t.previous=e;t:for(c=3;c<o;++c){yP(e._,t._,n=a[c]),n=new sS(n),f=t.next,h=e.previous,v=t._.r,p=e._.r;do if(v<=p){if(mP(f._,n._)){t=f,e.next=t,t.previous=e,--c;continue t}v+=f._.r,f=f.next}else{if(mP(h._,n._)){e=h,e.next=t,t.previous=e,--c;continue t}p+=h._.r,h=h.previous}while(f!==h.next);for(n.previous=e,n.next=t,e.next=t.previous=t=n,u=xP(e);(n=n.next)!==t;)(l=xP(n))<u&&(e=n,u=l);t=e.next}for(e=[t._],n=t;(n=n.next)!==t;)e.push(n._);for(n=vP(e),c=0;c<o;++c)e=a[c],e.x-=n.x,e.y-=n.y;return n.r}function MX(a){return bP(a),a}function IX(a){return a==null?null:uS(a)}function uS(a){if(typeof a!="function")throw new Error;return a}function hy(){return 0}function $m(a){return function(){return a}}function OX(a){return Math.sqrt(a.value)}function EP(){var a=null,e=1,t=1,n=hy;function o(u){return u.x=e/2,u.y=t/2,a?u.eachBefore(SP(a)).eachAfter($_(n,.5)).eachBefore(wP(1)):u.eachBefore(SP(OX)).eachAfter($_(hy,1)).eachAfter($_(n,u.r/Math.min(e,t))).eachBefore(wP(Math.min(e,t)/(2*u.r))),u}return o.radius=function(u){return arguments.length?(a=IX(u),o):a},o.size=function(u){return arguments.length?(e=+u[0],t=+u[1],o):[e,t]},o.padding=function(u){return arguments.length?(n=typeof u=="function"?u:$m(+u),o):n},o}function SP(a){return function(e){e.children||(e.r=Math.max(0,+a(e)||0))}}function $_(a,e){return function(t){if(n=t.children){var n,o,u=n.length,l=a(t)*e||0,c;if(l)for(o=0;o<u;++o)n[o].r+=l;if(c=bP(n),l)for(o=0;o<u;++o)n[o].r-=l;t.r=c+l}}}function wP(a){return function(e){var t=e.parent;e.r*=a,t&&(e.x=t.x+a*e.x,e.y=t.y+a*e.y)}}var DX={depth:-1},_P={};function PX(a){return a.id}function LX(a){return a.parentId}function RX(){var a=PX,e=LX;function t(n){var o=Array.from(n),u=o.length,l,c,f,h,v,p,g,E=new Map;for(c=0;c<u;++c)l=o[c],v=o[c]=new Xm(l),(p=a(l,c,n))!=null&&(p+="")&&(g=v.id=p,E.set(g,E.has(g)?_P:v)),(p=e(l,c,n))!=null&&(p+="")&&(v.parent=p);for(c=0;c<u;++c)if(v=o[c],p=v.parent){if(h=E.get(p),!h)throw new Error("missing: "+p);if(h===_P)throw new Error("ambiguous: "+p);h.children?h.children.push(v):h.children=[v],v.parent=h}else{if(f)throw new Error("multiple roots");f=v}if(!f)throw new Error("no root");if(f.parent=DX,f.eachBefore(function(D){D.depth=D.parent.depth+1,--u}).eachBefore(dP),f.parent=null,u>0)throw new Error("cycle");return f}return t.id=function(n){return arguments.length?(a=uS(n),t):a},t.parentId=function(n){return arguments.length?(e=uS(n),t):e},t}function FX(a,e){return a.parent===e.parent?1:2}function K_(a){var e=a.children;return e?e[0]:a.t}function Z_(a){var e=a.children;return e?e[e.length-1]:a.t}function NX(a,e,t){var n=t/(e.i-a.i);e.c-=n,e.s+=t,a.c+=n,e.z+=t,e.m+=t}function kX(a){for(var e=0,t=0,n=a.children,o=n.length,u;--o>=0;)u=n[o],u.z+=e,u.m+=e,e+=u.s+(t+=u.c)}function BX(a,e,t){return a.a.parent===e.parent?a.a:t}function lS(a,e){this._=a,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}lS.prototype=Object.create(Xm.prototype);function GX(a){for(var e=new lS(a,0),t,n=[e],o,u,l,c;t=n.pop();)if(u=t._.children)for(t.children=new Array(c=u.length),l=c-1;l>=0;--l)n.push(o=t.children[l]=new lS(u[l],l)),o.parent=t;return(e.parent=new lS(null,0)).children=[e],e}function zX(){var a=FX,e=1,t=1,n=null;function o(h){var v=GX(h);if(v.eachAfter(u),v.parent.m=-v.z,v.eachBefore(l),n)h.eachBefore(f);else{var p=h,g=h,E=h;h.eachBefore(function(rt){rt.x<p.x&&(p=rt),rt.x>g.x&&(g=rt),rt.depth>E.depth&&(E=rt)});var D=p===g?1:a(p,g)/2,G=D-p.x,H=e/(g.x+D+G),X=t/(E.depth||1);h.eachBefore(function(rt){rt.x=(rt.x+G)*H,rt.y=rt.depth*X})}return h}function u(h){var v=h.children,p=h.parent.children,g=h.i?p[h.i-1]:null;if(v){kX(h);var E=(v[0].z+v[v.length-1].z)/2;g?(h.z=g.z+a(h._,g._),h.m=h.z-E):h.z=E}else g&&(h.z=g.z+a(h._,g._));h.parent.A=c(h,g,h.parent.A||p[0])}function l(h){h._.x=h.z+h.parent.m,h.m+=h.parent.m}function c(h,v,p){if(v){for(var g=h,E=h,D=v,G=g.parent.children[0],H=g.m,X=E.m,rt=D.m,ht=G.m,mt;D=Z_(D),g=K_(g),D&&g;)G=K_(G),E=Z_(E),E.a=h,mt=D.z+rt-g.z-H+a(D._,g._),mt>0&&(NX(BX(D,h,p),h,mt),H+=mt,X+=mt),rt+=D.m,H+=g.m,ht+=G.m,X+=E.m;D&&!Z_(E)&&(E.t=D,E.m+=rt-X),g&&!K_(G)&&(G.t=g,G.m+=H-ht,p=h)}return p}function f(h){h.x*=e,h.y=h.depth*t}return o.separation=function(h){return arguments.length?(a=h,o):a},o.size=function(h){return arguments.length?(n=!1,e=+h[0],t=+h[1],o):n?null:[e,t]},o.nodeSize=function(h){return arguments.length?(n=!0,e=+h[0],t=+h[1],o):n?[e,t]:null},o}function cS(a,e,t,n,o){for(var u=a.children,l,c=-1,f=u.length,h=a.value&&(o-t)/a.value;++c<f;)l=u[c],l.x0=e,l.x1=n,l.y0=t,l.y1=t+=l.value*h}var AP=(1+Math.sqrt(5))/2;function CP(a,e,t,n,o,u){for(var l=[],c=e.children,f,h,v=0,p=0,g=c.length,E,D,G=e.value,H,X,rt,ht,mt,Dt,kt;v<g;){E=o-t,D=u-n;do H=c[p++].value;while(!H&&p<g);for(X=rt=H,Dt=Math.max(D/E,E/D)/(G*a),kt=H*H*Dt,mt=Math.max(rt/kt,kt/X);p<g;++p){if(H+=h=c[p].value,h<X&&(X=h),h>rt&&(rt=h),kt=H*H*Dt,ht=Math.max(rt/kt,kt/X),ht>mt){H-=h;break}mt=ht}l.push(f={value:H,dice:E<D,children:c.slice(v,p)}),f.dice?sb(f,t,n,o,G?n+=D*H/G:u):cS(f,t,n,G?t+=E*H/G:o,u),G-=H,v=p}return l}var TP=function a(e){function t(n,o,u,l,c){CP(e,n,o,u,l,c)}return t.ratio=function(n){return a((n=+n)>1?n:1)},t}(AP);function MP(){var a=TP,e=!1,t=1,n=1,o=[0],u=hy,l=hy,c=hy,f=hy,h=hy;function v(g){return g.x0=g.y0=0,g.x1=t,g.y1=n,g.eachBefore(p),o=[0],e&&g.eachBefore(fP),g}function p(g){var E=o[g.depth],D=g.x0+E,G=g.y0+E,H=g.x1-E,X=g.y1-E;H<D&&(D=H=(D+H)/2),X<G&&(G=X=(G+X)/2),g.x0=D,g.y0=G,g.x1=H,g.y1=X,g.children&&(E=o[g.depth+1]=u(g)/2,D+=h(g)-E,G+=l(g)-E,H-=c(g)-E,X-=f(g)-E,H<D&&(D=H=(D+H)/2),X<G&&(G=X=(G+X)/2),a(g,D,G,H,X))}return v.round=function(g){return arguments.length?(e=!!g,v):e},v.size=function(g){return arguments.length?(t=+g[0],n=+g[1],v):[t,n]},v.tile=function(g){return arguments.length?(a=uS(g),v):a},v.padding=function(g){return arguments.length?v.paddingInner(g).paddingOuter(g):v.paddingInner()},v.paddingInner=function(g){return arguments.length?(u=typeof g=="function"?g:$m(+g),v):u},v.paddingOuter=function(g){return arguments.length?v.paddingTop(g).paddingRight(g).paddingBottom(g).paddingLeft(g):v.paddingTop()},v.paddingTop=function(g){return arguments.length?(l=typeof g=="function"?g:$m(+g),v):l},v.paddingRight=function(g){return arguments.length?(c=typeof g=="function"?g:$m(+g),v):c},v.paddingBottom=function(g){return arguments.length?(f=typeof g=="function"?g:$m(+g),v):f},v.paddingLeft=function(g){return arguments.length?(h=typeof g=="function"?g:$m(+g),v):h},v}function UX(a,e,t,n,o){var u=a.children,l,c=u.length,f,h=new Array(c+1);for(h[0]=f=l=0;l<c;++l)h[l+1]=f+=u[l].value;v(0,c,a.value,e,t,n,o);function v(p,g,E,D,G,H,X){if(p>=g-1){var rt=u[p];rt.x0=D,rt.y0=G,rt.x1=H,rt.y1=X;return}for(var ht=h[p],mt=E/2+ht,Dt=p+1,kt=g-1;Dt<kt;){var Vt=Dt+kt>>>1;h[Vt]<mt?Dt=Vt+1:kt=Vt}mt-h[Dt-1]<h[Dt]-mt&&p+1<Dt&&--Dt;var te=h[Dt]-ht,le=E-te;if(H-D>X-G){var pe=E?(D*le+H*te)/E:H;v(p,Dt,te,D,G,pe,X),v(Dt,g,le,pe,G,H,X)}else{var De=E?(G*le+X*te)/E:X;v(p,Dt,te,D,G,H,De),v(Dt,g,le,D,De,H,X)}}}function jX(a,e,t,n,o){(a.depth&1?cS:sb)(a,e,t,n,o)}var WX=function a(e){function t(n,o,u,l,c){if((f=n._squarify)&&f.ratio===e)for(var f,h,v,p,g=-1,E,D=f.length,G=n.value;++g<D;){for(h=f[g],v=h.children,p=h.value=0,E=v.length;p<E;++p)h.value+=v[p].value;h.dice?sb(h,o,u,l,G?u+=(c-u)*h.value/G:c):cS(h,o,u,G?o+=(l-o)*h.value/G:l,c),G-=h.value}else n._squarify=f=CP(e,n,o,u,l,c),f.ratio=e}return t.ratio=function(n){return a((n=+n)>1?n:1)},t}(AP),VX={field:"value",tile:"treemapSquarify",size:[1,1],round:!1,ignoreParentValue:!0,padding:0,paddingInner:0,paddingOuter:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,as:["x","y"],sort:function(a,e){return e.value-a.value},ratio:.5*(1+Math.sqrt(5))};function HX(a,e){return a==="treemapSquarify"?B[a].ratio(e):B[a]}function IP(a,e){e=(0,w.assign)({},VX,e);var t=e.as;if(!(0,w.isArray)(t)||t.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var n;try{n=V_(e)}catch(h){console.warn(h)}var o=HX(e.tile,e.ratio),u=function(h){return MP().tile(o).size(e.size).round(e.round).padding(e.padding).paddingInner(e.paddingInner).paddingOuter(e.paddingOuter).paddingTop(e.paddingTop).paddingRight(e.paddingRight).paddingBottom(e.paddingBottom).paddingLeft(e.paddingLeft)(Ym(h).sum(function(v){return e.ignoreParentValue&&v.children?0:v[n]}).sort(e.sort))},l=u(a),c=t[0],f=t[1];return l.each(function(h){h[c]=[h.x0,h.x1,h.x1,h.x0],h[f]=[h.y1,h.y1,h.y0,h.y0],["x0","x1","y0","y1"].forEach(function(v){t.indexOf(v)===-1&&delete h[v]})}),H_(l)}function OP(a){var e=a.data,t=a.colorField,n=a.rawFields,o=a.hierarchyConfig,u=o===void 0?{}:o,l=u.activeDepth,c={partition:vX,treemap:IP},f=a.seriesField,h=a.type||"partition",v=c[h](e,(0,Z.__assign)((0,Z.__assign)({field:f||"value"},(0,w.omit)(u,["activeDepth"])),{type:"hierarchy."+h,as:["x","y"]})),p=[];return v.forEach(function(g){var E,D,G,H,X,rt;if(g.depth===0||l>0&&g.depth>l)return null;for(var ht=g.data.name,mt=(0,Z.__assign)({},g);mt.depth>1;)ht=((D=mt.parent.data)===null||D===void 0?void 0:D.name)+" / "+ht,mt=mt.parent;var Dt=(0,Z.__assign)((0,Z.__assign)((0,Z.__assign)({},Ko(g.data,(0,Z.__spreadArrays)(n||[],[u.field]))),(E={},E[ab]=ht,E[Y_]=mt.data.name,E)),g);f&&(Dt[f]=g.data[f]||((H=(G=g.parent)===null||G===void 0?void 0:G.data)===null||H===void 0?void 0:H[f])),t&&(Dt[t]=g.data[t]||((rt=(X=g.parent)===null||X===void 0?void 0:X.data)===null||rt===void 0?void 0:rt[t])),Dt.ext=u,Dt[ob]={hierarchyConfig:u,colorField:t,rawFields:n},p.push(Dt)}),p}function YX(a){var e=a.chart,t=a.options,n=t.color,o=t.colorField,u=o===void 0?Y_:o,l=t.sunburstStyle,c=t.rawFields,f=c===void 0?[]:c,h=OP(t);e.data(h);var v;return l&&(v=function(p){return yn({},{fillOpacity:Math.pow(.85,p.depth)},(0,w.isFunction)(l)?l(p):l)}),YE(yn({},a,{options:{xField:"x",yField:"y",seriesField:u,rawFields:(0,w.uniq)((0,Z.__spreadArrays)(WY,f)),polygon:{color:n,style:v}}})),a}function XX(a){var e=a.chart;return e.axis(!1),a}function $X(a){var e=a.chart,t=a.options,n=t.label,o=Zf(e,"polygon");if(!n)o.label(!1);else{var u=n.fields,l=u===void 0?["name"]:u,c=n.callback,f=(0,Z.__rest)(n,["fields","callback"]);o.label({fields:l,callback:c,cfg:Jc(f)})}return a}function KX(a){var e=a.chart,t=a.options,n=t.innerRadius,o=t.radius,u=t.reflect,l=e.coordinate({type:"polar",cfg:{innerRadius:n,radius:o}});return u&&l.reflect(u),a}function ZX(a){var e,t=a.options,n=t.hierarchyConfig,o=t.meta;return oa(Tu({},(e={},e[sP]=(0,w.get)(o,(0,w.get)(n,["field"],"value")),e)))(a)}function QX(a){var e=a.chart,t=a.options,n=t.tooltip;if(n===!1)e.tooltip(!1);else{var o=n;(0,w.get)(n,"fields")||(o=yn({},{customItems:function(u){return u.map(function(l){var c=(0,w.get)(e.getOptions(),"scales"),f=(0,w.get)(c,[ab,"formatter"],function(v){return v}),h=(0,w.get)(c,[sP,"formatter"],function(v){return v});return(0,Z.__assign)((0,Z.__assign)({},l),{name:f(l.data[ab]),value:h(l.data.value)})})}},o)),e.tooltip(o)}return a}function JX(a){var e=a.drilldown,t=a.interactions,n=t===void 0?[]:t;return e!=null&&e.enabled?yn({},a,{interactions:(0,Z.__spreadArrays)(n,[{type:"drill-down",cfg:{drillDownConfig:e,transformData:OP}}])}):a}function qX(a){var e=a.chart,t=a.options,n=t.drilldown;return Rs({chart:e,options:JX(t)}),n!=null&&n.enabled&&(e.appendPadding=zE(e.appendPadding,(0,w.get)(n,["breadCrumb","position"]))),a}function t$(a){return oa(Oo,mv("sunburstStyle"),YX,XX,ZX,iy,KX,QX,$X,qX,Zo,Mu())(a)}function DP(a){var e=(0,w.get)(a,["event","data","data"],{});return(0,w.isArray)(e.children)&&e.children.length>0}function PP(a){var e=a.view.getCoordinate(),t=e.innerRadius;if(t){var n=a.event,o=n.x,u=n.y,l=e.center,c=l.x,f=l.y,h=e.getRadius()*t,v=Math.sqrt(Math.pow(c-o,2)+Math.pow(f-u,2));return v<h}return!1}na("drill-down-action",XY),Ta("drill-down",{showEnable:[{trigger:"element:mouseenter",action:"cursor:pointer",isEnable:DP},{trigger:"element:mouseleave",action:"cursor:default"},{trigger:"element:mouseleave",action:"cursor:pointer",isEnable:PP}],start:[{trigger:"element:click",isEnable:DP,action:["drill-down-action:click"]},{trigger:"afterchangesize",action:["drill-down-action:resetPosition"]},{trigger:"click",isEnable:PP,action:["drill-down-action:back"]}]});var e$=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type="sunburst",t}return e.getDefaultOptions=function(){return VY},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return t$},e.SUNBURST_ANCESTOR_FIELD=Y_,e.SUNBURST_PATH_FIELD=ab,e.NODE_ANCESTORS_FIELD=j_,e}(Ma),fS,hS="range",LP="type",l0="percent",r$="#f0f0f0",RP="indicator-view",FP="range-view",n$={percent:0,range:{ticks:[]},innerRadius:.9,radius:.95,startAngle:-7/6*Math.PI,endAngle:1/6*Math.PI,syncViewPadding:!0,axis:{line:null,label:{offset:-24,style:{textAlign:"center",textBaseline:"middle"}},subTickLine:{length:-8},tickLine:{length:-12},grid:null},indicator:{pointer:{style:{lineWidth:5,lineCap:"round"}},pin:{style:{r:9.75,lineWidth:4.5,fill:"#fff"}}},statistic:{title:!1},meta:(fS={},fS[hS]={sync:"v"},fS[l0]={sync:"v",tickCount:5,tickInterval:.2},fS),animation:!1};function i$(a,e){return a.map(function(t,n){var o;return o={},o[hS]=t-(a[n-1]||0),o[LP]=""+n,o[l0]=e,o}).filter(function(t){return!!t[hS]})}function NP(a){var e;return[(e={},e[l0]=(0,w.clamp)(a,0,1),e)]}function kP(a,e){var t=(0,w.get)(e,["ticks"],[]),n=(0,w.size)(t)?t:[0,(0,w.clamp)(a,0,1),1];return i$(n,a)}function a$(a){var e=a.chart,t=a.options,n=t.percent,o=t.range,u=t.radius,l=t.innerRadius,c=t.startAngle,f=t.endAngle,h=t.axis,v=t.indicator,p=t.gaugeStyle,g=t.type,E=t.meter,D=o.color,G=o.width;if(v){var H=NP(n),X=e.createView({id:RP});X.data(H),X.point().position(l0+"*1").shape(v.shape||"gauge-indicator").customInfo({defaultColor:e.getTheme().defaultColor,indicator:v}),X.coordinate("polar",{startAngle:c,endAngle:f,radius:l*u}),X.axis(l0,h),X.scale(l0,Ko(h,Xd))}var rt=kP(n,t.range),ht=e.createView({id:FP});ht.data(rt);var mt=(0,w.isString)(D)?[D,r$]:D,Dt=Qf({chart:ht,options:{xField:"1",yField:hS,seriesField:LP,rawFields:[l0],isStack:!0,interval:{color:mt,style:p,shape:g==="meter"?"meter-gauge":null},args:{zIndexReversed:!0,sortZIndex:!0},minColumnWidth:G,maxColumnWidth:G}}).ext,kt=Dt.geometry;return kt.customInfo({meter:E}),ht.coordinate("polar",{innerRadius:l,radius:u,startAngle:c,endAngle:f}).transpose(),a}function o$(a){var e;return oa(Tu((e={range:{min:0,max:1,maxLimit:1,minLimit:0}},e[l0]={},e)))(a)}function BP(a,e){var t=a.chart,n=a.options,o=n.statistic,u=n.percent;if(t.getController("annotation").clear(!0),o){var l=o.content,c=void 0;l&&(c=yn({},{content:(u*100).toFixed(2)+"%",style:{opacity:.75,fontSize:"30px",lineHeight:1,textAlign:"center",color:"rgba(44,53,66,0.85)"}},l)),gU(t,{statistic:(0,Z.__assign)((0,Z.__assign)({},o),{content:c})},{percent:u})}return e&&t.render(!0),a}function s$(a){var e=a.chart;return e.legend(!1),e.tooltip(!1),a}function GP(a){return oa(Oo,Zo,a$,o$,BP,Rs,Mu(),s$)(a)}No("point","gauge-indicator",{draw:function(a,e){var t=a.customInfo,n=t.indicator,o=t.defaultColor,u=n,l=u.pointer,c=u.pin,f=e.addGroup(),h=this.parsePoint({x:0,y:0});return l&&f.addShape("line",{name:"pointer",attrs:(0,Z.__assign)({x1:h.x,y1:h.y,x2:a.x,y2:a.y,stroke:o},l.style)}),c&&f.addShape("circle",{name:"pin",attrs:(0,Z.__assign)({x:h.x,y:h.y,stroke:o},c.style)}),f}}),No("interval","meter-gauge",{draw:function(a,e){var t=a.customInfo.meter,n=t===void 0?{}:t,o=n.steps,u=o===void 0?50:o,l=n.stepRatio,c=l===void 0?.5:l;u=u<1?1:u,c=(0,w.clamp)(c,0,1);var f=this.coordinate,h=f.startAngle,v=f.endAngle,p=0;if(c>0&&c<1){var g=v-h;p=g/u/(c/(1-c)+1-1/u)}for(var E=p/(1-c)*c,D=e.addGroup(),G=this.coordinate.getCenter(),H=this.coordinate.getRadius(),X=Sd.getAngle(a,this.coordinate),rt=X.startAngle,ht=X.endAngle,mt=rt;mt<ht;){var Dt=void 0,kt=(mt-h)%(E+p);kt<E?Dt=mt+(E-kt):(mt+=E+p-kt,Dt=mt+E);var Vt=Sd.getSectorPath(G.x,G.y,H,mt,Math.min(Dt,ht),H*this.coordinate.innerRadius);D.addShape("path",{name:"meter-gauge",attrs:{path:Vt,fill:a.color,stroke:a.color,lineWidth:.5}}),mt=Dt+p}return D}});var zP=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type="gauge",t}return e.getDefaultOptions=function(){return n$},e.prototype.changeData=function(t){this.chart.emit(pi.BEFORE_CHANGE_DATA,nu.fromData(this.chart,pi.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:t});var n=this.chart.views.find(function(u){return u.id===RP});n&&n.data(NP(t));var o=this.chart.views.find(function(u){return u.id===FP});o&&o.data(kP(t,this.options.range)),BP({chart:this.chart,options:this.options},!0),this.chart.emit(pi.AFTER_CHANGE_DATA,nu.fromData(this.chart,pi.AFTER_CHANGE_DATA,null))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return GP},e}(Ma),$v="$$yField$$",dS="$$diffField$$",Q_="$$absoluteField$$",J_="$$isTotal$$",u$={label:{},leaderLine:{style:{lineWidth:1,stroke:"#8c8c8c",lineDash:[4,2]}},total:{style:{fill:"rgba(0, 0, 0, 0.25)"}},interactions:[{type:"element-active"}],risingFill:"#f4664a",fallingFill:"#30bf78",waterfallStyle:{fill:"rgba(0, 0, 0, 0.25)"},yAxis:{grid:{line:{style:{lineDash:[4,2]}}}}};function l$(a,e,t,n,o){var u,l=[];if((0,w.reduce)(a,function(f,h){var v;vg(pp.WARN,(0,w.isNumber)(h[t]),h[t]+" is not a valid number");var p=(0,w.isUndefined)(h[t])?null:h[t];return l.push((0,Z.__assign)((0,Z.__assign)({},h),(v={},v[n]=[f,f+p],v))),f+p},0),l.length&&o){var c=(0,w.get)(l,[[a.length-1],n,[1]]);l.push((u={},u[e]=o.label,u[t]=c,u[n]=[0,c],u))}return l}function UP(a,e,t,n){var o=l$(a,e,t,$v,n);return o.map(function(u,l){var c;return(0,w.isObject)(u)?(0,Z.__assign)((0,Z.__assign)({},u),(c={},c[Q_]=u[$v][1],c[dS]=u[$v][1]-u[$v][0],c[J_]=l===a.length,c)):u})}function c$(a){for(var e=[],t=0;t<a.length;t++){var n=a[t];if(n){var o=t===0?"M":"L";e.push([o,n.x,n.y])}}var u=a[0];return e.push(["L",u.x,u.y]),e.push(["z"]),e}function f$(a){return yn({},a.defaultStyle,a.style,{fill:a.color})}No("interval","waterfall",{draw:function(a,e){var t=a.customInfo,n=a.points,o=a.nextPoints,u=e.addGroup(),l=this.parsePath(c$(n)),c=f$(a);u.addShape("path",{attrs:(0,Z.__assign)((0,Z.__assign)({},c),{path:l})});var f=(0,w.get)(t,"leaderLine");if(f&&o){var h=[["M",n[2].x,n[2].y],["L",o[0].x,o[0].y]];n[2].y===o[1].y&&(h[1]=["L",o[1].x,o[1].y]),h=this.parsePath(h),u.addShape("path",{attrs:(0,Z.__assign)({path:h},f.style||{})})}return u}});function h$(a){var e=a.options,t=e.locale,n=e.total,o=jE(t).get(["waterfall","total"]);return n&&typeof n.label!="string"&&o&&(a.options.total.label=o),a}function d$(a){var e=a.chart,t=a.options,n=t.data,o=t.xField,u=t.yField,l=t.total,c=t.leaderLine,f=t.columnWidthRatio,h=t.waterfallStyle,v=t.risingFill,p=t.fallingFill,g=t.color;e.data(UP(n,o,u,l));var E=g||function(X){return(0,w.get)(X,[J_])?(0,w.get)(l,["style","fill"],""):(0,w.get)(X,[$v,1])-(0,w.get)(X,[$v,0])>0?v:p},D=yn({},a,{options:{xField:o,yField:$v,seriesField:o,rawFields:[u,dS,J_,$v],widthRatio:f,interval:{style:h,shape:"waterfall",color:E}}}),G=Qf(D).ext,H=G.geometry;return H.customInfo({leaderLine:c}),a}function v$(a){var e,t,n=a.options,o=n.xAxis,u=n.yAxis,l=n.xField,c=n.yField,f=n.meta,h=yn({},{alias:c},(0,w.get)(f,c));return oa(Tu((e={},e[l]=o,e[c]=u,e[$v]=u,e),yn({},f,(t={},t[$v]=h,t[dS]=h,t[Q_]=h,t))))(a)}function p$(a){var e=a.chart,t=a.options,n=t.xAxis,o=t.yAxis,u=t.xField,l=t.yField;return n===!1?e.axis(u,!1):e.axis(u,n),o===!1?(e.axis(l,!1),e.axis($v,!1)):(e.axis(l,o),e.axis($v,o)),a}function g$(a){var e=a.chart,t=a.options,n=t.legend,o=t.total,u=t.risingFill,l=t.fallingFill,c=t.locale,f=jE(c);if(n===!1)e.legend(!1);else{var h=[{name:f.get(["general","increase"]),value:"increase",marker:{symbol:"square",style:{r:5,fill:u}}},{name:f.get(["general","decrease"]),value:"decrease",marker:{symbol:"square",style:{r:5,fill:l}}}];o&&h.push({name:o.label||"",value:"total",marker:{symbol:"square",style:yn({},{r:5},(0,w.get)(o,"style"))}}),e.legend(yn({},{custom:!0,position:"top",items:h},n)),e.removeInteraction("legend-filter")}return a}function y$(a){var e=a.chart,t=a.options,n=t.label,o=t.labelMode,u=t.xField,l=Zf(e,"interval");if(!n)l.label(!1);else{var c=n.callback,f=(0,Z.__rest)(n,["callback"]);l.label({fields:o==="absolute"?[Q_,u]:[dS,u],callback:c,cfg:Jc(f)})}return a}function m$(a){var e=a.chart,t=a.options,n=t.tooltip,o=t.xField,u=t.yField;if(n!==!1){e.tooltip((0,Z.__assign)({showCrosshairs:!1,showMarkers:!1,shared:!0,fields:[u]},n));var l=e.geometries[0];n!=null&&n.formatter?l.tooltip(o+"*"+u,n.formatter):l.tooltip(u)}else e.tooltip(!1);return a}function x$(a){return oa(h$,Oo,d$,v$,p$,g$,m$,y$,o0,Rs,Zo,Mu())(a)}var b$=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type="waterfall",t}return e.getDefaultOptions=function(){return u$},e.prototype.changeData=function(t){var n=this.options,o=n.xField,u=n.yField,l=n.total;this.updateOption({data:t}),this.chart.changeData(UP(t,o,u,l))},e.prototype.getSchemaAdaptor=function(){return x$},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e}(Ma);function E$(a,e,t){var n=t.map(function(l){return l[e]}).filter(function(l){return l!==void 0}),o=n.length>0?Math.max.apply(Math,n):0,u=Math.abs(a)%360;return u?o*360/u:o}function S$(a,e,t){var n=[];return a.forEach(function(o){var u=n.find(function(l){return l[e]===o[e]});u?u[t]+=o[t]||null:n.push((0,Z.__assign)({},o))}),n}function w$(a){var e=a.chart,t=a.options,n=t.barStyle,o=t.color,u=t.tooltip,l=t.colorField,c=t.type,f=t.xField,h=t.yField,v=t.data,p=Gm(v,h);e.data(p);var g=yn({},a,{options:{tooltip:u,seriesField:l,interval:{style:n,color:o,shape:c==="line"?"line":"intervel"},minColumnWidth:t.minBarWidth,maxColumnWidth:t.maxBarWidth,columnBackground:t.barBackground}});return Qf(g),c==="line"&&xv({chart:e,options:{xField:f,yField:h,seriesField:l,point:{shape:"circle",color:o}}}),a}function jP(a){var e,t=a.options,n=t.yField,o=t.xField,u=t.data,l=t.isStack,c=t.isGroup,f=t.colorField,h=t.maxAngle,v=l&&!c&&f?S$(u,o,n):u,p=Gm(v,n);return oa(Tu((e={},e[n]={min:0,max:E$(h,n,p)},e)))(a)}function _$(a){var e=a.chart,t=a.options,n=t.radius,o=t.innerRadius,u=t.startAngle,l=t.endAngle;return e.coordinate({type:"polar",cfg:{radius:n,innerRadius:o,startAngle:u,endAngle:l}}).transpose(),a}function A$(a){var e=a.chart,t=a.options,n=t.xField,o=t.xAxis;return e.axis(n,o),a}function C$(a){var e=a.chart,t=a.options,n=t.label,o=t.yField,u=Zf(e,"interval");if(!n)u.label(!1);else{var l=n.callback,c=(0,Z.__rest)(n,["callback"]);u.label({fields:[o],callback:l,cfg:(0,Z.__assign)((0,Z.__assign)({},Jc(c)),{type:"polar"})})}return a}function T$(a){return oa(mv("barStyle"),w$,jP,A$,_$,Rs,Zo,Oo,Wl,iy,Mu(),C$)(a)}var M$=yn({},Ma.getDefaultOptions(),{interactions:[{type:"element-active"}],legend:!1,tooltip:{showMarkers:!1},xAxis:{grid:null,tickLine:null,line:null},maxAngle:240}),I$=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type="radial-bar",t}return e.getDefaultOptions=function(){return M$},e.prototype.changeData=function(t){this.updateOption({data:t}),jP({chart:this.chart,options:this.options}),this.chart.changeData(t)},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return T$},e}(Ma),kp="first-axes-view",Bp="second-axes-view",dy="series-field-key";function WP(a,e,t,n,o){var u=[];e.forEach(function(p){n.forEach(function(g){var E,D=(E={},E[a]=g[a],E[t]=p,E[p]=g[p],E);u.push(D)})});var l=Object.values((0,w.groupBy)(u,t)),c=l[0],f=c===void 0?[]:c,h=l[1],v=h===void 0?[]:h;return o?[f.reverse(),v.reverse()]:[f,v]}function mg(a){return a!=="vertical"}function O$(a,e,t){var n=e[0],o=e[1],u=n.autoPadding,l=o.autoPadding,c=a.__axisPosition,f=c.layout,h=c.position;if(mg(f)&&h==="top"&&(n.autoPadding=t.instance(u.top,0,u.bottom,u.left),o.autoPadding=t.instance(l.top,u.left,l.bottom,0)),mg(f)&&h==="bottom"&&(n.autoPadding=t.instance(u.top,u.right/2+5,u.bottom,u.left),o.autoPadding=t.instance(l.top,l.right,l.bottom,u.right/2+5)),!mg(f)&&h==="bottom"){var v=u.left>=l.left?u.left:l.left;n.autoPadding=t.instance(u.top,u.right,u.bottom/2+5,v),o.autoPadding=t.instance(u.bottom/2+5,l.right,l.bottom,v)}if(!mg(f)&&h==="top"){var v=u.left>=l.left?u.left:l.left;n.autoPadding=t.instance(u.top,u.right,0,v),o.autoPadding=t.instance(0,l.right,u.top,v)}}function D$(a){var e=a.chart,t=a.options,n=t.data,o=t.xField,u=t.yField,l=t.color,c=t.barStyle,f=t.widthRatio,h=t.legend,v=t.layout,p=WP(o,u,dy,n,mg(v));h?e.legend(dy,h):h===!1&&e.legend(!1);var g,E,D=p[0],G=p[1];mg(v)?(g=e.createView({region:{start:{x:0,y:0},end:{x:.5,y:1}},id:kp}),g.coordinate().transpose().reflect("x"),E=e.createView({region:{start:{x:.5,y:0},end:{x:1,y:1}},id:Bp}),E.coordinate().transpose(),g.data(D),E.data(G)):(g=e.createView({region:{start:{x:0,y:0},end:{x:1,y:.5}},id:kp}),E=e.createView({region:{start:{x:0,y:.5},end:{x:1,y:1}},id:Bp}),E.coordinate().reflect("y"),g.data(D),E.data(G));var H=yn({},a,{chart:g,options:{widthRatio:f,xField:o,yField:u[0],seriesField:dy,interval:{color:l,style:c}}});Qf(H);var X=yn({},a,{chart:E,options:{xField:o,yField:u[1],seriesField:dy,widthRatio:f,interval:{color:l,style:c}}});return Qf(X),a}function P$(a){var e,t,n,o=a.options,u=a.chart,l=o.xAxis,c=o.yAxis,f=o.xField,h=o.yField,v=Xa(u,kp),p=Xa(u,Bp),g={};return(0,w.keys)((o==null?void 0:o.meta)||{}).map(function(E){(0,w.get)(o==null?void 0:o.meta,[E,"alias"])&&(g[E]=o.meta[E].alias)}),u.scale((e={},e[dy]={sync:!0,formatter:function(E){return(0,w.get)(g,E,E)}},e)),Tu((t={},t[f]=l,t[h[0]]=c[h[0]],t))(yn({},a,{chart:v})),Tu((n={},n[f]=l,n[h[1]]=c[h[1]],n))(yn({},a,{chart:p})),a}function L$(a){var e=a.chart,t=a.options,n=t.xAxis,o=t.yAxis,u=t.xField,l=t.yField,c=t.layout,f=Xa(e,kp),h=Xa(e,Bp);return(n==null?void 0:n.position)==="bottom"?h.axis(u,(0,Z.__assign)((0,Z.__assign)({},n),{label:{formatter:function(){return""}}})):h.axis(u,!1),n===!1?f.axis(u,!1):f.axis(u,(0,Z.__assign)({position:mg(c)?"top":"bottom"},n)),o===!1?(f.axis(l[0],!1),h.axis(l[1],!1)):(f.axis(l[0],o[l[0]]),h.axis(l[1],o[l[1]])),e.__axisPosition={position:f.getOptions().axes[u].position,layout:c},a}function R$(a){var e=a.chart;return Rs(yn({},a,{chart:Xa(e,kp)})),Rs(yn({},a,{chart:Xa(e,Bp)})),a}function F$(a){var e=a.chart,t=a.options,n=t.yField,o=t.yAxis;return ay(yn({},a,{chart:Xa(e,kp),options:{yAxis:o[n[0]]}})),ay(yn({},a,{chart:Xa(e,Bp),options:{yAxis:o[n[1]]}})),a}function N$(a){var e=a.chart;return Oo(yn({},a,{chart:Xa(e,kp)})),Oo(yn({},a,{chart:Xa(e,Bp)})),a}function k$(a){var e=a.chart;return Zo(yn({},a,{chart:Xa(e,kp)})),Zo(yn({},a,{chart:Xa(e,Bp)})),a}function B$(a){var e=this,t,n,o=a.chart,u=a.options,l=u.label,c=u.yField,f=u.layout,h=Xa(o,kp),v=Xa(o,Bp),p=Zf(h,"interval"),g=Zf(v,"interval");if(!l)p.label(!1),g.label(!1);else{var E=l.callback,D=(0,Z.__rest)(l,["callback"]);D.position||(D.position="middle"),D.offset===void 0&&(D.offset=2);var G=(0,Z.__assign)({},D);if(mg(f)){var H=((t=G.style)===null||t===void 0?void 0:t.textAlign)||(D.position==="middle"?"center":"left");D.style=yn({},D.style,{textAlign:H});var X={left:"right",right:"left",center:"center"};G.style=yn({},G.style,{textAlign:X[H]})}else{var rt={top:"bottom",bottom:"top",middle:"middle"};typeof D.position=="string"?D.position=rt[D.position]:typeof D.position=="function"&&(D.position=function(){for(var Dt=[],kt=0;kt<arguments.length;kt++)Dt[kt]=arguments[kt];return rt[D.position.apply(e,Dt)]});var ht=((n=G.style)===null||n===void 0?void 0:n.textBaseline)||"bottom";G.style=yn({},G.style,{textBaseline:ht});var mt={top:"bottom",bottom:"top",middle:"middle"};D.style=yn({},D.style,{textBaseline:mt[ht]})}p.label({fields:[c[0]],callback:E,cfg:Jc(G)}),g.label({fields:[c[1]],callback:E,cfg:Jc(D)})}return a}function G$(a){return oa(D$,P$,L$,F$,N$,B$,Wl,R$,k$)(a)}var z$=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type="bidirectional-bar",t}return e.getDefaultOptions=function(){return yn({},a.getDefaultOptions.call(this),{syncViewPadding:O$})},e.prototype.changeData=function(t){t===void 0&&(t=[]),this.chart.emit(pi.BEFORE_CHANGE_DATA,nu.fromData(this.chart,pi.BEFORE_CHANGE_DATA,null)),this.updateOption({data:t});var n=this.options,o=n.xField,u=n.yField,l=n.layout,c=WP(o,u,dy,t,mg(l)),f=c[0],h=c[1],v=Xa(this.chart,kp),p=Xa(this.chart,Bp);v.data(f),p.data(h),this.chart.render(!0),this.chart.emit(pi.AFTER_CHANGE_DATA,nu.fromData(this.chart,pi.AFTER_CHANGE_DATA,null))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return G$},e.SERIES_FIELD_KEY=dy,e}(Ma);function VP(a,e){if(!!(0,w.isArray)(a))return a.find(function(t){return t.type===e})}function HP(a,e){var t=VP(a,e);return t&&t.enable!==!1}function q_(a){var e=a.interactions,t=a.drilldown;return(0,w.get)(t,"enabled")||HP(e,"treemap-drill-down")}function U$(a){var e=a.interactions["drill-down"];if(!!e){var t=e.context.actions.find(function(n){return n.name==="drill-down-action"});t.reset()}}function tA(a){var e=a.data,t=a.colorField,n=a.enableDrillDown,o=a.hierarchyConfig,u=IP(e,(0,Z.__assign)((0,Z.__assign)({},o),{type:"hierarchy.treemap",field:"value",as:["x","y"]})),l=[];return u.forEach(function(c){if(c.depth===0||n&&c.depth!==1||!n&&c.children)return null;var f=c.ancestors().map(function(g){return{data:g.data,height:g.height,value:g.value}}),h=n&&(0,w.isArray)(e.path)?f.concat(e.path.slice(1)):f,v=Object.assign({},c.data,(0,Z.__assign)({x:c.x,y:c.y,depth:c.depth,value:c.value,path:h},c));if(!c.data[t]&&c.parent){var p=c.ancestors().find(function(g){return g.data[t]});v[t]=p==null?void 0:p.data[t]}else v[t]=c.data[t];v[ob]={hierarchyConfig:o,colorField:t,enableDrillDown:n},l.push(v)}),l}function j$(a){var e=a.options,t=e.colorField;return yn({options:{rawFields:["value"],tooltip:{fields:["name","value",t,"path"],formatter:function(n){return{name:n.name,value:n.value}}}}},a)}function W$(a){var e=a.chart,t=a.options,n=t.color,o=t.colorField,u=t.rectStyle,l=t.hierarchyConfig,c=t.rawFields,f=tA({data:t.data,colorField:t.colorField,enableDrillDown:q_(t),hierarchyConfig:l});return e.data(f),YE(yn({},a,{options:{xField:"x",yField:"y",seriesField:o,rawFields:c,polygon:{color:n,style:u}}})),e.coordinate().reflect("y"),a}function V$(a){var e=a.chart;return e.axis(!1),a}function H$(a){var e=a.drilldown,t=a.interactions,n=t===void 0?[]:t,o=q_(a);return o?yn({},a,{interactions:(0,Z.__spreadArrays)(n,[{type:"drill-down",cfg:{drillDownConfig:e,transformData:tA}}])}):a}function Y$(a){var e=a.chart,t=a.options,n=t.interactions,o=t.drilldown;Rs({chart:e,options:H$(t)});var u=VP(n,"view-zoom");u&&(u.enable!==!1?e.getCanvas().on("mousewheel",function(c){c.preventDefault()}):e.getCanvas().off("mousewheel"));var l=q_(t);return l&&(e.appendPadding=zE(e.appendPadding,(0,w.get)(o,["breadCrumb","position"]))),a}function X$(a){return oa(j$,Oo,mv("rectStyle"),W$,V$,iy,Wl,Y$,Zo,Mu())(a)}var $$={colorField:"name",rectStyle:{lineWidth:1,stroke:"#fff"},hierarchyConfig:{tile:"treemapSquarify"},label:{fields:["name"],layout:{type:"limit-in-shape"}},tooltip:{showMarkers:!1,showTitle:!1},drilldown:{enabled:!1,breadCrumb:{position:"bottom-left",rootText:"\u521D\u59CB",dividerText:"/",textStyle:{fontSize:12,fill:"rgba(0, 0, 0, 0.65)",cursor:"pointer"},activeTextStyle:{fill:"#87B5FF"}}}},K$=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type="treemap",t}return e.getDefaultOptions=function(){return $$},e.prototype.changeData=function(t){var n=this.options,o=n.colorField,u=n.interactions,l=n.hierarchyConfig;this.updateOption({data:t});var c=tA({data:t,colorField:o,enableDrillDown:HP(u,"treemap-drill-down"),hierarchyConfig:l});this.chart.changeData(c),U$(this.chart)},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return X$},e}(Ma);function Z$(a){return a.target.depth}function Q$(a){return a.depth}function J$(a,e){return e-1-a.height}function eA(a,e){return a.sourceLinks.length?a.depth:e-1}function q$(a){return a.targetLinks.length?a.depth:a.sourceLinks.length?(0,w.minBy)(a.sourceLinks,Z$)-1:0}function vS(a){return function(){return a}}function rA(a,e){for(var t=0,n=0;n<a.length;n++)t+=e(a[n]);return t}function nA(a,e){for(var t=-1/0,n=0;n<a.length;n++)t=Math.max(e(a[n]),t);return t}function tK(a,e){for(var t=1/0,n=0;n<a.length;n++)t=Math.min(e(a[n]),t);return t}function YP(a,e){return pS(a.source,e.source)||a.index-e.index}function XP(a,e){return pS(a.target,e.target)||a.index-e.index}function pS(a,e){return a.y0-e.y0}function iA(a){return a.value}function eK(a){return a.index}function rK(a){return a.nodes}function nK(a){return a.links}function $P(a,e){var t=a.get(e);if(!t)throw new Error("missing: "+e);return t}function KP(a){for(var e=a.nodes,t=0,n=e;t<n.length;t++){for(var o=n[t],u=o.y0,l=u,c=0,f=o.sourceLinks;c<f.length;c++){var h=f[c];h.y0=u+h.width/2,u+=h.width}for(var v=0,p=o.targetLinks;v<p.length;v++){var h=p[v];h.y1=l+h.width/2,l+=h.width}}}function iK(){var a=0,e=0,t=1,n=1,o=24,u=8,l,c=eK,f=eA,h,v,p,g=rK,E=nK,D=6;function G(nr){var Gr={nodes:g(nr),links:E(nr)};return H(Gr),X(Gr),rt(Gr),ht(Gr),kt(Gr),KP(Gr),Gr}G.update=function(nr){return KP(nr),nr},G.nodeId=function(nr){return arguments.length?(c=typeof nr=="function"?nr:vS(nr),G):c},G.nodeAlign=function(nr){return arguments.length?(f=typeof nr=="function"?nr:vS(nr),G):f},G.nodeDepth=function(nr){return arguments.length?(h=nr,G):h},G.nodeSort=function(nr){return arguments.length?(v=nr,G):v},G.nodeWidth=function(nr){return arguments.length?(o=+nr,G):o},G.nodePadding=function(nr){return arguments.length?(u=l=+nr,G):u},G.nodes=function(nr){return arguments.length?(g=typeof nr=="function"?nr:vS(nr),G):g},G.links=function(nr){return arguments.length?(E=typeof nr=="function"?nr:vS(nr),G):E},G.linkSort=function(nr){return arguments.length?(p=nr,G):p},G.size=function(nr){return arguments.length?(a=e=0,t=+nr[0],n=+nr[1],G):[t-a,n-e]},G.extent=function(nr){return arguments.length?(a=+nr[0][0],t=+nr[1][0],e=+nr[0][1],n=+nr[1][1],G):[[a,e],[t,n]]},G.iterations=function(nr){return arguments.length?(D=+nr,G):D};function H(nr){var Gr=nr.nodes,en=nr.links;Gr.forEach(function(mn,Er){mn.index=Er,mn.sourceLinks=[],mn.targetLinks=[]});var cr=new Map(Gr.map(function(mn){return[c(mn),mn]}));if(en.forEach(function(mn,Er){mn.index=Er;var oi=mn.source,mr=mn.target;typeof oi!="object"&&(oi=mn.source=$P(cr,oi)),typeof mr!="object"&&(mr=mn.target=$P(cr,mr)),oi.sourceLinks.push(mn),mr.targetLinks.push(mn)}),p!=null)for(var Fr=0,qr=Gr;Fr<qr.length;Fr++){var _r=qr[Fr],kr=_r.sourceLinks,Yr=_r.targetLinks;kr.sort(p),Yr.sort(p)}}function X(nr){for(var Gr=nr.nodes,en=0,cr=Gr;en<cr.length;en++){var Fr=cr[en];Fr.value=Fr.fixedValue===void 0?Math.max(rA(Fr.sourceLinks,iA),rA(Fr.targetLinks,iA)):Fr.fixedValue}}function rt(nr){for(var Gr=nr.nodes,en=Gr.length,cr=new Set(Gr),Fr=new Set,qr=0;cr.size;){if(cr.forEach(function(mn){mn.depth=qr;for(var Er=0,oi=mn.sourceLinks;Er<oi.length;Er++){var mr=oi[Er].target;Fr.add(mr)}}),++qr>en)throw new Error("circular link");cr=Fr,Fr=new Set}if(h)for(var _r=Math.max(nA(Gr,function(mn){return mn.depth})+1,0),kr=void 0,Yr=0;Yr<Gr.length;Yr++)kr=Gr[Yr],kr.depth=h.call(null,kr,_r)}function ht(nr){for(var Gr=nr.nodes,en=Gr.length,cr=new Set(Gr),Fr=new Set,qr=0;cr.size;){if(cr.forEach(function(_r){_r.height=qr;for(var kr=0,Yr=_r.targetLinks;kr<Yr.length;kr++){var mn=Yr[kr].source;Fr.add(mn)}}),++qr>en)throw new Error("circular link");cr=Fr,Fr=new Set}}function mt(nr){for(var Gr=nr.nodes,en=Math.max(nA(Gr,function(mr){return mr.depth})+1,0),cr=(t-a-o)/(en-1),Fr=new Array(en).fill(0).map(function(){return[]}),qr=0,_r=Gr;qr<_r.length;qr++){var kr=_r[qr],Yr=Math.max(0,Math.min(en-1,Math.floor(f.call(null,kr,en))));kr.layer=Yr,kr.x0=a+Yr*cr,kr.x1=kr.x0+o,Fr[Yr]?Fr[Yr].push(kr):Fr[Yr]=[kr]}if(v)for(var mn=0,Er=Fr;mn<Er.length;mn++){var oi=Er[mn];oi.sort(v)}return Fr}function Dt(nr){for(var Gr=tK(nr,function(ki){return(n-e-(ki.length-1)*l)/rA(ki,iA)}),en=0,cr=nr;en<cr.length;en++){for(var Fr=cr[en],qr=e,_r=0,kr=Fr;_r<kr.length;_r++){var Yr=kr[_r];Yr.y0=qr,Yr.y1=qr+Yr.value*Gr,qr=Yr.y1+l;for(var mn=0,Er=Yr.sourceLinks;mn<Er.length;mn++){var oi=Er[mn];oi.width=oi.value*Gr}}qr=(n-qr+l)/(Fr.length+1);for(var mr=0;mr<Fr.length;++mr){var Yr=Fr[mr];Yr.y0+=qr*(mr+1),Yr.y1+=qr*(mr+1)}pr(Fr)}}function kt(nr){var Gr=mt(nr);l=Math.min(u,(n-e)/(nA(Gr,function(qr){return qr.length})-1)),Dt(Gr);for(var en=0;en<D;++en){var cr=Math.pow(.99,en),Fr=Math.max(1-cr,(en+1)/D);te(Gr,cr,Fr),Vt(Gr,cr,Fr)}}function Vt(nr,Gr,en){for(var cr=1,Fr=nr.length;cr<Fr;++cr){for(var qr=nr[cr],_r=0,kr=qr;_r<kr.length;_r++){for(var Yr=kr[_r],mn=0,Er=0,oi=0,mr=Yr.targetLinks;oi<mr.length;oi++){var ki=mr[oi],Xn=ki.source,qn=ki.value,ai=qn*(Yr.layer-Xn.layer);mn+=yr(Xn,Yr)*ai,Er+=ai}if(Er>0){var va=(mn/Er-Yr.y0)*Gr;Yr.y0+=va,Yr.y1+=va,Xe(Yr)}}v===void 0&&qr.sort(pS),qr.length&&le(qr,en)}}function te(nr,Gr,en){for(var cr=nr.length,Fr=cr-2;Fr>=0;--Fr){for(var qr=nr[Fr],_r=0,kr=qr;_r<kr.length;_r++){for(var Yr=kr[_r],mn=0,Er=0,oi=0,mr=Yr.sourceLinks;oi<mr.length;oi++){var ki=mr[oi],Xn=ki.target,qn=ki.value,ai=qn*(Xn.layer-Yr.layer);mn+=Vr(Yr,Xn)*ai,Er+=ai}if(Er>0){var va=(mn/Er-Yr.y0)*Gr;Yr.y0+=va,Yr.y1+=va,Xe(Yr)}}v===void 0&&qr.sort(pS),qr.length&&le(qr,en)}}function le(nr,Gr){var en=nr.length>>1,cr=nr[en];De(nr,cr.y0-l,en-1,Gr),pe(nr,cr.y1+l,en+1,Gr),De(nr,n,nr.length-1,Gr),pe(nr,e,0,Gr)}function pe(nr,Gr,en,cr){for(;en<nr.length;++en){var Fr=nr[en],qr=(Gr-Fr.y0)*cr;qr>1e-6&&(Fr.y0+=qr,Fr.y1+=qr),Gr=Fr.y1+l}}function De(nr,Gr,en,cr){for(;en>=0;--en){var Fr=nr[en],qr=(Fr.y1-Gr)*cr;qr>1e-6&&(Fr.y0-=qr,Fr.y1-=qr),Gr=Fr.y0-l}}function Xe(nr){var Gr=nr.sourceLinks,en=nr.targetLinks;if(p===void 0){for(var cr=0,Fr=en;cr<Fr.length;cr++){var qr=Fr[cr].source.sourceLinks;qr.sort(XP)}for(var _r=0,kr=Gr;_r<kr.length;_r++){var Yr=kr[_r].target.targetLinks;Yr.sort(YP)}}}function pr(nr){if(p===void 0)for(var Gr=0,en=nr;Gr<en.length;Gr++){var cr=en[Gr],Fr=cr.sourceLinks,qr=cr.targetLinks;Fr.sort(XP),qr.sort(YP)}}function yr(nr,Gr){for(var en=nr.y0-(nr.sourceLinks.length-1)*l/2,cr=0,Fr=nr.sourceLinks;cr<Fr.length;cr++){var qr=Fr[cr],_r=qr.target,kr=qr.width;if(_r===Gr)break;en+=kr+l}for(var Yr=0,mn=Gr.targetLinks;Yr<mn.length;Yr++){var Er=mn[Yr],_r=Er.source,kr=Er.width;if(_r===nr)break;en-=kr}return en}function Vr(nr,Gr){for(var en=Gr.y0-(Gr.targetLinks.length-1)*l/2,cr=0,Fr=Gr.targetLinks;cr<Fr.length;cr++){var qr=Fr[cr],_r=qr.source,kr=qr.width;if(_r===nr)break;en+=kr+l}for(var Yr=0,mn=nr.sourceLinks;Yr<mn.length;Yr++){var Er=mn[Yr],_r=Er.target,kr=Er.width;if(_r===Gr)break;en-=kr}return en}return G}var aK={left:Q$,right:J$,center:q$,justify:eA},oK={nodeId:function(a){return a.index},nodeAlign:"justify",nodeWidth:.008,nodePadding:.03,nodeSort:void 0};function sK(a){var e=(0,w.isString)(a)?aK[a]:(0,w.isFunction)(a)?a:null;return e||eA}function uK(a){return(0,w.assign)({},oK,a)}function lK(a,e){var t=uK(a),n=t.nodeId,o=t.nodeSort,u=t.nodeAlign,l=t.nodeWidth,c=t.nodePadding,f=t.nodeDepth,h=iK().nodeSort(o).nodeWidth(l).nodePadding(c).nodeDepth(f).nodeAlign(sK(u)).extent([[0,0],[1,1]]).nodeId(n),v=h(e);return v.nodes.forEach(function(p){var g=p.x0,E=p.x1,D=p.y0,G=p.y1;p.x=[g,E,E,g],p.y=[D,D,G,G]}),v.links.forEach(function(p){var g=p.source,E=p.target,D=g.x1,G=E.x0;p.x=[D,D,G,G];var H=p.width/2;p.y=[p.y0+H,p.y0-H,p.y1+H,p.y1-H]}),v}function cK(a,e,t){var n=[];return a.forEach(function(o){var u=o[e],l=o[t];n.includes(u)||n.push(u),n.includes(l)||n.push(l)}),n}function fK(a,e,t,n){var o={};return e.forEach(function(u){o[u]={},e.forEach(function(l){o[u][l]=0})}),a.forEach(function(u){o[u[t]][u[n]]=1}),o}function hK(a,e,t){if(!(0,w.isArray)(a))return[];var n=[],o=cK(a,e,t),u=fK(a,o,e,t),l={};o.forEach(function(f){l[f]=0});function c(f){l[f]=1,o.forEach(function(h){if(u[f][h]!=0)if(l[h]==1)n.push(f+"_"+h);else{if(l[h]==-1)return;c(h)}}),l[f]=-1}return o.forEach(function(f){l[f]!=-1&&c(f)}),n.length!==0&&console.warn("sankey data contains circle, "+n.length+" records removed.",n),a.filter(function(f){return n.findIndex(function(h){return h===f[e]+"_"+f[t]})<0})}function dK(a){return a==="node-link"}function vK(a,e,t){return ny(a)?a/t:e}function pK(a,e,t){return ny(a)?a/t:e}function ZP(a,e,t){var n=a.dataType,o=a.data,u=a.sourceField,l=a.targetField,c=a.weightField,f=a.nodeAlign,h=a.nodeSort,v=a.nodePadding,p=a.nodePaddingRatio,g=a.nodeWidth,E=a.nodeWidthRatio,D=a.nodeDepth,G=a.rawFields,H=G===void 0?[]:G,X;dK(n)?X=o:X=SO(hK(o,u,l),u,l,c,H);var rt=lK({nodeAlign:f,nodePadding:pK(v,p,t),nodeWidth:vK(g,E,e),nodeSort:h,nodeDepth:D},X),ht=rt.nodes,mt=rt.links;return{nodes:ht.map(function(Dt){return(0,Z.__assign)((0,Z.__assign)({},Ko(Dt,(0,Z.__spreadArrays)(["x","y","name"],H))),{isNode:!0})}),edges:mt.map(function(Dt){return(0,Z.__assign)((0,Z.__assign)({source:Dt.source.name,target:Dt.target.name,name:Dt.source.name||Dt.target.name},Ko(Dt,(0,Z.__spreadArrays)(["x","y","value"],H))),{isNode:!1})})}}var QP="x",JP="y",qP="name",gS="nodes",yS="edges";function gK(a){var e=a.options,t=e.rawFields,n=t===void 0?[]:t;return yn({},{options:{tooltip:{fields:(0,w.uniq)((0,Z.__spreadArrays)(["name","source","target","value","isNode"],n))},label:{fields:(0,w.uniq)((0,Z.__spreadArrays)(["x","name"],n))}}},a)}function yK(a){var e=a.chart,t=a.options,n=t.color,o=t.nodeStyle,u=t.edgeStyle,l=t.label,c=t.tooltip,f=t.nodeState,h=t.edgeState;e.legend(!1),e.tooltip(c),e.axis(!1),e.coordinate().reflect("y");var v=ZP(t,e.width,e.height),p=v.nodes,g=v.edges,E=e.createView({id:yS});E.data(g),IO({chart:E,options:{xField:QP,yField:JP,seriesField:qP,edge:{color:n,style:u,shape:"arc"},tooltip:c,state:h}});var D=e.createView({id:gS});return D.data(p),YE({chart:D,options:{xField:QP,yField:JP,seriesField:qP,polygon:{color:n,style:o},label:l,tooltip:c,state:f}}),e.interaction("element-active"),e.scale({x:{sync:!0,nice:!0,min:0,max:1,minLimit:0,maxLimit:1},y:{sync:!0,nice:!0,min:0,max:1,minLimit:0,maxLimit:1},name:{sync:"color",type:"cat"}}),a}function mK(a){var e=a.chart,t=a.options,n=t.animation;typeof n=="boolean"?e.animate(n):e.animate(!0);var o=(0,Z.__spreadArrays)(e.views[0].geometries,e.views[1].geometries);return o.forEach(function(u){u.animate(n)}),a}function xK(a){var e=a.chart,t=a.options,n=t.nodeDraggable,o="sankey-node-draggable";return n?e.interaction(o):e.removeInteraction(o),a}function bK(a){var e=a.chart,t=a.options,n=t.interactions,o=n===void 0?[]:n,u=[].concat(o,t.nodeInteractions||[]),l=[].concat(o,t.edgeInteractions||[]),c=Xa(e,gS),f=Xa(e,yS);return u.forEach(function(h){(h==null?void 0:h.enable)===!1?c.removeInteraction(h.type):c.interaction(h.type,h.cfg||{})}),l.forEach(function(h){(h==null?void 0:h.enable)===!1?f.removeInteraction(h.type):f.interaction(h.type,h.cfg||{})}),a}function EK(a){return oa(gK,yK,bK,xK,mK,Oo)(a)}var SK=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.isDragging=!1,t}return e.prototype.isNodeElement=function(){var t=(0,w.get)(this.context,"event.target");if(t){var n=t.get("element");return n&&n.getModel().data.isNode}return!1},e.prototype.getNodeView=function(){return Xa(this.context.view,gS)},e.prototype.getEdgeView=function(){return Xa(this.context.view,yS)},e.prototype.getCurrentDatumIdx=function(t){return this.getNodeView().geometries[0].elements.indexOf(t)},e.prototype.start=function(){if(this.isNodeElement()){this.prevPoint={x:(0,w.get)(this.context,"event.x"),y:(0,w.get)(this.context,"event.y")};var t=this.context.event.target.get("element"),n=this.getCurrentDatumIdx(t);if(n===-1)return;this.currentElementIdx=n,this.context.isDragging=!0,this.isDragging=!0,this.prevNodeAnimateCfg=this.getNodeView().getOptions().animate,this.prevEdgeAnimateCfg=this.getEdgeView().getOptions().animate,this.getNodeView().animate(!1),this.getEdgeView().animate(!1)}},e.prototype.translate=function(){if(this.isDragging){var t=this.context.view,n={x:(0,w.get)(this.context,"event.x"),y:(0,w.get)(this.context,"event.y")},o=n.x-this.prevPoint.x,u=n.y-this.prevPoint.y,l=this.getNodeView(),c=l.geometries[0].elements[this.currentElementIdx];if(c&&c.getModel()){var f=c.getModel().data,h=l.getOptions().data,v=l.getCoordinate(),p={x:o/v.getWidth(),y:u/v.getHeight()},g=(0,Z.__assign)((0,Z.__assign)({},f),{x:f.x.map(function(X){return X+=p.x}),y:f.y.map(function(X){return X+=p.y})}),E=(0,Z.__spreadArrays)(h);E[this.currentElementIdx]=g,l.data(E);var D=f.name,G=this.getEdgeView(),H=G.getOptions().data;H.forEach(function(X){X.source===D&&(X.x[0]+=p.x,X.x[1]+=p.x,X.y[0]+=p.y,X.y[1]+=p.y),X.target===D&&(X.x[2]+=p.x,X.x[3]+=p.x,X.y[2]+=p.y,X.y[3]+=p.y)}),G.data(H),this.prevPoint=n,t.render(!0)}}},e.prototype.end=function(){this.isDragging=!1,this.context.isDragging=!1,this.prevPoint=null,this.currentElementIdx=null,this.getNodeView().animate(this.prevNodeAnimateCfg),this.getEdgeView().animate(this.prevEdgeAnimateCfg)},e}(Ws);na("sankey-node-drag",SK),Ta("sankey-node-draggable",{showEnable:[{trigger:"polygon:mouseenter",action:"cursor:pointer"},{trigger:"polygon:mouseleave",action:"cursor:default"}],start:[{trigger:"polygon:mousedown",action:"sankey-node-drag:start"}],processing:[{trigger:"plot:mousemove",action:"sankey-node-drag:translate"},{isEnable:function(a){return a.isDragging},trigger:"plot:mousemove",action:"cursor:move"}],end:[{trigger:"plot:mouseup",action:"sankey-node-drag:end"}]});var wK=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type="sankey",t}return e.getDefaultOptions=function(){return{appendPadding:8,syncViewPadding:!0,nodeStyle:{opacity:1,fillOpacity:1,lineWidth:1},edgeStyle:{opacity:.3,lineWidth:0},edgeState:{active:{style:{opacity:.8,lineWidth:0}}},label:{formatter:function(t){var n=t.name;return n},callback:function(t){var n=t[1]===1;return{style:{fill:"#545454",textAlign:n?"end":"start"},offsetX:n?-8:8}},layout:[{type:"hide-overlap"}]},tooltip:{showTitle:!1,showMarkers:!1,shared:!1,showContent:function(t){return!(0,w.get)(t,[0,"data","isNode"])},formatter:function(t){var n=t.source,o=t.target,u=t.value;return{name:n+" -> "+o,value:u}}},nodeWidthRatio:.008,nodePaddingRatio:.01,animation:{appear:{animation:"wave-in"},enter:{animation:"wave-in"}}}},e.prototype.changeData=function(t){this.updateOption({data:t});var n=ZP(this.options,this.chart.width,this.chart.height),o=n.nodes,u=n.edges,l=Xa(this.chart,gS),c=Xa(this.chart,yS);l.changeData(o),c.changeData(u)},e.prototype.getSchemaAdaptor=function(){return EK},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e}(Ma),_K={y:0,nodeWidthRatio:.05,weight:!1,nodePaddingRatio:.1,id:function(a){return a.id},source:function(a){return a.source},target:function(a){return a.target},sourceWeight:function(a){return a.value||1},targetWeight:function(a){return a.value||1},sortBy:null};function AK(a,e,t){(0,w.forIn)(a,function(n,o){n.inEdges=e.filter(function(u){return""+t.target(u)==""+o}),n.outEdges=e.filter(function(u){return""+t.source(u)==""+o}),n.edges=n.outEdges.concat(n.inEdges),n.frequency=n.edges.length,n.value=0,n.inEdges.forEach(function(u){n.value+=t.targetWeight(u)}),n.outEdges.forEach(function(u){n.value+=t.sourceWeight(u)})})}function CK(a,e){var t={weight:function(o,u){return u.value-o.value},frequency:function(o,u){return u.frequency-o.frequency},id:function(o,u){return(""+e.id(o)).localeCompare(""+e.id(u))}},n=t[e.sortBy];!n&&(0,w.isFunction)(e.sortBy)&&(n=e.sortBy),n&&a.sort(n)}function TK(a,e){var t=a.length;if(!t)throw new TypeError("Invalid nodes: it's empty!");if(e.weight){var n=e.nodePaddingRatio;if(n<0||n>=1)throw new TypeError("Invalid nodePaddingRatio: it must be in range [0, 1)!");var o=n/(2*t),u=e.nodeWidthRatio;if(u<=0||u>=1)throw new TypeError("Invalid nodeWidthRatio: it must be in range (0, 1)!");var l=0;a.forEach(function(f){l+=f.value}),a.forEach(function(f){f.weight=f.value/l,f.width=f.weight*(1-n),f.height=u}),a.forEach(function(f,h){for(var v=0,p=h-1;p>=0;p--)v+=a[p].width+2*o;var g=f.minX=o+v,E=f.maxX=f.minX+f.width,D=f.minY=e.y-u/2,G=f.maxY=D+u;f.x=[g,E,E,g],f.y=[D,D,G,G]})}else{var c=1/t;a.forEach(function(f,h){f.x=(h+.5)*c,f.y=e.y})}return a}function MK(a,e,t){if(t.weight){var n={};(0,w.forIn)(a,function(o,u){n[u]=o.value}),e.forEach(function(o){var u=t.source(o),l=t.target(o),c=a[u],f=a[l];if(c&&f){var h=n[u],v=t.sourceWeight(o),p=c.minX+(c.value-h)/c.value*c.width,g=p+v/c.value*c.width;n[u]-=v;var E=n[l],D=t.targetWeight(o),G=f.minX+(f.value-E)/f.value*f.width,H=G+D/f.value*f.width;n[l]-=D;var X=t.y;o.x=[p,g,G,H],o.y=[X,X,X,X],o.source=c,o.target=f}})}else e.forEach(function(o){var u=a[t.source(o)],l=a[t.target(o)];u&&l&&(o.x=[u.x,l.x],o.y=[u.y,l.y],o.source=u,o.target=l)});return e}function IK(a){return(0,w.assign)({},_K,a)}function OK(a,e){var t=IK(a),n={},o=e.nodes,u=e.links;o.forEach(function(f){var h=t.id(f);n[h]=f}),AK(n,u,t),CK(o,t);var l=TK(o,t),c=MK(n,u,t);return{nodes:l,links:c}}var t3="x",e3="y",r3="name",n3="source",DK={nodeStyle:{opacity:1,fillOpacity:1,lineWidth:1},edgeStyle:{opacity:.5,lineWidth:2},label:{fields:["x","name"],callback:function(a,e){var t=(a[0]+a[1])/2,n=t>.5?-4:4;return{labelEmit:!0,style:{fill:"#8c8c8c"},offsetX:n,content:e}}},tooltip:{showTitle:!1,showMarkers:!1,fields:["source","target","value","isNode"],showContent:function(a){return!(0,w.get)(a,[0,"data","isNode"])},formatter:function(a){var e=a.source,t=a.target,n=a.value;return{name:e+" -> "+t,value:n}}},interactions:[{type:"element-active"}],weight:!0,nodePaddingRatio:.1,nodeWidthRatio:.05};function PK(a){var e=a.options,t=e.data,n=e.sourceField,o=e.targetField,u=e.weightField,l=e.nodePaddingRatio,c=e.nodeWidthRatio,f=e.rawFields,h=f===void 0?[]:f,v=SO(t,n,o,u),p=OK({weight:!0,nodePaddingRatio:l,nodeWidthRatio:c},v),g=p.nodes,E=p.links,D=g.map(function(H){return(0,Z.__assign)((0,Z.__assign)({},Ko(H,(0,Z.__spreadArrays)(["id","x","y","name"],h))),{isNode:!0})}),G=E.map(function(H){return(0,Z.__assign)((0,Z.__assign)({source:H.source.name,target:H.target.name,name:H.source.name||H.target.name},Ko(H,(0,Z.__spreadArrays)(["x","y","value"],h))),{isNode:!1})});return(0,Z.__assign)((0,Z.__assign)({},a),{ext:(0,Z.__assign)((0,Z.__assign)({},a.ext),{chordData:{nodesData:D,edgesData:G}})})}function LK(a){var e,t=a.chart;return t.scale((e={x:{sync:!0,nice:!0},y:{sync:!0,nice:!0,max:1}},e[r3]={sync:"color"},e[n3]={sync:"color"},e)),a}function RK(a){var e=a.chart;return e.axis(!1),a}function FK(a){var e=a.chart;return e.legend(!1),a}function NK(a){var e=a.chart,t=a.options,n=t.tooltip;return e.tooltip(n),a}function kK(a){var e=a.chart;return e.coordinate("polar").reflect("y"),a}function BK(a){var e=a.chart,t=a.options,n=a.ext.chordData.nodesData,o=t.nodeStyle,u=t.label,l=t.tooltip,c=e.createView();return c.data(n),YE({chart:c,options:{xField:t3,yField:e3,seriesField:r3,polygon:{style:o},label:u,tooltip:l}}),a}function GK(a){var e=a.chart,t=a.options,n=a.ext.chordData.edgesData,o=t.edgeStyle,u=t.tooltip,l=e.createView();l.data(n);var c={xField:t3,yField:e3,seriesField:n3,edge:{style:o,shape:"arc"},tooltip:u};return IO({chart:l,options:c}),a}function zK(a){var e=a.chart,t=a.options,n=t.animation;return typeof n=="boolean"?e.animate(n):e.animate(!0),(0,w.each)(sU(e),function(o){o.animate(n)}),a}function UK(a){return oa(Oo,PK,kK,LK,RK,FK,NK,GK,BK,Rs,o0,zK)(a)}var jK=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type="chord",t}return e.getDefaultOptions=function(){return DK},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return UK},e}(Ma),WK={field:"value",as:["x","y","r"],sort:function(a,e){return e.value-a.value}};function VK(a,e){e=(0,w.assign)({},WK,e);var t=e.as;if(!(0,w.isArray)(t)||t.length!==3)throw new TypeError('Invalid as: it must be an array with 3 strings (e.g. [ "x", "y", "r" ])!');var n;try{n=V_(e)}catch(h){console.warn(h)}var o=function(h){return EP().size(e.size).padding(e.padding)(Ym(h).sum(function(v){return v[n]}).sort(e.sort))},u=o(a),l=t[0],c=t[1],f=t[2];return u.each(function(h){h[l]=h.x,h[c]=h.y,h[f]=h.r}),H_(u)}function i3(a){var e=a.data,t=a.hierarchyConfig,n=a.rawFields,o=n===void 0?[]:n,u=a.enableDrillDown,l=VK(e,(0,Z.__assign)((0,Z.__assign)({},t),{field:"value",as:["x","y","r"]})),c=[];return l.forEach(function(f){for(var h,v=f.data.name,p=(0,Z.__assign)({},f);p.depth>1;)v=((h=p.parent.data)===null||h===void 0?void 0:h.name)+" / "+v,p=p.parent;if(u&&f.depth>2)return null;var g=yn({},f.data,(0,Z.__assign)((0,Z.__assign)((0,Z.__assign)({},Ko(f.data,o)),{path:v}),f));g.ext=t,g[ob]={hierarchyConfig:t,rawFields:o,enableDrillDown:u},c.push(g)}),c}function a3(a,e,t){var n=g_([a,e]),o=n[0],u=n[1],l=n[2],c=n[3],f=t.width,h=t.height,v=f-(c+u),p=h-(o+l),g=Math.min(v,p),E=(v-g)/2,D=(p-g)/2,G=o+D,H=u+E,X=l+D,rt=c+E,ht=[G,H,X,rt],mt=g<0?0:g;return{finalPadding:ht,finalSize:mt}}var HK=["x","y","r","name","value","path","depth"],YK={colorField:"name",autoFit:!0,pointStyle:{lineWidth:0,stroke:"#fff"},legend:!1,hierarchyConfig:{size:[1,1],padding:0},label:{fields:["name"],layout:{type:"limit-in-shape"}},tooltip:{showMarkers:!1,showTitle:!1},drilldown:{enabled:!1}};function XK(a){var e=a.chart,t=Math.min(e.viewBBox.width,e.viewBBox.height);return yn({options:{size:function(n){var o=n.r;return o*t}}},a)}function $K(a){var e=a.options,t=a.chart,n=t.viewBBox,o=e.padding,u=e.appendPadding,l=e.drilldown,c=u;if(l!=null&&l.enabled){var f=zE(t.appendPadding,(0,w.get)(l,["breadCrumb","position"]));c=g_([f,u])}var h=a3(o,c,n).finalPadding;return t.padding=h,t.appendPadding=0,a}function KK(a){var e=a.chart,t=a.options,n=e.padding,o=e.appendPadding,u=t.color,l=t.colorField,c=t.pointStyle,f=t.hierarchyConfig,h=t.sizeField,v=t.rawFields,p=v===void 0?[]:v,g=t.drilldown,E=i3({data:t.data,hierarchyConfig:f,enableDrillDown:g==null?void 0:g.enabled,rawFields:p});e.data(E);var D=e.viewBBox,G=a3(n,o,D).finalSize,H=function(X){var rt=X.r;return rt*G};return h&&(H=function(X){return X[h]*G}),xv(yn({},a,{options:{xField:"x",yField:"y",seriesField:l,sizeField:h,rawFields:(0,Z.__spreadArrays)(HK,p),point:{color:u,style:c,shape:"circle",size:H}}})),a}function ZK(a){return oa(Tu({},{x:{min:0,max:1,minLimit:0,maxLimit:1,nice:!0},y:{min:0,max:1,minLimit:0,maxLimit:1,nice:!0}}))(a)}function QK(a){var e=a.chart,t=a.options,n=t.tooltip;if(n===!1)e.tooltip(!1);else{var o=n;(0,w.get)(n,"fields")||(o=yn({},{customItems:function(u){return u.map(function(l){var c=(0,w.get)(e.getOptions(),"scales"),f=(0,w.get)(c,["name","formatter"],function(v){return v}),h=(0,w.get)(c,["value","formatter"],function(v){return v});return(0,Z.__assign)((0,Z.__assign)({},l),{name:f(l.data.name),value:h(l.data.value)})})}},o)),e.tooltip(o)}return a}function JK(a){var e=a.chart;return e.axis(!1),a}function qK(a){var e=a.drilldown,t=a.interactions,n=t===void 0?[]:t;return e!=null&&e.enabled?yn({},a,{interactions:(0,Z.__spreadArrays)(n,[{type:"drill-down",cfg:{drillDownConfig:e,transformData:i3,enableDrillDown:!0}}])}):a}function tZ(a){var e=a.chart,t=a.options;return Rs({chart:e,options:qK(t)}),a}function eZ(a){return oa(mv("pointStyle"),XK,$K,Oo,ZK,KK,JK,iy,QK,tZ,Zo,Mu())(a)}var mct=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type="circle-packing",t}return e.getDefaultOptions=function(){return YK},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return eZ},e.prototype.triggerResize=function(){this.chart.destroyed||(this.chart.forceFit(),this.chart.clear(),this.execAdaptor(),this.chart.render(!0))},e}(Ma),xct=function(a){(0,Z.__extends)(e,a);function e(t,n,o,u){var l=a.call(this,t,yn({},u,n))||this;return l.type="g2-plot",l.defaultOptions=u,l.adaptor=o,l}return e.prototype.getDefaultOptions=function(){return this.defaultOptions},e.prototype.getSchemaAdaptor=function(){return this.adaptor},e}(Ma),rZ={line:PO,pie:XO,column:KE,bar:UO,area:FO,gauge:GP,"tiny-line":cD,"tiny-column":hD,"tiny-area":lD,"ring-progress":_D,progress:ED,scatter:tD,histogram:yD,funnel:ZD},nZ={line:LO,pie:$O,column:zO,bar:jO,area:NO,gauge:zP,"tiny-line":fD,"tiny-column":dD,"tiny-area":vD,"ring-progress":AD,progress:SD,scatter:eD,histogram:mD,funnel:QD},iZ={pie:{label:!1},column:{tooltip:{showMarkers:!1}},bar:{tooltip:{showMarkers:!1}}};function o3(a,e,t){var n=nZ[a];if(!n){console.error("could not find "+a+" plot");return}var o=rZ[a];o({chart:e,options:yn({},n.getDefaultOptions(),(0,w.get)(iZ,a,{}),t)})}function aZ(a){var e=a.chart,t=a.options,n=t.views,o=t.legend;return(0,w.each)(n,function(u){var l=u.region,c=u.data,f=u.meta,h=u.axes,v=u.coordinate,p=u.interactions,g=u.annotations,E=u.tooltip,D=u.geometries,G=e.createView({region:l});G.data(c);var H={};h&&(0,w.each)(h,function(X,rt){H[rt]=Ko(X,Xd)}),H=yn({},f,H),G.scale(H),h?(0,w.each)(h,function(X,rt){G.axis(rt,X)}):G.axis(!1),G.coordinate(v),(0,w.each)(D,function(X){var rt=$d({chart:G,options:X}).ext,ht=X.adjust;ht&&rt.geometry.adjust(ht)}),(0,w.each)(p,function(X){X.enable===!1?G.removeInteraction(X.type):G.interaction(X.type,X.cfg)}),(0,w.each)(g,function(X){G.annotation()[X.type]((0,Z.__assign)({},X))}),typeof u.animation=="boolean"?G.animate(!1):(G.animate(!0),(0,w.each)(G.geometries,function(X){X.animate(u.animation)})),E&&(G.interaction("tooltip"),G.tooltip(E))}),o?(0,w.each)(o,function(u,l){e.legend(l,u)}):e.legend(!1),e.tooltip(t.tooltip),a}function oZ(a){var e=a.chart,t=a.options,n=t.plots;return(0,w.each)(n,function(o){var u=o.type,l=o.region,c=o.options,f=c===void 0?{}:c,h=f.tooltip,v=e.createView((0,Z.__assign)({region:l},Ko(f,CO)));h&&v.interaction("tooltip"),o3(u,v,f)}),a}function sZ(a){return oa(Zo,aZ,oZ,Rs,Zo,Oo,Wl)(a)}function uZ(a,e){var t=a.getModel(),n=t.data,o;return(0,w.isArray)(n)?o=n[0][e]:o=n[e],o}function lZ(a){var e=BE(a);(0,w.each)(e,function(t){t.hasState("active")&&t.setState("active",!1),t.hasState("selected")&&t.setState("selected",!1),t.hasState("inactive")&&t.setState("inactive",!1)})}var cZ=function(a){(0,Z.__extends)(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.getAssociationItems=function(t,n){var o,u=this.context.event,l=n||{},c=l.linkField,f=l.dim,h=[];if(!((o=u.data)===null||o===void 0)&&o.data){var v=u.data.data;(0,w.each)(t,function(p){var g,E,D=c;if(f==="x"?D=p.getXScale().field:f==="y"?D=(g=p.getYScales().find(function(H){return H.field===D}))===null||g===void 0?void 0:g.field:D||(D=(E=p.getGroupScales()[0])===null||E===void 0?void 0:E.field),!!D){var G=(0,w.map)(BE(p),function(H){var X=!1,rt=!1,ht=(0,w.isArray)(v)?(0,w.get)(v[0],D):(0,w.get)(v,D);return uZ(H,D)===ht?X=!0:rt=!0,{element:H,view:p,active:X,inactive:rt}});h.push.apply(h,G)}})}return h},e.prototype.showTooltip=function(t){var n=pO(this.context.view),o=this.getAssociationItems(n,t);(0,w.each)(o,function(u){if(u.active){var l=u.element.shape.getCanvasBBox();u.view.showTooltip({x:l.minX+l.width/2,y:l.minY+l.height/2})}})},e.prototype.hideTooltip=function(){var t=pO(this.context.view);(0,w.each)(t,function(n){n.hideTooltip()})},e.prototype.active=function(t){var n=$x(this.context.view),o=this.getAssociationItems(n,t);(0,w.each)(o,function(u){var l=u.active,c=u.element;l&&c.setState("active",!0)})},e.prototype.selected=function(t){var n=$x(this.context.view),o=this.getAssociationItems(n,t);(0,w.each)(o,function(u){var l=u.active,c=u.element;l&&c.setState("selected",!0)})},e.prototype.highlight=function(t){var n=$x(this.context.view),o=this.getAssociationItems(n,t);(0,w.each)(o,function(u){var l=u.inactive,c=u.element;l&&c.setState("inactive",!0)})},e.prototype.reset=function(){var t=$x(this.context.view);(0,w.each)(t,function(n){lZ(n)})},e}(Ws);na("association",cZ),Ta("association-active",{start:[{trigger:"element:mouseenter",action:"association:active"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]}),Ta("association-selected",{start:[{trigger:"element:mouseenter",action:"association:selected"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]}),Ta("association-highlight",{start:[{trigger:"element:mouseenter",action:"association:highlight"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]}),Ta("association-tooltip",{start:[{trigger:"element:mousemove",action:"association:showTooltip"}],end:[{trigger:"element:mouseleave",action:"association:hideTooltip"}]});var s3=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type="mix",t}return e.prototype.getSchemaAdaptor=function(){return sZ},e}(Ma);function fZ(a,e){var t=e.data,n=e.coordinate,o=e.interactions,u=e.annotations,l=e.animation,c=e.tooltip,f=e.axes,h=e.meta,v=e.geometries;t&&a.data(t);var p={};f&&(0,w.each)(f,function(g,E){p[E]=Ko(g,Xd)}),p=yn({},h,p),a.scale(p),n&&a.coordinate(n),f===!1?a.axis(!1):(0,w.each)(f,function(g,E){a.axis(E,g)}),(0,w.each)(v,function(g){var E=$d({chart:a,options:g}).ext,D=g.adjust;D&&E.geometry.adjust(D)}),(0,w.each)(o,function(g){g.enable===!1?a.removeInteraction(g.type):a.interaction(g.type,g.cfg)}),(0,w.each)(u,function(g){a.annotation()[g.type]((0,Z.__assign)({},g))}),typeof l=="boolean"?a.animate(!1):(a.animate(!0),(0,w.each)(a.geometries,function(g){g.animate(l)})),c?(a.interaction("tooltip"),a.tooltip(c)):c===!1&&a.removeInteraction("tooltip")}function hZ(a){var e=a.chart,t=a.options,n=t.type,o=t.data,u=t.fields,l=t.eachView,c=(0,w.omit)(t,["type","data","fields","eachView","axes","meta","tooltip","coordinate","theme","legend","interactions","annotations"]);return e.data(o),e.facet(n,(0,Z.__assign)((0,Z.__assign)({},c),{fields:u,eachView:function(f,h){var v=l(f,h);if(v.geometries)fZ(f,v);else{var p=v,g=p.options;g.tooltip&&f.interaction("tooltip"),o3(p.type,f,g)}}})),a}function dZ(a){var e=a.chart,t=a.options,n=t.axes,o=t.meta,u=t.tooltip,l=t.coordinate,c=t.theme,f=t.legend,h=t.interactions,v=t.annotations,p={};return n&&(0,w.each)(n,function(g,E){p[E]=Ko(g,Xd)}),p=yn({},o,p),e.scale(p),e.coordinate(l),n?(0,w.each)(n,function(g,E){e.axis(E,g)}):e.axis(!1),u?(e.interaction("tooltip"),e.tooltip(u)):u===!1&&e.removeInteraction("tooltip"),e.legend(f),c&&e.theme(c),(0,w.each)(h,function(g){g.enable===!1?e.removeInteraction(g.type):e.interaction(g.type,g.cfg)}),(0,w.each)(v,function(g){e.annotation()[g.type]((0,Z.__assign)({},g))}),a}function vZ(a){return oa(Oo,hZ,dZ)(a)}var pZ={title:{style:{fontSize:12,fill:"rgba(0,0,0,0.65)"}},rowTitle:{style:{fontSize:12,fill:"rgba(0,0,0,0.65)"}},columnTitle:{style:{fontSize:12,fill:"rgba(0,0,0,0.65)"}}},bct=function(a){(0,Z.__extends)(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type="area",t}return e.getDefaultOptions=function(){return pZ},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return vZ},e}(Ma),Km;(function(a){a.DEV="DEV",a.BETA="BETA",a.STABLE="STABLE"})(Km||(Km={}));function gZ(a,e){console.warn(a===Km.DEV?"Plot '"+e+"' is in DEV stage, just give us issues.":a===Km.BETA?"Plot '"+e+"' is in BETA stage, DO NOT use it in production env.":a===Km.STABLE?"Plot '"+e+`' is in STABLE stage, import it by "import { `+e+` } from '@antv/g2plot'".`:"invalid Stage type.")}var Ect=function(){function a(){}return Object.defineProperty(a,"MultiView",{get:function(){return gZ(Km.STABLE,"MultiView"),s3},enumerable:!1,configurable:!0}),a}(),Sct="2.4.10";_O("en-US",bU),_O("zh-CN",EU);var yZ={scale:Tu,legend:iy,tooltip:Wl,annotation:Mu,interaction:Rs,theme:Oo,animation:Zo},mZ=function(a,e){var t={}.toString;return t.call(a)==="[object "+e+"]"},xZ=function(a){if(!a)return a;var e={};for(var t in a)e[t]=a[t];return e},Zm=function(a){if(!a)return a;var e=new a.constructor,t=function(o){return Object.prototype.toString.call(o).slice(8,-1)};for(var n in a)a.hasOwnProperty(n)&&(e[n]=t(a[n])==="Object"||t(a[n])==="Array"?Zm(a[n]):a[n]);return e},bZ=function(a,e){for(var t=a,n=0;n<e.length;n+=1)if(t!=null&&t[e[n]])t=t[e[n]];else{t=void 0;break}return t},EZ=function(a,e,t){if(!a)return a;var n=a;return e.forEach(function(o,u){u<e.length-1?n=n[o]:n[o]=t}),a},gs=function(a,e){!a||((0,w.isFunction)(a)?a(e):a.current=e)},c0={isType:mZ,clone:xZ,hasPath:bZ,setPath:EZ,deepClone:Zm},SZ=function(a,e){var t=document.createElement("div");return e==="tooltip"&&(t.className="g2-tooltip"),tn.render(a,t),t},wZ=SZ,aA=function(){return aA=Object.assign||function(a){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(a[o]=e[o])}return a},aA.apply(this,arguments)},u3=function(a,e){var t={};for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&e.indexOf(n)<0&&(t[n]=a[n]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(a);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(a,n[o])&&(t[n[o]]=a[n[o]]);return t};function ys(a,e){var t=(0,_e.useRef)(),n=(0,_e.useRef)(),o=(0,_e.useRef)(null),u=e.onReady,l=e.onEvent,c=function(p,g){var E;return p===void 0&&(p="image/png"),(E=t.current)===null||E===void 0?void 0:E.chart.canvas.cfg.el.toDataURL(p,g)},f=function(p,g,E){var D;p===void 0&&(p="download"),g===void 0&&(g="image/png");var G=p;p.indexOf(".")===-1&&(G=p+"."+g.split("/")[1]);var H=(D=t.current)===null||D===void 0?void 0:D.chart.canvas.cfg.el.toDataURL(g,E),X=document.createElement("a");return X.href=H,X.download=G,document.body.appendChild(X),X.click(),document.body.removeChild(X),X=null,G},h=function(p,g,E){var D=c0.hasPath,G=c0.setPath,H=D(p,g);G(p,g,function(){for(var X=[],rt=0;rt<arguments.length;rt++)X[rt]=arguments[rt];var ht=c0.isType(H,"Function")?H.apply(void 0,X):H;return c0.isType(ht,"String")||c0.isType(ht,"Number")||c0.isType(ht,"HTMLDivElement")?ht:wZ(ht,E)})},v=function(){var p=c0.hasPath;p(e,["statistic","content","customHtml"])&&h(e,["statistic","content","customHtml"]),p(e,["statistic","title","customHtml"])&&h(e,["statistic","title","customHtml"]),typeof e.tooltip=="object"&&(p(e,["tooltip","container"])&&h(e,["tooltip","container"],"tooltip"),p(e,["tooltip","customContent"])&&h(e,["tooltip","customContent"],"tooltip"))};return(0,_e.useEffect)(function(){if(t.current&&!(0,w.isEqual)(n.current,e)){var p=!1;if(n.current){var g=n.current,E=g.data,D=g.value,G=g.percent,H=u3(g,["data","value","percent"]),X=e.data,rt=e.value,ht=e.percent,mt=u3(e,["data","value","percent"]);p=(0,w.isEqual)(H,mt)}if(p){var Dt="data",kt=["percent"],Vt=Object.keys(e);kt.forEach(function(te){Vt.includes(te)&&(Dt=te)}),t.current.changeData((e==null?void 0:e[Dt])||[])}else v(),t.current.update(e);n.current=e}},[e]),(0,_e.useEffect)(function(){if(!o.current)return function(){return null};v();var p=new a(o.current,aA({},e));a.prototype.toDataURL=function(E,D){return c(E,D)},a.prototype.downloadImage=function(E,D,G){return f(E,D,G)},p.render(),n.current||(n.current=e),t.current=c0.clone(p),u&&u(p);var g=function(E){l&&l(p,E)};return p.on("*",g),function(){t.current&&(t.current.destroy(),t.current.off("*",g),t.current=void 0)}},[]),{chart:t,container:o}}var _Z=function(){var a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(n[u]=o[u])},a(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),AZ=function(a){_Z(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.state={hasError:!1},t.renderError=function(n){var o=t.props.errorTemplate;switch(n){default:return o&&typeof o=="function"?o(n):_e.createElement("h5",null,"\u7EC4\u4EF6\u51FA\u9519\u4E86\uFF0C\u8BF7\u6838\u67E5\u540E\u91CD\u8BD5\uFF1A ",n.message)}},t}return e.getDerivedStateFromError=function(t){return{hasError:!0,error:t}},e.getDerivedStateFromProps=function(t,n){return n.children!==t.children?{children:t.children,hasError:!1,error:void 0}:null},e.prototype.render=function(){return this.state.hasError?this.renderError(this.state.error):_e.createElement(_e.Fragment,null,this.props.children)},e}(_e.Component),Yo=AZ;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Kv=function(){return Kv=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var u in t)Object.prototype.hasOwnProperty.call(t,u)&&(e[u]=t[u])}return e},Kv.apply(this,arguments)};function CZ(a,e){var t={};for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&e.indexOf(n)<0&&(t[n]=a[n]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(a);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(a,n[o])&&(t[n[o]]=a[n[o]]);return t}var TZ=function(){return Math.random().toString(36).substring(6)},l3=function(a){var e=a.animate,t=a.backgroundColor,n=a.backgroundOpacity,o=a.baseUrl,u=a.children,l=a.foregroundColor,c=a.foregroundOpacity,f=a.gradientRatio,h=a.uniqueKey,v=a.interval,p=a.rtl,g=a.speed,E=a.style,D=a.title,G=CZ(a,["animate","backgroundColor","backgroundOpacity","baseUrl","children","foregroundColor","foregroundOpacity","gradientRatio","uniqueKey","interval","rtl","speed","style","title"]),H=h||TZ(),X=H+"-diff",rt=H+"-animated-diff",ht=H+"-aria",mt=p?{transform:"scaleX(-1)"}:null,Dt="0; "+v+"; 1",kt=g+"s";return(0,_e.createElement)("svg",Kv({"aria-labelledby":ht,role:"img",style:Kv(Kv({},E),mt)},G),D?(0,_e.createElement)("title",{id:ht},D):null,(0,_e.createElement)("rect",{role:"presentation",x:"0",y:"0",width:"100%",height:"100%",clipPath:"url("+o+"#"+X+")",style:{fill:"url("+o+"#"+rt+")"}}),(0,_e.createElement)("defs",{role:"presentation"},(0,_e.createElement)("clipPath",{id:X},u),(0,_e.createElement)("linearGradient",{id:rt},(0,_e.createElement)("stop",{offset:"0%",stopColor:t,stopOpacity:n},e&&(0,_e.createElement)("animate",{attributeName:"offset",values:-f+"; "+-f+"; 1",keyTimes:Dt,dur:kt,repeatCount:"indefinite"})),(0,_e.createElement)("stop",{offset:"50%",stopColor:l,stopOpacity:c},e&&(0,_e.createElement)("animate",{attributeName:"offset",values:-f/2+"; "+-f/2+"; "+(1+f/2),keyTimes:Dt,dur:kt,repeatCount:"indefinite"})),(0,_e.createElement)("stop",{offset:"100%",stopColor:t,stopOpacity:n},e&&(0,_e.createElement)("animate",{attributeName:"offset",values:"0; 0; "+(1+f),keyTimes:Dt,dur:kt,repeatCount:"indefinite"})))))};l3.defaultProps={animate:!0,backgroundColor:"#f5f6f7",backgroundOpacity:1,baseUrl:"",foregroundColor:"#eee",foregroundOpacity:1,gradientRatio:2,id:null,interval:.25,rtl:!1,speed:1.2,style:{},title:"Loading..."};var Qm=function(a){return a.children?(0,_e.createElement)(l3,Kv({},a)):(0,_e.createElement)(MZ,Kv({},a))},MZ=function(a){return(0,_e.createElement)(Qm,Kv({viewBox:"0 0 476 124"},a),(0,_e.createElement)("rect",{x:"48",y:"8",width:"88",height:"6",rx:"3"}),(0,_e.createElement)("rect",{x:"48",y:"26",width:"52",height:"6",rx:"3"}),(0,_e.createElement)("rect",{x:"0",y:"56",width:"410",height:"6",rx:"3"}),(0,_e.createElement)("rect",{x:"0",y:"72",width:"380",height:"6",rx:"3"}),(0,_e.createElement)("rect",{x:"0",y:"88",width:"178",height:"6",rx:"3"}),(0,_e.createElement)("circle",{cx:"20",cy:"20",r:"20"}))},wct=function(a){return createElement(Qm,Kv({viewBox:"0 0 400 460"},a),createElement("circle",{cx:"31",cy:"31",r:"15"}),createElement("rect",{x:"58",y:"18",rx:"2",ry:"2",width:"140",height:"10"}),createElement("rect",{x:"58",y:"34",rx:"2",ry:"2",width:"140",height:"10"}),createElement("rect",{x:"0",y:"60",rx:"2",ry:"2",width:"400",height:"400"}))},_ct=function(a){return createElement(Qm,Kv({viewBox:"0 0 340 84"},a),createElement("rect",{x:"0",y:"0",width:"67",height:"11",rx:"3"}),createElement("rect",{x:"76",y:"0",width:"140",height:"11",rx:"3"}),createElement("rect",{x:"127",y:"48",width:"53",height:"11",rx:"3"}),createElement("rect",{x:"187",y:"48",width:"72",height:"11",rx:"3"}),createElement("rect",{x:"18",y:"48",width:"100",height:"11",rx:"3"}),createElement("rect",{x:"0",y:"71",width:"37",height:"11",rx:"3"}),createElement("rect",{x:"18",y:"23",width:"140",height:"11",rx:"3"}),createElement("rect",{x:"166",y:"23",width:"173",height:"11",rx:"3"}))},Act=function(a){return createElement(Qm,Kv({viewBox:"0 0 400 110"},a),createElement("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"}),createElement("rect",{x:"20",y:"20",rx:"3",ry:"3",width:"220",height:"10"}),createElement("rect",{x:"20",y:"40",rx:"3",ry:"3",width:"170",height:"10"}),createElement("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"}),createElement("rect",{x:"20",y:"80",rx:"3",ry:"3",width:"200",height:"10"}),createElement("rect",{x:"20",y:"100",rx:"3",ry:"3",width:"80",height:"10"}))},Cct=function(a){return createElement(Qm,Kv({viewBox:"0 0 245 125"},a),createElement("circle",{cx:"10",cy:"20",r:"8"}),createElement("rect",{x:"25",y:"15",rx:"5",ry:"5",width:"220",height:"10"}),createElement("circle",{cx:"10",cy:"50",r:"8"}),createElement("rect",{x:"25",y:"45",rx:"5",ry:"5",width:"220",height:"10"}),createElement("circle",{cx:"10",cy:"80",r:"8"}),createElement("rect",{x:"25",y:"75",rx:"5",ry:"5",width:"220",height:"10"}),createElement("circle",{cx:"10",cy:"110",r:"8"}),createElement("rect",{x:"25",y:"105",rx:"5",ry:"5",width:"220",height:"10"}))},IZ=Qm,OZ=function(a){var e=a.loadingTemplate,t=function(){return e||_e.createElement(IZ,{viewBox:"0 0 400 180",width:200,height:90,speed:1},_e.createElement("rect",{x:"20",y:"5",rx:"0",ry:"0",width:"1",height:"170"}),_e.createElement("rect",{x:"20",y:"175",rx:"0",ry:"0",width:"360",height:"1"}),_e.createElement("rect",{x:"40",y:"75",rx:"0",ry:"0",width:"35",height:"100"}),_e.createElement("rect",{x:"80",y:"125",rx:"0",ry:"0",width:"35",height:"50"}),_e.createElement("rect",{x:"120",y:"105",rx:"0",ry:"0",width:"35",height:"70"}),_e.createElement("rect",{x:"160",y:"35",rx:"0",ry:"0",width:"35",height:"140"}),_e.createElement("rect",{x:"200",y:"55",rx:"0",ry:"0",width:"35",height:"120"}),_e.createElement("rect",{x:"240",y:"15",rx:"0",ry:"0",width:"35",height:"160"}),_e.createElement("rect",{x:"280",y:"135",rx:"0",ry:"0",width:"35",height:"40"}),_e.createElement("rect",{x:"320",y:"85",rx:"0",ry:"0",width:"35",height:"90"}))};return _e.createElement("div",{style:{position:"absolute",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",left:0,top:0,zIndex:99,backgroundColor:"#fff"}},t())},ms=OZ,DZ=function(a,e){var t={};for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&e.indexOf(n)<0&&(t[n]=a[n]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(a);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(a,n[o])&&(t[n[o]]=a[n[o]]);return t},PZ=(0,_e.forwardRef)(function(a,e){var t=a.chartRef,n=a.style,o=n===void 0?{height:"inherit"}:n,u=a.className,l=a.loading,c=a.loadingTemplate,f=a.errorTemplate,h=DZ(a,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),v=ys(NO,h),p=v.chart,g=v.container;return(0,_e.useEffect)(function(){gs(t,p.current)},[p.current]),(0,_e.useImperativeHandle)(e,function(){return{getChart:function(){return p.current}}}),_e.createElement(Yo,{errorTemplate:f},l&&_e.createElement(ms,{loadingTemplate:c}),_e.createElement("div",{className:u,style:o,ref:g}))}),c3=PZ,LZ=function(a,e){var t={};for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&e.indexOf(n)<0&&(t[n]=a[n]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(a);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(a,n[o])&&(t[n[o]]=a[n[o]]);return t},RZ=(0,_e.forwardRef)(function(a,e){var t=a.chartRef,n=a.style,o=n===void 0?{height:"inherit"}:n,u=a.className,l=a.loading,c=a.loadingTemplate,f=a.errorTemplate,h=LZ(a,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),v=ys(jO,h),p=v.chart,g=v.container;return(0,_e.useEffect)(function(){gs(t,p.current)},[p.current]),(0,_e.useImperativeHandle)(e,function(){return{getChart:function(){return p.current}}}),_e.createElement(Yo,{errorTemplate:f},l&&_e.createElement(ms,{loadingTemplate:c}),_e.createElement("div",{className:u,style:o,ref:g}))}),f3=RZ,FZ=function(a,e){var t={};for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&e.indexOf(n)<0&&(t[n]=a[n]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(a);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(a,n[o])&&(t[n[o]]=a[n[o]]);return t},NZ=(0,_e.forwardRef)(function(a,e){var t=a.chartRef,n=a.style,o=n===void 0?{height:"inherit"}:n,u=a.className,l=a.loading,c=a.loadingTemplate,f=a.errorTemplate,h=FZ(a,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),v=ys(jY,h),p=v.chart,g=v.container;return(0,_e.useEffect)(function(){gs(t,p.current)},[p.current]),(0,_e.useImperativeHandle)(e,function(){return{getChart:function(){return p.current}}}),_e.createElement(Yo,{errorTemplate:f},l&&_e.createElement(ms,{loadingTemplate:c}),_e.createElement("div",{className:u,style:o,ref:g}))}),kZ=NZ,BZ=function(a,e){var t={};for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&e.indexOf(n)<0&&(t[n]=a[n]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(a);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(a,n[o])&&(t[n[o]]=a[n[o]]);return t},GZ=(0,_e.forwardRef)(function(a,e){var t=a.chartRef,n=a.style,o=n===void 0?{height:"inherit"}:n,u=a.className,l=a.loading,c=a.loadingTemplate,f=a.errorTemplate,h=BZ(a,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),v=ys(zO,h),p=v.chart,g=v.container;return(0,_e.useEffect)(function(){gs(t,p.current)},[p.current]),(0,_e.useImperativeHandle)(e,function(){return{getChart:function(){return p.current}}}),_e.createElement(Yo,{errorTemplate:f},l&&_e.createElement(ms,{loadingTemplate:c}),_e.createElement("div",{className:u,style:o,ref:g}))}),h3=GZ,zZ=function(a,e){var t={};for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&e.indexOf(n)<0&&(t[n]=a[n]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(a);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(a,n[o])&&(t[n[o]]=a[n[o]]);return t},UZ=(0,_e.forwardRef)(function(a,e){var t=a.chartRef,n=a.style,o=n===void 0?{height:"inherit"}:n,u=a.className,l=a.loading,c=a.loadingTemplate,f=a.errorTemplate,h=zZ(a,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),v=ys(QD,h),p=v.chart,g=v.container;return(0,_e.useEffect)(function(){gs(t,p.current)},[p.current]),(0,_e.useImperativeHandle)(e,function(){return{getChart:function(){return p.current}}}),_e.createElement(Yo,{errorTemplate:f},l&&_e.createElement(ms,{loadingTemplate:c}),_e.createElement("div",{className:u,style:o,ref:g}))}),jZ=UZ,WZ=function(a,e){var t={};for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&e.indexOf(n)<0&&(t[n]=a[n]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(a);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(a,n[o])&&(t[n[o]]=a[n[o]]);return t},VZ=(0,_e.forwardRef)(function(a,e){var t=a.chartRef,n=a.style,o=n===void 0?{height:"inherit"}:n,u=a.className,l=a.loading,c=a.loadingTemplate,f=a.errorTemplate,h=WZ(a,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),v=ys(mD,h),p=v.chart,g=v.container;return(0,_e.useEffect)(function(){gs(t,p.current)},[p.current]),(0,_e.useImperativeHandle)(e,function(){return{getChart:function(){return p.current}}}),_e.createElement(Yo,{errorTemplate:f},l&&_e.createElement(ms,{loadingTemplate:c}),_e.createElement("div",{className:u,style:o,ref:g}))}),HZ=VZ,YZ=function(a,e){var t={};for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&e.indexOf(n)<0&&(t[n]=a[n]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(a);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(a,n[o])&&(t[n[o]]=a[n[o]]);return t},XZ=(0,_e.forwardRef)(function(a,e){var t=a.chartRef,n=a.style,o=n===void 0?{height:"inherit"}:n,u=a.className,l=a.loading,c=a.loadingTemplate,f=a.errorTemplate,h=YZ(a,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),v=ys(LO,h),p=v.chart,g=v.container;return(0,_e.useEffect)(function(){gs(t,p.current)},[p.current]),(0,_e.useImperativeHandle)(e,function(){return{getChart:function(){return p.current}}}),_e.createElement(Yo,{errorTemplate:f},l&&_e.createElement(ms,{loadingTemplate:c}),_e.createElement("div",{className:u,style:o,ref:g}))}),d3=XZ,$Z=function(a,e){var t={};for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&e.indexOf(n)<0&&(t[n]=a[n]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(a);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(a,n[o])&&(t[n[o]]=a[n[o]]);return t},KZ=(0,_e.forwardRef)(function(a,e){var t=a.chartRef,n=a.style,o=n===void 0?{height:"inherit"}:n,u=a.className,l=a.loading,c=a.loadingTemplate,f=a.errorTemplate,h=$Z(a,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),v=ys(NV,h),p=v.chart,g=v.container;return(0,_e.useEffect)(function(){gs(t,p.current)},[p.current]),(0,_e.useImperativeHandle)(e,function(){return{getChart:function(){return p.current}}}),_e.createElement(Yo,{errorTemplate:f},l&&_e.createElement(ms,{loadingTemplate:c}),_e.createElement("div",{className:u,style:o,ref:g}))}),ZZ=KZ,QZ=function(a,e){var t={};for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&e.indexOf(n)<0&&(t[n]=a[n]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(a);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(a,n[o])&&(t[n[o]]=a[n[o]]);return t},JZ=(0,_e.forwardRef)(function(a,e){var t=a.chartRef,n=a.style,o=n===void 0?{height:"inherit"}:n,u=a.className,l=a.loading,c=a.loadingTemplate,f=a.errorTemplate,h=QZ(a,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),v=ys(FY,h),p=v.chart,g=v.container;return(0,_e.useEffect)(function(){gs(t,p.current)},[p.current]),(0,_e.useImperativeHandle)(e,function(){return{getChart:function(){return p.current}}}),_e.createElement(Yo,{errorTemplate:f},l&&_e.createElement(ms,{loadingTemplate:c}),_e.createElement("div",{className:u,style:o,ref:g}))}),qZ=JZ,tQ=function(a,e){var t={};for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&e.indexOf(n)<0&&(t[n]=a[n]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(a);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(a,n[o])&&(t[n[o]]=a[n[o]]);return t},eQ=(0,_e.forwardRef)(function(a,e){var t=a.chartRef,n=a.style,o=n===void 0?{height:"inherit"}:n,u=a.className,l=a.loading,c=a.loadingTemplate,f=a.errorTemplate,h=tQ(a,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),v=ys(CV,h),p=v.chart,g=v.container;return(0,_e.useEffect)(function(){gs(t,p.current)},[p.current]),(0,_e.useImperativeHandle)(e,function(){return{getChart:function(){return p.current}}}),_e.createElement(Yo,{errorTemplate:f},l&&_e.createElement(ms,{loadingTemplate:c}),_e.createElement("div",{className:u,style:o,ref:g}))}),rQ=eQ,nQ=function(a,e){var t={};for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&e.indexOf(n)<0&&(t[n]=a[n]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(a);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(a,n[o])&&(t[n[o]]=a[n[o]]);return t},iQ=(0,_e.forwardRef)(function(a,e){var t=a.chartRef,n=a.style,o=n===void 0?{height:"inherit"}:n,u=a.className,l=a.loading,c=a.loadingTemplate,f=a.errorTemplate,h=nQ(a,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),v=ys($O,h),p=v.chart,g=v.container;return(0,_e.useEffect)(function(){gs(t,p.current)},[p.current]),(0,_e.useImperativeHandle)(e,function(){return{getChart:function(){return p.current}}}),_e.createElement(Yo,{errorTemplate:f},l&&_e.createElement(ms,{loadingTemplate:c}),_e.createElement("div",{className:u,style:o,ref:g}))}),aQ=iQ,oQ=function(a,e){var t={};for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&e.indexOf(n)<0&&(t[n]=a[n]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(a);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(a,n[o])&&(t[n[o]]=a[n[o]]);return t},sQ=(0,_e.forwardRef)(function(a,e){var t=a.chartRef,n=a.style,o=n===void 0?{height:"inherit"}:n,u=a.className,l=a.loading,c=a.loadingTemplate,f=a.errorTemplate,h=oQ(a,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),v=ys(zP,h),p=v.chart,g=v.container;return(0,_e.useEffect)(function(){gs(t,p.current)},[p.current]),(0,_e.useImperativeHandle)(e,function(){return{getChart:function(){return p.current}}}),_e.createElement(Yo,{errorTemplate:f},l&&_e.createElement(ms,{loadingTemplate:c}),_e.createElement("div",{className:u,style:o,ref:g}))}),uQ=sQ,lQ=function(a,e){var t={};for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&e.indexOf(n)<0&&(t[n]=a[n]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(a);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(a,n[o])&&(t[n[o]]=a[n[o]]);return t},cQ=(0,_e.forwardRef)(function(a,e){var t=a.chartRef,n=a.style,o=n===void 0?{height:"inherit"}:n,u=a.className,l=a.loading,c=a.loadingTemplate,f=a.errorTemplate,h=lQ(a,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),v=ys(SD,h),p=v.chart,g=v.container;return(0,_e.useEffect)(function(){gs(t,p.current)},[p.current]),(0,_e.useImperativeHandle)(e,function(){return{getChart:function(){return p.current}}}),_e.createElement(Yo,{errorTemplate:f},l&&_e.createElement(ms,{loadingTemplate:c}),_e.createElement("div",{className:u,style:o,ref:g}))}),fQ=cQ,hQ=function(a,e){var t={};for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&e.indexOf(n)<0&&(t[n]=a[n]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(a);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(a,n[o])&&(t[n[o]]=a[n[o]]);return t},dQ=(0,_e.forwardRef)(function(a,e){var t=a.chartRef,n=a.style,o=n===void 0?{height:"inherit"}:n,u=a.className,l=a.loading,c=a.loadingTemplate,f=a.errorTemplate,h=hQ(a,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),v=ys(FW,h),p=v.chart,g=v.container;return(0,_e.useEffect)(function(){gs(t,p.current)},[p.current]),(0,_e.useImperativeHandle)(e,function(){return{getChart:function(){return p.current}}}),_e.createElement(Yo,{errorTemplate:f},l&&_e.createElement(ms,{loadingTemplate:c}),_e.createElement("div",{className:u,style:o,ref:g}))}),vQ=dQ,pQ=function(a,e){var t={};for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&e.indexOf(n)<0&&(t[n]=a[n]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(a);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(a,n[o])&&(t[n[o]]=a[n[o]]);return t},gQ=(0,_e.forwardRef)(function(a,e){var t=a.chartRef,n=a.style,o=n===void 0?{height:"inherit"}:n,u=a.className,l=a.loading,c=a.loadingTemplate,f=a.errorTemplate,h=pQ(a,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),v=ys(AD,h),p=v.chart,g=v.container;return(0,_e.useEffect)(function(){gs(t,p.current)},[p.current]),(0,_e.useImperativeHandle)(e,function(){return{getChart:function(){return p.current}}}),_e.createElement(Yo,{errorTemplate:f},l&&_e.createElement(ms,{loadingTemplate:c}),_e.createElement("div",{className:u,style:o,ref:g}))}),yQ=gQ,mQ=function(a,e){var t={};for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&e.indexOf(n)<0&&(t[n]=a[n]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(a);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(a,n[o])&&(t[n[o]]=a[n[o]]);return t},xQ=(0,_e.forwardRef)(function(a,e){var t=a.chartRef,n=a.style,o=n===void 0?{height:"inherit"}:n,u=a.className,l=a.loading,c=a.loadingTemplate,f=a.errorTemplate,h=mQ(a,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),v=ys(Fj,h),p=v.chart,g=v.container;return(0,_e.useEffect)(function(){gs(t,p.current)},[p.current]),(0,_e.useImperativeHandle)(e,function(){return{getChart:function(){return p.current}}}),_e.createElement(Yo,{errorTemplate:f},l&&_e.createElement(ms,{loadingTemplate:c}),_e.createElement("div",{className:u,style:o,ref:g}))}),bQ=xQ,EQ=function(a,e){var t={};for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&e.indexOf(n)<0&&(t[n]=a[n]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(a);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(a,n[o])&&(t[n[o]]=a[n[o]]);return t},SQ=(0,_e.forwardRef)(function(a,e){var t=a.chartRef,n=a.style,o=n===void 0?{height:"inherit"}:n,u=a.className,l=a.loading,c=a.loadingTemplate,f=a.errorTemplate,h=EQ(a,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),v=ys(jK,h),p=v.chart,g=v.container;return(0,_e.useEffect)(function(){gs(t,p.current)},[p.current]),(0,_e.useImperativeHandle)(e,function(){return{getChart:function(){return p.current}}}),_e.createElement(Yo,{errorTemplate:f},l&&_e.createElement(ms,{loadingTemplate:c}),_e.createElement("div",{className:u,style:o,ref:g}))}),wQ=SQ,_Q=function(a,e){var t={};for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&e.indexOf(n)<0&&(t[n]=a[n]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(a);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(a,n[o])&&(t[n[o]]=a[n[o]]);return t},AQ=(0,_e.forwardRef)(function(a,e){var t=a.chartRef,n=a.style,o=n===void 0?{height:"inherit"}:n,u=a.className,l=a.loading,c=a.loadingTemplate,f=a.errorTemplate,h=_Q(a,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),v=ys(eD,h),p=v.chart,g=v.container;return(0,_e.useEffect)(function(){gs(t,p.current)},[p.current]),(0,_e.useImperativeHandle)(e,function(){return{getChart:function(){return p.current}}}),_e.createElement(Yo,{errorTemplate:f},l&&_e.createElement(ms,{loadingTemplate:c}),_e.createElement("div",{className:u,style:o,ref:g}))}),CQ=AQ,TQ=function(a,e){var t={};for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&e.indexOf(n)<0&&(t[n]=a[n]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(a);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(a,n[o])&&(t[n[o]]=a[n[o]]);return t},MQ=(0,_e.forwardRef)(function(a,e){var t=a.chartRef,n=a.style,o=n===void 0?{height:"inherit"}:n,u=a.className,l=a.loading,c=a.loadingTemplate,f=a.errorTemplate,h=TQ(a,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),v=ys(vD,h),p=v.chart,g=v.container;return(0,_e.useEffect)(function(){gs(t,p.current)},[p.current]),(0,_e.useImperativeHandle)(e,function(){return{getChart:function(){return p.current}}}),_e.createElement(Yo,{errorTemplate:f},l&&_e.createElement(ms,{loadingTemplate:c}),_e.createElement("div",{className:u,style:o,ref:g}))}),IQ=MQ,OQ=function(a,e){var t={};for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&e.indexOf(n)<0&&(t[n]=a[n]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(a);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(a,n[o])&&(t[n[o]]=a[n[o]]);return t},DQ=(0,_e.forwardRef)(function(a,e){var t=a.chartRef,n=a.style,o=n===void 0?{height:"inherit"}:n,u=a.className,l=a.loading,c=a.loadingTemplate,f=a.errorTemplate,h=OQ(a,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),v=ys(dD,h),p=v.chart,g=v.container;return(0,_e.useEffect)(function(){gs(t,p.current)},[p.current]),(0,_e.useImperativeHandle)(e,function(){return{getChart:function(){return p.current}}}),_e.createElement(Yo,{errorTemplate:f},l&&_e.createElement(ms,{loadingTemplate:c}),_e.createElement("div",{className:u,style:o,ref:g}))}),PQ=DQ,LQ=function(a,e){var t={};for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&e.indexOf(n)<0&&(t[n]=a[n]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(a);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(a,n[o])&&(t[n[o]]=a[n[o]]);return t},RQ=(0,_e.forwardRef)(function(a,e){var t=a.chartRef,n=a.style,o=n===void 0?{height:"inherit"}:n,u=a.className,l=a.loading,c=a.loadingTemplate,f=a.errorTemplate,h=LQ(a,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),v=ys(tV,h),p=v.chart,g=v.container;return(0,_e.useEffect)(function(){gs(t,p.current)},[p.current]),(0,_e.useImperativeHandle)(e,function(){return{getChart:function(){return p.current}}}),_e.createElement(Yo,{errorTemplate:f},l&&_e.createElement(ms,{loadingTemplate:c}),_e.createElement("div",{className:u,style:o,ref:g}))}),v3=RQ,FQ=function(a,e){var t={};for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&e.indexOf(n)<0&&(t[n]=a[n]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(a);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(a,n[o])&&(t[n[o]]=a[n[o]]);return t},NQ=(0,_e.forwardRef)(function(a,e){var t=a.chartRef,n=a.style,o=n===void 0?{height:"inherit"}:n,u=a.className,l=a.loading,c=a.loadingTemplate,f=a.errorTemplate,h=FQ(a,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),v=ys(fD,h),p=v.chart,g=v.container;return(0,_e.useEffect)(function(){gs(t,p.current)},[p.current]),(0,_e.useImperativeHandle)(e,function(){return{getChart:function(){return p.current}}}),_e.createElement(Yo,{errorTemplate:f},l&&_e.createElement(ms,{loadingTemplate:c}),_e.createElement("div",{className:u,style:o,ref:g}))}),kQ=NQ,BQ=function(a,e){var t={};for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&e.indexOf(n)<0&&(t[n]=a[n]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(a);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(a,n[o])&&(t[n[o]]=a[n[o]]);return t},GQ=(0,_e.forwardRef)(function(a,e){var t=a.chartRef,n=a.style,o=n===void 0?{height:"inherit"}:n,u=a.className,l=a.loading,c=a.loadingTemplate,f=a.errorTemplate,h=BQ(a,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),v=ys(b$,h),p=v.chart,g=v.container;return(0,_e.useEffect)(function(){gs(t,p.current)},[p.current]),(0,_e.useImperativeHandle)(e,function(){return{getChart:function(){return p.current}}}),_e.createElement(Yo,{errorTemplate:f},l&&_e.createElement(ms,{loadingTemplate:c}),_e.createElement("div",{className:u,style:o,ref:g}))}),zQ=GQ,UQ=function(a,e){var t={};for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&e.indexOf(n)<0&&(t[n]=a[n]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(a);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(a,n[o])&&(t[n[o]]=a[n[o]]);return t},jQ=(0,_e.forwardRef)(function(a,e){var t=a.chartRef,n=a.style,o=n===void 0?{height:"inherit"}:n,u=a.className,l=a.loading,c=a.loadingTemplate,f=a.errorTemplate,h=UQ(a,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),v=ys(dW,h),p=v.chart,g=v.container;return(0,_e.useEffect)(function(){gs(t,p.current)},[p.current]),(0,_e.useImperativeHandle)(e,function(){return{getChart:function(){return p.current}}}),_e.createElement(Yo,{errorTemplate:f},l&&_e.createElement(ms,{loadingTemplate:c}),_e.createElement("div",{className:u,style:o,ref:g}))}),WQ=jQ,VQ=function(a,e){var t={};for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&e.indexOf(n)<0&&(t[n]=a[n]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(a);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(a,n[o])&&(t[n[o]]=a[n[o]]);return t},HQ=(0,_e.forwardRef)(function(a,e){var t=a.chartRef,n=a.style,o=n===void 0?{height:"inherit"}:n,u=a.className,l=a.loading,c=a.loadingTemplate,f=a.errorTemplate,h=VQ(a,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),v=ys(e$,h),p=v.chart,g=v.container;return(0,_e.useEffect)(function(){gs(t,p.current)},[p.current]),(0,_e.useImperativeHandle)(e,function(){return{getChart:function(){return p.current}}}),_e.createElement(Yo,{errorTemplate:f},l&&_e.createElement(ms,{loadingTemplate:c}),_e.createElement("div",{className:u,style:o,ref:g}))}),YQ=HQ,XQ=function(a,e){var t={};for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&e.indexOf(n)<0&&(t[n]=a[n]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(a);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(a,n[o])&&(t[n[o]]=a[n[o]]);return t},$Q=(0,_e.forwardRef)(function(a,e){var t=a.chartRef,n=a.style,o=n===void 0?{height:"inherit"}:n,u=a.className,l=a.loading,c=a.loadingTemplate,f=a.errorTemplate,h=XQ(a,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),v=ys(JH,h),p=v.chart,g=v.container;return(0,_e.useEffect)(function(){gs(t,p.current)},[p.current]),(0,_e.useImperativeHandle)(e,function(){return{getChart:function(){return p.current}}}),_e.createElement(Yo,{errorTemplate:f},l&&_e.createElement(ms,{loadingTemplate:c}),_e.createElement("div",{className:u,style:o,ref:g}))}),KQ=$Q,ZQ=function(a,e){var t={};for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&e.indexOf(n)<0&&(t[n]=a[n]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(a);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(a,n[o])&&(t[n[o]]=a[n[o]]);return t},QQ=(0,_e.forwardRef)(function(a,e){var t=a.chartRef,n=a.style,o=n===void 0?{height:"inherit"}:n,u=a.className,l=a.loading,c=a.loadingTemplate,f=a.errorTemplate,h=ZQ(a,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),v=ys(I$,h),p=v.chart,g=v.container;return(0,_e.useEffect)(function(){gs(t,p.current)},[p.current]),(0,_e.useImperativeHandle)(e,function(){return{getChart:function(){return p.current}}}),_e.createElement(Yo,{errorTemplate:f},l&&_e.createElement(ms,{loadingTemplate:c}),_e.createElement("div",{className:u,style:o,ref:g}))}),JQ=QQ,qQ=function(a,e){var t={};for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&e.indexOf(n)<0&&(t[n]=a[n]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(a);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(a,n[o])&&(t[n[o]]=a[n[o]]);return t},tJ=(0,_e.forwardRef)(function(a,e){var t=a.chartRef,n=a.style,o=n===void 0?{height:"inherit"}:n,u=a.className,l=a.loading,c=a.loadingTemplate,f=a.errorTemplate,h=qQ(a,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),v=ys(wK,h),p=v.chart,g=v.container;return(0,_e.useEffect)(function(){gs(t,p.current)},[p.current]),(0,_e.useImperativeHandle)(e,function(){return{getChart:function(){return p.current}}}),_e.createElement(Yo,{errorTemplate:f},l&&_e.createElement(ms,{loadingTemplate:c}),_e.createElement("div",{className:u,style:o,ref:g}))}),eJ=tJ,rJ=function(a,e){var t={};for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&e.indexOf(n)<0&&(t[n]=a[n]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(a);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(a,n[o])&&(t[n[o]]=a[n[o]]);return t},nJ=(0,_e.forwardRef)(function(a,e){var t=a.chartRef,n=a.style,o=n===void 0?{height:"inherit"}:n,u=a.className,l=a.loading,c=a.loadingTemplate,f=a.errorTemplate,h=rJ(a,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),v=ys(K$,h),p=v.chart,g=v.container;return(0,_e.useEffect)(function(){gs(t,p.current)},[p.current]),(0,_e.useImperativeHandle)(e,function(){return{getChart:function(){return p.current}}}),_e.createElement(Yo,{errorTemplate:f},l&&_e.createElement(ms,{loadingTemplate:c}),_e.createElement("div",{className:u,style:o,ref:g}))}),iJ=nJ,aJ=function(a,e){var t={};for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&e.indexOf(n)<0&&(t[n]=a[n]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(a);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(a,n[o])&&(t[n[o]]=a[n[o]]);return t},oJ=(0,_e.forwardRef)(function(a,e){var t=a.chartRef,n=a.style,o=n===void 0?{height:"inherit"}:n,u=a.className,l=a.loading,c=a.loadingTemplate,f=a.errorTemplate,h=aJ(a,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),v=ys(s3,h),p=v.chart,g=v.container;return(0,_e.useEffect)(function(){gs(t,p.current)},[p.current]),(0,_e.useImperativeHandle)(e,function(){return{getChart:function(){return p.current}}}),_e.createElement(Yo,{errorTemplate:f},l&&_e.createElement(ms,{loadingTemplate:c}),_e.createElement("div",{className:u,style:o,ref:g}))}),sJ=oJ,uJ=function(a,e){var t={};for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&e.indexOf(n)<0&&(t[n]=a[n]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(a);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(a,n[o])&&(t[n[o]]=a[n[o]]);return t},lJ=(0,_e.forwardRef)(function(a,e){var t=a.chartRef,n=a.style,o=n===void 0?{height:"inherit"}:n,u=a.className,l=a.loading,c=a.loadingTemplate,f=a.errorTemplate,h=uJ(a,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),v=ys(z$,h),p=v.chart,g=v.container;return(0,_e.useEffect)(function(){gs(t,p.current)},[p.current]),(0,_e.useImperativeHandle)(e,function(){return{getChart:function(){return p.current}}}),_e.createElement(Yo,{errorTemplate:f},l&&_e.createElement(ms,{loadingTemplate:c}),_e.createElement("div",{className:u,style:o,ref:g}))}),cJ=lJ,fJ={getDefaultCfg:function(){return{}},getEvents:function(){return{}},updateCfg:function(e){return Object.assign(this,e),!0},shouldBegin:function(){return!0},shouldUpdate:function(){return!0},shouldEnd:function(){return!0},bind:function(e){var t=this,n=this.events;this.graph=e,(this.type==="drag-canvas"||this.type==="brush-select"||this.type==="lasso-select")&&e.get("canvas").set("draggable",!0),(0,w.each)(n,function(o,u){e.on(u,o)}),document.addEventListener("visibilitychange",function(){t.keydown=!1})},unbind:function(e){var t=this.events,n=e.get("canvas").get("draggable");(this.type==="drag-canvas"||this.type==="brush-select"||this.type==="lasso-select")&&e.get("canvas").set("draggable",!1),(0,w.each)(t,function(o,u){e.off(u,o)}),e.get("canvas").set("draggable",n)},get:function(e){return this[e]},set:function(e,t){return this[e]=t,this}},hJ=function(){function a(){}return a.registerBehavior=function(e,t){if(!t)throw new Error("please specify handler for this behavior: ".concat(e));var n=(0,w.clone)(fJ);Object.assign(n,t);var o=function(l){var c=this;Object.assign(this,this.getDefaultCfg(),l);var f=this.getEvents();this.events=null;var h={};f&&((0,w.each)(f,function(v,p){h[p]=(0,w.wrapBehavior)(c,v)}),this.events=h)};o.prototype=n,a.types[e]=o},a.hasBehavior=function(e){return!!a.types[e]},a.getBehavior=function(e){return a.types[e]},a.types={},a}(),p3=hJ,g3=p3,dJ=function(e,t){var n=e.nodes,o=e.edges,u=[],l={};if(!n)throw new Error("invalid nodes data!");return n&&n.forEach(function(c,f){l[c.id]=f;var h=[];u.push(h)}),o&&o.forEach(function(c){var f=c.source,h=c.target,v=l[f],p=l[h];!v&&v!==0||!p&&p!==0||(u[v][p]=1,t||(u[p][v]=1))}),u},vy=dJ,vJ=function(e,t){return e===t},y3=function(){function a(e,t){t===void 0&&(t=null),this.value=e,this.next=t}return a.prototype.toString=function(e){return e?e(this.value):"".concat(this.value)},a}(),pJ=function(){function a(e){e===void 0&&(e=vJ),this.head=null,this.tail=null,this.compare=e}return a.prototype.prepend=function(e){var t=new y3(e,this.head);return this.head=t,this.tail||(this.tail=t),this},a.prototype.append=function(e){var t=new y3(e);return this.head?(this.tail.next=t,this.tail=t,this):(this.head=t,this.tail=t,this)},a.prototype.delete=function(e){if(!this.head)return null;for(var t=null;this.head&&this.compare(this.head.value,e);)t=this.head,this.head=this.head.next;var n=this.head;if(n!==null)for(;n.next;)this.compare(n.next.value,e)?(t=n.next,n.next=n.next.next):n=n.next;return this.compare(this.tail.value,e)&&(this.tail=n),t},a.prototype.find=function(e){var t=e.value,n=t===void 0?void 0:t,o=e.callback,u=o===void 0?void 0:o;if(!this.head)return null;for(var l=this.head;l;){if(u&&u(l.value)||n!==void 0&&this.compare(l.value,n))return l;l=l.next}return null},a.prototype.deleteTail=function(){var e=this.tail;if(this.head===this.tail)return this.head=null,this.tail=null,e;for(var t=this.head;t.next;)t.next.next?t=t.next:t.next=null;return this.tail=t,e},a.prototype.deleteHead=function(){if(!this.head)return null;var e=this.head;return this.head.next?this.head=this.head.next:(this.head=null,this.tail=null),e},a.prototype.fromArray=function(e){var t=this;return e.forEach(function(n){return t.append(n)}),this},a.prototype.toArray=function(){for(var e=[],t=this.head;t;)e.push(t),t=t.next;return e},a.prototype.reverse=function(){for(var e=this.head,t=null,n=null;e;)n=e.next,e.next=t,t=e,e=n;this.tail=this.head,this.head=t},a.prototype.toString=function(e){return e===void 0&&(e=void 0),this.toArray().map(function(t){return t.toString(e)}).toString()},a}(),m3=pJ,gJ=function(){function a(){this.linkedList=new m3}return a.prototype.isEmpty=function(){return!this.linkedList.head},a.prototype.peek=function(){return this.linkedList.head?this.linkedList.head.value:null},a.prototype.enqueue=function(e){this.linkedList.append(e)},a.prototype.dequeue=function(){var e=this.linkedList.deleteHead();return e?e.value:null},a.prototype.toString=function(e){return this.linkedList.toString(e)},a}(),yJ=gJ,Sv=function(e,t,n){t===void 0&&(t=[]);var o=t.filter(function(f){return f.source===e||f.target===e});if(n==="target"){var u=function(h){return h.source===e};return o.filter(u).map(function(f){return f.target})}if(n==="source"){var l=function(h){return h.target===e};return o.filter(l).map(function(f){return f.source})}var c=function(h){return h.source===e?h.target:h.source};return o.map(c)},mJ=function(e,t){return t.filter(function(n){return n.source===e})},mS=function(e,t){return t.filter(function(n){return n.source===e||n.target===e})},x3=function(e){e===void 0&&(e=0);var t="".concat(Math.random()).split(".")[1].substr(0,5),n="".concat(Math.random()).split(".")[1].substr(0,5);return"".concat(e,"-").concat(t).concat(n)};function xJ(a){a===void 0&&(a={});var e=a,t=function(){},n=function(){var o={};return function(u){var l=u.next,c=l;return o[c]?!1:(o[c]=!0,!0)}}();return e.allowTraversal=a.allowTraversal||n,e.enter=a.enter||t,e.leave=a.leave||t,e}var bJ=function(e,t,n,o){o===void 0&&(o=!0);var u=xJ(n),l=new yJ,c=e.edges,f=c===void 0?[]:c;l.enqueue(t);for(var h="",v=function(){var g=l.dequeue();u.enter({current:g,previous:h}),Sv(g,f,o?"target":void 0).forEach(function(E){u.allowTraversal({previous:h,current:g,next:E})&&l.enqueue(E)}),u.leave({current:g,previous:h}),h=g};!l.isEmpty();)v()},b3=bJ,EJ=function(e){for(var t=e.nodes,n=t===void 0?[]:t,o=e.edges,u=o===void 0?[]:o,l=[],c={},f=[],h=function E(D){f.push(D),c[D.id]=!0;for(var G=Sv(D.id,u),H=function(ht){var mt=G[ht];if(!c[mt]){var Dt=n.filter(function(kt){return kt.id===mt});Dt.length>0&&E(Dt[0])}},X=0;X<G.length;++X)H(X)},v=0;v<n.length;v++){var p=n[v];if(!c[p.id]){h(p);for(var g=[];f.length>0;)g.push(f.pop());l.push(g)}}return l},E3=function(e){for(var t=e.nodes,n=t===void 0?[]:t,o=e.edges,u=o===void 0?[]:o,l=[],c={},f={},h={},v=[],p=0,g=function H(X){f[X.id]=p,h[X.id]=p,p+=1,l.push(X),c[X.id]=!0;for(var rt=Sv(X.id,u,"target").filter(function(Vt){return n.map(function(te){return te.id}).indexOf(Vt)>-1}),ht=function(te){var le=rt[te];if(!f[le]&&f[le]!==0){var pe=n.filter(function(De){return De.id===le});pe.length>0&&H(pe[0]),h[X.id]=Math.min(h[X.id],h[le])}else c[le]&&(h[X.id]=Math.min(h[X.id],f[le]))},mt=0;mt<rt.length;mt++)ht(mt);if(h[X.id]===f[X.id]){for(var Dt=[];l.length>0;){var kt=l.pop();if(c[kt.id]=!1,Dt.push(kt),kt===X)break}Dt.length>0&&v.push(Dt)}},E=0,D=n;E<D.length;E++){var G=D[E];!f[G.id]&&f[G.id]!==0&&g(G)}return v};function oA(a,e){return e?E3(a):EJ(a)}var lb=function(e){var t={},n=e.nodes,o=n===void 0?[]:n,u=e.edges,l=u===void 0?[]:u;return o.forEach(function(c){t[c.id]={degree:0,inDegree:0,outDegree:0}}),l.forEach(function(c){t[c.source].degree++,t[c.source].outDegree++,t[c.target].degree++,t[c.target].inDegree++}),t},cb=lb,S3=function(e,t){var n=lb(e);return n[t]?lb(e)[t].inDegree:0},w3=function(e,t){var n=lb(e);return n[t]?lb(e)[t].outDegree:0};function SJ(a){a===void 0&&(a={});var e=a,t=function(){},n=function(){var o={};return function(u){var l=u.next;return o[l]?!1:(o[l]=!0,!0)}}();return e.allowTraversal=a.allowTraversal||n,e.enter=a.enter||t,e.leave=a.leave||t,e}function _3(a,e,t,n){n.enter({current:e,previous:t});var o=a.edges,u=o===void 0?[]:o;Sv(e,u,"target").forEach(function(l){n.allowTraversal({previous:t,current:e,next:l})&&_3(a,l,e,n)}),n.leave({current:e,previous:t})}function sA(a,e,t){_3(a,e,"",SJ(t))}var wJ=function(e){var t=null,n=e.nodes,o=n===void 0?[]:n,u={},l={},c={},f={};o.forEach(function(p){l[p.id]=p});for(var h={enter:function(g){var E=g.current,D=g.previous;if(c[E]){t={};for(var G=E,H=D;H!==E;)t[G]=H,G=H,H=u[H];t[G]=H}else c[E]=E,delete l[E],u[E]=D},leave:function(g){var E=g.current;f[E]=E,delete c[E]},allowTraversal:function(g){var E=g.next;return t?!1:!f[E]}};Object.keys(l).length;){var v=Object.keys(l)[0];sA(e,v,h)}return t},uA=function(e,t,n){var o,u;n===void 0&&(n=!0);for(var l=[],c=oA(e,!1),f=0,h=c;f<h.length;f++){var v=h[f];if(!!v.length)for(var p=v[0],g=p.id,E=[p],D=(o={},o[g]=p,o),G=(u={},u[g]=new Set,u);E.length>0;)for(var H=E.pop(),X=H.id,rt=Sv(X,e.edges),ht=function(kt){var Vt,te=rt[kt],le=e.nodes.find(function(Vr){return Vr.id===te});if(te===X)l.push((Vt={},Vt[te]=H,Vt));else if(!(te in G))D[te]=H,E.push(le),G[te]=new Set([H]);else if(!G[X].has(le)){for(var pe=!0,De=[le,H],Xe=D[X];G[te].size&&!G[te].has(Xe)&&(De.push(Xe),Xe!==D[Xe.id]);)Xe=D[Xe.id];if(De.push(Xe),t&&n?(pe=!1,De.findIndex(function(Vr){return t.indexOf(Vr.id)>-1})>-1&&(pe=!0)):t&&!n&&De.findIndex(function(Vr){return t.indexOf(Vr.id)>-1})>-1&&(pe=!1),pe){for(var pr={},yr=1;yr<De.length;yr+=1)pr[De[yr-1].id]=De[yr];De.length&&(pr[De[De.length-1].id]=De[0]),l.push(pr)}G[te].add(H)}},mt=0;mt<rt.length;mt+=1)ht(mt)}return l},lA=function(e,t,n){n===void 0&&(n=!0);for(var o=[],u=new Set,l=[],c=[],f={},h={},v=function(Xe){for(var pr=[Xe];pr.length>0;){var yr=pr.pop();u.has(yr)&&(u.delete(yr),l[yr.id].forEach(function(Vr){pr.push(Vr)}),l[yr.id].clear())}},p=function De(Xe,pr,yr){var Vr=!1;if(t&&n===!1&&t.indexOf(Xe.id)>-1)return Vr;o.push(Xe),u.add(Xe);for(var nr=yr[Xe.id],Gr=0;Gr<nr.length;Gr+=1){var en=f[nr[Gr]];if(en===pr){for(var cr={},Fr=1;Fr<o.length;Fr+=1)cr[o[Fr-1].id]=o[Fr];o.length&&(cr[o[o.length-1].id]=o[0]),c.push(cr),Vr=!0}else u.has(en)||De(en,pr,yr)&&(Vr=!0)}if(Vr)v(Xe);else for(var Gr=0;Gr<nr.length;Gr+=1){var en=f[nr[Gr]];l[en.id].has(Xe)||l[en.id].add(Xe)}return o.pop(),Vr},g=e.nodes,E=g===void 0?[]:g,D=0;D<E.length;D+=1){var G=E[D],H=G.id;h[H]=D,f[D]=G}if(t&&n)for(var X=function(Xe){var pr=t[Xe];h[E[Xe].id]=h[pr],h[pr]=0,f[0]=E.find(function(yr){return yr.id===pr}),f[h[E[Xe].id]]=E[Xe]},D=0;D<t.length;D++)X(D);for(var rt=function(Xe){for(var pr,yr,Vr=1/0,nr=0;nr<Xe.length;nr+=1)for(var Gr=Xe[nr],en=0;en<Gr.length;en++){var cr=h[Gr[en].id];cr<Vr&&(Vr=cr,yr=nr)}for(var Fr=Xe[yr],qr=[],nr=0;nr<Fr.length;nr+=1){var _r=Fr[nr];qr[_r.id]=[];for(var kr=0,Yr=Sv(_r.id,e.edges,"target").filter(function(oi){return Fr.map(function(mr){return mr.id}).indexOf(oi)>-1});kr<Yr.length;kr++){var mn=Yr[kr];mn===_r.id&&!(n===!1&&t.indexOf(_r.id)>-1)?c.push((pr={},pr[_r.id]=_r,pr)):qr[_r.id].push(h[mn])}}return{component:Fr,adjList:qr,minIdx:Vr}},ht=0;ht<E.length;){var mt=E.filter(function(De){return h[De.id]>=ht}),Dt=E3({nodes:mt,edges:e.edges}).filter(function(De){return De.length>1});if(Dt.length===0)break;var kt=rt(Dt),Vt=kt.minIdx,te=kt.adjList,le=kt.component;if(le.length>1){le.forEach(function(De){l[De.id]=new Set});var pe=f[Vt];if(t&&n&&t.indexOf(pe.id)===-1)return c;p(pe,pe,te),ht=Vt+1}else break}return c},A3=function(e,t,n,o){return o===void 0&&(o=!0),t?lA(e,n,o):uA(e,n,o)},cA=wJ,_J=function(e,t,n){for(var o=1/0,u,l=0;l<t.length;l++){var c=t[l].id;!n[c]&&e[c]<=o&&(o=e[c],u=t[l])}return u},AJ=function(e,t,n,o){var u=e.nodes,l=u===void 0?[]:u,c=e.edges,f=c===void 0?[]:c,h=[],v={},p={},g={};l.forEach(function(ht,mt){var Dt=ht.id;h.push(Dt),p[Dt]=1/0,Dt===t&&(p[Dt]=0)});for(var E=l.length,D=function(mt){var Dt=_J(p,l,v),kt=Dt.id;if(v[kt]=!0,p[kt]===1/0)return"continue";var Vt=[];n?Vt=mJ(kt,f):Vt=mS(kt,f),Vt.forEach(function(te){var le=te.target,pe=te.source,De=le===kt?pe:le,Xe=o&&te[o]?te[o]:1;p[De]>p[Dt.id]+Xe?(p[De]=p[Dt.id]+Xe,g[De]=[Dt.id]):p[De]===p[Dt.id]+Xe&&g[De].push(Dt.id)})},G=0;G<E;G++)D(G);g[t]=[t];var H={};for(var X in p)p[X]!==1/0&&C3(t,X,g,H);var rt={};for(var X in H)rt[X]=H[X][0];return{length:p,path:rt,allPath:H}},fb=AJ;function C3(a,e,t,n){if(a===e)return[a];if(n[e])return n[e];for(var o=[],u=0,l=t[e];u<l.length;u++){var c=l[u],f=C3(a,c,t,n);if(!f)return;for(var h=0,v=f;h<v.length;h++){var p=v[h];(0,w.isArray)(p)?o.push((0,Z.__spreadArray)((0,Z.__spreadArray)([],p,!0),[e],!1)):o.push([p,e])}}return n[e]=o,n[e]}var T3=function(e,t,n,o,u){var l=fb(e,t,o,u),c=l.length,f=l.path,h=l.allPath;return{length:c[n],path:f[n],allPath:h[n]}},M3=function(e,t,n,o){var u;if(t===n)return[[t]];var l=e.edges,c=l===void 0?[]:l,f=[t],h=(u={},u[t]=!0,u),v=[],p=[],g=o?Sv(t,c,"target"):Sv(t,c);for(v.push(g);f.length>0&&v.length>0;){var E=v[v.length-1];if(E.length){var D=E.shift();D&&(f.push(D),h[D]=!0,g=o?Sv(D,c,"target"):Sv(D,c),v.push(g.filter(function(X){return!h[X]})))}else{var G=f.pop();h[G]=!1,v.pop();continue}if(f[f.length-1]===n){var H=f.map(function(rt){return rt});p.push(H);var G=f.pop();h[G]=!1,v.pop()}}return p},CJ=function(e,t){for(var n=vy(e,t),o=[],u=n.length,l=0;l<u;l+=1){o[l]=[];for(var c=0;c<u;c+=1)l===c?o[l][c]=0:n[l][c]===0||!n[l][c]?o[l][c]=1/0:o[l][c]=n[l][c]}for(var f=0;f<u;f+=1)for(var l=0;l<u;l+=1)for(var c=0;c<u;c+=1)o[l][c]>o[l][f]+o[f][c]&&(o[l][c]=o[l][f]+o[f][c]);return o},hb=CJ,TJ=function(e,t,n,o){t===void 0&&(t=!1),n===void 0&&(n="weight"),o===void 0&&(o=1e3);var u=e.nodes,l=u===void 0?[]:u,c=e.edges,f=c===void 0?[]:c,h={},v={};l.forEach(function(mt,Dt){var kt=x3();mt.clusterId=kt,h[kt]={id:kt,nodes:[mt]},v[mt.id]={node:mt,idx:Dt}});var p=vy(e,t),g=[],E={};p.forEach(function(mt,Dt){var kt=0,Vt=l[Dt].id;E[Vt]={},mt.forEach(function(te,le){if(!!te){kt+=te;var pe=l[le].id;E[Vt][pe]=te}}),g.push(kt)});for(var D=0,G=function(){var Dt=!1;if(l.forEach(function(kt){var Vt={};Object.keys(E[kt.id]).forEach(function(Vr){var nr=E[kt.id][Vr],Gr=v[Vr].node,en=Gr.clusterId;Vt[en]||(Vt[en]=0),Vt[en]+=nr});var te=-1/0,le=[];if(Object.keys(Vt).forEach(function(Vr){te<Vt[Vr]?(te=Vt[Vr],le=[Vr]):te===Vt[Vr]&&le.push(Vr)}),!(le.length===1&&le[0]===kt.clusterId)){var pe=le.indexOf(kt.clusterId);if(pe>=0&&le.splice(pe,1),le&&le.length){Dt=!0;var De=h[kt.clusterId],Xe=De.nodes.indexOf(kt);De.nodes.splice(Xe,1);var pr=Math.floor(Math.random()*le.length),yr=h[le[pr]];yr.nodes.push(kt),kt.clusterId=yr.id}}}),!Dt)return"break";D++};D<o;){var H=G();if(H==="break")break}Object.keys(h).forEach(function(mt){var Dt=h[mt];(!Dt.nodes||!Dt.nodes.length)&&delete h[mt]});var X=[],rt={};f.forEach(function(mt){var Dt=mt.source,kt=mt.target,Vt=mt[n]||1,te=v[Dt].node.clusterId,le=v[kt].node.clusterId,pe="".concat(te,"---").concat(le);if(rt[pe])rt[pe].weight+=Vt,rt[pe].count++;else{var De={source:te,target:le,weight:Vt,count:1};rt[pe]=De,X.push(De)}});var ht=[];return Object.keys(h).forEach(function(mt){ht.push(h[mt])}),{clusters:ht,clusterEdges:X}},I3=TJ,MJ=function(){function a(e){this.arr=e}return a.prototype.getArr=function(){return this.arr||[]},a.prototype.add=function(e){var t,n=e.arr;if(!(!((t=this.arr)===null||t===void 0)&&t.length))return new a(n);if(!(n!=null&&n.length))return new a(this.arr);if(this.arr.length===n.length){var o=[];for(var u in this.arr)o[u]=this.arr[u]+n[u];return new a(o)}},a.prototype.subtract=function(e){var t,n=e.arr;if(!(!((t=this.arr)===null||t===void 0)&&t.length))return new a(n);if(!(n!=null&&n.length))return new a(this.arr);if(this.arr.length===n.length){var o=[];for(var u in this.arr)o[u]=this.arr[u]-n[u];return new a(o)}},a.prototype.avg=function(e){var t=[];if(e!==0)for(var n in this.arr)t[n]=this.arr[n]/e;return new a(t)},a.prototype.negate=function(){var e=[];for(var t in this.arr)e[t]=-this.arr[t];return new a(e)},a.prototype.squareEuclideanDistance=function(e){var t,n=e.arr;if(!(!((t=this.arr)===null||t===void 0)&&t.length)||!(n!=null&&n.length))return 0;if(this.arr.length===n.length){var o=0;for(var u in this.arr)o+=Math.pow(this.arr[u]-e.arr[u],2);return o}},a.prototype.euclideanDistance=function(e){var t,n=e.arr;if(!(!((t=this.arr)===null||t===void 0)&&t.length)||!(n!=null&&n.length))return 0;if(this.arr.length===n.length){var o=0;for(var u in this.arr)o+=Math.pow(this.arr[u]-e.arr[u],2);return Math.sqrt(o)}else console.error("The two vectors are unequal in length.")},a.prototype.normalize=function(){var e=[],t=(0,w.clone)(this.arr);t.sort(function(l,c){return l-c});var n=t[t.length-1],o=t[0];for(var u in this.arr)e[u]=(this.arr[u]-o)/(n-o);return new a(e)},a.prototype.norm2=function(){var e;if(!(!((e=this.arr)===null||e===void 0)&&e.length))return 0;var t=0;for(var n in this.arr)t+=Math.pow(this.arr[n],2);return Math.sqrt(t)},a.prototype.dot=function(e){var t,n=e.arr;if(!(!((t=this.arr)===null||t===void 0)&&t.length)||!(n!=null&&n.length))return 0;if(this.arr.length===n.length){var o=0;for(var u in this.arr)o+=this.arr[u]*e.arr[u];return o}else console.error("The two vectors are unequal in length.")},a.prototype.equal=function(e){var t,n=e.arr;if(((t=this.arr)===null||t===void 0?void 0:t.length)!==(n==null?void 0:n.length))return!1;for(var o in this.arr)if(this.arr[o]!==n[o])return!1;return!0},a}(),Zv=MJ,O3=/^(\d{1,4})(-|\/)(\d{1,2})\2(\d{1,2})$/,D3=/^(\d{1,4})(-|\/)(\d{1,2})\2(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})$/,P3=function(e,t){e===void 0&&(e=[]),t===void 0&&(t=100);var n={};e.forEach(function(u){!u.properties||Object.keys(u.properties).forEach(function(l){if(l==="id"||!"".concat(u.properties[l]).match(O3)&&!"".concat(u.properties[l]).match(D3)&&isNaN(Number(u.properties[l]))){n.hasOwnProperty(l)&&delete n[l];return}n.hasOwnProperty(l)?n[l]+=1:n[l]=1})});var o=Object.keys(n).sort(function(u,l){return n[l]-n[u]});return o.length<t?o:o.slice(0,t)},IJ=function(e,t){return t.map(function(n){if(e.hasOwnProperty(n)){if(!isNaN(Number(e[n])))return Number(e[n]);if(e[n].match(O3)||e[n].match(D3))return Number(Date.parse(new Date(e[n])))/1e3}return 0})},OJ=function(e){for(var t=P3(e),n=[],o=0;o<e.length;o++)n[o]=IJ(e[o].properties,t);return n},xS=function(e,t){t===void 0&&(t=void 0);var n=[];return e.forEach(function(o){t===void 0&&n.push(o),o[t]!==void 0&&n.push(o[t])}),n},Tct={getAllSortProperties:P3,getPropertyWeight:OJ,getAllProperties:xS},yp;(function(a){a.EuclideanDistance="euclideanDistance"})(yp||(yp={}));var L3=function(e,t,n){var o=[];t!=null&&t.length?o=t:(e.forEach(function(l){o=o.concat(Object.keys(l))}),o=(0,w.uniq)(o));var u={};return o.forEach(function(l){var c=[];e.forEach(function(f){f[l]!==void 0&&f[l]!==""&&c.push(f[l])}),c.length&&!(n!=null&&n.includes(l))&&(u[l]=(0,w.uniq)(c))}),u},bS=function(e,t,n){var o=L3(e,t,n),u=[];return Object.keys(o).length&&e.forEach(function(l,c){var f=[];if(Object.keys(o).length===1){var h=Object.keys(o)[0],v=o[h];v.every(function(p){return!isNaN(Number(p))})&&(f=[l[h]])}else Object.keys(o).forEach(function(p){for(var g=l[p],E=o[p],D=E.findIndex(function(X){return g===X}),G=[],H=0;H<E.length;H++)H===D?G.push(1):G.push(0);f=f.concat(G)});u[c]=f}),u},fA=function(e,t,n,o){n===void 0&&(n=yp.EuclideanDistance);var u=0;switch(n){case yp.EuclideanDistance:u=new Zv(e).euclideanDistance(new Zv(t));break;default:break}return u},Mct={getAllKeyValueMap:L3,oneHot:bS,getDistance:fA},R3=function(e,t,n,o){for(var u=t.length,l=2*o,c=0,f=0;f<u;f++)for(var h=e[f].clusterId,v=0;v<u;v++){var p=e[v].clusterId;if(h===p){var g=t[f][v]||0,E=n[f]||0,D=n[v]||0;c+=g-E*D/l}}return c*=1/l,c},hA=function(e,t){e===void 0&&(e=[]);for(var n=e.length,o=new Zv([]),u=0;u<n;u++)o=o.add(new Zv(t[u]));var l=o.avg(n);l.normalize();for(var c=0,u=0;u<n;u++){var f=new Zv(t[u]),h=f.squareEuclideanDistance(l);c+=h}var v=[];e.forEach(function(){v.push([])});for(var u=0;u<n;u++){var f=new Zv(t[u]);e[u].clusterInertial=0;for(var p=0;p<n;p++){if(u===p){v[u][p]=0;continue}var g=new Zv(t[p]);v[u][p]=f.squareEuclideanDistance(g),e[u].clusterInertial+=v[u][p]}}for(var E=0,D=2*n*c,u=0;u<n;u++)for(var G=e[u].clusterId,p=0;p<n;p++){var H=e[p].clusterId;if(!(u===p||G!==H)){var X=e[u].clusterInertial*e[p].clusterInertial/Math.pow(D,2)-v[u][p]/D;E+=X}}return Number(E.toFixed(4))},DJ=function(e,t,n,o,u,l,c,f,h){t===void 0&&(t=!1),n===void 0&&(n="weight"),o===void 0&&(o=1e-4),u===void 0&&(u=!1),l===void 0&&(l=void 0),c===void 0&&(c=[]),f===void 0&&(f=["id"]),h===void 0&&(h=1);var v=e.nodes,p=v===void 0?[]:v,g=e.edges,E=g===void 0?[]:g,D=[];if(u){p.forEach(function(cr,Fr){cr.properties=cr.properties||{},cr.originIndex=Fr});var G=[];p.every(function(cr){return cr.hasOwnProperty("nodeType")})&&(G=Array.from(new Set(p.map(function(cr){return cr.nodeType}))),p.forEach(function(cr){cr.properties.nodeType=G.findIndex(function(Fr){return Fr===cr.nodeType})}));var H=xS(p,l);D=bS(H,c,f)}var X=1,rt={},ht={};p.forEach(function(cr,Fr){var qr=String(X++);cr.clusterId=qr,rt[qr]={id:qr,nodes:[cr]},ht[cr.id]={node:cr,idx:Fr}});var mt=vy(e,t),Dt=[],kt={},Vt=0;mt.forEach(function(cr,Fr){var qr=0,_r=p[Fr].id;kt[_r]={},cr.forEach(function(kr,Yr){if(!!kr){qr+=kr;var mn=p[Yr].id;kt[_r][mn]=kr,Vt+=kr}}),Dt.push(qr)}),Vt/=2;for(var te=1/0,le=1/0,pe=0,De=[],Xe={};;){u&&p.every(function(cr){return cr.hasOwnProperty("properties")})?te=R3(p,mt,Dt,Vt)+hA(p,D)*h:te=R3(p,mt,Dt,Vt),pe===0&&(le=te,De=p,Xe=rt);var pr=te>0&&te>le&&te-le<o;if(te>le&&(De=p.map(function(cr){return{node:cr,clusterId:cr.clusterId}}),Xe=(0,w.clone)(rt),le=te),pr||pe>100)break;pe++,Object.keys(rt).forEach(function(cr){var Fr=0;E.forEach(function(qr){var _r=qr.source,kr=qr.target,Yr=ht[_r].node.clusterId,mn=ht[kr].node.clusterId;(Yr===cr&&mn!==cr||mn===cr&&Yr!==cr)&&(Fr=Fr+(qr[n]||1))}),rt[cr].sumTot=Fr}),p.forEach(function(cr,Fr){var qr=rt[cr.clusterId],_r=0,kr,Yr=Dt[Fr]/(2*Vt),mn=0,Er=qr.nodes;Er.forEach(function(Sa){var ea=ht[Sa.id].idx;mn+=mt[Fr][ea]||0});var oi=mn-qr.sumTot*Yr,mr=Er.filter(function(Sa){return Sa.id!==cr.id}),ki=[];mr.forEach(function(Sa,ea){ki[ea]=D[Sa.originIndex]});var Xn=hA(mr,D)*h,qn=kt[cr.id];if(Object.keys(qn).forEach(function(Sa){var ea=ht[Sa].node,lo=ea.clusterId;if(lo!==cr.clusterId){var Vs=rt[lo],Go=Vs.nodes;if(!(!Go||!Go.length)){var pa=0;Go.forEach(function(Ia){var Oa=ht[Ia.id].idx;pa+=mt[Fr][Oa]||0});var so=pa-Vs.sumTot*Yr,ia=Go.concat([cr]),Ai=[];ia.forEach(function(Ia,Oa){Ai[Oa]=D[Ia.originIndex]});var sa=hA(ia,D)*h,Bi=so-oi;u&&(Bi=so+sa-(oi+Xn)),Bi>_r&&(_r=Bi,kr=Vs)}}}),_r>0){kr.nodes.push(cr);var ai=cr.clusterId;cr.clusterId=kr.id;var va=qr.nodes.indexOf(cr);qr.nodes.splice(va,1);var Ii=0,Ni=0;E.forEach(function(Sa){var ea=Sa.source,lo=Sa.target,Vs=ht[ea].node.clusterId,Go=ht[lo].node.clusterId;(Vs===kr.id&&Go!==kr.id||Go===kr.id&&Vs!==kr.id)&&(Ii=Ii+(Sa[n]||1)),(Vs===ai&&Go!==ai||Go===ai&&Vs!==ai)&&(Ni=Ni+(Sa[n]||1))}),kr.sumTot=Ii,qr.sumTot=Ni}})}var yr={},Vr=0;Object.keys(Xe).forEach(function(cr){var Fr=Xe[cr];if(!Fr.nodes||!Fr.nodes.length){delete Xe[cr];return}var qr=String(Vr+1);qr!==cr&&(Fr.id=qr,Fr.nodes=Fr.nodes.map(function(_r){return{id:_r.id,clusterId:qr}}),Xe[qr]=Fr,yr[cr]=qr,delete Xe[cr],Vr++)}),De.forEach(function(cr){var Fr=cr.node,qr=cr.clusterId;Fr.clusterId=qr,Fr.clusterId&&yr[Fr.clusterId]&&(Fr.clusterId=yr[Fr.clusterId])});var nr=[],Gr={};E.forEach(function(cr){var Fr=cr.source,qr=cr.target,_r=cr[n]||1,kr=ht[Fr].node.clusterId,Yr=ht[qr].node.clusterId,mn="".concat(kr,"---").concat(Yr);if(Gr[mn])Gr[mn].weight+=_r,Gr[mn].count++;else{var Er={source:kr,target:Yr,weight:_r,count:1};Gr[mn]=Er,nr.push(Er)}});var en=[];return Object.keys(Xe).forEach(function(cr){en.push(Xe[cr])}),{clusters:en,clusterEdges:nr}},dA=DJ,PJ=function(e,t,n,o,u,l,c,f){return t===void 0&&(t=!1),n===void 0&&(n="weight"),o===void 0&&(o=1e-4),u===void 0&&(u=void 0),l===void 0&&(l=[]),c===void 0&&(c=["id"]),f===void 0&&(f=1),dA(e,t,n,o,!0,u,l,c,f)},F3=PJ,LJ=function(e,t){var n;t===void 0&&(t=1);for(var o=(0,w.clone)(e),u=o.nodes,l=u===void 0?[]:u,c=o.edges,f=c===void 0?[]:c,h=function(){var g=cb({nodes:l,edges:f}),E=Object.keys(g);E.sort(function(H,X){var rt,ht;return((rt=g[H])===null||rt===void 0?void 0:rt.degree)-((ht=g[X])===null||ht===void 0?void 0:ht.degree)});var D=E[0];if(!l.length||((n=g[D])===null||n===void 0?void 0:n.degree)>=t)return"break";var G=l.findIndex(function(H){return H.id===D});l.splice(G,1),f=f.filter(function(H){return!(H.source===D||H.target===D)})};;){var v=h();if(v==="break")break}return{nodes:l,edges:f}},N3=LJ,k3=function(e,t,n){var o=[];switch(e){case yp.EuclideanDistance:o=t[n];break;default:o=[];break}return o},RJ=function(e,t,n,o,u,l){t===void 0&&(t=3),n===void 0&&(n=void 0),o===void 0&&(o=[]),u===void 0&&(u=["id"]),l===void 0&&(l=yp.EuclideanDistance);var c=e.nodes,f=c===void 0?[]:c,h=e.edges,v=h===void 0?[]:h,p={clusters:[{id:"0",nodes:f}],clusterEdges:[]};if(l===yp.EuclideanDistance&&!f.every(function(qr){return qr.hasOwnProperty(n)}))return p;var g=[],E=[];if(l===yp.EuclideanDistance&&(g=xS(f,n),E=bS(g,o,u)),!E.length)return p;for(var D=(0,w.uniq)(E.map(function(qr){return qr.join("")})),G=Math.min(t,f.length,D.length),H=0;H<f.length;H++)f[H].originIndex=H;for(var X=[],rt=[],ht=[],H=0;H<G;H++)if(H===0){var mt=Math.floor(Math.random()*f.length);switch(l){case yp.EuclideanDistance:X[H]=E[mt];break;default:X[H]=[];break}rt.push(mt),ht[H]=[f[mt]],f[mt].clusterId=String(H)}else{for(var Dt=-1/0,kt=0,Vt=function(kr){if(!rt.includes(kr)){for(var Yr=0,mn=0;mn<X.length;mn++){var Er=0;switch(l){case yp.EuclideanDistance:Er=fA(E[f[kr].originIndex],X[mn],l);break;default:break}Yr+=Er}var oi=Yr/X.length;oi>Dt&&!X.find(function(mr){return(0,w.isEqual)(mr,k3(l,E,f[kr].originIndex))})&&(Dt=oi,kt=kr)}},te=0;te<f.length;te++)Vt(te);X[H]=k3(l,E,kt),rt.push(kt),ht[H]=[f[kt]],f[kt].clusterId=String(H)}for(var le=0;;){for(var H=0;H<f.length;H++){var pe=0,De=1/0;if(!(le===0&&rt.includes(H))){for(var Xe=0;Xe<X.length;Xe++){var pr=0;switch(l){case yp.EuclideanDistance:pr=fA(E[H],X[Xe],l);break;default:break}pr<De&&(De=pr,pe=Xe)}if(f[H].clusterId!==void 0)for(var yr=ht[Number(f[H].clusterId)].length-1;yr>=0;yr--)ht[Number(f[H].clusterId)][yr].id===f[H].id&&ht[Number(f[H].clusterId)].splice(yr,1);f[H].clusterId=String(pe),ht[pe].push(f[H])}}for(var Vr=!1,H=0;H<ht.length;H++){for(var nr=ht[H],Gr=new Zv([]),Xe=0;Xe<nr.length;Xe++)Gr=Gr.add(new Zv(E[nr[Xe].originIndex]));var en=Gr.avg(nr.length);en.equal(new Zv(X[H]))||(Vr=!0,X[H]=en.getArr())}if(le++,f.every(function(qr){return qr.clusterId!==void 0})&&Vr||le>=1e3)break}var cr=[],Fr={};return v.forEach(function(qr){var _r,kr,Yr=qr.source,mn=qr.target,Er=(_r=f.find(function(Xn){return Xn.id===Yr}))===null||_r===void 0?void 0:_r.clusterId,oi=(kr=f.find(function(Xn){return Xn.id===mn}))===null||kr===void 0?void 0:kr.clusterId,mr="".concat(Er,"---").concat(oi);if(Fr[mr])Fr[mr].count++;else{var ki={source:Er,target:oi,count:1};Fr[mr]=ki,cr.push(ki)}}),{clusters:ht,clusterEdges:cr}},B3=RJ,FJ=function(e,t){var n=new Zv(t),o=n.norm2(),u=new Zv(e),l=u.norm2(),c=n.dot(u),f=o*l,h=f?c/f:0;return h},vA=FJ,NJ=function(e,t,n,o,u){e===void 0&&(e=[]),n===void 0&&(n=void 0),o===void 0&&(o=[]),u===void 0&&(u=[]);var l=(0,w.clone)(e.filter(function(g){return g.id!==t.id})),c=e.findIndex(function(g){return g.id===t.id}),f=xS(e,n),h=bS(f,o,u),v=h[c],p=[];return l.forEach(function(g,E){if(g.id!==t.id){var D=h[E],G=vA(D,v);p.push(G),g.cosineSimilarity=G}}),l.sort(function(g,E){return E.cosineSimilarity-g.cosineSimilarity}),{allCosineSimilarity:p,similarNodes:l}},G3=NJ,kJ=function(){function a(e){this.count=e.length,this.parent={};for(var t=0,n=e;t<n.length;t++){var o=n[t];this.parent[o]=o}}return a.prototype.find=function(e){for(;this.parent[e]!==e;)e=this.parent[e];return e},a.prototype.union=function(e,t){var n=this.find(e),o=this.find(t);n!==o&&(n<o?(this.parent[t]!==t&&this.union(this.parent[t],e),this.parent[t]=this.parent[e]):(this.parent[e]!==e&&this.union(this.parent[e],t),this.parent[e]=this.parent[t]))},a.prototype.connected=function(e,t){return this.find(e)===this.find(t)},a}(),BJ=kJ,GJ=function(e,t){return e-t},zJ=function(){function a(e){e===void 0&&(e=GJ),this.compareFn=e,this.list=[]}return a.prototype.getLeft=function(e){return 2*e+1},a.prototype.getRight=function(e){return 2*e+2},a.prototype.getParent=function(e){return e===0?null:Math.floor((e-1)/2)},a.prototype.isEmpty=function(){return this.list.length<=0},a.prototype.top=function(){return this.isEmpty()?void 0:this.list[0]},a.prototype.delMin=function(){var e=this.top(),t=this.list.pop();return this.list.length>0&&(this.list[0]=t,this.moveDown(0)),e},a.prototype.insert=function(e){if(e!==null){this.list.push(e);var t=this.list.length-1;return this.moveUp(t),!0}return!1},a.prototype.moveUp=function(e){for(var t=this.getParent(e);e&&e>0&&this.compareFn(this.list[t],this.list[e])>0;){var n=this.list[t];this.list[t]=this.list[e],this.list[e]=n,e=t,t=this.getParent(e)}},a.prototype.moveDown=function(e){var t,n=e,o=this.getLeft(e),u=this.getRight(e),l=this.list.length;o!==null&&o<l&&this.compareFn(this.list[n],this.list[o])>0?n=o:u!==null&&u<l&&this.compareFn(this.list[n],this.list[u])>0&&(n=u),e!==n&&(t=[this.list[n],this.list[e]],this.list[e]=t[0],this.list[n]=t[1],this.moveDown(n))},a}(),UJ=zJ,jJ=function(e,t){var n=[],o=e.nodes,u=o===void 0?[]:o,l=e.edges,c=l===void 0?[]:l;if(u.length===0)return n;var f=u[0],h=new Set;h.add(f);var v=function(H,X){return t?H.weight-X.weight:0},p=new UJ(v);for(mS(f.id,c).forEach(function(G){p.insert(G)});!p.isEmpty();){var g=p.delMin(),E=g.source,D=g.target;h.has(E)&&h.has(D)||(n.push(g),h.has(E)||(h.add(E),mS(E,c).forEach(function(G){p.insert(G)})),h.has(D)||(h.add(D),mS(D,c).forEach(function(G){p.insert(G)})))}return n},z3=function(e,t){var n=[],o=e.nodes,u=o===void 0?[]:o,l=e.edges,c=l===void 0?[]:l;if(u.length===0)return n;var f=c.map(function(E){return E});t&&f.sort(function(E,D){return E.weight-D.weight});for(var h=new BJ(u.map(function(E){return E.id}));f.length>0;){var v=f.shift(),p=v.source,g=v.target;h.connected(p,g)||(n.push(v),h.union(p,g))}return n},WJ=function(e,t,n){var o={prim:jJ,kruskal:z3};return n?o[n](e,t):z3(e,t)},U3=WJ,VJ=function(e,t,n){typeof t!="number"&&(t=1e-6),typeof n!="number"&&(n=.85);for(var o=1,u=0,l=1e3,c=e.nodes,f=c===void 0?[]:c,h=e.edges,v=h===void 0?[]:h,p=f.length,g,E={},D={},G=0;G<p;++G){var H=f[G],X=H.id;E[X]=1/p,D[X]=1/p}for(var rt=cb(e);l>0&&o>t;){u=0;for(var G=0;G<p;++G){var H=f[G],X=H.id;if(g=0,rt[H.id].inDegree===0)E[X]=0;else{for(var ht=Sv(X,v,"source"),mt=0;mt<ht.length;++mt){var Dt=ht[mt],kt=rt[Dt].outDegree;kt>0&&(g+=D[Dt]/kt)}E[X]=n*g,u+=E[X]}}u=(1-u)/p,o=0;for(var G=0;G<p;++G){var H=f[G],X=H.id;g=E[X]+u,o+=Math.abs(g-D[X]),D[X]=g}l-=1}return D},j3=VJ,HJ=-1,ES=-1,W3="-1",Gp="-1",V3=-1,Ict="-1",H3=function(){function a(e,t,n,o){e===void 0&&(e=HJ),t===void 0&&(t=ES),n===void 0&&(n=ES),o===void 0&&(o=W3),this.id=e,this.from=t,this.to=n,this.label=o}return a}(),YJ=function(){function a(e,t){e===void 0&&(e=ES),t===void 0&&(t=Gp),this.id=e,this.label=t,this.edges=[],this.edgeMap={}}return a.prototype.addEdge=function(e){this.edges.push(e),this.edgeMap[e.id]=e},a}(),Y3=function(){function a(e,t,n){e===void 0&&(e=ES),t===void 0&&(t=!0),n===void 0&&(n=!1),this.id=e,this.edgeIdAutoIncrease=t,this.edges=[],this.nodes=[],this.nodeMap={},this.edgeMap={},this.nodeLabelMap={},this.edgeLabelMap={},this.counter=0,this.directed=n}return a.prototype.getNodeNum=function(){return this.nodes.length},a.prototype.addNode=function(e,t){if(!this.nodeMap[e]){var n=new YJ(e,t);this.nodes.push(n),this.nodeMap[e]=n,this.nodeLabelMap[t]||(this.nodeLabelMap[t]=[]),this.nodeLabelMap[t].push(e)}},a.prototype.addEdge=function(e,t,n,o){if((this.edgeIdAutoIncrease||e===void 0)&&(e=this.counter++),!(this.nodeMap[t]&&this.nodeMap[n]&&this.nodeMap[n].edgeMap[e])){var u=new H3(e,t,n,o);if(this.edges.push(u),this.edgeMap[e]=u,this.nodeMap[t].addEdge(u),this.edgeLabelMap[o]||(this.edgeLabelMap[o]=[]),this.edgeLabelMap[o].push(u),!this.directed){var l=new H3(e,n,t,o);this.nodeMap[n].addEdge(l),this.edgeLabelMap[o].push(l)}}},a}(),py=function(){function a(e,t,n,o,u){this.fromNode=e,this.toNode=t,this.nodeEdgeNodeLabel={nodeLabel1:n||Gp,edgeLabel:o||W3,nodeLabel2:u||Gp}}return a.prototype.equalTo=function(e){return this.fromNode===e.formNode&&this.toNode===e.toNode&&this.nodeEdgeNodeLabel===e.nodeEdgeNodeLabel},a.prototype.notEqualTo=function(e){return!this.equalTo(e)},a}(),X3=function(){function a(){this.rmpath=[],this.dfsEdgeList=[]}return a.prototype.equalTo=function(e){var t=this.dfsEdgeList.length,n=e.length;if(t!==n)return!1;for(var o=0;o<t;o++)if(this.dfsEdgeList[o]!==e[o])return!1;return!0},a.prototype.notEqualTo=function(e){return!this.equalTo(e)},a.prototype.pushBack=function(e,t,n,o,u){return this.dfsEdgeList.push(new py(e,t,n,o,u)),this.dfsEdgeList},a.prototype.toGraph=function(e,t){e===void 0&&(e=V3),t===void 0&&(t=!1);var n=new Y3(e,!0,t);return this.dfsEdgeList.forEach(function(o){var u=o.fromNode,l=o.toNode,c=o.nodeEdgeNodeLabel,f=c.nodeLabel1,h=c.edgeLabel,v=c.nodeLabel2;f!==Gp&&n.addNode(u,f),v!==Gp&&n.addNode(l,v),f!==Gp&&v!==f&&n.addEdge(void 0,u,l,h)}),n},a.prototype.buildRmpath=function(){this.rmpath=[];for(var e=void 0,t=this.dfsEdgeList.length,n=t-1;n>=0;n--){var o=this.dfsEdgeList[n],u=o.fromNode,l=o.toNode;u<l&&(e===void 0||l===e)&&(this.rmpath.push(n),e=u)}return this.rmpath},a.prototype.getNodeNum=function(){var e={};return this.dfsEdgeList.forEach(function(t){e[t.fromNode]||(e[t.fromNode]=!0),e[t.toNode]||(e[t.toNode]=!0)}),Object.keys(e).length},a}(),SS=function(){function a(e){if(this.his={},this.nodesUsed={},this.edgesUsed={},this.edges=[],!!e){for(;e;){var t=e.edge;this.edges.push(t),this.nodesUsed[t.from]=1,this.nodesUsed[t.to]=1,this.edgesUsed[t.id]=1,e=e.preNode}this.edges=this.edges.reverse()}}return a.prototype.hasNode=function(e){return this.nodesUsed[e.id]===1},a.prototype.hasEdge=function(e){return this.edgesUsed[e.id]===1},a}(),XJ=function(){function a(e){var t=e.graphs,n=e.minSupport,o=n===void 0?2:n,u=e.minNodeNum,l=u===void 0?1:u,c=e.maxNodeNum,f=c===void 0?4:c,h=e.top,v=h===void 0?10:h,p=e.directed,g=p===void 0?!1:p,E=e.verbose,D=E===void 0?!1:E;this.graphs=t,this.dfsCode=new X3,this.support=0,this.frequentSize1Subgraphs=[],this.frequentSubgraphs=[],this.minSupport=o,this.top=v,this.directed=g,this.counter=0,this.maxNodeNum=f,this.minNodeNum=l,this.verbose=D,this.maxNodeNum<this.minNodeNum&&(this.maxNodeNum=this.minNodeNum),this.reportDF=[]}return a.prototype.findForwardRootEdges=function(e,t){var n=this,o=[],u=e.nodeMap;return t.edges.forEach(function(l){(n.directed||t.label<=u[l.to].label)&&o.push(l)}),o},a.prototype.findBackwardEdge=function(e,t,n,o){if(!this.directed&&t===n)return null;for(var u=e.nodeMap,l=u[n.to],c=l.edges,f=c.length,h=0;h<f;h++){var v=c[h];if(!(o.hasEdge(v)||v.to!==t.from)){if(this.directed){if(u[t.from].label<u[n.to].label||u[t.from].label===u[n.to].label&&t.label<=v.label)return v}else if(t.label<v.label||t.label===v.label&&u[t.to].label<=u[n.to].label)return v}}return null},a.prototype.findForwardPureEdges=function(e,t,n,o){for(var u=[],l=t.to,c=e.nodeMap[l].edges,f=c.length,h=0;h<f;h++){var v=c[h],p=e.nodeMap[v.to];n<=p.label&&!o.hasNode(p)&&u.push(v)}return u},a.prototype.findForwardRmpathEdges=function(e,t,n,o){for(var u=[],l=e.nodeMap,c=l[t.to].label,f=l[t.from],h=f.edges,v=h.length,p=0;p<v;p++){var g=h[p],E=l[g.to].label;t.to===g.to||n>E||o.hasNode(l[g.to])||(t.label<g.label||t.label===g.label&&c<=E)&&u.push(g)}return u},a.prototype.getSupport=function(e){var t={};return e.forEach(function(n){t[n.graphId]||(t[n.graphId]=!0)}),Object.keys(t).length},a.prototype.findMinLabel=function(e){var t=void 0;return Object.keys(e).forEach(function(n){var o=e[n],u=o.nodeLabel1,l=o.edgeLabel,c=o.nodeLabel2;if(!t){t={nodeLabel1:u,edgeLabel:l,nodeLabel2:c};return}(u<t.nodeLabel1||u===t.nodeLabel1&&l<t.edgeLabel||u===t.nodeLabel1&&l===t.edgeLabel&&c<t.nodeLabel2)&&(t={nodeLabel1:u,edgeLabel:l,nodeLabel2:c})}),t},a.prototype.isMin=function(){var e=this,t=this.dfsCode;if(this.verbose&&console.log("isMin checking",t),t.dfsEdgeList.length===1)return!0;var n=this.directed,o=t.toGraph(V3,n),u=o.nodeMap,l=new X3,c={};o.nodes.forEach(function(p){var g=e.findForwardRootEdges(o,p);g.forEach(function(E){var D=u[E.to],G="".concat(p.label,"-").concat(E.label,"-").concat(D.label);c[G]||(c[G]={projected:[],nodeLabel1:p.label,edgeLabel:E.label,nodeLabel2:D.label});var H={graphId:o.id,edge:E,preNode:null};c[G].projected.push(H)})});var f=this.findMinLabel(c);if(!!f){l.dfsEdgeList.push(new py(0,1,f.nodeLabel1,f.edgeLabel,f.nodeLabel2));var h=function p(g){for(var E=l.buildRmpath(),D=l.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,G=l.dfsEdgeList[E[0]].toNode,H={},X=!1,rt=0,ht=n?-1:0,mt=function(Gr){if(X)return"break";g.forEach(function(en){var cr=new SS(en),Fr=e.findBackwardEdge(o,cr.edges[E[Gr]],cr.edges[E[0]],cr);Fr&&(H[Fr.label]||(H[Fr.label]={projected:[],edgeLabel:Fr.label}),H[Fr.label].projected.push({graphId:o.id,edge:H,preNode:en}),rt=l.dfsEdgeList[E[Gr]].fromNode,X=!0)})},Dt=E.length-1;Dt>ht;Dt--){var kt=mt(Dt);if(kt==="break")break}if(X){var Vt=e.findMinLabel(H);l.dfsEdgeList.push(new py(G,rt,Gp,Vt.edgeLabel,Gp));var te=l.dfsEdgeList.length-1;return e.dfsCode.dfsEdgeList[te]!==l.dfsEdgeList[te]?!1:p(H[Vt.edgeLabel].projected)}var le={};X=!1;var pe=0;g.forEach(function(nr){var Gr=new SS(nr),en=e.findForwardPureEdges(o,Gr.edges[E[0]],D,Gr);en.length>0&&(X=!0,pe=G,en.forEach(function(cr){var Fr="".concat(cr.label,"-").concat(u[cr.to].label);le[Fr]||(le[Fr]={projected:[],edgeLabel:cr.label,nodeLabel2:u[cr.to].label}),le[Fr].projected.push({graphId:o.id,edge:cr,preNode:nr})}))});for(var De=E.length,Xe=function(Gr){if(X)return"break";var en=E[Gr];g.forEach(function(cr){var Fr=new SS(cr),qr=e.findForwardRmpathEdges(o,Fr.edges[en],D,Fr);qr.length>0&&(X=!0,pe=l.dfsEdgeList[en].fromNode,qr.forEach(function(_r){var kr="".concat(_r.label,"-").concat(u[_r.to].label);le[kr]||(le[kr]={projected:[],edgeLabel:_r.label,nodeLabel2:u[_r.to].label}),le[kr].projected.push({graphId:o.id,edge:_r,preNode:cr})}))})},Dt=0;Dt<De;Dt++){var pr=Xe(Dt);if(pr==="break")break}if(!X)return!0;var yr=e.findMinLabel(le);l.dfsEdgeList.push(new py(pe,G+1,Gp,yr.edgeLabel,yr.nodeLabel2));var Vr=l.dfsEdgeList.length-1;return t.dfsEdgeList[Vr]!==l.dfsEdgeList[Vr]?!1:p(le["".concat(yr.edgeLabel,"-").concat(yr.nodeLabel2)].projected)},v="".concat(f.nodeLabel1,"-").concat(f.edgeLabel,"-").concat(f.nodeLabel2);return h(c[v].projected)}},a.prototype.report=function(){if(!(this.dfsCode.getNodeNum()<this.minNodeNum)){this.counter++;var e=this.dfsCode.toGraph(this.counter,this.directed);this.frequentSubgraphs.push((0,w.clone)(e))}},a.prototype.subGraphMining=function(e){var t=this,n=this.getSupport(e);if(!(n<this.minSupport)&&!!this.isMin()){this.report();var o=this.dfsCode.getNodeNum(),u=this.dfsCode.buildRmpath(),l=this.dfsCode.dfsEdgeList[u[0]].toNode,c=this.dfsCode.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,f={},h={};e.forEach(function(v){for(var p=t.graphs[v.graphId],g=p.nodeMap,E=new SS(v),D=u.length-1;D>=0;D--){var G=t.findBackwardEdge(p,E.edges[u[D]],E.edges[u[0]],E);if(G){var H="".concat(t.dfsCode.dfsEdgeList[u[D]].fromNode,"-").concat(G.label);h[H]||(h[H]={projected:[],toNodeId:t.dfsCode.dfsEdgeList[u[D]].fromNode,edgeLabel:G.label}),h[H].projected.push({graphId:v.graphId,edge:G,preNode:v})}}if(!(o>=t.maxNodeNum)){var X=t.findForwardPureEdges(p,E.edges[u[0]],c,E);X.forEach(function(ht){var mt="".concat(l,"-").concat(ht.label,"-").concat(g[ht.to].label);f[mt]||(f[mt]={projected:[],fromNodeId:l,edgeLabel:ht.label,nodeLabel2:g[ht.to].label}),f[mt].projected.push({graphId:v.graphId,edge:ht,preNode:v})});for(var rt=function(mt){var Dt=t.findForwardRmpathEdges(p,E.edges[u[mt]],c,E);Dt.forEach(function(kt){var Vt="".concat(t.dfsCode.dfsEdgeList[u[mt]].fromNode,"-").concat(kt.label,"-").concat(g[kt.to].label);f[Vt]||(f[Vt]={projected:[],fromNodeId:t.dfsCode.dfsEdgeList[u[mt]].fromNode,edgeLabel:kt.label,nodeLabel2:g[kt.to].label}),f[Vt].projected.push({graphId:v.graphId,edge:kt,preNode:v})})},D=0;D<u.length;D++)rt(D)}}),Object.keys(h).forEach(function(v){var p=h[v],g=p.toNodeId,E=p.edgeLabel;t.dfsCode.dfsEdgeList.push(new py(l,g,"-1",E,"-1")),t.subGraphMining(h[v].projected),t.dfsCode.dfsEdgeList.pop()}),Object.keys(f).forEach(function(v){var p=f[v],g=p.fromNodeId,E=p.edgeLabel,D=p.nodeLabel2;t.dfsCode.dfsEdgeList.push(new py(g,l+1,Gp,E,D)),t.subGraphMining(f[v].projected),t.dfsCode.dfsEdgeList.pop()})}},a.prototype.generate1EdgeFrequentSubGraphs=function(){var e=this.graphs,t=this.directed,n=this.minSupport,o=this.frequentSize1Subgraphs,u={},l={},c={},f={};return Object.keys(e).forEach(function(h){var v=e[h],p=v.nodeMap;v.nodes.forEach(function(g,E){var D=g.label,G="".concat(h,"-").concat(D);if(!c[G]){var H=u[D]||0;H++,u[D]=H}c[G]={graphKey:h,label:D},g.edges.forEach(function(X){var rt=D,ht=p[X.to].label;if(!t&&rt>ht){var mt=ht;ht=rt,rt=mt}var Dt=X.label,kt="".concat(h,"-").concat(rt,"-").concat(Dt,"-").concat(ht),Vt="".concat(rt,"-").concat(Dt,"-").concat(ht);if(!l[Vt]){var te=l[Vt]||0;te++,l[Vt]=te}f[kt]={graphId:h,nodeLabel1:rt,edgeLabel:Dt,nodeLabel2:ht}})})}),Object.keys(u).forEach(function(h){var v=u[h];if(!(v<n)){var p={nodes:[],edges:[]};p.nodes.push({id:"0",label:h}),o.push(p)}}),o},a.prototype.run=function(){var e=this;if(this.frequentSize1Subgraphs=this.generate1EdgeFrequentSubGraphs(),!(this.maxNodeNum<2)){var t=this.graphs,n=this.directed,o={};Object.keys(t).forEach(function(u){var l=t[u],c=l.nodeMap;l.nodes.forEach(function(f){var h=e.findForwardRootEdges(l,f);h.forEach(function(v){var p=c[v.to],g="".concat(f.label,"-").concat(v.label,"-").concat(p.label);o[g]||(o[g]={projected:[],nodeLabel1:f.label,edgeLabel:v.label,nodeLabel2:p.label});var E={graphId:u,edge:v,preNode:null};o[g].projected.push(E)})})}),Object.keys(o).forEach(function(u){var l=o[u],c=l.projected,f=l.nodeLabel1,h=l.edgeLabel,v=l.nodeLabel2;e.dfsCode.dfsEdgeList.push(new py(0,1,f,h,v)),e.subGraphMining(c),e.dfsCode.dfsEdgeList.pop()})}},a}(),$J=function(e,t,n,o){var u={};return Object.keys(e).forEach(function(l,c){var f=e[l],h=new Y3(c,!0,t),v={};f.nodes.forEach(function(p,g){h.addNode(g,p[n]),v[p.id]=g}),f.edges.forEach(function(p,g){var E=v[p.source],D=v[p.target];h.addEdge(-1,E,D,p[o])}),h&&h.getNodeNum()&&(u[h.id]=h)}),u},KJ=function(e,t,n){var o=[];return e.forEach(function(u){var l={nodes:[],edges:[]};u.nodes.forEach(function(c){var f;l.nodes.push((f={id:"".concat(c.id)},f[t]=c.label,f))}),u.edges.forEach(function(c){var f;l.edges.push((f={source:"".concat(c.from),target:"".concat(c.to)},f[n]=c.label,f))}),o.push(l)}),o},$3="cluster",ZJ=function(e){var t=e.graphs,n=e.directed,o=n===void 0?!1:n,u=e.nodeLabelProp,l=u===void 0?$3:u,c=e.edgeLabelProp,f=c===void 0?$3:c,h=$J(t,o,l,f),v=e.minSupport,p=e.maxNodeNum,g=e.minNodeNum,E=e.verbose,D=e.top,G={graphs:h,minSupport:v,maxNodeNum:p,minNodeNum:g,top:D,verbose:E,directed:o},H=new XJ(G);H.run();var X=KJ(H.frequentSubgraphs,l,f);return X},QJ=ZJ,K3=function(e,t,n,o){n===void 0&&(n="cluster"),o===void 0&&(o=2);var u=[],l=e.nodes;return t.forEach(function(c,f){u.push(Z3(l,c,f,n,o))}),u},Z3=function(e,t,n,o,u){var l=[n],c=[],f={};return t.forEach(function(h,v){if(h<=u&&n!==v){l.push(v),c.push(e[v]);var p=e[v][o];f[p]?(f[p].count++,f[p].dists.push(h)):f[p]={count:1,dists:[h]}}}),Object.keys(f).forEach(function(h){f[h].dists=f[h].dists.sort(function(v,p){return v-p})}),{nodeIdx:n,nodeId:e[n].id,nodeIdxs:l,neighbors:c,neighborNum:l.length-1,nodeLabelCountMap:f}},JJ=function(e,t,n,o,u){var l=Math.ceil(n/t),c={},f=0;return o.forEach(function(h,v){for(var p=0,g=0,E=h.nodeIdxs,D=h.neighborNum-1;p<l;){for(var G=E[1+Math.floor(Math.random()*D)],H=0;(c["".concat(v,"-").concat(G)]||c["".concat(G,"-").concat(v)])&&(G=Math.floor(Math.random()*t),H++,!(H>2*t)););if(H<2*t&&(c["".concat(v,"-").concat(G)]={start:v,end:G,distance:u[v][G]},p++,f++,f>=n))return c;if(g++,g>2*t)break}if(p<l){var X=l-p;l=(l+X)/(t-v-1)}}),c},wS=function(e,t,n,o){var u=n.nodes;return o||(o={}),Object.keys(e).forEach(function(l){var c,f;if(!(o&&o[l])){o[l]={nodes:[],edges:[]};var h=e[l],v=(c=t[h.start])===null||c===void 0?void 0:c.nodeIdxs,p=(f=t[h.end])===null||f===void 0?void 0:f.nodeIdxs;if(!(!v||!p)){var g=new Set(p),E=v.filter(function(rt){return g.has(rt)});if(!(!E||!E.length)){for(var D={},G=E.length,H=0;H<G;H++){var X=u[E[H]];o[l].nodes.push(X),D[X.id]=!0}n.edges.forEach(function(rt){D[rt.source]&&D[rt.target]&&o[l].edges.push(rt)})}}}}),o},_S=function(e,t,n,o){var u,l,c={};e.nodes.forEach(function(h){c[h.id]=h});var f=0;return!(!((u=t==null?void 0:t.edges)===null||u===void 0)&&u.length)||((l=t==null?void 0:t.nodes)===null||l===void 0?void 0:l.length)<2?0:(e.edges.forEach(function(h){var v=c[h.source][n],p=c[h.target][n],g=t==null?void 0:t.nodes[0][n],E=t==null?void 0:t.nodes[1][n],D=t==null?void 0:t.edges[0][o];h[o]===D&&(v===g&&p===E||v===E&&p===g)&&f++}),f)},qJ=function(e,t,n){for(var o=1/0,u=0,l=function(h){var v=e[h],p=Object.keys(v).sort(function(rt,ht){return v[rt]-v[ht]}),g=10,E=[];p.forEach(function(rt,ht){E[ht%g]||(E[ht%g]={graphs:[],totalCount:0,aveCount:0}),E[ht%g].graphs.push(rt),E[ht%g].totalCount+=v[rt]});var D=0,G=[];E.forEach(function(rt){var ht=rt.totalCount/rt.graphs.length;rt.aveCount=ht,G.push(ht);var mt=0,Dt=rt.length;rt.graphs.forEach(function(kt,Vt){var te=v[kt];rt.graphs.forEach(function(le,pe){Vt!==pe&&(mt+=Math.abs(te-v[le]))})}),mt/=Dt*(Dt-1)/2,D+=mt}),D/=E.length;var H=0;G.forEach(function(rt,ht){G.forEach(function(mt,Dt){ht!==Dt&&(H+=Math.abs(rt-mt))}),H/=G.length*(G.length-1)/2});var X=H-D;o<X&&(o=X,u=h)},c=0;c<t;c++)l(c);return{structure:n[u],structureCountMap:e[u]}},Q3=function(e,t){var n={},o={};return e.forEach(function(u,l){n[u.id]={idx:l,node:u,degree:0,inDegree:0,outDegree:0};var c=u[t];o[c]||(o[c]=[]),o[c].push(u)}),{nodeMap:n,nodeLabelMap:o}},J3=function(e,t,n){var o={},u={};return e.forEach(function(l,c){o["".concat(x3)]={idx:c,edge:l};var f=l[t];u[f]||(u[f]=[]),u[f].push(l);var h=n[l.source];h&&(h.degree++,h.outDegree++);var v=n[l.target];v&&(v.degree++,v.inDegree++)}),{edgeMap:o,edgeLabelMap:u}},q3=function(e,t,n){var o=t.length,u={};return t.forEach(function(l,c){for(var f=n?0:c+1,h=e[c].id,v=f;v<o;v++)if(c!==v){var p=e[v].id,g=l[v];u["".concat(h,"-").concat(p)]=g,n||(u["".concat(p,"-").concat(h)]=g)}}),u},tq=function(e,t,n,o,u,l,c,f,h,v,p){var g,E="".concat(t.id,"-").concat(n.id);if(v&&v[E])return v[E];var D=p?p[E]:void 0;if(!D){var G=(g={},g[E]={start:o[t.id].idx,end:o[n.id].idx,distance:u},g);p=wS(G,l,e,p),D=p[E]}return _S(D,c,f,h)},tL=function(e,t,n,o){var u,l,c,f=(u=e[t])===null||u===void 0?void 0:u.degree,h=(l=e[t])===null||l===void 0?void 0:l.inDegree,v=(c=e[t])===null||c===void 0?void 0:c.outDegree;return e[t]===void 0&&(f=1/0,h=1/0,v=1/0,o[t].forEach(function(p){var g=n[p.id].degree;f>g&&(f=g);var E=n[p.id].inDegree;h>E&&(h=E);var D=n[p.id].outDegree;v>D&&(v=D)}),e[t]={degree:f,inDegree:h,outDegree:v}),{minPatternNodeLabelDegree:f,minPatternNodeLabelInDegree:h,minPatternNodeLabelOutDegree:v}},eq=function(e,t,n,o,u,l,c){var f;if(n===void 0&&(n=!1),l===void 0&&(l="cluster"),c===void 0&&(c="cluster"),!(!e||!e.nodes)){var h=e.nodes.length;if(!!h){var v=hb(e,n),p=hb(t,n),g=q3(e.nodes,v,n),E=q3(t.nodes,p,n),D=Q3(e.nodes,l),G=D.nodeMap,H=D.nodeLabelMap,X=Q3(t.nodes,l),rt=X.nodeMap,ht=X.nodeLabelMap;J3(e.edges,c,G);var mt=J3(t.edges,c,rt).edgeLabelMap,Dt=[];p==null||p.forEach(function(pa){Dt=Dt.concat(pa)}),u||(u=Math.max.apply(Math,(0,Z.__spreadArray)((0,Z.__spreadArray)([],Dt,!1),[2],!1))),o||(o=u);var kt=K3(e,v,l,o),Vt=K3(t,p,l,o),te=Math.min(100,h*(h-1)/2),le=JJ(o,h,te,kt,v),pe=wS(le,kt,e),De=10,Xe=1,pr=1,yr=4,Vr={graphs:pe,nodeLabelProp:l,edgeLabelProp:c,minSupport:Xe,minNodeNum:pr,maxNodeNum:yr,directed:n},nr=QJ(Vr).slice(0,De),Gr=nr.length,en=[];nr.forEach(function(pa,so){en[so]={},Object.keys(pe).forEach(function(ia){var Ai=pe[ia],sa=_S(Ai,pa,l,c);en[so][ia]=sa})});var cr=qJ(en,Gr,nr),Fr=cr.structure,qr=cr.structureCountMap,_r=t.nodes[0],kr=[],Yr=(f=t.nodes[0])===null||f===void 0?void 0:f[l],mn=-1/0;t.nodes.forEach(function(pa){var so=pa[l],ia=H[so];(ia==null?void 0:ia.length)>mn&&(mn=ia.length,kr=ia,Yr=so,_r=pa)});var Er={},oi={},mr={},ki={},Xn={},qn={};Object.keys(ht).forEach(function(pa,so){Xn[pa]=[],n&&(qn[pa]=[]);var ia=-1/0,Ai=ht[pa],sa={};Ai.forEach(function($a){var wo=E["".concat(_r.id,"-").concat($a.id)];if(wo&&Xn[pa].push(wo),ia<wo&&(ia=wo),sa["".concat(_r.id,"-").concat($a.id)]={start:0,end:rt[$a.id].idx,distance:wo},n){var Ms=E["".concat($a.id,"-").concat(_r.id)];Ms&&qn[pa].push(Ms)}}),Xn[pa]=Xn[pa].sort(function($a,wo){return $a-wo}),n&&(qn[pa]=qn[pa].sort(function($a,wo){return $a-wo})),oi=wS(sa,Vt,t,oi);var Bi=[];if(Object.keys(sa).forEach(function($a){if(mr[$a]){Bi.push(mr[$a]);return}var wo=oi[$a];mr[$a]=_S(wo,Fr,l,c),Bi.push(mr[$a])}),Bi=Bi.sort(function($a,wo){return wo-$a}),ki["".concat(_r.id,"-").concat(pa)]=Bi,pa!==Yr)for(var Ia=(kr==null?void 0:kr.length)||0,Oa=function(wo){var Ms=kr[wo],Gh=kt[G[Ms.id].idx],Qo=Gh.nodeLabelCountMap[pa],Qd=ht[pa].length;if(!Qo||Qo.count<Qd)return kr.splice(wo,1),"continue";for(var Ag=!1,th=0;th<Qd;th++)if(Qo.dists[th]>Xn[pa][th]){Ag=!0;break}if(Ag)return kr.splice(wo,1),"continue";var Jd={};Gh.neighbors.forEach(function(eh){var Tv=g["".concat(Ms.id,"-").concat(eh.id)];Jd["".concat(Ms.id,"-").concat(eh.id)]={start:G[Ms.id].idx,end:G[eh.id].idx,distance:Tv}}),pe=wS(Jd,kt,e,pe);var qv=[];Object.keys(Jd).forEach(function(eh){if(qr[eh]){qv.push(qr[eh]);return}var Tv=pe[eh];qr[eh]=_S(Tv,Fr,l,c),qv.push(qr[eh])}),qv=qv.sort(function(eh,Tv){return Tv-eh});for(var Vp=!1,th=0;th<Qd;th++)if(qv[th]<Bi[th]){Vp=!0;break}if(Vp)return kr.splice(wo,1),"continue"},So=Ia-1;So>=0;So--)Oa(So)});var ai=[];kr==null||kr.forEach(function(pa){for(var so=G[pa.id].idx,ia=Z3(e.nodes,v[so],so,l,u),Ai=ia.neighbors,sa=Ai.length,Bi=!1,Ia=sa-1;Ia>=0;Ia--){if(Ai.length+1<t.nodes.length){Bi=!0;return}var Oa=Ai[Ia],So=Oa[l];if(!ht[So]||!ht[So].length){Ai.splice(Ia,1);continue}if(!Xn[So]||!Xn[So].length){Ai.splice(Ia,1);continue}var $a="".concat(pa.id,"-").concat(Oa.id),wo=g[$a],Ms=Xn[So].length-1,Gh=Xn[So][Ms];if(wo>Gh){Ai.splice(Ia,1);continue}if(n){var Qo="".concat(Oa.id,"-").concat(pa.id),Qd=g[Qo];Ms=qn[So].length-1;var Ag=qn[So][Ms];if(Qd>Ag){Ai.splice(Ia,1);continue}}var th=qr[$a]?qr[$a]:tq(e,pa,Oa,G,wo,kt,Fr,l,c,qr,pe),Jd="".concat(_r.id,"-").concat(So),qv=ki[Jd][ki[Jd].length-1];if(th<qv){Ai.splice(Ia,1);continue}var Vp=tL(Er,So,rt,ht),eh=Vp.minPatternNodeLabelDegree,Tv=Vp.minPatternNodeLabelInDegree,bp=Vp.minPatternNodeLabelOutDegree;if(G[Oa.id].degree<eh){Ai.splice(Ia,1);continue}}Bi||ai.push({nodes:[pa].concat(Ai)})});var va=fb(t,_r.id,!1).length,Ii={};n?(Object.keys(va).forEach(function(pa){var so=rt[pa].node[l];Ii[so]?Ii[so].push(va[pa]):Ii[so]=[va[pa]]}),Object.keys(Ii).forEach(function(pa){Ii[pa].sort(function(so,ia){return so-ia})})):Ii=Xn;for(var Ni=ai.length,Sa=function(so){var ia=ai[so],Ai=ia.nodes[0],sa={},Bi={};ia.nodes.forEach(function(Hs,_d){Bi[Hs.id]={idx:_d,node:Hs,degree:0,inDegree:0,outDegree:0};var Xl=Hs[l];sa[Xl]?sa[Xl]++:sa[Xl]=1});var Ia=[],Oa={};e.edges.forEach(function(Hs){Bi[Hs.source]&&Bi[Hs.target]&&(Ia.push(Hs),Oa[Hs[c]]?Oa[Hs[c]]++:Oa[Hs[c]]=1,Bi[Hs.source].degree++,Bi[Hs.target].degree++,Bi[Hs.source].outDegree++,Bi[Hs.target].inDegree++)});for(var So=Object.keys(mt).length,$a=!1,wo=0;wo<So;wo++){var Ms=Object.keys(mt)[wo];if(!Oa[Ms]||Oa[Ms]<mt[Ms].length){$a=!0;break}}if($a)return ai.splice(so,1),"continue";var Gh=Ia.length;if(Gh<t.edges.length)return ai.splice(so,1),"break";for(var Qo=!1,Qd=function(_d){var Xl=Ia[_d],tp=Xl[c],Cg=mt[tp];if(!Cg||!Cg.length)return Oa[tp]--,Cg&&Oa[tp]<Cg.length?(Qo=!0,"break"):(Ia.splice(_d,1),Bi[Xl.source].degree--,Bi[Xl.target].degree--,Bi[Xl.source].outDegree--,Bi[Xl.target].inDegree--,"continue");var O2=Bi[Xl.source].node[l],D2=Bi[Xl.target].node[l],Rb=!1;if(Cg.forEach(function(P2){var L2=rt[P2.source].node,R2=rt[P2.target].node;L2[l]===O2&&R2[l]===D2&&(Rb=!0),!n&&L2[l]===D2&&R2[l]===O2&&(Rb=!0)}),!Rb)return Oa[tp]--,Cg&&Oa[tp]<Cg.length?(Qo=!0,"break"):(Ia.splice(_d,1),Bi[Xl.source].degree--,Bi[Xl.target].degree--,Bi[Xl.source].outDegree--,Bi[Xl.target].inDegree--,"continue")},wo=Gh-1;wo>=0;wo--){var Ag=Qd(wo);if(Ag==="break")break}if(Qo)return ai.splice(so,1),"continue";ia.edges=Ia;var th=fb(ia,ia.nodes[0].id,!1).length;if(Object.keys(th).reverse().forEach(function(Hs){if(!(Hs===ia.nodes[0].id||Qo)){if(th[Hs]===1/0){var _d=Bi[Hs].node[l];if(sa[_d]--,sa[_d]<ht[_d].length){Qo=!0;return}var Xl=ia.nodes.indexOf(Bi[Hs].node);ia.nodes.splice(Xl,1),Bi[Hs]=void 0;return}var tp=G[Hs].node[l];if(!Ii[tp]||!Ii[tp].length||th[Hs]>Ii[tp][Ii[tp].length-1]){var _d=Bi[Hs].node[l];if(sa[_d]--,sa[_d]<ht[_d].length){Qo=!0;return}var Xl=ia.nodes.indexOf(Bi[Hs].node);ia.nodes.splice(Xl,1),Bi[Hs]=void 0}}}),Qo)return ai.splice(so,1),"continue";for(var Jd=!0,qv=0;Jd&&!Qo;){Jd=!1;var Vp=n?Bi[Ai.id].degree<rt[_r.id].degree||Bi[Ai.id].inDegree<rt[_r.id].inDegree||Bi[Ai.id].outDegree<rt[_r.id].outDegree:Bi[Ai.id].degree<rt[_r.id].degree;if(Vp){Qo=!0;break}if(sa[Ai[l]]<ht[Ai[l]].length){Qo=!0;break}for(var eh=ia.nodes.length,Tv=eh-1;Tv>=0;Tv--){var bp=ia.nodes[Tv],M2=Bi[bp.id].degree,VC=Bi[bp.id].inDegree,HC=Bi[bp.id].outDegree,YC=bp[l],Lb=tL(Er,YC,rt,ht),I2=Lb.minPatternNodeLabelDegree,XC=Lb.minPatternNodeLabelInDegree,$C=Lb.minPatternNodeLabelOutDegree,KC=n?M2<I2||VC<XC||HC<$C:M2<I2;if(KC){if(sa[bp[l]]--,sa[bp[l]]<ht[bp[l]].length){Qo=!0;break}ia.nodes.splice(Tv,1),Bi[bp.id]=void 0,Jd=!0}}if(Qo||!Jd&&qv!==0)break;Gh=Ia.length;for(var g1=Gh-1;g1>=0;g1--){var Ep=Ia[g1];if(!Bi[Ep.source]||!Bi[Ep.target]){Ia.splice(g1,1);var y1=Ep[c];if(Oa[y1]--,Bi[Ep.source]&&(Bi[Ep.source].degree--,Bi[Ep.source].outDegree--),Bi[Ep.target]&&(Bi[Ep.target].degree--,Bi[Ep.target].inDegree--),mt[y1]&&Oa[y1]<mt[y1].length){Qo=!0;break}Jd=!0}}qv++}if(Qo||Qo||ia.nodes.length<t.nodes.length||Ia.length<t.edges.length)return ai.splice(so,1),"continue"},ea=Ni-1;ea>=0;ea--){var lo=Sa(ea);if(lo==="break")break}for(var Vs=ai.length,Go=function(so){var ia=ai[so],Ai={};ia.edges.forEach(function(Ia){var Oa="".concat(Ia.source,"-").concat(Ia.target,"-").concat(Ia.label);Ai[Oa]?Ai[Oa]++:Ai[Oa]=1});for(var sa=function(Oa){var So=ai[Oa],$a={};So.edges.forEach(function(Ms){var Gh="".concat(Ms.source,"-").concat(Ms.target,"-").concat(Ms.label);$a[Gh]?$a[Gh]++:$a[Gh]=1});var wo=!0;Object.keys($a).length!==Object.keys(Ai).length?wo=!1:Object.keys(Ai).forEach(function(Ms){$a[Ms]!==Ai[Ms]&&(wo=!1)}),wo&&ai.splice(Oa,1)},Bi=Vs-1;Bi>so;Bi--)sa(Bi);Vs=ai.length},ea=0;ea<=Vs-1;ea++)Go(ea);return ai}}},eL=eq,rq=function(){function a(e){e===void 0&&(e=10),this.linkedList=new m3,this.maxStep=e}return Object.defineProperty(a.prototype,"length",{get:function(){return this.linkedList.toArray().length},enumerable:!1,configurable:!0}),a.prototype.isEmpty=function(){return!this.linkedList.head},a.prototype.isMaxStack=function(){return this.toArray().length>=this.maxStep},a.prototype.peek=function(){return this.isEmpty()?null:this.linkedList.head.value},a.prototype.push=function(e){this.linkedList.prepend(e),this.length>this.maxStep&&this.linkedList.deleteTail()},a.prototype.pop=function(){var e=this.linkedList.deleteHead();return e?e.value:null},a.prototype.toArray=function(){return this.linkedList.toArray().map(function(e){return e.value})},a.prototype.clear=function(){for(;!this.isEmpty();)this.pop()},a}(),Jm=rq,rL=cA,nq={getAdjMatrix:vy,breadthFirstSearch:b3,connectedComponent:oA,getDegree:cb,getInDegree:S3,getOutDegree:w3,detectCycle:cA,detectDirectedCycle:rL,detectAllCycles:A3,detectAllDirectedCycle:lA,detectAllUndirectedCycle:uA,depthFirstSearch:sA,dijkstra:fb,findAllPath:M3,findShortestPath:T3,floydWarshall:hb,labelPropagation:I3,louvain:dA,iLouvain:F3,kCore:N3,kMeans:B3,cosineSimilarity:vA,nodesCosineSimilarity:G3,minimumSpanningTree:U3,pageRank:j3,getNeighbors:Sv,Stack:Jm,GADDI:eL},AS=ka,iq=function(e){return function(t,n){return t[e]-n[e]}},nL=function(e,t,n){return e>=t&&e<=n},CS=function(e,t,n,o){var u=1e-4,l={x:n.x-e.x,y:n.y-e.y},c={x:t.x-e.x,y:t.y-e.y},f={x:o.x-n.x,y:o.y-n.y},h=c.x*f.y-c.y*f.x,v=h*h,p=1/h,g=c.x*c.x+c.y*c.y,E=f.x*f.x+f.y*f.y;if(v>u*g*E){var D=(l.x*f.y-l.y*f.x)*p,G=(l.x*c.y-l.y*c.x)*p;return!nL(D,0,1)||!nL(G,0,1)?null:{x:e.x+D*c.x,y:e.y+D*c.y}}return null},iL=function(e,t){var n=e.x,o=e.y,u=e.width,l=e.height,c=n+u/2,f=o+l/2,h=[],v={x:c,y:f};h.push({x:n,y:o}),h.push({x:n+u,y:o}),h.push({x:n+u,y:o+l}),h.push({x:n,y:o+l}),h.push({x:n,y:o});for(var p=null,g=1;g<h.length&&(p=CS(h[g-1],h[g],v,t),!p);g++);return p},aL=function(e,t){var n=e.x,o=e.y,u=e.r,l=t.x,c=t.y,f=l-n,h=c-o;if(f*f+h*h<u*u)return null;var v=Math.atan(h/f);return{x:n+Math.abs(u*Math.cos(v))*Math.sign(f),y:o+Math.abs(u*Math.sin(v))*Math.sign(h)}},oL=function(e,t){var n=e.rx,o=e.ry,u=e.x,l=e.y,c=t.x-u,f=t.y-l,h=Math.atan2(f/o,c/n);return h<0&&(h+=2*Math.PI),{x:u+n*Math.cos(h),y:l+o*Math.sin(h)}},TS=function(e,t,n){n===void 0&&(n=1);var o=[e.x,e.y,n];return(!t||isNaN(t[0]))&&(t=[1,0,0,0,1,0,0,0,1]),z0.kK(o,o,t),{x:o[0],y:o[1]}},sL=function(e,t,n){n===void 0&&(n=1),(!t||isNaN(t[0]))&&(t=[1,0,0,0,1,0,0,0,1]);var o=fu.invert([1,0,0,0,1,0,0,0,1],t);o||(o=[1,0,0,0,1,0,0,0,1]);var u=[e.x,e.y,n];return z0.kK(u,u,o),{x:u[0],y:u[1]}},pA=function(e,t,n){var o=e.x-t.x,u=e.y-t.y,l=e.x-n.x,c=e.y-n.y,f=(e.x*e.x-t.x*t.x-t.y*t.y+e.y*e.y)/2,h=(e.x*e.x-n.x*n.x-n.y*n.y+e.y*e.y)/2,v=u*l-o*c;return{x:-(c*f-u*h)/v,y:-(o*h-l*f)/v}},MS=function(e,t){var n=e.x-t.x,o=e.y-t.y;return Math.sqrt(n*n+o*o)},aq=function(e,t){var n=[];return e.forEach(function(o){var u=[];o.forEach(function(l){u.push(l*t)}),n.push(u)}),n},oq=function(e){for(var t=[],n=e.length,o=0;o<n;o+=1){t[o]=[];for(var u=0;u<n;u+=1)o===u?t[o][u]=0:e[o][u]===0||!e[o][u]?t[o][u]=1/0:t[o][u]=e[o][u]}for(var l=0;l<n;l+=1)for(var o=0;o<n;o+=1)for(var u=0;u<n;u+=1)t[o][u]>t[o][l]+t[l][u]&&(t[o][u]=t[o][l]+t[l][u]);return t},sq=function(e,t){var n=e.nodes,o=e.edges,u=[],l={};if(!n)throw new Error("invalid nodes data!");return n&&n.forEach(function(c,f){l[c.id]=f;var h=[];u.push(h)}),o&&o.forEach(function(c){var f=c.source,h=c.target,v=l[f],p=l[h];u[v][p]=1,t||(u[p][v]=1)}),u},uL=function(e,t){e.translate(t.x,t.y)},gA=function(e,t,n,o){o===void 0&&(o={duration:500});var u=e.getMatrix();u||(u=[1,0,0,0,1,0,0,0,1]);var l=e.getCanvasBBox(),c=t.x-l.minX,f=t.y-l.minY;if(n){var h=c*u[0],v=f*u[4],p=0,g=0,E=0,D=0;e.animate(function(H){return E=h*H,D=v*H,u=AS(u,[["t",E-p,D-g]]),p=E,g=D,{matrix:u}},o)}else{var G=AS(u,[["t",c,f]]);e.setMatrix(G)}},uq=function(e,t){var n=e.getMatrix();n||(n=[1,0,0,0,1,0,0,0,1]);var o=t;(0,w.isArray)(t)||(o=[t,t]),(0,w.isArray)(t)&&t.length===1&&(o=[t[0],t[0]]),n=AS(n,[["s",o[0],o[1]]]),e.setMatrix(n)},lq=function(e,t){var n=e.getMatrix();n||(n=[1,0,0,0,1,0,0,0,1]),n=AS(n,[["r",t]]),e.setMatrix(n)},cq=function(e,t,n){for(var o=[],u=0;u<e;u++)o[u]=0;return n.forEach(function(l){l.source&&(o[t[l.source]]+=1),l.target&&(o[t[l.target]]+=1)}),o};function fq(a,e,t){return(t[0]-a[0])*(e[1]-a[1])===(e[0]-a[0])*(t[1]-a[1])&&Math.min(a[0],e[0])<=t[0]&&t[0]<=Math.max(a[0],e[0])&&Math.min(a[1],e[1])<=t[1]&&t[1]<=Math.max(a[1],e[1])}var db=function(e,t,n){var o=!1,u=e.length,l=1e-6;function c(p){return Math.abs(p)<l?0:p<0?-1:1}if(u<=2)return!1;for(var f=0;f<u;f++){var h=e[f],v=e[(f+1)%u];if(fq(h,v,[t,n]))return!0;c(h[1]-n)>0!=c(v[1]-n)>0&&c(t-(n-h[1])*(h[0]-v[0])/(h[1]-v[1])-h[0])<0&&(o=!o)}return o},lL=function(e,t){return!(t.minX>e.maxX||t.maxX<e.minX||t.minY>e.maxY||t.maxY<e.minY)},hq=function(e,t){var n=!1;return(0,w.each)(e,function(o){if(CS(o.from,o.to,t.from,t.to))return n=!0,!1}),n},cL=function(e,t){var n=function(g){var E=g.map(function(G){return G[0]}),D=g.map(function(G){return G[1]});return{minX:Math.min.apply(null,E),maxX:Math.max.apply(null,E),minY:Math.min.apply(null,D),maxY:Math.max.apply(null,D)}},o=function(g){for(var E=[],D=g.length,G=0;G<D-1;G++){var H=g[G],X=g[G+1];E.push({from:{x:H[0],y:H[1]},to:{x:X[0],y:X[1]}})}if(E.length>1){var rt=g[0],ht=g[D-1];E.push({from:{x:ht[0],y:ht[1]},to:{x:rt[0],y:rt[1]}})}return E};if(e.length<2||t.length<2)return!1;var u=n(e),l=n(t);if(!lL(u,l))return!1;var c=!1;if((0,w.each)(t,function(p){if(db(e,p[0],p[1]))return c=!0,!1}),c||((0,w.each)(e,function(p){if(db(t,p[0],p[1]))return c=!0,!1}),c))return!0;var f=o(e),h=o(t),v=!1;return(0,w.each)(h,function(p){if(hq(f,p))return v=!0,!1}),v},gy=function(){function a(e,t,n,o){this.x1=e,this.y1=t,this.x2=n,this.y2=o}return a.prototype.getBBox=function(){var e=Math.min(this.x1,this.x2),t=Math.min(this.y1,this.y2),n=Math.max(this.x1,this.x2),o=Math.max(this.y1,this.y2),u={x:e,y:t,minX:e,minY:t,maxX:n,maxY:o,width:n-e,height:o-t};return u},a}(),yA=function(e,t){var n={top:[e.minX,e.minY,e.maxX,e.minY],left:[e.minX,e.minY,e.minX,e.maxY],bottom:[e.minX,e.maxY,e.maxX,e.maxY],right:[e.maxX,e.minY,e.maxX,e.maxY]};return n[t]},dq=function(e,t){var n=(t.x2-t.x1)*(e.y1-t.y1)-(t.y2-t.y1)*(e.x1-t.x1),o=(e.x2-e.x1)*(e.y1-t.y1)-(e.y2-e.y1)*(e.x1-t.x1),u=(t.y2-t.y1)*(e.x2-e.x1)-(t.x2-t.x1)*(e.y2-e.y1);if(u){var l=n/u,c=o/u;if(l>=0&&l<=1&&c>=0&&c<=1)return l}return Number.POSITIVE_INFINITY},fL=function(e,t){for(var n=["top","left","bottom","right"],o=e.getBBox(),u=0,l=[],c=0;c<4;c++){var f=yA(o,n[c]),h=f[0],v=f[1],p=f[2],g=f[3];l[c]=CS({x:t.x1,y:t.y1},{x:t.x2,y:t.y2},{x:h,y:v},{x:p,y:g}),l[c]&&(u+=1)}return[l,u]},mA=function(e,t){for(var n=["top","left","bottom","right"],o=e.getBBox(),u=Number.POSITIVE_INFINITY,l=0,c=0;c<4;c++){var f=yA(o,n[c]),h=f[0],v=f[1],p=f[2],g=f[3],E=dq(t,new gy(h,v,p,g));E=Math.abs(E-.5),E>=0&&E<=1&&(l+=1,u=E<u?E:u)}return l===0?-1:u},hL=function(e){var t=0,n=0;if(e.length>0){for(var o=0,u=e;o<u.length;o++){var l=u[o];t+=l.x,n+=l.y}t/=e.length,n/=e.length}return{x:t,y:n}},IS=function(e,t){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)},dL=function(e,t){var n=t.x1,o=t.y1,u=t.x2-n,l=t.y2-o,c=e.x-n,f=e.y-o,h=c*u+f*l,v;h<=0?v=0:(c=u-c,f=l-f,h=c*u+f*l,h<=0?v=0:v=h*h/(u*u+l*l));var p=c*c+f*f-v;return p<0&&(p=0),p},xA=function(e,t,n){return n===void 0&&(n=.001),Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)<Math.pow(n,2)},vL=function(e,t){var n=e.x<t.x,o=e.x>t.x+t.width,u=e.y>t.y+t.height,l=e.y<t.y,c=n||o||u||l;if(!c)return 0;if(u&&!n&&!o)return Math.pow(t.y+t.height-e.y,2);if(l&&!n&&!o)return Math.pow(e.y-t.y,2);if(n&&!u&&!l)return Math.pow(t.x-e.x,2);if(o&&!u&&!l)return Math.pow(t.x+t.width-e.x,2);var f=Math.min(Math.abs(t.x-e.x),Math.abs(t.x+t.width-e.x)),h=Math.min(Math.abs(t.y-e.y),Math.abs(t.y+t.height-e.y));return f*f+h*h},vq=function(e,t){var n=e[0],o=e[1],u=e[2],l=e[3],c=t.x,f=t.y,h=[u-n,l-o];if(Gf(h,[0,0]))return NaN;var v=[-h[1],h[0]];Ps(v,v);var p=[c-n,f-o];return Math.abs(ud(p,v))},pL=function(e,t,n){return e+(t-e)*n},f0="rgb(95, 149, 255)",pq="rgb(255, 255, 255)",gL="rgb(0, 0, 0)",bA="rgb(247, 250, 255)",yL="rgb(239, 244, 255)",OS="rgb(253, 253, 253)",mL="rgb(250, 250, 250)",DS="rgb(224, 224, 224)",xL="rgb(234, 234, 234)",gq="rgb(245, 245, 245)",yq="rgb(191, 213, 255)",bL="#4572d9",mq="rgb(223, 234, 255)",Do={mainStroke:f0,mainFill:yL,activeStroke:f0,activeFill:bA,inactiveStroke:yq,inactiveFill:bA,selectedStroke:f0,selectedFill:pq,highlightStroke:bL,highlightFill:mq,disableStroke:DS,disableFill:mL,edgeMainStroke:DS,edgeActiveStroke:f0,edgeInactiveStroke:xL,edgeSelectedStroke:f0,edgeHighlightStroke:f0,edgeDisableStroke:gq,comboMainStroke:DS,comboMainFill:OS,comboActiveStroke:f0,comboActiveFill:bA,comboInactiveStroke:DS,comboInactiveFill:OS,comboSelectedStroke:f0,comboSelectedFill:OS,comboHighlightStroke:bL,comboHighlightFill:OS,comboDisableStroke:xL,comboDisableFill:mL},ji={version:"0.6.4",rootContainerClassName:"root-container",nodeContainerClassName:"node-container",edgeContainerClassName:"edge-container",comboContainerClassName:"combo-container",delegateContainerClassName:"delegate-container",defaultLoopPosition:"top",nodeLabel:{style:{fill:"#000",fontSize:12,textAlign:"center",textBaseline:"middle"},offset:4},defaultNode:{type:"circle",style:{lineWidth:1,stroke:Do.mainStroke,fill:yL},size:20,color:Do.mainStroke,linkPoints:{size:8,lineWidth:1,fill:Do.activeFill,stroke:Do.activeStroke}},nodeStateStyles:{active:{fill:Do.activeFill,stroke:Do.activeStroke,lineWidth:2,shadowColor:Do.mainStroke,shadowBlur:10},selected:{fill:Do.selectedFill,stroke:Do.selectedStroke,lineWidth:4,shadowColor:Do.selectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{fill:Do.highlightFill,stroke:Do.highlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{fill:Do.inactiveFill,stroke:Do.inactiveStroke,lineWidth:1},disable:{fill:Do.disableFill,stroke:Do.disableStroke,lineWidth:1}},edgeLabel:{style:{fill:gL,textAlign:"center",textBaseline:"middle",fontSize:12}},defaultEdge:{type:"line",size:1,style:{stroke:Do.edgeMainStroke,lineAppendWidth:2},color:Do.edgeMainStroke},edgeStateStyles:{active:{stroke:Do.edgeActiveStroke,lineWidth:1},selected:{stroke:Do.edgeSelectedStroke,lineWidth:2,shadowColor:Do.edgeSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:Do.edgeHighlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{stroke:Do.edgeInactiveStroke,lineWidth:1},disable:{stroke:Do.edgeDisableStroke,lineWidth:1}},comboLabel:{style:{fill:gL,textBaseline:"middle",fontSize:12},refY:10,refX:10},defaultCombo:{type:"circle",style:{fill:Do.comboMainFill,lineWidth:1,stroke:Do.comboMainStroke,r:5,width:20,height:10},size:[20,5],color:Do.comboMainStroke,padding:[25,20,15,20]},comboStateStyles:{active:{stroke:Do.comboActiveStroke,lineWidth:1,fill:Do.comboActiveFill},selected:{stroke:Do.comboSelectedStroke,lineWidth:2,fill:Do.comboSelectedFill,shadowColor:Do.comboSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:Do.comboHighlightStroke,lineWidth:2,fill:Do.comboHighlightFill,"text-shape":{fontWeight:500}},inactive:{stroke:Do.comboInactiveStroke,fill:Do.comboInactiveFill,lineWidth:1},disable:{stroke:Do.comboDisableStroke,fill:Do.comboDisableFill,lineWidth:1}},delegateStyle:{fill:"#F3F9FF",fillOpacity:.5,stroke:"#1890FF",strokeOpacity:.9,lineDash:[5,5]},windowFontFamily:typeof window!="undefined"&&window.getComputedStyle&&document.body&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"},xq={" ":.3329986572265625,a:.5589996337890625,A:.6569992065429687,b:.58599853515625,B:.6769989013671875,c:.5469985961914062,C:.7279998779296875,d:.58599853515625,D:.705999755859375,e:.554998779296875,E:.63699951171875,f:.37299957275390627,F:.5769989013671875,g:.5909988403320312,G:.7479995727539063,h:.555999755859375,H:.7199996948242188,i:.255999755859375,I:.23699951171875,j:.26699981689453123,J:.5169998168945312,k:.5289993286132812,K:.6899993896484375,l:.23499908447265624,L:.5879989624023437,m:.854998779296875,M:.8819992065429687,n:.5589996337890625,N:.7189987182617188,o:.58599853515625,O:.7669998168945312,p:.58599853515625,P:.6419998168945312,q:.58599853515625,Q:.7669998168945312,r:.3649993896484375,R:.6759994506835938,s:.504998779296875,S:.6319992065429687,t:.354998779296875,T:.6189987182617187,u:.5599990844726562,U:.7139999389648437,v:.48199920654296874,V:.6389999389648438,w:.754998779296875,W:.929998779296875,x:.5089996337890625,X:.63699951171875,y:.4959991455078125,Y:.66199951171875,z:.48699951171875,Z:.6239990234375,"0":.6,"1":.40099945068359377,"2":.6,"3":.6,"4":.6,"5":.6,"6":.6,"7":.5469985961914062,"8":.6,"9":.6,"[":.3329986572265625,"]":.3329986572265625,",":.26399993896484375,".":.26399993896484375,";":.26399993896484375,":":.26399993896484375,"{":.3329986572265625,"}":.3329986572265625,"\\":.5,"|":.19499969482421875,"=":.604998779296875,"+":.604998779296875,"-":.604998779296875,_:.5,"`":.3329986572265625," ~":.8329986572265625,"!":.3329986572265625,"@":.8579986572265625,"#":.6,$:.6,"%":.9699996948242188,"^":.517999267578125,"&":.7259994506835937,"*":.505999755859375,"(":.3329986572265625,")":.3329986572265625,"<":.604998779296875,">":.604998779296875,"/":.5,"?":.53699951171875},zp=Math.PI,EA=Math.sin,SA=Math.cos,wf=EA(zp/8),_f=SA(zp/8),PS=function(e,t){var n=e.getBBox(),o={x:n.minX,y:n.minY},u={x:n.maxX,y:n.maxY};if(t){var l=t.getMatrix();l||(l=[1,0,0,0,1,0,0,0,1]),o=TS(o,l),u=TS(u,l)}var c=o.x,f=o.y,h=u.x,v=u.y;return{x:c,y:f,minX:c,minY:f,maxX:h,maxY:v,width:h-c,height:v-f}},EL=function(e){var t=e.sourceNode||e.targetNode,n=t.get("group"),o=n.getMatrix();o||(o=[1,0,0,0,1,0,0,0,1]);var u=t.getKeyShape(),l=u.getBBox(),c=e.loopCfg||{},f=c.dist||Math.max(l.width,l.height)*2,h=c.position||ji.defaultLoopPosition,v=[o[6],o[7]],p=[e.startPoint.x,e.startPoint.y],g=[e.endPoint.x,e.endPoint.y],E=l.height/2,D=l.height/2,G=E*wf,H=E*_f,X=D*wf,rt=D*_f;if(p[0]===g[0]&&p[1]===g[1]){switch(h){case"top":p=[v[0]-G,v[1]-H],g=[v[0]+X,v[1]-rt];break;case"top-right":E=l.height/2,D=l.width/2,G=E*wf,H=E*_f,X=D*wf,rt=D*_f,p=[v[0]+G,v[1]-H],g=[v[0]+rt,v[1]-X];break;case"right":E=l.width/2,D=l.width/2,G=E*wf,H=E*_f,X=D*wf,rt=D*_f,p=[v[0]+H,v[1]-G],g=[v[0]+rt,v[1]+X];break;case"bottom-right":E=l.width/2,D=l.height/2,G=E*wf,H=E*_f,X=D*wf,rt=D*_f,p=[v[0]+H,v[1]+G],g=[v[0]+X,v[1]+rt];break;case"bottom":E=l.height/2,D=l.height/2,G=E*wf,H=E*_f,X=D*wf,rt=D*_f,p=[v[0]+G,v[1]+H],g=[v[0]-X,v[1]+rt];break;case"bottom-left":E=l.height/2,D=l.width/2,G=E*wf,H=E*_f,X=D*wf,rt=D*_f,p=[v[0]-G,v[1]+H],g=[v[0]-rt,v[1]+X];break;case"left":E=l.width/2,D=l.width/2,G=E*wf,H=E*_f,X=D*wf,rt=D*_f,p=[v[0]-H,v[1]+G],g=[v[0]-rt,v[1]-X];break;case"top-left":E=l.width/2,D=l.height/2,G=E*wf,H=E*_f,X=D*wf,rt=D*_f,p=[v[0]-H,v[1]-G],g=[v[0]-X,v[1]-rt];break;default:E=l.width/2,D=l.width/2,G=E*wf,H=E*_f,X=D*wf,rt=D*_f,p=[v[0]-G,v[1]-H],g=[v[0]+X,v[1]-rt]}if(c.clockwise===!1){var ht=[p[0],p[1]];p=[g[0],g[1]],g=[ht[0],ht[1]]}}var mt=[p[0]-v[0],p[1]-v[1]],Dt=(E+f)/E,kt=(D+f)/D;c.clockwise===!1&&(Dt=(D+f)/D,kt=(E+f)/E);var Vt=Ua([0,0],mt,Dt),te=[v[0]+Vt[0],v[1]+Vt[1]],le=[g[0]-v[0],g[1]-v[1]],pe=Ua([0,0],le,kt),De=[v[0]+pe[0],v[1]+pe[1]];return e.startPoint={x:p[0],y:p[1]},e.endPoint={x:g[0],y:g[1]},e.controlPoints=[{x:te[0],y:te[1]},{x:De[0],y:De[1]}],e},SL=function(e,t,n,o,u){var l=1e-4,c=[],f=e==null?void 0:e.getPoint(t);if(!f)return{x:0,y:0,angle:0};if(t<l)c=e.getStartTangent().reverse();else if(t>1-l)c=e.getEndTangent();else{var h=e==null?void 0:e.getPoint(t+l);c.push([f.x,f.y]),c.push([h.x,h.y])}var v=Math.atan2(c[1][1]-c[0][1],c[1][0]-c[0][0]);if(v<0&&(v+=zp*2),n&&(f.x+=SA(v)*n,f.y+=EA(v)*n),o){var p=v-zp/2;v>1/2*zp&&v<3*1/2*zp&&(p-=zp),f.x+=SA(p)*o,f.y+=EA(p)*o}var g={x:f.x,y:f.y,angle:v};return u?(v>.5*zp&&v<1.5*zp&&(v-=zp),(0,Z.__assign)({rotate:v},g)):g},wL=function a(e,t){if(t(e)===!1)return!1;if(e&&e.children){for(var n=e.children.length-1;n>=0;n--)if(!a(e.children[n],t))return!1}return!0},bq=function a(e,t){if(e&&e.children){for(var n=e.children.length-1;n>=0;n--)if(!a(e.children[n],t))return}return t(e)!==!1},Kd=function(e,t){typeof t=="function"&&wL(e,t)},h0=function(e,t){typeof t=="function"&&bq(e,t)},_L=function(e,t){return t*(xq[e]||1)},AL=function(e,t){var n=0,o=new RegExp("[\u4E00-\u9FA5]+");return e.split("").forEach(function(u){o.test(u)?n+=t:n+=_L(u,t)}),[n,t]},wA=function(e,t){var n=[],o={},u={};e.forEach(function(f){u[f.id]=f}),e.forEach(function(f,h){var v=(0,w.clone)(f);v.itemType="combo",v.children=void 0,v.parentId===v.id?(console.warn("The parentId for combo ".concat(v.id," can not be the same as the combo's id")),delete v.parentId):v.parentId&&!u[v.parentId]&&(console.warn("The parent combo for combo ".concat(v.id," does not exist!")),delete v.parentId);var p=o[v.id];if(p){if(v.children=p.children,o[v.id]=v,p=v,!p.parentId){n.push(p);return}var g=o[p.parentId];if(g)g.children?g.children.push(v):g.children=[v];else{var E={id:p.parentId,children:[p]};o[p.parentId]=E,o[v.id]=v}return}if((0,w.isString)(f.parentId)){var D=o[f.parentId];if(D)D.children?D.children.push(v):D.children=[v],o[v.id]=v;else{var G={id:f.parentId,children:[v]};o[G.id]=G,o[v.id]=v}}else n.push(v),o[v.id]=v});var l={};(t||[]).forEach(function(f){l[f.id]=f;var h=o[f.comboId];if(h){var v={id:f.id,comboId:f.comboId};h.children?h.children.push(v):h.children=[v],v.itemType="node",o[f.id]=v}});var c=0;return n.forEach(function(f){f.depth=c+10,wL(f,function(h){var v,p=o[h.id].itemType;p==="node"?v=o[h.comboId]:v=o[h.parentId],v&&p==="node"?h.depth=c+1:h.depth=c+10,c<h.depth&&(c=h.depth);var g=l[h.id];return g&&(g.depth=h.depth),!0})}),n},_A=function(e,t,n){var o,u=e,l,c={root:{children:e}},f=!1,h="root";(e||[]).forEach(function(D){if(!f){if(D.id===t){l=D,D.itemType==="combo"?l.parentId=n:l.comboId=n,f=!0;return}Kd(D,function(G){var H;return c[G.id]={children:(G==null?void 0:G.children)||[]},u=(H=c[G.parentId||G.comboId||"root"])===null||H===void 0?void 0:H.children,G&&(G.removed||t===G.id)&&u?(h=G.parentId||G.comboId||"root",l=G,G.itemType==="combo"?l.parentId=n:l.comboId=n,f=!0,!1):!0})}}),u=(o=c[h])===null||o===void 0?void 0:o.children;var v=u?u.indexOf(l):-1;if(v>-1&&u.splice(v,1),f||(l={id:t,itemType:"node",comboId:n},c[t]={children:void 0}),t){var p=!1;if(n){var g=0;(e||[]).forEach(function(D){p||Kd(D,function(G){return n===G.id?(p=!0,G.children?G.children.push(l):G.children=[l],g=G.depth,l.itemType==="node"?l.depth=g+2:l.depth=g+1,!1):!0})})}else(!n||!p)&&l.itemType!=="node"&&e.push(l);var E=l.depth;Kd(l,function(D){return D.itemType==="node"?E+=2:E+=1,D.depth=E,!0})}return e},LS=function(e,t,n){var o={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0,x:void 0,y:void 0,width:void 0,height:void 0,centerX:void 0,centerY:void 0};if(!e||e.length===0){var u=n==null?void 0:n.getModel(),l=u||{},c=l.x,f=l.y;return{minX:c,minY:f,maxX:c,maxY:f,x:c,y:f,width:void 0,height:void 0}}return e.forEach(function(h){var v=t.findById(h.id);if(!(!v||!v.isVisible())){v.set("bboxCanvasCache",void 0);var p=v.getCanvasBBox();p.x&&o.minX>p.minX&&(o.minX=p.minX),p.y&&o.minY>p.minY&&(o.minY=p.minY),p.x&&o.maxX<p.maxX&&(o.maxX=p.maxX),p.y&&o.maxY<p.maxY&&(o.maxY=p.maxY)}}),o.x=(o.minX+o.maxX)/2,o.y=(o.minY+o.maxY)/2,o.width=o.maxX-o.minX,o.height=o.maxY-o.minY,o.centerX=(o.minX+o.maxX)/2,o.centerY=(o.minY+o.maxY)/2,Object.keys(o).forEach(function(h){(o[h]===1/0||o[h]===-1/0)&&(o[h]=void 0)}),o},Eq=function(e){var t=(0,w.isNumber)(e.x)||(0,w.isNumber)(e.y)||e.type||e.anchorPoints||e.size;return e.style&&(t=t||(0,w.isNumber)(e.style.r)||(0,w.isNumber)(e.style.width)||(0,w.isNumber)(e.style.height)||(0,w.isNumber)(e.style.rx)||(0,w.isNumber)(e.style.ry)),t},RS=function(e){var t={};return Object.keys(e).forEach(function(n){var o=e[n];if((0,w.isObject)(o)&&!(0,w.isArray)(o)){var u={};Object.keys(o).forEach(function(l){var c=o[l];l==="img"&&!(0,w.isString)(c)||(u[l]=(0,w.clone)(c))}),t[n]=u}else t[n]=(0,w.clone)(o)}),t},CL=function(e){if(!e)return console.error("G6 Error Tips: the data must be defined"),!1;var t=e.nodes,n=e.edges,o=e.combos,u=o===void 0?[]:o;if(!t&&!n){var l=!0;return Kd(e,function(g){return(0,w.isString)(g.id)?!0:(l=!1,!1)}),l}var c=(t||[]).find(function(g){return!(0,w.isString)(g.id)});if(c)return console.warn("G6 Warning Tips: missing 'id' property, or %c".concat(c.id,"%c is not a string."),"font-size: 20px; color: red;",""),!1;var f=(t||[]).map(function(g){return g.id}),h=u==null?void 0:u.map(function(g){return g.id}),v=(0,Z.__spreadArray)((0,Z.__spreadArray)([],f,!0),h,!0),p=(n||[]).find(function(g){return!v.includes(g.source)||!v.includes(g.target)});return p?(console.warn("G6 Warning Tips: The source %c".concat(p.source,"%c or the target %c").concat(p.target,"%c of the edge do not exist in the nodes or combos."),"font-size: 20px; color: red;","","font-size: 20px; color: red;",""),!1):!0},Sq=function(e,t){if(e==="node"||e==="combo"){if(t.id&&!(0,w.isString)(t.id))return console.warn("G6 Warning Tips: missing 'id' property, or the 'id' %c".concat(t.id,"%c is not a string."),"font-size: 20px; color: red;",""),!1}else if(e==="edge"&&(!t.source||!t.target))return console.warn("G6 Warning Tips: missing 'source' or 'target' for the edge."),!1;return!0},wq=function(){function a(e){this.graph=e,this.destroyed=!1,this.modes=e.get("modes")||{default:[]},this.formatModes(),this.mode=e.get("defaultMode")||"default",this.currentBehaves=[],this.setMode(this.mode)}return a.prototype.formatModes=function(){var e=this.modes;(0,w.each)(e,function(t){(0,w.each)(t,function(n,o){(0,w.isString)(n)&&(t[o]={type:n})})})},a.prototype.setBehaviors=function(e){var t=this.graph,n=this.modes[e],o=[],u;(0,w.each)(n||[],function(l){var c=p3.getBehavior(l.type||l);!c||(u=new c(l),u&&(u.bind(t),o.push(u)))}),this.currentBehaves=o},a.mergeBehaviors=function(e,t){return(0,w.each)(t,function(n){e.indexOf(n)<0&&((0,w.isString)(n)&&(n={type:n}),e.push(n))}),e},a.filterBehaviors=function(e,t){var n=[];return e.forEach(function(o){var u="";(0,w.isString)(o)?u=o:u=o.type,t.indexOf(u)<0&&n.push(o)}),n},a.prototype.setMode=function(e){var t=this,n=t.modes,o=t.graph,u=e,l=n[u];!l||(o.emit("beforemodechange",{mode:e}),(0,w.each)(this.currentBehaves,function(c){c.delegate&&c.delegate.remove(),c.unbind(o)}),this.setBehaviors(u),o.emit("aftermodechange",{mode:e}),this.mode=e)},a.prototype.getMode=function(){return this.mode},a.prototype.manipulateBehaviors=function(e,t,n){var o=this,u;if((0,w.isArray)(e)?u=e:u=[e],(0,w.isArray)(t))return(0,w.each)(t,function(c){o.modes[c]?n?o.modes[c]=a.mergeBehaviors(o.modes[c]||[],u):o.modes[c]=a.filterBehaviors(o.modes[c]||[],u):n&&(o.modes[c]=u)}),this;var l=t;return t||(l=this.mode),this.modes[l]||n&&(this.modes[l]=u),n?this.modes[l]=a.mergeBehaviors(this.modes[l]||[],u):this.modes[l]=a.filterBehaviors(this.modes[l]||[],u),this.formatModes(),this.setMode(this.mode),this},a.prototype.updateBehavior=function(e,t,n){(0,w.isString)(e)&&(e={type:e});var o=[];if(!n||n===this.mode||n==="default"){if(o=this.currentBehaves,!o||!o.length)return console.warn("Update behavior failed! There is no behaviors in this mode on the graph."),this;for(var u=o.length,l=0;l<u;l++){var c=o[l];if(c.type===e.type)return c.updateCfg(t),this;l===u-1&&console.warn("Update behavior failed! There is no such behavior in the mode")}}else{if(o=this.modes[n],!o||!o.length)return console.warn("Update behavior failed! There is no behaviors in this mode on the graph."),this;for(var f=o.length,l=0;l<f;l++){var c=o[l];if(c.type===e.type||c===e.type)return c===e.type&&(c={type:c}),Object.assign(c,t),o[l]=c,this;l===f-1&&console.warn("Update behavior failed! There is no such behavior in the mode")}}return this},a.prototype.destroy=function(){this.graph=null,this.modes=null,this.currentBehaves=null,this.destroyed=!0},a}(),_q=wq,Aq=function(a){(0,Z.__extends)(e,a);function e(t,n){var o=a.call(this,t,n)||this;return o.item=n.item,o.canvasX=n.canvasX,o.canvasY=n.canvasY,o.wheelDelta=n.wheelDelta,o.detail=n.detail,o}return e}(Ss),AA=function(e){return"".concat(e,"-").concat(Math.random()).concat(Date.now())},CA=function(e){if((0,w.isArray)(e))switch(e.length){case 4:return e;case 3:return e.push(e[1]),e;case 2:return e.concat(e);case 1:return[e[0],e[0],e[0],e[0]];default:return[0,0,0,0]}if((0,w.isNumber)(e))return[e,e,e,e];if((0,w.isString)(e)){var t=parseInt(e,10);return[t,t,t,t]}return[0,0,0,0]},Cq=function(e){var t=new Aq(e.type,e);return t.clientX=e.clientX,t.clientY=e.clientY,t.x=e.x,t.y=e.y,t.target=e.target,t.currentTarget=e.currentTarget,t.bubbles=!0,t.item=e.item,t},Tq=function(e){if(!e)return!1;for(var t=9,n=[1,0,0,0,1,0,0,0,1],o=0;o<t;o++)if(e[o]!==n[o])return!0;return!1},FS=function(e){return Number.isNaN(Number(e))},TL=function(e){for(var t=1/0,n=-1/0,o=1/0,u=-1/0,l=0;l<e.length;l++){var c=e[l],f=c.getBBox(),h=f.minX,v=f.minY,p=f.maxX,g=f.maxY;h<t&&(t=h),v<o&&(o=v),p>n&&(n=p),g>u&&(u=g)}var E=Math.floor(t),D=Math.floor(o),G=Math.ceil(n)-Math.floor(t),H=Math.ceil(u)-Math.floor(o);return{x:E,y:D,width:G,height:H,minX:t,minY:o,maxX:n,maxY:u}},Mq=function(e,t,n,o,u){t===void 0&&(t=15),n===void 0&&(n="quadratic"),o===void 0&&(o=void 0),u===void 0&&(u=void 0);for(var l=e.length,c=t*2,f=["top","top-right","right","bottom-right","bottom","bottom-left","left","top-left"],h={},v=[],p={},g=0;g<l;g++){var E=e[g],D=E.source,G=E.target,H="".concat(D,"-").concat(G);if(!v[g]){h[H]||(h[H]=[]),v[g]=!0,h[H].push(E);for(var X=0;X<l;X++)if(g!==X){var rt=e[X],ht=rt.source,mt=rt.target;v[X]||(D===mt&&G===ht?(h[H].push(rt),v[X]=!0,p["".concat(ht,"|").concat(mt,"|").concat(h[H].length-1)]=!0):D===ht&&G===mt&&(h[H].push(rt),v[X]=!0))}}}for(var Dt in h)for(var kt=h[Dt],Vt=kt.length,te=0;te<Vt;te++){var le=kt[te];if(le.source===le.target){u&&(le.type=u),le.loopCfg={position:f[te%8],dist:Math.floor(te/8)*20+50};continue}if(Vt===1&&o&&le.source!==le.target){le.type=o;continue}le.type=n;var pe=(te%2===0?1:-1)*(p["".concat(le.source,"|").concat(le.target,"|").concat(te)]?-1:1);Vt%2===1?le.curveOffset=pe*Math.ceil(te/2)*c:le.curveOffset=pe*(Math.floor(te/2)*c+t)}return e},Iq=function(){function a(e){this.destroyed=!1,this.graph=e,this.destroyed=!1}return a.prototype.getViewCenter=function(){var e=this.getFormatPadding(),t=this.graph,n=this.graph.get("width"),o=t.get("height");return{x:(n-e[1]-e[3])/2+e[3],y:(o-e[0]-e[2])/2+e[0]}},a.prototype.fitCenter=function(){var e=this.graph,t=e.get("group");t.resetMatrix();var n=t.getCanvasBBox();if(!(n.width===0||n.height===0)){var o=this.getViewCenter(),u={x:n.x+n.width/2,y:n.y+n.height/2};e.translate(o.x-u.x,o.y-u.y)}},a.prototype.fitView=function(){var e=this.graph,t=this.getFormatPadding(),n=e.get("width"),o=e.get("height"),u=e.get("group");u.resetMatrix();var l=u.getCanvasBBox();if(!(l.width===0||l.height===0)){var c=this.getViewCenter(),f={x:l.x+l.width/2,y:l.y+l.height/2};e.translate(c.x-f.x,c.y-f.y);var h=(n-t[1]-t[3])/l.width,v=(o-t[0]-t[2])/l.height,p=h;h>v&&(p=v),e.zoom(p,c)||console.warn("zoom failed, ratio out of range, ratio: %f",p)}},a.prototype.fitViewByRules=function(e){var t=e.onlyOutOfViewPort,n=t===void 0?!1:t,o=e.direction,u=o===void 0?"both":o,l=e.ratioRule,c=l===void 0?"min":l,f=this.graph,h=this.getFormatPadding(),v=f.get("width"),p=f.get("height"),g=f.get("group");g.resetMatrix();var E=g.getCanvasBBox();if(!(E.width===0||E.height===0)){var D=this.getViewCenter(),G={x:E.x+E.width/2,y:E.y+E.height/2};f.translate(D.x-G.x,D.y-G.y);var H=(v-h[1]-h[3])/E.width,X=(p-h[0]-h[2])/E.height,rt;u==="x"?rt=H:u==="y"?rt=X:rt=c==="max"?Math.max(H,X):Math.min(H,X),n&&(rt=rt<1?rt:1);var ht=f.getZoom(),mt=ht*rt,Dt=f.get("minZoom");mt<Dt&&(mt=Dt,console.warn("fitview failed, ratio out of range, ratio: %f",rt,"graph minzoom has been used instead")),f.zoomTo(mt,D)}},a.prototype.getFormatPadding=function(){var e=this.graph.get("fitViewPadding");return CA(e)},a.prototype.focusPoint=function(e,t,n){var o=this,u=this.getViewCenter(),l=this.getPointByCanvas(u.x,u.y),c=this.graph.get("group").getMatrix();if(c||(c=[1,0,0,0,1,0,0,0,1]),t){var f=(l.x-e.x)*c[0],h=(l.y-e.y)*c[4],v=0,p=0,g=0,E=0;this.graph.get("canvas").animate(function(D){g=f*D,E=h*D,o.graph.translate(g-v,E-p),v=g,p=E},(0,Z.__assign)({},n))}else this.graph.translate((l.x-e.x)*c[0],(l.y-e.y)*c[4])},a.prototype.getPointByCanvas=function(e,t){var n=this.graph.get("group").getMatrix();n||(n=[1,0,0,0,1,0,0,0,1]);var o=sL({x:e,y:t},n);return o},a.prototype.getPointByClient=function(e,t){var n=this.graph.get("canvas"),o=n.getPointByClient(e,t);return this.getPointByCanvas(o.x,o.y)},a.prototype.getClientByPoint=function(e,t){var n=this.graph.get("canvas"),o=this.getCanvasByPoint(e,t),u=n.getClientByPoint(o.x,o.y);return{x:u.x,y:u.y}},a.prototype.getCanvasByPoint=function(e,t){var n=this.graph.get("group").getMatrix();return n||(n=[1,0,0,0,1,0,0,0,1]),TS({x:e,y:t},n)},a.prototype.focus=function(e,t,n){if((0,w.isString)(e)&&(e=this.graph.findById(e)),e){var o=0,u=0;if(e.getType&&e.getType()==="edge"){var l=e.getSource().get("group").getMatrix(),c=e.getTarget().get("group").getMatrix();l&&c?(o=(l[6]+c[6])/2,u=(l[7]+c[7])/2):(l||c)&&(o=l?l[6]:c[6],u=l?l[7]:c[7])}else{var f=e.get("group"),h=f.getMatrix();h||(h=[1,0,0,0,1,0,0,0,1]),o=h[6],u=h[7]}this.focusPoint({x:o,y:u},t,n)}},a.prototype.changeSize=function(e,t){var n=this.graph;if(!(0,w.isNumber)(e)||!(0,w.isNumber)(t))throw Error("invalid canvas width & height, please make sure width & height type is number");n.set({width:e,height:t});var o=n.get("canvas");o.changeSize(e,t);var u=n.get("plugins");u.forEach(function(l){l.get("gridContainer")&&l.positionInit()})},a.prototype.destroy=function(){this.graph=null,this.destroyed=!1},a}(),Oq=Iq;function TA(a){return TA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},TA(a)}function ML(a){if(typeof a!="string")return a;var e=function(Vt){if(typeof Vt!="string")return Vt;try{return JSON.parse(Vt.trim())}catch(te){return Vt.trim()}},t=e(a);if(typeof t!="string")return t;for(var n=function(Vt){return Vt[Vt.length-1]},o=a.trim(),u=[],l=[],c=function(){for(var Vt=[],te=0;te<arguments.length;te++)Vt[te]=arguments[te];return Vt.some(function(le){return n(l)===le})},f=function(){return n(u)},h=null,v=0,p="";v<o.length;){var g=o[v],E=c('"',"'");if(!E&&!g.trim()){v+=1;continue}var D=o[v-1]==="\\",G=c("}"),H=c("]"),X=c(","),rt=f();if(E)if(n(l)===g&&!D){l.pop();var ht=e(p);rt.push(ht),h=ht,p=""}else p+=g;else if(H&&g===",")p&&(rt.push(e(p)),p="");else if(G&&g===":")l.push(","),p&&(rt.push(p),p="");else if(X&&g===",")p&&(rt.push(e(p)),p=""),l.pop();else if(g==="}"&&(G||X)){p&&(rt.push(e(p)),p=""),X&&l.pop();for(var mt={},Dt=1;Dt<rt.length;Dt+=2)mt[rt[Dt-1]]=rt[Dt];u.pop(),u.length&&n(u).push(mt),l.pop(),h=mt}else g==="]"&&H?(p&&(rt.push(e(p)),p=""),u.pop(),u.length&&n(u).push(rt),l.pop(),h=rt):g==="{"?(u.push([]),l.push("}")):g==="["?(u.push([]),l.push("]")):g==='"'?l.push('"'):g==="'"?l.push("'"):p+=g;v+=1}return h||p}var Dq=function(e){return e.split("-").reduce(function(t,n){return t+n.charAt(0).toUpperCase()+n.slice(1)})},Pq=function(e){return function(t){for(var n=e.length,o=[],u=0,l="";u<n;)if(e[u]==="{"&&e[u+1]==="{")o.push(l),l="",u+=2;else if(e[u]==="}"&&e[u+1]==="}"){if(o.length){var c=o.pop();l=(0,w.get)(t,l,c.endsWith("=")?'"{'.concat(l,'}"'):l),o.push(c+l)}u+=2,l=""}else l+=e[u],u+=1;return o.push(l),o.map(function(f,h){return o[h-1]&&o[h-1].endsWith("=")?'"{'.concat(f,'}"'):f}).join("")}};function IL(a,e){var t={},n=a.getAttributeNames&&a.getAttributeNames()||[],o=a.children&&Array.from(a.children).map(function(c){return IL(c,e)}),u={},l=a.tagName?a.tagName.toLowerCase():"group";return l==="text"&&(t.text=a.innerText),u.type=l,l==="img"&&(u.type="image"),Array.from(n).forEach(function(c){var f=Dq(c),h=a.getAttribute(c);try{if(f==="style"||f==="attrs"){var v=ML(h);t=(0,Z.__assign)((0,Z.__assign)({},t),v)}else u[f]=ML(h)}catch(p){if(f==="style")throw p;u[f]=h}}),u.attrs=t,e&&e.style&&u.name&&TA(e.style[u.name])==="object"&&(u.attrs=(0,Z.__assign)((0,Z.__assign)({},u.attrs),e.style[u.name])),e&&e.style&&u.keyshape&&(u.attrs=(0,Z.__assign)((0,Z.__assign)({},u.attrs),e.style)),o.length&&(u.children=o),u}function Lq(a,e,t){var n=a.attrs,o=n===void 0?{}:n,u={x:e.x||0,y:e.y||0,width:t.width||0,height:t.height||0},l,c;switch(a.type){case"maker":case"circle":o.r&&(c=2*o.r,l=2*o.r);break;case"text":o.text&&(c=AL(o.text,o.fontSize||12)[0],l=16,u.y+=l,u.height=l,u.width=c,a.attrs=(0,Z.__assign)({fontSize:12,fill:"#000"},o));break;default:o.width&&(c=o.width),o.height&&(l=o.height)}return l>=0&&(u.height=l),c>=0&&(u.width=c),o.marginTop&&(u.y+=o.marginTop),o.marginLeft&&(u.x+=o.marginLeft),u}function OL(a,e){var t;e===void 0&&(e={x:0,y:0});var n=(0,Z.__assign)({x:0,y:0,width:0,height:0},e);if(!((t=a.children)===null||t===void 0)&&t.length){var o=a.attrs,u=o===void 0?{}:o,l=u.marginTop,c=(0,Z.__assign)({},e);l&&(c.y+=l);for(var f=0;f<a.children.length;f++){a.children[f].attrs.key="".concat(u.key||"root"," -").concat(f," ");var h=OL(a.children[f],c);if(h.bbox){var v=h.bbox;h.attrs.next==="inline"?c.x+=h.bbox.width:c.y+=h.bbox.height,v.width+v.x>n.width&&(n.width=v.width+v.x),v.height+v.y>n.height&&(n.height=v.height+v.y)}}}return a.bbox=Lq(a,e,n),a.attrs=(0,Z.__assign)((0,Z.__assign)({},a.attrs),a.bbox),a}function DL(a,e){var t,n,o,u,l=(a||{}).type,c=((e==null?void 0:e.attrs)||{}).key;if(c&&a&&(a.attrs.key=c),!a&&e)return{action:"delete",val:e,type:l,key:c};if(a&&!e)return{action:"add",val:a,type:l};if(!a&&!e)return{action:"same",type:l};var f=[];if(((t=a.children)===null||t===void 0?void 0:t.length)>0||((n=e.children)===null||n===void 0?void 0:n.length)>0)for(var h=Math.max((o=a.children)===null||o===void 0?void 0:o.length,(u=e.children)===null||u===void 0?void 0:u.length),v=e.children||[],p=a.children||[],g=0;g<h;g+=1)f.push(DL(p[g],v[g]));var E=Object.keys(e.attrs),D=Object.keys(a.attrs);return e.type!==a.type?{action:"restructure",nowTarget:a,formerTarget:e,key:c,children:f}:E.filter(function(G){return G!=="children"}).some(function(G){return a.attrs[G]!==e.attrs[G]||!D.includes(G)})?{action:"change",val:a,children:f,type:l,key:c}:{action:"same",children:f,type:l,key:c}}function PL(a){var e={},t=function(o){var u=typeof a=="function"?a(o):a,l=Pq(u)(o),c=document.createElement("div");c.innerHTML=l;var f=c.children[0],h=OL(IL(f,o));return c.remove(),h};return{draw:function(o,u){var l=t(o),c=u,f=function h(v){var p=v.attrs,g=p===void 0?{}:p,E=v.bbox,D=v.type,G=v.children,H=(0,Z.__rest)(v,["attrs","bbox","type","children"]);if(v.type!=="group"){var X=u.addShape(v.type,(0,Z.__assign)({attrs:g,origin:{bbox:E,type:D,children:G}},H));v.keyshape&&(c=X)}v.children&&v.children.forEach(function(rt){return h(rt)})};return f(l),e[o.id]=[l],c},update:function(o,u){e[o.id]||(e[o.id]=[]);var l=u.getContainer(),c=l.get("children"),f=t(o),h=e[o.id].pop(),v=DL(f,h),p=function D(G){var H;G.type!=="group"&&l.addShape(G.type,{attrs:G.attrs}),!((H=G.children)===null||H===void 0)&&H.length&&G.children.map(function(X){return D(X)})},g=function D(G){var H,X=c.find(function(rt){return rt.attrs.key===G.attrs.key});X&&l.removeChild(X),!((H=G.children)===null||H===void 0)&&H.length&&G.children.map(function(rt){return D(rt)})},E=function D(G){var H=G.key;if(G.type!=="group"){var X=c.find(function(ht){return ht.attrs.key===H});switch(G.action){case"change":if(X){var rt=G.val.keyshape?u.getOriginStyle():{};X.attr((0,Z.__assign)((0,Z.__assign)({},rt),G.val.attrs))}break;case"add":p(G.val);break;case"delete":g(G.val);break;case"restructure":g(G.formerTarget),p(G.nowTarget);break;default:break}}G.children&&G.children.forEach(function(ht){return D(ht)})};E(v),e[o.id].push(f)},getAnchorPoints:function(){return[[0,.5],[1,.5],[.5,1],[.5,0]]}}}var MA={};function LL(a){return MA[a]||(MA[a]=(0,w.upperFirst)(a)),MA[a]}var Rq={defaultShapeType:"defaultType",className:null,getShape:function(e){var t=this,n=t[e]||t[t.defaultShapeType]||t["simple-circle"];return n},draw:function(e,t,n){var o=this.getShape(e);n.shapeMap={};var u=o.draw(t,n);return o.afterDraw&&o.afterDraw(t,n,u),u},baseUpdate:function(e,t,n,o){var u,l,c=this.getShape(e);c.update&&(c.mergeStyle=(u=c.getOptions)===null||u===void 0?void 0:u.call(c,t,o),(l=c.update)===null||l===void 0||l.call(c,t,n,o)),c.afterUpdate&&c.afterUpdate(t,n)},setState:function(e,t,n,o){var u=this.getShape(e);u.setState(t,n,o)},shouldUpdate:function(e){var t=this.getShape(e);return!!t.update},getControlPoints:function(e,t){var n=this.getShape(e);return n.getControlPoints(t)},getAnchorPoints:function(e,t){var n=this.getShape(e);return n.getAnchorPoints(t)}},IA={options:{},draw:function(e,t){return this.drawShape(e,t)},drawShape:function(){},afterDraw:function(){},afterUpdate:function(){},setState:function(){},getControlPoints:function(e){return e.controlPoints},getAnchorPoints:function(e){var t=this.options.anchorPoints,n=e.anchorPoints||t;return n}},NS=function(){function a(){}return a.registerFactory=function(e,t){var n=LL(e),o=Rq,u=(0,Z.__assign)((0,Z.__assign)({},o),t);return a[n]=u,u.className=n,u},a.getFactory=function(e){var t=LL(e);return a[t]},a.registerNode=function(e,t,n){var o=a.Node,u;if(typeof t=="string"||typeof t=="function"){var l=PL(t);u=(0,Z.__assign)((0,Z.__assign)({},o.getShape("single-node")),l)}else if(t.jsx){var c=t.jsx,l=PL(c);u=(0,Z.__assign)((0,Z.__assign)((0,Z.__assign)({},o.getShape("single-node")),l),t)}else{o.getShape(n);var f=n?o.getShape(n):IA;u=(0,Z.__assign)((0,Z.__assign)({},f),t)}return u.type=e,u.itemType="node",o[e]=u,u},a.registerEdge=function(e,t,n){var o=a.Edge,u=n?o.getShape(n):IA,l=(0,Z.__assign)((0,Z.__assign)({},u),t);return l.type=e,l.itemType="edge",o[e]=l,l},a.registerCombo=function(e,t,n){var o=a.Combo,u=n?o.getShape(n):IA,l=(0,Z.__assign)((0,Z.__assign)({},u),t);return l.type=e,l.itemType="combo",o[e]=l,l},a}(),Af=NS;NS.registerFactory("node",{defaultShapeType:"circle"}),NS.registerFactory("edge",{defaultShapeType:"line"}),NS.registerFactory("combo",{defaultShapeType:"circle"});var OA="bboxCache",DA="bboxCanvasCache",Oct=null,Fq=function(){function a(e){this._cfg={},this.destroyed=!1;var t={id:void 0,type:"item",model:{},group:void 0,animate:!1,visible:!0,locked:!1,event:!0,keyShape:void 0,states:[]};this._cfg=Object.assign(t,this.getDefaultCfg(),e);var n=this.get("model"),o=n.id,u=this.get("type");o||(o=AA(u),this.get("model").id=o),this.set("id",o);var l=e.group;l&&(l.set("item",this),l.set("id",o)),this.init(),this.draw();var c=n.shape||n.type||(u==="edge"?"line":"circle"),f=this.get("shapeFactory");if(f&&f[c]){var h=f[c].options;if(h&&h.stateStyles){var v=this.get("styles")||n.stateStyles;v=(0,w.deepMix)({},h.stateStyles,v),this.set("styles",v)}}}return a.prototype.calculateBBox=function(){var e=this.get("keyShape"),t=this.get("group"),n=PS(e,t);return n.x=n.minX,n.y=n.minY,n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2,n},a.prototype.calculateCanvasBBox=function(){var e=this.get("keyShape"),t=this.get("group"),n=PS(e,t);return n.x=n.minX,n.y=n.minY,n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2,n},a.prototype.drawInner=function(){var e=this,t=e.get("shapeFactory"),n=e.get("group"),o=e.get("model");n.clear();var u=o.visible;if(u!==void 0&&!u&&e.changeVisibility(u),!!t){e.updatePosition(o);var l=e.getShapeCfg(o),c=l.type,f=t.draw(c,l,n);f&&(e.set("keyShape",f),f.set("isKeyShape",!0),f.set("draggable",!0)),this.setOriginStyle(),this.set("currentShape",c),this.restoreStates(t,c)}},a.prototype.setOriginStyle=function(){var e=this.get("group"),t=e.get("children"),n=this.getKeyShape(),o=this,u=n.get("name");if(this.get("originStyle")){var E=this.get("originStyle");u&&!E[u]&&(E[u]={});for(var D=this.getCurrentStatesStyle(),G=function(X){var rt=t[X],ht=rt.get("name"),mt=rt.attr();if(ht&&ht!==u){var Dt=D[ht];E[ht]||(E[ht]={}),Dt?Object.keys(mt).forEach(function(te){var le=mt[te];le!==Dt[te]&&(E[ht][te]=le)}):E[ht]=rt.get("type")!=="image"?(0,w.clone)(mt):o.getShapeStyleByName(ht)}else{var kt=rt.attr(),Vt={};Object.keys(D).forEach(function(te){var le=D[te];(te===u||!(0,w.isPlainObject)(le))&&(Vt[te]=le)}),Object.keys(kt).forEach(function(te){var le=kt[te];Vt[te]!==le&&(u?E[u][te]=le:E[te]=le)})}},c=0;c<t.length;c++)G(c);delete E.path,delete E.matrix,delete E.x,delete E.y,E[u]&&(delete E[u].x,delete E[u].y,delete E[u].matrix,delete E[u].path),o.set("originStyle",E)}else{for(var l={},c=0;c<t.length;c++){var f=t[c],h=f.get("type"),v=f.get("name");if(v&&v!==u)l[v]=h!=="image"?(0,w.clone)(f.attr()):o.getShapeStyleByName(v),h==="text"&&l[v]&&(delete l[v].x,delete l[v].y,delete l[v].matrix);else{var p=o.getShapeStyleByName();if(delete p.path,delete p.matrix,!u)Object.assign(l,p);else if(v)l[u]=p;else{var g=AA("shape");f.set("name",g),e.shapeMap[g]=f,l[g]=h!=="image"?(0,w.clone)(f.attr()):o.getShapeStyleByName(v)}}}o.set("originStyle",l)}},a.prototype.restoreStates=function(e,t){var n=this,o=n.get("states");(0,w.each)(o,function(u){e.setState(t,u,!0,n)})},a.prototype.init=function(){var e=Af.getFactory(this.get("type"));this.set("shapeFactory",e)},a.prototype.get=function(e){return this._cfg[e]},a.prototype.set=function(e,t){(0,w.isPlainObject)(e)?this._cfg=(0,Z.__assign)((0,Z.__assign)({},this._cfg),e):this._cfg[e]=t},a.prototype.getDefaultCfg=function(){return{}},a.prototype.clearCache=function(){this.set(OA,null),this.set(DA,null)},a.prototype.beforeDraw=function(){},a.prototype.afterDraw=function(){},a.prototype.afterUpdate=function(){},a.prototype.draw=function(){this.beforeDraw(),this.drawInner(),this.afterDraw()},a.prototype.getShapeStyleByName=function(e){var t=this.get("group"),n;if(e?n=t.shapeMap[e]:n=this.getKeyShape(),n){var o={};return(0,w.each)(n.attr(),function(u,l){(l!=="img"||(0,w.isString)(u))&&(o[l]=u)}),o}return{}},a.prototype.getShapeCfg=function(e,t){var n=this.get("styles");if(n){var o=e;return o.style=(0,Z.__assign)((0,Z.__assign)({},n),e.style),o}return e},a.prototype.getStateStyle=function(e){var t=this.get("styles"),n=t&&t[e];return n},a.prototype.getOriginStyle=function(){return this.get("originStyle")},a.prototype.getCurrentStatesStyle=function(){var e=this,t={},n=e.getStates();return!n||!n.length?this.get("originStyle"):((0,w.each)(e.getStates(),function(o){t=Object.assign(t,e.getStateStyle(o))}),t)},a.prototype.setState=function(e,t){var n=this.get("states"),o=this.get("shapeFactory"),u=e,l=e;(0,w.isString)(t)&&(u="".concat(e,":").concat(t),l="".concat(e,":"));var c=n;if((0,w.isBoolean)(t)){var f=n.indexOf(l);if(t){if(f>-1)return;n.push(u)}else f>-1&&n.splice(f,1)}else if((0,w.isString)(t)){var h=n.filter(function(g){return g.includes(l)});h.length>0&&this.clearStates(h),c=c.filter(function(g){return!g.includes(l)}),c.push(u),this.set("states",c)}if(o){var v=this.get("model"),p=v.type;o.setState(p,e,t,this)}},a.prototype.clearStates=function(e){var t=this,n=t.getStates(),o=t.get("shapeFactory"),u=t.get("model"),l=u.type;e||(e=n),(0,w.isString)(e)&&(e=[e]);var c=n.filter(function(f){return e.indexOf(f)===-1});t.set("states",c),e.forEach(function(f){o.setState(l,f,!1,t)})},a.prototype.getContainer=function(){return this.get("group")},a.prototype.getKeyShape=function(){return this.get("keyShape")},a.prototype.getModel=function(){return this.get("model")},a.prototype.getType=function(){return this.get("type")},a.prototype.getID=function(){return this.get("id")},a.prototype.isItem=function(){return!0},a.prototype.getStates=function(){return this.get("states")},a.prototype.hasState=function(e){var t=this.getStates();return t.indexOf(e)>=0},a.prototype.refresh=function(e){var t=this.get("model");this.updatePosition(t),this.updateShape(e),this.afterUpdate(),this.clearCache()},a.prototype.getUpdateType=function(e){},a.prototype.update=function(e,t){t===void 0&&(t=void 0);var n=this.get("model");if(t==="move")this.updatePosition(e);else{var o=n.visible,u=e.visible;o!==u&&u!==void 0&&this.changeVisibility(u);var l={x:n.x,y:n.y};e.x=isNaN(+e.x)?n.x:+e.x,e.y=isNaN(+e.y)?n.y:+e.y;var c=this.get("styles");if(e.stateStyles){var f=e.stateStyles;(0,w.mix)(c,f),delete e.stateStyles}Object.assign(n,e),(l.x!==e.x||l.y!==e.y)&&this.updatePosition(e),this.updateShape(t)}this.afterUpdate(),this.clearCache()},a.prototype.updateShape=function(e){var t=this.get("shapeFactory"),n=this.get("model"),o=n.type;if(t.shouldUpdate(o)&&o===this.get("currentShape")){var u=this.getShapeCfg(n,e);t.baseUpdate(o,u,this,e),e!=="move"&&this.setOriginStyle()}else this.draw();this.restoreStates(t,o)},a.prototype.updatePosition=function(e){var t=this.get("model"),n=isNaN(+e.x)?+t.x:+e.x,o=isNaN(+e.y)?+t.y:+e.y,u=this.get("group");if(isNaN(n)||isNaN(o))return!1;t.x=n,t.y=o;var l=u.getMatrix();return l&&l[6]===n&&l[7]===o?!1:(u.resetMatrix(),uL(u,{x:n,y:o}),this.clearCache(),!0)},a.prototype.getBBox=function(){var e=this.get(OA);return e||(e=this.calculateBBox(),this.set(OA,e)),e},a.prototype.getCanvasBBox=function(){var e=this.get(DA);return e||(e=this.calculateCanvasBBox(),this.set(DA,e)),e},a.prototype.toFront=function(){var e=this.get("group");e.toFront()},a.prototype.toBack=function(){var e=this.get("group");e.toBack()},a.prototype.show=function(){this.changeVisibility(!0)},a.prototype.hide=function(){this.changeVisibility(!1)},a.prototype.changeVisibility=function(e){var t=this.get("group");e?t.show():t.hide(),this.set("visible",e)},a.prototype.isVisible=function(){return this.get("visible")},a.prototype.enableCapture=function(e){var t=this.get("group");t&&t.set("capture",e)},a.prototype.destroy=function(){if(!this.destroyed){var e=this.get("animate"),t=this.get("group");e&&t.stopAnimate(),t.shapeMap={},this.clearCache(),t.remove(),this._cfg=null,this.destroyed=!0}},a}(),RL=Fq,kS={source:"start",target:"end"},Up="Node",qm="Point",Nq="Anchor",kq=function(a){(0,Z.__extends)(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){return{type:"edge",sourceNode:null,targetNode:null,startPoint:null,endPoint:null,linkCenter:!1}},e.prototype.setEnd=function(t,n){var o=kS[t]+qm,u=t+Up,l=this.get(u);l&&!l.destroyed&&l.removeEdge(this),(0,w.isPlainObject)(n)?(this.set(o,n),this.set(u,null)):n&&(n.addEdge(this),this.set(u,n),this.set(o,null))},e.prototype.getLinkPoint=function(t,n,o){var u=kS[t]+qm,l=t+Up,c=this.get(u);if(!c){var f=this.get(l),h=t+Nq,v=this.getPrePoint(t,o),p=n[h];(0,w.isNil)(p)||(c=f.getLinkPointByAnchor(p)),c=c||f.getLinkPoint(v),(0,w.isNil)(c.index)||this.set("".concat(t,"AnchorIndex"),c.index)}return c},e.prototype.getPrePoint=function(t,n){if(n&&n.length){var o=t==="source"?0:n.length-1;return n[o]}var u=t==="source"?"target":"source";return this.getEndPoint(u)},e.prototype.getEndPoint=function(t){var n=t+Up,o=kS[t]+qm,u=this.get(n);return u?u.get("model"):this.get(o)},e.prototype.getControlPointsByCenter=function(t){var n=this.getEndPoint("source"),o=this.getEndPoint("target"),u=this.get("shapeFactory"),l=t.type;return u.getControlPoints(l,{startPoint:n,endPoint:o})},e.prototype.getEndCenter=function(t){var n=t+Up,o=kS[t]+qm,u=this.get(n);if(u){var l=u.getBBox();return{x:l.centerX,y:l.centerY}}return this.get(o)},e.prototype.init=function(){a.prototype.init.call(this),this.setSource(this.get("source")),this.setTarget(this.get("target"))},e.prototype.getShapeCfg=function(t,n){var o=this,u=o.get("linkCenter"),l=n!=null&&n.includes("move")?t:a.prototype.getShapeCfg.call(this,t);if(u)l.startPoint=o.getEndCenter("source"),l.endPoint=o.getEndCenter("target");else{var c=l.controlPoints||o.getControlPointsByCenter(l);l.startPoint=o.getLinkPoint("source",t,c),l.endPoint=o.getLinkPoint("target",t,c)}return l.sourceNode=o.get("sourceNode"),l.targetNode=o.get("targetNode"),l},e.prototype.getModel=function(){var t=this.get("model"),n=this.get("source".concat(Up)),o=this.get("target".concat(Up));return n?delete t["source".concat(Up)]:t.source=this.get("start".concat(qm)),o?delete t["target".concat(Up)]:t.target=this.get("end".concat(qm)),!(0,w.isString)(t.source)&&!(0,w.isPlainObject)(t.source)&&(t.source=t.source.getID()),!(0,w.isString)(t.target)&&!(0,w.isPlainObject)(t.target)&&(t.target=t.target.getID()),t},e.prototype.setSource=function(t){this.setEnd("source",t),this.set("source",t)},e.prototype.setTarget=function(t){this.setEnd("target",t),this.set("target",t)},e.prototype.getSource=function(){return this.get("source")},e.prototype.getTarget=function(){return this.get("target")},e.prototype.updatePosition=function(){return!1},e.prototype.update=function(t,n){n===void 0&&(n=void 0);var o=this.get("model"),u=o.visible,l=t.visible;u!==l&&l!==void 0&&this.changeVisibility(l);var c=this.get("styles");if(t.stateStyles){var f=t.stateStyles;(0,w.mix)(c,f),delete t.stateStyles}Object.assign(o,t),this.updateShape(n),this.afterUpdate(),this.clearCache()},e.prototype.destroy=function(){var t=this.get("source".concat(Up)),n=this.get("target".concat(Up));t&&!t.destroyed&&t.removeEdge(this),n&&!n.destroyed&&n.removeEdge(this),a.prototype.destroy.call(this)},e}(RL),FL=kq,PA="anchorPointsCache",Bq="bboxCache",Gq=function(a){(0,Z.__extends)(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.getNearestPoint=function(t,n){for(var o=0,u=t[0],l=MS(t[0],n),c=0;c<t.length;c++){var f=t[c],h=MS(f,n);h<l&&(u=f,l=h,o=c)}return u.anchorIndex=o,u},e.prototype.getDefaultCfg=function(){return{type:"node",edges:[]}},e.prototype.getEdges=function(){return this.get("edges")},e.prototype.getInEdges=function(){var t=this;return this.get("edges").filter(function(n){return n.get("target")===t})},e.prototype.getOutEdges=function(){var t=this;return this.get("edges").filter(function(n){return n.get("source")===t})},e.prototype.getNeighbors=function(t){var n=this,o=this.get("edges");if(t==="target"){var u=function(h){return h.getSource()===n};return o.filter(u).map(function(f){return f.getTarget()})}if(t==="source"){var l=function(h){return h.getTarget()===n};return o.filter(l).map(function(f){return f.getSource()})}var c=function(h){return h.getSource()===n?h.getTarget():h.getSource()};return o.map(c)},e.prototype.getLinkPointByAnchor=function(t){var n=this.getAnchorPoints();return n[t]},e.prototype.getLinkPoint=function(t){var n=this.get("keyShape"),o=n.get("type"),u=this.get("type"),l,c,f=this.getBBox();u==="combo"?(l=f.centerX||(f.maxX+f.minX)/2,c=f.centerY||(f.maxY+f.minY)/2):(l=f.centerX,c=f.centerY);var h=this.getAnchorPoints(),v;switch(o){case"circle":v=aL({x:l,y:c,r:f.width/2},t);break;case"ellipse":v=oL({x:l,y:c,rx:f.width/2,ry:f.height/2},t);break;default:v=iL(f,t)}var p=v;return h.length&&(p||(p=t),p=this.getNearestPoint(h,p)),p||(p={x:l,y:c}),p},e.prototype.getAnchorPoints=function(){var t=this.get(PA);if(!t){t=[];var n=this.get("shapeFactory"),o=this.getBBox(),u=this.get("model"),l=this.getShapeCfg(u),c=u.type,f=n.getAnchorPoints(c,l)||[];(0,w.each)(f,function(h,v){var p={x:o.minX+h[0]*o.width,y:o.minY+h[1]*o.height,anchorIndex:v};t.push(p)}),this.set(PA,t)}return t},e.prototype.addEdge=function(t){this.get("edges").push(t)},e.prototype.lock=function(){this.set("locked",!0)},e.prototype.unlock=function(){this.set("locked",!1)},e.prototype.hasLocked=function(){return this.get("locked")},e.prototype.removeEdge=function(t){var n=this.getEdges(),o=n.indexOf(t);o>-1&&n.splice(o,1)},e.prototype.clearCache=function(){this.set(Bq,null),this.set(PA,null)},e.prototype.getUpdateType=function(t){var n,o,u,l,c;if(!!t){var f=!(0,w.isNil)(t.x),h=!(0,w.isNil)(t.y),v=Object.keys(t);if(v.length===1&&(f||h)||v.length===2&&f&&h)return"move";if((0,w.isNumber)(t.x)||(0,w.isNumber)(t.y)||t.type||t.anchorPoints||t.size||(t==null?void 0:t.style)&&(((n=t==null?void 0:t.style)===null||n===void 0?void 0:n.r)||((o=t==null?void 0:t.style)===null||o===void 0?void 0:o.width)||((u=t==null?void 0:t.style)===null||u===void 0?void 0:u.height)||((l=t==null?void 0:t.style)===null||l===void 0?void 0:l.rx)||((c=t==null?void 0:t.style)===null||c===void 0?void 0:c.ry)))return"bbox|label";var p=v.includes("label")||v.includes("labelCfg");return p?"style|label":"style"}},e}(RL),LA=Gq,NL="bboxCache",kL="bboxCanvasCache",RA="sizeCache",BL="anchorPointsCache",zq=function(a){(0,Z.__extends)(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){return{type:"combo",nodes:[],edges:[],combos:[]}},e.prototype.getShapeCfg=function(t){var n=this.get("styles"),o=this.get("bbox");if(n&&o){var u=t,l={r:Math.hypot(o.height,o.width)/2||ji.defaultCombo.size[0]/2,width:o.width||ji.defaultCombo.size[0],height:o.height||ji.defaultCombo.size[1]};u.style=(0,Z.__assign)((0,Z.__assign)((0,Z.__assign)({},n),t.style),l);var c=t.padding||ji.defaultCombo.padding;return(0,w.isNumber)(c)?(l.r+=c,l.width+=c*2,l.height+=c*2):(l.r+=c[0],l.width+=c[1]+c[3]||c[1]*2,l.height+=c[0]+c[2]||c[0]*2),this.set(RA,l),u}return t},e.prototype.calculateCanvasBBox=function(){if(!this.destroyed){var t=this.get("keyShape"),n=this.get("group"),o=PS(t,n);o.centerX=(o.minX+o.maxX)/2,o.centerY=(o.minY+o.maxY)/2;var u=this.get(RA),l=this.get(NL)||{},c=l.x,f=l.x;if(u){u.width=Math.max(u.width,o.width),u.height=Math.max(u.height,o.height);var h=t.get("type");h==="circle"?(o.width=u.r*2,o.height=u.r*2):(o.width=u.width,o.height=u.height),o.minX=o.centerX-o.width/2,o.minY=o.centerY-o.height/2,o.maxX=o.centerX+o.width/2,o.maxY=o.centerY+o.height/2}else o.width=o.maxX-o.minX,o.height=o.maxY-o.minY,o.centerX=(o.minX+o.maxX)/2,o.centerY=(o.minY+o.maxY)/2;return o.x=o.minX,o.y=o.minY,(o.x!==c||o.y!==f)&&this.set(BL,null),o}},e.prototype.getChildren=function(){var t=this;return{nodes:t.getNodes(),combos:t.getCombos()}},e.prototype.getNodes=function(){var t=this;return t.get("nodes")},e.prototype.getCombos=function(){var t=this;return t.get("combos")},e.prototype.addChild=function(t){var n=this,o=t.getType();switch(o){case"node":n.addNode(t);break;case"combo":n.addCombo(t);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},e.prototype.addCombo=function(t){var n=this;return n.get("combos").push(t),!0},e.prototype.addNode=function(t){var n=this;return n.get("nodes").push(t),!0},e.prototype.removeChild=function(t){var n=this,o=t.getType();switch(o){case"node":n.removeNode(t);break;case"combo":n.removeCombo(t);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},e.prototype.removeCombo=function(t){if(!!t){var n=this.getCombos(),o=n.indexOf(t);return o>-1?(n.splice(o,1),!0):!1}},e.prototype.removeNode=function(t){if(!!t){var n=this.getNodes(),o=n.indexOf(t);return o>-1?(n.splice(o,1),!0):!1}},e.prototype.getUpdateType=function(t){},e.prototype.getBBox=function(){this.set(kL,null);var t=this.calculateCanvasBBox();return t},e.prototype.clearCache=function(){this.set(NL,null),this.set(kL,null),this.set(BL,null)},e.prototype.destroy=function(){if(!this.destroyed){var t=this.get("animate"),n=this.get("group");t&&n.stopAnimate(),n.shapeMap={},this.clearCache(),this.set(RA,null),this.set("bbox",null),n.remove(),this._cfg=null,this.destroyed=!0}},e}(LA),GL=zq,BS="node",GS="edge",zL="vedge",vb="combo",Uq="default",UL="Mapper",xg="stateStyles",jq=function(){function a(e){var t=this;this.edgeToBeUpdateMap={},this.throttleRefresh=(0,w.throttle)(function(n){var o,u=t.graph;if(!(!u||u.get("destroyed"))){var l=t.edgeToBeUpdateMap;!l||!(!((o=Object.keys(l))===null||o===void 0)&&o.length)||(Object.keys(l).forEach(function(c){var f=l[c].edge;if(!(!f||f.destroyed)){var h=f.getSource(),v=f.getTarget();!h||h.destroyed||!v||v.destroyed||f.refresh(l[c].updateType)}}),t.edgeToBeUpdateMap={})}},16,{trailing:!0,leading:!0}),this.graph=e,this.destroyed=!1}return a.prototype.addItem=function(e,t){var n=this.graph,o=e===zL?GS:e,u=n.get("".concat(o,"Group"))||n.get("group"),l=(0,w.upperFirst)(o),c=null,f=n.get(o+(0,w.upperFirst)(xg))||{},h=n.get(Uq+l);t[xg]&&(f=t[xg]),h&&(0,w.each)(h,function(kt,Vt){(0,w.isObject)(kt)&&!(0,w.isArray)(kt)?t[Vt]=(0,w.deepMix)({},kt,t[Vt]):(0,w.isArray)(kt)?t[Vt]=t[Vt]||(0,w.clone)(h[Vt]):t[Vt]=t[Vt]||h[Vt]});var v=n.get(o+UL);if(v){var p=v(t);p[xg]&&(f=p[xg],delete p[xg]),(0,w.each)(p,function(kt,Vt){(0,w.isObject)(kt)&&!(0,w.isArray)(kt)?t[Vt]=(0,w.deepMix)({},t[Vt],kt):t[Vt]=p[Vt]||t[Vt]})}if(n.emit("beforeadditem",{type:e,model:t}),e===GS||e===zL){var g=void 0,E=void 0;if(g=t.source,E=t.target,g&&(0,w.isString)(g)&&(g=n.findById(g)),E&&(0,w.isString)(E)&&(E=n.findById(E)),!g||!E){console.warn("The source or target node of edge ".concat(t.id," does not exist!"));return}g.getType&&g.getType()==="combo"&&(t.isComboEdge=!0),E.getType&&E.getType()==="combo"&&(t.isComboEdge=!0),c=new FL({model:t,source:g,target:E,styles:f,linkCenter:n.get("linkCenter"),group:u.addGroup()})}else if(e===BS)c=new LA({model:t,styles:f,group:u.addGroup()});else if(e===vb){var D=t.children,G=LS(D,n),H=void 0,X=void 0;if(isNaN(G.x)?isNaN(t.x)&&(H=Math.random()*100):H=G.x,isNaN(G.y)?isNaN(t.y)&&(X=Math.random()*100):X=G.y,isNaN(t.x)||isNaN(t.y))t.x=H,t.y=X;else{var rt=t.x-H,ht=t.y-X;this.updateComboSucceeds(t.id,rt,ht,D)}var mt=u.addGroup();mt.setZIndex(t.depth),c=new GL({model:t,styles:f,bbox:t.collapsed?LS([],n):G,group:mt});var Dt=c.getModel();(D||[]).forEach(function(kt){var Vt=n.findById(kt.id);c.addChild(Vt),kt.depth=Dt.depth+2}),t.collapsed&&setTimeout(function(){c.destroyed||(n.collapseCombo(c),n.updateCombo(c))},0)}if(c)return n.get("".concat(e,"s")).push(c),n.get("itemMap")[c.get("id")]=c,n.emit("afteradditem",{item:c,model:t}),c},a.prototype.updateItem=function(e,t){var n=this,o,u,l=this.graph;if((0,w.isString)(e)&&(e=l.findById(e)),!(!e||e.destroyed)){var c="";e.getType&&(c=e.getType());var f=l.get(c+UL),h=e.getModel(),v=h.x,p=h.y,g=e.getUpdateType(t);if(f){var E=(0,w.deepMix)({},h,t),D=f(E),G=(0,w.deepMix)({},h,D,t);D[xg]&&(e.set("styles",G[xg]),delete G[xg]),(0,w.each)(G,function(pe,De){t[De]=pe})}else(0,w.each)(t,function(pe,De){h[De]&&(0,w.isObject)(pe)&&!(0,w.isArray)(pe)&&(t[De]=(0,Z.__assign)((0,Z.__assign)({},h[De]),t[De]))});if(l.emit("beforeupdateitem",{item:e,cfg:t}),c===GS){if(t.source){var H=t.source;(0,w.isString)(H)&&(H=l.findById(H)),e.setSource(H)}if(t.target){var X=t.target;(0,w.isString)(X)&&(X=l.findById(X)),e.setTarget(X)}e.update(t)}else if(c===BS){e.update(t,g);var rt=e.getEdges(),ht=(g==null?void 0:g.includes("bbox"))||g==="move";g==="move"?(0,w.each)(rt,function(pe){n.edgeToBeUpdateMap[pe.getID()]={edge:pe,updateType:g},n.throttleRefresh()}):ht&&(0,w.each)(rt,function(pe){pe.refresh(g)})}else if(c===vb){if(e.update(t,g),!isNaN(t.x)||!isNaN(t.y)){var mt=t.x-v||0,Dt=t.y-p||0;this.updateComboSucceeds(h.id,mt,Dt)}var kt=e.getEdges(),ht=(g==null?void 0:g.includes("bbox"))||g==="move";if(ht&&c===vb){var Vt=e.get("shapeFactory"),te=h.type||"circle",le=h.animate===void 0||t.animate===void 0?(u=(o=Vt[te])===null||o===void 0?void 0:o.options)===null||u===void 0?void 0:u.animate:h.animate||t.animate;le?setTimeout(function(){if(!(!e||e.destroyed)){var De=e.getKeyShape();!De||De.destroyed||(0,w.each)(kt,function(Xe){Xe&&!Xe.destroyed&&Xe.refresh()})}},201):(0,w.each)(kt,function(De){De.refresh()})}}l.emit("afterupdateitem",{item:e,cfg:t})}},a.prototype.updateCombo=function(e,t,n){var o=this,u,l,c=this.graph;if((0,w.isString)(e)&&(e=c.findById(e)),!(!e||e.destroyed)){var f=e.getModel(),h=LS(t,c,e),v=h.x,p=h.y;e.set("bbox",h);var g=v,E=p;n?(g=isNaN(f.x)?v:f.x,E=isNaN(f.y)?p:f.y):(g=isNaN(v)?f.x:v,E=isNaN(p)?f.y:p),e.update({x:g,y:E});var D=e.get("shapeFactory"),G=f.type||"circle",H=f.animate===void 0?(l=(u=D[G])===null||u===void 0?void 0:u.options)===null||l===void 0?void 0:l.animate:f.animate;H?setTimeout(function(){if(!(!e||e.destroyed)){var X=e.getKeyShape();!X||X.destroyed||(e.getShapeCfg(f),o.updateComboEdges(e))}},201):this.updateComboEdges(e)}},a.prototype.updateComboEdges=function(e){for(var t=e.getEdges()||[],n=0;n<t.length;n++){var o=t[n];if(o&&!o.destroyed){var u=o.get("shapeFactory"),l=o.getShapeCfg(o.getModel()),c=o.getContainer();c.clear();var f=u.draw(l.type,l,c);o.set("keyShape",f),f.set("isKeyShape",!0),f.set("draggable",!0),o.setOriginStyle()}}},a.prototype.collapseCombo=function(e){var t=this.graph;(0,w.isString)(e)&&(e=t.findById(e));var n=e.getChildren();n.nodes.forEach(function(o){t.hideItem(o)}),n.combos.forEach(function(o){t.hideItem(o)})},a.prototype.updateComboSucceeds=function(e,t,n,o){var u=this;o===void 0&&(o=[]);var l=this.graph;if(!(!t&&!n)){var c=o;if(!(c!=null&&c.length)){var f=l.get("comboTrees");f==null||f.forEach(function(h){Kd(h,function(v){return v.id===e?(c=v.children,!1):!0})})}c==null||c.forEach(function(h){var v=l.findById(h.id);if(v){var p=v.getModel();u.updateItem(h.id,{x:(p.x||0)+t,y:(p.y||0)+n})}})}},a.prototype.expandCombo=function(e){var t=this.graph;(0,w.isString)(e)&&(e=t.findById(e));var n=e.getChildren();n.nodes.forEach(function(o){t.showItem(o)}),n.combos.forEach(function(o){o.getModel().collapsed?o.show():t.showItem(o)})},a.prototype.removeItem=function(e){var t=this,n=this.graph;if((0,w.isString)(e)&&(e=n.findById(e)),!(!e||e.destroyed)){var o=(0,w.clone)(e.getModel());n.emit("beforeremoveitem",{item:o});var u="";e.getType&&(u=e.getType());var l=n.get("".concat(u,"s")),c=l.indexOf(e);if(c>-1&&l.splice(c,1),u===GS){var f=n.get("v".concat(u,"s")),h=f.indexOf(e);h>-1&&f.splice(h,1)}var v=e.get("id"),p=n.get("itemMap");delete p[v];var g=n.get("comboTrees"),E=e.get("id");if(u===BS){var D=e.getModel().comboId;if(g&&D){var G=g,H=!1;g.forEach(function(kt){H||Kd(kt,function(Vt){if(Vt.id===E&&G){var te=G.indexOf(Vt);return G.splice(te,1),H=!0,!1}return G=Vt.children,!0})})}for(var X=e.getEdges(),rt=X.length-1;rt>=0;rt--)n.removeItem(X[rt],!1);D&&n.updateCombo(D)}else if(u===vb){var ht=e.getModel().parentId,mt,Dt=!1;(g||[]).forEach(function(Vt){Dt||Kd(Vt,function(te){return te.id===E?(mt=te,Dt=!0,!1):!0})}),mt.removed=!0,mt&&mt.children&&mt.children.forEach(function(Vt){t.removeItem(Vt.id)});for(var X=e.getEdges(),rt=X.length;rt>=0;rt--)n.removeItem(X[rt],!1);ht&&n.updateCombo(ht)}e.destroy(),n.emit("afterremoveitem",{item:o,type:u})}},a.prototype.setItemState=function(e,t,n){var o=this.graph,u=t;(0,w.isString)(n)&&(u="".concat(t,":").concat(n)),!(e.hasState(u)===n&&n||(0,w.isString)(n)&&e.hasState(u))&&(o.emit("beforeitemstatechange",{item:e,state:u,enabled:n}),e.setState(t,n),o.autoPaint(),o.emit("afteritemstatechange",{item:e,state:u,enabled:n}))},a.prototype.priorityState=function(e,t){var n=this.graph,o=e;(0,w.isString)(e)&&(o=n.findById(e)),this.setItemState(o,t,!1),this.setItemState(o,t,!0)},a.prototype.clearItemStates=function(e,t){var n=this.graph;(0,w.isString)(e)&&(e=n.findById(e)),n.emit("beforeitemstatesclear",{item:e,states:t}),e.clearStates(t),n.emit("afteritemstatesclear",{item:e,states:t})},a.prototype.refreshItem=function(e){var t=this.graph;(0,w.isString)(e)&&(e=t.findById(e)),t.emit("beforeitemrefresh",{item:e}),e.refresh(),t.emit("afteritemrefresh",{item:e})},a.prototype.addCombos=function(e,t){var n=this,o=this.graph;(e||[]).forEach(function(l){h0(l,function(c){var f;return t.forEach(function(h){h.id===c.id&&(h.children=c.children,h.depth=c.depth,f=h)}),f&&n.addItem("combo",f),!0})});var u=o.get("comboGroup");u&&u.sort()},a.prototype.changeItemVisibility=function(e,t){var n=this,o=this.graph;if((0,w.isString)(e)&&(e=o.findById(e)),!e){console.warn("The item to be shown or hidden does not exist!");return}if(o.emit("beforeitemvisibilitychange",{item:e,visible:t}),e.changeVisibility(t),e.getType&&e.getType()===BS){var u=e.getEdges();(0,w.each)(u,function(v){t&&!(v.get("source").isVisible()&&v.get("target").isVisible())||n.changeItemVisibility(v,t)})}else if(e.getType&&e.getType()===vb){var l=o.get("comboTrees"),c=e.get("id"),f=[],h=!1;(l||[]).forEach(function(p){h||!p.children||p.children.length===0||Kd(p,function(g){return g.id===c?(f=g.children,h=!0,!1):!0})}),f&&(!t||t&&!e.getModel().collapsed)&&f.forEach(function(p){var g=o.findById(p.id);n.changeItemVisibility(g,t)});var u=e.getEdges();(0,w.each)(u,function(p){t&&!(p.get("source").isVisible()&&p.get("target").isVisible())||n.changeItemVisibility(p,t)})}return o.emit("afteritemvisibilitychange",{item:e,visible:t}),e},a.prototype.destroy=function(){this.graph=null,this.destroyed=!0},a}(),Wq=jq,yy=null,Vq=function(){function a(e){this.graph=e,this.cachedStates={enabled:{},disabled:{}},this.destroyed=!1}return a.checkCache=function(e,t,n){if(!!n[t]){var o=n[t].indexOf(e);o>=0&&n[t].splice(o,1)}},a.cacheState=function(e,t,n){n[t]||(n[t]=[]),n[t].push(e)},a.prototype.updateState=function(e,t,n){var o=this,u=a.checkCache,l=a.cacheState;if(!e.destroyed){var c=this.cachedStates,f=c.enabled,h=c.disabled;n?(u(e,t,h),l(e,t,f)):(u(e,t,f),l(e,t,h)),yy&&clearTimeout(yy),yy=setTimeout(function(){yy=null,o.updateGraphStates()},16)}},a.prototype.updateStates=function(e,t,n){var o=this;(0,w.isString)(t)?this.updateState(e,t,n):t.forEach(function(u){o.updateState(e,u,n)})},a.prototype.updateGraphStates=function(){var e=this.graph.get("states"),t=this.cachedStates;(0,w.each)(t.disabled,function(n,o){e[o]&&(e[o]=e[o].filter(function(u){return n.indexOf(u)<0&&!n.destroyed}))}),(0,w.each)(t.enabled,function(n,o){if(!e[o])e[o]=n;else{var u={};e[o].forEach(function(l){l.destroyed||(u[l.get("id")]=!0)}),n.forEach(function(l){if(!l.destroyed){var c=l.get("id");u[c]||(u[c]=!0,e[o].push(l))}})}}),this.graph.emit("graphstatechange",{states:e}),this.cachedStates={enabled:{},disabled:{}}},a.prototype.destroy=function(){this.graph=null,this.cachedStates=null,yy&&clearTimeout(yy),yy=null,this.destroyed=!0},a}(),Hq=Vq,Yq=function(e,t){return!e||!t?e:e.replace(/\\?\{([^{}]+)\}/g,function(n,o){if(n.charAt(0)==="\\")return n.slice(1);var u=t[o];return u===0&&(u="0"),u||""})},jL=function(e){var t=[];if(e.length<2)throw new Error("point length must largn than 2, now it's ".concat(e.length));for(var n=0,o=e;n<o.length;n++){var u=o[n],l=u.x,c=u.y;t.push(l),t.push(c)}var f=S0(t);return f.unshift(["M",e[0].x,e[0].y]),f},zS=function(e,t,n,o){n===void 0&&(n=0),o===void 0&&(o=0);var u={x:(1-n)*e.x+n*t.x,y:(1-n)*e.y+n*t.y},l=[0,0];Ps(l,[t.x-e.x,t.y-e.y]),(!l||!l[0]&&!l[1])&&(l=[0,0]);var c=[-l[1]*o,l[0]*o];return u.x+=c[0],u.y+=c[1],u},Xq=function(e,t){var n=e.length;if(!n)return"";for(var o="",u="",l=0;l<n;l++){var c=e[l];l===0?u="M{x} {y}":u="L{x} {y}",o+=Yq(u,c)}return t&&(o+="Z"),o},FA=function(e){var t=[];return e.forEach(function(n){var o=n[0];if(o!=="A")for(var u=1;u<n.length;u=u+2)t.push([n[u],n[u+1]]);else{var l=n.length;t.push([n[l-2],n[l-1]])}}),t},NA=function(e){if(e.length<2)throw new Error("point length must largn than 2, now it's ".concat(e.length));var t=e[0],n=e[1],o=e[e.length-1],u=e[e.length-2];e.unshift(o),e.unshift(u),e.push(t),e.push(n);for(var l=[],c=1;c<e.length-2;c+=1){var f=e[c-1].x,h=e[c-1].y,v=e[c].x,p=e[c].y,g=e[c+1].x,E=e[c+1].y,D=c!==e.length-2?e[c+2].x:g,G=c!==e.length-2?e[c+2].y:E,H=v+(g-f)/6,X=p+(E-h)/6,rt=g-(D-v)/6,ht=E-(G-p)/6;l.push(["C",H,X,rt,ht,g,E])}return l.unshift(["M",o.x,o.y]),l},WL=function(e,t){return Ua([0,0],Ps([0,0],e),t)},VL=function(e,t){var n=[e[1]-t[1],t[0]-e[0]],o=Math.sqrt(n[0]*n[0]+n[1]*n[1]);if(o===0)throw new Error("p0 should not be equal to p1");return[n[0]/o,n[1]/o]},HL=function(e,t){return[t[0]-e[0],t[1]-e[1]]};function kA(a,e){var t=function(p){var g=[p[0][0],p[0][1]-e],E=[p[0][0],p[0][1]+e];return"M ".concat(g," A ").concat(e,",").concat(e,",0,0,0,").concat(E," A ").concat(e,",").concat(e,",0,0,0,").concat(g)},n=function(p){var g=Ua([0,0],VL(p[0],p[1]),e),E=Ua([0,0],g,-1),D=Da([0,0],p[0],g),G=Da([0,0],p[1],g),H=Da([0,0],p[1],E),X=Da([0,0],p[0],E);return"M ".concat(D," L ").concat(G," A ").concat([e,e,"0,0,0",H].join(",")," L ").concat(X," A ").concat([e,e,"0,0,0",D].join(","))};if(!a||a.length<1)return"";if(a.length===1)return t(a);if(a.length===2)return n(a);for(var o=new Array(a.length),u=0;u<o.length;++u){var l=u===0?a[a.length-1]:a[u-1],c=a[u],f=Ua([0,0],VL(l,c),e);o[u]=[Da([0,0],l,f),Da([0,0],c,f)]}var h="A ".concat([e,e,"0,0,0,"].join(","));return o=o.map(function(v,p){var g="";return p===0&&(g="M ".concat(o[o.length-1][1]," ")),g+="".concat(h+v[0]," L ").concat(v[1]),g}),o.join(" ")}function YL(a,e){var t=a.length,n=function(v){var p=[v[0][0],v[0][1]-e],g=[v[0][0],v[0][1]+e];return"M ".concat(p," A ").concat([e,e,"0,0,0",g].join(",")," A ").concat([e,e,"0,0,0",p].join(","))},o=function(v){var p=HL(v[0],v[1]),g=WL(p,e),E=Da([0,0],v[0],Ua([0,0],g,-1)),D=Da([0,0],v[1],g),G=1.2*e,H=WL(Ps([0,0],p),G),X=Ua([0,0],H,-1),rt=Da([0,0],E,X),ht=Da([0,0],D,X),mt=Da([0,0],E,H);return"M ".concat(E," C ").concat([rt,ht,D].join(",")," S ").concat([mt,E].join(",")," Z")};if(!a||t<1)return"";if(t===1)return n(a);if(t===2)return o(a);for(var u=a.map(function(h,v){var p=a[(v+1)%t];return{p:h,v:Ps([0,0],HL(h,p))}}),l=0;l<u.length;++l){var c=l>0?l-1:t-1,f=Ps([0,0],Da([0,0],u[c].v,Ua([0,0],u[l].v,-1)));u[l].p=Da([0,0],u[l].p,Ua([0,0],f,e))}return u.map(function(h){var v=h.p;return{x:v[0],y:v[1]}})}var XL=function(e,t,n){return(e.y-n.y)*(t.x-n.x)-(e.x-n.x)*(t.y-n.y)},$L=function(e){var t=e.map(function(c){return{x:c.getModel().x,y:c.getModel().y}});if(t.sort(function(c,f){return c.x===f.x?c.y-f.y:c.x-f.x}),t.length===1)return t;for(var n=[],o=0;o<t.length;o++){for(;n.length>=2&&XL(n[n.length-2],n[n.length-1],t[o])<=0;)n.pop();n.push(t[o])}for(var u=[],o=t.length-1;o>=0;o--){for(;u.length>=2&&XL(u[u.length-2],u[u.length-1],t[o])<=0;)u.pop();u.push(t[o])}u.pop(),n.pop();var l=n.concat(u);return l},$q={maxRoutingIterations:100,maxMarchingIterations:100,pixelGroupSize:2,edgeR0:10,edgeR1:10,nodeR0:5,nodeR1:10,morphBuffer:5,threshold:.001,skip:16,nodeInfluenceFactor:1,edgeInfluenceFactor:1,negativeNodeInfluenceFactor:-.5};function Kq(a,e,t){var n=!1,o=function(f,h){return e.cells[f+h*e.width]},u=function(f,h){var v=0;return o(f-1,h-1)>=t&&(v+=1),o(f,h-1)>t&&(v+=2),o(f-1,h)>t&&(v+=4),o(f,h)>t&&(v+=8),v},l=function(f,h){for(var v=f,p=h,g,E,D=0;D<e.width*e.height;D++){if(g=v,E=p,a.findIndex(function(H){return H.x===v&&H.y===p})>-1){if(!(a[0].x!==v||a[0].y!==p))return!0}else a.push({x:v,y:p});var G=u(v,p);switch(G){case-1:return console.warn("Marched out of bounds"),!0;case 0:case 3:case 2:case 7:v++;break;case 12:case 14:case 4:v--;break;case 6:g===0&&(E===-1?v-=1:v+=1);break;case 1:case 13:case 5:p--;break;case 9:g===1&&(E===0?p-=1:p+=1);break;case 10:case 8:case 11:p++;break;default:return console.warn("Marching squares invalid state: ".concat(G)),!0}}};this.march=function(){for(var c=0;c<e.width&&!n;c+=1)for(var f=0;f<e.height&&!n;f+=1)o(c,f)>t&&u(c,f)!==15&&(n=l(c,f));return n}}var Zq=function(e,t,n){var o=Math.ceil(e/n),u=Math.ceil(t/n),l=new Float32Array(Math.max(0,o*u)).fill(0);return{cells:l,width:o,height:u}},Qq=function(e,t,n){var o=null,u=Number.POSITIVE_INFINITY;return t.forEach(function(l){var c={x:e.getModel().x,y:e.getModel().y},f={x:l.getModel().x,y:l.getModel().y},h=IS(c,f),v=new gy(c.x,c.y,f.x,f.y),p=n.reduce(function(g,E){return mA(E,v)>0?g+1:g},0);h*Math.pow(p+1,2)<u&&(o=l,u=h*Math.pow(p+1,2))}),o},KL=function(e,t){var n=Number.POSITIVE_INFINITY,o=null;return e.forEach(function(u){var l=mA(u,t);l>=0&&l<n&&(o=u,n=l)}),o},Jq=function(e,t,n,o){var u=[],l=[];l.push(e);for(var c=!0,f=0,h=function(E,D){var G=!1;return D.forEach(function(H){G||(xA(E,{x:H.x1,y:H.y1})||xA(E,{x:H.x2,y:H.y2}))&&(G=!0)}),G},v=function(E,D){for(var G=0,H=D;G<H.length;G++){var X=H[G],rt=X.getBBox(),ht=[[rt.x,rt.y],[rt.x+rt.width,rt.y],[rt.x,rt.y+rt.height],[rt.x+rt.width,rt.y+rt.height]];if(db(ht,E.x,E.y))return!0}return!1};c&&f<n;){c=!1;for(var p=function(){var E=l.pop(),D=KL(t,E);if(D){var G=fL(D,E),H=G[0],X=G[1];if(X===2){var rt=function(mt){for(var Dt=o,kt=ZL(D,Dt,H,mt),Vt=h(kt,l)||h(kt,u),te=v(kt,t);!Vt&&te&&Dt>=1;)Dt/=1.5,kt=ZL(D,Dt,H,mt),Vt=h(kt,l)||h(kt,u),te=v(kt,t);kt&&!Vt&&(!mt||!te)&&(l.push(new gy(E.x1,E.y1,kt.x,kt.y)),l.push(new gy(kt.x,kt.y,E.x2,E.y2)),c=!0)};rt(!0),c||rt(!1)}}c||u.push(E),f+=1};!c&&l.length;)p()}for(;l.length;)u.push(l.pop());return u};function qq(a,e,t,n,o){var u=Qq(a,t,e);if(u===null)return[];var l=function(p){for(var g=[];p.length>0;){var E=p.pop();if(p.length===0){g.push(E);break}var D=p.pop(),G=new gy(E.x1,E.y1,D.x2,D.y2),H=KL(e,G);H?(g.push(E),p.push(D)):p.push(G)}return g},c=new gy(a.getModel().x,a.getModel().y,u.getModel().x,u.getModel().y),f=Jq(c,e,n,o),h=l(f);return h}var ttt=function(e,t,n){var o=Object.assign($q,n),u=hL(e.map(function(rt){return{x:rt.getModel().x,y:rt.getModel().y}}));e=e.sort(function(rt,ht){return IS({x:rt.getModel().x,y:rt.getModel().y},u)-IS({x:ht.getModel().x,y:ht.getModel().y},u)});var l=[],c=[];e.forEach(function(rt){var ht=qq(rt,t,l,o.maxRoutingIterations,o.morphBuffer);ht.forEach(function(mt){c.push(mt)}),l.push(rt)});for(var f=ett(e,c,o.nodeR0),h=Zq(f.width,f.height,o.pixelGroupSize),v=[],p=[],g=0;g<o.maxMarchingIterations;g++)if(rtt(e,t,c,f,h,o),v=[],p=[],!!new Kq(v,h,o.threshold).march()){var E=v.map(function(rt){return{x:Math.round(rt.x*o.pixelGroupSize+f.minX),y:Math.round(rt.y*o.pixelGroupSize+f.minY)}});if(E){var D=E.length;if(o.skip>1)for(D=Math.floor(E.length/o.skip);D<3&&o.skip>1;)o.skip-=1,D=Math.floor(E.length/o.skip);for(var G=0,H=0;H<D;H+=1,G+=o.skip)p.push({x:E[G].x,y:E[G].y})}var X=function(){for(var ht=0,mt=e;ht<mt.length;ht++){var Dt=mt[ht],kt=p.map(function(Vt){return[Vt.x,Vt.y]});if(!db(kt,Dt.getBBox().centerX,Dt.getBBox().centerY))return!1}return!0};if(p&&X())return p;if(o.threshold*=.9,g<=o.maxMarchingIterations*.5)o.memberInfluenceFactor*=1.2,o.edgeInfluenceFactor*=1.2;else if(o.nonMemberInfluenceFactor!==0&&t.length>0)o.nonMemberInfluenceFactor*=.8;else break}return p};function ett(a,e,t){var n={minX:Number.POSITIVE_INFINITY,minY:Number.POSITIVE_INFINITY,maxX:Number.NEGATIVE_INFINITY,maxY:Number.NEGATIVE_INFINITY,width:0,height:0,x:0,y:0},o=[];a.forEach(function(f){o.push(f.getBBox())}),e.forEach(function(f){o.push(f.getBBox())});for(var u=0,l=o;u<l.length;u++){var c=l[u];n.minX=(c.minX<n.minX?c.minX:n.minX)-t,n.minY=(c.minY<n.minY?c.minY:n.minY)-t,n.maxX=(c.maxX>n.maxX?c.maxX:n.maxX)+t,n.maxY=(c.maxY>n.maxY?c.maxY:n.maxY)+t}return n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n.x=n.minX,n.y=n.minY,n}function rtt(a,e,t,n,o,u){function l(E,D){var G=Math.floor((E-D)/u.pixelGroupSize);return G<0?0:G}function c(E,D){return E*u.pixelGroupSize+D}var f=(u.nodeR0-u.nodeR1)*(u.nodeR0-u.nodeR1),h=(u.edgeR0-u.edgeR1)*(u.edgeR0-u.edgeR1),v=function(D,G){var H=Math.min(l(D.minX,G+n.minX),o.width),X=Math.min(l(D.minY,G+n.minY),o.height),rt=Math.min(l(D.maxX,-G+n.minX),o.width),ht=Math.min(l(D.maxY,-G+n.minY),o.height);return[H,X,rt,ht]},p=function(D,G){for(var H=D.getBBox(),X=v(H,u.nodeR1),rt=X[0],ht=X[1],mt=X[2],Dt=X[3],kt=ht;kt<Dt;kt+=1)for(var Vt=rt;Vt<mt;Vt+=1)if(!(G<0&&o[Vt+kt*o.width]<=0)){var te=c(Vt,n.minX),le=c(kt,n.minY),pe=vL({x:te,y:le},{x:H.minX,y:H.minY,width:H.width,height:H.height});if(pe<Math.pow(u.nodeR1,2)){var De=Math.sqrt(pe)-u.nodeR1;o.cells[Vt+kt*o.width]+=G*De*De}}},g=function(D,G){for(var H=D.getBBox(),X=v(H,u.edgeR1),rt=X[0],ht=X[1],mt=X[2],Dt=X[3],kt=ht;kt<Dt;kt+=1)for(var Vt=rt;Vt<mt;Vt+=1)if(!(G<0&&o.cells[Vt+kt*o.width]<=0)){var te=c(Vt,n.minX),le=c(kt,n.minY),pe=dL({x:te,y:le},D);if(pe<Math.pow(u.edgeR1,2)){var De=Math.sqrt(pe)-u.edgeR1;o.cells[Vt+kt*o.width]+=G*De*De}}};u.nodeInfluenceFactor&&a.forEach(function(E){p(E,u.nodeInfluenceFactor/f)}),u.edgeInfluenceFactor&&t.forEach(function(E){g(E,u.edgeInfluenceFactor/h)}),u.negativeNodeInfluenceFactor&&e.forEach(function(E){p(E,u.negativeNodeInfluenceFactor/f)})}function ZL(a,e,t,n){var o=a.getBBox(),u=t[0],l=t[1],c=t[2],f=t[3],h={topLeft:{x:o.minX-e,y:o.minY-e},topRight:{x:o.maxX+e,y:o.minY-e},bottomLeft:{x:o.minX-e,y:o.maxY+e},bottomRight:{x:o.maxX+e,y:o.maxY+e}},v=o.height*o.width;function p(D,G){return o.width*((D.y-o.minY+(G.y-o.minY))*.5)}if(l){if(u)return n?h.topLeft:h.bottomRight;if(c)return n?h.bottomLeft:h.topRight;var g=p(l,f);return g<v*.5?l.y>f.y?n?h.topLeft:h.bottomRight:n?h.topRight:h.bottomLeft:l.y<f.y?n?h.bottomLeft:h.topRight:n?h.bottomRight:h.topLeft}if(f){if(u)return n?h.topRight:h.bottomLeft;if(c)return n?h.bottomRight:h.topLeft}var E=p(u,c);return E<v*.5?u.x>c.x?n?h.topLeft:h.bottomRight:n?h.bottomLeft:h.topRight:u.x<c.x?n?h.topRight:h.bottomLeft:n?h.bottomRight:h.topLeft}var ntt=function(){function a(e,t){this.cfg=(0,w.deepMix)(this.getDefaultCfg(),t),this.graph=e,this.id=this.cfg.id,this.group=this.cfg.group,this.members=this.cfg.members.map(function(n){return(0,w.isString)(n)?e.findById(n):n}),this.nonMembers=this.cfg.nonMembers.map(function(n){return(0,w.isString)(n)?e.findById(n):n}),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()}return a.prototype.getDefaultCfg=function(){return{id:"g6-hull",type:"round-convex",members:[],nonMembers:[],style:{fill:"lightblue",stroke:"blue",opacity:.2},padding:10}},a.prototype.setPadding=function(){var e=this.members.length&&this.members[0].getKeyShape().getCanvasBBox().width/2;this.padding=this.cfg.padding>0?this.cfg.padding+e:10+e,this.cfg.bubbleCfg={nodeR0:this.padding-e,nodeR1:this.padding-e,morphBuffer:this.padding-e}},a.prototype.setType=function(){this.type=this.cfg.type,this.members.length<3&&(this.type="round-convex"),this.type!=="round-convex"&&this.type!=="smooth-convex"&&this.type!=="bubble"&&(console.warn("The hull type should be either round-convex, smooth-convex or bubble, round-convex is used by default."),this.type="round-convex")},a.prototype.calcPath=function(e,t){var n,o,u;switch(this.type){case"round-convex":n=$L(e),u=kA(n.map(function(l){return[l.x,l.y]}),this.padding),o=Tp(u);break;case"smooth-convex":n=$L(e),n.length===2?(u=kA(n.map(function(l){return[l.x,l.y]}),this.padding),o=Tp(u)):n.length>2&&(u=YL(n.map(function(l){return[l.x,l.y]}),this.padding),o=NA(u));break;case"bubble":n=ttt(e,t,this.cfg.bubbleCfg),o=n.length>=2&&NA(n);break;default:}return o},a.prototype.render=function(){this.group.addShape("path",{attrs:(0,Z.__assign)({path:this.path},this.cfg.style),id:this.id,name:this.cfg.id,capture:!1}),this.group.toBack()},a.prototype.addMember=function(e){if(!!e){(0,w.isString)(e)&&(e=this.graph.findById(e)),this.members.push(e);var t=this.nonMembers.indexOf(e);return t>-1&&this.nonMembers.splice(t,1),this.updateData(this.members,this.nonMembers),!0}},a.prototype.addNonMember=function(e){if(!!e){(0,w.isString)(e)&&(e=this.graph.findById(e)),this.nonMembers.push(e);var t=this.members.indexOf(e);return t>-1&&this.members.splice(t,1),this.updateData(this.members,this.nonMembers),!0}},a.prototype.removeMember=function(e){if(!!e){(0,w.isString)(e)&&(e=this.graph.findById(e));var t=this.members.indexOf(e);return t>-1?(this.members.splice(t,1),this.updateData(this.members,this.nonMembers),!0):!1}},a.prototype.removeNonMember=function(e){if(!!e){(0,w.isString)(e)&&(e=this.graph.findById(e));var t=this.nonMembers.indexOf(e);return t>-1?(this.nonMembers.splice(t,1),this.updateData(this.members,this.nonMembers),!0):!1}},a.prototype.updateData=function(e,t){var n=this;this.group.findById(this.id).remove(),e&&(this.members=e.map(function(o){return(0,w.isString)(o)?n.graph.findById(o):o})),t&&(this.nonMembers=t.map(function(o){return(0,w.isString)(o)?n.graph.findById(o):o})),this.path=this.calcPath(this.members,this.nonMembers),this.render()},a.prototype.updateStyle=function(e){var t=this.group.findById(this.id);t.attr((0,Z.__assign)({},e))},a.prototype.updateCfg=function(e){var t=this;this.cfg=(0,w.deepMix)(this.cfg,e),this.id=this.cfg.id,this.group=this.cfg.group,e.members&&(this.members=this.cfg.members.map(function(n){return(0,w.isString)(n)?t.graph.findById(n):n})),e.nonMembers&&(this.nonMembers=this.cfg.nonMembers.map(function(n){return(0,w.isString)(n)?t.graph.findById(n):n})),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()},a.prototype.contain=function(e){var t=this,n;(0,w.isString)(e)?n=this.graph.findById(e):n=e;var o,u=n.getKeyShape();if(n.get("type")==="path")o=FA(u.attr("path"));else{var l=u.getCanvasBBox();o=[[l.minX,l.minY],[l.maxX,l.minY],[l.maxX,l.maxY],[l.minX,l.maxY]]}return o=o.map(function(c){var f=t.graph.getPointByCanvas(c[0],c[1]);return[f.x,f.y]}),cL(o,FA(this.path))},a.prototype.destroy=function(){this.group.remove(),this.cfg=null},a}(),QL=ntt,pb=ka,itt="node",att=function(a){(0,Z.__extends)(e,a);function e(t){var n=a.call(this)||this;return n.cfg=(0,w.deepMix)(n.getDefaultCfg(),t),n.init(),n.animating=!1,n.destroyed=!1,n.cfg.enabledStack&&(n.undoStack=new Jm(n.cfg.maxStep),n.redoStack=new Jm(n.cfg.maxStep)),n}return e.prototype.init=function(){this.initCanvas();var t=new Oq(this),n=new _q(this),o=new Wq(this),u=new Hq(this);this.set({viewController:t,modeController:n,itemController:o,stateController:u}),this.initLayoutController(),this.initEventController(),this.initGroups(),this.initPlugins()},e.prototype.initGroups=function(){var t=this.get("canvas");if(!!t){var n=t.get("el"),o=(n||{}).id,u=o===void 0?"g6":o,l=t.addGroup({id:"".concat(u,"-root"),className:ji.rootContainerClassName});if(this.get("groupByTypes")){var c=l.addGroup({id:"".concat(u,"-edge"),className:ji.edgeContainerClassName}),f=l.addGroup({id:"".concat(u,"-node"),className:ji.nodeContainerClassName}),h=l.addGroup({id:"".concat(u,"-combo"),className:ji.comboContainerClassName});h.toBack(),this.set({nodeGroup:f,edgeGroup:c,comboGroup:h})}var v=l.addGroup({id:"".concat(u,"-delegate"),className:ji.delegateContainerClassName});this.set({delegateGroup:v}),this.set("group",l)}},e.prototype.getDefaultCfg=function(){return{container:void 0,width:void 0,height:void 0,renderer:"canvas",modes:{},plugins:[],data:{},fitViewPadding:10,minZoom:.2,maxZoom:10,event:!0,groupByTypes:!0,directed:!1,autoPaint:!0,nodes:[],edges:[],combos:[],vedges:[],itemMap:{},linkCenter:!1,defaultNode:{},defaultEdge:{},nodeStateStyles:{},edgeStateStyles:{},states:{},animate:!1,animateCfg:{onFrame:void 0,duration:500,easing:"easeLinear"},callback:void 0,enabledStack:!1,maxStep:10,tooltips:[]}},e.prototype.set=function(t,n){return(0,w.isPlainObject)(t)?this.cfg=(0,Z.__assign)((0,Z.__assign)({},this.cfg),t):this.cfg[t]=n,t==="enabledStack"&&n&&!this.undoStack&&!this.redoStack&&(this.undoStack=new Jm(this.cfg.maxStep),this.redoStack=new Jm(this.cfg.maxStep)),this},e.prototype.get=function(t){var n;return(n=this.cfg)===null||n===void 0?void 0:n[t]},e.prototype.getGroup=function(){return this.get("group")},e.prototype.getContainer=function(){return this.get("container")},e.prototype.getMinZoom=function(){return this.get("minZoom")},e.prototype.setMinZoom=function(t){return this.set("minZoom",t)},e.prototype.getMaxZoom=function(){return this.get("maxZoom")},e.prototype.setMaxZoom=function(t){return this.set("maxZoom",t)},e.prototype.getWidth=function(){return this.get("width")},e.prototype.getHeight=function(){return this.get("height")},e.prototype.clearItemStates=function(t,n){(0,w.isString)(t)&&(t=this.findById(t));var o=this.get("itemController");n||(n=t.get("states")),o.clearItemStates(t,n);var u=this.get("stateController");u.updateStates(t,n,!1)},e.prototype.node=function(t){typeof t=="function"&&this.set("nodeMapper",t)},e.prototype.edge=function(t){typeof t=="function"&&this.set("edgeMapper",t)},e.prototype.combo=function(t){typeof t=="function"&&this.set("comboMapper",t)},e.prototype.findById=function(t){return this.get("itemMap")[t]},e.prototype.find=function(t,n){var o,u=this.get("".concat(t,"s"));return(0,w.each)(u,function(l,c){if(n(l,c))return o=l,o}),o},e.prototype.findAll=function(t,n){var o=[];return(0,w.each)(this.get("".concat(t,"s")),function(u,l){n(u,l)&&o.push(u)}),o},e.prototype.findAllByState=function(t,n){return this.findAll(t,function(o){return o.hasState(n)})},e.prototype.getAnimateCfgWithCallback=function(t){var n=t.animateCfg,o=t.callback,u;if(!n)u={duration:500,callback:o};else if(u=(0,w.clone)(n),n.callback){var l=n.callback;u.callback=function(){o(),l()}}else u.callback=o;return u},e.prototype.translate=function(t,n,o,u){var l=this,c=this.get("group"),f=(0,w.clone)(c.getMatrix());if(f||(f=[1,0,0,0,1,0,0,0,1]),o){var h=this.getAnimateCfgWithCallback({animateCfg:u,callback:function(){return l.emit("viewportchange",{action:"translate",matrix:c.getMatrix()})}});gA(c,{x:c.getCanvasBBox().x+t,y:c.getCanvasBBox().y+n},o,h||{duration:500,easing:"easeCubic"})}else f=pb(f,[["t",t,n]]),c.setMatrix(f),this.emit("viewportchange",{action:"translate",matrix:f}),this.autoPaint()},e.prototype.moveTo=function(t,n,o,u){var l=this.get("group");gA(l,{x:t,y:n},o,u||{duration:500,easing:"easeCubic"}),this.emit("viewportchange",{action:"move",matrix:l.getMatrix()})},e.prototype.fitView=function(t,n){t&&this.set("fitViewPadding",t);var o=this.get("viewController");n?o.fitViewByRules(n):o.fitView(),this.autoPaint()},e.prototype.fitCenter=function(){var t=this.get("viewController");t.fitCenter(),this.autoPaint()},e.prototype.addBehaviors=function(t,n){var o=this.get("modeController");return o.manipulateBehaviors(t,n,!0),this},e.prototype.removeBehaviors=function(t,n){var o=this.get("modeController");return o.manipulateBehaviors(t,n,!1),this},e.prototype.updateBehavior=function(t,n,o){var u=this.get("modeController");return u.updateBehavior(t,n,o),this},e.prototype.zoom=function(t,n,o,u){var l=this,c=this.get("group"),f=(0,w.clone)(c.getMatrix()),h=this.get("minZoom"),v=this.get("maxZoom");if(f||(f=[1,0,0,0,1,0,0,0,1]),n?f=pb(f,[["t",-n.x,-n.y],["s",t,t],["t",n.x,n.y]]):f=pb(f,[["s",t,t]]),h&&f[0]<h||v&&f[0]>v)return!1;if(o){var p=(0,w.clone)(c.getMatrix());p||(p=[1,0,0,0,1,0,0,0,1]);var g=p[0],E=g*t,D=this.getAnimateCfgWithCallback({animateCfg:u,callback:function(){return l.emit("viewportchange",{action:"zoom",matrix:c.getMatrix()})}});c.animate(function(G){if(G===1)p=f;else{var H=pL(g,E,G)/p[0];n?p=pb(p,[["t",-n.x,-n.y],["s",H,H],["t",n.x,n.y]]):p=pb(p,[["s",H,H]])}return{matrix:p}},D)}else c.setMatrix(f),this.emit("viewportchange",{action:"zoom",matrix:f}),this.autoPaint();return!0},e.prototype.zoomTo=function(t,n,o,u){var l=t/this.getZoom();return this.zoom(l,n,o,u)},e.prototype.focusItem=function(t,n,o){var u=this.get("viewController"),l=!1;n?l=!0:n===void 0&&(l=this.get("animate"));var c={};o?c=o:o===void 0&&(c=this.get("animateCfg")),u.focus(t,l,c),this.autoPaint()},e.prototype.autoPaint=function(){this.get("autoPaint")&&this.paint()},e.prototype.paint=function(){this.emit("beforepaint"),this.get("canvas").draw(),this.emit("afterpaint")},e.prototype.getPointByClient=function(t,n){var o=this.get("viewController");return o.getPointByClient(t,n)},e.prototype.getClientByPoint=function(t,n){var o=this.get("viewController");return o.getClientByPoint(t,n)},e.prototype.getPointByCanvas=function(t,n){var o=this.get("viewController");return o.getPointByCanvas(t,n)},e.prototype.getCanvasByPoint=function(t,n){var o=this.get("viewController");return o.getCanvasByPoint(t,n)},e.prototype.getGraphCenterPoint=function(){var t=this.get("group").getCanvasBBox();return{x:(t.minX+t.maxX)/2,y:(t.minY+t.maxY)/2}},e.prototype.getViewPortCenterPoint=function(){return this.getPointByCanvas(this.get("width")/2,this.get("height")/2)},e.prototype.showItem=function(t,n){n===void 0&&(n=!0);var o=this.get("itemController"),u=o.changeItemVisibility(t,!0);if(n&&this.get("enabledStack")){var l=u.getID(),c=u.getType(),f={},h={};switch(c){case"node":f.nodes=[{id:l,visible:!1}],h.nodes=[{id:l,visible:!0}];break;case"edge":f.nodes=[{id:l,visible:!1}],h.edges=[{id:l,visible:!0}];break;case"combo":f.nodes=[{id:l,visible:!1}],h.combos=[{id:l,visible:!0}];break;default:break}this.pushStack("visible",{before:f,after:h})}},e.prototype.hideItem=function(t,n){n===void 0&&(n=!0);var o=this.get("itemController"),u=o.changeItemVisibility(t,!1);if(n&&this.get("enabledStack")){var l=u.getID(),c=u.getType(),f={},h={};switch(c){case"node":f.nodes=[{id:l,visible:!0}],h.nodes=[{id:l,visible:!1}];break;case"edge":f.nodes=[{id:l,visible:!0}],h.edges=[{id:l,visible:!1}];break;case"combo":f.nodes=[{id:l,visible:!0}],h.combos=[{id:l,visible:!1}];break;default:break}this.pushStack("visible",{before:f,after:h})}},e.prototype.refreshItem=function(t){var n=this.get("itemController");n.refreshItem(t)},e.prototype.setAutoPaint=function(t){var n=this;n.set("autoPaint",t);var o=n.get("canvas");o.set("autoDraw",t)},e.prototype.remove=function(t,n){n===void 0&&(n=!0),this.removeItem(t,n)},e.prototype.removeItem=function(t,n){n===void 0&&(n=!0);var o=t;if((0,w.isString)(t)&&(o=this.findById(t)),!o&&(0,w.isString)(t))console.warn("The item ".concat(t," to be removed does not exist!"));else if(o){var u="";if(o.getType&&(u=o.getType()),n&&this.get("enabledStack")){var l=(0,Z.__assign)((0,Z.__assign)({},o.getModel()),{itemType:u}),c={};switch(u){case"node":{c.nodes=[l],c.edges=[];for(var f=o.getEdges(),h=f.length-1;h>=0;h--)c.edges.push((0,Z.__assign)((0,Z.__assign)({},f[h].getModel()),{itemType:"edge"}));break}case"edge":c.edges=[l];break;case"combo":c.combos=[l];break;default:break}this.pushStack("delete",{before:c,after:{}})}if(u==="node"){var v=o.getModel();v.comboId&&this.updateComboTree(o,void 0,!1)}var p=this.get("itemController");if(p.removeItem(o),u==="combo"){var g=_A(this.get("comboTrees"));this.set("comboTrees",g)}}},e.prototype.addItem=function(t,n,o,u){o===void 0&&(o=!0),u===void 0&&(u=!0);var l=this.get("comboSorted");this.set("comboSorted",l&&!u);var c=this.get("itemController");if(!Sq(t,n))return!1;if(n.id&&this.findById(n.id)){console.warn("This item exists already. Be sure the id %c".concat(n.id,"%c is unique."),"font-size: 20px; color: red;","");return}var f,h=this.get("comboTrees")||[];if(t==="combo"){var v=this.get("itemMap"),p=!1;if(h.forEach(function(mt){p||h0(mt,function(Dt){if(n.parentId===Dt.id){p=!0;var kt=(0,Z.__assign)({id:n.id,depth:Dt.depth+2},n);Dt.children?Dt.children.push(kt):Dt.children=[kt],n.depth=kt.depth,f=c.addItem(t,n)}var Vt=v[Dt.id];return p&&Vt&&Vt.getType&&Vt.getType()==="combo"&&c.updateCombo(Vt,Dt.children),!0})}),!p){var g=(0,Z.__assign)({id:n.id,depth:0},n);n.depth=g.depth,h.push(g),f=c.addItem(t,n)}this.set("comboTrees",h)}else if(t==="node"&&(0,w.isString)(n.comboId)&&h){var E=this.findById(n.comboId);E&&E.getType&&E.getType()!=="combo"&&console.warn("'".concat(n.comboId,"' is not a id of a combo in the graph, the node will be added without combo.")),f=c.addItem(t,n);var D=this.get("itemMap"),G=!1,H=!1;h.forEach(function(mt){H||G||h0(mt,function(Dt){if(Dt.id===n.id)return H=!0,!1;if(n.comboId===Dt.id&&!H){G=!0;var kt=(0,w.clone)(n);kt.itemType="node",Dt.children?Dt.children.push(kt):Dt.children=[kt],kt.depth=Dt.depth+1}return G&&D[Dt.id].getType&&D[Dt.id].getType()==="combo"&&c.updateCombo(D[Dt.id],Dt.children),!0})})}else f=c.addItem(t,n);if(t==="node"&&n.comboId||t==="combo"&&n.parentId){var E=this.findById(n.comboId||n.parentId);E&&E.getType&&E.getType()==="combo"&&E.addChild(f)}var X=this.get("combos");if(X&&X.length>0&&this.sortCombos(),this.autoPaint(),o&&this.get("enabledStack")){var rt=(0,Z.__assign)((0,Z.__assign)({},f.getModel()),{itemType:t}),ht={};switch(t){case"node":ht.nodes=[rt];break;case"edge":ht.edges=[rt];break;case"combo":ht.combos=[rt];break;default:break}this.pushStack("add",{before:{},after:ht})}return f},e.prototype.add=function(t,n,o,u){return o===void 0&&(o=!0),u===void 0&&(u=!0),this.addItem(t,n,o,u)},e.prototype.updateItem=function(t,n,o){var u=this;o===void 0&&(o=!0);var l=this.get("itemController"),c;(0,w.isString)(t)?c=this.findById(t):c=t;var f=(0,w.clone)(c.getModel()),h="";c.getType&&(h=c.getType());var v=(0,Z.__spreadArray)([],c.getStates(),!0);if(h==="combo"&&(0,w.each)(v,function(D){return u.setItemState(c,D,!1)}),l.updateItem(c,n),h==="combo"&&(0,w.each)(v,function(D){return u.setItemState(c,D,!0)}),o&&this.get("enabledStack")){var p={nodes:[],edges:[],combos:[]},g={nodes:[],edges:[],combos:[]},E=(0,Z.__assign)({id:f.id},n);switch(h){case"node":p.nodes.push(f),g.nodes.push(E);break;case"edge":p.edges.push(f),g.edges.push(E);break;case"combo":p.combos.push(f),g.combos.push(E);break;default:break}h==="node"&&p.nodes.push(f),this.pushStack("update",{before:p,after:g})}},e.prototype.update=function(t,n,o){o===void 0&&(o=!0),this.updateItem(t,n,o)},e.prototype.setItemState=function(t,n,o){(0,w.isString)(t)&&(t=this.findById(t));var u=this.get("itemController");u.setItemState(t,n,o);var l=this.get("stateController");(0,w.isString)(o)?l.updateState(t,"".concat(n,":").concat(o),!0):l.updateState(t,n,o)},e.prototype.priorityState=function(t,n){var o=this.get("itemController");o.priorityState(t,n)},e.prototype.data=function(t){CL(t),this.set("data",t)},e.prototype.render=function(){var t=this;this.set("comboSorted",!1);var n=this.get("data");if(this.get("enabledStack")&&this.clearStack(),!n)throw new Error("data must be defined first");var o=n.nodes,u=o===void 0?[]:o,l=n.edges,c=l===void 0?[]:l,f=n.combos,h=f===void 0?[]:f;if(this.clear(!0),this.emit("beforerender"),(0,w.each)(u,function(H){t.add("node",H,!1,!1)}),(h==null?void 0:h.length)!==0){var v=wA(h,u);this.set("comboTrees",v),t.addCombos(h)}(0,w.each)(c,function(H){t.add("edge",H,!1,!1)});var p=t.get("animate");(t.get("fitView")||t.get("fitCenter"))&&t.set("animate",!1);var g=t.get("layoutController");if(g){if(g.layout(E),this.destroyed)return}else t.get("fitView")&&t.fitView(),t.get("fitCenter")&&t.fitCenter(),t.emit("afterrender"),t.set("animate",p);function E(){t.get("fitView")?t.fitView():t.get("fitCenter")&&t.fitCenter(),t.autoPaint(),t.emit("afterrender"),(t.get("fitView")||t.get("fitCenter"))&&t.set("animate",p)}if(!this.get("groupByTypes"))if(h&&h.length!==0)this.sortCombos();else if(n.nodes&&n.edges&&n.nodes.length<n.edges.length){var D=this.getNodes();D.forEach(function(H){H.toFront()})}else{var G=this.getEdges();G.forEach(function(H){H.toBack()})}this.get("enabledStack")&&this.pushStack("render")},e.prototype.read=function(t){this.data(t),this.render()},e.prototype.diffItems=function(t,n,o){var u=this,l,c=this.get("itemMap");(0,w.each)(o,function(f){if(l=c[f.id],l){if(u.get("animate")&&t===itt){var h=l.getContainer().getMatrix();h||(h=[1,0,0,0,1,0,0,0,1]),l.set("originAttrs",{x:h[6],y:h[7]})}u.updateItem(l,f,!1)}else l=u.addItem(t,f,!1);l&&n["".concat(t,"s")].push(l)})},e.prototype.changeData=function(t,n){n===void 0&&(n=!0);var o=this,u=t||o.get("data");if(!CL(u))return this;n&&this.get("enabledStack")&&this.pushStack("changedata",{before:o.save(),after:u}),this.set("comboSorted",!1),this.removeHulls(),this.getNodes().map(function(H){return o.clearItemStates(H)}),this.getEdges().map(function(H){return o.clearItemStates(H)});var l=this.get("canvas"),c=l.get("localRefresh");l.set("localRefresh",!1),o.get("data")||(o.data(u),o.render());var f=this.get("itemMap"),h={nodes:[],edges:[]},v=u.combos;if(v){var p=wA(v,u.nodes);this.set("comboTrees",p)}else this.set("comboTrees",[]);this.diffItems("node",h,u.nodes),(0,w.each)(f,function(H,X){f[X].getModel().depth=0,!(H.getType&&H.getType()==="edge")&&(H.getType&&H.getType()==="combo"?(delete f[X],H.destroy()):h.nodes.indexOf(H)<0&&(delete f[X],o.remove(H,!1)))});for(var g=this.getCombos(),E=g.length,D=E-1;D>=0;D--)g[D].destroyed&&g.splice(D,1);v&&(o.addCombos(v),this.get("groupByTypes")||this.sortCombos()),this.diffItems("edge",h,u.edges),(0,w.each)(f,function(H,X){H.getType&&(H.getType()==="node"||H.getType()==="combo")||h.edges.indexOf(H)<0&&(delete f[X],o.remove(H,!1))}),this.set({nodes:h.nodes,edges:h.edges});var G=this.get("layoutController");return G&&(G.changeData(),o.get("animate")&&!G.getLayoutType()?o.positionsAnimate():o.autoPaint()),setTimeout(function(){l.set("localRefresh",c)},16),this},e.prototype.addCombos=function(t){var n=this,o=n.get("comboTrees"),u=this.get("itemController");u.addCombos(o,t)},e.prototype.createCombo=function(t,n){var o=this;this.set("comboSorted",!1);var u="",l;if(!!t){if((0,w.isString)(t))u=t,l={id:t};else{if(u=t.id,!u){console.warn("Create combo failed. Please assign a unique string id for the adding combo.");return}l=t}var c=n.map(function(h){var v=o.findById(h),p=v.getModel(),g="";v.getType&&(g=v.getType());var E={id:v.getID(),itemType:g};return g==="combo"?(E.parentId=u,p.parentId=u):g==="node"&&(E.comboId=u,p.comboId=u),E});l.children=c,this.addItem("combo",l,!1),this.set("comboSorted",!1);var f=this.get("comboTrees");(f||[]).forEach(function(h){h0(h,function(v){return v.id===u?(v.itemType="combo",v.children=c,!1):!0})}),f&&this.sortCombos()}},e.prototype.uncombo=function(t){var n=this,o,u=this,l=t;if((0,w.isString)(t)&&(l=this.findById(t)),!l||l.getType&&l.getType()!=="combo"){console.warn("The item is not a combo!");return}var c=l.getModel().parentId,f=u.get("comboTrees");f||(f=[]);var h=this.get("itemMap"),v=l.get("id"),p,g=[],E=this.get("combos"),D=this.findById(c);if(f.forEach(function(H){p||h0(H,function(X){var rt;if(X.id===v){p=X;var ht=l.getEdges().map(function(Dt){return Dt.getID()});ht.forEach(function(Dt){n.removeItem(Dt,!1)});var mt=E.indexOf(l);E.splice(mt,1),delete h[v],l.destroy(),n.emit("afterremoveitem",{item:l,type:"combo"})}if(c&&p&&X.id===c){D.removeCombo(l),g=X.children;var mt=g.indexOf(p);return mt!==-1&&g.splice(mt,1),(rt=p.children)===null||rt===void 0||rt.forEach(function(kt){var Vt=n.findById(kt.id),te=Vt.getModel();Vt.getType&&Vt.getType()==="combo"?(kt.parentId=c,delete kt.comboId,te.parentId=c,delete te.comboId):Vt.getType&&Vt.getType()==="node"&&(kt.comboId=c,te.comboId=c),D.addChild(Vt),g.push(kt)}),!1}return!0})}),!c&&p){var G=f.indexOf(p);f.splice(G,1),(o=p.children)===null||o===void 0||o.forEach(function(H){H.parentId=void 0;var X=n.findById(H.id).getModel();delete X.parentId,delete X.comboId,H.itemType!=="node"&&f.push(H)})}},e.prototype.updateCombos=function(t){var n=this;t===void 0&&(t=!1);var o=this,u=this.get("comboTrees"),l=o.get("itemController"),c=o.get("itemMap");(u||[]).forEach(function(f){h0(f,function(h){if(!h)return!0;var v=c[h.id];if(v&&v.getType&&v.getType()==="combo"){var p=(0,Z.__spreadArray)([],v.getStates(),!0);(0,w.each)(p,function(g){return n.setItemState(v,g,!1)}),l.updateCombo(v,h.children,t),(0,w.each)(p,function(g){return n.setItemState(v,g,!0)})}return!0})}),o.sortCombos()},e.prototype.updateCombo=function(t){var n=this,o=this,u=t,l;if((0,w.isString)(t)&&(u=this.findById(t)),!u||u.getType&&u.getType()!=="combo"){console.warn("The item to be updated is not a combo!");return}l=u.get("id");var c=this.get("comboTrees"),f=o.get("itemController"),h=o.get("itemMap");(c||[]).forEach(function(v){h0(v,function(p){if(!p)return!0;var g=h[p.id];if(l===p.id&&g&&g.getType&&g.getType()==="combo"){var E=(0,Z.__spreadArray)([],g.getStates(),!0);(0,w.each)(E,function(D){g.getStateStyle(D)&&n.setItemState(g,D,!1)}),f.updateCombo(g,p.children),(0,w.each)(E,function(D){g.getStateStyle(D)&&n.setItemState(g,D,!0)}),l&&(l=p.parentId)}return!0})})},e.prototype.updateComboTree=function(t,n,o){o===void 0&&(o=!0);var u=this;this.set("comboSorted",!1);var l;(0,w.isString)(t)?l=u.findById(t):l=t;var c=l.getModel(),f=c.comboId||c.parentId,h="";if(l.getType&&(h=l.getType()),n&&h==="combo"){var v=this.get("comboTrees"),p=!0,g;if((v||[]).forEach(function(rt){g||Kd(rt,function(ht){if(!g)return ht.id===l.getID()&&(g=ht),!0})}),Kd(g,function(rt){return rt.id===n?(p=!1,!1):!0}),!p){console.warn("Failed to update the combo tree! The parentId points to a descendant of the combo!");return}}if(o&&this.get("enabledStack")){var E={},D={};h==="combo"?(E.combos=[{id:c.id,parentId:c.parentId}],D.combos=[{id:c.id,parentId:n}]):h==="node"&&(E.nodes=[{id:c.id,parentId:c.comboId}],D.nodes=[{id:c.id,parentId:n}]),this.pushStack("updateComboTree",{before:E,after:D})}if(c.parentId||c.comboId){var G=this.findById(c.parentId||c.comboId);G&&G.removeChild(l)}if(h==="combo"?c.parentId=n:h==="node"&&(c.comboId=n),n){var H=this.findById(n);H&&H.addChild(l)}if(f){var H=this.findById(f);H&&H.removeChild(l)}var X=_A(this.get("comboTrees"),c.id,n);this.set("comboTrees",X),this.updateCombos()},e.prototype.save=function(){var t=[],n=[],o=[];return(0,w.each)(this.get("nodes"),function(u){t.push(u.getModel())}),(0,w.each)(this.get("edges"),function(u){n.push(u.getModel())}),(0,w.each)(this.get("combos"),function(u){o.push(u.getModel())}),{nodes:t,edges:n,combos:o}},e.prototype.changeSize=function(t,n){var o=this.get("viewController");return o.changeSize(t,n),this},e.prototype.refresh=function(){var t=this;if(t.emit("beforegraphrefresh"),t.get("animate"))t.positionsAnimate();else{var n=t.get("nodes"),o=t.get("edges"),u=t.get("edges");(0,w.each)(n,function(l){l.refresh()}),(0,w.each)(o,function(l){l.refresh()}),(0,w.each)(u,function(l){l.refresh()})}t.emit("aftergraphrefresh"),t.autoPaint()},e.prototype.getNodes=function(){return this.get("nodes")},e.prototype.getEdges=function(){return this.get("edges")},e.prototype.getCombos=function(){return this.get("combos")},e.prototype.getComboChildren=function(t){if((0,w.isString)(t)&&(t=this.findById(t)),!t||t.getType&&t.getType()!=="combo"){console.warn("The combo does not exist!");return}return t.getChildren()},e.prototype.positionsAnimate=function(t){var n=this;n.emit("beforeanimate");var o=n.get("animateCfg"),u=o.onFrame,l=t?n.getNodes().concat(n.getCombos()):n.getNodes(),c=l.map(function(h){var v=h.getModel();return{id:v.id,x:v.x,y:v.y}});n.isAnimating()&&n.stopAnimate();var f=n.get("canvas");f.animate(function(h){(0,w.each)(c,function(v){var p=n.findById(v.id);if(!(!p||p.destroyed)){var g=p.get("originAttrs"),E=p.get("model"),D=p.getContainer().getMatrix();if(g==null&&(D&&(g={x:D[6],y:D[7]}),p.set("originAttrs",g||0)),u){var G=u(p,h,v,g||{x:0,y:0});p.set("model",Object.assign(E,G))}else g?(E.x=g.x+(v.x-g.x)*h,E.y=g.y+(v.y-g.y)*h):(E.x=v.x,E.y=v.y)}}),n.refreshPositions(t)},{duration:o.duration,easing:o.easing,callback:function(){(0,w.each)(l,function(v){v.set("originAttrs",null)}),o.callback&&o.callback(),n.emit("afteranimate"),n.animating=!1}})},e.prototype.refreshPositions=function(t){var n=this;n.emit("beforegraphrefreshposition");var o=n.get("nodes"),u=n.get("edges"),l=n.get("vedges"),c=n.get("combos"),f,h={},v=function(g){(0,w.each)(g,function(E){f=E.getModel();var D=E.get("originAttrs");if(!(D&&f.x===D.x&&f.y===D.y)){var G=E.updatePosition({x:f.x,y:f.y});h[f.id]=G,f.comboId&&(h[f.comboId]=h[f.comboId]||G)}})};v(o),c&&c.length!==0&&(t?(v(c),setTimeout(function(){n.updateCombos()},0)):n.updateCombos()),(0,w.each)(u,function(p){var g=p.getSource().getModel(),E=p.getTarget();if(!(0,w.isPlainObject)(E)){var D=E.getModel();(h[g.id]||h[D.id]||p.getModel().isComboEdge)&&p.refresh()}}),(0,w.each)(l,function(p){p.refresh()}),n.emit("aftergraphrefreshposition"),n.autoPaint()},e.prototype.stopAnimate=function(){this.get("canvas").stopAnimate()},e.prototype.isAnimating=function(){return this.animating},e.prototype.getZoom=function(){var t=this.get("group").getMatrix();return t?t[0]:1},e.prototype.getCurrentMode=function(){var t=this.get("modeController");return t.getMode()},e.prototype.setMode=function(t){var n=this.get("modeController");return n.setMode(t),this},e.prototype.clear=function(t){var n;return t===void 0&&(t=!1),(n=this.get("canvas"))===null||n===void 0||n.clear(),this.initGroups(),this.set({itemMap:{},nodes:[],edges:[],groups:[],combos:[],comboTrees:[]}),t||this.emit("afterrender"),this},e.prototype.updateLayout=function(t,n,o){var u=this,l=this.get("layoutController");if((0,w.isString)(t)&&(t={type:t}),n){var c=o;c||(n==="begin"?c={x:0,y:0}:c={x:this.getWidth()/2,y:this.getHeight()/2}),c=this.getPointByCanvas(c.x,c.y);var f=["force","gForce","fruchterman"];f.includes(t.type)||!t.type&&f.includes(l==null?void 0:l.layoutType)?t.center=[c.x,c.y]:this.once("afterlayout",function(p){var g=u.getGroup().getMatrix()||[1,0,0,0,1,0,0,0,1];c.x=c.x*g[0]+g[6],c.y=c.y*g[0]+g[7];var E=u.getGroup().getCanvasBBox(),D=E.minX,G=E.maxX,H=E.minY,X=E.maxY,rt={x:(D+G)/2,y:(H+X)/2};n==="begin"&&(rt.x=D,rt.y=H),u.translate(c.x-rt.x,c.y-rt.y)})}var h=this.get("layout"),v={};Object.assign(v,h,t),this.set("layout",v),l&&(l.isLayoutTypeSame(v)&&v.gpuEnabled===h.gpuEnabled?l.updateLayoutCfg(v):l.changeLayout(v))},e.prototype.destroyLayout=function(){var t=this.get("layoutController");t==null||t.destroyLayout()},e.prototype.layout=function(){var t=this.get("layoutController"),n=this.get("layout");if(!(!n||!t)){if(n.workerEnabled){t.layout();return}t.layoutMethod?t.relayout(!0):t.layout()}},e.prototype.collapseCombo=function(t){var n=this;if(!this.destroyed){if((0,w.isString)(t)&&(t=this.findById(t)),!t){console.warn("The combo to be collapsed does not exist!");return}this.emit("beforecollapseexpandcombo",{action:"expand",item:t});var o=t.getModel(),u=this.get("itemController");u.collapseCombo(t),o.collapsed=!0;var l=this.getEdges().concat(this.get("vedges")),c=[],f=[],h=this.get("comboTrees"),v=!1;(h||[]).forEach(function(E){v||Kd(E,function(D){if(v&&D.depth<=o.depth)return!1;if(o.id===D.id&&(v=!0),v){var G=n.findById(D.id);G&&G.getType&&G.getType()==="combo"&&(c=c.concat(G.getNodes()),f=f.concat(G.getCombos()))}return!0})});var p={},g=[];l.forEach(function(E){if(!(E.isVisible()&&!E.getModel().isVEdge)){var D=E.getSource(),G=E.getTarget();if((c.includes(D)||f.includes(D))&&!c.includes(G)&&!f.includes(G)||D.getModel().id===o.id){var H=E.getModel();if(H.isVEdge){n.removeItem(E,!1);return}for(var X=G.getModel();!G.isVisible();){if(G=n.findById(X.parentId||X.comboId),!G||!X.parentId&&!X.comboId)return;X=G.getModel()}var rt=X.id;if(p["".concat(o.id,"-").concat(rt)]){p["".concat(o.id,"-").concat(rt)]+=H.size||1;return}var ht=n.addItem("vedge",{source:o.id,target:rt,isVEdge:!0},!1);p["".concat(o.id,"-").concat(rt)]=H.size||1,g.push(ht)}else if(!c.includes(D)&&!f.includes(D)&&(c.includes(G)||f.includes(G))||G.getModel().id===o.id){var H=E.getModel();if(H.isVEdge){n.removeItem(E,!1);return}for(var mt=D.getModel();!D.isVisible();){if(D=n.findById(mt.parentId||mt.comboId),!D||!mt.parentId&&!mt.comboId)return;mt=D.getModel()}var Dt=mt.id;if(p["".concat(Dt,"-").concat(o.id)]){p["".concat(Dt,"-").concat(o.id)]+=H.size||1;return}var ht=n.addItem("vedge",{target:o.id,source:Dt,isVEdge:!0},!1);p["".concat(Dt,"-").concat(o.id)]=H.size||1,g.push(ht)}}}),g.forEach(function(E){var D=E.getModel();n.updateItem(E,{size:p["".concat(D.source,"-").concat(D.target)]},!1)}),this.emit("aftercollapseexpandcombo",{action:"collapse",item:t})}},e.prototype.expandCombo=function(t){var n=this;if((0,w.isString)(t)&&(t=this.findById(t)),!t||t.getType&&t.getType()!=="combo"){console.warn("The combo to be collapsed does not exist!");return}this.emit("beforecollapseexpandcombo",{action:"expand",item:t});var o=t.getModel(),u=this.get("itemController");u.expandCombo(t),o.collapsed=!1;var l=this.getEdges().concat(this.get("vedges")),c=[],f=[],h=this.get("comboTrees"),v=!1;(h||[]).forEach(function(E){v||Kd(E,function(D){if(v&&D.depth<=o.depth)return!1;if(o.id===D.id&&(v=!0),v){var G=n.findById(D.id);G&&G.getType&&G.getType()==="combo"&&(c=c.concat(G.getNodes()),f=f.concat(G.getCombos()))}return!0})});var p={},g={};l.forEach(function(E){if(!(E.isVisible()&&!E.getModel().isVEdge)){var D=E.getSource(),G=E.getTarget(),H=D.get("id"),X=G.get("id");if((c.includes(D)||f.includes(D))&&!c.includes(G)&&!f.includes(G)||H===o.id){if(E.getModel().isVEdge){n.removeItem(E,!1);return}for(var rt=G.getModel();!G.isVisible();){if(G=n.findById(rt.comboId||rt.parentId),!G||!rt.parentId&&!rt.comboId)return;rt=G.getModel()}X=rt.id;for(var ht=D.getModel();!D.isVisible();){if(D=n.findById(ht.comboId||ht.parentId),!D||!ht.parentId&&!ht.comboId)return;if(ht.comboId===o.id||ht.parentId===o.id)break;ht=D.getModel()}if(H=ht.id,X){var mt="".concat(H,"-").concat(X);if(p[mt]){p[mt]+=E.getModel().size||1,n.updateItem(g[mt],{size:p[mt]},!1);return}var Dt=n.addItem("vedge",{source:H,target:X,isVEdge:!0},!1);p[mt]=E.getModel().size||1,g[mt]=Dt}}else if(!c.includes(D)&&!f.includes(D)&&(c.includes(G)||f.includes(G))||X===o.id){if(E.getModel().isVEdge){n.removeItem(E,!1);return}for(var ht=D.getModel();!D.isVisible();){if(D=n.findById(ht.comboId||ht.parentId),!D||!ht.parentId&&!ht.comboId)return;ht=D.getModel()}H=ht.id;for(var rt=G.getModel();!G.isVisible();){if(G=n.findById(rt.comboId||rt.parentId),!G||!rt.parentId&&!rt.comboId)return;if(rt.comboId===o.id||rt.parentId===o.id)break;rt=G.getModel()}if(X=rt.id,H){var mt="".concat(H,"-").concat(X);if(p[mt]){p[mt]+=E.getModel().size||1,n.updateItem(g[mt],{size:p[mt]},!1);return}var Dt=n.addItem("vedge",{target:X,source:H,isVEdge:!0},!1);p[mt]=E.getModel().size||1,g[mt]=Dt}}else(c.includes(D)||f.includes(D))&&(c.includes(G)||f.includes(G))&&D.isVisible()&&G.isVisible()&&E.show()}}),this.emit("aftercollapseexpandcombo",{action:"expand",item:t})},e.prototype.collapseExpandCombo=function(t){if((0,w.isString)(t)&&(t=this.findById(t)),!(!t||t.getType&&t.getType()!=="combo")){for(var n=t.getModel(),o=this.findById(n.parentId);o;){var u=o.getModel();if(u.collapsed){console.warn("Fail to expand the combo since it's ancestor combo is collapsed."),o=void 0;return}o=this.findById(u.parentId)}var l=n.collapsed;l?this.expandCombo(t):this.collapseCombo(t),this.updateCombo(t)}},e.prototype.sortCombos=function(){var t=this,n=this.get("comboSorted");if(!n){this.set("comboSorted",!0);var o=[],u={},l=this.get("comboTrees");(l||[]).forEach(function(f){Kd(f,function(h){return o[h.depth]?o[h.depth].push(h.id):o[h.depth]=[h.id],u[h.id]=h.depth,!0})});var c=this.getEdges().concat(this.get("vedges"));(c||[]).forEach(function(f){var h=f.getModel(),v=u[h.source]||0,p=u[h.target]||0,g=Math.max(v,p);o[g]?o[g].push(h.id):o[g]=[h.id]}),o.forEach(function(f){if(!(!f||!f.length))for(var h=f.length-1;h>=0;h--){var v=t.findById(f[h]);v&&v.toFront()}})}},e.prototype.getNeighbors=function(t,n){var o=t;return(0,w.isString)(t)&&(o=this.findById(t)),o.getNeighbors(n)},e.prototype.getNodeDegree=function(t,n,o){n===void 0&&(n=void 0),o===void 0&&(o=!1);var u=t;(0,w.isString)(t)&&(u=this.findById(t));var l=this.get("degrees");(!l||o)&&(l=cb(this.save()),this.set("degrees",l));var c=l[u.getID()],f=0;if(!c)return 0;switch(n){case"in":f=c.inDegree;break;case"out":f=c.outDegree;break;case"all":f=c;break;default:f=c.degree;break}return f},e.prototype.getUndoStack=function(){return this.undoStack},e.prototype.getRedoStack=function(){return this.redoStack},e.prototype.getStackData=function(){return this.get("enabledStack")?{undoStack:this.undoStack.toArray(),redoStack:this.redoStack.toArray()}:null},e.prototype.clearStack=function(){this.get("enabledStack")&&(this.undoStack.clear(),this.redoStack.clear())},e.prototype.pushStack=function(t,n,o){if(t===void 0&&(t="update"),o===void 0&&(o="undo"),!this.get("enabledStack")){console.warn("\u8BF7\u5148\u542F\u7528 undo & redo \u529F\u80FD\uFF0C\u5728\u5B9E\u4F8B\u5316 Graph \u65F6\u5019\u914D\u7F6E enabledStack: true !");return}var u=n?(0,w.clone)(n):{before:{},after:(0,w.clone)(this.save())};o==="redo"?this.redoStack.push({action:t,data:u}):this.undoStack.push({action:t,data:u}),this.emit("stackchange",{undoStack:this.undoStack,redoStack:this.redoStack})},e.prototype.getAdjMatrix=function(t,n){t===void 0&&(t=!0),n===void 0&&(n=this.get("directed"));var o=this.get("adjMatrix");return(!o||!t)&&(o=vy(this.save(),n),this.set("adjMatrix",o)),o},e.prototype.getShortestPathMatrix=function(t,n){t===void 0&&(t=!0),n===void 0&&(n=this.get("directed"));var o=this.get("adjMatrix"),u=this.get("shortestPathMatrix");return(!o||!t)&&(o=vy(this.save(),n),this.set("adjMatrix",o)),(!u||!t)&&(u=hb(this.save(),n),this.set("shortestPathMatrix",u)),u},e.prototype.on=function(t,n,o){return a.prototype.on.call(this,t,n,o)},e.prototype.destroy=function(){var t,n,o,u,l;this.clear(),this.clearStack(),(t=this.get("itemController"))===null||t===void 0||t.destroy(),(n=this.get("modeController"))===null||n===void 0||n.destroy(),(o=this.get("viewController"))===null||o===void 0||o.destroy(),(u=this.get("stateController"))===null||u===void 0||u.destroy(),(l=this.get("canvas"))===null||l===void 0||l.destroy(),this.cfg=null,this.destroyed=!0,this.redoStack=null,this.undoStack=null},e.prototype.createHull=function(t){if(!t.members||t.members.length<1){console.warn("Create hull failed! The members is empty.");return}var n=this.get("hullGroup"),o=this.get("hullMap");if(o||(o={},this.set("hullMap",o)),(!n||n.get("destroyed"))&&(n=this.get("group").addGroup({id:"hullGroup"}),n.toBack(),this.set("hullGroup",n)),o[t.id])return console.warn("Existed hull id."),o[t.id];var u=n.addGroup({id:"".concat(t.id,"-container")}),l=new QL(this,(0,Z.__assign)((0,Z.__assign)({},t),{group:u})),c=l.id;return o[c]=l,l},e.prototype.getHulls=function(){return this.get("hullMap")},e.prototype.getHullById=function(t){return this.get("hullMap")[t]},e.prototype.removeHull=function(t){var n,o;(0,w.isString)(t)?o=this.getHullById(t):o=t,(n=this.get("hullMap"))===null||n===void 0||delete n[o.id],o.destroy()},e.prototype.removeHulls=function(){var t=this.getHulls();!t||!Object.keys(t).length||(Object.keys(t).forEach(function(n){var o=t[n];o.destroy()}),this.set("hullMap",{}))},e}(cc),JL=att;function BA(a){return BA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},BA(a)}var t1=ka,qL="-shape",GA="-label",US=["startArrow","endArrow"],tR={lineWidth:1,stroke:void 0,fill:void 0,lineAppendWidth:1,opacity:void 0,strokeOpacity:void 0,fillOpacity:void 0,x:0,y:0,r:10,width:20,height:20,shadowColor:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0},ott={lineWidth:1,stroke:"#000",lineDash:void 0,startArrow:!1,endArrow:!1,opacity:void 0,strokeOpacity:void 0,fillOpacity:void 0,shadowColor:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0},jS={edge:ott,node:tR,combo:tR},zA="-label-bg",UA={options:{labelCfg:{style:{fontFamily:ji.windowFontFamily}},descriptionCfg:{style:{fontFamily:ji.windowFontFamily}}},itemType:"",type:"",getCustomConfig:function(e){return{}},getOptions:function(e,t){return t==="move"||(t==null?void 0:t.includes("bbox"))?{}:(0,w.deepMix)({},this.options,this.getCustomConfig(e)||{},e)},draw:function(e,t){t.shapeMap={},this.mergeStyle=this.getOptions(e);var n=this.drawShape(e,t);if(n.set("className",this.itemType+qL),t.shapeMap[this.itemType+qL]=n,e.label){var o=this.drawLabel(e,t);o.set("className",this.itemType+GA),t.shapeMap[this.itemType+GA]=o}return n},afterDraw:function(e,t,n){},drawShape:function(e,t){return null},drawLabel:function(e,t){var n=(this.mergeStyle||this.getOptions(e)||{}).labelCfg,o=n||{},u=this.getLabelStyle(e,o,t),l=u.rotate;delete u.rotate;var c=t.addShape("text",{attrs:u,draggable:!0,className:"text-shape",name:"text-shape",labelRelated:!0});if(t.shapeMap["text-shape"]=c,!isNaN(l)&&l!==""){var f=c.getBBox(),h=[1,0,0,0,1,0,0,0,1];if(u.rotateCenter)switch(u.rotateCenter){case"center":h=t1(h,[["t",-f.width/2,-f.height/2],["r",l],["t",f.width/2,f.height/2]]);break;case"lefttop":h=t1(h,[["t",-u.x,-u.y],["r",l],["t",u.x,u.y]]);break;case"leftcenter":h=t1(h,[["t",-u.x,-u.y-f.height/2],["r",l],["t",u.x,u.y+f.height/2]]);break;default:h=t1(h,[["t",-f.width/2,-f.height/2],["r",l],["t",f.width/2,f.height/2]]);break}else h=t1(h,[["t",-u.x,-u.y-f.height/2],["r",l],["t",u.x,u.y+f.height/2]]);c.setMatrix(h)}if(u.background){var v=this.drawLabelBg(e,t,c),p=this.itemType+zA;v.set("classname",p),t.shapeMap[p]=v,c.toFront()}return c},drawLabelBg:function(e,t,n){var o=this.options.labelCfg,u=(0,w.mix)({},o,e.labelCfg),l=this.getLabelBgStyleByPosition(n,u),c=t.addShape("rect",{name:"text-bg-shape",attrs:l,labelRelated:!0});return t.shapeMap["text-bg-shape"]=c,c},getLabelStyleByPosition:function(e,t,n){return{text:e.label}},getLabelBgStyleByPosition:function(e,t){return{}},getLabelStyle:function(e,t,n){var o=this.getLabelStyleByPosition(e,t,n),u="".concat(this.itemType,"Label"),l=ji[u]?ji[u].style:null;return(0,Z.__assign)((0,Z.__assign)((0,Z.__assign)({},l),o),t.style)},getShapeStyle:function(e){return e.style},update:function(e,t,n){this.updateShapeStyle(e,t,n),this.updateLabel(e,t,n)},updateShapeStyle:function(e,t,n){var o,u=t.getContainer(),l=t.getKeyShape(),c=(0,w.mix)({},l.attr(),e.style),f=function(p){var g,E=c[p];if((0,w.isPlainObject)(E)){var D=((o=u.shapeMap)===null||o===void 0?void 0:o[p])||u.find(function(G){return G.get("name")===p});D==null||D.attr(E)}else l.attr((g={},g[p]=E,g))};for(var h in c)f(h)},updateLabel:function(e,t,n){var o,u;if(e.label||e.label===""){var l=t.getContainer(),c=(this.mergeStyle||this.getOptions({},n)||{}).labelCfg,f=c===void 0?{}:c,h=this.itemType+GA,v=l.shapeMap[h]||l.find(function(mt){return mt.get("className")===h}),p=this.itemType+zA,g=l.shapeMap[p]||l.find(function(mt){return mt.get("className")===p});if(v){(!n||n==="bbox|label"||this.itemType==="edge"&&n!=="style")&&(f=(0,w.deepMix)(f,e.labelCfg));var D=this.getLabelStyleByPosition(e,f,l),G=(o=e.labelCfg)===null||o===void 0?void 0:o.style,H=(0,Z.__assign)((0,Z.__assign)({},D),G),X=H.rotate;if(delete H.rotate,!isNaN(X)&&X!==""){var rt=[1,0,0,0,1,0,0,0,1];rt=t1(rt,[["t",-H.x,-H.y],["r",X],["t",H.x,H.y]]),H.matrix=rt,v.attr(H)}else((u=v.getMatrix())===null||u===void 0?void 0:u[4])!==1&&v.resetMatrix(),v.attr(H);if(!g)H.background&&(g=this.drawLabelBg(e,l,v),g.set("classname",p),l.shapeMap[p]=g,v.toFront());else if(H.background){var ht=this.getLabelBgStyleByPosition(v,f);g.attr(ht)}else l.removeChild(g)}else{var E=this.drawLabel(e,l);E.set("className",h),l.shapeMap[h]=E}}},afterUpdate:function(e,t){},setState:function(e,t,n){var o,u,l,c=n.get("keyShape");if(!(!c||c.destroyed)){var f=n.getType(),h=(0,w.isBoolean)(t)?e:"".concat(e,":").concat(t),v=this.getStateStyle(h,n),p=n.getStateStyle(h);if(!(!p&&!v)){var g=(0,w.mix)({},p||v),E=n.getContainer(),D={x:1,y:1,cx:1,cy:1,matrix:1};if(f==="combo"&&(D.r=1,D.width=1,D.height=1),t){var G=function(nr){var Gr,en=g[nr];if((0,w.isPlainObject)(en)&&!US.includes(nr)){var cr=((l=E.shapeMap)===null||l===void 0?void 0:l[nr])||E.find(function(Fr){return Fr.get("name")===nr});cr==null||cr.attr(en)}else c.attr((Gr={},Gr[nr]=en,Gr))};for(var H in g)G(H)}else{var X=RS(n.getCurrentStatesStyle()),rt=n.getModel(),ht=(0,w.mix)({},rt.style,RS(n.getOriginStyle())),mt=c.get("name"),Dt=c.attr(),kt={};Object.keys(Dt).forEach(function(Vr){if(Vr!=="img"){var nr=Dt[Vr];nr&&BA(nr)==="object"?kt[Vr]=(0,w.clone)(nr):kt[Vr]=nr}});var Vt={},te=function(nr){var Gr=g[nr];if((0,w.isPlainObject)(Gr)&&!US.includes(nr)){var en=E.shapeMap[nr]||E.find(function(qr){return qr.get("name")===nr});if(en){var cr=RS(en.attr());(0,w.each)(Gr,function(qr,_r){if(nr===mt&&kt[_r]&&!D[_r]){delete kt[_r];var kr=ht[nr][_r]||jS[f][_r];c.attr(_r,kr)}else if(cr[_r]||cr[_r]===0){delete cr[_r];var Yr=ht[nr][_r]||jS[f][_r];en.attr(_r,Yr)}}),Vt[nr]=cr}}else if(kt[nr]&&!D[nr]){delete kt[nr];var Fr=ht[nr]||(ht[mt]?ht[mt][nr]:void 0)||jS[f][nr];c.attr(nr,Fr)}};for(var le in g)te(le);mt?Vt[mt]=kt:(0,w.mix)(Vt,kt);for(var H in X)if(!D[H]){var pe=X[H];(!(0,w.isPlainObject)(pe)||US.includes(H))&&(mt?((0,w.mix)(ht[mt],(u={},u[H]=pe,u)),delete ht[H]):(0,w.mix)(ht,(o={},o[H]=pe,o)),delete X[H])}var De={};(0,w.deepMix)(De,ht,Vt,X);var Xe=!1,pr=function(nr){var Gr,en,cr=De[nr];if((0,w.isPlainObject)(cr)&&!US.includes(nr)){var Fr=E.shapeMap[nr]||E.find(function(_r){return _r.get("name")===nr});Fr&&((Fr.get("type")==="text"||Fr.get("labelRelated"))&&(delete cr.x,delete cr.y,delete cr.matrix),nr===mt&&(f==="combo"&&(delete cr.r,delete cr.width,delete cr.height),Xe=!0),Fr.attr(cr))}else if(!Xe){var qr=cr||jS[f][nr];f==="combo"?mt||c.attr((Gr={},Gr[nr]=qr,Gr)):c.attr((en={},en[nr]=qr,en))}};for(var yr in De)pr(yr)}}}},getStateStyle:function(e,t){var n=t.getModel(),o=t.getType(),u=this.getOptions(n),l=u.stateStyles,c=u.style,f=c===void 0?{}:c,h=n.stateStyles?n.stateStyles[e]:l&&l[e];return o==="combo"?(0,w.clone)(h):(0,w.mix)({},f,h)},getControlPoints:function(e){return e.controlPoints},getAnchorPoints:function(e){var t,n,o=(e==null?void 0:e.anchorPoints)||((t=this.getCustomConfig(e))===null||t===void 0?void 0:t.anchorPoints)||((n=this.options)===null||n===void 0?void 0:n.anchorPoints);return o}},stt={itemType:"node",shapeType:"single-node",labelPosition:"center",offset:ji.nodeLabel.offset,getSize:function(e){var t,n=((t=this.mergeStyle)===null||t===void 0?void 0:t.size)||e.size||this.getOptions({}).size||ji.defaultNode.size;return(0,w.isArray)(n)&&n.length===1&&(n=[n[0],n[0]]),(0,w.isArray)(n)||(n=[n,n]),n},getLabelStyleByPosition:function(e,t){var n=t.position||this.labelPosition;if(n==="center")return{x:0,y:0,text:e.label,textBaseline:"middle",textAlign:"center"};var o=t.offset;(0,w.isNil)(o)&&(o=this.offset);var u=this.getSize(e),l;switch(n){case"top":l={x:0,y:-u[1]/2-o,textBaseline:"bottom",textAlign:"center"};break;case"bottom":l={x:0,y:u[1]/2+o,textBaseline:"top",textAlign:"center"};break;case"left":l={x:-u[0]/2-o,y:0,textBaseline:"middle",textAlign:"right"};break;default:l={x:u[0]/2+o,y:0,textBaseline:"middle",textAlign:"left"};break}return l.text=e.label,l},getLabelBgStyleByPosition:function(e,t){var n;if(!e)return{};var o=(n=t.style)===null||n===void 0?void 0:n.background;if(!o)return{};var u=e.getBBox(),l=CA(o.padding),c=u.width+l[1]+l[3],f=u.height+l[0]+l[2];return(0,Z.__assign)((0,Z.__assign)({x:u.minX-l[3],y:u.minY-l[0]},o),{width:c,height:f})},drawShape:function(e,t){var n=this.shapeType,o=this.getShapeStyle(e),u=t.addShape(n,{attrs:o,draggable:!0,name:"node-shape"});return t.shapeMap["node-shape"]=u,u},updateLinkPoints:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).linkPoints,o=t.shapeMap["link-point-left"]||t.find(function(De){return De.get("className")==="link-point-left"}),u=t.shapeMap["link-point-right"]||t.find(function(De){return De.get("className")==="link-point-right"}),l=t.shapeMap["link-point-top"]||t.find(function(De){return De.get("className")==="link-point-top"}),c=t.shapeMap["link-point-bottom"]||t.find(function(De){return De.get("className")==="link-point-bottom"}),f;o&&(f=o.attr()),u&&!f&&(f=u.attr()),l&&!f&&(f=l.attr()),c&&!f&&(f=c.attr()),f||(f=n);var h=(0,w.mix)({},f,e.linkPoints),v=h.fill,p=h.stroke,g=h.lineWidth,E=h.size/2;E||(E=h.r);var D=e.linkPoints?e.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},G=D.left,H=D.right,X=D.top,rt=D.bottom,ht=this.getSize(e),mt=ht[0],Dt=ht[1],kt={r:E,fill:v,stroke:p,lineWidth:g};if(o)!G&&G!==void 0?(o.remove(),delete t.shapeMap["link-point-left"]):o.attr((0,Z.__assign)((0,Z.__assign)({},kt),{x:-mt/2,y:0}));else if(G){var Vt="link-point-left";t.shapeMap[Vt]=t.addShape("circle",{attrs:(0,Z.__assign)((0,Z.__assign)({},kt),{x:-mt/2,y:0}),className:Vt,name:Vt,isAnchorPoint:!0})}if(u)!H&&H!==void 0&&(u.remove(),delete t.shapeMap["link-point-right"]),u.attr((0,Z.__assign)((0,Z.__assign)({},kt),{x:mt/2,y:0}));else if(H){var te="link-point-right";t.shapeMap[te]=t.addShape("circle",{attrs:(0,Z.__assign)((0,Z.__assign)({},kt),{x:mt/2,y:0}),className:te,name:te,isAnchorPoint:!0})}if(l)!X&&X!==void 0&&(l.remove(),delete t.shapeMap["link-point-top"]),l.attr((0,Z.__assign)((0,Z.__assign)({},kt),{x:0,y:-Dt/2}));else if(X){var le="link-point-top";t.shapeMap[le]=t.addShape("circle",{attrs:(0,Z.__assign)((0,Z.__assign)({},kt),{x:0,y:-Dt/2}),className:le,name:le,isAnchorPoint:!0})}if(c)!rt&&rt!==void 0?(c.remove(),delete t.shapeMap["link-point-bottom"]):c.attr((0,Z.__assign)((0,Z.__assign)({},kt),{x:0,y:Dt/2}));else if(rt){var pe="link-point-bottom";t.shapeMap[pe]=t.addShape("circle",{attrs:(0,Z.__assign)((0,Z.__assign)({},kt),{x:0,y:Dt/2}),className:pe,name:pe,isAnchorPoint:!0})}},updateShape:function(e,t,n,o,u){var l=t.get("keyShape");l.attr((0,Z.__assign)({},n)),this.updateLabel(e,t,u),o&&this.updateIcon(e,t)},updateIcon:function(e,t){var n=this,o=t.getContainer(),u=(this.mergeStyle||this.getOptions(e)).icon,l=e.icon?e.icon:{show:void 0,text:void 0},c=l.show,f=l.text,h=o.shapeMap["".concat(this.type,"-icon")]||o.find(function(X){return X.get("name")==="".concat(n.type,"-icon")});if(h)if(c||c===void 0){var v=(0,w.mix)({},h.attr(),u),p=v.width,g=p===void 0?20:p,E=v.height,D=E===void 0?20:E;(v.fontFamily==="iconfont"||v.hasOwnProperty("text"))&&(g=0,D=0),h.attr((0,Z.__assign)((0,Z.__assign)({},v),{x:-g/2,y:-D/2}))}else h.remove();else if(c){var G="".concat(this.type,"-icon");if(f)o.shapeMap[G]=o.addShape("text",{attrs:(0,Z.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},u),className:G,name:G});else{var g=u.width,D=u.height;o.shapeMap[G]=o.addShape("image",{attrs:(0,Z.__assign)((0,Z.__assign)({},u),{x:-g/2,y:-D/2}),className:G,name:G})}var H=o.shapeMap["node-label"]||o.find(function(X){return X.get("name")==="node-label"});H&&H.toFront()}}},utt=(0,Z.__assign)((0,Z.__assign)({},UA),stt);Af.registerNode("single-node",utt);var WS="edge-shape";function ltt(a){var e=a;return a==="start"?e="end":a==="end"&&(e="start"),e}var ctt={itemType:"edge",labelPosition:"center",refX:0,refY:0,labelAutoRotate:!1,options:{size:ji.defaultEdge.size,style:{x:0,y:0,stroke:ji.defaultEdge.style.stroke,lineAppendWidth:ji.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:ji.edgeLabel.style.fill,fontSize:ji.edgeLabel.style.fontSize,fontFamily:ji.windowFontFamily}},stateStyles:(0,Z.__assign)({},ji.edgeStateStyles)},getPath:function(e){var t=[];return(0,w.each)(e,function(n,o){o===0?t.push(["M",n.x,n.y]):t.push(["L",n.x,n.y])}),t},getShapeStyle:function(e){var t=this.options.style,n={stroke:e.color},o=(0,w.mix)({},t,n,e.style),u=e.size||ji.defaultEdge.size;e=this.getPathPoints(e);var l=e.startPoint,c=e.endPoint,f=this.getControlPoints(e),h=[l];f&&(h=h.concat(f)),h.push(c);var v=this.getPath(h),p=(0,w.mix)({},ji.defaultEdge.style,{stroke:ji.defaultEdge.color,lineWidth:u,path:v},o);return p},updateShapeStyle:function(e,t,n){var o,u=t.getContainer(),l=((o=t.getKeyShape)===null||o===void 0?void 0:o.call(t))||u.shapeMap["edge-shape"],c=e.size;e=this.getPathPoints(e);var f=e.startPoint,h=e.endPoint,v=this.getControlPoints(e),p=[f];v&&(p=p.concat(v)),p.push(h);var g=l.attr(),E=e.style||{};E.stroke===void 0&&(E.stroke=e.color);var D=e.sourceNode,G=e.targetNode,H={radius:E.radius};v||(H={source:D,target:G,offset:E.offset,radius:E.radius});var X=this.getPath(p,H),rt={};n==="move"?rt={path:X}:(g.endArrow&&E.endArrow===!1&&(e.style.endArrow={path:""}),g.startArrow&&E.startArrow===!1&&(e.style.startArrow={path:""}),rt=(0,Z.__assign)({},e.style),rt.lineWidth===void 0&&(rt.lineWdith=((0,w.isNumber)(c)?c:c==null?void 0:c[0])||g.lineWidth),rt.path===void 0&&(rt.path=X),rt.stroke===void 0&&(rt.stroke=g.stroke||e.color)),l&&l.attr(rt)},getLabelStyleByPosition:function(e,t,n){var o=t.position||this.labelPosition,u={},l=n==null?void 0:n.shapeMap[WS],c;o==="start"?c=0:o==="end"?c=1:c=.5;var f=t.refX||this.refX,h=t.refY||this.refY;if(e.startPoint.x===e.endPoint.x&&e.startPoint.y===e.endPoint.y)return u.x=e.startPoint.x+f,u.y=e.startPoint.y+h,u.text=e.label,u;var v;(0,w.isNil)(t.autoRotate)?v=this.labelAutoRotate:v=t.autoRotate;var p=SL(l,c,f,h,v);return u.x=p.x,u.y=p.y,u.rotate=p.rotate,u.textAlign=this._getTextAlign(o,p.angle),u.text=e.label,u},getLabelBgStyleByPosition:function(e,t){if(!e)return{};var n=e.getBBox(),o=t.style&&t.style.background;if(!o)return{};var u=o.padding,l=n.width+u[1]+u[3],c=n.height+u[0]+u[2],f=(0,Z.__assign)((0,Z.__assign)({},o),{width:l,height:c,x:n.minX-u[3],y:n.minY-u[0],matrix:[1,0,0,0,1,0,0,0,1]}),h;return(0,w.isNil)(t.autoRotate)?h=this.labelAutoRotate:h=t.autoRotate,h&&(f.matrix=e.attr("matrix")||[1,0,0,0,1,0,0,0,1]),f},_getTextAlign:function(e,t){var n="center";return t?(t=t%(Math.PI*2),e!=="center"&&(t>=0&&t<=Math.PI/2||t>=3/2*Math.PI&&t<2*Math.PI?n=e:n=ltt(e)),n):e},getControlPoints:function(e){return e.controlPoints},getPathPoints:function(e){return e},drawShape:function(e,t){var n=this.getShapeStyle(e),o=t.addShape("path",{className:WS,name:WS,attrs:n});return t.shapeMap[WS]=o,o},drawLabel:function(e,t){var n=this.options.labelCfg,o=(0,w.deepMix)({},n,e.labelCfg),u=this.getLabelStyle(e,o,t),l=u.rotate;delete u.rotate;var c=t.addShape("text",{attrs:u,name:"text-shape",labelRelated:!0});if(t.shapeMap["text-shape"]=c,!isNaN(l)&&l!==""&&c.rotateAtStart(l),u.background){var f=this.drawLabelBg(e,t,c,u,l),h=this.itemType+zA;f.set("classname",h),t.shapeMap[h]=f,c.toFront()}return c},drawLabelBg:function(e,t,n,o,u){var l=this.options.labelCfg,c=(0,w.deepMix)({},l,e.labelCfg),f=this.getLabelBgStyleByPosition(n,c),h=t.addShape("rect",{name:"text-bg-shape",attrs:f,labelRelated:!0});return t.shapeMap["text-bg-shape"]=h,h}},ftt=(0,Z.__assign)((0,Z.__assign)({},UA),ctt);Af.registerEdge("single-edge",ftt),Af.registerEdge("line",{getControlPoints:function(){}},"single-edge"),Af.registerEdge("spline",{getPath:function(e){var t=jL(e);return t}},"single-edge"),Af.registerEdge("arc",{curveOffset:20,clockwise:1,getControlPoints:function(e){var t=e.startPoint,n=e.endPoint,o={x:(t.x+n.x)/2,y:(t.y+n.y)/2},u,l;if(e.controlPoints!==void 0){if(l=e.controlPoints[0],u=pA(t,l,n),t.x<=n.x&&t.y>n.y?this.clockwise=u.x>l.x?0:1:t.x<=n.x&&t.y<n.y?this.clockwise=u.x>l.x?1:0:t.x>n.x&&t.y<=n.y?this.clockwise=u.y<l.y?0:1:this.clockwise=u.y<l.y?1:0,(l.x-t.x)/(l.y-t.y)===(n.x-t.x)/(n.y-t.y))return[]}else{e.curveOffset===void 0&&(e.curveOffset=this.curveOffset),(0,w.isArray)(e.curveOffset)&&(e.curveOffset=e.curveOffset[0]),e.curveOffset<0?this.clockwise=0:this.clockwise=1;var c={x:n.x-t.x,y:n.y-t.y},f=Math.atan2(c.y,c.x);l={x:e.curveOffset*Math.cos(-Math.PI/2+f)+o.x,y:e.curveOffset*Math.sin(-Math.PI/2+f)+o.y},u=pA(t,l,n)}var h=MS(t,u),v=[{x:h,y:h}];return v},getPath:function(e){var t=[];return t.push(["M",e[0].x,e[0].y]),e.length===2?t.push(["L",e[1].x,e[1].y]):t.push(["A",e[1].x,e[1].y,0,0,this.clockwise,e[2].x,e[2].y]),t}},"single-edge"),Af.registerEdge("quadratic",{curvePosition:.5,curveOffset:-20,getControlPoints:function(e){var t=e.controlPoints;if(!t||!t.length){var n=e.startPoint,o=e.endPoint;e.curveOffset===void 0&&(e.curveOffset=this.curveOffset),e.curvePosition===void 0&&(e.curvePosition=this.curvePosition),(0,w.isArray)(this.curveOffset)&&(e.curveOffset=e.curveOffset[0]),(0,w.isArray)(this.curvePosition)&&(e.curvePosition=e.curveOffset[0]);var u=zS(n,o,e.curvePosition,e.curveOffset);t=[u]}return t},getPath:function(e){var t=[];return t.push(["M",e[0].x,e[0].y]),t.push(["Q",e[1].x,e[1].y,e[2].x,e[2].y]),t}},"single-edge"),Af.registerEdge("cubic",{curvePosition:[1/2,1/2],curveOffset:[-20,20],getControlPoints:function(e){var t=e.controlPoints;if(e.curveOffset===void 0&&(e.curveOffset=this.curveOffset),e.curvePosition===void 0&&(e.curvePosition=this.curvePosition),(0,w.isNumber)(e.curveOffset)&&(e.curveOffset=[e.curveOffset,-e.curveOffset]),(0,w.isNumber)(e.curvePosition)&&(e.curvePosition=[e.curvePosition,1-e.curvePosition]),!t||!t.length||t.length<2){var n=e.startPoint,o=e.endPoint,u=zS(n,o,e.curvePosition[0],e.curveOffset[0]),l=zS(n,o,e.curvePosition[1],e.curveOffset[1]);t=[u,l]}return t},getPath:function(e){var t=[];return t.push(["M",e[0].x,e[0].y]),t.push(["C",e[1].x,e[1].y,e[2].x,e[2].y,e[3].x,e[3].y]),t}},"single-edge"),Af.registerEdge("cubic-vertical",{curvePosition:[1/2,1/2],minCurveOffset:[0,0],curveOffset:void 0,getControlPoints:function(e){var t=e.startPoint,n=e.endPoint;e.curvePosition===void 0&&(e.curvePosition=this.curvePosition),e.curveOffset===void 0&&(e.curveOffset=this.curveOffset),e.minCurveOffset===void 0&&(e.minCurveOffset=this.minCurveOffset),(0,w.isNumber)(e.curveOffset)&&(e.curveOffset=[e.curveOffset,-e.curveOffset]),(0,w.isNumber)(e.minCurveOffset)&&(e.minCurveOffset=[e.minCurveOffset,-e.minCurveOffset]),(0,w.isNumber)(e.curvePosition)&&(e.curvePosition=[e.curvePosition,1-e.curvePosition]);var o=n.y-t.y,u=[0,0];e.curveOffset?u=e.curveOffset:Math.abs(o)<Math.abs(e.minCurveOffset[0])&&(u=e.minCurveOffset);var l={x:t.x,y:t.y+o*this.curvePosition[0]+u[0]},c={x:n.x,y:n.y-o*this.curvePosition[1]+u[1]};return[l,c]}},"cubic"),Af.registerEdge("cubic-horizontal",{curvePosition:[1/2,1/2],minCurveOffset:[0,0],curveOffset:void 0,getControlPoints:function(e){var t=e.startPoint,n=e.endPoint;e.curvePosition===void 0&&(e.curvePosition=this.curvePosition),e.curveOffset===void 0&&(e.curveOffset=this.curveOffset),e.minCurveOffset===void 0&&(e.minCurveOffset=this.minCurveOffset),(0,w.isNumber)(e.curveOffset)&&(e.curveOffset=[e.curveOffset,-e.curveOffset]),(0,w.isNumber)(e.minCurveOffset)&&(e.minCurveOffset=[e.minCurveOffset,-e.minCurveOffset]),(0,w.isNumber)(e.curvePosition)&&(e.curvePosition=[e.curvePosition,1-e.curvePosition]);var o=n.x-t.x,u=[0,0];e.curveOffset?u=e.curveOffset:Math.abs(o)<Math.abs(e.minCurveOffset[0])&&(u=e.minCurveOffset);var l={x:t.x+o*this.curvePosition[0]+u[0],y:t.y},c={x:n.x-o*this.curvePosition[1]+u[1],y:n.y},f=[l,c];return f}},"cubic"),Af.registerEdge("loop",{getPathPoints:function(e){return EL(e)},getControlPoints:function(e){return e.controlPoints},afterDraw:function(e){e.controlPoints=void 0},afterUpdate:function(e){e.controlPoints=void 0}},"cubic");var htt={itemType:"combo",shapeType:"single-combo",labelPosition:"top",refX:ji.comboLabel.refX,refY:ji.comboLabel.refY,options:{style:{stroke:ji.defaultCombo.style.stroke,fill:ji.defaultCombo.style.fill,lineWidth:ji.defaultCombo.style.lineWidth},labelCfg:{style:{fill:ji.comboLabel.style.fill,fontSize:ji.comboLabel.style.fontSize,fontFamily:ji.windowFontFamily}},stateStyles:(0,Z.__assign)({},ji.comboStateStyles)},getSize:function(e){var t=(0,w.clone)(e.size||this.options.size||ji.defaultCombo.size);return(0,w.isArray)(t)&&t.length===1&&(t=[t[0],t[0]]),(0,w.isArray)(t)||(t=[t,t]),t},getLabelStyleByPosition:function(e,t){var n=t.position||this.labelPosition,o=e.style,u=e.padding||this.options.padding;(0,w.isArray)(u)&&(u=u[0]);var l=t.refX,c=t.refY;(0,w.isNil)(l)&&(l=this.refX),(0,w.isNil)(c)&&(c=this.refY);var f=this.getSize(e),h=Math.max(o.r,f[0]/2)||f[0]/2,v=h+u,p;switch(n){case"top":p={x:0,y:-v-c,textBaseline:"bottom",textAlign:"center"};break;case"bottom":p={x:0,y:v+c,textBaseline:"bottom",textAlign:"center"};break;case"left":p={x:-v+l,y:0,textAlign:"left"};break;case"center":p={x:0,y:0,text:e.label,textAlign:"center"};break;default:p={x:v+l,y:0,textAlign:"right"};break}return p.text=e.label,p},drawShape:function(e,t){var n=this.shapeType,o=this.getShapeStyle(e),u=t.addShape(n,{attrs:o,draggable:!0,name:"combo-shape"});return u},updateShape:function(e,t,n){var o=t.get("keyShape"),u=e.animate===void 0?this.options.animate:e.animate;u&&o.animate?o.animate(n,{duration:200,easing:"easeLinear"}):o.attr((0,Z.__assign)({},n)),this.updateLabel(e,t)}},dtt=(0,Z.__assign)((0,Z.__assign)({},UA),htt);Af.registerCombo("single-combo",dtt),Af.registerCombo("circle",{options:{size:[ji.defaultCombo.size[0],ji.defaultCombo.size[0]],padding:ji.defaultCombo.padding[0],animate:!0,style:{stroke:ji.defaultCombo.style.stroke,fill:ji.defaultCombo.style.fill,lineWidth:ji.defaultCombo.style.lineWidth},labelCfg:{style:{fill:ji.comboLabel.style.fill,fontSize:ji.comboLabel.style.fontSize},refX:0,refY:0},stateStyles:(0,Z.__assign)({},ji.comboStateStyles)},shapeType:"circle",labelPosition:"top",drawShape:function(e,t){var n=this.getShapeStyle(e);delete n.height,delete n.width;var o=t.addShape("circle",{attrs:n,className:"circle-combo",name:"circle-combo",draggable:!0});return o},getShapeStyle:function(e){var t=this.options.style,n=e.padding||this.options.padding;(0,w.isArray)(n)&&(n=n[0]);var o={stroke:e.color},u=(0,w.mix)({},t,o,e.style),l;if(e.fixSize)l=(0,w.isNumber)(e.fixSize)?e.fixSize:e.fixSize[0];else{var c=this.getSize(e);!(0,w.isNumber)(u.r)||isNaN(u.r)?l=c[0]/2||ji.defaultCombo.style.r:l=Math.max(u.r,c[0]/2)||c[0]/2}u.r=l+n;var f=(0,Z.__assign)({x:0,y:0},u);return e.style?e.style.r=l:e.style={r:l},f},update:function(e,t){var n=this.getSize(e),o=e.padding||this.options.padding;(0,w.isArray)(o)&&(o=o[0]);var u=(0,w.clone)(e.style),l;e.fixSize?l=(0,w.isNumber)(e.fixSize)?e.fixSize:e.fixSize[0]:l=Math.max(u.r,n[0]/2)||n[0]/2,u.r=l+o;var c=t.get("sizeCache");c&&(c.r=u.r);var f={stroke:e.color},h=t.get("keyShape"),v=(0,w.mix)({},h.attr(),f,u);e.style?e.style.r=l:e.style={r:l},this.updateShape(e,t,v,!0)}},"single-combo"),Af.registerCombo("rect",{options:{size:[40,5],padding:[25,20,15,20],animate:!0,style:{radius:0,stroke:ji.defaultCombo.style.stroke,fill:ji.defaultCombo.style.fill,lineWidth:ji.defaultCombo.style.lineWidth},labelCfg:{style:{fill:ji.comboLabel.style.fill,fontSize:ji.comboLabel.style.fontSize,fontFamily:ji.windowFontFamily}},anchorPoints:[[0,.5],[1,.5]],stateStyles:(0,Z.__assign)({},ji.comboStateStyles)},shapeType:"rect",labelPosition:"top",drawShape:function(e,t){var n=this.getShapeStyle(e),o=t.addShape("rect",{attrs:n,className:"rect-combo",name:"rect-combo",draggable:!0});return o},getLabelStyleByPosition:function(e,t){var n=t.position||this.labelPosition,o=e.style,u=e.padding||this.options.padding;(0,w.isNumber)(u)&&(u=[u,u,u,u]);var l=t.refX,c=t.refY;(0,w.isNil)(l)&&(l=this.refX),(0,w.isNil)(c)&&(c=this.refY);var f=o.width/2+u[3],h=o.height/2+u[0],v;switch(n){case"top":v={x:0-f+l,y:0-h+c,textBaseline:"top",textAlign:"left"};break;case"bottom":v={x:0,y:h+c,textBaseline:"bottom",textAlign:"center"};break;case"left":v={x:0-f+c,y:0,textAlign:"left"};break;case"center":v={x:0,y:0,text:e.label,textAlign:"center"};break;default:v={x:f+l,y:0,textAlign:"right"};break}return v.text=e.label,v},getShapeStyle:function(e){var t=this.options.style,n=e.padding||this.options.padding;(0,w.isNumber)(n)&&(n=[n,n,n,n]);var o={stroke:e.color},u=(0,w.mix)({},t,o,e.style),l=this.getSize(e),c,f,h=e.collapsed&&e.fixCollapseSize?e.fixCollapseSize:e.fixSize;h?(0,w.isNumber)(h)?(c=h,f=h):(c=h[0],f=h[1]):(!(0,w.isNumber)(u.width)||isNaN(u.width)?c=l[0]||ji.defaultCombo.style.width:c=Math.max(u.width,l[0])||l[0],!(0,w.isNumber)(u.height)||isNaN(u.height)?f=l[1]||ji.defaultCombo.style.height:f=Math.max(u.height,l[1])||l[1]);var v=-c/2-n[3],p=-f/2-n[0];u.width=c+n[1]+n[3],u.height=f+n[0]+n[2];var g=(0,Z.__assign)({x:v,y:p},u);return e.style?(e.style.width=c,e.style.height=f):e.style={width:c,height:f},g},update:function(e,t){var n=this.getSize(e),o=e.padding||this.options.padding;(0,w.isNumber)(o)&&(o=[o,o,o,o]);var u=(0,w.clone)(e.style),l,c,f=e.collapsed&&e.fixCollapseSize?e.fixCollapseSize:e.fixSize;f?(0,w.isNumber)(f)?(l=f,c=f):(l=f[0],c=f[1]):(l=Math.max(u.width,n[0])||n[0],c=Math.max(u.height,n[1])||n[1]),u.width=l+o[1]+o[3],u.height=c+o[0]+o[2];var h=t.get("sizeCache");h&&(h.width=u.width,h.height=u.height),u.x=-l/2-o[3],u.y=-c/2-o[0];var v={stroke:e.color},p=t.get("keyShape"),g=(0,w.mix)({},p.attr(),v,u);e.style?(e.style.width=l,e.style.height=c):e.style={width:l,height:c},this.updateShape(e,t,g,!1)},updateShape:function(e,t,n){var o=t.get("keyShape"),u=e.animate===void 0?this.options.animate:e.animate;u&&o.animate?o.animate(n,{duration:200,easing:"easeLinear"}):o.attr((0,Z.__assign)({},n)),this.updateLabel(e,t)}},"single-combo"),Af.registerNode("simple-circle",{options:{size:ji.defaultNode.size,style:{x:0,y:0,stroke:ji.defaultNode.style.stroke,fill:ji.defaultNode.style.fill,lineWidth:ji.defaultNode.style.lineWidth},labelCfg:{style:{fill:ji.nodeLabel.style.fill,fontSize:ji.nodeLabel.style.fontSize,fontFamily:ji.windowFontFamily}},stateStyles:(0,Z.__assign)({},ji.nodeStateStyles)},shapeType:"simple-circle",labelPosition:"center",shapeMap:{},drawShape:function(e,t){var n=this.getShapeStyle(e),o="".concat(this.type,"-keyShape"),u=t.addShape("circle",{attrs:n,className:"".concat(this.type,"-keyShape"),name:o,draggable:!0});return t.shapeMap[o]=u,u},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,n={stroke:e.color},o=(0,w.deepMix)({},t,n),u=this.getSize(e),l=u[0]/2,c=(0,Z.__assign)({x:0,y:0,r:l},o);return c},update:function(e,t,n){var o=this.getSize(e),u={stroke:e.color,r:o[0]/2},l=t.get("keyShape"),c=(0,w.deepMix)({},l.attr(),u,e.style);this.updateShape(e,t,c,!0,n)}},"single-node"),Af.registerNode("simple-rect",{options:{size:[100,30],style:{radius:0,stroke:ji.defaultNode.style.stroke,fill:ji.defaultNode.style.fill,lineWidth:ji.defaultNode.style.lineWidth},labelCfg:{style:{fill:ji.nodeLabel.style.fill,fontSize:ji.nodeLabel.style.fontSize,fontFamily:ji.windowFontFamily}},anchorPoints:[[0,.5],[1,.5]],stateStyles:(0,Z.__assign)({},ji.nodeStateStyles)},shapeType:"simple-rect",labelPosition:"center",drawShape:function(e,t){var n=this.getShapeStyle(e),o=t.addShape("rect",{attrs:n,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});return o},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,n={stroke:e.color},o=(0,w.mix)({},t,n),u=this.getSize(e),l=o.width||u[0],c=o.height||u[1],f=(0,Z.__assign)({x:-l/2,y:-c/2,width:l,height:c},o);return f},update:function(e,t,n){var o=t.getContainer(),u=(this.mergeStyle||this.getOptions(e)).style,l=this.getSize(e),c=t.get("keyShape");e.size||(l[0]=c.attr("width")||u.width,l[1]=c.attr("height")||u.height);var f={stroke:e.color,x:-l[0]/2,y:-l[1]/2,width:l[0],height:l[1]},h=(0,w.mix)({},u,c.attr(),f);h=(0,w.mix)(h,e.style),this.updateShape(e,t,h,!1,n)}},"single-node"),Af.registerNode("image",{options:{img:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*eD7nT6tmYgAAAAAAAAAAAABkARQnAQ",size:200,labelCfg:{style:{fontFamily:ji.windowFontFamily}},clipCfg:{show:!1,type:"circle",r:50,rx:50,ry:35,width:50,height:35,points:[[30,12],[12,30],[30,48],[48,30]],path:[["M",25,25],["L",50,25],["A",12.5,12.5,0,1,1,50,50],["A",12.5,12.5,0,1,0,50,50],["L",25,75],["Z"]],x:0,y:0}},shapeType:"image",labelPosition:"bottom",drawShape:function(e,t){var n=this.shapeType,o=this.getShapeStyle(e);delete o.fill;var u=t.addShape(n,{attrs:o,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});return this.drawClip(e,u),u},drawClip:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).clipCfg;if(!!n.show){var o=n.type,u=n.x,l=n.y,c=n.style;if(o==="circle"){var f=n.r;t.setClip({type:"circle",attrs:(0,Z.__assign)({r:f,x:u,y:l},c)})}else if(o==="rect"){var h=n.width,v=n.height,p=u-h/2,g=l-v/2;t.setClip({type:"rect",attrs:(0,Z.__assign)({x:p,y:g,width:h,height:v},c)})}else if(o==="ellipse"){var E=n.rx,D=n.ry;t.setClip({type:"ellipse",attrs:(0,Z.__assign)({x:u,y:l,rx:E,ry:D},c)})}else if(o==="polygon"){var G=n.points;t.setClip({type:"polygon",attrs:(0,Z.__assign)({points:G},c)})}else if(o==="path"){var H=n.path;t.setClip({type:"path",attrs:(0,Z.__assign)({path:H},c)})}}},getShapeStyle:function(e){var t=this.mergeStyle||this.getOptions(e),n=t.style,o=t.img,u=this.getSize(e),l=u[0],c=u[1];n&&(l=n.width||u[0],c=n.height||u[1]);var f=(0,Z.__assign)({x:-l/2,y:-c/2,width:l,height:c,img:o},n);return f},updateShapeStyle:function(e,t){var n=t.getContainer(),o="".concat(this.itemType,"-shape"),u=n.shapeMap[o]||n.find(function(c){return c.get("className")===o})||t.getKeyShape(),l=this.getShapeStyle(e);u&&!u.destroyed&&u.attr(l)}},"single-node");var eR={triangle:function(e,t,n){e===void 0&&(e=10),t===void 0&&(t=15),n===void 0&&(n=0);var o=n*2,u="M ".concat(o,",0 L ").concat(o+t,",-").concat(e/2," L ").concat(o+t,",").concat(e/2," Z");return u},vee:function(e,t,n){e===void 0&&(e=15),t===void 0&&(t=20),n===void 0&&(n=0);var o=n*2,u="M ".concat(o,",0 L ").concat(o+t,",-").concat(e/2,`
        L `).concat(o+2*t/3,",0 L ").concat(o+t,",").concat(e/2," Z");return u},circle:function(e,t){e===void 0&&(e=5),t===void 0&&(t=0);var n=t*2,o="M ".concat(n,`, 0
            a `).concat(e,",").concat(e," 0 1,0 ").concat(e*2,`,0
            a `).concat(e,",").concat(e," 0 1,0 ").concat(-e*2,",0");return o},rect:function(e,t,n){e===void 0&&(e=10),t===void 0&&(t=10),n===void 0&&(n=0);var o=n*2,u="M ".concat(o,",").concat(-e/2,` 
        L `).concat(o+t,",").concat(-e/2,` 
        L `).concat(o+t,",").concat(e/2,` 
        L `).concat(o,",").concat(e/2," Z");return u},diamond:function(e,t,n){e===void 0&&(e=15),t===void 0&&(t=15),n===void 0&&(n=0);var o=n*2,u="M ".concat(o,`,0 
        L `).concat(o+t/2,",").concat(-e/2,` 
        L `).concat(o+t,`,0 
        L `).concat(o+t/2,",").concat(e/2," Z");return u},triangleRect:function(e,t,n,o,u,l){e===void 0&&(e=15),t===void 0&&(t=15),n===void 0&&(n=15),o===void 0&&(o=3),u===void 0&&(u=5),l===void 0&&(l=0);var c=l*2,f=c+t+u,h="M ".concat(c,",0 L ").concat(c+t,",-").concat(e/2," L ").concat(c+t,",").concat(e/2,` Z
            M `).concat(f,", -").concat(n/2,`
            L `).concat(f+o," -").concat(n/2,`
            L `).concat(f+o," ").concat(n/2,`
            L `).concat(f," ").concat(n/2,`
            Z`);return h}},rR={collapse:function(e,t,n){return[["M",e-n,t],["a",n,n,0,1,0,n*2,0],["a",n,n,0,1,0,-n*2,0],["M",e-n+4,t],["L",e+n-4,t]]},expand:function(e,t,n){return[["M",e-n,t],["a",n,n,0,1,0,n*2,0],["a",n,n,0,1,0,-n*2,0],["M",e-n+4,t],["L",e-n+2*n-4,t],["M",e-n+n,t-n+4],["L",e,t+n-4]]},upTriangle:function(e,t,n){var o=n*Math.cos(Math.PI/6),u=n*Math.sin(Math.PI/6);return[["M",e-o,t+u],["L",e+o,t+u],["L",e,t-n],["Z"]]},downTriangle:function(e,t,n){var o=n*Math.cos(Math.PI/6),u=n*Math.sin(Math.PI/6);return[["M",e-o,t-u],["L",e+o,t-u],["L",e,t+n],["Z"]]}},d0=Af,vtt=["#5F95FF","#61DDAA","#65789B","#F6BD16","#7262FD","#78D3F8","#9661BC","#F6903D","#008685","#F08BB4"],ptt=ka,gtt=(0,Z.__assign)((0,Z.__assign)((0,Z.__assign)((0,Z.__assign)((0,Z.__assign)((0,Z.__assign)({},K),$),lt),W),st),{transform:ptt,mat3:fu}),Qv=gtt,ytt=function(){function a(e){this.graph=e,this.layoutCfg=e.get("layout")||{},this.layoutType=this.getLayoutType(),this.layoutMethods=[],this.initLayout()}return a.prototype.initLayout=function(){},a.prototype.getLayoutType=function(){return this.getLayoutCfgType(this.layoutCfg)},a.prototype.getLayoutCfgType=function(e){var t=e.type;if(t)return t;var n=e.pipes;return Array.isArray(n)?n.map(function(o){return(o==null?void 0:o.type)||""}):null},a.prototype.isLayoutTypeSame=function(e){var t=this.getLayoutCfgType(e);return Array.isArray(this.layoutType)?this.layoutType.every(function(n,o){return n===t[o]}):(e==null?void 0:e.type)===this.layoutType},a.prototype.refreshLayout=function(){var e=this,t=e.graph,n=e.layoutType,o=e.data;!t||(t.get("animate")?t.positionsAnimate(n==="comboCombined"):t.refreshPositions(n==="comboCombined"))},a.prototype.changeLayout=function(e){this.layoutCfg=e,this.destoryLayoutMethods(),this.layout()},a.prototype.changeData=function(){this.destoryLayoutMethods(),this.layout()},a.prototype.destoryLayoutMethods=function(){var e=this.layoutMethods;e==null||e.forEach(function(t){t.destroy()}),this.layoutMethods=[]},a.prototype.destroyLayout=function(){var e=this.graph;this.destoryLayoutMethods(),e.set("layout",void 0),this.layoutCfg=void 0,this.layoutType=void 0,this.layoutMethods=void 0},a.prototype.setDataFromGraph=function(){for(var e=[],t=[],n=[],o=[],u=[],l=[],c=[],f=this.graph.getNodes(),h=this.graph.getEdges(),v=this.graph.getCombos(),p=f.length,g=0;g<p;g++){var E=f[g];if(!(!E||E.destroyed)){var D=E.getModel();if(!E.isVisible()){t.push(D);continue}e.push(D)}}for(var G=h.length,g=0;g<G;g++){var H=h[g];if(!(!H||H.destroyed)){var D=H.getModel();if(!H.isVisible()){o.push(D);continue}D.isComboEdge?u.push(D):n.push(D)}}for(var X=v.length,g=0;g<X;g++){var rt=v[g];if(!rt.destroyed){var D=rt.getModel();if(!rt.isVisible()){c.push(D);continue}l.push(D)}}return{nodes:e,hiddenNodes:t,edges:n,hiddenEdges:o,combos:l,hiddenCombos:c,comboEdges:u}},a.prototype.reLayoutMethod=function(e,t){var n=this;return new Promise(function(o,u){var l=n.graph,c=t==null?void 0:t.type;t.onLayoutEnd=function(){l.emit("aftersublayout",{type:c}),o()},e.init(n.data),c==="force"&&(e.ticking=!1,e.forceSimulation.stop()),l.emit("beforesublayout",{type:c}),e.execute(),e.isCustomLayout&&t.onLayoutEnd&&t.onLayoutEnd()})},a.prototype.relayout=function(e){var t=this,n=this,o=n.graph,u=n.layoutMethods,l=n.layoutCfg;if(e){this.data=this.setDataFromGraph();var c=this.data.nodes;if(!c)return!1;this.initPositions(l.center,c)}o.emit("beforelayout");var f=Promise.resolve();u==null||u.forEach(function(h,v){var p=l[v];f=f.then(function(){return t.reLayoutMethod(h,p)})}),u!=null&&u.length&&f.then(function(){l.onAllLayoutEnd&&l.onAllLayoutEnd()}).catch(function(h){console.warn("relayout failed",h)})},a.prototype.filterLayoutData=function(e,t){var n=e.nodes,o=e.edges,u=(0,Z.__rest)(e,["nodes","edges"]);if(!n)return e;var l,c;(0,w.isFunction)(t==null?void 0:t.nodesFilter)?l=t.nodesFilter:l=function(){return!0};var f=n.filter(l);if((0,w.isFunction)(t==null?void 0:t.edgesFilter))c=t.edgesFilter;else{var h=f.reduce(function(v,p){return v[p.id]=!0,v},{});c=function(p){return h[p.source]&&h[p.target]}}return(0,Z.__assign)({nodes:f,edges:o.filter(c)},u)},a.prototype.getLayoutBBox=function(e){var t=this.graph,n=(0,w.groupBy)(t.getNodes(),function(l){return l.getModel().layoutOrder}),o=Object.values(n).map(function(l){var c=TL(l);return c.size=[c.width,c.height],c}),u=Object.values((0,w.groupBy)(e,"layoutOrder"));return{groupNodes:u,layoutNodes:o}},a.prototype.layoutAnimate=function(){},a.prototype.moveToZero=function(){var e=this.graph,t=e.get("data"),n=t.nodes;if(!(n[0].x===void 0||n[0].x===null||FS(n[0].x))){for(var o=[0,0],u=n.length,l=0;l<u;l++){var c=n[l];o[0]+=c.x,o[1]+=c.y}o[0]/=n.length,o[1]/=n.length;for(var l=0;l<u;l++){var c=n[l];c.x-=o[0],c.y-=o[1]}}},a.prototype.initPositions=function(e,t){var n=this.graph;if(!t)return!1;var o=t?t.length:0;if(!!o){var u=n.get("width")*.85,l=n.get("height")*.85,c=Math.ceil(Math.sqrt(o)*(u/l)),f=Math.ceil(o/c),h=u/(c-1),v=l/(f-1);(!isFinite(h)||!h)&&(h=0),(!isFinite(v)||!h)&&(v=0);for(var p=e[0]-u/2,g=e[1]-l/2,E=!0,D=0;D<o;D++){var G=t[D];FS(+G.x)&&(E=!1,G.x=D%c*h+p),FS(+G.y)&&(E=!1,G.y=Math.floor(D/c)*v+g)}return E}},a.prototype.destroy=function(){this.graph=null,this.destoryLayoutMethods(),this.destroyed=!0},a}(),nR=ytt,mtt=function(){function a(e){this.graph=e,this.destroyed=!1,this.initEvents()}return a}(),iR=mtt,bg=d0.registerNode,aR=d0.registerEdge,xtt=d0.registerCombo,oR=g3.registerBehavior,_i=ji,Dct={version:ji.version,AbstractGraph:JL,BaseGlobal:_i,Util:Qv,Shape:d0,Node:LA,Edge:FL,Combo:GL,Hull:QL,registerNode:d0.registerNode,registerEdge:d0.registerEdge,registerCombo:d0.registerCombo,registerBehavior:g3.registerBehavior,Arrow:eR,Marker:rR,AbstractLayout:nR,AbstractEvent:iR},btt=je(10369),Ett=je(6767),gb=je.n(Ett),Stt=je(17621),VS=je.n(Stt),HS=2,sR=.16,wtt=.05,_tt=.05,Att=.15,uR=5,lR=4,Ctt=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function cR(a,e,t){var n;return Math.round(a.h)>=60&&Math.round(a.h)<=240?n=t?Math.round(a.h)-HS*e:Math.round(a.h)+HS*e:n=t?Math.round(a.h)+HS*e:Math.round(a.h)-HS*e,n<0?n+=360:n>=360&&(n-=360),n}function fR(a,e,t){if(a.h===0&&a.s===0)return a.s;var n;return t?n=a.s-sR*e:e===lR?n=a.s+sR:n=a.s+wtt*e,n>1&&(n=1),t&&e===uR&&n>.1&&(n=.1),n<.06&&(n=.06),Number(n.toFixed(2))}function hR(a,e,t){var n;return t?n=a.v+_tt*e:n=a.v-Att*e,n>1&&(n=1),Number(n.toFixed(2))}function YS(a){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=[],n=VS()(a),o=uR;o>0;o-=1){var u=n.toHsv(),l=VS()({h:cR(u,o,!0),s:fR(u,o,!0),v:hR(u,o,!0)}).toHexString();t.push(l)}t.push(n.toHexString());for(var c=1;c<=lR;c+=1){var f=n.toHsv(),h=VS()({h:cR(f,c),s:fR(f,c),v:hR(f,c)}).toHexString();t.push(h)}return e.theme==="dark"?Ctt.map(function(v){var p=v.index,g=v.opacity,E=VS().mix(e.backgroundColor||"#141414",t[p],g*100).toHexString();return E}):t}var jA={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},Bh={},WA={};Object.keys(jA).forEach(function(a){Bh[a]=YS(jA[a]),Bh[a].primary=Bh[a][5],WA[a]=YS(jA[a],{theme:"dark",backgroundColor:"#141414"}),WA[a].primary=WA[a][5]});var Pct=Bh.red,Lct=Bh.volcano,Rct=Bh.gold,Fct=Bh.orange,Nct=Bh.yellow,kct=Bh.lime,Bct=Bh.green,Gct=Bh.cyan,zct=Bh.blue,Uct=Bh.geekblue,jct=Bh.purple,Wct=Bh.magenta,Vct=Bh.grey,qc=function(e,t,n){var o=gb()(e),u=gb()(t);return gb()([(1-n)*o.red()+n*u.red(),(1-n)*o.green()+n*u.green(),(1-n)*o.blue()+n*u.blue()]).rgb()},Ttt=function(e,t,n){t===void 0&&(t="#fff"),n===void 0&&(n="rgb(150, 150, 150)");var o=qc(t,e,.05).rgb().toString(),u=qc(t,e,.1).rgb().toString(),l=qc(t,e,.2).rgb().toString(),c=qc(t,e,.4).rgb().toString(),f=qc(t,n,.02).rgb().toString(),h=qc(t,n,.05).rgb().toString(),v=qc(t,n,.1).rgb().toString(),p=qc(t,n,.2).rgb().toString(),g=qc(t,n,.3).rgb().toString(),E=YS(e,{theme:"default",backgroundColor:t}),D=gb()(e).hex().toLowerCase(),G=E.indexOf(D),H=e;return G!==-1&&(H=E[G+1]),{mainStroke:e,mainFill:u,activeStroke:e,activeFill:o,inactiveStroke:c,inactiveFill:o,selectedStroke:e,selectedFill:t,highlightStroke:H,highlightFill:l,disableStroke:g,disableFill:h,edgeMainStroke:g,edgeActiveStroke:e,edgeInactiveStroke:p,edgeSelectedStroke:e,edgeHighlightStroke:e,edgeDisableStroke:v,comboMainStroke:g,comboMainFill:f,comboActiveStroke:e,comboActiveFill:o,comboInactiveStroke:g,comboInactiveFill:f,comboSelectedStroke:e,comboSelectedFill:f,comboHighlightStroke:H,comboHighlightFill:f,comboDisableStroke:p,comboDisableFill:h}},Mtt=function(e,t,n){t===void 0&&(t="#fff"),n===void 0&&(n="#777");var o=qc(t,e,.2).rgb().toString(),u=qc(t,e,.3).rgb().toString(),l=qc(t,e,.6).rgb().toString(),c=qc(t,e,.8).rgb().toString(),f=qc(t,n,.2).rgb().toString(),h=qc(t,n,.25).rgb().toString(),v=qc(t,n,.3).rgb().toString(),p=qc(t,n,.4).rgb().toString(),g=qc(t,n,.5).rgb().toString(),E=YS(e,{theme:"dark",backgroundColor:t}),D=gb()(e).hex().toLowerCase(),G=E.indexOf(D),H=e;return G!==-1&&(H=E[G+1]),{mainStroke:c,mainFill:o,activeStroke:e,activeFill:u,inactiveStroke:c,inactiveFill:o,selectedStroke:e,selectedFill:o,highlightStroke:e,highlightFill:l,disableStroke:g,disableFill:h,edgeMainStroke:n,edgeActiveStroke:e,edgeInactiveStroke:n,edgeSelectedStroke:e,edgeHighlightStroke:e,edgeDisableStroke:v,comboMainStroke:p,comboMainFill:h,comboActiveStroke:e,comboActiveFill:f,comboInactiveStroke:p,comboInactiveFill:h,comboSelectedStroke:e,comboSelectedFill:f,comboHighlightStroke:H,comboHighlightFill:h,comboDisableStroke:p,comboDisableFill:f}},VA=function(e,t,n,o){return t===void 0&&(t="#fff"),n===void 0&&(n="default"),o===void 0&&(o="rgb(150, 150, 150)"),n==="default"?Ttt(e,t,"rgb(150, 150, 150)"):Mtt(e,t,"#777")},Itt=function(e,t,n,o){t===void 0&&(t="#fff"),n===void 0&&(n="default"),o===void 0&&(o="rgb(150, 150, 150)");var u=[];return e.forEach(function(l){u.push(VA(l,t,n,o))}),u},Ott="rgb(95, 149, 255)",Dtt="rgb(255, 255, 255)",dR="rgb(0, 0, 0)",Eo=VA(Ott,Dtt),my={version:"0.6.4",rootContainerClassName:"root-container",nodeContainerClassName:"node-container",edgeContainerClassName:"edge-container",comboContainerClassName:"combo-container",delegateContainerClassName:"delegate-container",defaultLoopPosition:"top",nodeLabel:{style:{fill:"#000",fontSize:12,textAlign:"center",textBaseline:"middle"},offset:4},defaultNode:{type:"circle",style:{lineWidth:1,stroke:Eo.mainStroke,fill:Eo.mainFill},size:20,color:Eo.mainStroke,linkPoints:{size:8,lineWidth:1,fill:Eo.activeFill,stroke:Eo.activeStroke}},nodeStateStyles:{active:{fill:Eo.activeFill,stroke:Eo.activeStroke,lineWidth:2,shadowColor:Eo.mainStroke,shadowBlur:10},selected:{fill:Eo.selectedFill,stroke:Eo.selectedStroke,lineWidth:4,shadowColor:Eo.selectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{fill:Eo.highlightFill,stroke:Eo.highlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{fill:Eo.inactiveFill,stroke:Eo.inactiveStroke,lineWidth:1},disable:{fill:Eo.disableFill,stroke:Eo.disableStroke,lineWidth:1}},edgeLabel:{style:{fill:dR,textAlign:"center",textBaseline:"middle",fontSize:12}},defaultEdge:{type:"line",size:1,style:{stroke:Eo.edgeMainStroke,lineAppendWidth:2},color:Eo.edgeMainStroke},edgeStateStyles:{active:{stroke:Eo.edgeActiveStroke,lineWidth:1},selected:{stroke:Eo.edgeSelectedStroke,lineWidth:2,shadowColor:Eo.edgeSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:Eo.edgeHighlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{stroke:Eo.edgeInactiveStroke,lineWidth:1},disable:{stroke:Eo.edgeDisableStroke,lineWidth:1}},comboLabel:{style:{fill:dR,textBaseline:"middle",fontSize:12},refY:10,refX:10},defaultCombo:{type:"circle",style:{fill:Eo.comboMainFill,lineWidth:1,stroke:Eo.comboMainStroke,r:5,width:20,height:10},size:[20,5],color:Eo.comboMainStroke,padding:[25,20,15,20]},comboStateStyles:{active:{stroke:Eo.comboActiveStroke,lineWidth:1,fill:Eo.comboActiveFill},selected:{stroke:Eo.comboSelectedStroke,lineWidth:2,fill:Eo.comboSelectedFill,shadowColor:Eo.comboSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:Eo.comboHighlightStroke,lineWidth:2,fill:Eo.comboHighlightFill,"text-shape":{fontWeight:500}},inactive:{stroke:Eo.comboInactiveStroke,fill:Eo.comboInactiveFill,lineWidth:1},disable:{stroke:Eo.comboDisableStroke,fill:Eo.comboDisableFill,lineWidth:1}},delegateStyle:{fill:"#F3F9FF",fillOpacity:.5,stroke:"#1890FF",strokeOpacity:.9,lineDash:[5,5]},textWaterMarkerConfig:{width:150,height:100,compatible:!1,text:{x:0,y:60,lineHeight:20,rotate:20,fontSize:14,fontFamily:"Microsoft YaHei",fill:"rgba(0, 0, 0, 0.1)",baseline:"Middle"}},imageWaterMarkerConfig:{width:150,height:130,compatible:!1,image:{x:0,y:0,width:30,height:20,rotate:0}},waterMarkerImage:"https://gw.alipayobjects.com/os/s/prod/antv/assets/image/logo-with-text-73b8a.svg"},Ptt=Qv.cloneEvent,Ltt=Qv.isViewportChanged,Rtt=function(a){(0,Z.__extends)(e,a);function e(t){var n=a.call(this,t)||this;return n.extendEvents=[],n.dragging=!1,n.preItem=null,n.graph=t,n.destroyed=!1,n.initEvents(),n}return e.prototype.initEvents=function(){var t=this,n=t.graph,o=t.extendEvents,u=o===void 0?[]:o,l=n.get("canvas"),c=l.get("el"),f=(0,w.wrapBehavior)(this,"onCanvasEvents"),h=(0,w.wrapBehavior)(this,"onExtendEvents"),v=(0,w.wrapBehavior)(this,"onWheelEvent");l.off("*").on("*",f),this.canvasHandler=f,u.push(lp(c,"DOMMouseScroll",v)),u.push(lp(c,"mousewheel",v)),typeof window!="undefined"&&(u.push(lp(window,"keydown",h)),u.push(lp(window,"keyup",h)),u.push(lp(window,"focus",h)))},e.getItemRoot=function(t){for(;t&&!t.get("item");)t=t.get("parent");return t},e.prototype.onCanvasEvents=function(t){var n=this.graph,o=n.get("canvas"),u=t.target,l=t.type;t.canvasX=t.x,t.canvasY=t.y;var c={x:t.canvasX,y:t.canvasY},f=n.get("group"),h=f.getMatrix();if(h||(h=[1,0,0,0,1,0,0,0,1]),Ltt(h)&&(c=n.getPointByClient(t.clientX,t.clientY)),t.x=c.x,t.y=c.y,t.currentTarget=n,u===o){(l==="mousemove"||l==="mouseleave")&&this.handleMouseMove(t,"canvas"),t.target=o,t.item=null,n.emit(l,t),n.emit("canvas:".concat(l),t);return}var v=e.getItemRoot(u);if(!v){n.emit(l,t);return}var p=v.get("item");if(!p.destroyed){var g=p.getType();if(t.target=u,t.item=p,t.canvasX===t.x&&t.canvasY===t.y){var E=n.getCanvasByPoint(t.x,t.y);t.canvasX=E.x,t.canvasY=E.y}n.emit(l,t),t.name&&!t.name.includes(":")?n.emit("".concat(g,":").concat(l),t):n.emit(t.name,t),l==="dragstart"&&(this.dragging=!0),l==="dragend"&&(this.dragging=!1),l==="mousemove"&&this.handleMouseMove(t,g)}},e.prototype.onExtendEvents=function(t){this.graph.emit(t.type,t)},e.prototype.onWheelEvent=function(t){(0,w.isNil)(t.wheelDelta)&&(t.wheelDelta=-t.detail),this.graph.emit("wheel",t)},e.prototype.handleMouseMove=function(t,n){var o=this,u=o.graph,l=o.preItem,c=u.get("canvas"),f=t.target===c?null:t.item;t=Ptt(t),l&&l!==f&&!l.destroyed&&(t.item=l,this.emitCustomEvent(l.getType(),"mouseleave",t),this.dragging&&this.emitCustomEvent(l.getType(),"dragleave",t)),f&&l!==f&&(t.item=f,this.emitCustomEvent(n,"mouseenter",t),this.dragging&&this.emitCustomEvent(n,"dragenter",t)),this.preItem=f},e.prototype.emitCustomEvent=function(t,n,o){o.type=n,this.graph.emit("".concat(t,":").concat(n),o)},e.prototype.destroy=function(){var t=this,n=t.graph,o=t.canvasHandler,u=t.extendEvents,l=n.get("canvas");l.off("*",o),(0,w.each)(u,function(c){c.remove()}),this.dragging=!1,this.preItem=null,this.extendEvents.length=0,this.canvasHandler=null,this.destroyed=!0},e}(iR),Ftt=Rtt,Bo=je(83360),Ntt=je(81746),XS=je.n(Ntt),vR=Qv.traverseTree,ktt=function(e,t){var n;return e?(0,w.isNumber)(e)?n=function(u){return e}:n=e:n=function(u){return t||1},n},Btt=function(e,t){var n=[],o=[],u={},l=0;for(l=0;l<e.length;l++){var c=e[l];u[c.id]=l,n.push(c.x),n.push(c.y),n.push(0),n.push(0),o.push([])}for(l=0;l<t.length;l++){var f=t[l];o[u[f.source]].push(u[f.target]),o[u[f.target]].push(u[f.source])}var h=0;for(l=0;l<e.length;l++){var v=n.length,p=o[l],g=p.length;n[l*4+2]=v,n[l*4+3]=p.length,h=Math.max(h,p.length);for(var E=0;E<g;++E){var D=p[E];n.push(+D)}}for(;n.length%4!==0;)n.push(0);return{array:new Float32Array(n),maxEdgePerVetex:h}},Gtt=function(e,t,n){var o=[],u=[],l={},c=0;for(c=0;c<e.length;c++){var f=e[c];l[f.id]=c,o.push(f.x),o.push(f.y),o.push(0),o.push(0),u.push([])}for(c=0;c<t.length;c++){var h=t[c];u[l[h.source]].push(l[h.target]),u[l[h.source]].push(n(h)),u[l[h.target]].push(l[h.source]),u[l[h.target]].push(n(h))}var v=0;for(c=0;c<e.length;c++){var p=o.length,g=u[c],E=g.length;o[c*4+2]=p,o[c*4+3]=E/2,v=Math.max(v,E/2);for(var D=0;D<E;++D){var G=g[D];o.push(+G)}}for(;o.length%4!==0;)o.push(0);return{array:new Float32Array(o),maxEdgePerVetex:v}},ztt=function(e,t,n,o){var u=[],l=[],c={},f=0;for(f=0;f<e.length;f++){var h=e[f];c[h.id]=f,u.push(h.x),u.push(h.y),u.push(0),u.push(0),l.push([])}for(f=0;f<t.length;f++){var v=t[f];l[c[v.source]].push(c[v.target]),l[c[v.source]].push(n(v)),l[c[v.source]].push(o(v)),l[c[v.source]].push(0),l[c[v.target]].push(c[v.source]),l[c[v.target]].push(n(v)),l[c[v.target]].push(o(v)),l[c[v.target]].push(0)}var p=0;for(f=0;f<e.length;f++){var g=u.length,E=l[f],D=E.length;u[f*4+2]=g+1048576*D/4,u[f*4+3]=0,p=Math.max(p,D/4);for(var G=0;G<D;++G){var H=E[G];u.push(+H)}}for(;u.length%4!==0;)u.push(0);return{array:new Float32Array(u),maxEdgePerVetex:p}},Utt=function(e,t){var n=[],o=e.length,u={};return t.forEach(function(l){e.forEach(function(c,f){if(u[l[c]]===void 0&&(u[l[c]]=Object.keys(u).length),n.push(u[l[c]]),f===o-1)for(;n.length%4!==0;)n.push(0)})}),{array:new Float32Array(n),count:Object.keys(u).length}},jtt=function(e){for(var t=[],n=e.length,o=e[0].length,u=function(f){e.forEach(function(h,v){if(t.push(h[f]),v===n-1)for(;t.length%4!==0;)t.push(0)})},l=0;l<o;l++)u(l);return new Float32Array(t)},Wtt=function(e,t){var n=["V","TB","BT"],o={x:1/0,y:1/0},u={x:-1/0,y:-1/0},l="x",c="y";t&&n.indexOf(t)>=0&&(c="x",l="y");var f=0;vR(e,function(p){return f++,p.x>u.x&&(u.x=p.x),p.x<o.x&&(o.x=p.x),p.y>u.y&&(u.y=p.y),p.y<o.y&&(o.y=p.y),!0});var h=Math.PI*2/f,v=u[c]-o[c];return v===0||vR(e,function(p){var g=(p[c]-o[c])/v*(Math.PI*2-h)+h,E=Math.abs(l==="x"?p.x-e.x:p.y-e.y);return p.x=E*Math.cos(g),p.y=E*Math.sin(g),!0}),e},pR=function a(){return typeof window=="undefined"||typeof document=="undefined"?{}:{canvas:!!window.CanvasRenderingContext2D,webgl:function(){try{var e=document.createElement("canvas");return!!(window.WebGLRenderingContext&&(e.getContext("webgl")||e.getContext("experimental-webgl")))}catch(t){return!1}}(),workers:!!window.Worker,fileapi:window.File&&window.FileReader&&window.FileList&&window.Blob,getWebGLErrorMessage:function(){var t=document.createElement("div");return t.id="webgl-error-message",t.style.fontFamily="monospace",t.style.fontSize="13px",t.style.fontWeight="normal",t.style.textAlign="center",t.style.background="#fff",t.style.color="#000",t.style.padding="1.5em",t.style.width="400px",t.style.margin="5em auto 0",this.webgl||(t.innerHTML=window.WebGLRenderingContext?['Your graphics card does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" rel="external nofollow" rel="external nofollow" style="color:#000">WebGL</a>.<br />','Find out how to get it <a href="http://get.webgl.org/" rel="external nofollow" rel="external nofollow" style="color:#000">here</a>.'].join(`
`):['Your browser does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" rel="external nofollow" rel="external nofollow" style="color:#000">WebGL</a>.<br/>','Find out how to get it <a href="http://get.webgl.org/" rel="external nofollow" rel="external nofollow" style="color:#000">here</a>.'].join(`
`)),t},addGetWebGLMessage:function(t){t=t||{};var n=t.parent!==void 0?t.parent:document.body,o=t.id!==void 0?t.id:"oldie",u=a().getWebGLErrorMessage();u.id=o,n.appendChild(u)}}},Vtt=(0,Z.__assign)((0,Z.__assign)((0,Z.__assign)((0,Z.__assign)({},Qv),yt),q),nt),Eg=Vtt,Htt=Eg.radialLayout,Ytt=function(){function a(e){this.type=e.type,this.radial=e.radial,this.config=e}return a.prototype.init=function(e){var t=this;if(this.data=e,this.radial){this.layoutMethod=function(n){var o=XS()[t.type](n,t.config);return Htt(o),o};return}this.layoutMethod=function(n){return XS()[t.type](n,t.config)}},a.prototype.execute=function(){return this.layoutMethod(this.data,this.config)},a.prototype.layout=function(e){return this.init(e),this.execute()},a}(),Xtt=Ytt;(0,Bo.registerLayout)("grid",Bo.GridLayout),(0,Bo.registerLayout)("random",Bo.RandomLayout),(0,Bo.registerLayout)("force",Bo.ForceLayout),(0,Bo.registerLayout)("circular",Bo.CircularLayout),(0,Bo.registerLayout)("dagre",Bo.DagreLayout),(0,Bo.registerLayout)("dagreCompound",Bo.DagreCompoundLayout),(0,Bo.registerLayout)("radial",Bo.RadialLayout),(0,Bo.registerLayout)("concentric",Bo.ConcentricLayout),(0,Bo.registerLayout)("mds",Bo.MDSLayout),(0,Bo.registerLayout)("fruchterman",Bo.FruchtermanLayout),(0,Bo.registerLayout)("fruchterman-gpu",Bo.FruchtermanGPULayout),(0,Bo.registerLayout)("gForce",Bo.GForceLayout),(0,Bo.registerLayout)("gForce-gpu",Bo.GForceGPULayout),(0,Bo.registerLayout)("comboForce",Bo.ComboForceLayout),(0,Bo.registerLayout)("comboCombined",Bo.ComboCombinedLayout),(0,Bo.registerLayout)("forceAtlas2",Bo.ForceAtlas2Layout);var $tt=function(e,t){t.isCustomLayout=!0,Bo.Layouts[e]=(0,Bo.registerLayout)(e,t)},Ktt=function(){function a(e,t){var n=e.toString(),o=new Blob(["importScripts('".concat(t,"');(").concat(n,")()")],{type:"text/javascript"});return new Worker(URL.createObjectURL(o))}return a}(),Ztt=Ktt,Qtt=function(e){e===void 0&&(e="https://unpkg.com/@antv/layout@latest/dist/layout.min.js");function t(){var o={RUN:"LAYOUT_RUN",END:"LAYOUT_END",ERROR:"LAYOUT_ERROR",TICK:"LAYOUT_TICK",GPURUN:"GPU_LAYOUT_RUN",GPUEND:"GPU_LAYOUT_END"};layout.registerLayout("grid",layout.GridLayout),layout.registerLayout("random",layout.RandomLayout),layout.registerLayout("force",layout.ForceLayout),layout.registerLayout("circular",layout.CircularLayout),layout.registerLayout("dagre",layout.DagreLayout),layout.registerLayout("dagreCompound",layout.DagreCompoundLayout),layout.registerLayout("radial",layout.RadialLayout),layout.registerLayout("concentric",layout.ConcentricLayout),layout.registerLayout("mds",layout.MDSLayout),layout.registerLayout("fruchterman",layout.FruchtermanLayout),layout.registerLayout("fruchterman-gpu",layout.FruchtermanGPULayout),layout.registerLayout("gForce",layout.GForceLayout),layout.registerLayout("gForce-gpu",layout.GForceGPULayout),layout.registerLayout("comboForce",layout.ComboForceLayout),layout.registerLayout("comboCombined",layout.ComboCombinedLayout),layout.registerLayout("forceAtlas2",layout.ForceAtlas2Layout);function u(c){var f=c.data.type;return f===o.RUN||f===o.GPURUN}function l(c){var f=this,h=c.data.type;switch(h){case o.RUN:{var v=c.data,p=v.nodes,g=v.edges,E=v.layoutCfg,D=E===void 0?{}:E,G=D.type,H=layout.getLayoutByName(G);if(!H){this.postMessage({type:o.ERROR,message:"layout ".concat(G," not found")});break}var X;D.onLayoutEnd=function(){f.postMessage({type:o.END,nodes:p}),X==null||X.destroy()},X=new H(D),X.init({nodes:p,edges:g}),X.execute();break}case o.GPURUN:{var rt=c.data,ht=rt.nodes,g=rt.edges,mt=rt.layoutCfg,D=mt===void 0?{}:mt,Dt=rt.canvas,G=D.type,H=layout.getLayoutByName(G);if(!H){this.postMessage({type:o.ERROR,message:"layout ".concat(G," not found")});break}if(G.split("-")[1]!=="gpu"){this.postMessage({type:o.ERROR,message:"layout ".concat(G," does not support GPU")});break}var kt=new H(D);kt.init({nodes:ht,edges:g}),kt.executeWithWorker(Dt,this);break}default:break}}onmessage=function(f){u(f)&&l(f)}}var n=new Ztt(t,e);return n},e1={RUN:"LAYOUT_RUN",END:"LAYOUT_END",ERROR:"LAYOUT_ERROR",TICK:"LAYOUT_TICK",GPURUN:"GPU_LAYOUT_RUN",GPUEND:"GPU_LAYOUT_END"};function HA(a){return HA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},HA(a)}var gR=function(e){return setTimeout(e,16)},yR=function(e){return clearTimeout(e)},$S={requestAnimationFrame:function(e){var t=typeof window!="undefined"&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame)||gR;return t(e)},cancelAnimationFrame:function(e){var t=typeof window!="undefined"&&(window.cancelAnimationFrame||window.webkitCancelAnimationFrame)||yR;return t(e)}},Jtt=["fruchterman","gForce"],qtt=["force","grid","circular"],tet=function(a){(0,Z.__extends)(e,a);function e(t){var n=a.call(this,t)||this;return n.graph=t,n.layoutCfg=t.get("layout")||{},n.layoutType=n.getLayoutType(),n.worker=null,n.workerData={},n.initLayout(),n}return e.prototype.initLayout=function(){},e.prototype.getWorker=function(){return this.worker?this.worker:(typeof Worker=="undefined"?(console.warn("Web worker is not supported in current browser."),this.worker=null):this.worker=Qtt(this.layoutCfg.workerScriptURL),this.worker)},e.prototype.stopWorker=function(){var t=this.workerData;!this.worker||(this.worker.terminate(),this.worker=null,t.requestId&&($S.cancelAnimationFrame(t.requestId),t.requestId=null),t.requestId2&&($S.cancelAnimationFrame(t.requestId2),t.requestId2=null))},e.prototype.execLayoutMethod=function(t,n){var o=this;return new Promise(function(u,l){return(0,Z.__awaiter)(o,void 0,void 0,function(){var c,f,h,v,D,p,g,E,D,G;return(0,Z.__generator)(this,function(H){switch(H.label){case 0:if(c=this.graph,!c||c.get("destroyed"))return[2];f=t.type,t.onLayoutEnd=function(){c.emit("aftersublayout",{type:f}),u()},f&&this.isGPU&&(this.hasGPUVersion(f)?f="".concat(f,"-gpu"):console.warn("The '".concat(f,"' layout does not support GPU calculation for now, it will run in CPU."))),h=f==="force"||f==="g6force"||f==="gForce",h?(v=t.onTick,D=function(){v&&v(),c.refreshPositions()},t.tick=D):(f==="comboForce"||f==="comboCombined")&&(t.comboTrees=c.get("comboTrees")),p=!1;try{g=new Bo.Layouts[f](t)}catch(X){console.warn("The layout method: '".concat(f,"' does not exist! Please specify it first.")),l()}return p=g.enableTick,p&&(E=t.onTick,D=function(){E&&E(),c.refreshPositions()},g.tick=D),G=this.filterLayoutData(this.data,t),iet(G,n),g.init(G),c.emit("beforesublayout",{type:f}),[4,g.execute()];case 1:return H.sent(),g.isCustomLayout&&t.onLayoutEnd&&t.onLayoutEnd(),this.layoutMethods[n]=g,[2]}})})})},e.prototype.updateLayoutMethod=function(t,n){var o=this;return new Promise(function(u,l){return(0,Z.__awaiter)(o,void 0,void 0,function(){var c,f,h;return(0,Z.__generator)(this,function(v){switch(v.label){case 0:return c=this.graph,f=n==null?void 0:n.type,n.onLayoutEnd=function(){c.emit("aftersublayout",{type:f}),u()},h=this.filterLayoutData(this.data,n),t.init(h),t.updateCfg(n),c.emit("beforesublayout",{type:f}),[4,t.execute()];case 1:return v.sent(),t.isCustomLayout&&n.onLayoutEnd&&n.onLayoutEnd(),[2]}})})})},e.prototype.layout=function(t){var n=this,o=this.graph;this.data=this.setDataFromGraph();var u=this.data,l=u.nodes,c=u.hiddenNodes;if(!l)return!1;var f=o.get("width"),h=o.get("height"),v={};Object.assign(v,{width:f,height:h,center:[f/2,h/2]},this.layoutCfg),this.layoutCfg=v,this.destoryLayoutMethods(),o.emit("beforelayout"),this.initPositions(v.center,l),this.initPositions(v.center,c);var p=v.type;p&&p.split("-")[1]==="gpu"&&(p=p.split("-")[0],v.gpuEnabled=!0);var g=!1;v.gpuEnabled&&(g=!0,pR().webgl||(console.warn("Your browser does not support webGL or GPGPU. The layout will run in CPU."),g=!1)),this.isGPU=g;var E=v.onLayoutEnd,D=v.layoutEndFormatted,G=v.adjust;if(D||(v.layoutEndFormatted=!0,v.onAllLayoutEnd=function(){return(0,Z.__awaiter)(n,void 0,void 0,function(){return(0,Z.__generator)(this,function(rt){switch(rt.label){case 0:return E&&E(),this.refreshLayout(),G&&v.pipes?[4,this.adjustPipesBox(this.data,G)]:[3,2];case 1:rt.sent(),this.refreshLayout(),rt.label=2;case 2:return o.emit("afterlayout"),[2]}})})}),this.stopWorker(),v.workerEnabled&&this.layoutWithWorker(this.data))return!0;var H=Promise.resolve(),X=!1;return v.type?(X=!0,H=H.then(function(){return(0,Z.__awaiter)(n,void 0,void 0,function(){return(0,Z.__generator)(this,function(rt){switch(rt.label){case 0:return[4,this.execLayoutMethod(v,0)];case 1:return[2,rt.sent()]}})})})):v.pipes&&(X=!0,v.pipes.forEach(function(rt,ht){H=H.then(function(){return(0,Z.__awaiter)(n,void 0,void 0,function(){return(0,Z.__generator)(this,function(mt){switch(mt.label){case 0:return[4,this.execLayoutMethod(rt,ht)];case 1:return[2,mt.sent()]}})})})})),X&&H.then(function(){v.onAllLayoutEnd&&v.onAllLayoutEnd(),t&&t()}).catch(function(rt){console.warn("graph layout failed,",rt)}),!1},e.prototype.layoutWithWorker=function(t){var n=this,o=this,u=o.layoutCfg,l=o.graph,c=this.getWorker(),f=this.workerData;if(!c)return!1;f.requestId=null,f.requestId2=null,f.currentTick=null,f.currentTickData=null,l.emit("beforelayout");var h=Promise.resolve(),v=!1;if(u.type)v=!0,h=h.then(function(){return n.runWebworker(c,t,u)});else if(u.pipes){v=!0;for(var p=function(H){h=h.then(function(){return n.runWebworker(c,t,H)})},g=0,E=u.pipes;g<E.length;g++){var D=E[g];p(D)}}return v&&h.then(function(){u.onAllLayoutEnd&&u.onAllLayoutEnd()}).catch(function(G){console.error("layout failed",G)}),!0},e.prototype.runWebworker=function(t,n,o){var u=this,l=this.isGPU,c=this.filterLayoutData(n,o),f=c.nodes,h=c.edges,v=document.createElement("canvas"),p=l&&typeof window!="undefined"&&window.navigator&&!navigator.gpu&&"OffscreenCanvas"in window&&"transferControlToOffscreen"in v,g=ret(o,function(D){return typeof D!="function"});if(!p)t.postMessage({type:e1.RUN,nodes:f,edges:h,layoutCfg:g});else{var E=v.transferControlToOffscreen();g.type="".concat(g.type,"-gpu"),t.postMessage({type:e1.GPURUN,nodes:f,edges:h,layoutCfg:g,canvas:E},[E])}return new Promise(function(D,G){t.onmessage=function(H){u.handleWorkerMessage(D,G,H,c,o)}})},e.prototype.handleWorkerMessage=function(t,n,o,u,l){var c=this,f=c.graph,h=c.workerData,v=o.data,p=v.type,g=function(){l.onTick&&l.onTick()};switch(p){case e1.TICK:h.currentTick=v.currentTick,h.currentTickData=v,h.requestId||(h.requestId=$S.requestAnimationFrame(function(){YA(u,v),f.refreshPositions(),g(),v.currentTick===v.totalTicks?t():h.currentTick===v.totalTicks&&(h.requestId2=$S.requestAnimationFrame(function(){YA(u,h.currentTickData),f.refreshPositions(),h.requestId2=null,g(),t()})),h.requestId=null}));break;case e1.END:h.currentTick==null&&(YA(u,v),t());break;case e1.GPUEND:h.currentTick==null&&(net(u,v),t());break;case e1.ERROR:console.warn("Web-Worker layout error!",v.message),n();break;default:n();break}},e.prototype.updateLayoutCfg=function(t){var n=this,o=this,u=o.graph,l=o.layoutMethods,c=(0,w.mix)({},this.layoutCfg,t);if(this.layoutCfg=c,!(l!=null&&l.length)){this.layout();return}if(this.data=this.setDataFromGraph(),this.stopWorker(),!(t.workerEnabled&&this.layoutWithWorker(this.data))){u.emit("beforelayout");var f=Promise.resolve(),h=!1;l.length===1?(h=!0,f=f.then(function(){return(0,Z.__awaiter)(n,void 0,void 0,function(){return(0,Z.__generator)(this,function(v){switch(v.label){case 0:return[4,this.updateLayoutMethod(l[0],c)];case 1:return[2,v.sent()]}})})})):(h=!0,l==null||l.forEach(function(v,p){var g=c.pipes[p];f=f.then(function(){return(0,Z.__awaiter)(n,void 0,void 0,function(){return(0,Z.__generator)(this,function(E){switch(E.label){case 0:return[4,this.updateLayoutMethod(v,g)];case 1:return[2,E.sent()]}})})})})),h&&f.then(function(){c.onAllLayoutEnd&&c.onAllLayoutEnd()}).catch(function(v){console.warn("layout failed",v)})}},e.prototype.adjustPipesBox=function(t,n){var o=this;return new Promise(function(u){var l=t.nodes;l!=null&&l.length||u(),qtt.includes(n)||(console.warn("The adjust type ".concat(n," is not supported yet, please assign it with 'force', 'grid', or 'circular'.")),u());var c={center:o.layoutCfg.center,nodeSize:function(D){return Math.max(D.height,D.width)},preventOverlap:!0,onLayoutEnd:function(){}},f=o.getLayoutBBox(l),h=f.groupNodes,v=f.layoutNodes,p=(0,w.clone)(v);c.onLayoutEnd=function(){v==null||v.forEach(function(E,D){var G,H,X,rt=E.x-((G=p[D])===null||G===void 0?void 0:G.x),ht=E.y-((H=p[D])===null||H===void 0?void 0:H.y);(X=h[D])===null||X===void 0||X.forEach(function(mt){mt.x+=rt,mt.y+=ht})}),u()};var g=new Bo.Layouts[n](c);g.layout({nodes:v})})},e.prototype.hasGPUVersion=function(t){return Jtt.includes(t)},e.prototype.destroy=function(){this.destoryLayoutMethods();var t=this.worker;t&&(t.terminate(),this.worker=null),this.destroyed=!0,this.graph.set("layout",void 0),this.layoutCfg=void 0,this.layoutType=void 0,this.layoutMethods=void 0,this.graph=null},e}(nR),eet=tet;function YA(a,e){for(var t=a.nodes,n=e.nodes,o=t.length,u=0;u<o;u++){var l=t[u];l.x=n[u].x,l.y=n[u].y}}function ret(a,e){var t={};return a&&HA(a)==="object"?(Object.keys(a).forEach(function(n){a.hasOwnProperty(n)&&e(a[n])&&(t[n]=a[n])}),t):a}function net(a,e){for(var t=a.nodes,n=e.vertexEdgeData,o=t.length,u=0;u<o;u++){var l=t[u],c=n[4*u],f=n[4*u+1];l.x=c,l.y=f}}function iet(a,e){var t;if(!!(!((t=a==null?void 0:a.nodes)===null||t===void 0)&&t.length)){var n=a.nodes;n.forEach(function(o){o.layoutOrder=e})}}var mR=ka,aet="svg",oet=function(a){(0,Z.__extends)(e,a);function e(t){var n=a.call(this,t)||this,o=n.get("defaultNode");return o||n.set("defaultNode",{type:"circle"}),o.type||(o.type="circle",n.set("defaultNode",o)),n.destroyed=!1,n}return e.prototype.initLayoutController=function(){var t=new eet(this);this.set({layoutController:t})},e.prototype.initEventController=function(){var t=new Ftt(this);this.set({eventController:t})},e.prototype.initCanvas=function(){var t=this.get("container");if(typeof t=="string"&&(t=document.getElementById(t),this.set("container",t)),!t)throw new Error("invalid container");var n=t.clientWidth,o=t.clientHeight,u=this.get("width")||n,l=this.get("height")||o;!this.get("width")&&!this.get("height")&&(this.set("width",n),this.set("height",o));var c=this.get("renderer"),f;if(c===aet)f=new Nm({container:t,width:u,height:l});else{var h={container:t,width:u,height:l},v=this.get("pixelRatio");v&&(h.pixelRatio=v),f=new fg(h)}this.set("canvas",f)},e.prototype.initPlugins=function(){var t=this;(0,w.each)(t.get("plugins"),function(n){!n.destroyed&&n.initPlugin&&n.initPlugin(t)})},e.prototype.downloadImageWatermark=function(t,n,o,u){return(0,Z.__awaiter)(this,void 0,void 0,function(){var l,c,f;return(0,Z.__generator)(this,function(h){switch(h.label){case 0:return l=t.style.backgroundImage,c=l.slice(5,l.length-2),f=new Image,f.src=c,[4,new Promise(function(v){f.onload=function(){var p=n.createPattern(f,"repeat");n.rect(0,0,o,u),n.fillStyle=p,n.fill(),v("")}})];case 1:return h.sent(),[2]}})})},e.prototype.asyncToDataUrl=function(t,n,o,u,l,c){var f=this,h=document.querySelector(".g6-graph-watermarker"),v=this.get("canvas"),p=v.getRenderer(),g=c||v.get("el"),E="";t||(t="image/png"),setTimeout(function(){return(0,Z.__awaiter)(f,void 0,void 0,function(){var D,G,H,X,rt,ht,mt,Dt,kt,Vt;return(0,Z.__generator)(this,function(te){switch(te.label){case 0:return p!=="svg"?[3,1]:(D=g.cloneNode(!0),G=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),H=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",G),H.replaceChild(D,H.documentElement),X=new XMLSerializer().serializeToString(H),E="data:image/svg+xml;charset=utf8,".concat(encodeURIComponent(X)),[3,4]);case 1:return rt=void 0,ht=g.getContext("2d"),mt=u||this.get("width"),Dt=l||this.get("height"),kt=void 0,h?[4,this.downloadImageWatermark(h,ht,mt,Dt)]:[3,3];case 2:te.sent(),te.label=3;case 3:if(n){Vt=typeof window!="undefined"?window.devicePixelRatio:1;try{rt=ht.getImageData(0,0,mt*Vt,Dt*Vt),kt=ht.globalCompositeOperation,ht.globalCompositeOperation="destination-over",ht.fillStyle=n,ht.fillRect(0,0,mt,Dt)}catch(le){console.error("Download image failed. Out of memory at ImageData creation")}}E=g.toDataURL(t),n&&(ht.clearRect(0,0,mt,Dt),ht.putImageData(rt,0,0),ht.globalCompositeOperation=kt),te.label=4;case 4:return o&&o(E),[2]}})})},16)},e.prototype.toDataURL=function(t,n){var o=this.get("canvas"),u=o.getRenderer(),l=o.get("el");t||(t="image/png");var c="";if(u==="svg"){var f=l.cloneNode(!0),h=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),v=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",h);v.replaceChild(f,v.documentElement);var p=new XMLSerializer().serializeToString(v);c="data:image/svg+xml;charset=utf8,".concat(encodeURIComponent(p))}else{var g=void 0,E=l.getContext("2d"),D=this.get("width"),G=this.get("height"),H=void 0;if(n){var X=typeof window!="undefined"?window.devicePixelRatio:1;try{g=E.getImageData(0,0,D*X,G*X),H=E.globalCompositeOperation,E.globalCompositeOperation="destination-over",E.fillStyle=n,E.fillRect(0,0,D,G)}catch(rt){console.error("Download image failed. Out of memory at ImageData creation")}}c=l.toDataURL(t),n&&(E.clearRect(0,0,D,G),E.putImageData(g,0,0),E.globalCompositeOperation=H)}return c},e.prototype.toFullDataURL=function(t,n,o){var u=this.get("group").getCanvasBBox(),l=u.height,c=u.width,f=this.get("renderer"),h=Fa('<div id="virtual-image"></div>'),v=o?o.backgroundColor:void 0,p=o?o.padding:void 0;p?(0,w.isNumber)(p)&&(p=[p,p,p,p]):p=[0,0,0,0];var g=l+p[0]+p[2],E=c+p[1]+p[3],D={container:h,height:g,width:E,quickHit:!0},G=f==="svg"?new Nm(D):new fg(D),H=this.get("group"),X=H.clone(),rt=(0,w.clone)(X.getMatrix());rt||(rt=[1,0,0,0,1,0,0,0,1]);var ht=(u.maxX+u.minX)/2,mt=(u.maxY+u.minY)/2;rt=mR(rt,[["t",-ht,-mt],["t",c/2+p[3],l/2+p[0]]]),X.resetMatrix(),X.setMatrix(rt),G.add(X);var Dt=G.get("el"),kt="";n||(n="image/png"),setTimeout(function(){if(f==="svg"){var Vt=Dt.cloneNode(!0),te=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),le=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",te);le.replaceChild(Vt,le.documentElement);var pe=new XMLSerializer().serializeToString(le);kt="data:image/svg+xml;charset=utf8,".concat(encodeURIComponent(pe))}else{var De=void 0,Xe=Dt.getContext("2d"),pr=void 0;if(v){var yr=typeof window!="undefined"?window.devicePixelRatio:1;try{De=Xe.getImageData(0,0,E*yr,g*yr),pr=Xe.globalCompositeOperation,Xe.globalCompositeOperation="destination-over",Xe.fillStyle=v,Xe.fillRect(0,0,E,g)}catch(Vr){console.error("Download image failed. Out of memory at ImageData creation")}}kt=Dt.toDataURL(n),v&&(Xe.clearRect(0,0,E,g),Xe.putImageData(De,0,0),Xe.globalCompositeOperation=pr)}t&&t(kt)},16)},e.prototype.downloadFullImage=function(t,n,o){var u=this,l=this.get("group").getCanvasBBox(),c=l.height,f=l.width,h=this.get("renderer"),v=Fa('<div id="virtual-image"></div>'),p=document.querySelector(".g6-graph-watermarker"),g=o?o.backgroundColor:void 0,E=o?o.padding:void 0;E?(0,w.isNumber)(E)&&(E=[E,E,E,E]):E=[0,0,0,0];var D=c+E[0]+E[2],G=f+E[1]+E[3];if(p){var H=this.get("graphWaterMarker").cfg||{},X=H.width,rt=H.height;D=Math.ceil(D/rt)*rt,G=Math.ceil(G/X)*X}var ht={container:v,height:D,width:G},mt=h==="svg"?new Nm(ht):new fg(ht),Dt=this.get("group"),kt=Dt.clone(),Vt=(0,w.clone)(kt.getMatrix());Vt||(Vt=[1,0,0,0,1,0,0,0,1]);var te=(l.maxX+l.minX)/2,le=(l.maxY+l.minY)/2;Vt=mR(Vt,[["t",-te,-le],["t",f/2+E[3],c/2+E[0]]]),kt.resetMatrix(),kt.setMatrix(Vt),mt.add(kt);var pe=mt.get("el");n||(n="image/png"),this.asyncToDataUrl(n,g,function(De){var Xe=document.createElement("a"),pr=(t||"graph")+(h==="svg"?".svg":".".concat(n.split("/")[1]));u.dataURLToImage(De,h,Xe,pr);var yr=document.createEvent("MouseEvents");yr.initEvent("click",!1,!1),Xe.dispatchEvent(yr)},G,D,pe)},e.prototype.downloadImage=function(t,n,o){var u=this,l=this;l.isAnimating()&&l.stopAnimate();var c=l.get("canvas"),f=c.getRenderer();n||(n="image/png");var h=(t||"graph")+(f==="svg"?".svg":n.split("/")[1]),v=document.createElement("a");l.asyncToDataUrl(n,o,function(p){u.dataURLToImage(p,f,v,h);var g=document.createEvent("MouseEvents");g.initEvent("click",!1,!1),v.dispatchEvent(g)})},e.prototype.dataURLToImage=function(t,n,o,u){if(!t||t==="data:"){console.error("Download image failed. The graph is too large or there is invalid attribute values in graph items");return}if(typeof window!="undefined")if(window.Blob&&window.URL&&n!=="svg"){var l=t.split(","),c="";if(l&&l.length>0){var f=l[0].match(/:(.*?);/);f&&f.length>=2&&(c=f[1])}for(var h=atob(l[1]),v=h.length,p=new Uint8Array(v);v--;)p[v]=h.charCodeAt(v);var g=new Blob([p],{type:c});window.navigator.msSaveBlob?window.navigator.msSaveBlob(g,u):o.addEventListener("click",function(){o.download=u,o.href=window.URL.createObjectURL(g)})}else o.addEventListener("click",function(){o.download=u,o.href=t})},e.prototype.addPlugin=function(t){var n=this;t.destroyed||(n.get("plugins").push(t),t.initPlugin(n))},e.prototype.removePlugin=function(t){var n=this.get("plugins"),o=n.indexOf(t);o>=0&&(t.destroyPlugin(),n.splice(o,1))},e.prototype.setImageWaterMarker=function(t,n){t===void 0&&(t=my.waterMarkerImage);var o=this.get("container");(0,w.isString)(o)&&(o=document.getElementById(o)),o.style.position||(o.style.position="relative");var u=this.get("graphWaterMarker"),l=(0,w.deepMix)({},my.imageWaterMarkerConfig,n),c=l.width,f=l.height,h=l.compatible,v=l.image;if(!u){var p={container:o,width:c,height:f,capture:!1},g=this.get("pixelRatio");g&&(p.pixelRatio=g),u=new fg(p),this.set("graphWaterMarker",u)}u.get("el").style.display="none";var E=u.get("context"),D=v.rotate,G=v.x,H=v.y;E.rotate(-D*Math.PI/180);var X=new Image;X.crossOrigin="anonymous",X.src=t,X.onload=function(){if(E.drawImage(X,G,H,v.width,v.height),E.rotate(D*Math.PI/180),h)o.style.cssText="background-image: url(".concat(u.get("el").toDataURL("image/png"),");background-repeat:repeat;");else{var rt=document.querySelector(".g6-graph-watermarker");rt||(rt=document.createElement("div"),rt.className="g6-graph-watermarker"),rt.className="g6-graph-watermarker",u.destroyed||(rt.style.cssText="background-image: url(".concat(u.get("el").toDataURL("image/png"),");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:-1;"),o.appendChild(rt))}}},e.prototype.setTextWaterMarker=function(t,n){var o=this.get("container");(0,w.isString)(o)&&(o=document.getElementById(o)),o.style.position||(o.style.position="relative");var u=this.get("graphWaterMarker"),l=(0,w.deepMix)({},my.textWaterMarkerConfig,n),c=l.width,f=l.height,h=l.compatible,v=l.text;if(!u){var p={container:o,width:c,height:f,capture:!1},g=this.get("pixelRatio");g&&(p.pixelRatio=g),u=new fg(p),this.set("graphWaterMarker",u)}u.get("el").style.display="none";var E=u.get("context"),D=v.rotate,G=v.fill,H=v.fontFamily,X=v.fontSize,rt=v.baseline,ht=v.x,mt=v.y,Dt=v.lineHeight;E.rotate(-D*Math.PI/180),E.font="".concat(X,"px ").concat(H),E.fillStyle=G,E.textBaseline=rt;for(var kt=t.length-1;kt>=0;kt--)E.fillText(t[kt],ht,mt+kt*Dt);if(E.rotate(D*Math.PI/180),h)o.style.cssText="background-image: url(".concat(u.get("el").toDataURL("image/png"),");background-repeat:repeat;");else{var Vt=document.querySelector(".g6-graph-watermarker");Vt||(Vt=document.createElement("div"),Vt.className="g6-graph-watermarker"),Vt.style.cssText="background-image: url(".concat(u.get("el").toDataURL("image/png"),");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:99;"),o.appendChild(Vt)}},e.prototype.destroy=function(){var t,n,o,u;(0,w.each)(this.get("plugins"),function(v){v.destroyPlugin()});var l=this.get("tooltips");if(l)for(var c=0;c<l.length;c++){var f=l[c];if(!!f){var h=f.parentElement;!h||h.removeChild(f)}}(t=this.get("eventController"))===null||t===void 0||t.destroy(),(n=this.get("layoutController"))===null||n===void 0||n.destroy(),(o=this.get("graphWaterMarker"))===null||o===void 0||o.destroy(),(u=document.querySelector(".g6-graph-watermarker"))===null||u===void 0||u.remove(),a.prototype.destroy.call(this)},e}(JL),xR=oet,set=Eg.radialLayout,uet=Eg.traverseTree,cet=function(a){(0,Z.__extends)(e,a);function e(t){var n=a.call(this,t)||this;return n.layoutAnimating=!1,n.set("removeList",[]),n.set("layoutMethod",n.getLayout()),n}return e.prototype.getLayout=function(){var t=this.get("layout");return t?typeof t=="function"?t:(t.type||(t.type="dendrogram"),t.direction||(t.direction="TB"),t.radial?function(n){var o=XS()[t.type](n,t);return set(o),o}:function(n){return XS()[t.type](n,t)}):null},e.indexOfChild=function(t,n){var o=-1;return(0,w.each)(t,function(u,l){if(n===u.id)return o=l,!1}),o},e.prototype.getDefaultCfg=function(){var t=a.prototype.getDefaultCfg.call(this);return t.animate=!0,t},e.prototype.innerAddChild=function(t,n,o){var u=this,l=t.data;l&&(l.x=t.x,l.y=t.y,l.depth=t.depth);var c=u.addItem("node",l,!1);if(n){if(c.set("parent",n),o){var f=n.get("originAttrs");if(f)c.set("originAttrs",f);else{var h=n.getModel();c.set("originAttrs",{x:h.x,y:h.y})}}var v=n.get("children");v?v.push(c):n.set("children",[c]),u.addItem("edge",{source:n.get("id"),target:c.get("id"),id:"".concat(n.get("id"),":").concat(c.get("id"))},!1)}return(0,w.each)(t.children||[],function(p){u.innerAddChild(p,c,o)}),u.emit("afteraddchild",{item:c,parent:n}),c},e.prototype.innerUpdateChild=function(t,n,o){var u=this,l=u.findById(t.id);if(!l){u.innerAddChild(t,n,o);return}(0,w.each)(t.children||[],function(D){u.innerUpdateChild(D,l,o)});var c=l.get("children");if(c){var f=c.length;if(f>0)for(var h=c.length-1;h>=0;h--){var v=c[h].getModel();e.indexOfChild(t.children||[],v.id)===-1&&(u.innerRemoveChild(v.id,{x:t.x,y:t.y},o),c.splice(h,1))}}var p,g;l.get("originAttrs")&&(p=l.get("originAttrs").x,g=l.get("originAttrs").y);var E=l.getModel();o&&l.set("originAttrs",{x:E.x,y:E.y}),l.set("model",t.data),(p!==t.x||g!==t.y)&&l.updatePosition({x:t.x,y:t.y})},e.prototype.innerRemoveChild=function(t,n,o){var u=this,l=u.findById(t);if(!!l)if((0,w.each)(l.get("children"),function(f){u.innerRemoveChild(f.getModel().id,n,o)}),o){var c=l.getModel();l.set("to",n),l.set("originAttrs",{x:c.x,y:c.y}),u.get("removeList").push(l)}else u.removeItem(l,!1)},e.prototype.changeData=function(t){var n=this;this.getNodes().map(function(o){return n.clearItemStates(o)}),this.getEdges().map(function(o){return n.clearItemStates(o)}),t?(n.data(t),n.render()):n.layout(this.get("fitView"))},e.prototype.changeLayout=function(t){console.warn("Please call updateLayout instead of changeLayout. changeLayout will be discarded soon");var n=this;n.updateLayout(t)},e.prototype.updateLayout=function(t){var n=this;if(!t){console.warn("layout cannot be null");return}n.set("layout",t),n.set("layoutMethod",n.getLayout()),n.layout()},e.prototype.refreshLayout=function(t){console.warn("Please call layout instead of refreshLayout. refreshLayout will be discarded soon");var n=this;n.layout(t)},e.prototype.layout=function(t){var n=this,o=n.get("data"),u=n.get("layoutMethod"),l=u?u(o,n.get("layout")):o,c=n.get("animate");if(n.emit("beforerefreshlayout",{data:o,layoutData:l}),n.emit("beforelayout"),n.innerUpdateChild(l,void 0,c),t){var f=n.get("viewController");f.fitView()}c?n.layoutAnimate(l):(n.refresh(),n.paint()),n.emit("afterrefreshlayout",{data:o,layoutData:l}),n.emit("afterlayout")},e.prototype.addChild=function(t,n){var o=this;o.emit("beforeaddchild",{model:t,parent:n}),(0,w.isString)(n)||(n=n.get("id"));var u=o.findDataById(n);u&&(u.children||(u.children=[]),u.children.push(t),o.changeData())},e.prototype.updateChildren=function(t,n){var o=this;if(!n||!o.findById(n)){console.warn("Update children failed! There is no node with id '".concat(n,"'"));return}var u=o.findDataById(n);u.children=t,o.changeData()},e.prototype.updateChild=function(t,n){var o=this;if(!n||!o.findById(n)){o.changeData(t);return}var u=o.findDataById(n),l=o.findById(t.id);if(u.children||(u.children=[]),!l)u.children.push(t);else{var c=e.indexOfChild(u.children,t.id);u.children[c]=t}o.changeData()},e.prototype.removeChild=function(t){var n=this,o=n.findById(t);if(!!o){var u=o.get("parent");if(u&&!u.destroyed){var l=n.findDataById(u.get("id")),c=l&&l.children||[],f=o.getModel(),h=e.indexOfChild(c,f.id);c.splice(h,1)}n.changeData()}},e.prototype.findDataById=function(t,n){var o=this;if(n||(n=o.get("data")),t===n.id)return n;var u=null;return(0,w.each)(n.children||[],function(l){if(l.id===t)return u=l,!1;if(u=o.findDataById(t,l),u)return!1}),u},e.prototype.layoutAnimate=function(t,n){var o=this,u=this.get("animateCfg");o.emit("beforeanimate",{data:t}),o.getEdges().forEach(function(l){var c=l.get("model");c.sourceAnchor||(c.sourceAnchor=l.get("sourceAnchorIndex"))}),this.get("canvas").animate(function(l){uet(t,function(c){var f=o.findById(c.id);if(f){var h=f.get("originAttrs"),v=f.get("model");if(h||(h={x:v.x,y:v.y},f.set("originAttrs",h)),n){var p=n(f,l,h,t);f.set("model",Object.assign(v,p))}else v.x=h.x+(c.x-h.x)*l,v.y=h.y+(c.y-h.y)*l}return!0}),(0,w.each)(o.get("removeList"),function(c){var f=c.getModel(),h=c.get("originAttrs"),v=c.get("to");f.x=h.x+(v.x-h.x)*l,f.y=h.y+(v.y-h.y)*l}),o.refreshPositions()},{duration:u.duration,easing:u.ease,callback:function(){(0,w.each)(o.getNodes(),function(c){c.set("originAttrs",null)}),(0,w.each)(o.get("removeList"),function(c){o.removeItem(c)}),o.set("removeList",[]),u.callback&&u.callback(),o.emit("afteranimate",{data:t})},delay:u.delay})},e.prototype.stopLayoutAnimate=function(){this.get("canvas").stopAnimate(),this.emit("layoutanimateend",{data:this.get("data")}),this.layoutAnimating=!1},e.prototype.isLayoutAnimating=function(){return this.layoutAnimating},e.prototype.render=function(){var t=this,n=t.get("data");if(!n||!(0,w.isObject)(n)||!Object.keys(n).length)throw new Error("data must be defined first");t.clear(),t.emit("beforerender"),t.layout(this.get("fitView")),t.emit("afterrender")},e.prototype.save=function(){return this.get("data")},e}(xR),fet=cet,het=function(){function a(e){this._cfgs=(0,w.deepMix)(this.getDefaultCfgs(),e),this._events={},this.destroyed=!1}return a.prototype.getDefaultCfgs=function(){return{}},a.prototype.initPlugin=function(e){var t=this;t.set("graph",e);var n=t.getEvents(),o={};(0,w.each)(n,function(u,l){var c=(0,w.wrapBehavior)(t,u);o[l]=c,e.on(l,c)}),this._events=o,this.init()},a.prototype.getEvents=function(){return{}},a.prototype.get=function(e){var t;return(t=this._cfgs)===null||t===void 0?void 0:t[e]},a.prototype.set=function(e,t){this._cfgs[e]=t},a.prototype.destroy=function(){},a.prototype.destroyPlugin=function(){this.destroy();var e=this.get("graph"),t=this._events;(0,w.each)(t,function(n,o){e.off(o,n)}),this._events=null,this._cfgs=null,this.destroyed=!0},a}(),wv=het,det=function(){var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var l in u)Object.prototype.hasOwnProperty.call(u,l)&&(o[l]=u[l])},a(t,n)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),bR="url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAwIDEwIEwgNDAgMTAgTSAxMCAwIEwgMTAgNDAgTSAwIDIwIEwgNDAgMjAgTSAyMCAwIEwgMjAgNDAgTSAwIDMwIEwgNDAgMzAgTSAzMCAwIEwgMzAgNDAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2UwZTBlMCIgb3BhY2l0eT0iMC4yIiBzdHJva2Utd2lkdGg9IjEiLz48cGF0aCBkPSJNIDQwIDAgTCAwIDAgMCA0MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48L3BhdHRlcm4+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjZ3JpZCkiLz48L3N2Zz4=)",vet=function(a){det(e,a);function e(t){return a.call(this,t)||this}return e.prototype.getDefaultCfgs=function(){return{img:bR,follow:!0}},e.prototype.init=function(){var t=this.get("graph"),n=t.get("container"),o=t.get("canvas").get("el"),u=this.get("img")||bR,l=Fa(`<div class='g6-grid-container' style="position:absolute;overflow:hidden;z-index: -1;"></div>`),c=Fa(`<div
        class='g6-grid'
        style='position:absolute;
        background-image: `.concat(u,`;
        user-select: none
        '></div>`));this.set("container",l),this.set("gridContainer",c),this.positionInit(),l.appendChild(c),n.insertBefore(l,o)},e.prototype.positionInit=function(){var t=this.get("graph"),n=t.get("minZoom"),o=t.get("width"),u=t.get("height");Ri(this.get("container"),{width:"".concat(o,"px"),height:"".concat(u,"px")});var l=o*80/n,c=u*80/n;Ri(this.get("gridContainer"),{width:"".concat(l,"px"),height:"".concat(c,"px"),left:"-".concat(l/2,"px"),top:"-".concat(c/2,"px")})},e.prototype.getEvents=function(){return{viewportchange:"updateGrid"}},e.prototype.updateGrid=function(t){var n=this.get("gridContainer"),o=t.matrix;o||(o=[1,0,0,0,1,0,0,0,1]);var u=this.get("follow"),l="matrix(".concat(o[0],", ").concat(o[1],", ").concat(o[3],", ").concat(o[4],", ").concat(u?o[6]:"0",", ").concat(u?o[7]:"0",")");Ri(n,{transform:l})},e.prototype.getContainer=function(){return this.get("container")},e.prototype.destroy=function(){var t=this.get("graph"),n=t.get("container"),o=this.get("container");n.removeChild(o)},e}(wv),pet=vet,get=je(38186),XA=je.n(get),yet=function(){var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var l in u)Object.prototype.hasOwnProperty.call(u,l)&&(o[l]=u[l])},a(t,n)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();typeof document!="undefined"&&XA()(`
  .g6-component-contextmenu {
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    background-color: rgba(255, 255, 255, 0.9);
    padding: 10px 8px;
    box-shadow: rgb(174, 174, 174) 0px 0px 10px;
  }
  .g6-contextmenu-ul {
    padding: 0;
    margin: 0;
    list-style: none;
  }

`);var met=function(a){yet(e,a);function e(t){return a.call(this,t)||this}return e.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,handleMenuClick:void 0,getContent:function(n){return`
          <ul class='g6-contextmenu-ul'>
            <li>\u83DC\u5355\u98791</li>
            <li>\u83DC\u5355\u98792</li>
          </ul>
        `},shouldBegin:function(n){return!0},onHide:function(){return!0},itemTypes:["node","edge","combo"],trigger:"contextmenu"}},e.prototype.getEvents=function(){return this.get("trigger")==="click"?{click:"onMenuShow",touchend:"onMenuShow"}:{contextmenu:"onMenuShow"}},e.prototype.init=function(){var t=this.get("className"),n=Fa("<div class=".concat(t||"g6-component-contextmenu","></div>"));Ri(n,{top:"0px",position:"absolute",visibility:"hidden"});var o=this.get("container");o||(o=this.get("graph").get("container")),(0,w.isString)(o)&&(o=document.getElementById(o)),o.appendChild(n),this.set("menu",n)},e.prototype.onMenuShow=function(t){var n=this;t.preventDefault();var o=this.get("itemTypes");if(t.item){if(t.item&&t.item.getType&&o.indexOf(t.item.getType())===-1){n.onMenuHide();return}}else if(o.indexOf("canvas")===-1){n.onMenuHide();return}var u=this.get("shouldBegin");if(!!u(t)){var l=this.get("menu"),c=this.get("getContent"),f=this.get("graph"),h=c(t,f);(0,w.isString)(h)?l.innerHTML=h:l.innerHTML=h.outerHTML,this.removeMenuEventListener();var v=this.get("handleMenuClick");if(v){var p=function(te){v(te.target,t.item,f)};this.set("handleMenuClickWrapper",p),l.addEventListener("click",p)}var g=f.get("width"),E=f.get("height"),D=l.getBoundingClientRect(),G=this.get("offsetX")||0,H=this.get("offsetY")||0,X=f.getContainer().offsetTop,rt=f.getContainer().offsetLeft,ht=t.canvasX+rt+G,mt=t.canvasY+X+H;ht+D.width>g&&(ht=t.canvasX-D.width-G+rt),mt+D.height>E&&(mt=t.canvasY-D.height-H+X),Ri(l,{top:"".concat(mt,"px"),left:"".concat(ht,"px"),visibility:"visible"});var Dt=this.get("trigger")==="click",kt=function(te){if(Dt){Dt=!1;return}n.onMenuHide()};document.body.addEventListener("click",kt),this.set("handler",kt)}},e.prototype.removeMenuEventListener=function(){var t=this.get("handleMenuClickWrapper"),n=this.get("handler");if(t){var o=this.get("menu");o.removeEventListener("click",t),this.set("handleMenuClickWrapper",null)}n&&document.body.removeEventListener("click",n)},e.prototype.onMenuHide=function(){var t=this.get("menu");t&&Ri(t,{visibility:"hidden"}),this.removeMenuEventListener()},e.prototype.destroy=function(){var t=this.get("menu");if(this.removeMenuEventListener(),t){var n=this.get("container");n||(n=this.get("graph").get("container")),(0,w.isString)(n)&&(n=document.getElementById(n)),n.removeChild(t)}},e}(wv),xet=met,bet=function(){var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var l in u)Object.prototype.hasOwnProperty.call(u,l)&&(o[l]=u[l])},a(t,n)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),$A=function(){return $A=Object.assign||function(a){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(a[o]=e[o])}return a},$A.apply(this,arguments)},ER=Math.max,Eet=ka,wet="default",_et="keyShape",Aet="delegate",SR="svg",Cet=function(a){bet(e,a);function e(t){var n=a.call(this,t)||this;return n.handleUpdateCanvas=(0,w.debounce)(function(o){var u=n;u.destroyed||u.updateCanvas()},100,!1),n}return e.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-minimap",viewportClassName:"g6-minimap-viewport",type:"default",padding:50,size:[200,120],delegateStyle:{fill:"#40a9ff",stroke:"#096dd9"},refresh:!0}},e.prototype.getEvents=function(){return{beforepaint:"updateViewport",beforeanimate:"disableRefresh",afteranimate:"enableRefresh",viewportchange:"disableOneRefresh"}},e.prototype.disableRefresh=function(){this.set("refresh",!1)},e.prototype.enableRefresh=function(){this.set("refresh",!0),this.updateCanvas()},e.prototype.disableOneRefresh=function(){this.set("viewportChange",!0)},e.prototype.initViewport=function(){var t=this,n=this._cfgs,o=n.size,u=n.graph;if(!this.destroyed){var l=this.get("canvas"),c=l.get("container"),f=Fa(`
      <div
        class=`.concat(n.viewportClassName,`
        style='position:absolute;
          left:0;
          top:0;
          box-sizing:border-box;
          outline: 2px solid #1980ff'
        draggable=true>
      </div>`)),h=navigator.userAgent.toLowerCase().indexOf("firefox")>-1,v=0,p=0,g=!1,E=0,D=0,G=0,H=0,X=0,rt=0;f.addEventListener("dragstart",function(ht){var mt,Dt;if(ht.dataTransfer){var kt=new Image;kt.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' %3E%3Cpath /%3E%3C/svg%3E",(Dt=(mt=ht.dataTransfer).setDragImage)===null||Dt===void 0||Dt.call(mt,kt,0,0);try{ht.dataTransfer.setData("text/html","view-port-minimap")}catch(te){ht.dataTransfer.setData("text","view-port-minimap")}}if(n.refresh=!1,ht.target===f){var Vt=f.style;E=parseInt(Vt.left,10),D=parseInt(Vt.top,10),G=parseInt(Vt.width,10),H=parseInt(Vt.height,10),!(G>o[0]||H>o[1])&&(rt=u.getZoom(),X=t.get("ratio"),g=!0,v=ht.clientX,p=ht.clientY)}},!1),f.addEventListener(h?"dragover":"drag",function(ht){if(!(!g||(0,w.isNil)(ht.clientX)||(0,w.isNil)(ht.clientY))){var mt=v-ht.clientX,Dt=p-ht.clientY;(E-mt<0||E-mt+G>=o[0])&&(mt=0),(D-Dt<0||D-Dt+H>=o[1])&&(Dt=0),E-=mt,D-=Dt,Ri(f,{left:"".concat(E,"px"),top:"".concat(D,"px")}),u.translate(mt*rt/X,Dt*rt/X),v=ht.clientX,p=ht.clientY}},!1),f.addEventListener("dragend",function(){g=!1,n.refresh=!0},!1),this.set("viewport",f),c.appendChild(f)}},e.prototype.updateViewport=function(){if(!this.destroyed){var t=this.get("ratio"),n=this.get("dx"),o=this.get("dy"),u=this.get("totaldx"),l=this.get("totaldy"),c=this.get("graph"),f=this.get("size"),h=c.get("width"),v=c.get("height"),p=c.getPointByCanvas(0,0),g=c.getPointByCanvas(h,v),E=this.get("viewport");E||this.initViewport();var D=(g.x-p.x)*t,G=(g.y-p.y)*t,H=p.x*t+u,X=p.y*t+l,rt=H+D,ht=X+G;H<0&&(D+=H,H=0),rt>f[0]&&(D=D-(rt-f[0])),X<0&&(G+=X,X=0),ht>f[1]&&(G=G-(ht-f[1])),this.set("ratio",t);var mt="".concat(H,"px"),Dt="".concat(X,"px");Ri(E,{left:mt,top:Dt,width:"".concat(D,"px"),height:"".concat(G,"px")})}},e.prototype.updateGraphShapes=function(){var t=this._cfgs.graph,n=this.get("canvas"),o=t.get("group");if(!o.destroyed){var u=o.clone();u.resetMatrix(),n.clear(),n.add(u);var l=t.get("renderer");l===SR&&this.updateVisible(u)}},e.prototype.updateVisible=function(t){var n=this;if(!t.isGroup()&&!t.get("visible"))t.hide();else{var o=t.get("children");if(!o||!o.length)return;o.forEach(function(u){u.get("visible")||u.hide(),n.updateVisible(u)})}},e.prototype.updateKeyShapes=function(){var t=this,n=this._cfgs.graph,o=this.get("canvas"),u=o.get("children")[0]||o.addGroup();(0,w.each)(n.getEdges(),function(f){t.updateOneEdgeKeyShape(f,u)}),(0,w.each)(n.getNodes(),function(f){t.updateOneNodeKeyShape(f,u)});var l=n.getCombos();if(l&&l.length){var c=u.find(function(f){return f.get("name")==="comboGroup"})||u.addGroup({name:"comboGroup"});setTimeout(function(){t.destroyed||((0,w.each)(l,function(f){t.updateOneComboKeyShape(f,c)}),c==null||c.sort(),c==null||c.toBack(),t.updateCanvas())},250)}this.clearDestroyedShapes()},e.prototype.updateOneComboKeyShape=function(t,n){if(!this.destroyed){var o=this.get("itemMap")||{},u=o[t.get("id")],l=t.getBBox(),c=t.get("keyShape").clone(),f=c.attr(),h={x:l.centerX,y:l.centerY};u?h=Object.assign(f,h):(u=c,n.add(u));var v=u.get("type");(v==="rect"||v==="image")&&(h.x=l.minX,h.y=l.minY),u.attr(h),t.isVisible()?u.show():u.hide(),u.exist=!0;var p=t.getModel().depth;isNaN(p)||u.set("zIndex",p),o[t.get("id")]=u,this.set("itemMap",o)}},e.prototype.updateOneNodeKeyShape=function(t,n){var o=this.get("itemMap")||{},u=o[t.get("id")],l=t.getBBox(),c=t.get("keyShape").clone(),f=c.attr(),h={x:l.centerX,y:l.centerY};u?h=Object.assign(f,h):(u=c,n.add(u));var v=u.get("type");(v==="rect"||v==="image")&&(h.x=l.minX,h.y=l.minY),u.attr(h),t.isVisible()?u.show():u.hide(),u.exist=!0;var p=t.getModel().depth;isNaN(p)||u.set("zIndex",p),o[t.get("id")]=u,this.set("itemMap",o)},e.prototype.updateDelegateShapes=function(){var t=this,n=this._cfgs.graph,o=this.get("canvas"),u=o.get("children")[0]||o.addGroup();(0,w.each)(n.getEdges(),function(f){t.updateOneEdgeKeyShape(f,u)}),(0,w.each)(n.getNodes(),function(f){t.updateOneNodeDelegateShape(f,u)});var l=n.getCombos();if(l&&l.length){var c=u.find(function(f){return f.get("name")==="comboGroup"})||u.addGroup({name:"comboGroup"});setTimeout(function(){t.destroyed||((0,w.each)(l,function(f){t.updateOneComboKeyShape(f,c)}),c==null||c.sort(),c==null||c.toBack(),t.updateCanvas())},250)}this.clearDestroyedShapes()},e.prototype.clearDestroyedShapes=function(){var t=this.get("itemMap")||{},n=Object.keys(t);if(!(!n||n.length===0))for(var o=n.length-1;o>=0;o--){var u=t[n[o]],l=u.exist;u.exist=!1,l||(u.remove(),delete t[n[o]])}},e.prototype.updateOneEdgeKeyShape=function(t,n){var o=this.get("itemMap")||{},u=o[t.get("id")];if(u){var l=t.get("keyShape").attr("path");u.attr("path",l)}else u=t.get("keyShape").clone(),n.add(u);t.isVisible()?u.show():u.hide(),u.exist=!0,o[t.get("id")]=u,this.set("itemMap",o)},e.prototype.updateOneNodeDelegateShape=function(t,n){var o=this.get("delegateStyle"),u=this.get("itemMap")||{},l=u[t.get("id")],c=t.getBBox();if(l){var f={x:c.minX,y:c.minY,width:c.width,height:c.height};l.attr(f)}else l=n.addShape("rect",{attrs:$A({x:c.minX,y:c.minY,width:c.width,height:c.height},o),name:"minimap-node-shape"});t.isVisible()?l.show():l.hide(),l.exist=!0,u[t.get("id")]=l,this.set("itemMap",u)},e.prototype.init=function(){this.initContainer(),this.get("graph").on("afterupdateitem",this.handleUpdateCanvas),this.get("graph").on("afteritemstatechange",this.handleUpdateCanvas),this.get("graph").on("afteradditem",this.handleUpdateCanvas),this.get("graph").on("afterremoveitem",this.handleUpdateCanvas),this.get("graph").on("afterrender",this.handleUpdateCanvas),this.get("graph").on("afterlayout",this.handleUpdateCanvas)},e.prototype.initContainer=function(){var t=this,n=t.get("graph"),o=t.get("size"),u=t.get("className"),l=t.get("container"),c=Fa("<div class='".concat(u,"' style='width: ").concat(o[0],"px; height: ").concat(o[1],"px; overflow: hidden'></div>"));(0,w.isString)(l)&&(l=document.getElementById(l)),l?l.appendChild(c):n.get("container").appendChild(c),t.set("container",c);var f=Fa('<div class="g6-minimap-container" style="position: relative;"></div>');c.appendChild(f),f.addEventListener("dragenter",function(p){p.preventDefault()}),f.addEventListener("dragover",function(p){p.preventDefault()});var h,v=n.get("renderer");v===SR?h=new Nm({container:f,width:o[0],height:o[1]}):h=new fg({container:f,width:o[0],height:o[1]}),t.set("canvas",h),t.updateCanvas()},e.prototype.updateCanvas=function(){if(!this.destroyed){var t=this.get("refresh");if(!!t){var n=this.get("graph");if(!n.get("destroyed")){this.get("viewportChange")&&(this.set("viewportChange",!1),this.updateViewport());var o=this.get("size"),u=this.get("canvas"),l=this.get("type"),c=this.get("padding");if(!u.destroyed){switch(l){case wet:this.updateGraphShapes();break;case _et:this.updateKeyShapes();break;case Aet:this.updateDelegateShapes();break;default:break}var f=u.get("children")[0];if(!!f){f.resetMatrix();var h=f.getCanvasBBox(),v=n.get("canvas").getCanvasBBox(),p=n.getZoom()||1,g=v.width/p,E=v.height/p;Number.isFinite(h.width)&&(g=ER(h.width,g),E=ER(h.height,E)),g+=2*c,E+=2*c;var D=Math.min(o[0]/g,o[1]/E),G=[1,0,0,0,1,0,0,0,1],H=0,X=0;Number.isFinite(h.minX)&&(H=-h.minX),Number.isFinite(h.minY)&&(X=-h.minY);var rt=(o[0]-(g-2*c)*D)/2,ht=(o[1]-(E-2*c)*D)/2;G=Eet(G,[["t",H,X],["s",D,D],["t",rt,ht]]),f.setMatrix(G),this.set("ratio",D),this.set("totaldx",rt+H*D),this.set("totaldy",ht+X*D),this.set("dx",rt),this.set("dy",ht),this.updateViewport()}}}}}},e.prototype.getCanvas=function(){return this.get("canvas")},e.prototype.getViewport=function(){return this.get("viewport")},e.prototype.getContainer=function(){return this.get("container")},e.prototype.destroy=function(){var t;(t=this.get("canvas"))===null||t===void 0||t.destroy();var n=this.get("container");n!=null&&n.parentNode&&n.parentNode.removeChild(n)},e}(wv),Tet=Cet,Met=function(){var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var l in u)Object.prototype.hasOwnProperty.call(u,l)&&(o[l]=u[l])},a(t,n)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();function jp(a,e,t){var n=a.x-e.x,o=a.y-e.y;return!t||Math.abs(n)>t||Math.abs(o)>t?Math.sqrt(n*n+o*o):t}function Iet(a,e){return a.x*e.x+a.y*e.y}function wR(a,e){var t=(e.source.y-e.target.y)/(e.source.x-e.target.x),n=(t*t*e.source.x+t*(a.y-e.source.y)+a.x)/(t*t+1),o=t*(n-e.source.x)+e.source.y;return{x:n,y:o}}var Oet=function(a){Met(e,a);function e(t){return a.call(this,t)||this}return e.prototype.getDefaultCfgs=function(){return{edgeBundles:[],edgePoints:[],K:.1,lambda:.1,divisions:1,divRate:2,cycles:6,iterations:90,iterRate:.6666667,bundleThreshold:.6,eps:1e-6,onLayoutEnd:function(){},onTick:function(){}}},e.prototype.init=function(){var t=this.get("graph"),n=this.get("onTick"),o=function(){n&&n(),t.refreshPositions()};this.set("tick",o)},e.prototype.bundling=function(t){var n=this;if(n.set("data",t),!n.isTicking()){var o=t.edges||[],u=t.nodes||[],l={},c=!1;if(u.forEach(function(mt){(mt.x===null||!mt.y===null||mt.x===void 0||!mt.y===void 0)&&(c=!0),l[mt.id]=mt}),c)throw new Error("please layout the graph or assign x and y for nodes first");n.set("nodeIdMap",l);var f=n.get("divisions"),h=n.get("divRate"),v=n.divideEdges(f);n.set("edgePoints",v);var p=n.getEdgeBundles();n.set("edgeBundles",p);for(var g=n.get("cycles"),E=n.get("iterations"),D=n.get("iterRate"),G=n.get("lambda"),H=0;H<g;H++){for(var X=function(Dt){var kt=[];o.forEach(function(Vt,te){if(Vt.source!==Vt.target){var le=l[Vt.source],pe=l[Vt.target];kt[te]=n.getEdgeForces({source:le,target:pe},te,f,G);for(var De=0;De<f+1;De++)v[te][De].x+=kt[te][De].x,v[te][De].y+=kt[te][De].y}})},rt=0;rt<E;rt++)X(rt);G=G/2,f*=h,E*=D,v=n.divideEdges(f),n.set("edgePoints",v)}o.forEach(function(mt,Dt){mt.source!==mt.target&&(mt.type="polyline",mt.controlPoints=v[Dt].slice(1,v[Dt].length-1))});var ht=n.get("graph");ht.refresh()}},e.prototype.updateBundling=function(t){var n=this,o=t.data;if(o&&n.set("data",o),n.get("ticking")&&n.set("ticking",!1),Object.keys(t).forEach(function(l){n.set(l,t[l])}),t.onTick){var u=this.get("graph");n.set("tick",function(){t.onTick(),u.refresh()})}n.bundling(o)},e.prototype.divideEdges=function(t){var n=this,o=n.get("data").edges,u=n.get("nodeIdMap"),l=n.get("edgePoints");return(!l||l===void 0)&&(l=[]),o.forEach(function(c,f){(!l[f]||l[f]===void 0)&&(l[f]=[]);var h=u[c.source],v=u[c.target];if(t===1)l[f].push({x:h.x,y:h.y}),l[f].push({x:.5*(h.x+v.x),y:.5*(h.y+v.y)}),l[f].push({x:v.x,y:v.y});else{var p=0;!l[f]||l[f]===[]?p=jp({x:h.x,y:h.y},{x:v.x,y:v.y}):p=n.getEdgeLength(l[f]);var g=p/(t+1),E=g,D=[{x:h.x,y:h.y}];l[f].forEach(function(G,H){if(H!==0){for(var X=jp(G,l[f][H-1]);X>E;){var rt=E/X,ht={x:l[f][H-1].x,y:l[f][H-1].y};ht.x+=rt*(G.x-l[f][H-1].x),ht.y+=rt*(G.y-l[f][H-1].y),D.push(ht),X-=E,E=g}E-=X}}),D.push({x:v.x,y:v.y}),l[f]=D}}),l},e.prototype.getEdgeLength=function(t){var n=0;return t.forEach(function(o,u){u!==0&&(n+=jp(o,t[u-1]))}),n},e.prototype.getEdgeBundles=function(){var t=this,n=t.get("data"),o=n.edges||[],u=t.get("bundleThreshold"),l=t.get("nodeIdMap"),c=t.get("edgeBundles");return c||(c=[]),o.forEach(function(f,h){(!c[h]||c[h]===void 0)&&(c[h]=[])}),o.forEach(function(f,h){var v=l[f.source],p=l[f.target];o.forEach(function(g,E){if(!(E<=h)){var D=l[g.source],G=l[g.target],H=t.getBundleScore({source:v,target:p},{source:D,target:G});H>=u&&(c[h].push(E),c[E].push(h))}})}),c},e.prototype.getBundleScore=function(t,n){var o=this;t.vx=t.target.x-t.source.x,t.vy=t.target.y-t.source.y,n.vx=n.target.x-n.source.x,n.vy=n.target.y-n.source.y,t.length=jp({x:t.source.x,y:t.source.y},{x:t.target.x,y:t.target.y}),n.length=jp({x:n.source.x,y:n.source.y},{x:n.target.x,y:n.target.y});var u=o.getAngleScore(t,n),l=o.getScaleScore(t,n),c=o.getPositionScore(t,n),f=o.getVisibilityScore(t,n);return u*l*c*f},e.prototype.getAngleScore=function(t,n){var o=Iet({x:t.vx,y:t.vy},{x:n.vx,y:n.vy});return o/(t.length*n.length)},e.prototype.getScaleScore=function(t,n){var o=(t.length+n.length)/2,u=2/(o/Math.min(t.length,n.length)+Math.max(t.length,n.length)/o);return u},e.prototype.getPositionScore=function(t,n){var o=(t.length+n.length)/2,u={x:(t.source.x+t.target.x)/2,y:(t.source.y+t.target.y)/2},l={x:(n.source.x+n.target.x)/2,y:(n.source.y+n.target.y)/2},c=jp(u,l);return o/(o+c)},e.prototype.getVisibilityScore=function(t,n){var o=this.getEdgeVisibility(t,n),u=this.getEdgeVisibility(n,t);return o<u?o:u},e.prototype.getEdgeVisibility=function(t,n){var o=wR(n.source,t),u=wR(n.target,t),l={x:(o.x+u.x)/2,y:(o.y+u.y)/2},c={x:(t.source.x+t.target.x)/2,y:(t.source.y+t.target.y)/2};return Math.max(0,1-2*jp(l,c)/jp(o,u))},e.prototype.getEdgeForces=function(t,n,o,u){for(var l=this,c=l.get("edgePoints"),f=l.get("K"),h=f/(jp(t.source,t.target)*(o+1)),v=[{x:0,y:0}],p=1;p<o;p++){var g={x:0,y:0},E=l.getSpringForce({pre:c[n][p-1],cur:c[n][p],next:c[n][p+1]},h),D=l.getElectrostaticForce(p,n);g.x=u*(E.x+D.x),g.y=u*(E.y+D.y),v.push(g)}return v.push({x:0,y:0}),v},e.prototype.getSpringForce=function(t,n){var o=t.pre.x+t.next.x-2*t.cur.x,u=t.pre.y+t.next.y-2*t.cur.y;return o*=n,u*=n,{x:o,y:u}},e.prototype.getElectrostaticForce=function(t,n){var o=this,u=o.get("eps"),l=o.get("edgeBundles"),c=o.get("edgePoints"),f=l[n],h={x:0,y:0};return f.forEach(function(v){var p={x:c[v][t].x-c[n][t].x,y:c[v][t].y-c[n][t].y};if(Math.abs(p.x)>u||Math.abs(p.y)>u){var g=jp(c[v][t],c[n][t]),E=1/g;h.x+=p.x*E,h.y+=p.y*E}}),h},e.prototype.isTicking=function(){return this.get("ticking")},e.prototype.getSimulation=function(){return this.get("forceSimulation")},e.prototype.destroy=function(){this.get("ticking")&&this.getSimulation().stop(),a.prototype.destroy.call(this)},e}(wv),Det=Oet,Pet=function(){var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var l in u)Object.prototype.hasOwnProperty.call(u,l)&&(o[l]=u[l])},a(t,n)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),KA=function(){return KA=Object.assign||function(a){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(a[o]=e[o])}return a},KA.apply(this,arguments)},KS=.05,_R={stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:.1,fill:"#ccc"},Let=function(a){Pet(e,a);function e(t){return a.call(this,t)||this}return e.prototype.getDefaultCfgs=function(){return{trigger:"mousemove",d:1.5,r:300,delegateStyle:(0,w.clone)(_R),showLabel:!1,maxD:5,minD:0,scaleRBy:"unset",scaleDBy:"unset",showDPercent:!0}},e.prototype.getEvents=function(){var t;switch(this.get("trigger")){case"click":t={click:"magnify"};break;case"drag":t={click:"createDelegate"};break;default:t={mousemove:"magnify"};break}return t},e.prototype.init=function(){var t=this,n=t.get("r");t.set("cachedMagnifiedModels",[]),t.set("cachedOriginPositions",{}),t.set("r2",n*n);var o=t.get("d");t.set("molecularParam",(o+1)*n)},e.prototype.createDelegate=function(t){var n=this,o=this,u=o.get("delegate");(!u||u.destroyed)&&(o.magnify(t),u=o.get("delegate"),u.on("dragstart",function(l){o.set("delegateCenterDiff",{x:u.attr("x")-l.x,y:u.attr("y")-l.y})}),u.on("drag",function(l){o.magnify(l)}),this.get("scaleDBy")==="wheel"&&u.on("mousewheel",function(l){n.scaleDByWheel(l)}),this.get("scaleRBy")==="wheel"&&u.on("mousewheel",function(l){o.scaleRByWheel(l)}))},e.prototype.scaleRByWheel=function(t){var n=this;if(!(!t||!t.originalEvent)){t.preventDefault&&t.preventDefault();var o=n.get("graph"),u,l=n.get("delegate"),c=l?{x:l.attr("x"),y:l.attr("y")}:void 0,f=c||o.getPointByClient(t.clientX,t.clientY);t.originalEvent.wheelDelta<0?u=1-KS:u=1/(1-KS);var h=n.get("maxR"),v=n.get("minR"),p=n.get("r");(p>(h||o.get("height"))&&u>1||p<(v||o.get("height")*.05)&&u<1)&&(u=1),p*=u,n.set("r",p),n.set("r2",p*p);var g=n.get("d");n.set("molecularParam",(g+1)*p),n.set("delegateCenterDiff",void 0),n.magnify(t,f)}},e.prototype.scaleRByDrag=function(t){var n=this;if(!!t){var o=n.get("dragPrePos"),u=n.get("graph"),l,c=u.getPointByClient(t.clientX,t.clientY);t.x-o.x<0?l=1-KS:l=1/(1-KS);var f=n.get("maxR"),h=n.get("minR"),v=n.get("r");(v>(f||u.get("height"))&&l>1||v<(h||u.get("height")*.05)&&l<1)&&(l=1),v*=l,n.set("r",v),n.set("r2",v*v);var p=n.get("d");n.set("molecularParam",(p+1)*v),n.magnify(t,c),n.set("dragPrePos",{x:t.x,y:t.y})}},e.prototype.scaleDByWheel=function(t){var n=this;if(!(!t&&!t.originalEvent)){t.preventDefault&&t.preventDefault();var o=0;t.originalEvent.wheelDelta<0?o=-.1:o=.1;var u=n.get("d"),l=u+o,c=n.get("maxD"),f=n.get("minD");if(l<c&&l>f){n.set("d",l);var h=n.get("r");n.set("molecularParam",(l+1)*h);var v=n.get("delegate"),p=v?{x:v.attr("x"),y:v.attr("y")}:void 0;n.set("delegateCenterDiff",void 0),n.magnify(t,p)}}},e.prototype.scaleDByDrag=function(t){var n=this,o=n.get("dragPrePos"),u=t.x-o.x>0?.1:-.1,l=n.get("d"),c=l+u,f=n.get("maxD"),h=n.get("minD");if(c<f&&c>h){n.set("d",c);var v=n.get("r");n.set("molecularParam",(c+1)*v),n.magnify(t)}n.set("dragPrePos",{x:t.x,y:t.y})},e.prototype.magnify=function(t,n){var o=this;o.restoreCache();var u=o.get("graph"),l=o.get("cachedMagnifiedModels"),c=o.get("cachedOriginPositions"),f=o.get("showLabel"),h=o.get("r"),v=o.get("r2"),p=o.get("d"),g=o.get("molecularParam"),E=u.getNodes(),D=E.length,G=n?{x:n.x,y:n.y}:{x:t.x,y:t.y};o.get("dragging")&&(o.get("trigger")==="mousemove"||o.get("trigger")==="click")&&(G=o.get("cacheCenter"));var H=o.get("delegateCenterDiff");H&&(G.x+=H.x,G.y+=H.y),o.updateDelegate(G,h);for(var X=0;X<D;X++){var rt=E[X].getModel(),ht=rt.x,mt=rt.y;if(!(isNaN(ht)||isNaN(mt))){var Dt=(ht-G.x)*(ht-G.x)+(mt-G.y)*(mt-G.y);if(!isNaN(Dt)&&Dt<v&&Dt!==0){var kt=Math.sqrt(Dt),Vt=g*kt/(p*kt+h),te=(ht-G.x)/kt,le=(mt-G.y)/kt;if(rt.x=te*Vt+G.x,rt.y=le*Vt+G.y,c[rt.id]||(c[rt.id]={x:ht,y:mt,texts:[]}),l.push(rt),f&&2*kt<h)for(var pe=E[X],De=pe.getContainer(),Xe=De.getChildren(),pr=Xe.length,yr=0;yr<pr;yr++){var Vr=Xe[yr];Vr.get("type")==="text"&&(c[rt.id].texts.push({visible:Vr.get("visible"),shape:Vr}),Vr.set("visible",!0))}}}}u.refreshPositions()},e.prototype.restoreCache=function(){for(var t=this,n=t.get("cachedMagnifiedModels"),o=t.get("cachedOriginPositions"),u=n.length,l=0;l<u;l++){var c=n[l],f=c.id,h=o[f];c.x=h.x,c.y=h.y;for(var v=h.texts.length,p=0;p<v;p++){var g=h.texts[p];g.shape.set("visible",g.visible)}}t.set("cachedMagnifiedModels",[]),t.set("cachedOriginPositions",{})},e.prototype.updateParams=function(t){var n=this,o=t.r,u=t.d,l=t.trigger,c=t.minD,f=t.maxD,h=t.minR,v=t.maxR,p=t.scaleDBy,g=t.scaleRBy;isNaN(t.r)||(n.set("r",o),n.set("r2",o*o)),isNaN(u)||n.set("d",u),isNaN(f)||n.set("maxD",f),isNaN(c)||n.set("minD",c),isNaN(v)||n.set("maxR",v),isNaN(h)||n.set("minR",h);var E=n.get("d"),D=n.get("r");if(n.set("molecularParam",(E+1)*D),(l==="mousemove"||l==="click"||l==="drag")&&n.set("trigger",l),p==="drag"||p==="wheel"||p==="unset"){n.set("scaleDBy",p),n.get("delegate").remove(),n.get("delegate").destroy();var G=n.get("dPercentText");G&&(G.remove(),G.destroy())}if(g==="drag"||g==="wheel"||g==="unset"){n.set("scaleRBy",g),n.get("delegate").remove(),n.get("delegate").destroy();var G=n.get("dPercentText");G&&(G.remove(),G.destroy())}},e.prototype.updateDelegate=function(t,n){var o=this,u=this,l=u.get("graph"),c=u.get("delegate");if(!c||c.destroyed){var f=l.get("group"),h=u.get("delegateStyle")||_R;c=f.addShape("circle",{attrs:KA({r:n/1.5,x:t.x,y:t.y},h),name:"lens-shape",draggable:!0}),this.get("trigger")!=="drag"&&(this.get("scaleRBy")==="wheel"?c.on("mousewheel",function(D){u.scaleRByWheel(D)}):this.get("scaleRBy")==="drag"&&(c.on("dragstart",function(D){u.set("dragging",!0),u.set("cacheCenter",{x:D.x,y:D.y}),u.set("dragPrePos",{x:D.x,y:D.y})}),c.on("drag",function(D){u.scaleRByDrag(D)}),c.on("dragend",function(D){u.set("dragging",!1)})),this.get("scaleDBy")==="wheel"?c.on("mousewheel",function(D){o.scaleDByWheel(D)}):this.get("scaleDBy")==="drag"&&(c.on("dragstart",function(D){u.set("dragging",!0),u.set("cacheCenter",{x:D.x,y:D.y}),u.set("dragPrePos",{x:D.x,y:D.y})}),c.on("drag",function(D){o.scaleDByDrag(D)}),c.on("dragend",function(D){u.set("dragging",!1)})))}else c.attr({x:t.x,y:t.y,r:n/1.5});if(u.get("showDPercent")){var v=Math.round((u.get("d")-u.get("minD"))/(u.get("maxD")-u.get("minD"))*100),p=u.get("dPercentText"),g=t.y+n/1.5+16;if(!p||p.destroyed){var E=l.get("group");p=E.addShape("text",{attrs:{text:"".concat(v,"%"),x:t.x,y:g,fill:"#aaa",stroke:"#fff",lineWidth:1,fontSize:12}}),u.set("dPercentText",p)}else p.attr({text:"".concat(v,"%"),x:t.x,y:g})}u.set("delegate",c)},e.prototype.clear=function(){var t=this.get("graph");this.restoreCache(),t.refreshPositions();var n=this.get("delegate");n&&!n.destroyed&&(n.remove(),n.destroy());var o=this.get("dPercentText");o&&!o.destroyed&&(o.remove(),o.destroy())},e.prototype.destroy=function(){this.clear()},e}(wv),Ret=Let,Fet=function(){var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var l in u)Object.prototype.hasOwnProperty.call(u,l)&&(o[l]=u[l])},a(t,n)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),AR=.05;typeof document!="undefined"&&XA()(`
  .g6-component-toolbar {
    position: absolute;
    list-style-type: none;
    padding: 6px;
    left: 0px;
    top: 0px;
    background-color: rgba(255, 255, 255, 0.9);
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    margin: 0;
  }
  .g6-component-toolbar li {
    float: left;
    text-align: center;
    width: 35px;
    height: 24px;
    cursor: pointer;
		list-style-type:none;
    list-style: none;
    margin-left: 0px;
  }
  .g6-component-toolbar li .icon {
    opacity: 0.7;
  }
  .g6-component-toolbar li .icon:hover {
    opacity: 1;
  }
`);var Net=function(e){if(!e)return[];if(e.composedPath)return e.composedPath();for(var t=[],n=e.target;n;){if(t.push(n),n.tagName==="HTML")return t.push(document,window),t;n=n.parentElement}return t},ket=function(a){Fet(e,a);function e(t){return a.call(this,t)||this}return e.prototype.getDefaultCfgs=function(){return{handleClick:void 0,getContent:function(n){return`
          <ul class='g6-component-toolbar'>
            <li code='redo'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M256 682.666667c0-102.741333 66.730667-213.333333 213.333333-213.333334 107.008 0 190.762667 56.576 230.570667 125.354667L611.968 682.666667H853.333333v-241.365334l-91.562666 91.562667C704.768 448.469333 601.130667 384 469.333333 384c-196.096 0-298.666667 150.229333-298.666666 298.666667h85.333333z" fill="" p-id="2041"></path>
              </svg>
            </li>
            <li code='undo'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M170.666667 682.666667h241.365333l-87.936-87.978667C363.904 525.909333 447.658667 469.333333 554.666667 469.333333c146.602667 0 213.333333 110.592 213.333333 213.333334h85.333333c0-148.437333-102.570667-298.666667-298.666666-298.666667-131.797333 0-235.392 64.469333-292.48 148.821333L170.666667 441.301333V682.666667z" fill="" p-id="2764"></path>
              </svg>
            </li>
            <li  code='zoomOut'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M658.432 428.736a33.216 33.216 0 0 1-33.152 33.152H525.824v99.456a33.216 33.216 0 0 1-66.304 0V461.888H360.064a33.152 33.152 0 0 1 0-66.304H459.52V296.128a33.152 33.152 0 0 1 66.304 0V395.52H625.28c18.24 0 33.152 14.848 33.152 33.152z m299.776 521.792a43.328 43.328 0 0 1-60.864-6.912l-189.248-220.992a362.368 362.368 0 0 1-215.36 70.848 364.8 364.8 0 1 1 364.8-364.736 363.072 363.072 0 0 1-86.912 235.968l192.384 224.64a43.392 43.392 0 0 1-4.8 61.184z m-465.536-223.36a298.816 298.816 0 0 0 298.432-298.432 298.816 298.816 0 0 0-298.432-298.432A298.816 298.816 0 0 0 194.24 428.8a298.816 298.816 0 0 0 298.432 298.432z"></path>
              </svg>
            </li>
            <li code='zoomIn'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M639.936 416a32 32 0 0 1-32 32h-256a32 32 0 0 1 0-64h256a32 32 0 0 1 32 32z m289.28 503.552a41.792 41.792 0 0 1-58.752-6.656l-182.656-213.248A349.76 349.76 0 0 1 480 768 352 352 0 1 1 832 416a350.4 350.4 0 0 1-83.84 227.712l185.664 216.768a41.856 41.856 0 0 1-4.608 59.072zM479.936 704c158.784 0 288-129.216 288-288S638.72 128 479.936 128a288.32 288.32 0 0 0-288 288c0 158.784 129.216 288 288 288z" p-id="3853"></path>
              </svg>
            </li>
            <li code='realZoom'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">
                <path d="M384 320v384H320V320h64z m256 0v384H576V320h64zM512 576v64H448V576h64z m0-192v64H448V384h64z m355.968 576H92.032A28.16 28.16 0 0 1 64 931.968V28.032C64 12.608 76.608 0 95.168 0h610.368L896 192v739.968a28.16 28.16 0 0 1-28.032 28.032zM704 64v128h128l-128-128z m128 192h-190.464V64H128v832h704V256z"></path>
              </svg>
            </li>
            <li code='autoZoom'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">
                <path d="M684.288 305.28l0.128-0.64-0.128-0.64V99.712c0-19.84 15.552-35.904 34.496-35.712a35.072 35.072 0 0 1 34.56 35.776v171.008h170.944c19.648 0 35.84 15.488 35.712 34.432a35.072 35.072 0 0 1-35.84 34.496h-204.16l-0.64-0.128a32.768 32.768 0 0 1-20.864-7.552c-1.344-1.024-2.816-1.664-3.968-2.816-0.384-0.32-0.512-0.768-0.832-1.088a33.472 33.472 0 0 1-9.408-22.848zM305.28 64a35.072 35.072 0 0 0-34.56 35.776v171.008H99.776A35.072 35.072 0 0 0 64 305.216c0 18.944 15.872 34.496 35.84 34.496h204.16l0.64-0.128a32.896 32.896 0 0 0 20.864-7.552c1.344-1.024 2.816-1.664 3.904-2.816 0.384-0.32 0.512-0.768 0.768-1.088a33.024 33.024 0 0 0 9.536-22.848l-0.128-0.64 0.128-0.704V99.712A35.008 35.008 0 0 0 305.216 64z m618.944 620.288h-204.16l-0.64 0.128-0.512-0.128c-7.808 0-14.72 3.2-20.48 7.68-1.28 1.024-2.752 1.664-3.84 2.752-0.384 0.32-0.512 0.768-0.832 1.088a33.664 33.664 0 0 0-9.408 22.912l0.128 0.64-0.128 0.704v204.288c0 19.712 15.552 35.904 34.496 35.712a35.072 35.072 0 0 0 34.56-35.776V753.28h170.944c19.648 0 35.84-15.488 35.712-34.432a35.072 35.072 0 0 0-35.84-34.496z m-593.92 11.52c-0.256-0.32-0.384-0.768-0.768-1.088-1.088-1.088-2.56-1.728-3.84-2.688a33.088 33.088 0 0 0-20.48-7.68l-0.512 0.064-0.64-0.128H99.84a35.072 35.072 0 0 0-35.84 34.496 35.072 35.072 0 0 0 35.712 34.432H270.72v171.008c0 19.84 15.552 35.84 34.56 35.776a35.008 35.008 0 0 0 34.432-35.712V720l-0.128-0.64 0.128-0.704a33.344 33.344 0 0 0-9.472-22.848zM512 374.144a137.92 137.92 0 1 0 0.128 275.84A137.92 137.92 0 0 0 512 374.08z"></path>
              </svg>
            </li>
          </ul>
        `},zoomSensitivity:2}},e.prototype.init=function(){var t=this,n=this.get("graph"),o=this.get("getContent"),u=o(n),l=u;(0,w.isString)(u)&&(l=Fa(u));var c=this.get("className");l.setAttribute("class",c||"g6-component-toolbar");var f=this.get("container");f||(f=this.get("graph").get("container")),(0,w.isString)(f)&&(f=document.getElementById(f)),f.appendChild(l),this.set("toolBar",l);var h=this.get("handleClick");l.addEventListener("click",function(p){var g=Net(p).filter(function(D){return D.nodeName==="LI"});if(g.length!==0){var E=g[0].getAttribute("code");!E||(h?h(E,n):t.handleDefaultOperator(E,n))}});var v=this.get("position");v&&Ri(l,{top:"".concat(v.y,"px"),left:"".concat(v.x,"px")}),this.bindUndoRedo()},e.prototype.bindUndoRedo=function(){var t=this.get("graph"),n=document.querySelector('.g6-component-toolbar li[code="undo"]'),o=document.querySelector('.g6-component-toolbar li[code="undo"] svg'),u=document.querySelector('.g6-component-toolbar li[code="redo"]'),l=document.querySelector('.g6-component-toolbar li[code="redo"] svg');!n||!o||!u||!l||t.on("stackchange",function(c){var f=c.undoStack,h=c.redoStack,v=f.length,p=h.length;v===1?(n.setAttribute("style","cursor: not-allowed"),o.setAttribute("style","opacity: 0.4")):(n.removeAttribute("style"),o.removeAttribute("style")),p===0?(u.setAttribute("style","cursor: not-allowed"),l.setAttribute("style","opacity: 0.4")):(u.removeAttribute("style"),l.removeAttribute("style"))})},e.prototype.undo=function(){var t=this.get("graph"),n=t.getUndoStack();if(!(!n||n.length===1)){var o=n.pop();if(o){var u=o.action;t.pushStack(u,(0,w.clone)(o.data),"redo");var l=o.data.before;if(u==="add"&&(l=o.data.after),!l)return;switch(u){case"visible":{Object.keys(l).forEach(function(c){var f=l[c];!f||f.forEach(function(h){var v=t.findById(h.id);h.visible?t.showItem(v,!1):t.hideItem(v,!1)})});break}case"render":case"update":Object.keys(l).forEach(function(c){var f=l[c];!f||f.forEach(function(h){t.updateItem(h.id,h,!1)})});break;case"changedata":t.changeData(l,!1);break;case"delete":{Object.keys(l).forEach(function(c){var f=l[c];!f||f.forEach(function(h){var v=h.itemType;delete h.itemType,t.addItem(v,h,!1)})});break}case"add":Object.keys(l).forEach(function(c){var f=l[c];!f||f.forEach(function(h){t.removeItem(h.id,!1)})});break;case"updateComboTree":Object.keys(l).forEach(function(c){var f=l[c];!f||f.forEach(function(h){t.updateComboTree(h.id,h.parentId,!1)})});break;default:}}}},e.prototype.redo=function(){var t=this.get("graph"),n=t.getRedoStack();if(!(!n||n.length===0)){var o=n.pop();if(o){var u=o.action,l=o.data.after;if(t.pushStack(u,(0,w.clone)(o.data)),u==="delete"&&(l=o.data.before),!l)return;switch(u){case"visible":{Object.keys(l).forEach(function(c){var f=l[c];!f||f.forEach(function(h){var v=t.findById(h.id);h.visible?t.showItem(v,!1):t.hideItem(v,!1)})});break}case"render":case"update":Object.keys(l).forEach(function(c){var f=l[c];!f||f.forEach(function(h){t.updateItem(h.id,h,!1)})});break;case"changedata":t.changeData(l,!1);break;case"delete":l.edges&&l.edges.forEach(function(c){t.removeItem(c.id,!1)}),l.nodes&&l.nodes.forEach(function(c){t.removeItem(c.id,!1)}),l.combos&&l.combos.forEach(function(c){t.removeItem(c.id,!1)});break;case"add":{Object.keys(l).forEach(function(c){var f=l[c];!f||f.forEach(function(h){var v=h.itemType;delete h.itemType,t.addItem(v,h,!1)})});break}case"updateComboTree":Object.keys(l).forEach(function(c){var f=l[c];!f||f.forEach(function(h){t.updateComboTree(h.id,h.parentId,!1)})});break;default:}}}},e.prototype.handleDefaultOperator=function(t,n){var o=n.getZoom();switch(t){case"redo":this.redo();break;case"undo":this.undo();break;case"zoomOut":{var u=1/(1-AR*this.get("zoomSensitivity")),l=this.get("maxZoom")||n.get("maxZoom");if(u*o>l)return;n.zoomTo(o*u);break}case"zoomIn":{var c=1-AR*this.get("zoomSensitivity"),f=this.get("minZoom")||n.get("minZoom");if(c*o<f)return;n.zoomTo(o*c);break}case"realZoom":n.zoomTo(1);break;case"autoZoom":n.fitView([20,20]);break;default:}},e.prototype.destroy=function(){var t=this.get("toolBar");if(t){var n=this.get("container");n||(n=this.get("graph").get("container")),(0,w.isString)(n)&&(n=document.getElementById(n)),n.removeChild(t)}var o=this.get("handleClick");o&&t.removeEventListener("click",o)},e}(wv),Bet=ket,Get=function(){var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var l in u)Object.prototype.hasOwnProperty.call(u,l)&&(o[l]=u[l])},a(t,n)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();typeof document!="undefined"&&XA()(`
  .g6-component-tooltip {
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    background-color: rgba(255, 255, 255, 0.9);
    padding: 10px 8px;
    box-shadow: rgb(174, 174, 174) 0px 0px 10px;
  }
  .tooltip-type {
    padding: 0;
    margin: 0;
  }
  .tooltip-id {
    color: #531dab;
  }
`);var zet=function(a){Get(e,a);function e(t){return a.call(this,t)||this}return e.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,getContent:function(n){return`
          <h4 class='tooltip-type'>\u7C7B\u578B\uFF1A`.concat(n.item.getType(),`</h4>
          <span class='tooltip-id'>ID\uFF1A`).concat(n.item.getID(),`</span>
        `)},shouldBegin:function(n){return!0},itemTypes:["node","edge","combo"],trigger:"mouseenter",fixToNode:void 0}},e.prototype.getEvents=function(){return this.get("trigger")==="click"?{"node:click":"onClick","edge:click":"onClick","combo:click":"onClick","canvas:click":"onMouseLeave",afterremoveitem:"onMouseLeave",contextmenu:"onMouseLeave",drag:"onMouseLeave"}:{"node:mouseenter":"onMouseEnter","node:mouseleave":"onMouseLeave","node:mousemove":"onMouseMove","edge:mouseenter":"onMouseEnter","edge:mouseleave":"onMouseLeave","edge:mousemove":"onMouseMove","combo:mouseenter":"onMouseEnter","combo:mouseleave":"onMouseLeave","combo:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave",contextmenu:"onMouseLeave","node:drag":"onMouseLeave"}},e.prototype.init=function(){var t=this,n=t.get("className")||"g6-component-tooltip",o=Fa("<div class=".concat(n,"></div>")),u=t.get("container");u||(u=t.get("graph").get("container")),(0,w.isString)(u)&&(u=document.getElementById(u)),Ri(o,{position:"absolute",visibility:"hidden",display:"none"}),u.appendChild(o),t.get("trigger")!=="click"&&(o.addEventListener("mouseenter",function(l){Ri(o,{visibility:"visible",display:"unset"})}),o.addEventListener("mouseleave",function(l){t.hideTooltip()})),t.set("tooltip",o)},e.prototype.onClick=function(t){var n=this.get("itemTypes");if(!(t.item&&t.item.getType&&n.indexOf(t.item.getType())===-1)){var o=t.item,u=this.get("graph");this.currentTarget===o?(this.currentTarget=null,this.hideTooltip(),u.emit("tooltipchange",{item:t.item,action:"hide"})):(this.currentTarget=o,this.showTooltip(t),u.emit("tooltipchange",{item:t.item,action:"show"}))}},e.prototype.onMouseEnter=function(t){var n=this.get("itemTypes");if(!(t.item&&t.item.getType&&n.indexOf(t.item.getType())===-1)){var o=t.item,u=this.get("graph");this.currentTarget=o,this.showTooltip(t),u.emit("tooltipchange",{item:t.item,action:"show"})}},e.prototype.onMouseMove=function(t){var n=this.get("itemTypes");t.item&&t.item.getType&&n.indexOf(t.item.getType())===-1||!this.currentTarget||t.item!==this.currentTarget||this.showTooltip(t)},e.prototype.onMouseLeave=function(){this.hideTooltip();var t=this.get("graph");t.emit("tooltipchange",{item:this.currentTarget,action:"hide"}),this.currentTarget=null},e.prototype.clearContainer=function(){var t=this.get("tooltip");t&&(t.innerHTML="")},e.prototype.showTooltip=function(t){if(!!t.item){var n=this.get("itemTypes");if(!(t.item.getType&&n.indexOf(t.item.getType())===-1)){var o=this.get("tooltip"),u=this.get("getContent"),l=u(t);(0,w.isString)(l)?o.innerHTML=l:(this.clearContainer(),o.appendChild(l)),this.updatePosition(t)}}},e.prototype.hideTooltip=function(){var t=this.get("tooltip");t&&Ri(t,{visibility:"hidden",display:"none"})},e.prototype.updatePosition=function(t){var n=this.get("shouldBegin"),o=this.get("tooltip");if(!n(t)){Ri(o,{visibility:"hidden",display:"none"});return}var u=this.get("graph"),l=u.get("width"),c=u.get("height"),f=this.get("offsetX")||0,h=this.get("offsetY")||0,v=u.getPointByClient(t.clientX,t.clientY),p=this.get("fixToNode"),g=t.item;if(g.getType&&g.getType()==="node"&&p&&(0,w.isArray)(p)&&p.length>=2){var E=g.getBBox();v={x:E.minX+E.width*p[0],y:E.minY+E.height*p[1]}}var D=u.getCanvasByPoint(v.x,v.y),G=D.x,H=D.y,X=u.getContainer(),rt={x:G+X.offsetLeft+f,y:H+X.offsetTop+h};Ri(o,{visibility:"visible",display:"unset"});var ht=o.getBoundingClientRect();G+ht.width+f>l&&(rt.x-=ht.width+f),H+ht.height+h>c&&(rt.y-=ht.height+h),Ri(o,{left:"".concat(rt.x,"px"),top:"".concat(rt.y,"px")})},e.prototype.hide=function(){this.onMouseLeave()},e.prototype.destroy=function(){var t=this.get("tooltip");if(t){var n=this.get("container");n||(n=this.get("graph").get("container")),(0,w.isString)(n)&&(n=document.getElementById(n)),n.removeChild(t)}},e}(wv),Uet=zet,jet=function(a,e,t){if(t||arguments.length===2)for(var n=0,o=e.length,u;n<o;n++)(u||!(n in e))&&(u||(u=Array.prototype.slice.call(e,0,n)),u[n]=e[n]);return a.concat(u||Array.prototype.slice.call(e))};function Wet(a){return(0,w.map)(a,function(e,t){var n=t===0?"M":"L",o=e[0],u=e[1];return[n,o,u]})}function CR(a){return Wet(a)}function Vet(a){if(a.length<=2)return CR(a);var e=[];(0,w.each)(a,function(l){(0,w.isEqual)(l,e.slice(e.length-2))||e.push(l[0],l[1])});var t=S0(e,!1),n=(0,w.head)(a),o=n[0],u=n[1];return t.unshift(["M",o,u]),t}function Het(a,e,t,n){n===void 0&&(n=!0);var o=new Me({values:a}),u=new dv({values:(0,w.map)(a,function(c,f){return f})}),l=(0,w.map)(a,function(c,f){return[u.scale(f)*e,t-o.scale(c)*t]});return n?Vet(l):CR(l)}function Yet(a,e,t,n){n===void 0&&(n=5);for(var o=new Me({values:a}),u=new dv({values:(0,w.map)(a,function(g,E){return E})}),l=(0,w.map)(a,function(g,E){return[u.scale(E)*e,t-o.scale(g)*t]}),c=[],f=0;f<l.length;f++){var h=l[f],v={x:h[0],y:h[1],y0:t,size:n},p=Ket(v);c.push.apply(c,p)}return Zet(c)}function Xet(a,e){var t=new Me({values:a}),n=Math.max(0,t.min);return e-t.scale(n)*e}function $et(a,e,t,n){var o=jet([],a,!0),u=Xet(n,t);return o.push(["L",e,u]),o.push(["L",0,u]),o.push(["Z"]),o}function Ket(a){var e=a.x,t=a.y,n=a.y0,o=a.size,u,l;(0,w.isArray)(t)?(u=t[0],l=t[1]):(u=n,l=t);var c,f;(0,w.isArray)(e)?(c=e[0],f=e[1]):(c=e-o/2,f=e+o/2);var h=[{x:c,y:u},{x:c,y:l}];return h.push({x:f,y:l},{x:f,y:u}),h}function Zet(a,e){e===void 0&&(e=!0);var t=[],n=a[0];t.push(["M",n.x,n.y]);for(var o=1,u=a.length;o<u;o++)t.push(["L",a[o].x,a[o].y]);return e&&(t.push(["L",n.x,n.y]),t.push(["z"])),t}var yb=function(){return yb=Object.assign||function(a){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(a[o]=e[o])}return a},yb.apply(this,arguments)},Qet={stroke:"#C5C5C5",strokeOpacity:.85},Jet={fill:"#CACED4",opacity:.85},qet=function(){function a(e){var t=e.x,n=t===void 0?0:t,o=e.y,u=o===void 0?0:o,l=e.width,c=l===void 0?200:l,f=e.height,h=f===void 0?26:f,v=e.smooth,p=v===void 0?!0:v,g=e.isArea,E=g===void 0?!1:g,D=e.data,G=D===void 0?[]:D,H=e.lineStyle,X=e.areaStyle,rt=e.group,ht=e.interval,mt=ht===void 0?null:ht;this.group=rt,this.x=n,this.y=u,this.width=c,this.height=h,this.data=G,this.smooth=p,this.isArea=E,this.lineStyle=Object.assign({},Qet,H),this.areaStyle=Object.assign({},Jet,X),this.intervalConfig=mt,this.renderLine()}return a.prototype.renderLine=function(){var e=this,t=e.x,n=e.y,o=e.width,u=e.height,l=e.barWidth,c=e.data,f=e.smooth,h=e.isArea,v=e.lineStyle,p=e.areaStyle,g=this.group.addGroup({name:"trend-group"});if(c){var E=Het(c,o,u,f);if(g.addShape("path",{attrs:yb({path:E},v),name:"trend-line"}),h){var D=$et(E,o,u,c);g.addShape("path",{attrs:yb({path:D},p),name:"trend-area"})}}this.intervalConfig&&g.addShape("path",{attrs:yb({path:Yet(this.intervalConfig.data,o,u,this.intervalConfig.style.barWidth)},this.intervalConfig.style),name:"trend-interval"}),g.move(t,n)},a.prototype.destory=function(){this.group.destroy()},a}(),trt=qet,r1=function(){return r1=Object.assign||function(a){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(a[o]=e[o])}return a},r1.apply(this,arguments)},ert={fill:"#1890ff",stroke:"#1890ff",type:"trend",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#0050b3"},rrt={fill:"#fff",stroke:"#1890ff",radius:2,opacity:1,cursor:"ew-resize"},nrt=function(){function a(e){var t=e.group,n=e.name,o=e.type,u=e.x,l=u===void 0?0:u,c=e.y,f=c===void 0?0:c,h=e.width,v=h===void 0?2:h,p=e.height,g=p===void 0?24:p,E=e.style,D=E===void 0?{}:E;this.group=t,this.name=n,this.handleType=o,this.x=l,this.y=f,this.width=v,this.height=g,o==="trend"?this.style=r1(r1({},ert),D):o==="simple"&&(this.style=r1(r1({},rrt),D)),this.renderHandle()}return a.prototype.setX=function(e){this.setXY(e,void 0)},a.prototype.setY=function(e){this.setXY(void 0,e)},a.prototype.setXY=function(e,t){(0,w.isNumber)(e)&&(this.x=e),(0,w.isNumber)(t)&&(this.y=t),this.updateXY()},a.prototype.renderHandle=function(){var e=this,t=e.width,n=e.height,o=e.style,u=e.name,l=o.fill,c=o.stroke,f=o.radius,h=o.opacity,v=o.cursor;this.handleGroup=this.group.addGroup(),this.handleType==="trend"?(this.verticalLine=this.handleGroup.addShape("rect",{attrs:{x:0,y:0,width:t,height:n,fill:l,stroke:c,radius:f,opacity:h,cursor:v},name:"".concat(u,"-handler")}),this.topCircle=this.handleGroup.addShape("circle",{attrs:{x:t/2,y:0,r:2*t,fill:l,stroke:c,radius:f,opacity:h,cursor:v,lineAppendWidth:12},name:"".concat(u,"-handler")}),this.bottomCircle=this.handleGroup.addShape("circle",{attrs:{x:t/2,y:n,r:2*t,fill:l,stroke:c,radius:f,opacity:h,cursor:v},name:"".concat(u,"-handler")})):this.handleType==="simple"&&(this.topCircle=this.handleGroup.addShape("circle",{attrs:{x:t/2,y:n/2,r:2*t,fill:l,stroke:c,radius:f,opacity:h,cursor:v,lineWidth:2},name:"".concat(u,"-handler")})),this.updateXY(),this.handleType==="trend"?this.bindTrendEvents():this.handleType==="simple"&&this.bindSimpleEvents()},a.prototype.bindSimpleEvents=function(){var e=this,t=this.name;this.handleGroup.on("".concat(t,"-handler:mouseenter"),function(){var n=e.style.highLightFill;e.topCircle.attr("fill",n)}),this.handleGroup.on("".concat(t,"-handler:mouseleave"),function(){var n=e.style.fill;e.topCircle.attr("fill",n)})},a.prototype.bindTrendEvents=function(){var e=this,t=this.name;this.handleGroup.on("".concat(t,"-handler:mouseenter"),function(){var n=e.style.highLightFill;e.verticalLine.attr("fill",n),e.topCircle.attr("fill",n),e.bottomCircle.attr("fill",n)}),this.handleGroup.on("".concat(t,"-handler:mouseleave"),function(){var n=e.style.fill;e.verticalLine.attr("fill",n),e.topCircle.attr("fill",n),e.bottomCircle.attr("fill",n)})},a.prototype.show=function(){this.handleGroup.show()},a.prototype.hide=function(){this.handleGroup.hide()},a.prototype.updateXY=function(){this.handleGroup.setMatrix([1,0,0,0,1,0,this.x,this.y,1])},a}(),TR=nrt,MR="timebarstartplay",IR="timebarendplay",Wp="valuechange",xy="timebarConfigChanged",v0="playPauseBtn",mb="nextStepBtn",xb="preStepBtn",ZA=function(){return ZA=Object.assign||function(a){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(a[o]=e[o])}return a},ZA.apply(this,arguments)},irt=function(){function a(e){this.config=(0,w.deepMix)({},e),this.init()}return a.prototype.update=function(e){this.config=(0,w.deepMix)({},this.config,e),this.updateElement(),this.renderMarker()},a.prototype.init=function(){this.initElement(),this.renderMarker()},a.prototype.initElement=function(){var e=this.config,t=e.group,n=e.style,o=n.scale,u=o===void 0?1:o,l=n.offsetX,c=l===void 0?0:l,f=n.offsetY,h=f===void 0?0:f,v=this.config.x+c,p=this.config.y+h,g=t.addGroup({name:v0});this.startMarkerGroup=g.addGroup({name:v0}),this.circle=t.addShape("circle",{attrs:ZA({x:v,y:p,r:this.config.r*u},n),name:v0}),this.startMarker=this.startMarkerGroup.addShape("path",{attrs:{path:this.getStartMarkerPath(v,p,u),fill:n.stroke||"#aaa"},name:"start-marker"}),this.pauseMarkerGroup=g.addGroup({name:v0});var E=.25*this.config.r*u,D=.5*this.config.r*Math.sqrt(3)*u;this.pauseLeftMarker=this.pauseMarkerGroup.addShape("rect",{attrs:{x:v-.375*this.config.r*u,y:p-D/2,width:E,height:D,fill:n.stroke||"#aaa",lineWidth:0}}),this.pauseRightMarker=this.pauseMarkerGroup.addShape("rect",{attrs:{x:v+1/8*this.config.r*u,y:p-D/2,width:E,height:D,fill:n.stroke||"#aaa",lineWidth:0}})},a.prototype.updateElement=function(){var e=this.config.style,t=e.scale,n=t===void 0?1:t,o=e.offsetX,u=o===void 0?0:o,l=e.offsetY,c=l===void 0?0:l,f=this.config.x+u,h=this.config.y+c;this.circle.attr("x",f),this.circle.attr("y",h),this.circle.attr("r",this.config.r*n),this.startMarker.attr("path",this.getStartMarkerPath(f,h,n));var v=.25*this.config.r*n,p=.5*this.config.r*Math.sqrt(3)*n;this.pauseLeftMarker.attr("x",f-(1/4+1/8)*this.config.r*n),this.pauseLeftMarker.attr("y",h-p/2),this.pauseLeftMarker.attr("width",v),this.pauseLeftMarker.attr("height",p),this.pauseRightMarker.attr("x",f+1/8*this.config.r*n),this.pauseRightMarker.attr("y",h-p/2),this.pauseRightMarker.attr("width",v),this.pauseRightMarker.attr("height",p)},a.prototype.renderMarker=function(){this.config.isPlay?(this.startMarkerGroup.hide(),this.pauseMarkerGroup.show()):(this.startMarkerGroup.show(),this.pauseMarkerGroup.hide())},a.prototype.getStartMarkerPath=function(e,t,n){var o=.5*this.config.r*Math.sqrt(3)*n;return[["M",e-o/Math.sqrt(3)/2,t-o/2],["L",e+o/Math.sqrt(3),t],["L",e-o/Math.sqrt(3)/2,t+o/2]]},a}(),art=irt,Vl=function(){return Vl=Object.assign||function(a){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(a[o]=e[o])}return a},Vl.apply(this,arguments)},bb=ka,ort="#aaa",srt="green",urt={fill:"#aaa",fillOpacity:.35,stroke:"#aaa"},lrt={fill:"#fff"},crt={fill:"green"},OR={pointer:{fill:"#aaa",lineWidth:0},scroller:{stroke:"#aaa",fill:"#aaa",lineWidth:1,lineAppendWidth:5,cursor:"pointer"},text:{fill:"#aaa",textBaseline:"top"}},DR={check:{stroke:"green",lineWidth:3},box:{fill:"#fff",stroke:"#aaa",lineWidth:2,radius:3,width:12,height:12},text:{fill:"#aaa",fontSize:12,textBaseline:"top"}},frt={speed:1,loop:!1,fill:"#fff",stroke:"#fff",hideTimeTypeController:!1,preBtnStyle:{fill:"#aaa",stroke:"#aaa"},nextBtnStyle:{fill:"#aaa",stroke:"#aaa"},playBtnStyle:{fill:"#aaa",stroke:"#aaa",fillOpacity:.05},speedControllerStyle:OR,timeTypeControllerStyle:DR},QA=110,p0=50,hrt=function(){function a(e){this.controllerCfg=(0,w.deepMix)({},frt,e),this.group=e.group,this.controllerGroup=this.group.addGroup({name:"controller-group"}),this.speedAxisY=[],this.currentSpeed=this.controllerCfg.speed,this.currentType="range",this.fontFamily=e.fontFamily||"Arial, sans-serif",this.init()}return a.prototype.init=function(){this.renderPlayButton()},a.prototype.getNextMarkerPath=function(e,t,n){return[["M",e,t-n],["L",e+n,t],["L",e,t+n],["Z",e,t-n],["M",e,t],["L",e-n,t-n],["L",e-n,t+n],["Z"]]},a.prototype.getPreMarkerPath=function(e,t,n){return[["M",e,t-n],["L",e-n,t],["L",e,t+n],["L",e,t-n],["M",e,t],["L",e+n,t-n],["L",e+n,t+n],["Z"]]},a.prototype.renderPlayButton=function(){var e=this.controllerCfg,t=e.width,n=e.height,o=e.x,u=e.y,l=e.hideTimeTypeController,c=e.fill,f=c===void 0?ort:c,h=e.stroke,v=h===void 0?srt:h,p=e.containerStyle,g=p===void 0?{}:p,E=Vl(Vl({},urt),e.playBtnStyle||{}),D=Vl(Vl({},lrt),e.preBtnStyle||{}),G=Vl(Vl({},crt),e.nextBtnStyle||{}),H=n/2-5,X=u+10,rt=this.controllerGroup.addShape("rect",{attrs:Vl({x:o,y:X,width:t,height:n,stroke:v,fill:f},g),name:"container-rect"});this.playButton?this.playButton.update({x:t/2,y:X,r:H}):this.playButton=new art({group:this.controllerGroup,x:t/2,y:X+H+5,r:H,isPlay:this.isPlay,style:E});var ht=D.offsetX||0,mt=D.offsetY||0,Dt=(D.scale||1)*H;this.controllerGroup.addShape("path",{attrs:Vl({path:this.getPreMarkerPath(t/2-5*H+ht,X+H+5+mt,Dt*.5)},D),name:xb});var kt=G.offsetX||0,Vt=G.offsetY||0,te=(G.scale||1)*H;this.controllerGroup.addShape("path",{attrs:Vl({path:this.getNextMarkerPath(t/2+5*H+kt,X+H+5+Vt,te*.5)},G),name:mb}),rt.toBack(),this.renderSpeedBtn(),l||this.renderToggleTime(),this.bindEvent();var le=this.controllerCfg.scale,pe=le===void 0?1:le,De=this.controllerGroup.getCanvasBBox(),Xe=(De.maxX+De.minX)/2,pr=(De.maxY+De.minY)/2,yr=bb([1,0,0,0,1,0,0,0,1],[["t",-Xe,-pr],["s",pe,pe],["t",Xe,pr]]);this.controllerGroup.setMatrix(yr)},a.prototype.renderSpeedBtn=function(){var e=this.controllerCfg,t=e.y,n=e.width,o=e.hideTimeTypeController,u=Vl(Vl({},OR),this.controllerCfg.speedControllerStyle||{}),l=u.scroller,c=l===void 0?{}:l,f=u.text,h=f===void 0?{}:f,v=u.pointer,p=v===void 0?{}:v,g=u.scale,E=g===void 0?1:g,D=u.offsetX,G=D===void 0?0:D,H=u.offsetY,X=H===void 0?0:H,rt=this.controllerGroup.addGroup({name:"speed-group"});this.speedGroup=rt;var ht=[],mt=5;this.speedAxisY=[19,22,26,32,39];for(var Dt=0;Dt<5;Dt++){var kt=t+this.speedAxisY[Dt],Vt=n-(o?p0:QA);rt.addShape("line",{attrs:Vl({x1:Vt,x2:Vt+15,y1:kt,y2:kt},c),speed:mt,name:"speed-rect"}),this.speedAxisY[Dt]=kt,ht.push(mt),mt=mt-1}this.speedText=rt.addShape("text",{attrs:Vl({x:n-(o?p0:QA)+20,y:this.speedAxisY[0]+4,text:"1.0X",fontFamily:this.fontFamily||"Arial, sans-serif"},h),name:"speed-text"}),this.speedPoint=rt.addShape("path",{attrs:Vl({path:this.getPointerPath(n-(o?p0:QA),0),matrix:[1,0,0,0,1,0,0,this.speedAxisY[4],1]},p),name:"speed-pointer"});var te=this.speedGroup.getCanvasBBox(),le=(te.maxX+te.minX)/2,pe=(te.maxY+te.minY)/2,De=this.speedGroup.getMatrix()||[1,0,0,0,1,0,0,0,1];De=bb(De,[["t",-le,-pe],["s",E,E],["t",le+G*E,pe+X*E]]),this.speedGroup.setMatrix(De)},a.prototype.getPointerPath=function(e,t){return[["M",e,t],["L",e-10,t-4],["L",e-10,t+4],["Z"]]},a.prototype.renderToggleTime=function(){var e,t=this.controllerCfg.width,n=Vl(Vl({},DR),this.controllerCfg.timeTypeControllerStyle||{}),o=n.scale,u=o===void 0?1:o,l=n.offsetX,c=l===void 0?0:l,f=n.offsetY,h=f===void 0?0:f,v=n.box,p=v===void 0?{}:v,g=n.check,E=g===void 0?{}:g,D=n.text,G=D===void 0?{}:D;this.toggleGroup=this.controllerGroup.addGroup({name:"toggle-group"}),this.toggleGroup.addShape("rect",{attrs:Vl({x:t-p0,y:this.speedAxisY[0]+3.5},p),isChecked:!1,name:"toggle-model"}),this.checkedIcon=this.toggleGroup.addShape("path",{attrs:Vl({path:[["M",t-p0+3,this.speedAxisY[1]+6],["L",t-p0+7,this.speedAxisY[1]+10],["L",t-p0+12,this.speedAxisY[1]+4]]},E),capture:!1,name:"check-icon"}),this.checkedIcon.hide(),this.checkedText=this.toggleGroup.addShape("text",{attrs:Vl({text:((e=this.controllerCfg)===null||e===void 0?void 0:e.timePointControllerText)||"\u5355\u4E00\u65F6\u95F4",x:t-p0+15,y:this.speedAxisY[0]+4,fontFamily:typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"},G),name:"checked-text"});var H=this.toggleGroup.getCanvasBBox(),X=(H.maxX+H.minX)/2,rt=(H.maxY+H.minY)/2,ht=this.toggleGroup.getMatrix()||[1,0,0,0,1,0,0,0,1];ht=bb(ht,[["t",-X,-rt],["s",u,u],["t",X+c*u,rt+h*u]]),this.toggleGroup.setMatrix(ht)},a.prototype.bindEvent=function(){var e=this;this.speedGroup.on("speed-rect:click",function(t){var n=t.target.attr("y1"),o=e.speedPoint.attr("matrix"),u=e.speedAxisY.indexOf(o[7]||0),l=e.speedAxisY.indexOf(n),c=e.speedAxisY[l]-e.speedAxisY[u];o=bb(o,[["t",0,c]]),e.speedPoint.setMatrix(o),e.currentSpeed=e.speedAxisY.length-l,e.speedText.attr("text","".concat(e.currentSpeed,".0X")),e.group.emit(xy,{speed:e.currentSpeed,type:e.currentType})}),this.speedGroup.on("mousewheel",function(t){t.preventDefault();var n=e.speedPoint.attr("matrix")||[1,0,0,0,1,0,0,0,1],o=n[7],u=e.speedAxisY.indexOf(o);if(u===-1){var l=1/0;e.speedAxisY.forEach(function(f,h){var v=Math.abs(f-o);l>v&&(l=v,u=h)})}t.originalEvent.deltaY>0?u=Math.max(0,u-1):u=Math.min(e.speedAxisY.length-1,u+1);var c=e.speedAxisY[u]-o;n=bb(n,[["t",0,c]]),e.speedPoint.setMatrix(n),e.currentSpeed=e.speedAxisY.length-u,e.speedText.attr("text","".concat(e.currentSpeed,".0X")),e.group.emit(xy,{speed:e.currentSpeed,type:e.currentType})}),this.toggleGroup&&this.toggleGroup.on("toggle-model:click",function(t){var n,o,u=t.target.get("isChecked");u?(e.checkedIcon.hide(),e.checkedText.attr("text",((o=e.controllerCfg)===null||o===void 0?void 0:o.timePointControllerText)||"\u5355\u4E00\u65F6\u95F4"),e.currentType="range"):(e.checkedIcon.show(),e.checkedText.attr("text",((n=e.controllerCfg)===null||n===void 0?void 0:n.timeRangeControllerText)||"\u65F6\u95F4\u8303\u56F4"),e.currentType="single"),t.target.set("isChecked",!u),e.group.emit(xy,{type:e.currentType,speed:e.currentSpeed})})},a.prototype.destroy=function(){this.speedGroup.off("speed-rect:click"),this.toggleGroup&&(this.toggleGroup.off("toggle-model:click"),this.toggleGroup.destroy()),this.speedGroup.destroy()},a}(),PR=hrt,iu=function(){return iu=Object.assign||function(a){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(a[o]=e[o])}return a},iu.apply(this,arguments)},drt=ka,vrt={fill:"#416180",opacity:.05},prt={fill:"#416180",opacity:.15,radius:5},grt={fill:"#5B8FF9",opacity:.3,cursor:"grab"},JA=2,yrt={width:JA,height:24},mrt={textBaseline:"middle",fill:"#000",opacity:.45},xrt={textAlign:"center",textBaseline:"top",fill:"#607889",opacity:.35},brt={lineWidth:1,stroke:"#ccc"},Ert=function(){function a(e){var t=this;this.prevX=0,this.onMouseDown=function(qr){return function(_r){t.currentHandler=qr;var kr=_r.originalEvent;kr.stopPropagation(),kr.preventDefault(),t.prevX=(0,w.get)(kr,"touches.0.pageX",kr.pageX);var Yr=t.canvas.get("container");Yr.addEventListener("mousemove",t.onMouseMove),Yr.addEventListener("mouseup",t.onMouseUp),Yr.addEventListener("mouseleave",t.onMouseUp),Yr.addEventListener("touchmove",t.onMouseMove),Yr.addEventListener("touchend",t.onMouseUp),Yr.addEventListener("touchcancel",t.onMouseUp)}},this.onMouseMove=function(qr){qr.stopPropagation(),qr.preventDefault();var _r=(0,w.get)(qr,"touches.0.pageX",qr.pageX),kr=_r-t.prevX,Yr=t.adjustOffsetRange(kr/t.width);t.updateStartEnd(Yr),t.updateUI(),t.prevX=_r},this.onMouseUp=function(){t.currentHandler&&(t.currentHandler=void 0);var qr=t.canvas.get("container");qr&&(qr.removeEventListener("mousemove",t.onMouseMove),qr.removeEventListener("mouseup",t.onMouseUp),qr.removeEventListener("mouseleave",t.onMouseUp),qr.removeEventListener("touchmove",t.onMouseMove),qr.removeEventListener("touchend",t.onMouseUp),qr.removeEventListener("touchcancel",t.onMouseUp))};var n=e.x,o=n===void 0?0:n,u=e.y,l=u===void 0?0:u,c=e.width,f=c===void 0?100:c,h=e.height,v=e.padding,p=v===void 0?10:v,g=e.trendCfg,E=e.controllerCfg,D=E===void 0?{speed:1}:E,G=e.backgroundStyle,H=G===void 0?{}:G,X=e.foregroundStyle,rt=X===void 0?{}:X,ht=e.handlerStyle,mt=ht===void 0?{}:ht,Dt=e.textStyle,kt=Dt===void 0?{}:Dt,Vt=e.start,te=Vt===void 0?0:Vt,le=e.end,pe=le===void 0?1:le,De=e.minText,Xe=De===void 0?"":De,pr=e.maxText,yr=pr===void 0?"":pr,Vr=e.group,nr=e.graph,Gr=e.canvas,en=e.tick,cr=en===void 0?{tickLabelStyle:{},tickLineStyle:{},tickLabelFormatter:function(_r){return _r},ticks:[]}:en,Fr=e.type;this.graph=nr,this.canvas=Gr,this.group=Vr,this.timeBarType=Fr,this.x=o,this.y=l,this.width=f,this.height=h,this.padding=p,this.ticks=cr.ticks,this.trendCfg=g,this.controllerCfg=D,this.currentSpeed=D.speed||1,this.tickLabelFormatter=cr.tickLabelFormatter,Fr==="trend"?this.backgroundStyle=iu(iu({},vrt),H):Fr==="simple"&&(this.backgroundStyle=iu(iu({},prt),H)),this.foregroundStyle=iu(iu({},grt),rt),this.handlerStyle=iu(iu({},yrt),mt),this.textStyle=iu(iu({},mrt),kt),this.tickLabelStyle=iu(iu({},xrt),cr.tickLabelStyle),this.tickLineStyle=iu(iu({},brt),cr.tickLineStyle),this.currentMode="range",this.start=te,this.end=pe,this.minText=Xe,this.maxText=yr,this.fontFamily=typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif",this.renderSlider()}return a.prototype.update=function(e){var t=e.x,n=e.y,o=e.width,u=e.height,l=e.minText,c=e.maxText,f=e.start,h=e.end;this.start=Math.min(1,Math.max(f,0)),this.end=Math.min(1,Math.max(h,0)),(0,w.assign)(this,{x:t,y:n,width:o,height:u,minText:l,maxText:c}),this.updateUI()},a.prototype.setText=function(e,t){this.minTextShape.attr("text",e),this.maxTextShape.attr("text",t)},a.prototype.renderSlider=function(){var e=this,t=this,n=t.width,o=t.height,u=t.timeBarType;if(u==="trend"&&(0,w.size)((0,w.get)(this.trendCfg,"data"))){var l=new trt(iu(iu({x:this.x,y:this.y,width:n,height:o},this.trendCfg),{group:this.group}));this.trendComponent=l}var c=this.group.addGroup({name:"slider-group"});c.addShape("rect",{attrs:iu({x:0,y:0,width:n,height:o},this.backgroundStyle),name:"background"});var f=this.group.addGroup();u==="trend"?(this.minTextShape=f.addShape("text",{attrs:iu({x:0,y:o/2+this.y,textAlign:"right",text:this.minText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif",stroke:"#fff",lineWidth:5},this.textStyle),capture:!1,name:"min-text-shape"}),this.maxTextShape=f.addShape("text",{attrs:iu({y:o/2+this.y,textAlign:"left",text:this.maxText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif",stroke:"#fff",lineWidth:5},this.textStyle),capture:!1,name:"max-text-shape"})):(this.minTextShape=f.addShape("text",{attrs:iu({x:0,y:this.y-10,textAlign:"center",text:this.minText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif",stroke:"#fff",lineWidth:5},this.textStyle),capture:!1,name:"min-text-shape"}),this.maxTextShape=f.addShape("text",{attrs:iu({y:this.y-10,textAlign:"center",text:this.maxText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif",stroke:"#fff",lineWidth:5},this.textStyle),capture:!1,name:"max-text-shape"})),this.foregroundShape=this.group.addGroup().addShape("rect",{attrs:iu({x:0,y:this.y,height:o},this.foregroundStyle),name:"foreground-shape"}),this.foregroundShape.on("mousedown",function(X){X.target.attr("cursor","grabbing")}),this.foregroundShape.on("mouseup",function(X){X.target.attr("cursor",e.foregroundStyle.cursor||"grab")});var h=(0,w.get)(this.handlerStyle,"width",2),v=(0,w.get)(this.handlerStyle,"height",24),p=this.group.addGroup({name:"minHandlerShape"});this.minHandlerShape=new TR({name:"minHandlerShape",group:p,type:u,x:this.x,y:this.y,width:h,height:v,style:this.handlerStyle});var g=this.group.addGroup({name:"maxHandlerShape"});this.maxHandlerShape=new TR({name:"maxHandlerShape",group:g,type:u,x:this.x,y:this.y,width:h,height:v,style:this.handlerStyle});var E=this.ticks,D=n/(E.length-1);this.tickPosList=[],this.textList&&this.textList.length&&this.textList.forEach(function(X){X.destroy()});var G=-1/0,H=this.tickLabelStyle.rotate;delete this.tickLabelStyle.rotate,this.textList=E.map(function(X,rt){e.tickPosList.push(e.x+rt*D);var ht;e.tickLabelFormatter?(ht=e.tickLabelFormatter(X),!(0,w.isString)(ht)&&ht&&(ht=X.date)):ht=X.date;var mt=e.x+rt*D,Dt=e.y+o+5,kt=e.group.addShape("text",{attrs:iu({x:mt,y:Dt,text:ht,fontFamily:e.fontFamily||"Arial, sans-serif"},e.tickLabelStyle),name:"tick-label"});if((0,w.isNumber)(H)&&rt!==E.length-1){var Vt=drt([1,0,0,0,1,0,0,0,1],[["t",-mt,-Dt],["r",H],["t",mt-5,Dt+2]]);kt.attr({textAlign:"left",matrix:Vt})}rt===0?kt.attr({textAlign:"left"}):rt!==E.length-1&&kt.attr({textAlign:"right"});var te=e.group.addShape("line",{attrs:iu({x1:e.x+rt*D,y1:e.y+o+2,x2:e.x+rt*D,y2:e.y+o+6},e.tickLineStyle),name:"tick-line"});te.toBack();var le=kt.getBBox();return le.minX>G?(kt.show(),te.show(),G=le.minX+le.width+10):(kt.hide(),te.hide()),kt}),this.controllerBtnGroup=new PR(iu({group:this.group,x:this.x,y:this.y+o+25,width:n,height:35},this.controllerCfg)),this.updateStartEnd(0),this.updateUI(),c.move(this.x,this.y),this.bindEvents()},a.prototype.bindEvents=function(){var e=this,t=this.group.find(function(o){return o.get("name")==="minHandlerShape"});t&&(t.on("minHandlerShape-handler:mousedown",this.onMouseDown(this.minHandlerShape)),t.on("minHandlerShape-handler:touchstart",this.onMouseDown(this.minHandlerShape)));var n=this.group.find(function(o){return o.get("name")==="maxHandlerShape"});n&&(n.on("maxHandlerShape-handler:mousedown",this.onMouseDown(this.maxHandlerShape)),n.on("maxHandlerShape-handler:touchstart",this.onMouseDown(this.maxHandlerShape))),this.foregroundShape.on("mousedown",this.onMouseDown(this.foregroundShape)),this.foregroundShape.on("touchstart",this.onMouseDown(this.foregroundShape)),this.group.on("".concat(v0,":click"),function(){e.isPlay=!e.isPlay,e.currentHandler=e.maxHandlerShape,e.changePlayStatus()}),this.group.on("".concat(mb,":click"),function(){e.currentHandler=e.maxHandlerShape,e.updateStartEnd(.01),e.updateUI()}),this.group.on("".concat(xb,":click"),function(){e.currentHandler=e.maxHandlerShape,e.updateStartEnd(-.01),e.updateUI()}),this.group.on(xy,function(o){var u=o.type,l=o.speed;e.currentSpeed=l,e.currentMode=u,u==="single"?(e.minHandlerShape.hide(),e.foregroundShape.hide(),e.minTextShape.hide()):u==="range"&&(e.minHandlerShape.show(),e.foregroundShape.show(),e.minTextShape.show())})},a.prototype.adjustTickIndex=function(e){for(var t=0;t<this.tickPosList.length-1;t++)if(this.tickPosList[t]<=e&&e<=this.tickPosList[t+1])return Math.abs(this.tickPosList[t]-e)<Math.abs(e-this.tickPosList[t+1])?t:t+1;return 0},a.prototype.adjustOffsetRange=function(e){switch(this.currentHandler){case this.minHandlerShape:{var t=0-this.start,n=1-this.start;return Math.min(n,Math.max(t,e))}case this.maxHandlerShape:{var t=0-this.end,n=1-this.end;return Math.min(n,Math.max(t,e))}case this.foregroundShape:{var t=0-this.start,n=1-this.end;return Math.min(n,Math.max(t,e))}default:return 0}},a.prototype.updateStartEnd=function(e){var t=this.ticks[this.adjustTickIndex(this.start*this.width)],n=this.ticks[this.adjustTickIndex(this.end*this.width)];if(!this.currentHandler){this.minText=this.tickLabelFormatter?this.tickLabelFormatter(t):t==null?void 0:t.date,this.maxText=this.tickLabelFormatter?this.tickLabelFormatter(n):n==null?void 0:n.date;return}switch(this.currentHandler){case this.minHandlerShape:this.maxText=this.maxTextShape.attr("text"),this.start+=e,this.minText=this.tickLabelFormatter?this.tickLabelFormatter(t):t.date;break;case this.maxHandlerShape:this.minText=this.minTextShape.attr("text"),this.end+=e,this.maxText=this.tickLabelFormatter?this.tickLabelFormatter(n):n.date;break;case this.foregroundShape:this.start+=e,this.end+=e,this.minText=this.tickLabelFormatter?this.tickLabelFormatter(t):t.date,this.maxText=this.tickLabelFormatter?this.tickLabelFormatter(n):n.date;break;default:break}},a.prototype.updateUI=function(){var e=this;this.start<0&&(this.start=0),this.end>1&&(this.end=1);var t=this.x+this.start*this.width,n=this.x+this.end*this.width;this.foregroundShape.attr("x",t),this.foregroundShape.attr("width",n-t);var o=(0,w.get)(this.handlerStyle,"width",JA);this.setText(this.minText,this.maxText);var u=this.dodgeText([t,n]),l=u[0],c=u[1];this.minHandlerShape.setX(t-o/2),(0,w.each)(l,function(f,h){return e.minTextShape.attr(h,f)}),this.maxHandlerShape.setX(n-o/2),(0,w.each)(c,function(f,h){return e.maxTextShape.attr(h,f)}),this.currentMode==="range"?this.graph.emit(Wp,{value:[this.start,this.end].sort()}):this.currentMode==="single"&&this.graph.emit(Wp,{value:[this.end,this.end]})},a.prototype.dodgeText=function(e){var t,n,o=2,u=(0,w.get)(this.handlerStyle,"width",JA),l=this.minTextShape,c=this.maxTextShape,f=e[0],h=e[1],v=!1;f>h&&(t=[h,f],f=t[0],h=t[1],n=[c,l],l=n[0],c=n[1],v=!0);var p=l.getBBox(),g=c.getBBox(),E=null,D=null;return this.timeBarType==="trend"?(E=f-p.width<this.x+o?{x:f+u/2+o,textAlign:"left"}:{x:f-u/2-o,textAlign:"right"},D=h+g.width>this.x+this.width?{x:h-u/2-o,textAlign:"right"}:{x:h+u/2+o,textAlign:"left"}):this.timeBarType==="simple"&&(E=l.attr("x")>p.width?{x:f,textAlign:"center"}:{x:f,textAlign:"left"},D=c.attr("x")>this.width-g.width?{x:h,textAlign:"right"}:{x:h,textAlign:"center"}),v?[D,E]:[E,D]},a.prototype.startPlay=function(){var e=this;return typeof window!="undefined"?window.requestAnimationFrame(function(){var t=e,n=t.ticks,o=t.width,u=e.currentSpeed,l=o/n.length,c=l/((10-u)*1e3/60),f=e.adjustOffsetRange(c/e.width);e.updateStartEnd(f),e.updateUI(),e.isPlay&&(e.playHandler=e.startPlay())}):void 0},a.prototype.changePlayStatus=function(e){e===void 0&&(e=!0),this.controllerBtnGroup.playButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.graph.emit(MR,null)):this.playHandler&&(typeof window!="undefined"&&window.cancelAnimationFrame(this.playHandler),e&&this.graph.emit(IR,null))},a.prototype.destory=function(){this.graph.off(Wp,function(){});var e=this.group,t=e.find(function(o){return o.get("name")==="minHandlerShape"});t&&(t.off("minHandlerShape-handler:mousedown"),t.off("minHandlerShape-handler:touchstart"),t.destroy());var n=e.find(function(o){return o.get("name")==="maxHandlerShape"});n&&(n.off("maxHandlerShape-handler:mousedown"),n.off("maxHandlerShape-handler:touchstart"),n.destroy()),this.foregroundShape.off("mousedown"),this.foregroundShape.off("touchstart"),this.foregroundShape.destroy(),e.off("".concat(v0,":click")),e.off("".concat(mb,":click")),e.off("".concat(xb,":click")),e.off(xy),e.destroy(),this.trendComponent&&this.trendComponent.destory()},a}(),Srt=Ert,Hct={opacity:.5,fill:"#000"},Yct={opacity:.5,fill:"#000",r:5},Xct={fill:"#fff",fontSize:12},wrt=function(){function a(e){var t=e.x,n=t===void 0?0:t,o=e.y,u=o===void 0?0:o,l=e.container,c=e.text,f=e.padding,h=f===void 0?[4,4,4,4]:f,v=e.className,p=v===void 0?"g6-component-timebar-tooltip":v,g=e.backgroundColor,E=g===void 0?"#000":g,D=e.textColor,G=D===void 0?"#fff":D,H=e.opacity,X=H===void 0?.8:H,rt=e.fontSize,ht=rt===void 0?12:rt;this.container=l,this.className=p,this.backgroundColor=E,this.textColor=G,this.x=n,this.y=u,this.text=c,this.padding=h,this.opacity=X,this.fontSize=ht,this.render()}return a.prototype.render=function(){var e=this,t=e.className,n=e.x,o=e.y,u=e.backgroundColor,l=e.textColor,c=e.text,f=e.padding,h=e.opacity,v=e.fontSize,p=e.container,g=Fa("<div class='".concat(t,`' style="position: absolute; width: fit-content; height: fit-content; opacity: `).concat(h,'"></div>'));(0,w.isString)(p)&&(p=document.getElementById(p)),p.appendChild(g),e.parentHeight=p.offsetHeight,e.parentWidth=p.offsetWidth,Ri(g,{visibility:"hidden",top:0,left:0});var E=Fa(`
      <div style='position: absolute; white-space:nowrap; background-color: `.concat(u,"; font-size: ").concat(v,"px; border-radius: 4px; width: fit-content; height: fit-content; color: ").concat(l,"; padding: ").concat(f[0],"px ").concat(f[1],"px ").concat(f[2],"px ").concat(f[3],"px'></div>"));E.innerHTML=c,g.appendChild(E),e.backgroundDOM=E;var D=Fa("<div style='position: absolute; width: 0px; height: 0px; border-left: 5px solid transparent; border-right: 5px solid transparent; border-top: 10px solid ".concat(u,"'></div>"));g.appendChild(D),e.arrowDOM=D,e.container=g},a.prototype.show=function(e){var t=this,n=e.text,o=e.x,u=e.y,l=e.clientX,c=e.clientY;t.backgroundDOM.innerHTML=n;var f=t.backgroundDOM.offsetWidth,h=t.backgroundDOM.offsetHeight,v=t.arrowDOM.offsetWidth,p=t.arrowDOM.offsetHeight;Ri(t.container,{top:"".concat(-h-p,"px"),left:"".concat(o,"px"),visibility:"visible"}),Ri(t.backgroundDOM,{marginLeft:"".concat(-f/2,"px")}),Ri(t.arrowDOM,{marginLeft:"".concat(-v/2,"px"),top:"".concat(h,"px")});var g=o-f/2,E=o+f/2;g<0?Ri(t.backgroundDOM,{marginLeft:"".concat(-f/2-g,"px")}):E>t.parentWidth&&Ri(t.backgroundDOM,{marginLeft:"".concat(-f/2-E+t.parentWidth+12,"px")})},a.prototype.hide=function(){Ri(this.container,{top:0,left:0,visibility:"hidden"})},a}(),_rt=wrt,ZS=function(){return ZS=Object.assign||function(a){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(a[o]=e[o])}return a},ZS.apply(this,arguments)},Art=ka,Crt={fill:"#5B8FF9"},Trt={fill:"#e6e8e9"},Mrt=function(){function a(e){this.frameCount=0,this.fontFamily="Arial, sans-serif";var t=e.graph,n=e.canvas,o=e.group,u=e.width,l=e.height,c=e.padding,f=e.data,h=e.start,v=e.end,p=e.x,g=p===void 0?0:p,E=e.y,D=E===void 0?0:E,G=e.tickLabelFormatter,H=e.selectedTickStyle,X=H===void 0?Crt:H,rt=e.unselectedTickStyle,ht=rt===void 0?Trt:rt,mt=e.tooltipBackgroundColor,Dt=e.tooltipFomatter,kt=e.tickLabelStyle;this.graph=t,this.group=o,this.sliceGroup=o.addGroup({name:"slice-group"}),this.canvas=n,this.width=u,this.height=l,this.padding=c,this.data=f,this.start=h,this.end=v,this.tickLabelFormatter=G,this.tickLabelStyle=kt||{},this.selectedTickStyle=X,this.unselectedTickStyle=ht,this.x=g,this.y=D,this.tooltipBackgroundColor=mt,this.tooltipFomatter=Dt,this.fontFamily=typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif",this.renderSlices(),this.initEvent()}return a.prototype.renderSlices=function(){var e=this,t=this,n=t.width,o=t.height,u=t.padding,l=t.data,c=t.start,f=t.end,h=t.tickLabelFormatter,v=t.selectedTickStyle,p=t.unselectedTickStyle,g=t.tickLabelStyle,E=n-2*u,D=10,G=4,H=3*u+G+D,X=o-H-2*u,rt=2,ht=l.length,mt=(E-rt*(ht-1))/ht;this.tickWidth=mt;var Dt=this.sliceGroup,kt=[],Vt=[],te=Math.round(ht*c),le=Math.round(ht*f);this.startTickRectId=te,this.endTickRectId=le;var pe=g.rotate;delete g.rotate,l.forEach(function(Xe,pr){var yr=pr>=te&&pr<=le,Vr=yr?v:p,nr=Dt.addShape("rect",{attrs:ZS({x:u+pr*(mt+rt),y:u,width:mt,height:X},Vr),draggable:!0,name:"tick-rect-".concat(pr)}),Gr=Dt.addShape("rect",{attrs:{x:u+pr*mt+rt*(2*pr-1)/2,y:u,width:pr===0||pr===ht-1?mt+rt/2:mt+rt,height:X,fill:"#fff",opacity:0},draggable:!0,name:"pick-rect-".concat(pr)});Gr.toFront();var en=nr.getBBox(),cr=(en.minX+en.maxX)/2;kt.push({rect:nr,pickRect:Gr,value:Xe.date,x:cr,y:en.minY});var Fr;if(h?(Fr=h(Xe),!(0,w.isString)(Fr)&&Fr&&(Fr=Xe.date)):pr%Math.round(ht/10)===0&&(Fr=Xe.date),Fr){Vt.push(Fr);var qr=en.maxY+u*2;Dt.addShape("line",{attrs:{stroke:"#BFBFBF",x1:cr,y1:qr,x2:cr,y2:qr+G},name:"tick-line"});var _r=qr+G+u,kr=Dt.addShape("text",{attrs:ZS({fill:"#8c8c8c",stroke:"#fff",lineWidth:1,x:cr,y:_r,textAlign:"center",text:Fr,textBaseline:"top",fontSize:10,fontFamily:e.fontFamily||"Arial, sans-serif"},g),capture:!1,name:"tick-label"}),Yr=kr.getBBox();if(Yr.maxX>n?kr.attr("textAlign","right"):Yr.minX<0&&kr.attr("textAlign","left"),(0,w.isNumber)(pe)&&Vt.length!==10){var mn=Art([1,0,0,0,1,0,0,0,1],[["t",-cr,-_r],["r",pe],["t",cr-5,_r+2]]);kr.attr({textAlign:"left",matrix:mn})}Vt.length===1?kr.attr({textAlign:"left"}):Vt.length===10&&kr.attr({textAlign:"right"})}}),this.tickRects=kt;var De=this.group;this.currentSpeed=1,this.controllerBtnGroup=new PR({group:De,x:this.x,y:this.y+o+5,width:n,height:40,hideTimeTypeController:!0,speed:this.currentSpeed,fontFamily:this.fontFamily||"Arial, sans-serif"})},a.prototype.initEvent=function(){var e=this,t=this.sliceGroup;t.on("click",function(v){var p=v.target;if(!(p.get("type")!=="rect"||!p.get("name"))){var g=parseInt(p.get("name").split("-")[2],10);if(!isNaN(g)){var E=e.tickRects,D=e.unselectedTickStyle;E.forEach(function(rt){rt.rect.attr(D)});var G=e.selectedTickStyle;E[g].rect.attr(G),e.startTickRectId=g,e.endTickRectId=g;var H=E.length,X=g/H;e.graph.emit(Wp,{value:[X,X]})}}}),t.on("dragstart",function(v){var p=e.tickRects,g=e.unselectedTickStyle;p.forEach(function(rt){rt.rect.attr(g)});var E=v.target,D=parseInt(E.get("name").split("-")[2],10),G=e.selectedTickStyle;p[D].rect.attr(G),e.startTickRectId=D;var H=p.length,X=D/H;e.graph.emit(Wp,{value:[X,X]}),e.dragging=!0}),t.on("dragover",function(v){if(!!e.dragging&&v.target.get("type")==="rect"){for(var p=parseInt(v.target.get("name").split("-")[2],10),g=e.startTickRectId,E=e.tickRects,D=e.selectedTickStyle,G=e.unselectedTickStyle,H=0;H<E.length;H++){var X=H>=g&&H<=p?D:G;E[H].rect.attr(X)}var rt=E.length;e.endTickRectId=p;var ht=g/rt,mt=p/rt;e.graph.emit(Wp,{value:[ht,mt]})}}),t.on("drop",function(v){if(!!e.dragging&&(e.dragging=!1,v.target.get("type")==="rect")){var p=e.startTickRectId,g=parseInt(v.target.get("name").split("-")[2],10);if(!(g<p)){var E=e.selectedTickStyle,D=e.tickRects;D[g].rect.attr(E),e.endTickRectId=g;var G=D.length,H=p/G,X=g/G;e.graph.emit(Wp,{value:[H,X]})}}});var n=this,o=n.tooltipBackgroundColor,u=n.tooltipFomatter,l=n.canvas,c=new _rt({container:l.get("container"),backgroundColor:o}),f=this.tickRects;f.forEach(function(v){var p=v.pickRect;p.on("mouseenter",function(g){var E=g.target;if(E.get("type")==="rect"){var D=parseInt(E.get("name").split("-")[2],10),G=l.getClientByPoint(f[D].x,f[D].y);c.show({x:f[D].x,y:f[D].y,clientX:G.x,clientY:G.y,text:u?u(f[D].value):f[D].value})}}),p.on("mouseleave",function(g){c.hide()})});var h=this.group;h.on("".concat(v0,":click"),function(){e.isPlay=!e.isPlay,e.changePlayStatus()}),h.on("".concat(mb,":click"),function(){e.updateStartEnd(1)}),h.on("".concat(xb,":click"),function(){e.updateStartEnd(-1)}),h.on(xy,function(v){var p=v.type,g=v.speed;e.currentSpeed=g})},a.prototype.changePlayStatus=function(e){e===void 0&&(e=!0),this.controllerBtnGroup.playButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.graph.emit(MR,null)):this.playHandler&&(typeof window!="undefined"&&window.cancelAnimationFrame(this.playHandler),e&&this.graph.emit(IR,null))},a.prototype.startPlay=function(){var e=this;return typeof window!="undefined"?window.requestAnimationFrame(function(){var t=e.currentSpeed;e.frameCount%(60/t)===0&&(e.frameCount=0,e.updateStartEnd(1)),e.frameCount++,e.isPlay&&(e.playHandler=e.startPlay())}):void 0},a.prototype.updateStartEnd=function(e){var t=this,n=this.tickRects,o=n.length,u=this.unselectedTickStyle,l=this.selectedTickStyle,c=t.endTickRectId;if(e>0?t.endTickRectId++:(n[t.endTickRectId].rect.attr(u),t.endTickRectId--),c!==t.startTickRectId)t.endTickRectId<t.startTickRectId&&(t.startTickRectId=t.endTickRectId);else{for(var f=t.startTickRectId;f<=t.endTickRectId-1;f++)n[f].rect.attr(u);t.startTickRectId=t.endTickRectId}if(n[t.endTickRectId]){n[t.endTickRectId].rect.attr(l);var h=t.startTickRectId/o,v=t.endTickRectId/o;this.graph.emit(Wp,{value:[h,v]})}},a.prototype.destory=function(){this.graph.off(Wp,function(){});var e=this.sliceGroup;e.off("click"),e.off("dragstart"),e.off("dragover"),e.off("drop"),this.tickRects.forEach(function(t){var n=t.pickRect;n.off("mouseenter"),n.off("mouseleave")}),this.tickRects.length=0,e.off("".concat(v0,":click")),e.off("".concat(mb,":click")),e.off("".concat(xb,":click")),e.off(xy),this.sliceGroup.destroy()},a}(),Irt=Mrt,Ort=function(){var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var l in u)Object.prototype.hasOwnProperty.call(u,l)&&(o[l]=u[l])},a(t,n)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Sg=function(){return Sg=Object.assign||function(a){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(a[o]=e[o])}return a},Sg.apply(this,arguments)},Drt=function(a,e){var t={};for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&e.indexOf(n)<0&&(t[n]=a[n]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(a);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(a,n[o])&&(t[n[o]]=a[n[o]]);return t},Prt=4,Lrt=26,Rrt=function(a){Ort(e,a);function e(t){return a.call(this,t)||this}return e.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-component-timebar",padding:10,type:"trend",trend:{data:[],isArea:!1,smooth:!0},controllerCfg:{speed:1,loop:!1},slider:{start:.1,end:.9,minText:"min",maxText:"max"},tick:{start:.1,end:.9,data:[]},textStyle:{},filterEdge:!1,filterItemTypes:["node"],containerCSS:{}}},e.prototype.initContainer=function(){var t=this.get("graph"),n=this._cfgs,o=n.width,u=n.height,l=this.get("className")||"g6-component-timebar",c=this.get("container"),f=this.get("graph").get("container"),h;c?((0,w.isString)(c)&&(c=document.getElementById(c)),h=c):(h=Fa("<div class='".concat(l,"'></div>")),Ri(h,{position:"relative"})),f.appendChild(h),this.set("timeBarContainer",h);var v,p=t.get("renderer");p==="SVG"?v=new Nm({container:h,width:o,height:u}):v=new fg({container:h,width:o,height:u}),this.get("containerCSS")&&Ri(h,this.get("containerCSS")),this.set("canvas",v)},e.prototype.init=function(){this.initContainer();var t=this.get("canvas"),n=t.addGroup({name:"timebar-group"});this.set("timeBarGroup",n),this.renderTrend(),this.initEvent();var o=typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif";this.set("fontFamily",o)},e.prototype.renderTrend=function(){var t=this,n=this._cfgs,o=n.width,u=n.x,l=n.y,c=n.padding,f=n.type,h=n.trend,v=n.slider,p=n.controllerCfg,g=n.textStyle,E=n.tick,D=n.backgroundStyle,G=n.foregroundStyle,H=h.data,X=Drt(h,["data"]),rt=o-2*c,ht=f==="trend"?Lrt:Prt,mt=this.get("graph"),Dt=this.get("timeBarGroup"),kt=this.get("canvas"),Vt=null;if(f==="trend"||f==="simple"){var te=this.get("getValue");Vt=new Srt(Sg(Sg({graph:mt,canvas:kt,group:Dt,type:f,x:u+c,y:f==="trend"?l+c:l+c+15,width:rt,height:ht,padding:c,backgroundStyle:D,foregroundStyle:G,trendCfg:Sg(Sg({},X),{data:H.map(function(pe){return(te==null?void 0:te(pe))||pe.value})})},v),{tick:{ticks:H,tickLabelFormatter:E.tickLabelFormatter,tickLabelStyle:E.tickLabelStyle,tickLineStyle:E.tickLineStyle},handlerStyle:Sg(Sg({},v.handlerStyle),{height:v.height||ht}),controllerCfg:p,textStyle:g}))}else f==="tick"&&(Vt=new Irt(Sg({graph:mt,canvas:kt,group:Dt,x:u+c,y:l+c,width:o,height:42,padding:2},E)));var le=function pe(){var De=t.get("timebar");De.draggingHandler=!1,De.isPlay&&(De.isPlay=!1,De.currentHandler=De.maxHandlerShape,De.changePlayStatus()),document.removeEventListener("mouseup",pe)};kt.on("mousedown",function(pe){(pe.target.get("name")==="maxHandlerShape-handler"||pe.target.get("name")==="minHandlerShape-handler"||pe.target===Vt.foregroundShape)&&document.addEventListener("mouseup",le)}),this.set("timebar",Vt)},e.prototype.filterData=function(t){var n,o=t.value,u=null,l=this._cfgs.type;if(l==="trend"||l==="simple"?u=this._cfgs.trend.data:l==="tick"&&(u=this._cfgs.tick.data),!u||u.length===0){console.warn("\u8BF7\u914D\u7F6E TimeBar \u7EC4\u4EF6\u7684\u6570\u636E");return}var c=this.get("rangeChange"),f=this.get("graph"),h=Math.round(u.length*o[0]),v=Math.round(u.length*o[1]);v=v>=u.length?u.length-1:v,h=h>=u.length?u.length-1:h;var p=(n=this._cfgs.tick)===null||n===void 0?void 0:n.tickLabelFormatter,g=p?p(u[h]):u[h].date,E=p?p(u[v]):u[v].date;if(l!=="tick"){var D=this.get("timebar");D.setText(g,E)}if(c)c(f,g,E);else{(!this.cacheGraphData||this.cacheGraphData.nodes&&this.cacheGraphData.nodes.length===0)&&(this.cacheGraphData=f.get("data"));var G=this.get("filterItemTypes"),H=this.get("changeData"),X=this.get("getDate"),rt=this.get("shouldIgnore"),ht=u[h].date,mt=u[v].date;if(H||H===void 0){var Dt=this.cacheGraphData.nodes,kt=this.cacheGraphData.edges;if(G.includes("node")){Dt=Dt.filter(function(te){var le=+((X==null?void 0:X(te))||te.date);return le>=ht&&le<=mt||(rt==null?void 0:rt("node",te,{min:ht,max:mt}))});var Vt=Dt.map(function(te){return te.id});kt&&(kt=kt.filter(function(te){return Vt.includes(te.source)&&Vt.includes(te.target)||(rt==null?void 0:rt("edge",te,{min:ht,max:mt}))}))}(this.get("filterEdge")||G.includes("edge"))&&(kt=kt.filter(function(te){var le=+((X==null?void 0:X(te))||te.date);return le>=ht&&le<=mt||(rt==null?void 0:rt("edge",te,{min:ht,max:mt}))})),f.changeData({nodes:Dt,edges:kt})}else G.includes("node")&&f.getNodes().forEach(function(te){var le=te.getModel();if(!(rt!=null&&rt("node",le,{min:ht,max:mt}))){var pe=+((X==null?void 0:X(le))||le.date);pe<ht||pe>mt?f.hideItem(te):f.showItem(te)}}),(this.get("filterEdge")||G.includes("edge"))&&f.getEdges().forEach(function(te){var le=te.getModel();if(!(rt!=null&&rt("edge",le,{min:u[h].date,max:u[v].date}))){var pe=+((X==null?void 0:X(le))||le.date);pe<u[h].date||pe>u[v].date?f.hideItem(te):f.showItem(te)}})}},e.prototype.initEvent=function(){var t=this,n=0,o=0,u=this._cfgs.type;!u||u==="trend"||u==="simple"?(n=this._cfgs.slider.start,o=this._cfgs.slider.end):u==="tick"&&(n=this._cfgs.tick.start,o=this._cfgs.tick.end);var l=this.get("graph");l.on("afterrender",function(c){t.filterData({value:[n,o]})}),l.on(Wp,(0,w.throttle)(function(c){t.filterData(c)},200,{trailing:!0,leading:!0}))},e.prototype.destroy=function(){var t=this.get("timebar");t&&t.destory&&t.destory(),a.prototype.destroy.call(this);var n=this.get("timeBarContainer");if(n){var o=this.get("container");o||(o=this.get("graph").get("container")),(0,w.isString)(o)&&(o=document.getElementById(o)),o.removeChild(n)}},e}(wv),Frt=Rrt,Nrt=function(){var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var l in u)Object.prototype.hasOwnProperty.call(u,l)&&(o[l]=u[l])},a(t,n)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),krt=Qv.applyMatrix;function Brt(a,e){var t,n;if(a.naturalWidth)t=a.naturalWidth,n=a.naturalHeight;else{var o=new Image;o.src=a.src,o.onload=function(){e&&e(o.width,o.height)}}return[t,n]}var Grt=function(a){Nrt(e,a);function e(t){return a.call(this,t)||this}return e.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-minimap",viewportClassName:"g6-minimap-viewport",width:200,delegateStyle:{fill:"#40a9ff",stroke:"#096dd9"},refresh:!0}},e.prototype.getEvents=function(){return{beforepaint:"updateViewport",beforeanimate:"disableRefresh",afteranimate:"enableRefresh",viewportchange:"disableOneRefresh"}},e.prototype.disableRefresh=function(){this.set("refresh",!1)},e.prototype.enableRefresh=function(){this.set("refresh",!0),this.updateCanvas()},e.prototype.disableOneRefresh=function(){this.set("viewportChange",!0)},e.prototype.initViewport=function(){var t=this,n=this._cfgs,o=n.graph;if(!this.destroyed){var u=this.get("container");(0,w.isString)(u)&&(u=document.getElementById(u));var l=Fa("<div class=".concat(n.viewportClassName,`
      style='position:absolute;
        left:0;
        top:0;
        box-sizing:border-box;
        border: 2px solid #1980ff'>
      </div>`)),c=0,f=0,h=!1,v=0,p=0,g=0,E=0,D=0,G=0;u.addEventListener("mousedown",function(H){if(n.refresh=!1,H.target===l){var X=l.style;g=parseInt(X.width,10),E=parseInt(X.height,10);var rt=t.get("width"),ht=t.get("height");g>rt||E>ht||(G=o.getZoom(),D=t.get("ratio"),h=!0,c=H.clientX,f=H.clientY)}},!1),u.addEventListener("mousemove",function(H){if(!(!h||(0,w.isNil)(H.clientX)||(0,w.isNil)(H.clientY))){var X=t.get("width"),rt=t.get("height"),ht=l.style;v=parseInt(ht.left,10),p=parseInt(ht.top,10),g=parseInt(ht.width,10),E=parseInt(ht.height,10);var mt=c-H.clientX,Dt=f-H.clientY;v-mt<0?mt=v:v-mt+g>=X&&(mt=0),p-Dt<0?Dt=p:p-Dt+E>=rt&&(Dt=0),v-=mt,p-=Dt,Ri(l,{left:"".concat(v,"px"),top:"".concat(p,"px")}),o.translate(mt*G/D,Dt*G/D),c=H.clientX,f=H.clientY}},!1),u.addEventListener("mouseleave",function(){h=!1,n.refresh=!0},!1),u.addEventListener("mouseup",function(){h=!1,n.refresh=!0},!1),this.set("viewport",l),u.appendChild(l)}},e.prototype.updateViewport=function(){if(!this.destroyed){var t=this.get("ratio"),n=this.get("width"),o=this.get("height"),u=this.get("graph"),l=u.get("width"),c=u.get("height"),f=l/c,h=u.getGroup(),v=h.getCanvasBBox(),p=[(v.minX+v.maxX)/2,(v.minY+v.maxY)/2],g=[v.maxX-v.minX,v.maxY-v.minY],E={centerX:p[0],centerY:p[1],width:0,height:0,minX:0,minY:0};v[0]/v[1]>f?(E.width=g[0],E.height=E.width/f):(E.height=g[1],E.width=E.height*f),E.minX=p[0]-E.width/2,E.minY=p[1]-E.height/2;var D=h.getMatrix();D||(D=[1,0,0,0,1,0,0,0,1]);var G=fu.invert([1,0,0,0,1,0,0,0,1],D),H=krt({x:E.minX,y:E.minY},G),X=u.getCanvasByPoint(H.x,H.y),rt=this.get("viewport");rt||this.initViewport();var ht=l/E.width,mt=ht*n,Dt=ht*o,kt=n*-X.x/E.width,Vt=o*-X.y/E.height,te=kt+mt,le=Vt+Dt;kt<0&&(mt+=kt,kt=0),te>n&&(mt=mt-(te-n)),Vt<0&&(Dt+=Vt,Vt=0),le>o&&(Dt=Dt-(le-o)),this.set("ratio",t);var pe="".concat(kt,"px"),De="".concat(Vt,"px");Ri(rt,{left:pe,top:De,width:"".concat(mt,"px"),height:"".concat(Dt,"px")})}},e.prototype.init=function(){this.initContainer()},e.prototype.initContainer=function(){var t=this,n=t.get("graph"),o=n.get("width"),u=n.get("height"),l=u/o,c=t.get("className"),f=t.get("container"),h=t.get("width"),v=t.get("height");!h&&!v&&(h=200),h?(v=l*h,t.set("height",v)):(h=1/l*v,t.set("width",h));var p=Fa("<div class='".concat(c,"' style='width: ").concat(h,"px; height: ").concat(v,"px; overflow: hidden; position: relative;'></div>"));(0,w.isString)(f)&&(f=document.getElementById(f)),f?f.appendChild(p):n.get("container").appendChild(p),t.set("container",p);var g=Fa('<div class="g6-minimap-container" style="position: relative; width: 100%; height: 100%; text-align: center; display: table;"></div>');p.appendChild(g);var E=Fa('<span style="display: table-cell; vertical-align: middle; "></span>');g.appendChild(E),t.set("containerDOM",g),t.set("containerSpan",E);var D=Fa('<img alt="" src="'.concat(this.get("graphImg"),'" style="display: inline-block; user-select: none;" draggable="false" />'));t.set("imgDOM",D),t.updateImgSize(),E.appendChild(D),t.updateCanvas()},e.prototype.updateImgSize=function(){var t=this,n=t.get("imgDOM"),o=t.get("width"),u=t.get("height");n.onload=function(){var l=Brt(n);l[0]>l[1]?n.width=o:n.height=u}},e.prototype.updateCanvas=function(){var t=this.get("refresh");if(!!t){var n=this.get("graph");if(!n.get("destroyed")){this.get("viewportChange")&&(this.set("viewportChange",!1),this.updateViewport());var o=this.get("width"),u=n.get("canvas").getCanvasBBox(),l=u.width,c=o/l;this.set("ratio",c),this.updateViewport()}}},e.prototype.getViewport=function(){return this.get("viewport")},e.prototype.getContainer=function(){return this.get("container")},e.prototype.updateGraphImg=function(t){var n=this,o=n.get("imgDOM");o.remove(),n.set("graphImg",t);var u=Fa('<img alt="" src="'.concat(t,'" style="display: inline-block;" ondragstart="return false;" onselectstart="return false;"/>'));n.set("imgDOM",u),u.src=t,n.updateImgSize();var l=n.get("containerSpan");l.appendChild(u),n.updateCanvas()},e.prototype.destroy=function(){var t=this.get("container");t.parentNode.removeChild(t)},e}(wv),zrt=Grt,Urt=function(){var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var l in u)Object.prototype.hasOwnProperty.call(u,l)&&(o[l]=u[l])},a(t,n)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),qA=function(){return qA=Object.assign||function(a){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(a[o]=e[o])}return a},qA.apply(this,arguments)},jrt=Qv.distance,LR=.05,RR={stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:1,fill:"#fff"},Wrt=function(a){Urt(e,a);function e(t){return a.call(this,t)||this}return e.prototype.getDefaultCfgs=function(){return{type:"both",trigger:"mousemove",r:60,delegateStyle:(0,w.clone)(RR),showLabel:"edge",scaleRBy:"wheel"}},e.prototype.getEvents=function(){var t;switch(this.get("trigger")){case"click":t={click:"filter"};break;case"drag":t={click:"createDelegate"};break;default:t={mousemove:"filter"};break}return t},e.prototype.init=function(){var t=this,n=t.get("showLabel"),o=n==="node"||n==="both",u=n==="edge"||n==="both";t.set("showNodeLabel",o),t.set("showEdgeLabel",u);var l=t.get("shouldShow");l||t.set("shouldShow",function(){return!0})},e.prototype.createDelegate=function(t){var n=this,o=n.get("delegate");(!o||o.destroyed)&&(n.filter(t),o=n.get("delegate"),o.on("dragstart",function(u){}),o.on("drag",function(u){n.filter(u)}),this.get("scaleRBy")==="wheel"&&o.on("mousewheel",function(u){n.scaleRByWheel(u)}))},e.prototype.scaleRByWheel=function(t){var n=this;if(!(!t||!t.originalEvent)){t.preventDefault&&t.preventDefault();var o=n.get("graph"),u,l=n.get("delegate"),c=l?{x:l.attr("x"),y:l.attr("y")}:void 0,f=c||o.getPointByClient(t.clientX,t.clientY);t.originalEvent.wheelDelta<0?u=1-LR:u=1/(1-LR);var h=n.get("maxR"),v=n.get("minR"),p=n.get("r");(p>(h||o.get("height"))&&u>1||p<(v||o.get("height")*.05)&&u<1)&&(u=1),p*=u,n.set("r",p),n.filter(t)}},e.prototype.filter=function(t){var n=this,o=n.get("graph"),u=o.getNodes(),l={},c=n.get("r"),f=n.get("type"),h={x:t.x,y:t.y};n.updateDelegate(h,c);var v=n.get("shouldShow"),p=n.get("vShapes");p&&p.forEach(function(X){X.remove(),X.destroy()}),p=[],u.forEach(function(X){var rt=X.getModel(),ht=rt.x,mt=rt.y;jrt({x:ht,y:mt},h)<c&&(l[rt.id]=X)});var g=o.getEdges(),E=[];g.forEach(function(X){var rt=X.getModel(),ht=rt.source,mt=rt.target;v(rt)&&(f==="only-source"||f==="one"?l[ht]&&!l[mt]&&E.push(X):f==="only-target"||f==="one"?l[mt]&&!l[ht]&&E.push(X):f==="both"&&l[ht]&&l[mt]&&E.push(X))});var D=n.get("showNodeLabel"),G=n.get("showEdgelabel"),H=o.get("group");E.forEach(function(X){var rt=X.get("group").get("children");rt.forEach(function(ht){var mt=ht.get("type"),Dt=H.addShape(mt,{attrs:ht.attr()});p.push(Dt),D&&mt==="text"&&Dt.set("visible",!0)})}),Object.keys(l).forEach(function(X){var rt=l[X],ht=rt.get("group").clone();if(H.add(ht),p.push(ht),G)for(var mt=ht.get("children"),Dt=0;Dt<mt.length;Dt++){var kt=mt[Dt];kt.get("type")==="text"&&kt.set("visible",!0)}}),n.set("vShapes",p)},e.prototype.updateParams=function(t){var n=this,o=t.r,u=t.trigger,l=t.minR,c=t.maxR,f=t.scaleRBy,h=t.showLabel,v=t.shouldShow;if(isNaN(t.r)||n.set("r",o),isNaN(c)||n.set("maxR",c),isNaN(l)||n.set("minR",l),(u==="mousemove"||u==="click")&&n.set("trigger",u),f==="wheel"||f==="unset"){n.set("scaleRBy",f),n.get("delegate").remove(),n.get("delegate").destroy();var p=n.get("dPercentText");p&&(p.remove(),p.destroy())}(h==="node"||h==="both")&&n.set("showNodeLabel",!0),(h==="edge"||h==="both")&&n.set("showEdgeLabel",!0),v&&n.set("shouldShow",v)},e.prototype.updateDelegate=function(t,n){var o=this,u=o.get("graph"),l=o.get("delegate");if(!l||l.destroyed){var c=u.get("group"),f=o.get("delegateStyle")||RR;l=c.addShape("circle",{attrs:qA({r:n,x:t.x,y:t.y},f),name:"lens-shape",draggable:!0}),this.get("trigger")!=="drag"&&this.get("scaleRBy")==="wheel"&&l.on("mousewheel",function(h){o.scaleRByWheel(h)})}else l.attr({x:t.x,y:t.y,r:n});o.set("delegate",l)},e.prototype.clear=function(){var t=this,n=t.get("vShapes");n&&n.forEach(function(u){u.remove(),u.destroy()}),n=[],t.set("vShapes",n);var o=t.get("delegate");o&&!o.destroyed&&(o.remove(),o.destroy())},e.prototype.destroy=function(){this.clear()},e}(wv),Vrt=Wrt,Hrt=function(){var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var l in u)Object.prototype.hasOwnProperty.call(u,l)&&(o[l]=u[l])},a(t,n)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Yrt=Qv.pointLineDistance,Xrt={stroke:"#FA8C16",lineWidth:1},$rt=function(a){Hrt(e,a);function e(t){return a.call(this,t)||this}return e.prototype.getDefaultCfgs=function(){return{line:Xrt,itemAlignType:"center",tolerance:5,horizontalLines:{},verticalLines:{},alignLines:[]}},e.prototype.init=function(){},e.prototype.getEvents=function(){return{"node:dragstart":"onDragStart","node:drag":"onDrag","node:dragend":"onDragEnd"}},e.prototype.onDragStart=function(){this.initBoxLine()},e.prototype.onDrag=function(t){var n=t.item,o=n.get("delegateShape")||n,u=o.getBBox(),l=n.getModel(),c=l.x-u.x,f=l.y-u.y;this.show({x:u.minX+c,y:u.minY+f},{width:u.width,height:u.height})},e.prototype.onDragEnd=function(){this.destory()},e.prototype.initBoxLine=function(){var t=this._cfgs,n=t.horizontalLines,o=t.verticalLines,u=t.itemAlignType,l=this.get("graph"),c=l.getNodes();c.forEach(function(f){var h=f.getBBox(),v=f.get("id");u===!0||u==="horizontal"?(n["".concat(v,"tltr")]=[h.minX,h.minY,h.maxX,h.minY,f],n["".concat(v,"lcrc")]=[h.minX,h.centerY,h.maxX,h.centerY,f],n["".concat(v,"blbr")]=[h.minX,h.maxY,h.maxX,h.maxY,f]):u==="center"&&(n["".concat(v,"lcrc")]=[h.minX,h.centerY,h.maxX,h.centerY,f]),u===!0||u==="vertical"?(o["".concat(v,"tlbl")]=[h.minX,h.minY,h.minX,h.maxY,f],o["".concat(v,"tcbc")]=[h.centerX,h.minY,h.centerX,h.maxY,f],o["".concat(v,"trbr")]=[h.maxX,h.minY,h.maxX,h.maxY,f]):u==="center"&&(o["".concat(v,"tcbc")]=[h.centerX,h.minY,h.centerX,h.maxY,f])})},e.prototype.show=function(t,n){var o=(0,w.mix)({},t);return this.itemAlign(t,n,o),t},e.prototype.itemAlign=function(t,n,o){var u=this,l=this._cfgs,c=l.horizontalLines,f=l.verticalLines,h=l.tolerance,v={x:o.x+n.width/2,y:o.y},p={x:o.x+n.width/2,y:o.y+n.height/2},g={x:o.x+n.width/2,y:o.y+n.height},E={x:o.x,y:o.y+n.height/2},D={x:o.x+n.width,y:o.y+n.height/2},G=[],H=[],X=null;if(this.clearAlignLine(),(0,w.each)(c,function(ht){ht[4].isVisible&&(G.push(u.getLineDisObject(ht,v)),G.push(u.getLineDisObject(ht,p)),G.push(u.getLineDisObject(ht,g)))}),(0,w.each)(f,function(ht){ht[4].isVisible&&(H.push(u.getLineDisObject(ht,E)),H.push(u.getLineDisObject(ht,p)),H.push(u.getLineDisObject(ht,D)))}),G.sort(function(ht,mt){return ht.dis-mt.dis}),H.sort(function(ht,mt){return ht.dis-mt.dis}),G.length!==0&&G[0].dis<h){t.y=G[0].line[1]-G[0].point.y+o.y,X={type:"item",horizontals:[G[0]]};for(var rt=1;rt<3;rt++)G[0].dis===G[rt].dis&&X.horizontals.push(G[rt])}if(H.length!==0&&H[0].dis<h){t.x=H[0].line[0]-H[0].point.x+o.x,X?X.verticals=[H[0]]:X={type:"item",verticals:[H[0]]};for(var rt=1;rt<3;rt++)H[0].dis===H[rt].dis&&X.verticals.push(H[rt])}X&&(X.bbox=n,this.addAlignLine(X))},e.prototype.addAlignLine=function(t){var n=t.bbox,o=t.type,u=t.horizontals,l=t.verticals,c=this._cfgs,f=c.line,h=c.alignLines,v=this.get("graph"),p=v.get("group");o==="item"&&(u&&(0,w.each)(u,function(g){var E=g.line,D=g.point,G=(E[0]+E[2])/2,H,X;D.x<G?(H=D.x-n.width/2,X=Math.max(E[0],E[2])):(H=D.x+n.width/2,X=Math.min(E[0],E[2]));var rt=(0,w.mix)({x1:H,y1:E[1],x2:X,y2:E[1]},f),ht=p.addShape("line",{attrs:rt,capture:!1});h.push(ht)}),l&&(0,w.each)(l,function(g){var E=g.line,D=g.point,G=(E[1]+E[3])/2,H,X;D.y<G?(H=D.y-n.height/2,X=Math.max(E[1],E[3])):(H=D.y+n.height/2,X=Math.min(E[1],E[3]));var rt=(0,w.mix)({x1:E[0],y1:H,x2:E[0],y2:X},f),ht=p.addShape("line",{attrs:rt,capture:!1});h.push(ht)}))},e.prototype.getLineDisObject=function(t,n){return{line:t,point:n,dis:Yrt(t,n)}},e.prototype.getContainer=function(){return this.get("container")},e.prototype.clearAlignLine=function(){var t=this._cfgs.alignLines;(0,w.each)(t,function(n){n.remove()}),t.length=0},e.prototype.destory=function(){var t=this._cfgs,n=t.horizontalLines,o=t.verticalLines,u=this.get("graph"),l=u.getNodes();l.forEach(function(c){var f=c.get("id");delete n["".concat(f,"tltr")],delete n["".concat(f,"lcrc")],delete n["".concat(f,"blbr")],delete o["".concat(f,"tlbl")],delete o["".concat(f,"tcbc")],delete o["".concat(f,"trbr")]}),this.clearAlignLine()},e}(wv),Krt=$rt,Zrt=function(){var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var l in u)Object.prototype.hasOwnProperty.call(u,l)&&(o[l]=u[l])},a(t,n)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Bu=function(){return Bu=Object.assign||function(a){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(a[o]=e[o])}return a},Bu.apply(this,arguments)},Qrt=["click","mouseenter"],Jrt=function(a){Zrt(e,a);function e(t){return a.call(this,t)||this}return e.prototype.getDefaultCfgs=function(){return{data:{},position:"top",padding:8,margin:8,offsetX:0,offsetY:0,layout:"horizontal",flipPage:!1,containerStyle:{},align:void 0,horiSep:8,vertiSep:8,filter:{enable:!1,trigger:"click"}}},e.prototype.init=function(){this.formatArray("padding"),this.formatArray("margin");var t=this.get("filter")||{},n=t.multiple;n&&t.trigger==="mouseenter"&&this.set("multiple",!1);var o=this.get("align");if(!o){var u=this.get("position").split("-");u.includes("left")&&(o="left"),u.includes("right")?o="right":o="center",this.set("align",o)}var l=this.get("graph"),c=l.get("container"),f=Fa(`<div class='g6-legend-container' style="position: absolute;"></div>`);c.appendChild(f),this.set("container",f);var h=this.render();Ri(f,this.getContainerPos(h)),this.bindEvents()},e.prototype.getContainerPos=function(t){t===void 0&&(t=[0,0]);var n=this,o=n.get("graph"),u=this.get("offsetX"),l=this.get("offsetY"),c=this.get("margin"),f=this.get("position").split("-"),h={top:0,right:1,bottom:2,left:3},v=0,p=0,g={left:(o.getWidth()-t[0])/2+v,top:(o.getHeight()-t[1])/2+p};return f.forEach(function(E){var D=c[h[E]],G=E;switch(E){case"top":D+=p;break;case"left":D+=v;break;case"bottom":D=o.getHeight()-t[1]-D+p,G="top";break;default:D=o.getWidth()-t[0]-D+v,G="left";break}g[G]=D}),g.top+=l+o.getContainer().offsetTop,g.left+=u+o.getContainer().offsetLeft,Object.keys(g).forEach(function(E){g[E]="".concat(g[E],"px")}),g},e.prototype.bindEvents=function(){var t=this,n=t.get("filter");if(!(!n||!n.enable)){var o=n.trigger||"click";Qrt.includes(o)||(console.warn("Trigger for legend filterling must be 'click' or 'mouseenter', 'click' will take effect by default."),o="click");var u=t.get("legendCanvas");o==="mouseenter"?(u.on("node-container:mouseenter",function(l){return t.filterData(l)}),u.on("node-container:mouseleave",function(l){t.clearFilter(),t.clearActiveLegend()})):(u.on("node-container:click",function(l){return t.filterData(l)}),u.on("click",function(l){l.target&&l.target.isCanvas&&l.target.isCanvas()&&(t.clearFilter(),t.clearActiveLegend())}))}},e.prototype.changeData=function(t){this.set("data",t);var n=this.render();Ri(this.get("container"),this.getContainerPos(n))},e.prototype.activateLegend=function(t){var n=this.get("filter"),o=n==null?void 0:n.multiple;o||this.clearActiveLegend();var u=t.get("parent");u.get("active")?(u.set("active",!1),this.findLegendItemsByState("active").length&&u.set("inactive",!0)):(u.set("inactive",!1),u.set("active",!0)),this.findLegendItemsByState("active").length?this.findLegendItemsByState("active","all",!1).forEach(function(p){p.set("inactive",!0)}):this.clearActiveLegend();var l=(n==null?void 0:n.lengedStateStyles)||{},c=(l==null?void 0:l.inactive)||{opacity:.5,"text-shape":{opacity:.5}},f=c["text-shape"]||{};this.findLegendItemsByState("inactive").forEach(function(p){var g=p.get("children"),E=g[0],D=g[1];E.attr(Bu(Bu({},E.get("oriAttrs")),c)),D.attr(Bu(Bu({},D.get("oriAttrs")),f))});var h=(l==null?void 0:l.active)||{stroke:"#000",lineWidth:2,"text-shape":{fontWeight:"bold"}},v=h["text-shape"]||{};this.findLegendItemsByState("active").forEach(function(p){var g=p.get("children"),E=g[0],D=g[1];E.attr(Bu(Bu({},E.get("oriAttrs")),h)),D.attr(Bu(Bu({},D.get("oriAttrs")),v))})},e.prototype.findLegendItemsByState=function(t,n,o){n===void 0&&(n="all"),o===void 0&&(o=!0);var u=this.get("legendCanvas").find(function(f){return f.get("name")==="root"}),l=u.find(function(f){return f.get("name")==="node-group"}),c=u.find(function(f){return f.get("name")==="edge-group"});return n==="node"?l.get("children").filter(function(f){return!!f.get(t)===o}):n==="edge"?c.get("children").filter(function(f){return!!f.get(t)===o}):l.get("children").filter(function(f){return!!f.get(t)===o}).concat(c.get("children").filter(function(f){return!!f.get(t)===o}))},e.prototype.clearActiveLegend=function(){var t=this.get("legendCanvas"),n=t.find(function(u){return u.get("name")==="root"}),o=[n.find(function(u){return u.get("name")==="node-group"}),n.find(function(u){return u.get("name")==="edge-group"})];o.forEach(function(u){u.get("children").forEach(function(l){l.set("active",!1),l.set("inactive",!1);var c=l.get("children"),f=c[0],h=c[1];f.attr(f.get("oriAttrs")),h.attr(h.get("oriAttrs"))})})},e.prototype.filterData=function(t){var n=this.get("filter"),o=n==null?void 0:n.filterFunctions;if(!(!n||!o)){var u=this.get("legendCanvas"),l=this.get("graph"),c=n.graphActiveState||"active",f=n.graphInactiveState||"inactive",h=n.multiple;this.clearFilter(),h||this.clearActiveLegend(),this.activateLegend(t.target);var v=u.find(function(X){return X.get("name")==="root"}),p=v.find(function(X){return X.get("name")==="node-group"}),g=v.find(function(X){return X.get("name")==="edge-group"}),E=p.get("children").filter(function(X){return X.get("active")}),D=g.get("children").filter(function(X){return X.get("active")}),G=0,H=["getNodes","getEdges"];H.forEach(function(X){l[X]().forEach(function(rt){var ht=!1,mt=X==="getNodes"?E:D;mt.forEach(function(Dt){var kt=o[Dt.get("id")];ht=ht||kt(rt.getModel())}),ht?(l.setItemState(rt,f,!1),l.setItemState(rt,c,!0),G++):(l.setItemState(rt,c,!1),l.setItemState(rt,f,!0))})}),G||H.forEach(function(X){l[X]().forEach(function(rt){l.clearItemStates(rt,[f])})})}},e.prototype.clearFilter=function(){var t=this.get("graph"),n=this.get("filter");if(!!n){var o=n.graphActiveState||"active",u=n.graphInactiveState||"inactive";t.getNodes().forEach(function(l){t.clearItemStates(l,[o,u])}),t.getEdges().forEach(function(l){t.clearItemStates(l,[o,u])})}},e.prototype.render=function(){var t=this;this.processData();var n=this.get("legendCanvas");if(!n){n=new fg({container:this.get("container"),width:200,height:200});var o=n.addGroup({name:"root"});o.addGroup({name:"node-group"}),o.addGroup({name:"edge-group"}),this.set("legendCanvas",n)}var u=n.find(function(Gr){return Gr.get("name")==="root"}),l=u.find(function(Gr){return Gr.get("name")==="node-group"}),c=u.find(function(Gr){return Gr.get("name")==="edge-group"}),f=this.get("itemsData"),h=["nodes","edges"],v=[l,c];h.forEach(function(Gr,en){f[Gr].forEach(function(cr){var Fr,qr=v[en].addGroup({id:cr.id,name:"node-container"}),_r,kr=cr.type,Yr=t.getShapeSize(cr),mn=Yr.width,Er=Yr.height,oi=Yr.r,mr=t.getStyle(Gr.substr(0,4),cr);switch(cr.type){case"circle":_r={r:oi,x:0,y:0};break;case"rect":_r={width:mn,height:Er,x:-mn/2,y:-Er/2};break;case"ellipse":_r={r1:mn,r2:Er,x:0,y:0};break;case"line":_r={x1:-mn/2,y1:0,x2:mn/2,y2:0},kr="line";break;case"quadratic":_r={path:[["M",-mn/2,0],["Q",0,mn/2,mn/2,0]]},kr="path";break;case"cubic":_r={path:[["M",-mn/2,0],["C",-mn/6,mn/2,mn/6,-mn/2,mn/2,0]]},kr="path";break;default:_r={r:oi,x:0,y:0};break}var ki=qr.addShape(kr,{attrs:Bu(Bu({},_r),mr),name:"".concat(cr.type,"-node-keyShape"),oriAttrs:Bu({opacity:1},mr)});if(cr.label){var Xn=ki.getBBox(),qn=((Fr=cr.labelCfg)===null||Fr===void 0?void 0:Fr.style)||{},ai=Bu({textAlign:"begin",fontSize:12,textBaseline:"middle",fill:"#000",opacity:1,fontWeight:"normal"},qn);qr.addShape("text",{attrs:Bu({x:Xn.maxX+4,y:0,text:cr.label},ai),className:"legend-label",name:"".concat(cr.type,"-node-text"),oriAttrs:ai})}})});var p=this.get("padding"),g,E=u.find(function(Gr){return Gr.get("name")==="title-container"}),D={height:0,maxY:0,width:0};if(this.get("title")){E||(E=u.addGroup({name:"title-container"}));var G={fontSize:20,fontFamily:"Arial",fontWeight:300,textBaseline:"top",textAlign:"center",fill:"#000",x:0,y:p[0]},H=this.get("titleConfig")||{},X=Object.assign(G,H.style||{});g=E.addShape("text",{attrs:Bu({text:this.get("title")},X)}),D=E.getCanvasBBox(),E.setMatrix([1,0,0,0,1,0,H.offsetX,H.offsetY,1])}this.layoutItems();var rt=u.getCanvasBBox(),ht=l.getCanvasBBox(),mt=ht.minX<0?Math.abs(ht.minX)+p[3]:p[3],Dt=D.maxY<ht.minY?Math.abs(D.maxY-ht.minY)+p[0]:D.maxY+p[0],kt=[1,0,0,0,1,0,mt,Dt,1];l.setMatrix(kt),rt=u.getCanvasBBox();var Vt=[rt.minX+rt.width+p[1],rt.minY+rt.height+p[2]];if(g){var H=Bu({position:"center",offsetX:0,offsetY:0},this.get("titleConfig"));D=E.getCanvasBBox();var te=E.getMatrix()||[1,0,0,0,1,0,0,0,1];H.position==="center"?te[6]=Vt[0]/2+H.offsetX:H.position==="right"?(te[6]=Vt[0]-p[3]+H.offsetX,g.attr({textAlign:"right"})):(te[6]=p[3]+H.offsetX,g.attr({textAlign:"left"})),E.setMatrix(te),D=E.getCanvasBBox(),mt=ht.minX<0?Math.abs(ht.minX)+p[3]:p[3],Dt=ht.minY<D.maxY?Math.abs(D.maxY-ht.minY)+p[0]:D.maxY+p[0],kt=[1,0,0,0,1,0,mt,Dt,1],l.setMatrix(kt);var le=[1,0,0,0,1,0,mt,Dt,1];this.get("layout")==="vertical"?le[6]+=ht.maxX+this.get("horiSep"):le[7]+=ht.maxY+this.get("vertiSep"),c.setMatrix(le)}else{ht=l.getCanvasBBox();var pe=[1,0,0,0,1,0,0,0,1];this.get("layout")==="vertical"?pe[6]+=kt[6]+ht.maxX+this.get("horiSep"):pe[7]+=kt[7]+ht.maxY+this.get("vertiSep"),c.setMatrix(pe)}rt=u.getCanvasBBox(),ht=l.getCanvasBBox(),kt=l.getMatrix()||[1,0,0,0,1,0,0,0,1];var De=c.getMatrix()||[1,0,0,0,1,0,0,0,1],Xe=c.getCanvasBBox();Vt=[Math.max(ht.width+kt[6],Xe.width+De[6])+p[1],Math.max(ht.height+kt[7],Xe.height+De[7])+p[2]],n.changeSize(Vt[0],Vt[1]);var pr=this.get("containerStyle"),yr=u.getMatrix()||[1,0,0,0,1,0,0,0,1],Vr=Qv.invertMatrix({x:0,y:0},yr),nr=u.addShape("rect",{attrs:Bu({x:Vr.x+(pr.lineWidth||1),y:Vr.y+(pr.lineWidth||1),width:Vt[0]-2*(pr.lineWidth||1),height:Vt[1]-2*(pr.lineWidth||1),fill:"#f00",stroke:"#000",lineWidth:1,opacity:.5},pr),name:"legend-back-rect",capture:!1});return nr.toBack(),Vt},e.prototype.layoutItems=function(){var t=this.get("legendCanvas"),n=this.get("horiSep"),o=this.get("vertiSep"),u=this.get("layout"),l=this.get("align"),c=[0,0],f=t.find(function(mt){return mt.get("name")==="root"}),h=f.find(function(mt){return mt.get("name")==="node-group"}),v=f.find(function(mt){return mt.get("name")==="edge-group"}),p={min:0,max:-1/0},g=-1/0;h.get("children").forEach(function(mt,Dt){Dt===0&&(p.min=c[0]);var kt=mt.get("children")[0],Vt=mt.getCanvasBBox(),te=kt.getBBox(),le=te.width,pe=te.height,De=0,Xe=0,pr=0;u==="vertical"?(Xe=c[1],pr=c[0]+le/2,c[0]=pr+Vt.height+o,De=Vt.maxX+Xe+le/2):(Xe=c[0]+le/2,pr=c[1],c[0]=Xe+Vt.width+n,De=Vt.maxY+pr+pe/2),c[0]>p.max&&(p.max=c[0]),De>g&&(g=De),mt.setMatrix([1,0,0,0,1,0,Xe,pr,1])});var E=p.max-p.min,D={min:0,max:-1/0},G=h.getCanvasBBox();c[0]=0,c[1]=u==="vertical"?G.maxX+n:G.maxY+o,v.get("children").forEach(function(mt,Dt){Dt===0&&(D.min=c[0]);var kt=mt.get("children")[0],Vt=mt.getCanvasBBox(),te=kt.getBBox(),le=te.width,pe=te.height,De=0,Xe=0;u==="vertical"?(De=c[1],Xe=c[0],c[0]=Xe+Vt.height+o,mt.setMatrix([1,0,0,0,1,0,0,Xe+pe/2,1])):(De=c[0],Xe=c[1],c[0]=De+Vt.width+n,mt.setMatrix([1,0,0,0,1,0,De+le/2,0,1])),c[0]>D.max&&(D.max=c[0])});var H=D.max-D.min;if(l&&l!==""&&l!=="left"){var X=E-H,rt=l==="center"?Math.abs(X)/2:Math.abs(X),ht=X<0?h:v;ht.get("children").forEach(function(mt){var Dt=mt.getMatrix()||[1,0,0,0,1,0,0,0,1];u==="vertical"?Dt[7]+=rt:Dt[6]+=rt,mt.setMatrix(Dt)})}},e.prototype.processData=function(){var t=this.get("data"),n={nodes:[],edges:[]};t.nodes&&(t.nodes.sort(function(o,u){return o.order-u.order}),t.nodes.forEach(function(o){var u,l,c,f,h,v=o.size||[((u=o.style)===null||u===void 0?void 0:u.width)||((l=o.style)===null||l===void 0?void 0:l.r)||8,((c=o.style)===null||c===void 0?void 0:c.height)||((f=o.style)===null||f===void 0?void 0:f.r)||8],p=((h=o.labelCfg)===null||h===void 0?void 0:h.style)||{};n.nodes.push({id:o.id||(0,w.uniqueId)(),type:o.type||"circle",style:Bu({},o.style),order:o.order,label:o.label,itemType:"node",size:v,labelCfg:{position:"right",style:Bu({fontFamily:"Arial"},p)}})})),t.edges&&(t.edges.sort(function(o,u){return o.order-u.order}),t.edges.forEach(function(o){var u,l,c=o.type||"line";o.type==="cubic-horizontal"&&(c="cubic");var f=((u=o.labelCfg)===null||u===void 0?void 0:u.style)||{},h=o.size||[((l=o.style)===null||l===void 0?void 0:l.width)||8,1];n.edges.push({id:o.id||(0,w.uniqueId)(),type:c,size:h,style:Bu({lineWidth:(0,w.isArray)(h)?h[1]:1},o.style),order:o.order,label:o.label,itemType:"edge",labelCfg:{position:"right",style:Bu({fontFamily:"Arial"},f)}})})),this.set("itemsData",n)},e.prototype.getContainer=function(){return this.get("container")},e.prototype.formatArray=function(t){var n=this.get(t);if((0,w.isNumber)(n))this.set(t,[n,n,n,n]);else if((0,w.isArray)(n))switch(n.length){case 0:this.set(t,[0,0,0,0]);break;case 1:this.set(t,[n[0],n[0],n[0],n[0]]);break;case 2:this.set(t,[n[0],n[1],n[0],n[1]]);break;case 3:this.set(t,[n[0],n[1],n[2],n[1]]);break;default:break}return this.get(t)},e.prototype.getShapeSize=function(t){var n,o,u;return t.size&&((0,w.isArray)(t.size)?(n=t.size[0],o=t.size[1]||t.size[0],u=t.size[0]/2):(0,w.isNumber)(t.size)&&(n=t.size,o=t.size,u=t.size/2)),t.style&&(t.style.width&&(n=t.style.width),t.style.height&&(o=t.style.height),t.style.r&&(u=t.style.r)),u||(u=5),n||(n=u),o||(o=u),{width:n,height:o,r:u}},e.prototype.getStyle=function(t,n){var o=t==="node"?{fill:"#ccc",lineWidth:0}:{stroke:"#000",lineWidth:1};return Bu(Bu({},o),n.style||{})},e.prototype.destroy=function(){var t=this.get("graph"),n=t.get("container"),o=this.get("container");n.removeChild(o)},e}(wv),qrt=Jrt,tnt={PluginBase:wv,Menu:xet,Grid:pet,Minimap:Tet,Bundling:Det,ToolBar:Bet,Tooltip:Uet,Fisheye:Ret,TimeBar:Frt,ImageMinimap:zrt,EdgeFilterLens:Vrt,SnapLine:Krt,Legend:qrt},ent=tnt,tf=ent;bg("circle",{options:{size:_i.defaultNode.size,style:{x:0,y:0,stroke:_i.defaultNode.style.stroke,fill:_i.defaultNode.style.fill,lineWidth:_i.defaultNode.style.lineWidth},labelCfg:{style:{fill:_i.nodeLabel.style.fill,fontSize:_i.nodeLabel.style.fontSize,fontFamily:_i.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:_i.defaultNode.linkPoints.size,lineWidth:_i.defaultNode.linkPoints.lineWidth,fill:_i.defaultNode.linkPoints.fill,stroke:_i.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:(0,Z.__assign)({},_i.nodeStateStyles)},shapeType:"circle",labelPosition:"center",drawShape:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).icon,o=n===void 0?{}:n,u=this.getShapeStyle(e),l=(0,w.deepMix)({},o,e.icon),c="".concat(this.type,"-keyShape"),f=t.addShape("circle",{attrs:u,className:c,name:c,draggable:!0});t.shapeMap[c]=f;var h=l.width,v=l.height,p=l.show,g=l.text;if(p){var E="".concat(this.type,"-icon");g?t.shapeMap[E]=t.addShape("text",{attrs:(0,Z.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},l),className:E,name:E,draggable:!0}):t.shapeMap[E]=t.addShape("image",{attrs:(0,Z.__assign)({x:-h/2,y:-v/2},l),className:E,name:E,draggable:!0})}return this.drawLinkPoints(e,t),f},drawLinkPoints:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).linkPoints;if(!!n){var o=n||{},u=o.top,l=o.left,c=o.right,f=o.bottom,h=o.size,v=o.r,p=(0,Z.__rest)(o,["top","left","right","bottom","size","r"]),g=this.getSize(e),E=g[0]/2;if(l){var D="link-point-left";t.shapeMap[D]=t.addShape("circle",{attrs:(0,Z.__assign)((0,Z.__assign)({},p),{x:-E,y:0,r:h/2||v||5}),className:D,name:D,isAnchorPoint:!0})}if(c){var G="link-point-right";t.shapeMap[G]=t.addShape("circle",{attrs:(0,Z.__assign)((0,Z.__assign)({},p),{x:E,y:0,r:h/2||v||5}),className:G,name:G,isAnchorPoint:!0})}if(u){var H="link-point-top";t.shapeMap[H]=t.addShape("circle",{attrs:(0,Z.__assign)((0,Z.__assign)({},p),{x:0,y:-E,r:h/2||v||5}),className:H,name:H,isAnchorPoint:!0})}if(f){var X="link-point-bottom";t.shapeMap[X]=t.addShape("circle",{attrs:(0,Z.__assign)((0,Z.__assign)({},p),{x:0,y:E,r:h/2||v||5}),className:X,name:X,isAnchorPoint:!0})}}},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,n={stroke:e.color},o=(0,w.deepMix)({},t,n),u=this.getSize(e),l=u[0]/2,c=(0,Z.__assign)({x:0,y:0,r:l},o);return c},update:function(e,t,n){var o=t.getContainer(),u=this.getSize(e),l=(0,Z.__assign)({},e.style);e.style.stroke===void 0&&e.color&&(l.stroke=e.color),e.style.r===void 0&&!isNaN(u[0])&&(l.r=u[0]/2),this.updateShape(e,t,l,!0,n),this.updateLinkPoints(e,o)}},"single-node"),bg("rect",{options:{size:[100,30],style:{radius:0,stroke:_i.defaultNode.style.stroke,fill:_i.defaultNode.style.fill,lineWidth:_i.defaultNode.style.lineWidth},labelCfg:{style:{fill:_i.nodeLabel.style.fill,fontSize:_i.nodeLabel.style.fontSize,fontFamily:_i.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:_i.defaultNode.linkPoints.size,lineWidth:_i.defaultNode.linkPoints.lineWidth,fill:_i.defaultNode.linkPoints.fill,stroke:_i.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},anchorPoints:[[0,.5],[1,.5]],stateStyles:(0,Z.__assign)({},_i.nodeStateStyles)},shapeType:"rect",labelPosition:"center",drawShape:function(e,t){var n=this.getShapeStyle(e),o=t.addShape("rect",{attrs:n,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});return t.shapeMap["".concat(this.type,"-keyShape")]=o,this.drawLinkPoints(e,t),o},drawLinkPoints:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).linkPoints,o=n===void 0?{}:n,u=o.top,l=o.left,c=o.right,f=o.bottom,h=o.size,v=o.r,p=(0,Z.__rest)(o,["top","left","right","bottom","size","r"]),g=this.getSize(e),E=g[0],D=g[1];l&&(t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:(0,Z.__assign)((0,Z.__assign)({},p),{x:-E/2,y:0,r:h/2||v||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),c&&(t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:(0,Z.__assign)((0,Z.__assign)({},p),{x:E/2,y:0,r:h/2||v||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),u&&(t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:(0,Z.__assign)((0,Z.__assign)({},p),{x:0,y:-D/2,r:h/2||v||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),f&&(t.shapeMap["link-point-bottom"]=t.addShape("circle",{attrs:(0,Z.__assign)((0,Z.__assign)({},p),{x:0,y:D/2,r:h/2||v||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,n={stroke:e.color},o=(0,w.mix)({},t,n),u=this.getSize(e),l=o.width||u[0],c=o.height||u[1],f=(0,Z.__assign)({x:-l/2,y:-c/2,width:l,height:c},o);return f},update:function(e,t,n){var o=t.getContainer(),u=this.getOptions({}).style,l=this.getSize(e),c=t.get("keyShape");e.size||(l[0]=c.attr("width")||u.width,l[1]=c.attr("height")||u.height);var f={stroke:e.color,x:-l[0]/2,y:-l[1]/2,width:l[0],height:l[1]},h=(0,w.mix)({},u,c.attr(),f);h=(0,w.mix)(h,e.style),this.updateShape(e,t,h,!1,n),this.updateLinkPoints(e,o)}},"single-node"),bg("ellipse",{options:{size:[80,40],style:{x:0,y:0,stroke:_i.defaultNode.style.stroke,fill:_i.defaultNode.style.fill,lineWidth:_i.defaultNode.style.lineWidth},labelCfg:{style:{fill:_i.nodeLabel.style.fill,fontSize:_i.nodeLabel.style.fontSize,fontFamily:_i.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:_i.defaultNode.linkPoints.size,lineWidth:_i.defaultNode.linkPoints.lineWidth,fill:_i.defaultNode.linkPoints.fill,stroke:_i.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:(0,Z.__assign)({},_i.nodeStateStyles)},shapeType:"ellipse",labelPosition:"center",drawShape:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).icon,o=n===void 0?{}:n,u=this.getShapeStyle(e),l=t.addShape("ellipse",{attrs:u,className:"ellipse-keyShape",name:"ellipse-keyShape",draggable:!0});t.shapeMap["ellipse-keyShape"]=l;var c=o.width,f=o.height,h=o.show,v=o.text;return h&&(v?t.shapeMap["".concat(this.type,"-icon")]=t.addShape("text",{attrs:(0,Z.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},o),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}):t.shapeMap["".concat(this.type,"-icon")]=t.addShape("image",{attrs:(0,Z.__assign)({x:-c/2,y:-f/2},o),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0})),this.drawLinkPoints(e,t),l},drawLinkPoints:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).linkPoints,o=n===void 0?{}:n,u=o.top,l=o.left,c=o.right,f=o.bottom,h=o.size,v=o.r,p=(0,Z.__rest)(o,["top","left","right","bottom","size","r"]),g=this.getSize(e),E=g[0]/2,D=g[1]/2;l&&(t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:(0,Z.__assign)((0,Z.__assign)({},p),{x:-E,y:0,r:h/2||v||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),c&&(t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:(0,Z.__assign)((0,Z.__assign)({},p),{x:E,y:0,r:h/2||v||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),u&&(t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:(0,Z.__assign)((0,Z.__assign)({},p),{x:0,y:-D,r:h/2||v||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),f&&(t.shapeMap["link-point-bottom"]=t.addShape("circle",{attrs:(0,Z.__assign)((0,Z.__assign)({},p),{x:0,y:D,r:h/2||v||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,n={stroke:e.color},o=(0,w.mix)({},t,n),u=this.getSize(e),l=u[0]/2,c=u[1]/2,f=(0,Z.__assign)({x:0,y:0,rx:l,ry:c},o);return f},update:function(e,t,n){var o=t.getContainer(),u=this.getOptions({}).style,l=this.getSize(e),c={stroke:e.color,rx:l[0]/2,ry:l[1]/2},f=t.get("keyShape"),h=(0,w.mix)({},u,f.attr(),c);h=(0,w.mix)(h,e.style),this.updateShape(e,t,h,!0,n),this.updateLinkPoints(e,o)}},"single-node"),bg("diamond",{options:{size:[80,80],style:{stroke:_i.defaultNode.style.stroke,fill:_i.defaultNode.style.fill,lineWidth:_i.defaultNode.style.lineWidth},labelCfg:{style:{fill:_i.nodeLabel.style.fill,fontSize:_i.nodeLabel.style.fontSize,fontFamily:_i.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:_i.defaultNode.linkPoints.size,lineWidth:_i.defaultNode.linkPoints.lineWidth,fill:_i.defaultNode.linkPoints.fill,stroke:_i.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:(0,Z.__assign)({},_i.nodeStateStyles)},shapeType:"diamond",labelPosition:"center",drawShape:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).icon,o=n===void 0?{}:n,u=this.getShapeStyle(e),l=t.addShape("path",{attrs:u,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});t.shapeMap["".concat(this.type,"-keyShape")]=l;var c=o.width,f=o.height,h=o.show,v=o.text;return h&&(v?t.shapeMap["".concat(this.type,"-icon")]=t.addShape("text",{attrs:(0,Z.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},o),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}):t.shapeMap["".concat(this.type,"-icon")]=t.addShape("image",{attrs:(0,Z.__assign)({x:-c/2,y:-f/2},o),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0})),this.drawLinkPoints(e,t),l},drawLinkPoints:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).linkPoints,o=n===void 0?{}:n,u=o.top,l=o.left,c=o.right,f=o.bottom,h=o.size,v=o.r,p=(0,Z.__rest)(o,["top","left","right","bottom","size","r"]),g=this.getSize(e),E=g[0],D=g[1];l&&(t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:(0,Z.__assign)((0,Z.__assign)({},p),{x:-E/2,y:0,r:h/2||v||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),c&&(t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:(0,Z.__assign)((0,Z.__assign)({},p),{x:E/2,y:0,r:h/2||v||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),u&&(t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:(0,Z.__assign)((0,Z.__assign)({},p),{x:0,y:-D/2,r:h/2||v||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),f&&(t.shapeMap["link-point-bottom"]=t.addShape("circle",{attrs:(0,Z.__assign)((0,Z.__assign)({},p),{x:0,y:D/2,r:h/2||v||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))},getPath:function(e){var t=this.getSize(e),n=t[0],o=t[1],u=[["M",0,-o/2],["L",n/2,0],["L",0,o/2],["L",-n/2,0],["Z"]];return u},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,n={stroke:e.color},o=(0,w.mix)({},t,n),u=this.getPath(e),l=(0,Z.__assign)({path:u},o);return l},update:function(e,t,n){var o=t.getContainer(),u=this.getOptions({}).style,l=this.getPath(e),c={stroke:e.color,path:l},f=t.get("keyShape"),h=(0,w.mix)({},u,f.attr(),c);h=(0,w.mix)(h,e.style),this.updateShape(e,t,h,!0,n),this.updateLinkPoints(e,o)}},"single-node"),bg("triangle",{options:{size:40,direction:"up",style:{stroke:_i.defaultNode.style.stroke,fill:_i.defaultNode.style.fill,lineWidth:_i.defaultNode.style.lineWidth},labelCfg:{style:{fill:_i.nodeLabel.style.fill,fontSize:_i.nodeLabel.style.fontSize},offset:15},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:_i.defaultNode.linkPoints.size,lineWidth:_i.defaultNode.linkPoints.lineWidth,fill:_i.defaultNode.linkPoints.fill,stroke:_i.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20,offset:6},stateStyles:(0,Z.__assign)({},_i.nodeStateStyles)},shapeType:"triangle",labelPosition:"bottom",drawShape:function(e,t){var n=this.mergeStyle||this.getOptions(e),o=n.icon,u=o===void 0?{}:o,l=n.direction,c=this.getShapeStyle(e),f=e.direction||l,h=t.addShape("path",{attrs:c,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});t.shapeMap["".concat(this.type,"-keyShape")]=h;var v=u.width,p=u.height,g=u.show,E=u.offset,D=u.text;if(g)if(D)t.shapeMap["".concat(this.type,"-icon")]=t.addShape("text",{attrs:(0,Z.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},u),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0});else{var G=-v/2,H=-p/2;(f==="up"||f==="down")&&(H+=E),(f==="left"||f==="right")&&(G+=E),t.shapeMap["".concat(this.type,"-icon")]=t.addShape("image",{attrs:(0,Z.__assign)({x:G,y:H},u),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0})}return this.drawLinkPoints(e,t),h},drawLinkPoints:function(e,t){var n=this.mergeStyle||this.getOptions(e),o=n.linkPoints,u=o===void 0?{}:o,l=n.direction,c=e.direction||l,f=u.top,h=u.left,v=u.right,p=u.bottom,g=u.size,E=u.r,D=(0,Z.__rest)(u,["top","left","right","bottom","size","r"]),G=this.getSize(e),H=G[0];if(h){var X=null,rt=H*Math.sin(1/3*Math.PI),ht=H*Math.sin(1/3*Math.PI);c==="up"?X=[-ht,rt]:c==="down"?X=[-ht,-rt]:c==="left"&&(X=[-ht,ht-rt]),X&&(t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:(0,Z.__assign)((0,Z.__assign)({},D),{x:X[0],y:X[1],r:g/2||E||5}),className:"link-point-left",name:"link-point-left"}))}if(v){var mt=null,rt=H*Math.sin(1/3*Math.PI),ht=H*Math.sin(1/3*Math.PI);c==="up"?mt=[ht,rt]:c==="down"?mt=[ht,-rt]:c==="right"&&(mt=[ht,ht-rt]),mt&&(t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:(0,Z.__assign)((0,Z.__assign)({},D),{x:mt[0],y:mt[1],r:g/2||E||5}),className:"link-point-right",name:"link-point-right"}))}if(f){var Dt=null,rt=H*Math.sin(1/3*Math.PI),ht=H*Math.sin(1/3*Math.PI);c==="up"?Dt=[ht-rt,-rt]:c==="left"?Dt=[ht,-rt]:c==="right"&&(Dt=[-ht,-rt]),Dt&&(t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:(0,Z.__assign)((0,Z.__assign)({},D),{x:Dt[0],y:Dt[1],r:g/2||E||5}),className:"link-point-top",name:"link-point-top"}))}if(p){var kt=null,rt=H*Math.sin(1/3*Math.PI),ht=H*Math.sin(1/3*Math.PI);c==="down"?kt=[-ht+rt,rt]:c==="left"?kt=[ht,rt]:c==="right"&&(kt=[-ht,rt]),kt&&(t.shapeMap["link-point-bottom"]=t.addShape("circle",{attrs:(0,Z.__assign)((0,Z.__assign)({},D),{x:kt[0],y:kt[1],r:g/2||E||5}),className:"link-point-bottom",name:"link-point-bottom"}))}},getPath:function(e){var t=(this.mergeStyle||this.getOptions(e)).direction,n=e.direction||t,o=this.getSize(e),u=o[0],l=u*Math.sin(1/3*Math.PI),c=u*Math.sin(1/3*Math.PI),f=[["M",-c,l],["L",0,-l],["L",c,l],["Z"]];return n==="down"?f=[["M",-c,-l],["L",c,-l],["L",0,l],["Z"]]:n==="left"?f=[["M",-c,c-l],["L",c,-c],["L",c,c],["Z"]]:n==="right"&&(f=[["M",c,c-l],["L",-c,c],["L",-c,-c],["Z"]]),f},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,n={stroke:e.color},o=(0,w.mix)({},t,n),u=this.getPath(e),l=(0,Z.__assign)({path:u},o);return l},update:function(e,t,n){var o=t.getContainer(),u=this.getOptions({}).style,l=this.getPath(e),c={stroke:e.color,path:l},f=t.get("keyShape"),h=(0,w.mix)({},u,f.attr(),c);h=(0,w.mix)(h,e.style),this.updateShape(e,t,h,!0,n),this.updateLinkPoints(e,o)},updateLinkPoints:function(e,t){var n=this.getOptions({}),o=n.linkPoints,u=n.direction,l=e.direction||u,c=t.shapeMap["link-point-left"]||t.find(function(nr){return nr.get("className")==="link-point-left"}),f=t.shapeMap["link-point-right"]||t.find(function(nr){return nr.get("className")==="link-point-right"}),h=t.shapeMap["link-point-top"]||t.find(function(nr){return nr.get("className")==="link-point-top"}),v=t.shapeMap["link-point-bottom"]||t.find(function(nr){return nr.get("className")==="link-point-bottom"}),p=o,g=c||f||h||v;g&&(p=g.attr());var E=(0,w.mix)({},p,e.linkPoints),D=E.fill,G=E.stroke,H=E.lineWidth,X=E.size/2;X||(X=E.r);var rt=e.linkPoints?e.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},ht=rt.left,mt=rt.right,Dt=rt.top,kt=rt.bottom,Vt=this.getSize(e),te=Vt[0],le={r:X,fill:D,stroke:G,lineWidth:H},pe=null,De=te*Math.sin(1/3*Math.PI),Xe=te*Math.sin(1/3*Math.PI);l==="up"?pe=[-Xe,De]:l==="down"?pe=[-Xe,-De]:l==="left"&&(pe=[-Xe,Xe-De]),pe&&(c?!ht&&ht!==void 0?(c.remove(),delete t.shapeMap["link-point-left"]):c.attr((0,Z.__assign)((0,Z.__assign)({},le),{x:pe[0],y:pe[1]})):ht&&(t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:(0,Z.__assign)((0,Z.__assign)({},le),{x:pe[0],y:pe[1]}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})));var pr=null;l==="up"?pr=[Xe,De]:l==="down"?pr=[Xe,-De]:l==="right"&&(pr=[Xe,Xe-De]),pr&&(f?!mt&&mt!==void 0?(f.remove(),delete t.shapeMap["link-point-right"]):f.attr((0,Z.__assign)((0,Z.__assign)({},le),{x:pr[0],y:pr[1]})):mt&&(t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:(0,Z.__assign)((0,Z.__assign)({},le),{x:pr[0],y:pr[1]}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})));var yr=null;l==="up"?yr=[Xe-De,-De]:l==="left"?yr=[Xe,-De]:l==="right"&&(yr=[-Xe,-De]),yr&&(h?!Dt&&Dt!==void 0?(h.remove(),delete t.shapeMap["link-point-top"]):h.attr((0,Z.__assign)((0,Z.__assign)({},le),{x:yr[0],y:yr[1]})):Dt&&(t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:(0,Z.__assign)((0,Z.__assign)({},le),{x:yr[0],y:yr[1]}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})));var Vr=null;l==="down"?Vr=[-Xe+De,De]:l==="left"?Vr=[Xe,De]:l==="right"&&(Vr=[-Xe,De]),Vr&&(v?!kt&&kt!==void 0?(v.remove(),delete t.shapeMap["link-point-bottom"]):v.attr((0,Z.__assign)((0,Z.__assign)({},le),{x:Vr[0],y:Vr[1]})):kt&&(t.shapeMap["link-point-bottom"]=t.addShape("circle",{attrs:(0,Z.__assign)((0,Z.__assign)({},le),{x:Vr[0],y:Vr[1]}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})))}},"single-node"),bg("modelRect",{options:{size:[185,70],style:{radius:5,stroke:"#69c0ff",fill:"#ffffff",lineWidth:_i.defaultNode.style.lineWidth,fillOpacity:1},labelCfg:{style:{fill:"#595959",fontSize:14,fontFamily:_i.windowFontFamily},offset:30},descriptionCfg:{style:{fontSize:12,fill:"#bfbfbf",fontFamily:_i.windowFontFamily},paddingTop:0},preRect:{show:!0,width:4,fill:"#40a9ff",radius:2},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:10,lineWidth:1,fill:"#72CC4A",stroke:"#72CC4A"},logoIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/4f81893c-1806-4de4-aff3-9a6b266bc8a2.svg",width:16,height:16,offset:0},stateIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/300a2523-67e0-4cbf-9d4a-67c077b40395.svg",width:16,height:16,offset:-5},anchorPoints:[[0,.5],[1,.5]]},shapeType:"modelRect",drawShape:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).preRect,o=n===void 0?{}:n,u=this.getShapeStyle(e),l=this.getSize(e),c=l[0],f=l[1],h=t.addShape("rect",{attrs:u,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});t.shapeMap["".concat(this.type,"-keyShape")]=h;var v=o.show,p=(0,Z.__rest)(o,["show"]);return v&&(t.shapeMap["pre-rect"]=t.addShape("rect",{attrs:(0,Z.__assign)({x:-c/2,y:-f/2,height:f},p),className:"pre-rect",name:"pre-rect",draggable:!0})),this.drawLogoIcon(e,t),this.drawStateIcon(e,t),this.drawLinkPoints(e,t),h},drawLogoIcon:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).logoIcon,o=n===void 0?{}:n,u=this.getSize(e),l=u[0];if(o.show){var c=o.width,f=o.height,h=o.x,v=o.y,p=o.offset,g=o.text,E=(0,Z.__rest)(o,["width","height","x","y","offset","text"]);g?t.shapeMap["rect-logo-icon"]=t.addShape("text",{attrs:(0,Z.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},E),className:"rect-logo-icon",name:"rect-logo-icon",draggable:!0}):t.shapeMap["rect-logo-icon"]=t.addShape("image",{attrs:(0,Z.__assign)((0,Z.__assign)({},E),{x:h||-l/2+c+p,y:v||-f/2,width:c,height:f}),className:"rect-logo-icon",name:"rect-logo-icon",draggable:!0})}},drawStateIcon:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).stateIcon,o=n===void 0?{}:n,u=this.getSize(e),l=u[0];if(o.show){var c=o.width,f=o.height,h=o.x,v=o.y,p=o.offset,g=o.text,E=(0,Z.__rest)(o,["width","height","x","y","offset","text"]);g?t.shapeMap["rect-state-icon"]=t.addShape("text",{attrs:(0,Z.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},E),className:"rect-state-icon",name:"rect-state-icon",draggable:!0}):t.shapeMap["rect-state-icon"]=t.addShape("image",{attrs:(0,Z.__assign)((0,Z.__assign)({},E),{x:h||l/2-c+p,y:v||-f/2,width:c,height:f}),className:"rect-state-icon",name:"rect-state-icon",draggable:!0})}},drawLinkPoints:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).linkPoints,o=n===void 0?{}:n,u=o.top,l=o.left,c=o.right,f=o.bottom,h=o.size,v=o.r,p=(0,Z.__rest)(o,["top","left","right","bottom","size","r"]),g=this.getSize(e),E=g[0],D=g[1];l&&(t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:(0,Z.__assign)((0,Z.__assign)({},p),{x:-E/2,y:0,r:h/2||v||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),c&&(t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:(0,Z.__assign)((0,Z.__assign)({},p),{x:E/2,y:0,r:h/2||v||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),u&&(t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:(0,Z.__assign)((0,Z.__assign)({},p),{x:0,y:-D/2,r:h/2||v||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),f&&(t.shapeMap["link-point-bottom"]=t.addShape("circle",{attrs:(0,Z.__assign)((0,Z.__assign)({},p),{x:0,y:D/2,r:h/2||v||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))},drawLabel:function(e,t){var n=this.getOptions(e),o=n.labelCfg,u=o===void 0?{}:o,l=n.logoIcon,c=l===void 0?{}:l,f=n.descriptionCfg,h=f===void 0?{}:f,v=this.getSize(e),p=v[0],g=null,E=c.show,D=c.width,G=-p/2+u.offset;E&&(G=-p/2+D+u.offset);var H=u.style,X=h.style,rt=h.paddingTop;return(0,w.isString)(e.description)?(g=t.addShape("text",{attrs:(0,Z.__assign)((0,Z.__assign)({},H),{x:G,y:-5,text:e.label}),className:"text-shape",name:"text-shape",draggable:!0,labelRelated:!0}),t.shapeMap["text-shape"]=g,t.shapeMap["rect-description"]=t.addShape("text",{attrs:(0,Z.__assign)((0,Z.__assign)({},X),{x:G,y:17+(rt||0),text:e.description}),className:"rect-description",name:"rect-description",draggable:!0,labelRelated:!0})):(g=t.addShape("text",{attrs:(0,Z.__assign)((0,Z.__assign)({},H),{x:G,y:7,text:e.label}),className:"text-shape",name:"text-shape",draggable:!0,labelRelated:!0}),t.shapeMap["text-shape"]=g),g},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,n={stroke:e.color},o=(0,w.mix)({},t,n),u=this.getSize(e),l=o.width||u[0],c=o.height||u[1],f=(0,Z.__assign)({x:-l/2,y:-c/2,width:l,height:c},o);return f},update:function(e,t){var n=this.mergeStyle||this.getOptions(e),o=n.style,u=o===void 0?{}:o,l=n.labelCfg,c=l===void 0?{}:l,f=n.descriptionCfg,h=f===void 0?{}:f,v=this.getSize(e),p=v[0],g=v[1],E=t.get("keyShape");E.attr((0,Z.__assign)((0,Z.__assign)({},u),{x:-p/2,y:-g/2,width:p,height:g}));var D=t.getContainer(),G=D.shapeMap["rect-logo-icon"]||D.find(function(Er){return Er.get("className")==="rect-logo-icon"}),H=G?G.attr():{},X=(0,w.mix)({},H,e.logoIcon),rt=X.width;rt===void 0&&(rt=this.options.logoIcon.width);var ht=e.logoIcon?e.logoIcon.show:void 0,mt=c.offset,Dt=-p/2+rt+mt;!ht&&ht!==void 0&&(Dt=-p/2+mt);var kt=D.shapeMap["node-label"]||D.find(function(Er){return Er.get("className")==="node-label"}),Vt=D.shapeMap["rect-description"]||D.find(function(Er){return Er.get("className")==="rect-description"});if(e.label)if(!kt)D.shapeMap["node-label"]=D.addShape("text",{attrs:(0,Z.__assign)((0,Z.__assign)({},c.style),{x:Dt,y:e.description?-5:7,text:e.label}),className:"node-label",name:"node-label",draggable:!0,labelRelated:!0});else{var te=e.labelCfg?e.labelCfg.style:{},le=(0,w.mix)({},kt.attr(),te);e.label&&(le.text=e.label),le.x=Dt,(0,w.isString)(e.description)&&(le.y=-5),Vt&&(Vt.resetMatrix(),Vt.attr({x:Dt})),kt.resetMatrix(),kt.attr(le)}if((0,w.isString)(e.description)){var pe=h.paddingTop;if(!Vt)D.shapeMap["rect-description"]=D.addShape("text",{attrs:(0,Z.__assign)((0,Z.__assign)({},h.style),{x:Dt,y:17+(pe||0),text:e.description}),className:"rect-description",name:"rect-description",draggable:!0,labelRelated:!0});else{var te=e.descriptionCfg?e.descriptionCfg.style:{},De=(0,w.mix)({},Vt.attr(),te);(0,w.isString)(e.description)&&(De.text=e.description),De.x=Dt,Vt.resetMatrix(),Vt.attr((0,Z.__assign)((0,Z.__assign)({},De),{y:17+(pe||0)}))}}var Xe=D.shapeMap["pre-rect"]||D.find(function(Er){return Er.get("className")==="pre-rect"});if(Xe&&!Xe.destroyed){var pr=(0,w.mix)({},Xe.attr(),e.preRect);Xe.attr((0,Z.__assign)((0,Z.__assign)({},pr),{x:-p/2,y:-g/2,height:g}))}if(G&&!G.destroyed)if(!ht&&ht!==void 0)G.remove(),delete D.shapeMap["pre-rect"];else{var yr=X.width,Vr=X.height,nr=X.x,Gr=X.y,en=X.offset,cr=(0,Z.__rest)(X,["width","height","x","y","offset"]);G.attr((0,Z.__assign)((0,Z.__assign)({},cr),{x:nr||-p/2+yr+en,y:Gr||-Vr/2,width:yr,height:Vr}))}else ht&&this.drawLogoIcon(e,D);var Fr=D.shapeMap["rect-state-icon"]||D.find(function(Er){return Er.get("className")==="rect-state-icon"}),qr=Fr?Fr.attr():{},_r=(0,w.mix)({},qr,e.stateIcon);if(Fr){!_r.show&&_r.show!==void 0&&(Fr.remove(),delete D.shapeMap["rect-state-icon"]);var kr=_r.width,Vr=_r.height,nr=_r.x,Gr=_r.y,Yr=_r.offset,mn=(0,Z.__rest)(_r,["width","height","x","y","offset"]);Fr.attr((0,Z.__assign)((0,Z.__assign)({},mn),{x:nr||p/2-kr+Yr,y:Gr||-Vr/2,width:kr,height:Vr}))}else _r.show&&this.drawStateIcon(e,D);this.updateLinkPoints(e,D)}},"single-node"),bg("star",{options:{size:60,style:{stroke:_i.defaultNode.style.stroke,fill:_i.defaultNode.style.fill,lineWidth:_i.defaultNode.style.lineWidth},labelCfg:{style:{fill:_i.nodeLabel.style.fill,fontSize:_i.nodeLabel.style.fontSize,fontFamily:_i.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:_i.defaultNode.linkPoints.size,lineWidth:_i.defaultNode.linkPoints.lineWidth,fill:_i.defaultNode.linkPoints.fill,stroke:_i.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:(0,Z.__assign)({},_i.nodeStateStyles)},shapeType:"star",labelPosition:"center",drawShape:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).icon,o=n===void 0?{}:n,u=this.getShapeStyle(e),l=t.addShape("path",{attrs:u,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});t.shapeMap["".concat(this.type,"-keyShape")]=l;var c=o.width,f=o.height,h=o.show,v=o.text;return h&&(v?t.shapeMap["".concat(this.type,"-icon")]=t.addShape("text",{attrs:(0,Z.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},o),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}):t.shapeMap["".concat(this.type,"-icon")]=t.addShape("image",{attrs:(0,Z.__assign)({x:-c/2,y:-f/2},o),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0})),this.drawLinkPoints(e,t),l},drawLinkPoints:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).linkPoints,o=n===void 0?{}:n,u=o.top,l=o.left,c=o.right,f=o.leftBottom,h=o.rightBottom,v=o.size,p=o.r,g=(0,Z.__rest)(o,["top","left","right","leftBottom","rightBottom","size","r"]),E=this.getSize(e),D=E[0];if(c){var G=Math.cos(.1*Math.PI)*D,H=Math.sin((18+72*0)/180*Math.PI)*D;t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:(0,Z.__assign)((0,Z.__assign)({},g),{x:G,y:-H,r:v/2||p||5}),className:"link-point-right",name:"link-point-right"})}if(u){var G=Math.cos(.5*Math.PI)*D,H=Math.sin((18+72*1)/180*Math.PI)*D;t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:(0,Z.__assign)((0,Z.__assign)({},g),{x:G,y:-H,r:v/2||p||5}),className:"link-point-top",name:"link-point-top"})}if(l){var G=Math.cos(.9*Math.PI)*D,H=Math.sin((18+72*2)/180*Math.PI)*D;t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:(0,Z.__assign)((0,Z.__assign)({},g),{x:G,y:-H,r:v/2||p||5}),className:"link-point-left",name:"link-point-left"})}if(f){var G=Math.cos(1.3*Math.PI)*D,H=Math.sin((18+72*3)/180*Math.PI)*D;t.shapeMap["link-point-bottom"]=t.addShape("circle",{attrs:(0,Z.__assign)((0,Z.__assign)({},g),{x:G,y:-H,r:v/2||p||5}),className:"link-point-left-bottom",name:"link-point-left-bottom"})}if(h){var G=Math.cos(1.7*Math.PI)*D,H=Math.sin((18+72*4)/180*Math.PI)*D;t.shapeMap["link-point-right-bottom"]=t.addShape("circle",{attrs:(0,Z.__assign)((0,Z.__assign)({},g),{x:G,y:-H,r:v/2||p||5}),className:"link-point-right-bottom",name:"link-point-right-bottom"})}},getPath:function(e){for(var t=this.getSize(e),n=t[0],o=n*3/8,u=e.innerR||o,l=[],c=0;c<5;c++){var f=Math.cos((18+72*c)/180*Math.PI)*n,h=Math.sin((18+72*c)/180*Math.PI)*n,v=Math.cos((54+72*c)/180*Math.PI)*u,p=Math.sin((54+72*c)/180*Math.PI)*u;c===0?l.push(["M",f,-h]):l.push(["L",f,-h]),l.push(["L",v,-p])}return l.push(["Z"]),l},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,n={stroke:e.color},o=(0,w.mix)({},t,n),u=this.getPath(e),l=(0,Z.__assign)({path:u},o);return l},update:function(e,t,n){var o=t.getContainer(),u=this.getOptions({}).style,l=this.getPath(e),c={stroke:e.color,path:l},f=t.get("keyShape"),h=(0,w.mix)({},u,f.attr(),c);h=(0,w.mix)(h,e.style),this.updateShape(e,t,h,!0,n),this.updateLinkPoints(e,o)},updateLinkPoints:function(e,t){var n=this.getOptions({}).linkPoints,o=t.shapeMap["link-point-left"]||t.find(function(De){return De.get("className")==="link-point-left"}),u=t.shapeMap["link-point-right"]||t.find(function(De){return De.get("className")==="link-point-right"}),l=t.shapeMap["link-point-top"]||t.find(function(De){return De.get("className")==="link-point-top"}),c=t.shapeMap["link-point-left-bottom"]||t.find(function(De){return De.get("className")==="link-point-left-bottom"}),f=t.shapeMap["link-point-left-bottom"]||t.find(function(De){return De.get("className")==="link-point-right-bottom"}),h=n,v=o||u||l||c||f;v&&(h=v.attr());var p=(0,w.mix)({},h,e.linkPoints),g=p.fill,E=p.stroke,D=p.lineWidth,G=p.size/2;G||(G=p.r);var H=e.linkPoints?e.linkPoints:{left:void 0,right:void 0,top:void 0,leftBottom:void 0,rightBottom:void 0},X=H.left,rt=H.right,ht=H.top,mt=H.leftBottom,Dt=H.rightBottom,kt=this.getSize(e),Vt=kt[0],te={r:G,fill:g,stroke:E,lineWidth:D},le=Math.cos((18+72*0)/180*Math.PI)*Vt,pe=Math.sin((18+72*0)/180*Math.PI)*Vt;u?!rt&&rt!==void 0?(u.remove(),delete t.shapeMap["link-point-right"]):u.attr((0,Z.__assign)((0,Z.__assign)({},te),{x:le,y:-pe})):rt&&(t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:(0,Z.__assign)((0,Z.__assign)({},te),{x:le,y:-pe}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),le=Math.cos((18+72*1)/180*Math.PI)*Vt,pe=Math.sin((18+72*1)/180*Math.PI)*Vt,l?!ht&&ht!==void 0?(l.remove(),delete t.shapeMap["link-point-top"]):l.attr((0,Z.__assign)((0,Z.__assign)({},te),{x:le,y:-pe})):ht&&(t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:(0,Z.__assign)((0,Z.__assign)({},te),{x:le,y:-pe}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),le=Math.cos((18+72*2)/180*Math.PI)*Vt,pe=Math.sin((18+72*2)/180*Math.PI)*Vt,o?!X&&X!==void 0?(o.remove(),delete t.shapeMap["link-point-left"]):o.attr((0,Z.__assign)((0,Z.__assign)({},te),{x:le,y:-pe})):X&&(t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:(0,Z.__assign)((0,Z.__assign)({},te),{x:le,y:-pe}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),le=Math.cos((18+72*3)/180*Math.PI)*Vt,pe=Math.sin((18+72*3)/180*Math.PI)*Vt,c?!mt&&mt!==void 0?(c.remove(),delete t.shapeMap["link-point-left-bottom"]):c.attr((0,Z.__assign)((0,Z.__assign)({},te),{x:le,y:-pe})):mt&&(t.shapeMap["link-point-left-bottom"]=t.addShape("circle",{attrs:(0,Z.__assign)((0,Z.__assign)({},te),{x:le,y:-pe}),className:"link-point-left-bottom",name:"link-point-left-bottom",isAnchorPoint:!0})),le=Math.cos((18+72*4)/180*Math.PI)*Vt,pe=Math.sin((18+72*4)/180*Math.PI)*Vt,f?!Dt&&Dt!==void 0?(c.remove(),delete t.shapeMap["link-point-right-bottom"]):f.attr((0,Z.__assign)((0,Z.__assign)({},te),{x:le,y:-pe})):Dt&&(t.shapeMap["link-point-right-bottom"]=t.addShape("circle",{attrs:(0,Z.__assign)((0,Z.__assign)({},te),{x:le,y:-pe}),className:"link-point-right-bottom",name:"link-point-right-bottom",isAnchorPoint:!0}))}},"single-node");var Eb=Qv.defaultSubjectColors;bg("donut",{options:{size:_i.defaultNode.size,style:{x:0,y:0,stroke:_i.defaultNode.style.stroke,fill:_i.defaultNode.style.fill,lineWidth:_i.defaultNode.style.lineWidth},labelCfg:{style:{fill:_i.nodeLabel.style.fill,fontSize:_i.nodeLabel.style.fontSize,fontFamily:_i.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:_i.defaultNode.linkPoints.size,lineWidth:_i.defaultNode.linkPoints.lineWidth,fill:_i.defaultNode.linkPoints.fill,stroke:_i.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:(0,Z.__assign)({},_i.nodeStateStyles)},shapeType:"circle",labelPosition:"center",drawShape:function(e,t){var n=(this.mergeStyle||this.getOptions(e)).icon,o=n===void 0?{}:n,u=this.getShapeStyle(e),l=(0,w.deepMix)({},o,e.icon),c=t.addShape("circle",{attrs:u,className:"".concat(this.type,"-keyShape"),draggable:!0,name:"".concat(this.type,"-keyShape")});t.shapeMap["".concat(this.type,"-keyShape")]=c;var f=l.width,h=l.height,v=l.show,p=l.text;v&&(p?t.shapeMap["".concat(this.type,"-icon")]=t.addShape("text",{attrs:(0,Z.__assign)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},l),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}):t.shapeMap["".concat(this.type,"-icon")]=t.addShape("image",{attrs:(0,Z.__assign)({x:-f/2,y:-h/2},l),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}));var g=c.attr("r"),E=.6*g,D=(g+E)/2,G=e,H=G.donutAttrs,X=H===void 0?{}:H,rt=G.donutColorMap,ht=rt===void 0?{}:rt,mt=Object.keys(X).length;if(X&&mt>1){var Dt=[],kt=0;if(Object.keys(X).forEach(function(pe){var De=X[pe]||0;!(0,w.isNumber)(De)||(Dt.push({key:pe,value:De,color:ht[pe]}),kt+=De)}),kt){var Vt=g-E;if(mt===1){t.shapeMap["fan-shape-0"]=t.addShape("circle",{attrs:{r:D,x:0,y:0,stroke:Dt[0].color||Eb[0],lineWidth:Vt},name:"fan-shape-0"});return}var te=[D,0],le=0;Dt.forEach(function(pe,De){var Xe=pe.value/kt;if(!(Xe<.001)){if(Xe>.999&&(Xe=1),Xe===1){t.shapeMap["fan-shape-".concat(De)]=t.addShape("circle",{attrs:{r:D,x:0,y:0,stroke:pe.color||Eb[De%Eb.length],lineWidth:Vt},name:"fan-shape-".concat(De)});return}pe.percent=Xe,pe.angle=Xe*Math.PI*2,pe.beginAgnle=le,le+=pe.angle,pe.endAngle=le,pe.arcBegin=te,pe.arcEnd=[D*Math.cos(pe.endAngle),-D*Math.sin(pe.endAngle)];var pr=pe.angle>Math.PI?1:0,yr=[["M",pe.arcBegin[0],pe.arcBegin[1]],["A",D,D,0,pr,0,pe.arcEnd[0],pe.arcEnd[1]],["L",pe.arcEnd[0],pe.arcEnd[1]]];t.shapeMap["fan-shape-".concat(De)]=t.addShape("path",{attrs:{path:yr,lineWidth:Vt,stroke:pe.color||Eb[De%Eb.length]},name:"fan-shape-".concat(De)}),te=pe.arcEnd}})}}return this.drawLinkPoints(e,t),c},update:void 0},"circle");var QS=function(e){var t=e.x,n=e.y;return{x:t,y:n,centerX:t,centerY:n,minX:t,minY:n,maxX:t,maxY:n,height:0,width:0}},rnt=function(e){e===void 0&&(e=[]);var t=[],n=[];e.forEach(function(f){t.push(f.x),n.push(f.y)});var o=Math.min.apply(Math,t),u=Math.max.apply(Math,t),l=Math.min.apply(Math,n),c=Math.max.apply(Math,n);return{centerX:(o+u)/2,centerY:(l+c)/2,maxX:u,maxY:c,minX:o,minY:l,height:c-l,width:u-o}},$ct=function(e,t){return Math.abs(e.centerX-t.centerX)*2<e.width+t.width&&Math.abs(e.centerY-t.centerY)*2<e.height+t.height},tC=function(e){for(var t=[],n={},o=e.length,u=o-1;u>=0;u--){var l=e[u];l.id="".concat(l.x,"|||").concat(l.y),n[l.id]=l,t.push(l)}return t},FR=function(e){return tC(e)},Kct=function(e,t){return[e,{x:e.x,y:t.y},t]},JS=function(e,t){return e.width||e.height?{centerX:e.centerX,centerY:e.centerY,minX:e.minX-t,minY:e.minY-t,maxX:e.maxX+t,maxY:e.maxY+t,height:e.height+2*t,width:e.width+2*t}:e},nnt=function(e,t){var n=Math.abs(e.x-t.centerX),o=Math.abs(e.y-t.centerY);return n===0&&o===0?0:n/t.width>o/t.height},eC=function(e,t,n){var o=nnt(t,e);if(o===0){var u=e.centerX,l=e.centerY;return n.y<t.y?l=e.minY:n.x>t.x?u=e.maxX:n.x<t.x?u=e.minX:n.x===t.x&&(l=e.maxY),{x:u,y:l}}return o?{x:t.x>e.centerX?e.maxX:e.minX,y:t.y}:{x:t.x,y:t.y>e.centerY?e.maxY:e.minY}},NR=function(e,t){var n=Math.min(e.minX,t.minX),o=Math.min(e.minY,t.minY),u=Math.max(e.maxX,t.maxX),l=Math.max(e.maxY,t.maxY);return{centerX:(n+u)/2,centerY:(o+l)/2,minX:n,minY:o,maxX:u,maxY:l,height:l-o,width:u-n}},rC=function(e){return[{x:e.minX,y:e.minY},{x:e.maxX,y:e.minY},{x:e.maxX,y:e.maxY},{x:e.minX,y:e.maxY}]},qS=function(e,t){var n=e.x,o=e.y;return n<t.minX||n>t.maxX||o<t.minY||o>t.maxY},int=function(e,t){return t<e.minX||t>e.maxX?[]:[{x:t,y:e.minY},{x:t,y:e.maxY}]},ant=function(e,t){return t<e.minY||t>e.maxY?[]:[{x:e.minX,y:t},{x:e.maxX,y:t}]},ont=function(e,t){return int(e,t.x).concat(ant(e,t.y))},Sb=function(e,t){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},snt=function(e,t){var n=-2,o=0;return t.forEach(function(u){u&&(e.x===u.x&&(o+=n),e.y===u.y&&(o+=n))}),o},kR=function(e,t,n,o,u){return Sb(e,t)+Sb(e,n)+snt(e,[t,n,o,u])},unt=function a(e,t,n,o,u){u===void 0&&(u=0),e.unshift(t[o]),n[o]&&n[o]!==o&&u<=100&&a(e,t,n,n[o],u+1)},lnt=function(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)},t2=function(e,t,n,o){var u=n.x-e.x,l=n.y-e.y,c=o.x-e.x,f=o.y-e.y,h=n.x-t.x,v=n.y-t.y,p=o.x-t.x,g=o.y-t.y,E=u*f-l*c,D=h*g-v*p,G=u*v-l*h,H=c*g-f*p;return E*D<=0&&G*H<=0},nC=function(e,t,n){if(n.width||n.height){var o=rC(n),u=o[0],l=o[1],c=o[2],f=o[3];return t2(e,t,u,l)||t2(e,t,u,f)||t2(e,t,l,c)||t2(e,t,c,f)}return!1},cnt=function(e,t,n,o){var u=[];return e.forEach(function(l){if(l!==t&&(l.x===t.x||l.y===t.y)){if(nC(l,t,n)||nC(l,t,o))return;u.push(l)}}),tC(u)},fnt=function(e,t,n,o,u,l,c){var f=[],h=[t],v={},p={},g={};p[t.id]=0,g[t.id]=kR(t,n,t);var E={};e.forEach(function(X){E[X.id]=X});for(var D,G;h.length;){if(D=void 0,G=1/0,h.forEach(function(X){g[X.id]<=G&&(G=g[X.id],D=X)}),D===n){var H=[];return unt(H,E,v,n.id),H}lnt(h,D),f.push(D),cnt(e,D,o,u).forEach(function(X){if(f.indexOf(X)===-1){h.indexOf(X)===-1&&h.push(X);var rt=g[D.id]+Sb(D,X);p[X.id]&&rt>=p[X.id]||(v[X.id]=D.id,p[X.id]=rt,g[X.id]=p[X.id]+kR(X,n,t,l,c))}})}return[t,n]},hnt=function(e,t,n){return!(e.x===t.x&&t.x===n.x||e.y===t.y&&t.y===n.y)},dnt=function(e,t,n,o){var u=Sb(e,t),l=Sb(n,t);u<o&&(o=u),l<o&&(o=l);var c={x:t.x-o/u*(t.x-e.x),y:t.y-o/u*(t.y-e.y)},f={x:t.x-o/l*(t.x-n.x),y:t.y-o/l*(t.y-n.y)};return[c,f]},BR=function(e,t){var n=[],o=e[0];return n.push("M".concat(o.x," ").concat(o.y)),e.forEach(function(u,l){var c=e[l+1],f=e[l+2];if(c&&f)if(hnt(u,c,f)){var h=dnt(u,c,f,t),v=h[0],p=h[1];n.push("L".concat(v.x," ").concat(v.y)),n.push("Q".concat(c.x," ").concat(c.y," ").concat(p.x," ").concat(p.y)),n.push("L".concat(p.x," ").concat(p.y))}else n.push("L".concat(c.x," ").concat(c.y));else c&&n.push("L".concat(c.x," ").concat(c.y))}),n.join("")},GR=function(e,t,n,o,u){var l,c;if(!n||!n.getType())l=QS(e);else if(n.getType()==="combo"){var f=n.getKeyShape();l=f.getCanvasBBox()||QS(e),l.centerX=(l.minX+l.maxX)/2,l.centerY=(l.minY+l.maxY)/2}else l=n.getBBox();if(!o||!o.getType())c=QS(t);else if(o.getType()==="combo"){var h=o.getKeyShape().getBBox();if(h){var v=o.getModel(),p=v.x,g=v.y;c={x:p,y:g,width:h.width,height:h.height,minX:h.minX+p,maxX:h.maxX+p,minY:h.minY+g,maxY:h.maxY+g},c.centerX=(c.minX+c.maxX)/2,c.centerY=(c.minY+c.maxY)/2}else c=QS(t)}else c=o&&o.getBBox();var E=JS(l,u),D=JS(c,u),G=eC(E,e,t),H=eC(D,t,e),X=rnt([G,H]),rt=NR(E,X),ht=NR(D,X),mt=[];mt=mt.concat(rC(rt)).concat(rC(ht));var Dt={x:(e.x+t.x)/2,y:(e.y+t.y)/2};[X,rt,ht].forEach(function(Vt){mt=mt.concat(ont(Vt,Dt).filter(function(te){return qS(te,E)&&qS(te,D)}))}),[{x:G.x,y:H.y},{x:H.x,y:G.y}].forEach(function(Vt){qS(Vt,E)&&qS(Vt,D)&&mt.push(Vt)}),mt.unshift(G),mt.push(H),mt=tC(mt);var kt=fnt(mt,G,H,l,c,e,t);return kt.unshift(e),kt.push(t),FR(kt)},vnt=function(e,t){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},pnt=function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},gnt=function(e,t){return[e,t]},ynt=function(e,t,n,o,u){return FR(GR(e,t,n,o,u.offset))},mnt={offset:20,maxAllowedDirectionChange:Math.PI/2,maximumLoops:2e3,gridSize:10,directions:[{stepX:1,stepY:0},{stepX:-1,stepY:0},{stepX:0,stepY:1},{stepX:0,stepY:-1}],get penalties(){return{0:0,45:this.gridSize/2,90:this.gridSize/2}},distFunc:vnt,fallbackRoute:ynt},Zct={maxAllowedDirectionChange:Math.PI/4,directions:[{stepX:1,stepY:0},{stepX:1,stepY:1},{stepX:0,stepY:1},{stepX:-1,stepY:1},{stepX:-1,stepY:0},{stepX:-1,stepY:-1},{stepX:0,stepY:-1},{stepX:1,stepY:-1}],distFunc:pnt,fallbackRoute:gnt},wg=function(e,t){var n=Math.round(Math.abs(e/t)),o=e<0?-1:1;return n<0?0:o*n},xnt=function(e,t,n){var o={};return e.forEach(function(u){if(!!u)for(var l=JS(u.getBBox(),n),c=wg(l.minX,t);c<=wg(l.maxX,t);c+=1)for(var f=wg(l.minY,t);f<=wg(l.maxY,t);f+=1)o["".concat(c,"|||").concat(f)]=!0}),o},iC=function(e,t){var n=t.x-e.x,o=t.y-e.y;return n||o?Math.atan2(o,n):0},zR=function(e,t){var n=Math.abs(e-t);return n>Math.PI?2*Math.PI-n:n},UR=function(e,t,n){for(var o=1/0,u=0,l=t.length;u<l;u++){var c=n(e,t[u]);c<o&&(o=c)}return o},jR=function(e,t,n,o,u){var l=[];if(!n)return[e];var c=u.directions,f=u.offset,h=n.getBBox(),v=t.x>h.minX&&t.x<h.maxX&&t.y>h.minY&&t.y<h.maxY,p=JS(h,f);for(var g in p)p[g]=wg(p[g],u.gridSize);if(v){for(var E=0,D=c;E<D.length;E++)for(var G=D[E],H=[[{x:p.minX,y:p.minY},{x:p.maxX,y:p.minY}],[{x:p.minX,y:p.minY},{x:p.minX,y:p.maxY}],[{x:p.maxX,y:p.minY},{x:p.maxX,y:p.maxY}],[{x:p.minX,y:p.maxY},{x:p.maxX,y:p.maxY}]],g=0;g<4;g++){var X=H[g],rt=Qv.getLineIntersect(e,{x:e.x+G.stepX*p.width,y:e.y+G.stepY*p.height},X[0],X[1]);rt&&!nC(e,rt,h)&&(rt.id="".concat(rt.x,"|||").concat(rt.y),l.push(rt))}return l}var ht=eC(p,e,o);return ht.id="".concat(ht.x,"|||").concat(ht.y),[ht]},aC=function(e,t,n,o){var u=iC(e,t);if(!n[e.id]){var l=iC(o,e);return zR(l,u)}var c=iC({x:n[e.id].x,y:n[e.id].y},e);return zR(c,u)},bnt=function(e,t,n,o,u,l,c){var f=[o],h=e.id,v=e.x,p=e.y,g={x:v,y:p,id:h};for(aC(g,l,t,n)&&f.unshift({x:l.x===o.x?o.x:g.x*c,y:l.y===o.y?o.y:g.y*c});t[h]&&t[h].id!==h;){var E={x:v,y:p,id:h},D=t[h].id,G=t[h].x,H=t[h].y,X={x:G,y:H,id:D},rt=aC(X,E,t,n);rt&&f.unshift({x:X.x===E.x?f[0].x:X.x*c,y:X.y===E.y?f[0].y:X.y*c}),h=D,v=G,p=H}var ht={x:v,y:p,id:h};return f[0].x=ht.x===n.x?u.x:f[0].x,f[0].y=ht.y===n.y?u.y:f[0].y,f.unshift(u),f},Ent=function(e,t,n,o,u){if(isNaN(e.x)||isNaN(t.x))return[];var l=(0,w.deepMix)(mnt,u);l.obstacles=l.obstacles||[];var c=l.gridSize,f=xnt(l.obstacles.concat([n,o]),c,l.offset),h={x:wg(e.x,c),y:wg(e.y,c)},v={x:wg(t.x,c),y:wg(t.y,c)};e.id="".concat(h.x,"|||").concat(h.y),t.id="".concat(v.x,"|||").concat(v.y);var p=jR(h,e,n,v,l),g=jR(v,t,o,h,l);p.forEach(function(pr){delete f[pr.id]}),g.forEach(function(pr){delete f[pr.id]});for(var E={},D={},G={},H={},X={},rt=0;rt<p.length;rt++){var ht=p[rt];E[ht.id]=ht,H[ht.id]=0,X[ht.id]=UR(ht,g,l.distFunc)}for(var mt=l.maximumLoops,Dt=l.penalties,kt,Vt,te,le,pe,De,Xe;Object.keys(E).length>0&&mt>0&&(kt=void 0,Vt=1/0,Object.keys(E).forEach(function(pr){var yr=E[pr].id;X[yr]<=Vt&&(Vt=X[yr],kt=E[yr])}),!!kt);){if(g.findIndex(function(pr){return pr.x===kt.x&&pr.y===kt.y})>-1)return bnt(kt,G,h,t,e,v,c);delete E[kt.id],D[kt.id]=!0;for(var rt=0;rt<l.directions.length;rt++)te=l.directions[rt],le={x:kt.x+te.stepX,y:kt.y+te.stepY,id:"".concat(Math.round(kt.x)+te.stepX,"|||").concat(Math.round(kt.y)+te.stepY)},!D[le.id]&&(Xe=aC(kt,le,G,h),!(Xe>l.maxAllowedDirectionChange)&&(f[le.id]||(E[le.id]||(E[le.id]=le),pe=l.distFunc(kt,le)+(isNaN(Dt[Xe])?c:Dt[Xe]),De=H[kt.id]+pe,!(H[le.id]&&De>=H[le.id])&&(G[le.id]=kt,H[le.id]=De,X[le.id]=De+UR(le,g,l.distFunc)))));mt-=1}return l.fallbackRoute(e,t,n,o,l)};aR("polyline",{options:{color:_i.defaultEdge.color,size:_i.defaultEdge.size,style:{radius:0,offset:15,x:0,y:0,stroke:_i.defaultEdge.style.stroke,lineAppendWidth:_i.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:_i.edgeLabel.style.fill,fontSize:_i.edgeLabel.style.fontSize,fontFamily:_i.windowFontFamily}},routeCfg:{obstacles:[],maxAllowedDirectionChange:Math.PI,maximumLoops:500,gridSize:10},stateStyles:(0,Z.__assign)({},_i.edgeStateStyles)},shapeType:"polyline",labelPosition:"center",drawShape:function(e,t){var n=this.getShapeStyle(e);n.radius===0&&delete n.radius;var o=t.addShape("path",{className:"edge-shape",name:"edge-shape",attrs:n});return t.shapeMap["edge-shape"]=o,o},getShapeStyle:function(e){var t=this.options.style,n={stroke:e.color},o=(0,w.mix)({},t,n,e.style);e=this.getPathPoints(e),this.radius=o.radius,this.offset=o.offset;var u=e.startPoint,l=e.endPoint,c=this.getControlPoints(e),f=[u];c&&(f=f.concat(c)),f.push(l);var h=e.sourceNode,v=e.targetNode,p=o.radius,g=this.options.routeCfg,E=(0,w.mix)({},g,e.routeCfg);E.offset=o.offset;var D=this.getPath(f,h,v,p,E);((0,w.isArray)(D)&&D.length<=1||(0,w.isString)(D)&&D.indexOf("L")===-1)&&(D="M0 0, L0 0"),(isNaN(u.x)||isNaN(u.y)||isNaN(l.x)||isNaN(l.y))&&(D="M0 0, L0 0");var G=(0,w.mix)({},_i.defaultEdge.style,o,{lineWidth:e.size,path:D});return G},updateShapeStyle:function(e,t){var n=t.getContainer();if(!!t.isVisible()){var o={stroke:e.color},u=n.shapeMap["edge-shape"]||n.find(function(mt){return mt.get("className")==="edge-shape"})||t.getKeyShape(),l=e.size;e=this.getPathPoints(e);var c=e.startPoint,f=e.endPoint,h=this.getControlPoints(e),v=[c];h&&(v=v.concat(h)),v.push(f);var p=u.attr(),g=(0,w.mix)({},o,p,e.style),E=e.sourceNode,D=e.targetNode,G=g.radius,H=this.options.routeCfg,X=(0,w.mix)({},H,e.routeCfg);X.offset=g.offset;var rt=this.getPath(v,E,D,G,X);((0,w.isArray)(rt)&&rt.length<=1||(0,w.isString)(rt)&&rt.indexOf("L")===-1)&&(rt="M0 0, L0 0"),(isNaN(c.x)||isNaN(c.y)||isNaN(f.x)||isNaN(f.y))&&(rt="M0 0, L0 0"),p.endArrow&&g.endArrow===!1&&(e.style.endArrow={path:""}),p.startArrow&&g.startArrow===!1&&(e.style.startArrow={path:""});var ht=(0,w.mix)(o,u.attr(),{lineWidth:l,path:rt},e.style);u&&u.attr(ht)}},getPath:function(e,t,n,o,u){var l=u.offset,c=u.simple;if(!l||e.length>2){if(o)return BR(e,o);var f=[];return(0,w.each)(e,function(g,E){E===0?f.push(["M",g.x,g.y]):f.push(["L",g.x,g.y])}),f}var h=c?GR(e[e.length-1],e[0],n,t,l):Ent(e[0],e[e.length-1],t,n,u);if(!h||!h.length)return"M0 0, L0 0";if(o){var v=BR(h,o);return v}var p=Qv.pointsToPolygon(h);return p}},"single-edge");var WR=Eg.cloneEvent,VR=Eg.isNaN,HR=Math.abs,Snt=10,wnt=["shift","ctrl","alt","control"],_nt={getDefaultCfg:function(){return{direction:"both",enableOptimize:!1,scalableRange:0,allowDragOnItem:!1}},getEvents:function(){return{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"onMouseUp",keyup:"onKeyUp",focus:"onKeyUp",keydown:"onKeyDown",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onMouseUp"}},updateViewport:function(e){var t=this.origin,n=+e.clientX,o=+e.clientY;if(!(VR(n)||VR(o))){var u=n-t.x,l=o-t.y;this.get("direction")==="x"?l=0:this.get("direction")==="y"&&(u=0),this.origin={x:n,y:o};var c=this.graph.get("width"),f=this.graph.get("height"),h=this.graph.get("canvas").getCanvasBBox(),v=this.scalableRange,p=this.scalableRange;v<1&&v>-1&&(v=c*v,p=f*p),(h.minX<=c+v&&h.minX+u>c+v||h.maxX+v>=0&&h.maxX+v+u<0)&&(u=0),(h.minY<=f+p&&h.minY+l>f+p||h.maxY+p>=0&&h.maxY+p+l<0)&&(l=0),this.graph.translate(u,l)}},onTouchStart:function(e){var t=this,n=e.originalEvent.touches,o=n[0],u=n[1];o&&u||(e.preventDefault(),t.onMouseDown(e))},onMouseDown:function(e){var t=this,n=e.originalEvent;if(!(n&&e.name!=="touchstart"&&n.button!==0)&&!(e.name!=="touchstart"&&typeof window!="undefined"&&window.event&&!window.event.buttons&&!window.event.button)&&!!this.shouldBegin.call(this,e)&&!t.keydown){var o=e.target,u=o&&o.isCanvas&&o.isCanvas();if(!(!this.allowDragOnItem&&!u)&&(t.origin={x:e.clientX,y:e.clientY},t.dragging=!1,this.enableOptimize)){for(var l=this.graph,c=l.getEdges(),f=0,h=c.length;f<h;f++){var v=c[f].get("group").get("children");!v||v.forEach(function(mt){mt.set("ori-visibility",mt.get("ori-visibility")||mt.get("visible")),mt.hide()})}for(var p=l.getNodes(),g=0,E=p.length;g<E;g++)for(var D=p[g].getContainer(),G=D.get("children"),H=0,X=G;H<X.length;H++){var rt=X[H],ht=rt.get("isKeyShape");ht||(rt.set("ori-visibility",rt.get("ori-visibility")||rt.get("visible")),rt.hide())}}}},onTouchMove:function(e){var t=this,n=e.originalEvent.touches,o=n[0],u=n[1];if(o&&u){this.onMouseUp(e);return}e.preventDefault(),t.onMouseMove(e)},onMouseMove:function(e){var t=this.graph;if(!this.keydown){var n=e.target,o=n&&n.isCanvas&&n.isCanvas();if(!(!this.allowDragOnItem&&!o)&&(e=WR(e),!!this.origin)){if(this.dragging)e.type="drag",t.emit("canvas:drag",e);else{if(HR(this.origin.x-e.clientX)+HR(this.origin.y-e.clientY)<Snt)return;this.shouldBegin.call(this,e)&&(e.type="dragstart",t.emit("canvas:dragstart",e),this.originPosition={x:e.clientX,y:e.clientY},this.dragging=!0)}this.shouldUpdate.call(this,e)&&this.updateViewport(e)}}},onMouseUp:function(e){var t,n,o=this.graph;if(!this.keydown){var u=o.getZoom(),l=o.get("modeController"),c=(n=(t=l==null?void 0:l.modes[l.mode])===null||t===void 0?void 0:t.filter(function(Vt){return Vt.type==="zoom-canvas"}))===null||n===void 0?void 0:n[0],f=c?c.optimizeZoom||.1:0;if(this.enableOptimize){for(var h=o.getEdges(),v=0,p=h.length;v<p;v++){var g=h[v].get("group").get("children");!g||g.forEach(function(Vt){var te=Vt.get("ori-visibility");te&&Vt.show()})}if(u>f)for(var E=o.getNodes(),D=0,G=E.length;D<G;D++)for(var H=E[D].getContainer(),X=H.get("children"),rt=0,ht=X;rt<ht.length;rt++){var mt=ht[rt],Dt=mt.get("isKeyShape");if(!Dt){var kt=mt.get("ori-visibility");kt&&mt.show()}}}if(!this.dragging){this.origin=null;return}e=WR(e),this.shouldEnd.call(this,e)&&this.updateViewport(e),e.type="dragend",e.dx=e.clientX-this.originPosition.x,e.dy=e.clientY-this.originPosition.y,o.emit("canvas:dragend",e),this.endDrag()}},endDrag:function(){this.origin=null,this.dragging=!1,this.dragbegin=!1},onKeyDown:function(e){var t=this,n=e.key;!n||(wnt.indexOf(n.toLowerCase())>-1?t.keydown=!0:t.keydown=!1)},onKeyUp:function(){this.keydown=!1,this.origin=null,this.dragging=!1,this.dragbegin=!1}},Ant={getDefaultCfg:function(){return{updateEdge:!0,delegateStyle:{},enableDelegate:!1,onlyChangeComboSize:!1,comboActiveState:"",selectedState:"selected",enableOptimize:!1,enableDebounce:!1,enableStack:!0}},getEvents:function(){return{"node:dragstart":"onDragStart","node:drag":"onDrag","node:dragend":"onDragEnd","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave","combo:drop":"onDropCombo","node:drop":"onDropNode","canvas:drop":"onDropCanvas",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onDragEnd"}},validationCombo:function(e){if(!this.origin||!e||e.destroyed)return!1;var t=e.getType();return t==="combo"},onTouchStart:function(e){if(!!e.item){var t=this;try{var n=e.originalEvent.touches,o=n[0],u=n[1];if(o&&u)return;e.preventDefault()}catch(l){console.warn("Touch original event not exist!")}t.onDragStart(e)}},onTouchMove:function(e){var t=this;try{var n=e.originalEvent.touches,o=n[0],u=n[1];if(o&&u){t.onDragEnd(e);return}e.preventDefault()}catch(l){console.warn("Touch original event not exist!")}t.onDrag(e)},onDragStart:function(e){var t=this;if(this.currentShouldEnd=!0,!!this.shouldBegin.call(this,e)){var n=e.item;if(!(!n||n.destroyed||n.hasLocked())){var o=n.getContainer();o.set("capture",!1),this.cachedCaptureItems||(this.cachedCaptureItems=[]),this.cachedCaptureItems.push(n);var u=e.target;if(u){var l=u.get("isAnchorPoint");if(l)return}var c=this.graph;this.targets=[],this.targetCombo=null;var f=c.findAllByState("node",this.selectedState),h=n.get("id"),v=f.filter(function(g){var E=g.get("id");return h===E});v.length===0?this.targets.push(n):f.length>1?f.forEach(function(g){var E=g.hasLocked();E||t.targets.push(g)}):this.targets.push(n);var p=[];this.targets.forEach(function(g){p.push((0,w.clone)(g.getModel()))}),this.set("beforeDragNodes",p),this.hidenEdge={},this.get("updateEdge")&&this.enableOptimize&&!this.enableDelegate&&this.targets.forEach(function(g){var E=g.getEdges();E.forEach(function(D){!D.isVisible()||(t.hidenEdge[D.getID()]=!0,D.hide())})}),this.origin={x:e.x,y:e.y},this.point={},this.originPoint={}}}},onDrag:function(e){var t=this;!this.origin||!this.shouldUpdate.call(this,e)||(this.get("enableDelegate")?this.updateDelegate(e):this.enableDebounce?this.debounceUpdate({targets:this.targets,graph:this.graph,point:this.point,origin:this.origin,evt:e,updateEdge:this.get("updateEdge")}):this.targets.map(function(n){t.update(n,e)}))},onDragEnd:function(e){var t=this,n;if(!!this.origin){(n=this.cachedCaptureItems)===null||n===void 0||n.forEach(function(l){var c=l.getContainer();c.set("capture",!0)}),this.cachedCaptureItems=[],this.delegateRect&&(this.delegateRect.remove(),this.delegateRect=null),this.get("updateEdge")&&this.enableOptimize&&!this.enableDelegate&&this.targets.forEach(function(l){var c=l.getEdges();c.forEach(function(f){t.hidenEdge[f.getID()]&&f.show(),f.refresh()})}),this.hidenEdge={};var o=this.graph;if(o.get("enabledStack")&&this.enableStack){var u={before:{nodes:[],edges:[],combos:[]},after:{nodes:[],edges:[],combos:[]}};this.get("beforeDragNodes").forEach(function(l){u.before.nodes.push({id:l.id,x:l.x,y:l.y})}),this.targets.forEach(function(l){var c=l.getModel();u.after.nodes.push({id:c.id,x:c.x,y:c.y})}),o.pushStack("update",(0,w.clone)(u))}o.emit("dragnodeend",{items:this.targets,targetItem:null}),this.point={},this.origin=null,this.originPoint={},this.targets.length=0,this.targetCombo=null}},onDropCombo:function(e){var t=e.item;if(this.currentShouldEnd=this.shouldEnd.call(this,e,t),this.updatePositions(e,!this.currentShouldEnd),!(!this.currentShouldEnd||!this.validationCombo(t))){var n=this.graph;if(this.comboActiveState&&n.setItemState(t,this.comboActiveState,!1),this.targetCombo=t,this.onlyChangeComboSize)n.updateCombos();else{var o=t.getModel();this.targets.map(function(u){var l=u.getModel();l.comboId!==o.id&&n.updateComboTree(u,o.id)}),n.updateCombo(t)}n.emit("dragnodeend",{items:this.targets,targetItem:this.targetCombo})}},onDropCanvas:function(e){var t=this.graph;this.currentShouldEnd=this.shouldEnd.call(this,e,void 0),this.updatePositions(e,!this.currentShouldEnd),!(!this.targets||this.targets.length===0||!this.currentShouldEnd)&&(this.onlyChangeComboSize?t.updateCombos():this.targets.map(function(n){var o=n.getModel();o.comboId&&t.updateComboTree(n)}))},onDropNode:function(e){if(!(!this.targets||this.targets.length===0)){var t=this,n=e.item,o=t.graph,u=n.getModel().comboId,l=u?o.findById(u):void 0;if(this.currentShouldEnd=this.shouldEnd.call(this,e,l),this.updatePositions(e,!this.currentShouldEnd),!!this.currentShouldEnd){if(this.onlyChangeComboSize)o.updateCombos();else if(u){var c=o.findById(u);t.comboActiveState&&o.setItemState(c,t.comboActiveState,!1),this.targets.map(function(f){var h=f.getModel();u!==h.comboId&&o.updateComboTree(f,u)}),o.updateCombo(c)}else this.targets.map(function(f){var h=f.getModel();h.comboId&&o.updateComboTree(f)});o.emit("dragnodeend",{items:this.targets,targetItem:n})}}},onDragEnter:function(e){var t=e.item;if(!!this.validationCombo(t)){var n=this.graph;this.comboActiveState&&n.setItemState(t,this.comboActiveState,!0)}},onDragLeave:function(e){var t=e.item;if(!!this.validationCombo(t)){var n=this.graph;this.comboActiveState&&n.setItemState(t,this.comboActiveState,!1)}},updatePositions:function(e,t){var n=this;!this.targets||this.targets.length===0||(this.get("enableDelegate")?this.enableDebounce?this.debounceUpdate({targets:this.targets,graph:this.graph,point:this.point,origin:this.origin,evt:e,updateEdge:this.get("updateEdge"),updateFunc:this.update}):t||this.targets.map(function(o){return n.update(o,e)}):this.targets.map(function(o){return n.update(o,e,t)}))},update:function(e,t,n){var o=this.origin,u=e.get("model"),l=e.get("id");this.point[l]||(this.point[l]={x:u.x||0,y:u.y||0});var c=t.x-o.x+this.point[l].x,f=t.y-o.y+this.point[l].y;n&&(c+=o.x-t.x,f+=o.y-t.y);var h={x:c,y:f};this.get("updateEdge")?this.graph.updateItem(e,h,!1):e.updatePosition(h)},debounceUpdate:(0,w.debounce)(function(a){var e=a.targets,t=a.graph,n=a.point,o=a.origin,u=a.evt,l=a.updateEdge,c=a.updateFunc;e.map(function(f){var h=f.get("model"),v=f.get("id");n[v]||(n[v]={x:h.x||0,y:h.y||0});var p=u.x-o.x+n[v].x,g=u.y-o.y+n[v].y,E={x:p,y:g};l?t.updateItem(f,E,!1):f.updatePosition(E)})},50,!0),updateDelegate:function(e){var t=this.graph;if(this.delegateRect){var g=e.x-this.origin.x+this.originPoint.minX,E=e.y-this.origin.y+this.originPoint.minY;this.delegateRect.attr({x:g,y:E})}else{var n=t.get("group"),o=(0,w.deepMix)({},my.delegateStyle,this.delegateStyle),u=this.calculationGroupPosition(e),l=u.x,c=u.y,f=u.width,h=u.height,v=u.minX,p=u.minY;this.originPoint={x:l,y:c,width:f,height:h,minX:v,minY:p},this.delegateRect=n.addShape("rect",{attrs:(0,Z.__assign)({width:f,height:h,x:l,y:c},o),name:"rect-delegate-shape"}),this.delegate=this.delegateRect,this.delegateRect.set("capture",!1)}},calculationGroupPosition:function(e){var t=this.targets;t.length===0&&t.push(e.item);for(var n=1/0,o=-1/0,u=1/0,l=-1/0,c=0;c<t.length;c++){var f=t[c],h=f.getBBox(),v=h.minX,p=h.minY,g=h.maxX,E=h.maxY;v<n&&(n=v),p<u&&(u=p),g>o&&(o=g),E>l&&(l=E)}var D=Math.floor(n),G=Math.floor(u),H=Math.ceil(o)-Math.floor(n),X=Math.ceil(l)-Math.floor(u);return{x:D,y:G,width:H,height:X,minX:n,minY:u}}},Cnt={getDefaultCfg:function(){return{trigger:"mouseenter",activeState:"active",inactiveState:"inactive",resetSelected:!1,shouldUpdate:function(){return!0}}},getEvents:function(){return this.get("trigger")==="mouseenter"?{"node:mouseenter":"setAllItemStates","combo:mouseenter":"setAllItemStates","node:mouseleave":"clearActiveState","combo:mouseleave":"clearActiveState"}:{"node:click":"setAllItemStates","combo:click":"setAllItemStates","canvas:click":"clearActiveState","node:touchstart":"setOnTouchStart","combo:touchstart":"setOnTouchStart","canvas:touchstart":"clearOnTouchStart"}},setOnTouchStart:function(e){var t=this;try{var n=e.originalEvent.touches,o=n[0],u=n[1];if(o&&u)return;e.preventDefault()}catch(l){console.warn("Touch original event not exist!")}t.setAllItemStates(e)},clearOnTouchStart:function(e){var t=this;try{var n=e.originalEvent.touches,o=n[0],u=n[1];if(o&&u)return;e.preventDefault()}catch(l){console.warn("Touch original event not exist!")}t.clearActiveState(e)},setAllItemStates:function(e){var t=e.item,n=this.graph;if(this.item=t,!!this.shouldUpdate(e.item,{event:e,action:"activate"})){for(var o=this,u=this.activeState,l=this.inactiveState,c=n.getNodes(),f=n.getCombos(),h=n.getEdges(),v=n.get("vedges"),p=c.length,g=f.length,E=h.length,D=v.length,G=0;G<p;G++){var H=c[G],X=H.hasState("selected");o.resetSelected&&X&&n.setItemState(H,"selected",!1),n.setItemState(H,u,!1),l&&n.setItemState(H,l,!0)}for(var G=0;G<g;G++){var rt=f[G],X=rt.hasState("selected");o.resetSelected&&X&&n.setItemState(rt,"selected",!1),n.setItemState(rt,u,!1),l&&n.setItemState(rt,l,!0)}for(var G=0;G<E;G++){var ht=h[G];n.setItemState(ht,u,!1),l&&n.setItemState(ht,l,!0)}for(var G=0;G<D;G++){var mt=v[G];n.setItemState(mt,u,!1),l&&n.setItemState(mt,l,!0)}l&&n.setItemState(t,l,!1),n.setItemState(t,u,!0);for(var Dt=t.getEdges(),kt=Dt.length,G=0;G<kt;G++){var ht=Dt[G],Vt=void 0;ht.getSource()===t?Vt=ht.getTarget():Vt=ht.getSource(),l&&n.setItemState(Vt,l,!1),n.setItemState(Vt,u,!0),n.setItemState(ht,l,!1),n.setItemState(ht,u,!0),ht.toFront()}n.emit("afteractivaterelations",{item:e.item,action:"activate"})}},clearActiveState:function(e){var t=this,n=t.get("graph");if(!!t.shouldUpdate(e.item,{event:e,action:"deactivate"})){var o=this.activeState,u=this.inactiveState,l=n.get("autoPaint");n.setAutoPaint(!1);for(var c=n.getNodes()||[],f=n.getCombos()||[],h=n.getEdges()||[],v=n.get("vedges")||[],p=c.length,g=f.length,E=h.length,D=v.length,G=0;G<p;G++){var H=c[G];n.clearItemStates(H,[o,u])}for(var G=0;G<g;G++){var X=f[G];n.clearItemStates(X,[o,u])}for(var G=0;G<E;G++){var rt=h[G];n.clearItemStates(rt,[o,u,"deactivate"])}for(var G=0;G<D;G++){var ht=v[G];n.clearItemStates(ht,[o,u,"deactivate"])}n.paint(),n.setAutoPaint(l),n.emit("afteractivaterelations",{item:e.item||t.get("item"),action:"deactivate"})}}},e2=Math.min,YR=Math.max,XR=Math.abs,$R="shift",Tnt=["drag","shift","ctrl","alt","control"],Mnt={getDefaultCfg:function(){return{brushStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},selectedState:"selected",trigger:$R,includeEdges:!0,selectedEdges:[],selectedNodes:[]}},getEvents:function(){return Tnt.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=$R,console.warn("Behavior brush-select \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),this.trigger==="drag"?{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"clearStates"}:{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"clearStates",keyup:"onKeyUp",keydown:"onKeyDown"}},onMouseDown:function(e){var t=e.item,n=this.brush;t||this.trigger!=="drag"&&!this.keydown||(this.selectedNodes&&this.selectedNodes.length!==0&&this.clearStates(),n||(n=this.createBrush()),this.originPoint={x:e.canvasX,y:e.canvasY},n.attr({width:0,height:0}),n.show(),this.dragging=!0)},onMouseMove:function(e){!this.dragging||this.trigger!=="drag"&&!this.keydown||this.updateBrush(e)},onMouseUp:function(e){var t=this.graph;!this.brush&&!this.dragging||this.trigger!=="drag"&&!this.keydown||(this.brush.remove(!0),this.brush=null,this.getSelectedNodes(e),this.dragging=!1)},clearStates:function(){var e=this,t=e.graph,n=e.selectedState,o=t.findAllByState("node",n),u=t.findAllByState("edge",n);o.forEach(function(l){return t.setItemState(l,n,!1)}),u.forEach(function(l){return t.setItemState(l,n,!1)}),this.selectedNodes=[],this.selectedEdges=[],this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges),t.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[]},select:!1})},getSelectedNodes:function(e){var t=this,n=this,o=n.graph,u=n.originPoint,l=n.shouldUpdate,c=this.selectedState,f={x:e.x,y:e.y},h=o.getPointByCanvas(u.x,u.y),v=e2(f.x,h.x),p=YR(f.x,h.x),g=e2(f.y,h.y),E=YR(f.y,h.y),D=[],G=[];o.getNodes().forEach(function(X){if(!!X.isVisible()){var rt=X.getBBox();if(rt.centerX>=v&&rt.centerX<=p&&rt.centerY>=g&&rt.centerY<=E&&l(X,"select")){D.push(X);var ht=X.getModel();G.push(ht.id),o.setItemState(X,c,!0)}}});var H=[];this.includeEdges&&D.forEach(function(X){var rt=X.getOutEdges();rt.forEach(function(ht){if(!!ht.isVisible()){var mt=ht.getModel(),Dt=mt.source,kt=mt.target;G.includes(Dt)&&G.includes(kt)&&l(ht,"select")&&(H.push(ht),o.setItemState(ht,t.selectedState,!0))}})}),this.selectedEdges=H,this.selectedNodes=D,this.onSelect&&this.onSelect(D,H),o.emit("nodeselectchange",{selectedItems:{nodes:D,edges:H},select:!0})},createBrush:function(){var e=this,t=e.graph.get("canvas").addShape("rect",{attrs:e.brushStyle,capture:!1,name:"brush-shape"});return this.brush=t,this.delegate=t,t},updateBrush:function(e){var t=this.originPoint;this.brush.attr({width:XR(e.canvasX-t.x),height:XR(e.canvasY-t.y),x:e2(e.canvasX,t.x),y:e2(e.canvasY,t.y)})},onKeyDown:function(e){var t=e.key;if(!!t){var n=this.trigger.toLowerCase(),o=t.toLowerCase();o===n||o==="control"&&n==="ctrl"||o==="ctrl"&&n==="control"?this.keydown=!0:this.keydown=!1}},onKeyUp:function(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.keydown=!1}},KR="shift",Int=["shift","ctrl","alt","control"],Ont={getDefaultCfg:function(){return{multiple:!0,trigger:KR,selectedState:"selected"}},getEvents:function(){var e=this;return Int.indexOf(e.trigger.toLowerCase())>-1||(e.trigger=KR,console.warn("Behavior brush-select \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),e.multiple?{"node:click":"onClick","combo:click":"onClick","canvas:click":"onCanvasClick",keyup:"onKeyUp",keydown:"onKeyDown"}:{"node:click":"onClick","combo:click":"onClick","canvas:click":"onCanvasClick"}},onClick:function(e){var t=this,n=e.item;if(!(!n||n.destroyed)){var o=n.getType(),u=t.graph,l=t.keydown,c=t.multiple,f=t.shouldUpdate,h=t.shouldBegin;if(!!h.call(t,e)){if(!l||!c){var v=u.findAllByState("node",t.selectedState).concat(u.findAllByState("combo",t.selectedState));(0,w.each)(v,function(E){E!==n&&u.setItemState(E,t.selectedState,!1)})}if(n.hasState(t.selectedState)){f.call(t,e)&&u.setItemState(n,t.selectedState,!1);var p=u.findAllByState("node",t.selectedState),g=u.findAllByState("combo",t.selectedState);u.emit("nodeselectchange",{target:n,selectedItems:{nodes:p,combos:g},select:!1})}else{f.call(t,e)&&u.setItemState(n,t.selectedState,!0);var p=u.findAllByState("node",t.selectedState),g=u.findAllByState("combo",t.selectedState);u.emit("nodeselectchange",{target:n,selectedItems:{nodes:p,combos:g},select:!0})}}}},onCanvasClick:function(e){var t=this,n=this,o=n.graph,u=n.shouldBegin;if(!!u.call(this,e)){var l=o.findAllByState("node",this.selectedState);(0,w.each)(l,function(f){o.setItemState(f,t.selectedState,!1)});var c=o.findAllByState("combo",this.selectedState);(0,w.each)(c,function(f){o.setItemState(f,t.selectedState,!1)}),o.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[],combos:[]},select:!1})}},onKeyDown:function(e){var t=this,n=e.key;!n||(n.toLowerCase()===this.trigger.toLowerCase()||n.toLowerCase()==="control"?t.keydown=!0:t.keydown=!1)},onKeyUp:function(){var e=this;e.keydown=!1}},Dnt=ka,ZR=.05,Pnt={getDefaultCfg:function(){return{sensitivity:2,minZoom:void 0,maxZoom:void 0,enableOptimize:!1,optimizeZoom:.1,fixSelectedItems:{fixAll:!1,fixLineWidth:!1,fixLabel:!1,fixState:"selected"},animate:!1,animateCfg:{duration:500}}},getEvents:function(){var e=this.fixSelectedItems;return e.fixState||(e.fixState="selected"),e.fixAll&&(e.fixLineWidth=!0,e.fixLabel=!0),{wheel:"onWheel",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onTouchEnd"}},onTouchStart:function(e){var t=e.originalEvent.touches,n=t[0],o=t[1];e.preventDefault(),o&&(this.shouldBegin&&!this.shouldBegin.call(this,e)||(this.startPoint={pageX:n.pageX,pageY:n.pageY},this.moveable=!0,o&&(this.endPoint={pageX:o.pageX,pageY:o.pageY}),this.originScale=this.graph.getZoom()||this.currentScale||1))},onTouchMove:function(e){if(!!this.moveable){e.preventDefault();var t=e.originalEvent.touches,n=t[0],o=t[1];if(!!o){this.endPoint||(this.endPoint={pageX:o.pageX,pageY:o.pageY});var u=function(G,H){return Math.hypot(H.x-G.x,H.y-G.y)},l=u({x:n.pageX,y:n.pageY},{x:o.pageX,y:o.pageY})/u({x:this.startPoint.pageX,y:this.startPoint.pageY},{x:this.endPoint.pageX,y:this.endPoint.pageY}),c=this.originScale*l;this.currentScale=c;var f=this.get("minZoom")||this.graph.get("minZoom"),h=this.get("maxZoom")||this.graph.get("maxZoom");if(!(c>h||c<f)){var v=this.get("animate"),p=this.get("animateCfg"),g=this.graph.get("canvas"),E=g.getPointByClient(e.clientX,e.clientY);this.graph.zoomTo(c,{x:E.x,y:E.y},v,p),this.graph.emit("wheelzoom",e)}}}},onTouchEnd:function(){this.moveable=!1,this.endPoint=null},onWheel:function(e){var t=this,n=this,o=n.graph,u=n.fixSelectedItems;if(!(this.shouldBegin&&!this.shouldBegin.call(this,e))&&!!this.shouldUpdate.call(this,e)){e.preventDefault();var l=o.get("canvas"),c=l.getPointByClient(e.clientX,e.clientY),f=this.get("sensitivity"),h=o.getZoom(),v=h,p=h;e.wheelDelta<0?v=1-ZR*f:v=1/(1-ZR*f),p=h*v;var g=this.get("minZoom")||o.get("minZoom"),E=this.get("maxZoom")||o.get("maxZoom");if(!(p>E||p<g)){var D=this.get("enableOptimize");if(D){var G=this.get("optimizeZoom"),H=this.get("optimized"),X=o.getNodes(),rt=o.getEdges(),ht=X.length,mt=rt.length;if(!H){for(var Dt=0;Dt<ht;Dt++){var kt=X[Dt];if(!kt.destroyed)for(var Vt=kt.get("group").get("children"),te=Vt.length,le=0;le<te;le++){var pe=Vt[le];!pe.destoryed&&!pe.get("isKeyShape")&&(pe.set("ori-visibility",pe.get("ori-visibility")||pe.get("visible")),pe.hide())}}for(var De=0;De<mt;De++)for(var Xe=rt[De],Vt=Xe.get("group").get("children"),te=Vt.length,le=0;le<te;le++){var pe=Vt[le];pe.set("ori-visibility",pe.get("ori-visibility")||pe.get("visible")),pe.hide()}this.set("optimized",!0)}clearTimeout(this.get("timeout"));var pr=setTimeout(function(){var pa=o.getZoom(),so=t.get("optimized");if(so){t.set("optimized",!1);for(var ia=0;ia<ht;ia++){var Ai=X[ia],sa=Ai.get("group").get("children"),Bi=sa.length;if(pa<G){var Ia=Ai.getKeyShape(),Oa=Ia.get("ori-visibility");Oa&&Ia.show()}else for(var So=0;So<Bi;So++){var $a=sa[So],Oa=$a.get("ori-visibility");!$a.get("visible")&&Oa&&Oa&&$a.show()}}for(var wo=0;wo<mt;wo++){var Ms=rt[wo],sa=Ms.get("group").get("children"),Bi=sa.length;if(pa<G){var Ia=Ms.getKeyShape(),Oa=Ia.get("ori-visibility");Oa&&Ia.show()}else for(var So=0;So<Bi;So++){var $a=sa[So];if(!$a.get("visible")){var Oa=$a.get("ori-visibility");Oa&&$a.show()}}}}},100);this.set("timeout",pr)}if(h<=1){var yr=void 0,Vr=void 0;if(u.fixAll||u.fixLineWidth||u.fixLabel){yr=o.findAllByState("node",u.fixState),Vr=o.findAllByState("edge",u.fixState);for(var nr=h/p,Gr=yr.length,en=0;en<Gr;en++){var kt=yr[en],cr=kt.getContainer(),Fr=kt.getModel(),qr=kt.getOriginStyle(),_r=kt.getStateStyle(u.fixState),kr=kt.get("shapeFactory").getShape(Fr.type).getStateStyle(u.fixState,kt)[u.fixState];if(u.fixAll){if(p<=1){var Yr=(0,w.clone)(cr.getMatrix());Yr||(Yr=[1,0,0,0,1,0,0,0,1]);var mn=kt.getModel(),Er=mn.x,oi=mn.y;Yr=Dnt(Yr,[["t",-Er,-oi],["s",nr,nr],["t",Er,oi]]),cr.setMatrix(Yr)}}else for(var Vt=cr.get("children"),te=Vt.length,le=0;le<te;le++){var pe=Vt[le],mr=void 0,ki=void 0;if(u.fixLabel){var Xn=pe.get("type");if(Xn==="text"){mr=pe.attr("fontSize")||12;var qn=_r[pe.get("name")],ai=kr[pe.get("name")],va=qn?qn.fontSize:12,Ii=ai?ai.fontSize:12,Ni=va||Ii||12;if(p<=1&&pe.attr("fontSize",Ni/p),ki)break}}if(u.fixLineWidth&&pe.get("isKeyShape")){ki=pe.attr("lineWidth")||0;var Sa=_r.lineWidth||kr.lineWidth||qr.lineWidth||0;if(p<=1&&pe.attr("lineWidth",Sa/p),mr)break}}}for(var ea=Vr.length,lo=0;lo<ea;lo++)for(var Xe=Vr[lo],cr=Xe.getContainer(),Vt=cr.get("children"),Fr=Xe.getModel(),_r=Xe.getStateStyle(u.fixState),kr=Xe.get("shapeFactory").getShape(Fr.type).getStateStyle(u.fixState,Xe)[u.fixState],te=Vt.length,le=0;le<te;le++){var pe=Vt[le],mr=void 0,ki=void 0;if(u.fixLabel||u.fixAll){var Xn=pe.get("type");if(Xn==="text"){mr=pe.attr("fontSize")||12;var qn=_r[pe.get("name")],ai=kr[pe.get("name")],va=qn?qn.fontSize:12,Ii=ai?ai.fontSize:12,Ni=va||Ii||12;if(p<=1&&pe.attr("fontSize",Ni/p),ki)break}}if((u.fixLineWidth||u.fixAll)&&pe.get("isKeyShape")){ki=pe.attr("lineWidth")||0;var Sa=_r.lineWidth||kr.lineWidth||1;if(p<=1&&pe.attr("lineWidth",Sa/p),mr)break}}}}var Vs=this.get("animate"),Go=this.get("animateCfg");o.zoomTo(p,{x:c.x,y:c.y},Vs,Go),o.emit("wheelzoom",e)}}}},QR={onMouseEnter:function(e){var t=e.item;this.currentTarget=t,this.showTooltip(e),this.graph.emit("tooltipchange",{item:e.item,action:"show"})},onMouseMove:function(e){if(!this.shouldUpdate(e)){this.hideTooltip();return}!this.currentTarget||e.item!==this.currentTarget||this.updatePosition(e)},onMouseLeave:function(e){!this.shouldEnd(e)||(this.hideTooltip(),this.graph.emit("tooltipchange",{item:this.currentTarget,action:"hide"}),this.currentTarget=null)},showTooltip:function(e){var t=this.container;if(!(!e.item||e.item.destroyed)){t||(t=this.createTooltip(this.graph.get("canvas")),this.container=t);var n=this.formatText(e.item.get("model"),e);t.innerHTML=n,Ri(this.container,{visibility:"visible"}),this.updatePosition(e)}},hideTooltip:function(){Ri(this.container,{visibility:"hidden"})},updatePosition:function(e){var t=this.get("shouldBegin"),n=this,o=n.width,u=n.height,l=n.container,c=n.graph;if(!t(e)){Ri(l,{visibility:"hidden"});return}var f=c.getPointByClient(e.clientX,e.clientY),h=c.getCanvasByPoint(f.x,f.y),v=h.x,p=h.y,g=l.getBoundingClientRect();v>o/2?v-=g.width:v+=this.offset,p>u/2?p-=g.height:p+=this.offset;var E="".concat(v,"px"),D="".concat(p,"px");Ri(this.container,{left:E,top:D,visibility:"visible"})},createTooltip:function(e){var t=e.get("el");t.style.position="relative";var n=Fa('<div class="g6-tooltip g6-'.concat(this.item,'-tooltip"></div>'));return t.parentNode.appendChild(n),Ri(n,{position:"absolute",visibility:"visible"}),this.width=e.get("width"),this.height=e.get("height"),this.container=n,this.graph.get("tooltips").push(n),n}},Lnt=(0,Z.__assign)({getDefaultCfg:function(){return{item:"node",offset:12,formatText:function(t){return t.label}}},getEvents:function(){return{"node:mouseenter":"onMouseEnter","node:mouseleave":"onMouseLeave","node:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave"}}},QR),Rnt=(0,Z.__assign)({getDefaultCfg:function(){return{item:"edge",offset:12,formatText:function(t){return"source: ".concat(t.source," target: ").concat(t.target)}}},getEvents:function(){return{"edge:mouseenter":"onMouseEnter","edge:mouseleave":"onMouseLeave","edge:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave"}}},QR),JR="click",Fnt=["click","dblclick"],Nnt={getDefaultCfg:function(){return{trigger:JR,onChange:function(){}}},getEvents:function(){var e,t;return Fnt.includes(this.trigger)?t=this.trigger:(t=JR,console.warn("Behavior collapse-expand \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click' \u6216 'dblclick'")),e={},e["node:".concat(t)]="onNodeClick",e.touchstart="onNodeClick",e},onNodeClick:function(e){var t=e.item;if(!!t){var n=this.graph.findDataById(t.get("id"));if(!!n){var o=n.children;if(!(!o||o.length===0)){var u=!n.collapsed;!this.shouldBegin(e,u)||(n.collapsed=u,t.getModel().collapsed=u,this.graph.emit("itemcollapsed",{item:e.item,collapsed:u}),this.shouldUpdate(e,u)&&(this.onChange(t,u),this.graph.layout()))}}}}},knt=Eg.calculationItemsBBox,Bnt=function a(e,t){if(t(e)!==!1&&e){var n=e.get("combos");if(n.length===0)return!1;(0,w.each)(n,function(o){a(o,t)})}},Gnt={getDefaultCfg:function(){return{enableDelegate:!1,delegateStyle:{},onlyChangeComboSize:!1,activeState:"",selectedState:"selected"}},getEvents:function(){return{"combo:dragstart":"onDragStart","combo:drag":"onDrag","combo:dragend":"onDragEnd","combo:drop":"onDrop","node:drop":"onNodeDrop","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave"}},validationCombo:function(e){var t=e.item;if(!t||t.destroyed||!this.shouldUpdate.call(this,e))return!1;var n=t.getType();return n==="combo"},onDragStart:function(e){var t=this,n=this.graph,o=e.item;if(this.currentShouldEnd=!0,!!this.validationCombo(e)){this.targets=[];var u=n.findAllByState("combo",this.selectedState),l=o.get("id"),c=u.filter(function(f){var h=f.get("id");return l===h});c.length===0?this.targets.push(o):this.targets=u,this.activeState&&this.targets.map(function(f){var h=f.getModel();if(h.parentId){var v=n.findById(h.parentId);v&&n.setItemState(v,t.activeState,!0)}}),this.point={},this.originPoint={},this.origin={x:e.x,y:e.y},this.currentItemChildCombos=[],Bnt(o,function(f){if(f.destroyed)return!1;var h=f.getModel();return t.currentItemChildCombos.push(h.id),!0})}},onDrag:function(e){var t=this;if(!!this.origin&&!!this.validationCombo(e))if(this.enableDelegate)this.updateDelegate(e);else{if(this.activeState){var n=this.graph,o=e.item,u=o.getModel(),l=n.getCombos(),c=o.getBBox(),f=c.centerX,h=c.centerY,v=c.width,p=l.filter(function(g){var E=g.getModel();return u.parentId,E.id!==u.id&&!t.currentItemChildCombos.includes(E.id)});p.map(function(g){var E=g.getBBox(),D=E.centerX,G=E.centerY,H=E.width,X=f-D,rt=h-G,ht=2*Math.sqrt(X*X+rt*rt);v+H-ht>.8*v?n.setItemState(g,t.activeState,!0):n.setItemState(g,t.activeState,!1)})}(0,w.each)(this.targets,function(g){t.updateCombo(g,e)})}},updatePositions:function(e,t){var n=this;(this.enableDelegate||t)&&(0,w.each)(this.targets,function(o){n.updateCombo(o,e,t)})},onDrop:function(e){var t=this,n=e.item;if(this.currentShouldEnd=this.shouldEnd.call(this,e,n),this.updatePositions(e,!this.currentShouldEnd),!(!this.currentShouldEnd||!n||!this.targets||n.destroyed)){var o=this.graph,u=n.getModel();this.targets.map(function(l){var c=l.getModel();c.parentId!==u.id?(t.activeState&&o.setItemState(n,t.activeState,!1),t.onlyChangeComboSize?o.updateCombo(l):o.updateComboTree(l,u.id)):o.updateCombo(n)}),this.end(n,e),this.endComparison=!0}},onNodeDrop:function(e){var t=this;if(!(!this.targets||this.targets.length===0)){var n=this.graph,o=e.item,u=o.getModel().comboId,l=u?n.findById(u):void 0;if(this.currentShouldEnd=this.shouldEnd.call(this,e,l),this.updatePositions(e,!this.currentShouldEnd),!!this.currentShouldEnd){var c;if(u){if(this.activeState){var f=n.findById(u);n.setItemState(f,this.activeState,!1)}this.targets.map(function(h){t.onlyChangeComboSize?n.updateCombo(h):u!==h.getID()&&(c=n.findById(u),u!==h.getModel().parentId&&n.updateComboTree(h,u))})}else this.targets.map(function(h){if(t.onlyChangeComboSize)n.updateCombo(h);else{var v=h.getModel();v.comboId&&n.updateComboTree(h)}});this.endComparison=!0,this.end(c,e)}}},onDragEnter:function(e){if(!!this.origin&&!!this.validationCombo(e)){var t=e.item,n=this.graph;this.activeState&&n.setItemState(t,this.activeState,!0)}},onDragLeave:function(e){if(!!this.origin&&!!this.validationCombo(e)){var t=e.item,n=this.graph;this.activeState&&n.setItemState(t,this.activeState,!1)}},onDragEnd:function(e){if(!(!this.targets||this.targets.length===0)){var t=e.item;this.currentShouldEnd&&this.updatePositions(e);var n=this.getParentCombo(t.getModel().parentId),o=this.graph;n&&this.activeState&&o.setItemState(n,this.activeState,!1),this.end(void 0,e)}},end:function(e,t){var n=this;if(!!this.origin){var o=this.graph;if(this.delegateShape){var u=o.get("delegateGroup");u.clear(),this.delegateShape=null}e&&this.activeState&&o.setItemState(e,this.activeState,!1),e||this.targets.map(function(l){n.onlyChangeComboSize?o.updateCombo(l):o.updateComboTree(l)}),this.point=[],this.origin=null,this.originPoint=null,this.targets.length=0}},traverse:function(e,t){var n=this;if(t(e)!==!1&&e){var o=e.get("combos");(0,w.each)(o,function(l){n.traverse(l,t)});var u=e.get("nodes");(0,w.each)(u,function(l){n.traverse(l,t)})}},updateCombo:function(e,t,n){var o=this;this.traverse(e,function(u){return u.destroyed?!1:(o.updateSignleItem(u,t,n),!0)})},updateSignleItem:function(e,t,n){var o=this.origin,u=this.graph,l=e.getModel(),c=e.get("id");this.point[c]||(this.point[c]={x:l.x,y:l.y});var f=t.x-o.x+this.point[c].x,h=t.y-o.y+this.point[c].y;n&&(f+=o.x-t.x,h+=o.y-t.y),u.updateItem(e,{x:f,y:h})},getParentCombo:function(e){var t=this.graph;if(!!e){var n=t.findById(e);if(!!n)return n}},updateDelegate:function(e){var t=this.graph;if(this.delegateShape){var g=e.x-this.origin.x+this.originPoint.minX,E=e.y-this.origin.y+this.originPoint.minY;this.delegateShape.attr({x:g,y:E})}else{var n=t.get("delegateGroup"),o=null;this.targets.length>1?o=knt(this.targets):o=this.targets[0].getBBox();var u=o.x,l=o.y,c=o.width,f=o.height,h=o.minX,v=o.minY;this.originPoint={x:u,y:l,width:c,height:f,minX:h,minY:v};var p=(0,Z.__assign)((0,Z.__assign)({},my.delegateStyle),this.delegateStyle);this.delegateShape=n.addShape("rect",{attrs:(0,Z.__assign)({width:o.width,height:o.height,x:o.x,y:o.y},p),name:"combo-delegate-shape"}),this.delegateShape.set("capture",!1),this.delegate=this.delegateShape}}},qR="dblclick",znt=["click","dblclick"],Unt={getDefaultCfg:function(){return{trigger:qR,relayout:!0}},getEvents:function(){var e,t;return znt.includes(this.trigger)?t=this.trigger:(t=qR,console.warn("Behavior collapse-expand-group \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click' \u6216 'dblclick'")),e={},e["combo:".concat(t)]="onComboClick",e},onComboClick:function(e){var t=e.item,n=this,o=n.graph,u=n.relayout;if(!(!t||t.destroyed||t.getType()!=="combo")){var l=t.getModel(),c=l.id;!c||(o.collapseExpandCombo(c),u&&o.get("layout")?o.layout():o.refreshPositions())}}},jnt=Eg.isPolygonsIntersect,Wnt=Eg.pathToPoints,tF="shift",Vnt=["drag","shift","ctrl","alt","control"],Hnt=function(e,t){var n,o=e.getKeyShape();if(e.get("type")==="path")n=Wnt(o.attr("path"));else{var u=o.getCanvasBBox();n=[[u.minX,u.minY],[u.maxX,u.minY],[u.maxX,u.maxY],[u.minX,u.maxY]]}return jnt(t,n)},Ynt={getDefaultCfg:function(){return{delegateStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},shouldDeselect:void 0,selectedState:"selected",trigger:tF,includeEdges:!0,selectedEdges:[],selectedNodes:[]}},getEvents:function(){return Vnt.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=tF,console.warn("Behavior lasso-select \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),this.trigger==="drag"?{dragstart:"onDragStart",drag:"onDragMove",dragend:"onDragEnd","canvas:click":"clearStates"}:{dragstart:"onDragStart",drag:"onDragMove",dragend:"onDragEnd",keyup:"onKeyUp",keydown:"onKeyDown","canvas:click":"clearStates"}},onDragStart:function(e){var t=this.lasso,n=e.item;n||this.trigger!=="drag"&&!this.keydown||(this.selectedNodes&&this.selectedNodes.length!==0&&this.clearStates("dragstart"),t||(t=this.createLasso()),this.dragging=!0,this.originPoint={x:e.x,y:e.y},this.points.push(this.originPoint),t.show())},onDragMove:function(e){!this.dragging||this.trigger!=="drag"&&!this.keydown||(this.points.push({x:e.x,y:e.y}),this.updateLasso(e))},onDragEnd:function(e){!this.lasso&&!this.dragging||this.trigger!=="drag"&&!this.keydown||(this.points.push(this.originPoint),this.getSelectedItems(),this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1)},getLassoPath:function(){var e=this.points,t=[];return e.length&&(e.forEach(function(n,o){o===0?t.push(["M",n.x,n.y]):t.push(["L",n.x,n.y])}),t.push(["L",e[0].x,e[0].y])),t},clearStates:function(e){e===void 0&&(e="canvas:click");var t=this,n=t.graph,o=t.selectedState,u=t.shouldDeselect,l=n.findAllByState("node",o),c=n.findAllByState("edge",o);(!u||u({action:e,nodes:l,edges:c}))&&(l.forEach(function(f){return n.setItemState(f,o,!1)}),c.forEach(function(f){return n.setItemState(f,o,!1)})),this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges),this.selectedNodes=[],this.selectedEdges=[],n.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[]},select:!1})},getSelectedItems:function(){var e=this,t=this,n=t.graph,o=t.shouldUpdate,u=this.points.map(function(v){return[n.getCanvasByPoint(v.x,v.y).x,n.getCanvasByPoint(v.x,v.y).y]}),l=this.selectedState,c=[],f=[];n.getNodes().forEach(function(v){if(!!v.isVisible()&&Hnt(v,u)&&o(v,"select")){c.push(v);var p=v.getModel();f.push(p.id),n.setItemState(v,l,!0)}});var h=[];this.includeEdges&&c.forEach(function(v){var p=v.getOutEdges();p.forEach(function(g){if(!!g.isVisible()){var E=g.getModel(),D=E.source,G=E.target;f.includes(D)&&f.includes(G)&&o(g,"select")&&(h.push(g),n.setItemState(g,e.selectedState,!0))}})}),this.selectedEdges=h,this.selectedNodes=c,this.onSelect&&this.onSelect(c,h),n.emit("nodeselectchange",{selectedItems:{nodes:c,edges:h},select:!0})},createLasso:function(){var e=this,t=e.graph.get("delegateGroup").addShape("path",{attrs:(0,Z.__assign)({path:[]},e.delegateStyle),capture:!1,name:"lasso-shape"});return this.lasso=t,this.delegate=t,this.points=[],t},updateLasso:function(e){var t=this;this.lasso.attr({path:t.getLassoPath()})},onKeyDown:function(e){var t=e.key;!t||(t.toLowerCase()===this.trigger.toLowerCase()?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.lasso&&(this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1),this.keydown=!1}},eF="click",Xnt=["click","drag"],rF=void 0,$nt=["shift","ctrl","control","alt","meta",void 0],Knt={getDefaultCfg:function(){return{trigger:eF,key:rF,edgeConfig:{},getEdgeConfig:void 0}},getEvents:function(){var e=this;Xnt.indexOf(e.trigger.toLowerCase())>-1||(e.trigger=eF,console.warn("Behavior create-edge \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click'\uFF0C'drag'")),e.key&&$nt.indexOf(e.key.toLowerCase())===-1&&(e.trigger=rF,console.warn("Behavior create-edge \u7684 key \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'shift'\uFF0C'ctrl'\uFF0C'alt'\uFF0C'control'\uFF0C\u6216 undefined"));var t;return e.trigger==="drag"?t={"node:dragstart":"onClick","combo:dragstart":"onClick",drag:"updateEndPoint","node:drop":"onClick","combo:drop":"onClick",dragend:"onDragEnd"}:e.trigger==="click"&&(t={"node:click":"onClick",mousemove:"updateEndPoint","edge:click":"cancelCreating","canvas:click":"cancelCreating","combo:click":"onClick"}),e.key&&(t.keydown="onKeyDown",t.keyup="onKeyUp"),t},onDragEnd:function(e){var t=this;if(!(t.key&&!t.keydown)){var n=e.item;(!n||n.getID()===t.source||n.getType()!=="node")&&t.cancelCreating({item:t.edge,x:e.x,y:e.y})}},onClick:function(e){var t=this;if(!(t.key&&!t.keydown)){var n=e.item,o=t.graph,u=n.getModel(),l=t.getEdgeConfig;if(t.addingEdge&&t.edge){if(!t.shouldEnd.call(t,e))return;var c=void 0;l&&(0,w.isFunction)(l)?c=l({source:t.source,target:u.id}):c=t.edgeConfig;var f=(0,Z.__assign)({target:u.id},c);if(t.source===u.id&&(f.type="loop"),o.emit("beforecreateedge",{}),o.updateItem(t.edge,f,!1),o.get("enabledStack")){var h=(0,Z.__assign)((0,Z.__assign)({},t.edge.getModel()),{itemType:"edge"}),v={};v.edges=[h],o.pushStack("add",{before:{},after:v})}o.emit("aftercreateedge",{edge:t.edge}),t.edge.getKeyShape().set("capture",!0),t.edge=null,t.addingEdge=!1}else{if(!t.shouldBegin.call(t,e))return;var c=void 0;l&&(0,w.isFunction)(l)?c=l({source:u.id,target:u.id}):c=t.edgeConfig,t.edge=o.addItem("edge",(0,Z.__assign)({source:u.id,target:u.id},c),!1),t.source=u.id,t.addingEdge=!0,t.edge.getKeyShape().set("capture",!1)}}},updateEndPoint:function(e){var t=this;if(!(t.key&&!t.keydown)){t.edge&&t.edge.destroyed&&t.cancelCreating({item:t.edge});var n={x:e.x,y:e.y};if(!t.graph.findById(t.source)){t.addingEdge=!1;return}t.addingEdge&&t.edge&&t.graph.updateItem(t.edge,{target:n},!1)}},cancelCreating:function(e){var t,n,o=this;if(!(o.key&&!o.keydown)){var u=o.graph,l=e.item;if(o.addingEdge&&(o.edge===l||((n=(t=e.target)===null||t===void 0?void 0:t.isCanvas)===null||n===void 0?void 0:n.call(t)))){o.edge&&!o.edge.destroyed&&u.removeItem(o.edge,!1),o.edge=null,o.addingEdge=!1;return}}},onKeyDown:function(e){var t=this,n=e.key;!n||(n.toLowerCase()===t.key.toLowerCase()?t.keydown=!0:t.keydown=!1)},onKeyUp:function(){var e=this;e.addingEdge&&e.edge&&(e.graph.removeItem(e.edge,!1),e.addingEdge=!1,e.edge=null),this.keydown=!1}},nF="ctrl",Znt=["shift","ctrl","alt","control"],Qnt="1",Jnt={getDefaultCfg:function(){return{trigger:nF,combinedKey:Qnt,functionName:"fitView",functionParams:[]}},getEvents:function(){return Znt.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=nF,console.warn("Behavior shortcuts-fit-view \u7684 trigger \u53C2\u6570 '".concat(this.trigger,"' \u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'"))),this.combinedKey===this.trigger&&(this.combinedKey=void 0),{keyup:"onKeyUp",keydown:"onKeyDown"}},onKeyDown:function(e){var t=e.key;if(!!t){var n=this.trigger.toLowerCase(),o=t.toLowerCase();this.triggerKeydown||(o===n||o==="control"&&n==="ctrl"||o==="ctrl"&&n==="control"?this.triggerKeydown=!0:this.triggerKeydown=!1);var u=this.graph;if(!u[this.functionName])return console.warn("Behavior shortcuts-fit-view \u7684 functionName \u53C2\u6570 '".concat(this.functionName,"' \u4E0D\u5408\u6CD5\uFF0C\u5B83\u4E0D\u662F Graph \u7684\u4E00\u4E2A\u51FD\u6570\u540D")),{};if(this.triggerKeydown&&!this.combinedKey){this.functionParams&&this.functionParams.length?u[this.functionName].apply(u,this.functionParams):u[this.functionName]();return}var l=this.combinedKey.toLowerCase();this.triggerKeydown&&(o===l||o==="control"&&l==="ctrl"||o==="ctrl"&&l==="control")&&(this.functionParams&&this.functionParams.length?u[this.functionName].apply(u,this.functionParams):u[this.functionName]())}},onKeyUp:function(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.triggerKeydown=!1}},qnt=["shift","ctrl","alt","control","meta"],tit={getDefaultCfg:function(){return{direction:"both",enableOptimize:!1,zoomKey:"ctrl",scalableRange:0}},getEvents:function(){return(!this.zoomKey||qnt.indexOf(this.zoomKey)===-1)&&(this.zoomKey="ctrl"),{wheel:"onWheel"}},onWheel:function(e){var t=this,n=this.graph,o=Array.isArray(this.zoomKey)?[].concat(this.zoomKey):[this.zoomKey];o.includes("control")&&o.push("ctrl");var u=o.some(function(Fr){return e["".concat(Fr,"Key")]});if(u){var l=n.get("canvas"),c=l.getPointByClient(e.clientX,e.clientY),f=n.getZoom();e.wheelDelta>0?f=f+f*.05:f=f-f*.05,n.zoomTo(f,{x:c.x,y:c.y})}else{var h=e.deltaX||e.movementX,v=e.deltaY||e.movementY;!v&&navigator.userAgent.indexOf("Firefox")>-1&&(v=-e.wheelDelta*125/3);var p=this.graph.get("width"),g=this.graph.get("height"),E=this.graph.get("canvas").getCanvasBBox(),D=this.scalableRange,G=this.scalableRange;D<1&&D>-1&&(D=p*D,G=g*G);var H=E.minX,X=E.maxX,rt=E.minY,ht=E.maxY;h>0?X<-D?h=0:X-h<-D&&(h=X+D):h<0&&(H>p+D?h=0:H-h>p+D&&(h=H-(p+D))),v>0?ht<-G?v=0:ht-v<-G&&(v=ht+G):v<0&&(rt>g+G?v=0:rt-v>g+G&&(v=rt-(g+G))),this.get("direction")==="x"?v=0:this.get("direction")==="y"&&(h=0),n.translate(-h,-v)}e.preventDefault();var mt=this.get("enableOptimize");if(mt){var Dt=this.get("optimizeZoom"),kt=this.get("optimized"),Vt=n.getNodes(),te=n.getEdges(),le=Vt.length,pe=te.length;if(!kt){for(var De=0;De<le;De++){var Xe=Vt[De];if(!Xe.destroyed)for(var pr=Xe.get("group").get("children"),yr=pr.length,Vr=0;Vr<yr;Vr++){var nr=pr[Vr];!nr.destoryed&&!nr.get("isKeyShape")&&(nr.set("ori-visibility",nr.get("ori-visibility")||nr.get("visible")),nr.hide())}}for(var Gr=0;Gr<pe;Gr++)for(var en=te[Gr],pr=en.get("group").get("children"),yr=pr.length,Vr=0;Vr<yr;Vr++){var nr=pr[Vr];nr.set("ori-visibility",nr.get("ori-visibility")||nr.get("visible")),nr.hide()}this.set("optimized",!0)}clearTimeout(this.get("timeout"));var cr=setTimeout(function(){var Fr=n.getZoom(),qr=t.get("optimized");if(qr){t.set("optimized",!1);for(var _r=0;_r<le;_r++){var kr=Vt[_r],Yr=kr.get("group").get("children"),mn=Yr.length;if(Fr<Dt){var Er=kr.getKeyShape(),oi=Er.get("ori-visibility");oi&&Er.show()}else for(var mr=0;mr<mn;mr++){var ki=Yr[mr],oi=ki.get("ori-visibility");!ki.get("visible")&&oi&&oi&&ki.show()}}for(var Xn=0;Xn<pe;Xn++){var qn=te[Xn],Yr=qn.get("group").get("children"),mn=Yr.length;if(Fr<Dt){var Er=qn.getKeyShape(),oi=Er.get("ori-visibility");oi&&Er.show()}else for(var mr=0;mr<mn;mr++){var ki=Yr[mr];if(!ki.get("visible")){var oi=ki.get("ori-visibility");oi&&ki.show()}}}}},100);this.set("timeout",cr)}}},eit={"drag-canvas":_nt,"zoom-canvas":Pnt,"drag-node":Ant,"activate-relations":Cnt,"brush-select":Mnt,"click-select":Ont,"lasso-select":Ynt,tooltip:Lnt,"edge-tooltip":Rnt,"collapse-expand":Nnt,"drag-combo":Gnt,"collapse-expand-combo":Unt,"create-edge":Knt,"shortcuts-call":Jnt,"scroll-canvas":tit};(0,w.each)(eit,function(a,e){oR(e,a)});var rit=(0,Z.__assign)((0,Z.__assign)({},z),btt),Qct=tf.Grid,Jct=tf.Minimap,qct=tf.Bundling,tft=tf.Menu,nit=tf.Fisheye,eft=tf.ToolBar,rft=tf.Tooltip,iit=tf.TimeBar,ait=tf.ImageMinimap,oit=tf.EdgeFilterLens,sit=tf.SnapLine,nft=tf.Legend,iF={version:my.version,Graph:xR,TreeGraph:fet,Util:Eg,Layout:Bo.Layouts,TreeLayout:Xtt,registerLayout:$tt,Global:my,registerBehavior:oR,registerCombo:xtt,registerEdge:aR,registerNode:bg,Minimap:tf.Minimap,Grid:tf.Grid,Bundling:tf.Bundling,Menu:tf.Menu,ToolBar:tf.ToolBar,Tooltip:tf.Tooltip,Legend:tf.Legend,TimeBar:iit,SnapLine:sit,Fisheye:nit,ImageMinimap:ait,EdgeFilterLens:oit,Algorithm:rit,Arrow:eR,Marker:rR,Shape:d0};iF.version="4.6.4";var Jf=iF,ift="4.6.4",qf=function(){return qf=Object.assign||function(a){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(a[o]=e[o])}return a},qf.apply(this,arguments)};Jf.registerNode("card-node",{draw:function(a,e){var t=a&&a.color?a.color:"#5B8FF9",n=a&&a.size?a.size:[100,30];typeof n=="number"&&(n=[n,n]);var o=a&&a.style?a.style:{};o=qf({radius:2,fill:"#fff"},o),t=o.stroke||"#5B8FF9";var u=o.radius||0,l=e.addShape("rect",{attrs:qf({x:0,y:0,width:n[0],height:n[1],stroke:t},o),name:"main-box",draggable:!0}),c=(a==null?void 0:a.title)||(a==null?void 0:a.label),f,h=a&&a.labelCfg&&a.labelCfg.style?a.labelCfg.style:{};if(c){var v=qf({fill:"#fff"},h);f=e.addShape("text",{attrs:qf(qf({textBaseline:"top",x:8,y:2,text:c},v),{fill:"#fff"}),name:"title"})}var p=f?f.getBBox():{height:n[1]/2},g=e.addShape("rect",{attrs:{x:0,y:0,width:n[0],height:p.height+4,fill:t,radius:[u,u,0,0]},name:"title-rect",draggable:!0});f==null||f.toFront();var E;a!=null&&a.children&&(E=e.addShape("marker",{attrs:{x:n[0]/2,y:0,r:6,cursor:"pointer",symbol:a.collapsed?Jf.Marker.expand:Jf.Marker.collapse,stroke:t,lineWidth:1,fill:"#fff"},name:"collapse-icon"}));var D=a&&a.description?a.description:void 0,G=g.getBBox(),H;if(D&&(H=e.addShape("text",{attrs:qf({textBaseline:"top",x:8,y:G.height+8,text:D},h),name:"description"})),H){var X=H.getBBox(),rt=G.height+16+X.height,ht=n[0]>X.width+16?n[0]:X.width+16;l.attr({width:ht,height:rt}),g==null||g.attr("width",ht),E==null||E.attr({x:ht,y:rt/2})}return l},update:void 0},"single-node"),Jf.registerNode("round-rect",{drawShape:function(a,e){var t=a&&a.color?a.color:"#5B8FF9",n=a&&a.size?a.size:[100,30];typeof n=="number"&&(n=[n,n]);var o=a&&a.style?a.style:{};o.stroke&&(t=o.stroke);var u=o&&o.fill?o.fill:"#fff";o=qf({width:n[0],height:n[1],radius:n[1]/2,fill:u,lineWidth:1.2,stroke:t},o);var l=e.addShape("rect",{attrs:qf({x:-n[0]/2,y:-n[1]/2},o),name:"rect-shape"});return e.addShape("circle",{attrs:{x:-n[0]/2,y:0,r:3,fill:o.stroke},name:"circle-shape"}),e.addShape("circle",{attrs:{x:n[0]/2,y:0,r:3,fill:o.stroke},name:"circle-shape2"}),l},getAnchorPoints:function(){return[[0,.5],[1,.5]]},update:function(e,t){var n=t.getContainer(),o=n.get("children"),u=o[0],l=o[1],c=o[2],f=e.style&&e.style.stroke?e.style.stroke:"#5B8FF9";f&&(u.attr("stroke",f),l.attr("fill",f),c.attr("fill",f))}},"single-node");var uit=function(a){Jf.registerNode("icon-node",{options:{size:[60,20],stroke:"#91d5ff",fill:"#91d5ff"},draw:function(e,t){var n=this.getShapeStyle(e),o=(e||{}).labelCfg,u=o===void 0?{}:o,l=t.addShape("rect",{attrs:qf(qf({},n),{x:0,y:0})}),c={fill:"#e6fffb"},f="https://g.alicdn.com/cm-design/arms-trace/1.0.155/styles/armsTrace/images/TAIR.png";return e!=null&&e.leftIcon&&(c=qf(qf({},c),e.leftIcon.style),f=e.leftIcon.img),t.addShape("rect",{attrs:qf({x:1,y:1,width:38,height:n.height-2},c)}),t.addShape("image",{attrs:{x:8,y:8,width:24,height:24,img:f},name:"image-shape"}),a.enableEdit&&(t.addShape("marker",{attrs:{x:n.width/3,y:n.height+6,r:6,stroke:"#73d13d",cursor:"pointer",symbol:Jf.Marker.expand},name:"add-item"}),t.addShape("marker",{attrs:{x:n.width*2/3,y:n.height+6,r:6,stroke:"#ff4d4f",cursor:"pointer",symbol:Jf.Marker.collapse},name:"remove-item"})),e!=null&&e.label&&t.addShape("text",{attrs:qf(qf({},u.style),{text:e.label,x:n.width/2,y:n.height/1.5})}),l}},"rect")};Jf.registerEdge("fund-polyline",{draw:function(e,t){var n=e==null?void 0:e.startPoint,o=e==null?void 0:e.endPoint,u=o.y-n.y,l=u!==0?Math.min(500/Math.abs(u),20):0,c=l>15?0:16,f=u<0?c:-c,h={x:n.x+l,y:o.y+f},v={x:h.x+c,y:o.y},p={x:(h.x-n.x)*(o.y-n.y)/(h.y-n.y)+n.x,y:o.y},g=[["M",n.x,n.y],["L",h.x,h.y],["Q",p.x,p.y,v.x,v.y],["L",o.x,o.y]];Math.abs(u)<=5&&(g=[["M",n.x,n.y],["L",o.x,o.y]]);var E=(e||{}).style,D=E.stroke||(e==null?void 0:e.colorMap)&&e.colorMap[e.dataType]?(e==null?void 0:e.colorMap)[e==null?void 0:e.dataType]:"#5B8FF9",G=(e==null?void 0:e.style)&&e.style.endArrow?e.style.endArrow:!1;(0,w.isObject)(G)&&(G.fill=D);var H=t.addShape("path",{attrs:{path:g,stroke:D,lineWidth:E.lineWidth||1.2,endArrow:G},name:"path-shape"}),X=0,rt=8,ht,mt=v.x+X;if(e!=null&&e.label&&(ht=t.addShape("text",{attrs:{text:e.label,x:mt,y:o.y-rt-2,fontSize:14,textAlign:"left",textBaseline:"middle",fill:"#000"},name:"text-shape-label"})),e!=null&&e.dataType){var Dt=ht?ht.getBBox():{height:0};t.addShape("text",{attrs:{text:e.dataType,x:mt,y:o.y-rt-Dt.height-2,fontSize:10,textAlign:"left",textBaseline:"middle",fill:"#000"},name:"text-shape-type"})}return e!=null&&e.subLabel&&t.addShape("text",{attrs:{text:e.subLabel,x:mt,y:o.y+rt+4,fontSize:12,fontWeight:300,textAlign:"left",textBaseline:"middle",fill:"#000"},name:"text-shape-sub-label"}),H},update:void 0},"single-edge"),Jf.registerEdge("flow-line",{draw:function(a,e){var t=a==null?void 0:a.startPoint,n=a==null?void 0:a.endPoint,o=(a||{}).style,u=o===void 0?{}:o,l=e.addShape("path",{attrs:{stroke:u.stroke,endArrow:u.endArrow,path:[["M",t.x,t.y],["L",t.x,(t.y+n.y)/2],["L",n.x,(t.y+n.y)/2],["L",n.x,n.y]]}});return l}});var oC=function(){return oC=Object.assign||function(a){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(a[o]=e[o])}return a},oC.apply(this,arguments)},lit={show:!1,size:[150,100],type:"keyShape"},wb=function(a,e,t){var n,o;return t&&t.current&&(n=t.current.offsetWidth,o=t.current.offsetHeight||500),!a&&!n||!e&&!o?(console.warn("\u8BF7\u4E3A Graph \u6307\u5B9A width \u4E0E height\uFF01\u5426\u5219\u5C06\u4F7F\u7528\u9ED8\u8BA4\u503C 500 * 500"),[500,500]):[a||n||500,e||o||500]},_b=function(a,e){if(!(!e||e.destroyed)){if(a&&a.show){var t=Object.assign(lit,a),n=new Jf.Minimap(oC({},t));return e.addPlugin(n),n}return null}};function r2(a,e,t){var n=(0,_e.useRef)(),o=e.data,u=e.nodeStyle,l=e.nodeAnchorPoints,c=e.nodeType,f=e.edgeType,h=e.edgeStyle,v=e.width,p=e.height,g=e.layout,E=e.minimapCfg,D=e.behaviors,G=e.nodeLabelCfg,H=e.edgeLabelCfg,X;return(0,_e.useEffect)(function(){a&&!a.destroyed&&a.changeData(o)},[o]),(0,_e.useEffect)(function(){a&&!a.destroyed&&a.getNodes().forEach(function(rt){a.updateItem(rt,{type:c,style:u,anchorPoints:l,labelCfg:G})})},[u,l,c]),(0,_e.useEffect)(function(){a&&!a.destroyed&&a.getEdges().forEach(function(rt){a.updateItem(rt,{type:f,style:h,labelCfg:H})})},[h,f]),(0,_e.useEffect)(function(){if(a&&!a.destroyed){var rt=wb(v,p,t);a.changeSize(rt[0],rt[1])}},[t,v,p]),(0,_e.useEffect)(function(){a&&!a.destroyed&&a.updateLayout(g)},[g]),(0,_e.useEffect)(function(){if(!(!E||!a||a.destroyed))if(E.show)X=_b(E,a),X==null||X.updateCanvas();else{var rt=a.get("plugins")[0];rt&&a.removePlugin(rt)}},[E]),(0,_e.useEffect)(function(){if(a&&!a.destroyed){var rt=a.get("modes").default,ht=[];rt.forEach(function(mt){(0,w.isObject)(mt)?ht.push(mt.type):(0,w.isString)(mt)&&ht.push(mt)}),a.removeBehaviors(ht,"default"),a.addBehaviors(D,"default")}},[D]),(0,_e.useEffect)(function(){return n.current=a,function(){a&&!a.destroyed&&(a.destroy(),a=void 0)}},[]),{graphHook:n}}var aF={hover:{stroke:"#1890ff",lineWidth:2}},cit={fill:"#91d5ff",stroke:"#40a9ff",radius:5},fit={stroke:"#91d5ff",endArrow:{path:"M 0,0 L 12, 6 L 9,0 L 12, -6 Z",fill:"#91d5ff",d:-20}},hit={type:"compactBox",direction:"TB",getId:function(e){return e.id},getHeight:function(){return 16},getWidth:function(){return 16},getVGap:function(){return 40},getHGap:function(){return 70}},oF={style:{fill:"#000",fontSize:12}},n1={},dit=function(a){var e=a.data,t=a.className,n=a.style,o=a.width,u=a.height,l=a.nodeType,c=l===void 0?"rect":l,f=a.edgeType,h=f===void 0?"flow-line":f,v=a.collapseExpand,p=v===void 0?!1:v,g=a.nodeSize,E=g===void 0?[120,40]:g,D=a.nodeLabelCfg,G=D===void 0?oF:D,H=a.edgeLabelCfg,X=H===void 0?oF:H,rt=a.layout,ht=rt===void 0?hit:rt,mt=a.enableEdit,Dt=mt===void 0?!1:mt,kt=a.minimapCfg,Vt=a.nodeStyle,te=Vt===void 0?cit:Vt,le=a.edgeStyle,pe=le===void 0?fit:le,De=a.nodeStateStyles,Xe=De===void 0?aF:De,pr=a.edgeStateStyles,yr=pr===void 0?aF:pr,Vr=a.handleNodeClick,nr=a.handleEdgeClick,Gr=a.handleNodeHover,en=a.handleNodeUnHover,cr=a.handleEdgeHover,Fr=a.handleEdgeUnHover,qr=a.handleCanvasClick,_r=a.graphRef,kr=a.graphId,Yr=kr===void 0?"defaultOrganizationTreeGraph":kr,mn={data:e,className:t,style:n,width:o,height:u,nodeType:c,edgeType:h,collapseExpand:p,nodeSize:E,nodeLabelCfg:G,edgeLabelCfg:X,layout:ht,enableEdit:Dt,minimapCfg:kt,nodeStyle:te,edgeStyle:pe,nodeStateStyles:Xe,edgeStateStyles:yr,handleNodeClick:Vr,handleEdgeClick:nr,handleNodeHover:Gr,handleNodeUnHover:en,handleEdgeHover:cr,handleEdgeUnHover:Fr,handleCanvasClick:qr,graphRef:_r,graphId:Yr},Er=_e.useRef(null);return r2(n1[Yr],mn,Er),(0,_e.useEffect)(function(){var oi=wb(o,u,Er);c==="icon-node"&&uit({enableEdit:Dt});var mr=n1[Yr];mr||(mr=new Jf.TreeGraph({container:Er.current,width:oi[0],height:oi[1],linkCenter:!0,modes:{default:["drag-canvas","zoom-canvas"]},defaultNode:{type:c,size:E,style:te,labelCfg:G},defaultEdge:{type:h,style:pe,labelCfg:X},nodeStateStyles:Xe,edgeStateStyles:yr,layout:ht}),n1[Yr]=mr),_r&&(_r.current=mr),_b(kt,mr);var ki=Zm(e);return mr.data(ki),mr.render(),mr.fitView(),p&&mr.addBehaviors({type:"collapse-expand"},"default"),mr.on("node:mouseenter",function(Xn){var qn=Xn.item;mr.setItemState(qn,"hover",!0),Gr&&Gr(qn,mr)}),mr.on("node:mouseleave",function(Xn){var qn=Xn.item;mr.setItemState(qn,"hover",!1),en&&en(qn,mr)}),mr.on("node:click",function(Xn){var qn=Xn.item,ai=Xn.target,va=ai.get("type"),Ii=ai.get("name");if(va==="marker"){var Ni=qn.getModel();if(Ii==="add-item"){Ni.children||(Ni.children=[]);var Sa=Math.random().toString(36).slice(-8);Ni.children.push({id:Sa,label:Sa}),mr.updateChild(Ni,Ni.id)}else Ii==="remove-item"&&mr.removeChild(Ni.id)}Vr&&Vr(qn,mr)}),mr.on("edge:mouseenter",function(Xn){var qn=Xn.item;mr.setItemState(qn,"hover",!0),cr&&cr(qn,mr)}),mr.on("edge:mouseleave",function(Xn){var qn=Xn.item;mr.setItemState(qn,"hover",!1),Fr&&Fr(qn,mr)}),mr.on("edge:click",function(Xn){var qn=Xn.item;nr&&nr(qn,mr)}),mr.on("canvas:click",function(){qr==null||qr(mr)}),function(){n1[Yr]&&(n1[Yr].destroy(),delete n1[Yr])}},[]),_e.createElement(Yo,null,_e.createElement("div",{className:t,style:n,ref:Er}))},vit=dit,sF={hover:{stroke:"#1890ff",lineWidth:2}},pit=[120,40],git={stroke:"#40a9ff"},yit=[[.5,0],[.5,1]],mit={stroke:"#91d5ff",endArrow:{path:Jf.Arrow.vee(10,10)}},xit={type:"dagre",rankdir:"TB",nodesepFunc:function(){return 0},ranksepFunc:function(){return 0},controlPoints:!0},uF={style:{fill:"#000",fontSize:12}},i1={},bit=function(a){var e=a.data,t=a.className,n=a.style,o=a.width,u=a.height,l=a.nodeType,c=l===void 0?"modelRect":l,f=a.edgeType,h=f===void 0?"polyline":f,v=a.behaviors,p=v===void 0?["zoom-canvas","drag-canvas"]:v,g=a.nodeSize,E=g===void 0?pit:g,D=a.nodeLabelCfg,G=D===void 0?uF:D,H=a.edgeLabelCfg,X=H===void 0?uF:H,rt=a.nodeAnchorPoints,ht=rt===void 0?yit:rt,mt=a.layout,Dt=mt===void 0?xit:mt,kt=a.minimapCfg,Vt=a.nodeStyle,te=Vt===void 0?git:Vt,le=a.edgeStyle,pe=le===void 0?mit:le,De=a.nodeStateStyles,Xe=De===void 0?sF:De,pr=a.edgeStateStyles,yr=pr===void 0?sF:pr,Vr=a.handleEdgeClick,nr=a.handleEdgeHover,Gr=a.handleEdgeUnHover,en=a.handleNodeClick,cr=a.handleNodeHover,Fr=a.handleNodeUnHover,qr=a.handleCanvasClick,_r=a.graphRef,kr=a.graphId,Yr=kr===void 0?"defaultDagreGraph":kr,mn={data:e,className:t,style:n,width:o,height:u,nodeType:c,edgeType:h,behaviors:p,nodeSize:E,nodeLabelCfg:G,edgeLabelCfg:X,nodeAnchorPoints:ht,layout:Dt,minimapCfg:kt,nodeStyle:te,edgeStyle:pe,nodeStateStyles:Xe,edgeStateStyles:yr,handleEdgeClick:Vr,handleEdgeHover:nr,handleEdgeUnHover:Gr,handleNodeClick:en,handleNodeHover:cr,handleNodeUnHover:Fr,handleCanvasClick:qr,graphRef:_r,graphId:Yr},Er=_e.useRef(null);return r2(i1[Yr],mn,Er),(0,_e.useEffect)(function(){var oi=wb(o,u,Er),mr=i1[Yr];mr||(mr=new Jf.Graph({container:Er.current,width:oi[0],height:oi[1],modes:{default:p},defaultNode:{type:c,size:E,style:te,anchorPoints:ht,labelCfg:G},defaultEdge:{type:h,style:pe,labelCfg:X},nodeStateStyles:Xe,edgeStateStyles:yr,layout:Dt,fitView:!0}),i1[Yr]=mr),_r&&(_r.current=mr),_b(kt,mr);var ki=Zm(e);return mr.data(ki),mr.render(),mr.fitView(),mr.on("edge:mouseenter",function(Xn){var qn=Xn.item;mr.setItemState(qn,"hover",!0),nr&&nr(qn,mr)}),mr.on("node:mouseenter",function(Xn){var qn=Xn.item;mr.setItemState(qn,"hover",!0),cr&&cr(qn,mr)}),mr.on("edge:mouseleave",function(Xn){var qn=Xn.item;mr.setItemState(qn,"hover",!1),Gr&&Gr(qn,mr)}),mr.on("node:mouseleave",function(Xn){var qn=Xn.item;mr.setItemState(qn,"hover",!1),Fr&&Fr(qn,mr)}),mr.on("edge:click",function(Xn){var qn=Xn.item;Vr&&Vr(qn,mr)}),mr.on("node:click",function(Xn){var qn=Xn.item;en&&en(qn,mr)}),mr.on("canvas:click",function(){qr&&qr(mr)}),function(){i1[Yr]&&(i1[Yr].destroy(),delete i1[Yr])}},[]),_e.createElement(Yo,null,_e.createElement("div",{className:t,style:n,ref:Er}))},Eit=bit,lF={hover:{stroke:"#1890ff",lineWidth:2}},Sit=[150,30],wit={stroke:"#72CC4A",fill:"#f00"},_it=[[.5,0],[.5,1]],Ait={stroke:"#91d5ff",endArrow:{path:Jf.Arrow.vee(10,10)}},Cit={type:"dagre",rankdir:"LR",nodesep:30,ranksep:50},cF={style:{fill:"#000000A6",fontSize:10}},a1={},Tit=function(a){var e=a.data,t=a.className,n=a.style,o=a.width,u=a.height,l=a.nodeType,c=l===void 0?"round-rect":l,f=a.edgeType,h=f===void 0?"fund-polyline":f,v=a.behaviors,p=v===void 0?["zoom-canvas","drag-canvas"]:v,g=a.nodeSize,E=g===void 0?Sit:g,D=a.nodeLabelCfg,G=D===void 0?cF:D,H=a.edgeLabelCfg,X=H===void 0?cF:H,rt=a.nodeAnchorPoints,ht=rt===void 0?_it:rt,mt=a.layout,Dt=mt===void 0?Cit:mt,kt=a.minimapCfg,Vt=a.nodeStyle,te=Vt===void 0?wit:Vt,le=a.edgeStyle,pe=le===void 0?Ait:le,De=a.nodeStateStyles,Xe=De===void 0?lF:De,pr=a.edgeStateStyles,yr=pr===void 0?lF:pr,Vr=a.colorMap,nr=Vr===void 0?{}:Vr,Gr=a.handleEdgeClick,en=a.handleEdgeHover,cr=a.handleEdgeUnHover,Fr=a.handleNodeClick,qr=a.handleNodeHover,_r=a.handleNodeUnHover,kr=a.handleCanvasClick,Yr=a.graphRef,mn=a.graphId,Er=mn===void 0?"defaultDagreFundFlowGraph":mn,oi=_e.useRef(null),mr={data:e,className:t,style:n,width:o,height:u,nodeType:c,edgeType:h,behaviors:p,nodeSize:E,nodeLabelCfg:G,edgeLabelCfg:X,nodeAnchorPoints:ht,layout:Dt,minimapCfg:kt,nodeStyle:te,edgeStyle:pe,nodeStateStyles:Xe,edgeStateStyles:yr,colorMap:nr,handleEdgeClick:Gr,handleEdgeHover:en,handleEdgeUnHover:cr,handleNodeClick:Fr,handleNodeHover:qr,handleNodeUnHover:_r,handleCanvasClick:kr,graphRef:Yr,graphId:Er};return r2(a1[Er],mr,oi),(0,_e.useEffect)(function(){var ki=wb(o,u,oi),Xn=a1[Er];Xn||(Xn=new Jf.Graph({container:oi.current,width:ki[0],height:ki[1],modes:{default:p},defaultNode:{type:c,size:E,style:te,anchorPoints:ht,labelCfg:G},defaultEdge:{type:h,style:pe,colorMap:nr,labelCfg:X},nodeStateStyles:Xe,edgeStateStyles:yr,layout:Dt,fitView:!0}),a1[Er]=Xn),Yr&&(Yr.current=Xn),_b(kt,Xn);var qn=Zm(e);Xn.data(qn),Xn.render();var ai=Xn.getEdges();return ai.forEach(function(va){var Ii=va.getKeyShape(),Ni=Ii.attr("stroke"),Sa=va.getTarget();Sa.update({style:{stroke:Ni}})}),Xn.fitView(),Xn.on("edge:mouseenter",function(va){var Ii=va.item;Xn.setItemState(Ii,"hover",!0),en&&en(Ii,Xn)}),Xn.on("edge:mouseleave",function(va){var Ii=va.item;Xn.setItemState(Ii,"hover",!1),cr&&cr(Ii,Xn)}),Xn.on("edge:click",function(va){var Ii=va.item;Gr&&Gr(Ii,Xn)}),Xn.on("node:mouseenter",function(va){var Ii=va.item;Xn.setItemState(Ii,"hover",!1),qr&&qr(Ii,Xn)}),Xn.on("node:mouseleave",function(va){var Ii=va.item;Xn.setItemState(Ii,"hover",!1),_r&&_r(Ii,Xn)}),Xn.on("node:click",function(va){var Ii=va.item;Fr&&Fr(Ii,Xn)}),Xn.on("canvas:click",function(){kr==null||kr(Xn)}),function(){a1[Er]&&(a1[Er].destroy(),delete a1[Er])}},[]),_e.createElement(Yo,null,_e.createElement("div",{className:t,style:n,ref:oi}))},Mit=Tit,fF={hover:{stroke:"#1890ff",lineWidth:2}},Iit=[120,40],Oit={stroke:"#40a9ff"},Dit=[[0,.5],[1,.5]],Pit={stroke:"#ccc",endArrow:{path:Jf.Arrow.vee(10,10),fill:"#ccc"}},Lit={type:"indented",direction:"LR",dropCap:!1,indent:250,getHeight:function(){return 60},getWidth:function(){return 100}},Rit={style:{fill:"#000",fontSize:12}},o1={},Fit=function(a){var e=a.data,t=a.className,n=a.style,o=a.width,u=a.height,l=a.nodeType,c=l===void 0?"card-node":l,f=a.edgeType,h=f===void 0?"cubic-horizontal":f,v=a.behaviors,p=v===void 0?["zoom-canvas","drag-canvas"]:v,g=a.nodeSize,E=g===void 0?Iit:g,D=a.nodeLabelCfg,G=D===void 0?Rit:D,H=a.nodeAnchorPoints,X=H===void 0?Dit:H,rt=a.layout,ht=rt===void 0?Lit:rt,mt=a.minimapCfg,Dt=a.nodeStyle,kt=Dt===void 0?Oit:Dt,Vt=a.edgeStyle,te=Vt===void 0?Pit:Vt,le=a.nodeStateStyles,pe=le===void 0?fF:le,De=a.edgeStateStyles,Xe=De===void 0?fF:De,pr=a.collapseExpand,yr=pr===void 0?!0:pr,Vr=a.handleEdgeClick,nr=a.handleEdgeHover,Gr=a.handleEdgeUnHover,en=a.handleNodeClick,cr=a.handleNodeHover,Fr=a.handleNodeUnHover,qr=a.handleCanvasClick,_r=a.graphRef,kr=a.graphId,Yr=kr===void 0?"defaultIndentedTreeGraph":kr,mn=_e.useRef(null),Er={data:e,className:t,style:n,width:o,height:u,nodeType:c,edgeType:h,behaviors:p,nodeSize:E,nodeLabelCfg:G,nodeAnchorPoints:X,layout:ht,minimapCfg:mt,nodeStyle:kt,edgeStyle:te,nodeStateStyles:pe,edgeStateStyles:Xe,collapseExpand:yr,handleEdgeClick:Vr,handleEdgeHover:nr,handleEdgeUnHover:Gr,handleNodeClick:en,handleNodeHover:cr,handleNodeUnHover:Fr,handleCanvasClick:qr,graphRef:_r,graphId:Yr};return r2(o1[Yr],Er,mn),(0,_e.useEffect)(function(){var oi=wb(o,u,mn),mr=o1[Yr];mr||(mr=new Jf.TreeGraph({container:mn.current,width:oi[0],height:oi[1],modes:{default:p},defaultNode:{type:c,size:E,style:kt,anchorPoints:X,labelCfg:G},defaultEdge:{type:h,style:te},nodeStateStyles:pe,edgeStateStyles:Xe,layout:ht}),o1[Yr]=mr),_r&&(_r.current=mr),_b(mt,mr);var ki=Zm(e);if(mr.data(ki),mr.render(),mr.fitView(),yr){var Xn=function(qn){var ai=qn.item;qn.target.get("name")==="collapse-icon"?(mr.updateItem(ai,{collapsed:!ai.getModel().collapsed}),mr.layout()):en&&en(ai,mr)};mr.on("node:click",function(qn){Xn(qn)}),mr.on("node:touchstart",function(qn){Xn(qn)})}return mr.on("edge:mouseenter",function(qn){var ai=qn.item;mr.setItemState(ai,"hover",!0),nr&&nr(ai,mr)}),mr.on("edge:mouseleave",function(qn){var ai=qn.item;mr.setItemState(ai,"hover",!1),Gr&&Gr(ai,mr)}),mr.on("edge:click",function(qn){var ai=qn.item;Vr&&Vr(ai,mr)}),mr.on("edge:touchstart",function(qn){var ai=qn.item;Vr&&Vr(ai,mr)}),mr.on("node:mouseenter",function(qn){var ai=qn.item;mr.setItemState(ai,"hover",!1),cr&&cr(ai,mr)}),mr.on("node:mouseleave",function(qn){var ai=qn.item;mr.setItemState(ai,"hover",!1),Fr&&Fr(ai,mr)}),mr.on("canvas:click",function(){qr==null||qr(mr)}),mr.on("canvas:touchstart",function(){qr==null||qr(mr)}),function(){o1[Yr]&&(o1[Yr].destroy(),delete o1[Yr])}},[]),_e.createElement(Yo,null,_e.createElement("div",{className:t,style:n,ref:mn}))},Nit=Fit,aft={Area:c3,Bar:f3,Box:ZZ,Bullet:kZ,Column:h3,Funnel:jZ,Histogram:HZ,Line:d3,Liquid:qZ,Heatmap:rQ,Pie:aQ,Progress:fQ,Radar:vQ,RingProgress:yQ,Rose:bQ,Chord:wQ,Scatter:CQ,TinyArea:IQ,TinyColumn:PQ,TinyLine:kQ,Waterfall:zQ,WordCloud:WQ,Sunburst:YQ,DualAxes:v3,Stock:KQ,RadialBar:JQ,Gauge:uQ,Sankey:eJ,Treemap:iJ,MultiView:sJ,BidirectionalBar:cJ,OrganizationTreeGraph:vit,DagreGraph:Eit,IndentedTree:Nit,DagreFundFlowGraph:Mit,G2:k,flow:oa,measureTextWidth:mU,adaptors:yZ},kit=je(94184),Cf=je.n(kit),Bit=je(64707);const{__extends:hs,__assign:oft,__rest:sft,__decorate:uft,__param:lft,__metadata:cft,__awaiter:fft,__generator:hft,__exportStar:dft,__createBinding:vft,__values:pft,__read:gft,__spread:yft,__spreadArrays:mft,__await:xft,__asyncGenerator:bft,__asyncDelegator:Eft,__asyncValues:Sft,__makeTemplateObject:wft,__importStar:_ft,__importDefault:Aft,__classPrivateFieldGet:Cft,__classPrivateFieldSet:Tft}=Bit;function Ab(a){return typeof a=="function"}var sC=!1,mp={Promise:void 0,set useDeprecatedSynchronousErrorHandling(a){if(a){var e=new Error;""+e.stack}sC=a},get useDeprecatedSynchronousErrorHandling(){return sC}};function s1(a){setTimeout(function(){throw a},0)}var n2={closed:!0,next:function(a){},error:function(a){if(mp.useDeprecatedSynchronousErrorHandling)throw a;s1(a)},complete:function(){}},uC=function(){return Array.isArray||function(a){return a&&typeof a.length=="number"}}();function hF(a){return a!==null&&typeof a=="object"}var Git=function(){function a(e){return Error.call(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(t,n){return n+1+") "+t.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e,this}return a.prototype=Object.create(Error.prototype),a}(),i2=Git,_v=function(){function a(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return a.prototype.unsubscribe=function(){var e;if(!this.closed){var t=this,n=t._parentOrParents,o=t._ctorUnsubscribe,u=t._unsubscribe,l=t._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof a)n.remove(this);else if(n!==null)for(var c=0;c<n.length;++c){var f=n[c];f.remove(this)}if(Ab(u)){o&&(this._unsubscribe=void 0);try{u.call(this)}catch(p){e=p instanceof i2?dF(p.errors):[p]}}if(uC(l))for(var c=-1,h=l.length;++c<h;){var v=l[c];if(hF(v))try{v.unsubscribe()}catch(g){e=e||[],g instanceof i2?e=e.concat(dF(g.errors)):e.push(g)}}if(e)throw new i2(e)}},a.prototype.add=function(e){var t=e;if(!e)return a.EMPTY;switch(typeof e){case"function":t=new a(e);case"object":if(t===this||t.closed||typeof t.unsubscribe!="function")return t;if(this.closed)return t.unsubscribe(),t;if(!(t instanceof a)){var n=t;t=new a,t._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var o=t._parentOrParents;if(o===null)t._parentOrParents=this;else if(o instanceof a){if(o===this)return t;t._parentOrParents=[o,this]}else if(o.indexOf(this)===-1)o.push(this);else return t;var u=this._subscriptions;return u===null?this._subscriptions=[t]:u.push(t),t},a.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);n!==-1&&t.splice(n,1)}},a.EMPTY=function(e){return e.closed=!0,e}(new a),a}();function dF(a){return a.reduce(function(e,t){return e.concat(t instanceof i2?t.errors:t)},[])}var a2=function(){return typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),Mft=null,Hl=function(a){hs(e,a);function e(t,n,o){var u=a.call(this)||this;switch(u.syncErrorValue=null,u.syncErrorThrown=!1,u.syncErrorThrowable=!1,u.isStopped=!1,arguments.length){case 0:u.destination=n2;break;case 1:if(!t){u.destination=n2;break}if(typeof t=="object"){t instanceof e?(u.syncErrorThrowable=t.syncErrorThrowable,u.destination=t,t.add(u)):(u.syncErrorThrowable=!0,u.destination=new vF(u,t));break}default:u.syncErrorThrowable=!0,u.destination=new vF(u,t,n,o);break}return u}return e.prototype[a2]=function(){return this},e.create=function(t,n,o){var u=new e(t,n,o);return u.syncErrorThrowable=!1,u},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,a.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},e}(_v),vF=function(a){hs(e,a);function e(t,n,o,u){var l=a.call(this)||this;l._parentSubscriber=t;var c,f=l;return Ab(n)?c=n:n&&(c=n.next,o=n.error,u=n.complete,n!==n2&&(f=Object.create(n),Ab(f.unsubscribe)&&l.add(f.unsubscribe.bind(f)),f.unsubscribe=l.unsubscribe.bind(l))),l._context=f,l._next=c,l._error=o,l._complete=u,l}return e.prototype.next=function(t){if(!this.isStopped&&this._next){var n=this._parentSubscriber;!mp.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?this.__tryOrUnsub(this._next,t):this.__tryOrSetError(n,this._next,t)&&this.unsubscribe()}},e.prototype.error=function(t){if(!this.isStopped){var n=this._parentSubscriber,o=mp.useDeprecatedSynchronousErrorHandling;if(this._error)!o||!n.syncErrorThrowable?(this.__tryOrUnsub(this._error,t),this.unsubscribe()):(this.__tryOrSetError(n,this._error,t),this.unsubscribe());else if(n.syncErrorThrowable)o?(n.syncErrorValue=t,n.syncErrorThrown=!0):s1(t),this.unsubscribe();else{if(this.unsubscribe(),o)throw t;s1(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var n=this._parentSubscriber;if(this._complete){var o=function(){return t._complete.call(t._context)};!mp.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?(this.__tryOrUnsub(o),this.unsubscribe()):(this.__tryOrSetError(n,o),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,n){try{t.call(this._context,n)}catch(o){if(this.unsubscribe(),mp.useDeprecatedSynchronousErrorHandling)throw o;s1(o)}},e.prototype.__tryOrSetError=function(t,n,o){if(!mp.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{n.call(this._context,o)}catch(u){return mp.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=u,t.syncErrorThrown=!0,!0):(s1(u),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(Hl);function zit(a){for(;a;){var e=a,t=e.closed,n=e.destination,o=e.isStopped;if(t||o)return!1;n&&n instanceof Hl?a=n:a=null}return!0}function Uit(a,e,t){if(a){if(a instanceof Hl)return a;if(a[a2])return a[a2]()}return!a&&!e&&!t?new Hl(n2):new Hl(a,e,t)}var Cb=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function pF(a){return a}function Ift(){for(var a=[],e=0;e<arguments.length;e++)a[e]=arguments[e];return gF(a)}function gF(a){return a.length===0?pF:a.length===1?a[0]:function(t){return a.reduce(function(n,o){return o(n)},t)}}var ef=function(){function a(e){this._isScalar=!1,e&&(this._subscribe=e)}return a.prototype.lift=function(e){var t=new a;return t.source=this,t.operator=e,t},a.prototype.subscribe=function(e,t,n){var o=this.operator,u=Uit(e,t,n);if(o?u.add(o.call(u,this.source)):u.add(this.source||mp.useDeprecatedSynchronousErrorHandling&&!u.syncErrorThrowable?this._subscribe(u):this._trySubscribe(u)),mp.useDeprecatedSynchronousErrorHandling&&u.syncErrorThrowable&&(u.syncErrorThrowable=!1,u.syncErrorThrown))throw u.syncErrorValue;return u},a.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){mp.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),zit(e)?e.error(t):console.warn(t)}},a.prototype.forEach=function(e,t){var n=this;return t=yF(t),new t(function(o,u){var l;l=n.subscribe(function(c){try{e(c)}catch(f){u(f),l&&l.unsubscribe()}},u,o)})},a.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},a.prototype[Cb]=function(){return this},a.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length===0?this:gF(e)(this)},a.prototype.toPromise=function(e){var t=this;return e=yF(e),new e(function(n,o){var u;t.subscribe(function(l){return u=l},function(l){return o(l)},function(){return n(u)})})},a.create=function(e){return new a(e)},a}();function yF(a){if(a||(a=mp.Promise||Promise),!a)throw new Error("no Promise impl found");return a}var mF=function(a){return function(e){for(var t=0,n=a.length;t<n&&!e.closed;t++)e.next(a[t]);e.complete()}},jit=function(a){return function(e){return a.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,s1),e}};function Wit(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var o2=Wit(),Oft=null,Vit=function(a){return function(e){var t=a[o2]();do{var n=void 0;try{n=t.next()}catch(o){return e.error(o),e}if(n.done){e.complete();break}if(e.next(n.value),e.closed)break}while(!0);return typeof t.return=="function"&&e.add(function(){t.return&&t.return()}),e}},Hit=function(a){return function(e){var t=a[Cb]();if(typeof t.subscribe!="function")throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)}},xF=function(a){return a&&typeof a.length=="number"&&typeof a!="function"};function bF(a){return!!a&&typeof a.subscribe!="function"&&typeof a.then=="function"}var lC=function(a){if(!!a&&typeof a[Cb]=="function")return Hit(a);if(xF(a))return mF(a);if(bF(a))return jit(a);if(!!a&&typeof a[o2]=="function")return Vit(a);var e=hF(a)?"an invalid object":"'"+a+"'",t="You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(t)};function Yit(a,e){return new ef(function(t){var n=new _v;return n.add(e.schedule(function(){var o=a[Cb]();n.add(o.subscribe({next:function(u){n.add(e.schedule(function(){return t.next(u)}))},error:function(u){n.add(e.schedule(function(){return t.error(u)}))},complete:function(){n.add(e.schedule(function(){return t.complete()}))}}))})),n})}function Xit(a,e){return new ef(function(t){var n=new _v;return n.add(e.schedule(function(){return a.then(function(o){n.add(e.schedule(function(){t.next(o),n.add(e.schedule(function(){return t.complete()}))}))},function(o){n.add(e.schedule(function(){return t.error(o)}))})})),n})}function cC(a,e){return new ef(function(t){var n=new _v,o=0;return n.add(e.schedule(function(){if(o===a.length){t.complete();return}t.next(a[o++]),t.closed||n.add(this.schedule())})),n})}function $it(a,e){if(!a)throw new Error("Iterable cannot be null");return new ef(function(t){var n=new _v,o;return n.add(function(){o&&typeof o.return=="function"&&o.return()}),n.add(e.schedule(function(){o=a[o2](),n.add(e.schedule(function(){if(!t.closed){var u,l;try{var c=o.next();u=c.value,l=c.done}catch(f){t.error(f);return}l?t.complete():(t.next(u),this.schedule())}}))})),n})}function Kit(a){return a&&typeof a[Cb]=="function"}function Zit(a){return a&&typeof a[o2]=="function"}function Qit(a,e){if(a!=null){if(Kit(a))return Yit(a,e);if(bF(a))return Xit(a,e);if(xF(a))return cC(a,e);if(Zit(a)||typeof a=="string")return $it(a,e)}throw new TypeError((a!==null&&typeof a||a)+" is not observable")}function fC(a,e){return e?Qit(a,e):a instanceof ef?a:new ef(lC(a))}var Jit=new ef(function(a){return a.complete()});function EF(a){return a?qit(a):Jit}function qit(a){return new ef(function(e){return a.schedule(function(){return e.complete()})})}function tat(a){return new ef(function(e){var t;try{t=a()}catch(o){e.error(o);return}var n=t?fC(t):EF();return n.subscribe(e)})}function _g(a,e){return function(n){if(typeof a!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new eat(a,e))}}var eat=function(){function a(e,t){this.project=e,this.thisArg=t}return a.prototype.call=function(e,t){return t.subscribe(new rat(e,this.project,this.thisArg))},a}(),rat=function(a){hs(e,a);function e(t,n,o){var u=a.call(this,t)||this;return u.project=n,u.count=0,u.thisArg=o||u,u}return e.prototype._next=function(t){var n;try{n=this.project.call(this.thisArg,t,this.count++)}catch(o){this.destination.error(o);return}this.destination.next(n)},e}(Hl),Dft=null;function s2(a,e,t,n){return Ab(t)&&(n=t,t=void 0),n?s2(a,e,t).pipe(_g(function(o){return uC(o)?n.apply(void 0,o):n(o)})):new ef(function(o){function u(l){arguments.length>1?o.next(Array.prototype.slice.call(arguments)):o.next(l)}SF(a,e,u,o,t)})}function SF(a,e,t,n,o){var u;if(aat(a)){var l=a;a.addEventListener(e,t,o),u=function(){return l.removeEventListener(e,t,o)}}else if(iat(a)){var c=a;a.on(e,t),u=function(){return c.off(e,t)}}else if(nat(a)){var f=a;a.addListener(e,t),u=function(){return f.removeListener(e,t)}}else if(a&&a.length)for(var h=0,v=a.length;h<v;h++)SF(a[h],e,t,n,o);else throw new TypeError("Invalid event target");n.add(u)}function nat(a){return a&&typeof a.addListener=="function"&&typeof a.removeListener=="function"}function iat(a){return a&&typeof a.on=="function"&&typeof a.off=="function"}function aat(a){return a&&typeof a.addEventListener=="function"&&typeof a.removeEventListener=="function"}var oat=function(a){hs(e,a);function e(t,n){return a.call(this)||this}return e.prototype.schedule=function(t,n){return n===void 0&&(n=0),this},e}(_v),wF=function(a){hs(e,a);function e(t,n){var o=a.call(this,t,n)||this;return o.scheduler=t,o.work=n,o.pending=!1,o}return e.prototype.schedule=function(t,n){if(n===void 0&&(n=0),this.closed)return this;this.state=t;var o=this.id,u=this.scheduler;return o!=null&&(this.id=this.recycleAsyncId(u,o,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(u,this.id,n),this},e.prototype.requestAsyncId=function(t,n,o){return o===void 0&&(o=0),setInterval(t.flush.bind(t,this),o)},e.prototype.recycleAsyncId=function(t,n,o){if(o===void 0&&(o=0),o!==null&&this.delay===o&&this.pending===!1)return n;clearInterval(n)},e.prototype.execute=function(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var o=this._execute(t,n);if(o)return o;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,n){var o=!1,u=void 0;try{this.work(t)}catch(l){o=!0,u=!!l&&l||new Error(l)}if(o)return this.unsubscribe(),u},e.prototype._unsubscribe=function(){var t=this.id,n=this.scheduler,o=n.actions,u=o.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,u!==-1&&o.splice(u,1),t!=null&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null},e}(oat),_F=function(){function a(e,t){t===void 0&&(t=a.now),this.SchedulerAction=e,this.now=t}return a.prototype.schedule=function(e,t,n){return t===void 0&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},a.now=function(){return Date.now()},a}(),AF=function(a){hs(e,a);function e(t,n){n===void 0&&(n=_F.now);var o=a.call(this,t,function(){return e.delegate&&e.delegate!==o?e.delegate.now():n()})||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return e.prototype.schedule=function(t,n,o){return n===void 0&&(n=0),e.delegate&&e.delegate!==this?e.delegate.schedule(t,n,o):a.prototype.schedule.call(this,t,n,o)},e.prototype.flush=function(t){var n=this.actions;if(this.active){n.push(t);return}var o;this.active=!0;do if(o=t.execute(t.state,t.delay))break;while(t=n.shift());if(this.active=!1,o){for(;t=n.shift();)t.unsubscribe();throw o}},e}(_F),CF=new AF(wF),sat=CF,uat=function(){function a(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return a.prototype=Object.create(Error.prototype),a}(),by=uat,TF=function(a){hs(e,a);function e(t,n){var o=a.call(this)||this;return o.subject=t,o.subscriber=n,o.closed=!1,o}return e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,n=t.observers;if(this.subject=null,!(!n||n.length===0||t.isStopped||t.closed)){var o=n.indexOf(this.subscriber);o!==-1&&n.splice(o,1)}}},e}(_v),lat=function(a){hs(e,a);function e(t){var n=a.call(this,t)||this;return n.destination=t,n}return e}(Hl),hC=function(a){hs(e,a);function e(){var t=a.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return e.prototype[a2]=function(){return new lat(this)},e.prototype.lift=function(t){var n=new MF(this,this);return n.operator=t,n},e.prototype.next=function(t){if(this.closed)throw new by;if(!this.isStopped)for(var n=this.observers,o=n.length,u=n.slice(),l=0;l<o;l++)u[l].next(t)},e.prototype.error=function(t){if(this.closed)throw new by;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var n=this.observers,o=n.length,u=n.slice(),l=0;l<o;l++)u[l].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new by;this.isStopped=!0;for(var t=this.observers,n=t.length,o=t.slice(),u=0;u<n;u++)o[u].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(t){if(this.closed)throw new by;return a.prototype._trySubscribe.call(this,t)},e.prototype._subscribe=function(t){if(this.closed)throw new by;return this.hasError?(t.error(this.thrownError),_v.EMPTY):this.isStopped?(t.complete(),_v.EMPTY):(this.observers.push(t),new TF(this,t))},e.prototype.asObservable=function(){var t=new ef;return t.source=this,t},e.create=function(t,n){return new MF(t,n)},e}(ef),MF=function(a){hs(e,a);function e(t,n){var o=a.call(this)||this;return o.destination=t,o.source=n,o}return e.prototype.next=function(t){var n=this.destination;n&&n.next&&n.next(t)},e.prototype.error=function(t){var n=this.destination;n&&n.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){var n=this.source;return n?this.source.subscribe(t):_v.EMPTY},e}(hC),IF=function(a){hs(e,a);function e(t){var n=a.call(this)||this;return n._value=t,n}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(t){var n=a.prototype._subscribe.call(this,t);return n&&!n.closed&&t.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new by;return this._value},e.prototype.next=function(t){a.prototype.next.call(this,this._value=t)},e}(hC);function u2(a){return a&&typeof a.schedule=="function"}var dC=function(a){hs(e,a);function e(t){var n=a.call(this)||this;return n.parent=t,n}return e.prototype._next=function(t){this.parent.notifyNext(t)},e.prototype._error=function(t){this.parent.notifyError(t),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},e}(Hl),Pft=function(a){hs(e,a);function e(t,n,o){var u=a.call(this)||this;return u.parent=t,u.outerValue=n,u.outerIndex=o,u}return e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this)},e.prototype._error=function(t){this.parent.notifyError(t),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(Hl),vC=function(a){hs(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.notifyNext=function(t){this.destination.next(t)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(){this.destination.complete()},e}(Hl),Lft=function(a){hs(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.notifyNext=function(t,n,o,u){this.destination.next(n)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(Hl);function pC(a,e){if(!e.closed){if(a instanceof ef)return a.subscribe(e);var t;try{t=lC(a)(e)}catch(n){e.error(n)}return t}}function OF(a,e,t){return t===void 0&&(t=Number.POSITIVE_INFINITY),typeof e=="function"?function(n){return n.pipe(OF(function(o,u){return fC(a(o,u)).pipe(_g(function(l,c){return e(o,l,u,c)}))},t))}:(typeof e=="number"&&(t=e),function(n){return n.lift(new cat(a,t))})}var cat=function(){function a(e,t){t===void 0&&(t=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=t}return a.prototype.call=function(e,t){return t.subscribe(new fat(e,this.project,this.concurrent))},a}(),fat=function(a){hs(e,a);function e(t,n,o){o===void 0&&(o=Number.POSITIVE_INFINITY);var u=a.call(this,t)||this;return u.project=n,u.concurrent=o,u.hasCompleted=!1,u.buffer=[],u.active=0,u.index=0,u}return e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var n,o=this.index++;try{n=this.project(t,o)}catch(u){this.destination.error(u);return}this.active++,this._innerSub(n)},e.prototype._innerSub=function(t){var n=new dC(this),o=this.destination;o.add(n);var u=pC(t,n);u!==n&&o.add(u)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t){this.destination.next(t)},e.prototype.notifyComplete=function(){var t=this.buffer;this.active--,t.length>0?this._next(t.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},e}(vC),Rft=null;function DF(a){return a===void 0&&(a=Number.POSITIVE_INFINITY),OF(pF,a)}function gC(a,e){return e?cC(a,e):new ef(mF(a))}function hat(){for(var a=[],e=0;e<arguments.length;e++)a[e]=arguments[e];var t=Number.POSITIVE_INFINITY,n=null,o=a[a.length-1];return u2(o)?(n=a.pop(),a.length>1&&typeof a[a.length-1]=="number"&&(t=a.pop())):typeof o=="number"&&(t=a.pop()),n===null&&a.length===1&&a[0]instanceof ef?a[0]:DF(t)(gC(a,n))}var dat=function(a){hs(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.notifyNext=function(t,n,o,u,l){this.destination.next(n)},e.prototype.notifyError=function(t,n){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(Hl),vat=function(a){hs(e,a);function e(t,n,o){var u=a.call(this)||this;return u.parent=t,u.outerValue=n,u.outerIndex=o,u.index=0,u}return e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(Hl);function pat(a,e,t,n,o){if(o===void 0&&(o=new vat(a,t,n)),!o.closed)return e instanceof ef?e.subscribe(o):lC(e)(o)}var PF={};function gat(){for(var a=[],e=0;e<arguments.length;e++)a[e]=arguments[e];var t=void 0,n=void 0;return u2(a[a.length-1])&&(n=a.pop()),typeof a[a.length-1]=="function"&&(t=a.pop()),a.length===1&&uC(a[0])&&(a=a[0]),gC(a,n).lift(new yat(t))}var yat=function(){function a(e){this.resultSelector=e}return a.prototype.call=function(e,t){return t.subscribe(new mat(e,this.resultSelector))},a}(),mat=function(a){hs(e,a);function e(t,n){var o=a.call(this,t)||this;return o.resultSelector=n,o.active=0,o.values=[],o.observables=[],o}return e.prototype._next=function(t){this.values.push(PF),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,n=t.length;if(n===0)this.destination.complete();else{this.active=n,this.toRespond=n;for(var o=0;o<n;o++){var u=t[o];this.add(pat(this,u,void 0,o))}}},e.prototype.notifyComplete=function(t){(this.active-=1)===0&&this.destination.complete()},e.prototype.notifyNext=function(t,n,o){var u=this.values,l=u[o],c=this.toRespond?l===PF?--this.toRespond:this.toRespond:0;u[o]=n,c===0&&(this.resultSelector?this._tryResultSelector(u):this.destination.next(u.slice()))},e.prototype._tryResultSelector=function(t){var n;try{n=this.resultSelector.apply(this,t)}catch(o){this.destination.error(o);return}this.destination.next(n)},e}(dat);function Jv(){}function LF(){for(var a=[],e=0;e<arguments.length;e++)a[e]=arguments[e];var t=a[a.length-1];return u2(t)?(a.pop(),cC(a,t)):gC(a)}function xat(){return DF(1)}function RF(){for(var a=[],e=0;e<arguments.length;e++)a[e]=arguments[e];return xat()(LF.apply(void 0,a))}function FF(){for(var a=[],e=0;e<arguments.length;e++)a[e]=arguments[e];var t=a[a.length-1];return u2(t)?(a.pop(),function(n){return RF(a,n,t)}):function(n){return RF(a,n)}}function yC(a,e){return function(t){return t.lift(new bat(a,e))}}var bat=function(){function a(e,t){this.compare=e,this.keySelector=t}return a.prototype.call=function(e,t){return t.subscribe(new Eat(e,this.compare,this.keySelector))},a}(),Eat=function(a){hs(e,a);function e(t,n,o){var u=a.call(this,t)||this;return u.keySelector=o,u.hasKey=!1,typeof n=="function"&&(u.compare=n),u}return e.prototype.compare=function(t,n){return t===n},e.prototype._next=function(t){var n;try{var o=this.keySelector;n=o?o(t):t}catch(c){return this.destination.error(c)}var u=!1;if(this.hasKey)try{var l=this.compare;u=l(this.key,n)}catch(c){return this.destination.error(c)}else this.hasKey=!0;u||(this.key=n,this.destination.next(t))},e}(Hl);function NF(a,e,t){return function(o){return o.lift(new Sat(a,e,t))}}var Sat=function(){function a(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}return a.prototype.call=function(e,t){return t.subscribe(new wat(e,this.nextOrObserver,this.error,this.complete))},a}(),wat=function(a){hs(e,a);function e(t,n,o,u){var l=a.call(this,t)||this;return l._tapNext=Jv,l._tapError=Jv,l._tapComplete=Jv,l._tapError=o||Jv,l._tapComplete=u||Jv,Ab(n)?(l._context=l,l._tapNext=n):n&&(l._context=n,l._tapNext=n.next||Jv,l._tapError=n.error||Jv,l._tapComplete=n.complete||Jv),l}return e.prototype._next=function(t){try{this._tapNext.call(this._context,t)}catch(n){this.destination.error(n);return}this.destination.next(t)},e.prototype._error=function(t){try{this._tapError.call(this._context,t)}catch(n){this.destination.error(n);return}this.destination.error(t)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(t){this.destination.error(t);return}return this.destination.complete()},e}(Hl);function kF(a,e){return typeof e=="function"?function(t){return t.pipe(kF(function(n,o){return fC(a(n,o)).pipe(_g(function(u,l){return e(n,u,o,l)}))}))}:function(t){return t.lift(new _at(a))}}var _at=function(){function a(e){this.project=e}return a.prototype.call=function(e,t){return t.subscribe(new Aat(e,this.project))},a}(),Aat=function(a){hs(e,a);function e(t,n){var o=a.call(this,t)||this;return o.project=n,o.index=0,o}return e.prototype._next=function(t){var n,o=this.index++;try{n=this.project(t,o)}catch(u){this.destination.error(u);return}this._innerSub(n)},e.prototype._innerSub=function(t){var n=this.innerSubscription;n&&n.unsubscribe();var o=new dC(this),u=this.destination;u.add(o),this.innerSubscription=pC(t,o),this.innerSubscription!==o&&u.add(this.innerSubscription)},e.prototype._complete=function(){var t=this.innerSubscription;(!t||t.closed)&&a.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=void 0},e.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&a.prototype._complete.call(this)},e.prototype.notifyNext=function(t){this.destination.next(t)},e}(vC);function Cat(a){return function(e){return e.lift(new Tat(a))}}var Tat=function(){function a(e){this.total=e}return a.prototype.call=function(e,t){return t.subscribe(new Mat(e,this.total))},a}(),Mat=function(a){hs(e,a);function e(t,n){var o=a.call(this,t)||this;return o.total=n,o.count=0,o}return e.prototype._next=function(t){++this.count>this.total&&this.destination.next(t)},e}(Hl);function Iat(a){return function(e){return e.lift(new Oat(a))}}var Oat=function(){function a(e){this.value=e}return a.prototype.call=function(e,t){return t.subscribe(new Dat(e,this.value))},a}(),Dat=function(a){hs(e,a);function e(t,n){var o=a.call(this,t)||this;return o.value=n,o}return e.prototype._next=function(t){this.destination.next(this.value)},e}(Hl),Pat=function(a){hs(e,a);function e(t,n){var o=a.call(this,t,n)||this;return o.scheduler=t,o.work=n,o}return e.prototype.schedule=function(t,n){return n===void 0&&(n=0),n>0?a.prototype.schedule.call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)},e.prototype.execute=function(t,n){return n>0||this.closed?a.prototype.execute.call(this,t,n):this._execute(t,n)},e.prototype.requestAsyncId=function(t,n,o){return o===void 0&&(o=0),o!==null&&o>0||o===null&&this.delay>0?a.prototype.requestAsyncId.call(this,t,n,o):t.flush(this)},e}(wF),Lat=function(a){hs(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e}(AF),Rat=new Lat(Pat),Fat=Rat;function Nat(a,e){return e?new ef(function(t){return e.schedule(kat,0,{error:a,subscriber:t})}):new ef(function(t){return t.error(a)})}function kat(a){var e=a.error,t=a.subscriber;t.error(e)}var BF;BF||(BF={});var mC=function(){function a(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue=e==="N"}return a.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},a.prototype.do=function(e,t,n){var o=this.kind;switch(o){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}},a.prototype.accept=function(e,t,n){return e&&typeof e.next=="function"?this.observe(e):this.do(e,t,n)},a.prototype.toObservable=function(){var e=this.kind;switch(e){case"N":return LF(this.value);case"E":return Nat(this.error);case"C":return EF()}throw new Error("unexpected notification kind value")},a.createNext=function(e){return typeof e!="undefined"?new a("N",e):a.undefinedValueNotification},a.createError=function(e){return new a("E",void 0,e)},a.createComplete=function(){return a.completeNotification},a.completeNotification=new a("C"),a.undefinedValueNotification=new a("N",void 0),a}();function Fft(a,e){return e===void 0&&(e=0),function(n){return n.lift(new Bat(a,e))}}var Bat=null,Gat=function(a){hs(e,a);function e(t,n,o){o===void 0&&(o=0);var u=a.call(this,t)||this;return u.scheduler=n,u.delay=o,u}return e.dispatch=function(t){var n=t.notification,o=t.destination;n.observe(o),this.unsubscribe()},e.prototype.scheduleMessage=function(t){var n=this.destination;n.add(this.scheduler.schedule(e.dispatch,this.delay,new zat(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(mC.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(mC.createError(t)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(mC.createComplete()),this.unsubscribe()},e}(Hl),zat=function(){function a(e,t){this.notification=e,this.destination=t}return a}(),Uat=function(a){hs(e,a);function e(t,n,o){t===void 0&&(t=Number.POSITIVE_INFINITY),n===void 0&&(n=Number.POSITIVE_INFINITY);var u=a.call(this)||this;return u.scheduler=o,u._events=[],u._infiniteTimeWindow=!1,u._bufferSize=t<1?1:t,u._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(u._infiniteTimeWindow=!0,u.next=u.nextInfiniteTimeWindow):u.next=u.nextTimeWindow,u}return e.prototype.nextInfiniteTimeWindow=function(t){if(!this.isStopped){var n=this._events;n.push(t),n.length>this._bufferSize&&n.shift()}a.prototype.next.call(this,t)},e.prototype.nextTimeWindow=function(t){this.isStopped||(this._events.push(new jat(this._getNow(),t)),this._trimBufferThenGetEvents()),a.prototype.next.call(this,t)},e.prototype._subscribe=function(t){var n=this._infiniteTimeWindow,o=n?this._events:this._trimBufferThenGetEvents(),u=this.scheduler,l=o.length,c;if(this.closed)throw new by;if(this.isStopped||this.hasError?c=_v.EMPTY:(this.observers.push(t),c=new TF(this,t)),u&&t.add(t=new Gat(t,u)),n)for(var f=0;f<l&&!t.closed;f++)t.next(o[f]);else for(var f=0;f<l&&!t.closed;f++)t.next(o[f].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),c},e.prototype._getNow=function(){return(this.scheduler||Fat).now()},e.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),n=this._bufferSize,o=this._windowTime,u=this._events,l=u.length,c=0;c<l&&!(t-u[c].time<o);)c++;return l>n&&(c=Math.max(c,l-n)),c>0&&u.splice(0,c),u},e}(hC),jat=function(){function a(e,t){this.time=e,this.value=t}return a}();function Wat(a,e,t){var n;return a&&typeof a=="object"?n=a:n={bufferSize:a,windowTime:e,refCount:!1,scheduler:t},function(o){return o.lift(Vat(n))}}function Vat(a){var e=a.bufferSize,t=e===void 0?Number.POSITIVE_INFINITY:e,n=a.windowTime,o=n===void 0?Number.POSITIVE_INFINITY:n,u=a.refCount,l=a.scheduler,c,f=0,h,v=!1,p=!1;return function(E){f++;var D;!c||v?(v=!1,c=new Uat(t,o,l),D=c.subscribe(this),h=E.subscribe({next:function(G){c.next(G)},error:function(G){v=!0,c.error(G)},complete:function(){p=!0,h=void 0,c.complete()}}),p&&(h=void 0)):D=c.subscribe(this),this.add(function(){f--,D.unsubscribe(),D=void 0,h&&!p&&u&&f===0&&(h.unsubscribe(),h=void 0,c=void 0)})}}function Hat(){return function(a){return a.lift(new Yat)}}var Yat=function(){function a(){}return a.prototype.call=function(e,t){return t.subscribe(new Xat(e))},a}(),Xat=function(a){hs(e,a);function e(t){var n=a.call(this,t)||this;return n.hasPrev=!1,n}return e.prototype._next=function(t){var n;this.hasPrev?n=[this.prev,t]:this.hasPrev=!0,this.prev=t,n&&this.destination.next(n)},e}(Hl);function GF(a,e){return function(n){return n.lift(new $at(a,e))}}var $at=function(){function a(e,t){this.predicate=e,this.thisArg=t}return a.prototype.call=function(e,t){return t.subscribe(new Kat(e,this.predicate,this.thisArg))},a}(),Kat=function(a){hs(e,a);function e(t,n,o){var u=a.call(this,t)||this;return u.predicate=n,u.thisArg=o,u.count=0,u}return e.prototype._next=function(t){var n;try{n=this.predicate.call(this.thisArg,t,this.count++)}catch(o){this.destination.error(o);return}n&&this.destination.next(t)},e}(Hl),zF={leading:!0,trailing:!1};function Nft(a,e){return e===void 0&&(e=zF),function(t){return t.lift(new Zat(a,!!e.leading,!!e.trailing))}}var Zat=null,kft=function(a){hs(e,a);function e(t,n,o,u){var l=a.call(this,t)||this;return l.destination=t,l.durationSelector=n,l._leading=o,l._trailing=u,l._hasValue=!1,l}return e.prototype._next=function(t){this._hasValue=!0,this._sendValue=t,this._throttled||(this._leading?this.send():this.throttle(t))},e.prototype.send=function(){var t=this,n=t._hasValue,o=t._sendValue;n&&(this.destination.next(o),this.throttle(o)),this._hasValue=!1,this._sendValue=void 0},e.prototype.throttle=function(t){var n=this.tryDurationSelector(t);n&&this.add(this._throttled=pC(n,new dC(this)))},e.prototype.tryDurationSelector=function(t){try{return this.durationSelector(t)}catch(n){return this.destination.error(n),null}},e.prototype.throttlingDone=function(){var t=this,n=t._throttled,o=t._trailing;n&&n.unsubscribe(),this._throttled=void 0,o&&this.send()},e.prototype.notifyNext=function(){this.throttlingDone()},e.prototype.notifyComplete=function(){this.throttlingDone()},e}(vC);function Qat(a,e,t){return e===void 0&&(e=sat),t===void 0&&(t=zF),function(n){return n.lift(new Jat(a,e,t.leading,t.trailing))}}var Jat=function(){function a(e,t,n,o){this.duration=e,this.scheduler=t,this.leading=n,this.trailing=o}return a.prototype.call=function(e,t){return t.subscribe(new qat(e,this.duration,this.scheduler,this.leading,this.trailing))},a}(),qat=function(a){hs(e,a);function e(t,n,o,u,l){var c=a.call(this,t)||this;return c.duration=n,c.scheduler=o,c.leading=u,c.trailing=l,c._hasTrailingValue=!1,c._trailingValue=null,c}return e.prototype._next=function(t){this.throttled?this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(tot,this.duration,{subscriber:this})),this.leading?this.destination.next(t):this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0))},e.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},e.prototype.clearThrottle=function(){var t=this.throttled;t&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),t.unsubscribe(),this.remove(t),this.throttled=null)},e}(Hl);function tot(a){var e=a.subscriber;e.clearThrottle()}var UF=je(59864),eot=je(96774),rot=je.n(eot);function not(a){function e(_r,kr,Yr,mn,Er){for(var oi=0,mr=0,ki=0,Xn=0,qn,ai,va=0,Ii=0,Ni,Sa=Ni=qn=0,ea=0,lo=0,Vs=0,Go=0,pa=Yr.length,so=pa-1,ia,Ai="",sa="",Bi="",Ia="",Oa;ea<pa;){if(ai=Yr.charCodeAt(ea),ea===so&&mr+Xn+ki+oi!==0&&(mr!==0&&(ai=mr===47?10:47),Xn=ki=oi=0,pa++,so++),mr+Xn+ki+oi===0){if(ea===so&&(0<lo&&(Ai=Ai.replace(g,"")),0<Ai.trim().length)){switch(ai){case 32:case 9:case 59:case 13:case 10:break;default:Ai+=Yr.charAt(ea)}ai=59}switch(ai){case 123:for(Ai=Ai.trim(),qn=Ai.charCodeAt(0),Ni=1,Go=++ea;ea<pa;){switch(ai=Yr.charCodeAt(ea)){case 123:Ni++;break;case 125:Ni--;break;case 47:switch(ai=Yr.charCodeAt(ea+1)){case 42:case 47:t:{for(Sa=ea+1;Sa<so;++Sa)switch(Yr.charCodeAt(Sa)){case 47:if(ai===42&&Yr.charCodeAt(Sa-1)===42&&ea+2!==Sa){ea=Sa+1;break t}break;case 10:if(ai===47){ea=Sa+1;break t}}ea=Sa}}break;case 91:ai++;case 40:ai++;case 34:case 39:for(;ea++<so&&Yr.charCodeAt(ea)!==ai;);}if(Ni===0)break;ea++}switch(Ni=Yr.substring(Go,ea),qn===0&&(qn=(Ai=Ai.replace(p,"").trim()).charCodeAt(0)),qn){case 64:switch(0<lo&&(Ai=Ai.replace(g,"")),ai=Ai.charCodeAt(1),ai){case 100:case 109:case 115:case 45:lo=kr;break;default:lo=nr}if(Ni=e(kr,lo,Ni,ai,Er+1),Go=Ni.length,0<en&&(lo=t(nr,Ai,Vs),Oa=c(3,Ni,lo,kr,pr,Xe,Go,ai,Er,mn),Ai=lo.join(""),Oa!==void 0&&(Go=(Ni=Oa.trim()).length)===0&&(ai=0,Ni="")),0<Go)switch(ai){case 115:Ai=Ai.replace(kt,l);case 100:case 109:case 45:Ni=Ai+"{"+Ni+"}";break;case 107:Ai=Ai.replace(rt,"$1 $2"),Ni=Ai+"{"+Ni+"}",Ni=Vr===1||Vr===2&&u("@"+Ni,3)?"@-webkit-"+Ni+"@"+Ni:"@"+Ni;break;default:Ni=Ai+Ni,mn===112&&(Ni=(sa+=Ni,""))}else Ni="";break;default:Ni=e(kr,t(kr,Ai,Vs),Ni,mn,Er+1)}Bi+=Ni,Ni=Vs=lo=Sa=qn=0,Ai="",ai=Yr.charCodeAt(++ea);break;case 125:case 59:if(Ai=(0<lo?Ai.replace(g,""):Ai).trim(),1<(Go=Ai.length))switch(Sa===0&&(qn=Ai.charCodeAt(0),qn===45||96<qn&&123>qn)&&(Go=(Ai=Ai.replace(" ",":")).length),0<en&&(Oa=c(1,Ai,kr,_r,pr,Xe,sa.length,mn,Er,mn))!==void 0&&(Go=(Ai=Oa.trim()).length)===0&&(Ai="\0\0"),qn=Ai.charCodeAt(0),ai=Ai.charCodeAt(1),qn){case 0:break;case 64:if(ai===105||ai===99){Ia+=Ai+Yr.charAt(ea);break}default:Ai.charCodeAt(Go-1)!==58&&(sa+=o(Ai,qn,ai,Ai.charCodeAt(2)))}Vs=lo=Sa=qn=0,Ai="",ai=Yr.charCodeAt(++ea)}}switch(ai){case 13:case 10:mr===47?mr=0:1+qn===0&&mn!==107&&0<Ai.length&&(lo=1,Ai+="\0"),0<en*Fr&&c(0,Ai,kr,_r,pr,Xe,sa.length,mn,Er,mn),Xe=1,pr++;break;case 59:case 125:if(mr+Xn+ki+oi===0){Xe++;break}default:switch(Xe++,ia=Yr.charAt(ea),ai){case 9:case 32:if(Xn+oi+mr===0)switch(va){case 44:case 58:case 9:case 32:ia="";break;default:ai!==32&&(ia=" ")}break;case 0:ia="\\0";break;case 12:ia="\\f";break;case 11:ia="\\v";break;case 38:Xn+mr+oi===0&&(lo=Vs=1,ia="\f"+ia);break;case 108:if(Xn+mr+oi+yr===0&&0<Sa)switch(ea-Sa){case 2:va===112&&Yr.charCodeAt(ea-3)===58&&(yr=va);case 8:Ii===111&&(yr=Ii)}break;case 58:Xn+mr+oi===0&&(Sa=ea);break;case 44:mr+ki+Xn+oi===0&&(lo=1,ia+="\r");break;case 34:case 39:mr===0&&(Xn=Xn===ai?0:Xn===0?ai:Xn);break;case 91:Xn+mr+ki===0&&oi++;break;case 93:Xn+mr+ki===0&&oi--;break;case 41:Xn+mr+oi===0&&ki--;break;case 40:if(Xn+mr+oi===0){if(qn===0)switch(2*va+3*Ii){case 533:break;default:qn=1}ki++}break;case 64:mr+ki+Xn+oi+Sa+Ni===0&&(Ni=1);break;case 42:case 47:if(!(0<Xn+oi+ki))switch(mr){case 0:switch(2*ai+3*Yr.charCodeAt(ea+1)){case 235:mr=47;break;case 220:Go=ea,mr=42}break;case 42:ai===47&&va===42&&Go+2!==ea&&(Yr.charCodeAt(Go+2)===33&&(sa+=Yr.substring(Go,ea+1)),ia="",mr=0)}}mr===0&&(Ai+=ia)}Ii=va,va=ai,ea++}if(Go=sa.length,0<Go){if(lo=kr,0<en&&(Oa=c(2,sa,lo,_r,pr,Xe,Go,mn,Er,mn),Oa!==void 0&&(sa=Oa).length===0))return Ia+sa+Bi;if(sa=lo.join(",")+"{"+sa+"}",Vr*yr!==0){switch(Vr!==2||u(sa,2)||(yr=0),yr){case 111:sa=sa.replace(mt,":-moz-$1")+sa;break;case 112:sa=sa.replace(ht,"::-webkit-input-$1")+sa.replace(ht,"::-moz-$1")+sa.replace(ht,":-ms-input-$1")+sa}yr=0}}return Ia+sa+Bi}function t(_r,kr,Yr){var mn=kr.trim().split(H);kr=mn;var Er=mn.length,oi=_r.length;switch(oi){case 0:case 1:var mr=0;for(_r=oi===0?"":_r[0]+" ";mr<Er;++mr)kr[mr]=n(_r,kr[mr],Yr).trim();break;default:var ki=mr=0;for(kr=[];mr<Er;++mr)for(var Xn=0;Xn<oi;++Xn)kr[ki++]=n(_r[Xn]+" ",mn[mr],Yr).trim()}return kr}function n(_r,kr,Yr){var mn=kr.charCodeAt(0);switch(33>mn&&(mn=(kr=kr.trim()).charCodeAt(0)),mn){case 38:return kr.replace(X,"$1"+_r.trim());case 58:return _r.trim()+kr.replace(X,"$1"+_r.trim());default:if(0<1*Yr&&0<kr.indexOf("\f"))return kr.replace(X,(_r.charCodeAt(0)===58?"":"$1")+_r.trim())}return _r+kr}function o(_r,kr,Yr,mn){var Er=_r+";",oi=2*kr+3*Yr+4*mn;if(oi===944){_r=Er.indexOf(":",9)+1;var mr=Er.substring(_r,Er.length-1).trim();return mr=Er.substring(0,_r).trim()+mr+";",Vr===1||Vr===2&&u(mr,1)?"-webkit-"+mr+mr:mr}if(Vr===0||Vr===2&&!u(Er,1))return Er;switch(oi){case 1015:return Er.charCodeAt(10)===97?"-webkit-"+Er+Er:Er;case 951:return Er.charCodeAt(3)===116?"-webkit-"+Er+Er:Er;case 963:return Er.charCodeAt(5)===110?"-webkit-"+Er+Er:Er;case 1009:if(Er.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+Er+Er;case 978:return"-webkit-"+Er+"-moz-"+Er+Er;case 1019:case 983:return"-webkit-"+Er+"-moz-"+Er+"-ms-"+Er+Er;case 883:if(Er.charCodeAt(8)===45)return"-webkit-"+Er+Er;if(0<Er.indexOf("image-set(",11))return Er.replace(De,"$1-webkit-$2")+Er;break;case 932:if(Er.charCodeAt(4)===45)switch(Er.charCodeAt(5)){case 103:return"-webkit-box-"+Er.replace("-grow","")+"-webkit-"+Er+"-ms-"+Er.replace("grow","positive")+Er;case 115:return"-webkit-"+Er+"-ms-"+Er.replace("shrink","negative")+Er;case 98:return"-webkit-"+Er+"-ms-"+Er.replace("basis","preferred-size")+Er}return"-webkit-"+Er+"-ms-"+Er+Er;case 964:return"-webkit-"+Er+"-ms-flex-"+Er+Er;case 1023:if(Er.charCodeAt(8)!==99)break;return mr=Er.substring(Er.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+mr+"-webkit-"+Er+"-ms-flex-pack"+mr+Er;case 1005:return D.test(Er)?Er.replace(E,":-webkit-")+Er.replace(E,":-moz-")+Er:Er;case 1e3:switch(mr=Er.substring(13).trim(),kr=mr.indexOf("-")+1,mr.charCodeAt(0)+mr.charCodeAt(kr)){case 226:mr=Er.replace(Dt,"tb");break;case 232:mr=Er.replace(Dt,"tb-rl");break;case 220:mr=Er.replace(Dt,"lr");break;default:return Er}return"-webkit-"+Er+"-ms-"+mr+Er;case 1017:if(Er.indexOf("sticky",9)===-1)break;case 975:switch(kr=(Er=_r).length-10,mr=(Er.charCodeAt(kr)===33?Er.substring(0,kr):Er).substring(_r.indexOf(":",7)+1).trim(),oi=mr.charCodeAt(0)+(mr.charCodeAt(7)|0)){case 203:if(111>mr.charCodeAt(8))break;case 115:Er=Er.replace(mr,"-webkit-"+mr)+";"+Er;break;case 207:case 102:Er=Er.replace(mr,"-webkit-"+(102<oi?"inline-":"")+"box")+";"+Er.replace(mr,"-webkit-"+mr)+";"+Er.replace(mr,"-ms-"+mr+"box")+";"+Er}return Er+";";case 938:if(Er.charCodeAt(5)===45)switch(Er.charCodeAt(6)){case 105:return mr=Er.replace("-items",""),"-webkit-"+Er+"-webkit-box-"+mr+"-ms-flex-"+mr+Er;case 115:return"-webkit-"+Er+"-ms-flex-item-"+Er.replace(te,"")+Er;default:return"-webkit-"+Er+"-ms-flex-line-pack"+Er.replace("align-content","").replace(te,"")+Er}break;case 973:case 989:if(Er.charCodeAt(3)!==45||Er.charCodeAt(4)===122)break;case 931:case 953:if(pe.test(_r)===!0)return(mr=_r.substring(_r.indexOf(":")+1)).charCodeAt(0)===115?o(_r.replace("stretch","fill-available"),kr,Yr,mn).replace(":fill-available",":stretch"):Er.replace(mr,"-webkit-"+mr)+Er.replace(mr,"-moz-"+mr.replace("fill-",""))+Er;break;case 962:if(Er="-webkit-"+Er+(Er.charCodeAt(5)===102?"-ms-"+Er:"")+Er,Yr+mn===211&&Er.charCodeAt(13)===105&&0<Er.indexOf("transform",10))return Er.substring(0,Er.indexOf(";",27)+1).replace(G,"$1-webkit-$2")+Er}return Er}function u(_r,kr){var Yr=_r.indexOf(kr===1?":":"{"),mn=_r.substring(0,kr!==3?Yr:10);return Yr=_r.substring(Yr+1,_r.length-1),cr(kr!==2?mn:mn.replace(le,"$1"),Yr,kr)}function l(_r,kr){var Yr=o(kr,kr.charCodeAt(0),kr.charCodeAt(1),kr.charCodeAt(2));return Yr!==kr+";"?Yr.replace(Vt," or ($1)").substring(4):"("+kr+")"}function c(_r,kr,Yr,mn,Er,oi,mr,ki,Xn,qn){for(var ai=0,va=kr,Ii;ai<en;++ai)switch(Ii=Gr[ai].call(v,_r,va,Yr,mn,Er,oi,mr,ki,Xn,qn)){case void 0:case!1:case!0:case null:break;default:va=Ii}if(va!==kr)return va}function f(_r){switch(_r){case void 0:case null:en=Gr.length=0;break;default:if(typeof _r=="function")Gr[en++]=_r;else if(typeof _r=="object")for(var kr=0,Yr=_r.length;kr<Yr;++kr)f(_r[kr]);else Fr=!!_r|0}return f}function h(_r){return _r=_r.prefix,_r!==void 0&&(cr=null,_r?typeof _r!="function"?Vr=1:(Vr=2,cr=_r):Vr=0),h}function v(_r,kr){var Yr=_r;if(33>Yr.charCodeAt(0)&&(Yr=Yr.trim()),qr=Yr,Yr=[qr],0<en){var mn=c(-1,kr,Yr,Yr,pr,Xe,0,0,0,0);mn!==void 0&&typeof mn=="string"&&(kr=mn)}var Er=e(nr,Yr,kr,0,0);return 0<en&&(mn=c(-2,Er,Yr,Yr,pr,Xe,Er.length,0,0,0),mn!==void 0&&(Er=mn)),qr="",yr=0,Xe=pr=1,Er}var p=/^\0+/g,g=/[\0\r\f]/g,E=/: */g,D=/zoo|gra/,G=/([,: ])(transform)/g,H=/,\r+?/g,X=/([\t\r\n ])*\f?&/g,rt=/@(k\w+)\s*(\S*)\s*/,ht=/::(place)/g,mt=/:(read-only)/g,Dt=/[svh]\w+-[tblr]{2}/,kt=/\(\s*(.*)\s*\)/g,Vt=/([\s\S]*?);/g,te=/-self|flex-/g,le=/[^]*?(:[rp][el]a[\w-]+)[^]*/,pe=/stretch|:\s*\w+\-(?:conte|avail)/,De=/([^-])(image-set\()/,Xe=1,pr=1,yr=0,Vr=1,nr=[],Gr=[],en=0,cr=null,Fr=0,qr="";return v.use=f,v.set=h,a!==void 0&&h(a),v}var iot=not,aot={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},oot=aot;function sot(a){var e={};return function(t){return e[t]===void 0&&(e[t]=a(t)),e[t]}}var uot=sot,lot=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,cot=uot(function(a){return lot.test(a)||a.charCodeAt(0)===111&&a.charCodeAt(1)===110&&a.charCodeAt(2)<91}),jF=cot,fot=je(8679),hot=je.n(fot),Av=je(34155);function Cv(){return(Cv=Object.assign||function(a){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(a[n]=t[n])}return a}).apply(this,arguments)}var WF=function(a,e){for(var t=[a[0]],n=0,o=e.length;n<o;n+=1)t.push(e[n],a[n+1]);return t},xC=function(a){return a!==null&&typeof a=="object"&&(a.toString?a.toString():Object.prototype.toString.call(a))==="[object Object]"&&!(0,UF.typeOf)(a)},l2=Object.freeze([]),g0=Object.freeze({});function u1(a){return typeof a=="function"}function bC(a){return a.displayName||a.name||"Component"}function EC(a){return a&&typeof a.styledComponentId=="string"}var y0=typeof Av!="undefined"&&(Av.env.REACT_APP_SC_ATTR||Av.env.SC_ATTR)||"data-styled",Bft="5.3.3",SC=typeof window!="undefined"&&"HTMLElement"in window,dot=Boolean(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof Av!="undefined"&&Av.env.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Av.env.REACT_APP_SC_DISABLE_SPEEDY!==""?Av.env.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Av.env.REACT_APP_SC_DISABLE_SPEEDY:typeof Av!="undefined"&&Av.env.SC_DISABLE_SPEEDY!==void 0&&Av.env.SC_DISABLE_SPEEDY!==""?Av.env.SC_DISABLE_SPEEDY!=="false"&&Av.env.SC_DISABLE_SPEEDY:!1),vot={},Gft={};function zft(){for(var a=arguments.length<=0?void 0:arguments[0],e=[],t=1,n=arguments.length;t<n;t+=1)e.push(t<0||arguments.length<=t?void 0:arguments[t]);return e.forEach(function(o){a=a.replace(/%[a-z]/,o)}),a}function xp(a){for(var e=arguments.length,t=new Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];throw new Error("An error occurred. See https://git.io/JUIaE#"+a+" for more information."+(t.length>0?" Args: "+t.join(", "):""))}var pot=function(){function a(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}var e=a.prototype;return e.indexOfGroup=function(t){for(var n=0,o=0;o<t;o++)n+=this.groupSizes[o];return n},e.insertRules=function(t,n){if(t>=this.groupSizes.length){for(var o=this.groupSizes,u=o.length,l=u;t>=l;)(l<<=1)<0&&xp(16,""+t);this.groupSizes=new Uint32Array(l),this.groupSizes.set(o),this.length=l;for(var c=u;c<l;c++)this.groupSizes[c]=0}for(var f=this.indexOfGroup(t+1),h=0,v=n.length;h<v;h++)this.tag.insertRule(f,n[h])&&(this.groupSizes[t]++,f++)},e.clearGroup=function(t){if(t<this.length){var n=this.groupSizes[t],o=this.indexOfGroup(t),u=o+n;this.groupSizes[t]=0;for(var l=o;l<u;l++)this.tag.deleteRule(o)}},e.getGroup=function(t){var n="";if(t>=this.length||this.groupSizes[t]===0)return n;for(var o=this.groupSizes[t],u=this.indexOfGroup(t),l=u+o,c=u;c<l;c++)n+=this.tag.getRule(c)+`/*!sc*/
`;return n},a}(),c2=new Map,f2=new Map,Tb=1,h2=function(a){if(c2.has(a))return c2.get(a);for(;f2.has(Tb);)Tb++;var e=Tb++;return c2.set(a,e),f2.set(e,a),e},got=function(a){return f2.get(a)},yot=function(a,e){e>=Tb&&(Tb=e+1),c2.set(a,e),f2.set(e,a)},mot="style["+y0+'][data-styled-version="5.3.3"]',xot=new RegExp("^"+y0+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),bot=function(a,e,t){for(var n,o=t.split(","),u=0,l=o.length;u<l;u++)(n=o[u])&&a.registerName(e,n)},Eot=function(a,e){for(var t=(e.textContent||"").split(`/*!sc*/
`),n=[],o=0,u=t.length;o<u;o++){var l=t[o].trim();if(l){var c=l.match(xot);if(c){var f=0|parseInt(c[1],10),h=c[2];f!==0&&(yot(h,f),bot(a,h,c[3]),a.getTag().insertRules(f,n)),n.length=0}else n.push(l)}}},wC=function(){return typeof window!="undefined"&&window.__webpack_nonce__!==void 0?window.__webpack_nonce__:null},VF=function(a){var e=document.head,t=a||e,n=document.createElement("style"),o=function(c){for(var f=c.childNodes,h=f.length;h>=0;h--){var v=f[h];if(v&&v.nodeType===1&&v.hasAttribute(y0))return v}}(t),u=o!==void 0?o.nextSibling:null;n.setAttribute(y0,"active"),n.setAttribute("data-styled-version","5.3.3");var l=wC();return l&&n.setAttribute("nonce",l),t.insertBefore(n,u),n},Sot=function(){function a(t){var n=this.element=VF(t);n.appendChild(document.createTextNode("")),this.sheet=function(o){if(o.sheet)return o.sheet;for(var u=document.styleSheets,l=0,c=u.length;l<c;l++){var f=u[l];if(f.ownerNode===o)return f}xp(17)}(n),this.length=0}var e=a.prototype;return e.insertRule=function(t,n){try{return this.sheet.insertRule(n,t),this.length++,!0}catch(o){return!1}},e.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.getRule=function(t){var n=this.sheet.cssRules[t];return n!==void 0&&typeof n.cssText=="string"?n.cssText:""},a}(),wot=function(){function a(t){var n=this.element=VF(t);this.nodes=n.childNodes,this.length=0}var e=a.prototype;return e.insertRule=function(t,n){if(t<=this.length&&t>=0){var o=document.createTextNode(n),u=this.nodes[t];return this.element.insertBefore(o,u||null),this.length++,!0}return!1},e.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},a}(),_ot=function(){function a(t){this.rules=[],this.length=0}var e=a.prototype;return e.insertRule=function(t,n){return t<=this.length&&(this.rules.splice(t,0,n),this.length++,!0)},e.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.getRule=function(t){return t<this.length?this.rules[t]:""},a}(),HF=SC,Aot={isServer:!SC,useCSSOMInjection:!dot},l1=function(){function a(t,n,o){t===void 0&&(t=g0),n===void 0&&(n={}),this.options=Cv({},Aot,{},t),this.gs=n,this.names=new Map(o),this.server=!!t.isServer,!this.server&&SC&&HF&&(HF=!1,function(u){for(var l=document.querySelectorAll(mot),c=0,f=l.length;c<f;c++){var h=l[c];h&&h.getAttribute(y0)!=="active"&&(Eot(u,h),h.parentNode&&h.parentNode.removeChild(h))}}(this))}a.registerId=function(t){return h2(t)};var e=a.prototype;return e.reconstructWithOptions=function(t,n){return n===void 0&&(n=!0),new a(Cv({},this.options,{},t),this.gs,n&&this.names||void 0)},e.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.getTag=function(){return this.tag||(this.tag=(o=(n=this.options).isServer,u=n.useCSSOMInjection,l=n.target,t=o?new _ot(l):u?new Sot(l):new wot(l),new pot(t)));var t,n,o,u,l},e.hasNameForId=function(t,n){return this.names.has(t)&&this.names.get(t).has(n)},e.registerName=function(t,n){if(h2(t),this.names.has(t))this.names.get(t).add(n);else{var o=new Set;o.add(n),this.names.set(t,o)}},e.insertRules=function(t,n,o){this.registerName(t,n),this.getTag().insertRules(h2(t),o)},e.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.clearRules=function(t){this.getTag().clearGroup(h2(t)),this.clearNames(t)},e.clearTag=function(){this.tag=void 0},e.toString=function(){return function(t){for(var n=t.getTag(),o=n.length,u="",l=0;l<o;l++){var c=got(l);if(c!==void 0){var f=t.names.get(c),h=n.getGroup(l);if(f&&h&&f.size){var v=y0+".g"+l+'[id="'+c+'"]',p="";f!==void 0&&f.forEach(function(g){g.length>0&&(p+=g+",")}),u+=""+h+v+'{content:"'+p+`"}/*!sc*/
`}}}return u}(this)},a}(),Cot=/(a)(d)/gi,YF=function(a){return String.fromCharCode(a+(a>25?39:97))};function _C(a){var e,t="";for(e=Math.abs(a);e>52;e=e/52|0)t=YF(e%52)+t;return(YF(e%52)+t).replace(Cot,"$1-$2")}var c1=function(a,e){for(var t=e.length;t;)a=33*a^e.charCodeAt(--t);return a},XF=function(a){return c1(5381,a)};function $F(a){for(var e=0;e<a.length;e+=1){var t=a[e];if(u1(t)&&!EC(t))return!1}return!0}var Tot=XF("5.3.3"),Mot=function(){function a(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(n===void 0||n.isStatic)&&$F(e),this.componentId=t,this.baseHash=c1(Tot,t),this.baseStyle=n,l1.registerId(t)}return a.prototype.generateAndInjectStyles=function(e,t,n){var o=this.componentId,u=[];if(this.baseStyle&&u.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(o,this.staticRulesId))u.push(this.staticRulesId);else{var l=Ey(this.rules,e,t,n).join(""),c=_C(c1(this.baseHash,l)>>>0);if(!t.hasNameForId(o,c)){var f=n(l,"."+c,void 0,o);t.insertRules(o,c,f)}u.push(c),this.staticRulesId=c}else{for(var h=this.rules.length,v=c1(this.baseHash,n.hash),p="",g=0;g<h;g++){var E=this.rules[g];if(typeof E=="string")p+=E;else if(E){var D=Ey(E,e,t,n),G=Array.isArray(D)?D.join(""):D;v=c1(v,G+g),p+=G}}if(p){var H=_C(v>>>0);if(!t.hasNameForId(o,H)){var X=n(p,"."+H,void 0,o);t.insertRules(o,H,X)}u.push(H)}}return u.join(" ")},a}(),Iot=/^\s*\/\/.*$/gm,Oot=[":","[",".","#"];function KF(a){var e,t,n,o,u=a===void 0?g0:a,l=u.options,c=l===void 0?g0:l,f=u.plugins,h=f===void 0?l2:f,v=new iot(c),p=[],g=function(G){function H(X){if(X)try{G(X+"}")}catch(rt){}}return function(X,rt,ht,mt,Dt,kt,Vt,te,le,pe){switch(X){case 1:if(le===0&&rt.charCodeAt(0)===64)return G(rt+";"),"";break;case 2:if(te===0)return rt+"/*|*/";break;case 3:switch(te){case 102:case 112:return G(ht[0]+rt),"";default:return rt+(pe===0?"/*|*/":"")}case-2:rt.split("/*|*/}").forEach(H)}}}(function(G){p.push(G)}),E=function(G,H,X){return H===0&&Oot.indexOf(X[t.length])!==-1||X.match(o)?G:"."+e};function D(G,H,X,rt){rt===void 0&&(rt="&");var ht=G.replace(Iot,""),mt=H&&X?X+" "+H+" { "+ht+" }":ht;return e=rt,t=H,n=new RegExp("\\"+t+"\\b","g"),o=new RegExp("(\\"+t+"\\b){2,}"),v(X||!H?"":H,mt)}return v.use([].concat(h,[function(G,H,X){G===2&&X.length&&X[0].lastIndexOf(t)>0&&(X[0]=X[0].replace(n,E))},g,function(G){if(G===-2){var H=p;return p=[],H}}])),D.hash=h.length?h.reduce(function(G,H){return H.name||xp(15),c1(G,H.name)},5381).toString():"",D}var AC=_e.createContext(),Uft=AC.Consumer,CC=_e.createContext(),ZF=(CC.Consumer,new l1),TC=KF();function MC(){return(0,_e.useContext)(AC)||ZF}function QF(){return(0,_e.useContext)(CC)||TC}function Dot(a){var e=(0,_e.useState)(a.stylisPlugins),t=e[0],n=e[1],o=MC(),u=(0,_e.useMemo)(function(){var c=o;return a.sheet?c=a.sheet:a.target&&(c=c.reconstructWithOptions({target:a.target},!1)),a.disableCSSOMInjection&&(c=c.reconstructWithOptions({useCSSOMInjection:!1})),c},[a.disableCSSOMInjection,a.sheet,a.target]),l=(0,_e.useMemo)(function(){return KF({options:{prefix:!a.disableVendorPrefixes},plugins:t})},[a.disableVendorPrefixes,t]);return(0,_e.useEffect)(function(){rot()(t,a.stylisPlugins)||n(a.stylisPlugins)},[a.stylisPlugins]),_e.createElement(AC.Provider,{value:u},_e.createElement(CC.Provider,{value:l},a.children))}var JF=function(){function a(e,t){var n=this;this.inject=function(o,u){u===void 0&&(u=TC);var l=n.name+u.hash;o.hasNameForId(n.id,l)||o.insertRules(n.id,l,u(n.rules,l,"@keyframes"))},this.toString=function(){return xp(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return a.prototype.getName=function(e){return e===void 0&&(e=TC),this.name+e.hash},a}(),Pot=/([A-Z])/,Lot=/([A-Z])/g,Rot=/^ms-/,Fot=function(a){return"-"+a.toLowerCase()};function qF(a){return Pot.test(a)?a.replace(Lot,Fot).replace(Rot,"-ms-"):a}var tN=function(a){return a==null||a===!1||a===""};function Ey(a,e,t,n){if(Array.isArray(a)){for(var o,u=[],l=0,c=a.length;l<c;l+=1)(o=Ey(a[l],e,t,n))!==""&&(Array.isArray(o)?u.push.apply(u,o):u.push(o));return u}if(tN(a))return"";if(EC(a))return"."+a.styledComponentId;if(u1(a)){if(typeof(h=a)!="function"||h.prototype&&h.prototype.isReactComponent||!e)return a;var f=a(e);return Ey(f,e,t,n)}var h;return a instanceof JF?t?(a.inject(t,n),a.getName(n)):a:xC(a)?function v(p,g){var E,D,G=[];for(var H in p)p.hasOwnProperty(H)&&!tN(p[H])&&(Array.isArray(p[H])&&p[H].isCss||u1(p[H])?G.push(qF(H)+":",p[H],";"):xC(p[H])?G.push.apply(G,v(p[H],H)):G.push(qF(H)+": "+(E=H,(D=p[H])==null||typeof D=="boolean"||D===""?"":typeof D!="number"||D===0||E in oot?String(D).trim():D+"px")+";"));return g?[g+" {"].concat(G,["}"]):G}(a):a.toString()}var eN=function(a){return Array.isArray(a)&&(a.isCss=!0),a};function d2(a){for(var e=arguments.length,t=new Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];return u1(a)||xC(a)?eN(Ey(WF(l2,[a].concat(t)))):t.length===0&&a.length===1&&typeof a[0]=="string"?a:eN(Ey(WF(a,t)))}var jft=/invalid hook call/i,Wft=new Set,Vft=function(a,e){if(!1)var t,n,o},IC=function(a,e,t){return t===void 0&&(t=g0),a.theme!==t.theme&&a.theme||e||t.theme},Not=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,kot=/(^-|-$)/g;function OC(a){return a.replace(Not,"-").replace(kot,"")}var DC=function(a){return _C(XF(a)>>>0)};function v2(a){return typeof a=="string"&&!0}var PC=function(a){return typeof a=="function"||typeof a=="object"&&a!==null&&!Array.isArray(a)},Bot=function(a){return a!=="__proto__"&&a!=="constructor"&&a!=="prototype"};function Got(a,e,t){var n=a[t];PC(e)&&PC(n)?rN(n,e):a[t]=e}function rN(a){for(var e=arguments.length,t=new Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];for(var o=0,u=t;o<u.length;o++){var l=u[o];if(PC(l))for(var c in l)Bot(c)&&Got(a,l[c],c)}return a}var Sy=_e.createContext(),Hft=Sy.Consumer;function Yft(a){var e=s(Sy),t=i(function(){return function(n,o){if(!n)return xp(14);if(u1(n)){var u=n(o);return u}return Array.isArray(n)||typeof n!="object"?xp(8):o?Cv({},o,{},n):n}(a.theme,e)},[a.theme,e]);return a.children?r.createElement(Sy.Provider,{value:t},a.children):null}var LC={};function nN(a,e,t){var n=EC(a),o=!v2(a),u=e.attrs,l=u===void 0?l2:u,c=e.componentId,f=c===void 0?function(rt,ht){var mt=typeof rt!="string"?"sc":OC(rt);LC[mt]=(LC[mt]||0)+1;var Dt=mt+"-"+DC("5.3.3"+mt+LC[mt]);return ht?ht+"-"+Dt:Dt}(e.displayName,e.parentComponentId):c,h=e.displayName,v=h===void 0?function(rt){return v2(rt)?"styled."+rt:"Styled("+bC(rt)+")"}(a):h,p=e.displayName&&e.componentId?OC(e.displayName)+"-"+e.componentId:e.componentId||f,g=n&&a.attrs?Array.prototype.concat(a.attrs,l).filter(Boolean):l,E=e.shouldForwardProp;n&&a.shouldForwardProp&&(E=e.shouldForwardProp?function(rt,ht,mt){return a.shouldForwardProp(rt,ht,mt)&&e.shouldForwardProp(rt,ht,mt)}:a.shouldForwardProp);var D,G=new Mot(t,p,n?a.componentStyle:void 0),H=G.isStatic&&l.length===0,X=function(rt,ht){return function(mt,Dt,kt,Vt){var te=mt.attrs,le=mt.componentStyle,pe=mt.defaultProps,De=mt.foldedComponentIds,Xe=mt.shouldForwardProp,pr=mt.styledComponentId,yr=mt.target,Vr=function(mn,Er,oi){mn===void 0&&(mn=g0);var mr=Cv({},Er,{theme:mn}),ki={};return oi.forEach(function(Xn){var qn,ai,va,Ii=Xn;for(qn in u1(Ii)&&(Ii=Ii(mr)),Ii)mr[qn]=ki[qn]=qn==="className"?(ai=ki[qn],va=Ii[qn],ai&&va?ai+" "+va:ai||va):Ii[qn]}),[mr,ki]}(IC(Dt,(0,_e.useContext)(Sy),pe)||g0,Dt,te),nr=Vr[0],Gr=Vr[1],en=function(mn,Er,oi,mr){var ki=MC(),Xn=QF(),qn=Er?mn.generateAndInjectStyles(g0,ki,Xn):mn.generateAndInjectStyles(oi,ki,Xn);return qn}(le,Vt,nr,void 0),cr=kt,Fr=Gr.$as||Dt.$as||Gr.as||Dt.as||yr,qr=v2(Fr),_r=Gr!==Dt?Cv({},Dt,{},Gr):Dt,kr={};for(var Yr in _r)Yr[0]!=="$"&&Yr!=="as"&&(Yr==="forwardedAs"?kr.as=_r[Yr]:(Xe?Xe(Yr,jF,Fr):!qr||jF(Yr))&&(kr[Yr]=_r[Yr]));return Dt.style&&Gr.style!==Dt.style&&(kr.style=Cv({},Dt.style,{},Gr.style)),kr.className=Array.prototype.concat(De,pr,en!==pr?en:null,Dt.className,Gr.className).filter(Boolean).join(" "),kr.ref=cr,(0,_e.createElement)(Fr,kr)}(D,rt,ht,H)};return X.displayName=v,(D=_e.forwardRef(X)).attrs=g,D.componentStyle=G,D.displayName=v,D.shouldForwardProp=E,D.foldedComponentIds=n?Array.prototype.concat(a.foldedComponentIds,a.styledComponentId):l2,D.styledComponentId=p,D.target=n?a.target:a,D.withComponent=function(rt){var ht=e.componentId,mt=function(kt,Vt){if(kt==null)return{};var te,le,pe={},De=Object.keys(kt);for(le=0;le<De.length;le++)te=De[le],Vt.indexOf(te)>=0||(pe[te]=kt[te]);return pe}(e,["componentId"]),Dt=ht&&ht+"-"+(v2(rt)?rt:OC(bC(rt)));return nN(rt,Cv({},mt,{attrs:g,componentId:Dt}),t)},Object.defineProperty(D,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(rt){this._foldedDefaultProps=n?rN({},a.defaultProps,rt):rt}}),D.toString=function(){return"."+D.styledComponentId},o&&hot()(D,a,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),D}var RC=function(a){return function e(t,n,o){if(o===void 0&&(o=g0),!(0,UF.isValidElementType)(n))return xp(1,String(n));var u=function(){return t(n,o,d2.apply(void 0,arguments))};return u.withConfig=function(l){return e(t,n,Cv({},o,{},l))},u.attrs=function(l){return e(t,n,Cv({},o,{attrs:Array.prototype.concat(o.attrs,l).filter(Boolean)}))},u}(nN,a)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(a){RC[a]=RC(a)});var zot=function(){function a(t,n){this.rules=t,this.componentId=n,this.isStatic=$F(t),l1.registerId(this.componentId+1)}var e=a.prototype;return e.createStyles=function(t,n,o,u){var l=u(Ey(this.rules,n,o,u).join(""),""),c=this.componentId+t;o.insertRules(c,c,l)},e.removeStyles=function(t,n){n.clearRules(this.componentId+t)},e.renderStyles=function(t,n,o,u){t>2&&l1.registerId(this.componentId+t),this.removeStyles(t,o),this.createStyles(t,n,o,u)},a}();function Uot(a){for(var e=arguments.length,t=new Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];var o=d2.apply(void 0,[a].concat(t)),u="sc-global-"+DC(JSON.stringify(o)),l=new zot(o,u);function c(h){var v=MC(),p=QF(),g=(0,_e.useContext)(Sy),E=(0,_e.useRef)(v.allocateGSInstance(u)).current;return v.server&&f(E,h,v,g,p),(0,_e.useLayoutEffect)(function(){if(!v.server)return f(E,h,v,g,p),function(){return l.removeStyles(E,v)}},[E,h,v,g,p]),null}function f(h,v,p,g,E){if(l.isStatic)l.renderStyles(h,vot,p,E);else{var D=Cv({},v,{theme:IC(v,g,c.defaultProps)});l.renderStyles(h,D,p,E)}}return _e.memo(c)}function Xft(a){for(var e=arguments.length,t=new Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];var o=d2.apply(void 0,[a].concat(t)).join(""),u=DC(o);return new JF(u,o)}var $ft=function(){function a(){var t=this;this._emitSheetCSS=function(){var n=t.instance.toString();if(!n)return"";var o=wC();return"<style "+[o&&'nonce="'+o+'"',y0+'="true"','data-styled-version="5.3.3"'].filter(Boolean).join(" ")+">"+n+"</style>"},this.getStyleTags=function(){return t.sealed?xp(2):t._emitSheetCSS()},this.getStyleElement=function(){var n;if(t.sealed)return xp(2);var o=((n={})[y0]="",n["data-styled-version"]="5.3.3",n.dangerouslySetInnerHTML={__html:t.instance.toString()},n),u=wC();return u&&(o.nonce=u),[_e.createElement("style",Cv({},o,{key:"sc-0-0"}))]},this.seal=function(){t.sealed=!0},this.instance=new l1({isServer:!0}),this.sealed=!1}var e=a.prototype;return e.collectStyles=function(t){return this.sealed?xp(2):_e.createElement(Dot,{sheet:this.instance},t)},e.interleaveWithNodeStream=function(t){return xp(3)},a}(),Kft=function(a){var e=r.forwardRef(function(t,n){var o=s(Sy),u=a.defaultProps,l=IC(t,o,u);return r.createElement(a,Cv({},t,{theme:l,ref:n}))});return y(e,a),e.displayName="WithTheme("+bC(a)+")",e},Zft=function(){return s(Sy)},Qft={StyleSheet:l1,masterSheet:ZF},p2=RC,iN=function(){if(typeof Map!="undefined")return Map;function a(e,t){var n=-1;return e.some(function(o,u){return o[0]===t?(n=u,!0):!1}),n}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(t){var n=a(this.__entries__,t),o=this.__entries__[n];return o&&o[1]},e.prototype.set=function(t,n){var o=a(this.__entries__,t);~o?this.__entries__[o][1]=n:this.__entries__.push([t,n])},e.prototype.delete=function(t){var n=this.__entries__,o=a(n,t);~o&&n.splice(o,1)},e.prototype.has=function(t){return!!~a(this.__entries__,t)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,n){n===void 0&&(n=null);for(var o=0,u=this.__entries__;o<u.length;o++){var l=u[o];t.call(n,l[1],l[0])}},e}()}(),FC=typeof window!="undefined"&&typeof document!="undefined"&&window.document===document,g2=function(){return typeof je.g!="undefined"&&je.g.Math===Math?je.g:typeof self!="undefined"&&self.Math===Math?self:typeof window!="undefined"&&window.Math===Math?window:Function("return this")()}(),jot=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(g2):function(a){return setTimeout(function(){return a(Date.now())},1e3/60)}}(),Wot=2;function Vot(a,e){var t=!1,n=!1,o=0;function u(){t&&(t=!1,a()),n&&c()}function l(){jot(u)}function c(){var f=Date.now();if(t){if(f-o<Wot)return;n=!0}else t=!0,n=!1,setTimeout(l,e);o=f}return c}var Hot=20,Yot=["top","right","bottom","left","width","height","size","weight"],Xot=typeof MutationObserver!="undefined",$ot=function(){function a(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=Vot(this.refresh.bind(this),Hot)}return a.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},a.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},a.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},a.prototype.updateObservers_=function(){var e=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return e.forEach(function(t){return t.broadcastActive()}),e.length>0},a.prototype.connect_=function(){!FC||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Xot?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},a.prototype.disconnect_=function(){!FC||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},a.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=t===void 0?"":t,o=Yot.some(function(u){return!!~n.indexOf(u)});o&&this.refresh()},a.getInstance=function(){return this.instance_||(this.instance_=new a),this.instance_},a.instance_=null,a}(),aN=function(a,e){for(var t=0,n=Object.keys(e);t<n.length;t++){var o=n[t];Object.defineProperty(a,o,{value:e[o],enumerable:!1,writable:!1,configurable:!0})}return a},f1=function(a){var e=a&&a.ownerDocument&&a.ownerDocument.defaultView;return e||g2},oN=m2(0,0,0,0);function y2(a){return parseFloat(a)||0}function sN(a){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.reduce(function(n,o){var u=a["border-"+o+"-width"];return n+y2(u)},0)}function Kot(a){for(var e=["top","right","bottom","left"],t={},n=0,o=e;n<o.length;n++){var u=o[n],l=a["padding-"+u];t[u]=y2(l)}return t}function Zot(a){var e=a.getBBox();return m2(0,0,e.width,e.height)}function Qot(a){var e=a.clientWidth,t=a.clientHeight;if(!e&&!t)return oN;var n=f1(a).getComputedStyle(a),o=Kot(n),u=o.left+o.right,l=o.top+o.bottom,c=y2(n.width),f=y2(n.height);if(n.boxSizing==="border-box"&&(Math.round(c+u)!==e&&(c-=sN(n,"left","right")+u),Math.round(f+l)!==t&&(f-=sN(n,"top","bottom")+l)),!qot(a)){var h=Math.round(c+u)-e,v=Math.round(f+l)-t;Math.abs(h)!==1&&(c-=h),Math.abs(v)!==1&&(f-=v)}return m2(o.left,o.top,c,f)}var Jot=function(){return typeof SVGGraphicsElement!="undefined"?function(a){return a instanceof f1(a).SVGGraphicsElement}:function(a){return a instanceof f1(a).SVGElement&&typeof a.getBBox=="function"}}();function qot(a){return a===f1(a).document.documentElement}function tst(a){return FC?Jot(a)?Zot(a):Qot(a):oN}function est(a){var e=a.x,t=a.y,n=a.width,o=a.height,u=typeof DOMRectReadOnly!="undefined"?DOMRectReadOnly:Object,l=Object.create(u.prototype);return aN(l,{x:e,y:t,width:n,height:o,top:t,right:e+n,bottom:o+t,left:e}),l}function m2(a,e,t,n){return{x:a,y:e,width:t,height:n}}var rst=function(){function a(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=m2(0,0,0,0),this.target=e}return a.prototype.isActive=function(){var e=tst(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},a.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},a}(),nst=function(){function a(e,t){var n=est(t);aN(this,{target:e,contentRect:n})}return a}(),ist=function(){function a(e,t,n){if(this.activeObservations_=[],this.observations_=new iN,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return a.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element=="undefined"||!(Element instanceof Object))){if(!(e instanceof f1(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new rst(e)),this.controller_.addObserver(this),this.controller_.refresh())}},a.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element=="undefined"||!(Element instanceof Object))){if(!(e instanceof f1(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;!t.has(e)||(t.delete(e),t.size||this.controller_.removeObserver(this))}},a.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},a.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},a.prototype.broadcastActive=function(){if(!!this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(n){return new nst(n.target,n.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},a.prototype.clearActive=function(){this.activeObservations_.splice(0)},a.prototype.hasActive=function(){return this.activeObservations_.length>0},a}(),uN=typeof WeakMap!="undefined"?new WeakMap:new iN,lN=function(){function a(e){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=$ot.getInstance(),n=new ist(e,t,this);uN.set(this,n)}return a}();["observe","unobserve","disconnect"].forEach(function(a){lN.prototype[a]=function(){var e;return(e=uN.get(this))[a].apply(e,arguments)}});var ast=function(){return typeof g2.ResizeObserver!="undefined"?g2.ResizeObserver:lN}(),ost=ast;function rf(a){return a.children==null||a.children.length===0}function x2(a,e="pre"){const t=[];return n(a),t;function n(o){if(o!=null)for(const u of o)rf(u)?t.push(u):e==="pre"?(t.push(u),n(u.children)):e==="post"?(n(u.children),t.push(u)):n(u.children)}}function cN(a){let e=-1;return t(a,0),e;function t(n,o){for(const u of n)rf(u)?e=Math.max(e,o):t(u.children,o+1)}}function NC(a,e){const t=new Map;for(const n of a){const o=e(n);t.has(o)||t.set(o,[]),t.get(o).push(n)}return t}function Jft(a,e){const t=[];return a.forEach((n,o)=>{t.push(...e(n,o,a))}),t}function fN(a){const e={};for(const[t,n]of a)e[t]=n;return e}const qft={diff(a,e){const t=new Set(e);return a.filter(n=>!t.has(n))},merge(a,e){const t=new Set(a);return a.concat(e.filter(n=>!t.has(n)))}};function b2(a){return(...e)=>a}class sst{constructor(){this.rects=[]}testSkip(e,t){return this.rects.some(({left:n,right:o,top:u,bottom:l})=>n<=t&&t<o&&u<=e&&e<l)}stripUpwards(e){this.rects=this.rects.filter(t=>t.bottom>e)}add(e,t,n,o){this.rects.push({left:t,right:t+n,top:e,bottom:e+o})}}function ust(a){var e;return(e=a.title)!==null&&e!==void 0?e:a.name}function kC(a,e,t){return a.getValue?a.getValue(e,t):e[a.code]}function lst(a,e,t){let n;return typeof a=="string"?n=e[a]:typeof a=="function"&&(n=a(e)),n==null&&(n=String(t)),n}function cst(a,e,t){if(a.getCellProps){const n=kC(a,e,t);return a.getCellProps(n,e,t)||{}}return{}}function fst(a,e,t){const n=kC(a,e,t);return a.render?a.render(n,e,t):n}const Mb={safeRenderHeader:ust,safeGetValue:kC,safeGetRowKey:lst,safeGetCellProps:cst,safeRender:fst};function hst(a,e){return(...t)=>{a(t),e(t)}}function hN(a,e){if(a==null)return e;if(e==null)return a;const t=Object.assign({},a);for(const n of Object.keys(e)){const o=e[n],u=typeof o;if(o===null)t[n]=null;else if(o!==void 0)if(u==="number"||u==="string"||u==="boolean")n==="className"?t[n]=Cf()(t[n],o):t[n]=o;else if(u==="function"){const l=t[n];l==null?t[n]=o:t[n]=hst(l,o)}else u==="object"&&(t[n]=Object.assign({},t[n],o))}return t}const dst=(Uot!=null?"v5":"v3")==="v3"?"innerRef":"ref",m0=100,dN=100;function Ib(a){let e=0;return a.forEach(t=>{e+=t}),e}const vN=tat(()=>s2(window,"resize",{passive:!0}).pipe(Qat(150,CF,{leading:!0,trailing:!0})));function pN(){const a=document.createElement("div");a.style.position="absolute",a.style.width="100px",a.style.height="100px",a.style.overflow="scroll",a.style.top="-9999px",document.body.appendChild(a);const e=a.offsetWidth-a.clientWidth,t=a.offsetHeight-a.clientHeight;return document.body.removeChild(a),{width:e,height:t}}let E2;function vst(){return E2==null&&(E2=new IF(pN()),vN.pipe(_g(()=>pN())).subscribe(E2)),E2.value}function pst(a,e){const t=new Set;function n(u,l){t.clear();for(const c of a)c!==u&&(c.scrollLeft=l,t.add(c))}const o=new _v;for(const u of a){const l=()=>{if(t.has(u)){t.delete(u);return}const c=u.scrollLeft;n(u,c),e(c)};u.addEventListener("scroll",l,{passive:!0}),o.add(()=>u.removeEventListener("scroll",l))}return o}function gN(a,e){const t=Object.prototype.hasOwnProperty;if(Object.is(a,e))return!0;if(typeof a!="object"||a===null||typeof e!="object"||e===null)return!1;const n=Object.keys(a),o=Object.keys(e);if(n.length!==o.length)return!1;for(let u=0;u<n.length;u++)if(!t.call(e,n[u])||!Object.is(a[n[u]],e[n[u]]))return!1;return!0}function BC(a,e){return a==null||a==="auto"?e:a}let yN=!1;function eht(a){yN||(yN=!0,console.warn("[ali-react-table] lock=true \u7684\u5217\u9700\u8981\u6307\u5B9A\u5BBD\u5EA6",a))}let mN=!1;function gst(a){mN||(mN=!0,console.warn("[ali-react-table] column.hidden \u5DF2\u7ECF\u8FC7\u65F6\uFF0C\u5982\u679C\u9700\u8981\u9690\u85CF\u8BE5\u5217\uFF0C\u8BF7\u5C06\u5176\u4ECE columns \u6570\u7EC4\u4E2D\u79FB\u9664",a))}function yst(a,e){(a==null||!Array.isArray(a))&&(console.warn("[ali-react-table] <BaseTable /> props.columns \u9700\u8981\u4F20\u5165\u4E00\u4E2A\u6570\u7EC4",a),a=[]);function t(n){const o=[];for(let u of n)if(u.width==null&&e!=null&&(u=Object.assign(Object.assign({},u),{width:e})),rf(u))u.hidden?gst(u):o.push(u);else{const l=t(u.children);l.length>0&&o.push(Object.assign(Object.assign({},u),{children:l}))}return o}return t(a)}function xN(a){let e=0;for(const n of a)if(t(n))e+=1;else break;return e;function t(n){return rf(n)?n.lock:n.lock||n.children.some(t)}}function mst({offsetX:a,maxRenderWidth:e,flat:t,useVirtual:n}){if(!n.horizontal)return{leftIndex:0,leftBlank:0,rightIndex:t.full.length,rightBlank:0};let o=0,u=0,l=0,c=0;const f=Math.max(0,a-m0);for(;o<t.center.length;){const g=t.center[o];if(g.width+l<f)o+=1,l+=g.width;else break}const h=e+(f-l)+2*m0;for(;o+u<t.center.length;){const g=t.center[o+u];if(g.width+c<h)c+=g.width,u+=1;else break}const v=t.center.length-o-u,p=Ib(t.center.slice(t.center.length-v).map(g=>g.width));return{leftIndex:o,leftBlank:l,rightIndex:o+u,rightBlank:p}}function xst(a){const{offsetX:e,maxRenderWidth:t}=a.state,{useVirtual:n,columns:o,dataSource:u,defaultColumnWidth:l}=a.props,c=yst(o,l),f=xN(c),h=x2(c,"leaf-only");let v,p,g;if(f===c.length)v={left:[],right:[],full:h,center:h},p={left:[],right:[],full:c,center:c},g={horizontal:!1,vertical:!1,header:!1};else{const yr=c.slice(0,f),Vr=xN(c.slice().reverse()),nr=c.slice(f,c.length-Vr),Gr=c.slice(c.length-Vr),en=h.length>=dN&&h.every(Fr=>Fr.width!=null),cr=u.length>=dN;g={horizontal:BC(typeof n=="object"?n.horizontal:n,en),vertical:BC(typeof n=="object"?n.vertical:n,cr),header:BC(typeof n=="object"?n.header:n,!1)},v={left:x2(yr,"leaf-only"),full:h,right:x2(Gr,"leaf-only"),center:x2(nr,"leaf-only")},p={left:yr,full:c,right:Gr,center:nr}}const E=mst({maxRenderWidth:t,offsetX:e,useVirtual:g,flat:v}),D=a.getVerticalRenderRange(g),{leftBlank:G,leftIndex:H,rightBlank:X,rightIndex:rt}=E,mt=[...v.left.map((yr,Vr)=>({type:"normal",col:yr,colIndex:Vr})),G>0&&{type:"blank",blankSide:"left",width:G},...v.center.slice(H,rt).map((yr,Vr)=>({type:"normal",col:yr,colIndex:v.left.length+H+Vr})),X>0&&{type:"blank",blankSide:"right",width:X},...v.right.map((yr,Vr)=>({type:"normal",col:yr,colIndex:v.full.length-v.right.length+Vr}))].filter(Boolean),Dt=v.full.length,kt=v.left.length,Vt=v.right.length,te=new Map;let le=0;for(let yr=0;yr<kt;yr++)te.set(yr,le),le+=v.full[yr].width;const pe=new Map;let De=0;for(let yr=0;yr<Vt;yr++)pe.set(Dt-1-yr,De),De+=v.full[Dt-1-yr].width;const Xe=Ib(v.left.map(yr=>yr.width)),pr=Ib(v.right.map(yr=>yr.width));return{horizontalRenderRange:E,verticalRenderRange:D,visible:mt,flat:v,nested:p,useVirtual:g,stickyLeftMap:te,stickyRightMap:pe,leftLockTotalWidth:Xe,rightLockTotalWidth:pr,hasLockColumn:p.left.length>0||p.right.length>0}}function bN({descriptors:a}){return _e.createElement("colgroup",null,a.map(e=>e.type==="blank"?_e.createElement("col",{key:e.blankSide,style:{width:e.width}}):_e.createElement("col",{key:e.colIndex,style:{width:e.col.width}})))}const S2=20,Yl="art-",ca={artTableWrapper:`${Yl}table-wrapper`,artTable:`${Yl}table`,tableHeader:`${Yl}table-header`,tableBody:`${Yl}table-body`,tableFooter:`${Yl}table-footer`,tableRow:`${Yl}table-row`,tableHeaderRow:`${Yl}table-header-row`,tableCell:`${Yl}table-cell`,tableHeaderCell:`${Yl}table-header-cell`,virtualBlank:`${Yl}virtual-blank`,stickyScroll:`${Yl}sticky-scroll`,stickyScrollItem:`${Yl}sticky-scroll-item`,horizontalScrollContainer:`${Yl}horizontal-scroll-container`,lockShadowMask:`${Yl}lock-shadow-mask`,lockShadow:`${Yl}lock-shadow`,leftLockShadow:`${Yl}left-lock-shadow`,rightLockShadow:`${Yl}right-lock-shadow`,emptyWrapper:`${Yl}empty-wrapper`,loadingWrapper:`${Yl}loading-wrapper`,loadingIndicatorWrapper:`${Yl}loading-indicator-wrapper`,loadingIndicator:`${Yl}loading-indicator`},h1={lock:5,header:15,footer:10,lockShadow:20,scrollItem:30,loadingIndicator:40},bst=d2`
  border-top: var(--cell-border-horizontal);
  border-right: var(--cell-border-vertical);
  border-bottom: var(--cell-border-horizontal);
  border-left: var(--cell-border-vertical);

  td.first,
  th.first {
    border-left: none;
  }
  td.last,
  th.last {
    border-right: none;
  }

  thead tr.first th,
  tbody tr.first td {
    border-top: none;
  }
  &.has-footer tfoot tr.last td {
    border-bottom: none;
  }
  &:not(.has-footer) tbody tr.last td {
    border-bottom: none;
  }
`,Est=p2.div`
  --row-height: 48px;
  --color: #333;
  --bgcolor: white;
  --hover-bgcolor: var(--hover-color, #f5f5f5);
  --highlight-bgcolor: #eee;

  --header-row-height: 32px;
  --header-color: #5a6c84;
  --header-bgcolor: #e9edf2;
  --header-hover-bgcolor: #ddd;
  --header-highlight-bgcolor: #e4e8ed;

  --cell-padding: 8px 12px;
  --font-size: 12px;
  --line-height: 1.28571;
  --lock-shadow: rgba(152, 152, 152, 0.5) 0 0 6px 2px;

  --border-color: #dfe3e8;
  --cell-border: 1px solid var(--border-color);
  --cell-border-horizontal: var(--cell-border);
  --cell-border-vertical: var(--cell-border);
  --header-cell-border: 1px solid var(--border-color);
  --header-cell-border-horizontal: var(--header-cell-border);
  --header-cell-border-vertical: var(--header-cell-border);

  box-sizing: border-box;
  * {
    box-sizing: border-box;
  }
  cursor: default;
  color: var(--color);
  font-size: var(--font-size);
  line-height: var(--line-height);
  position: relative;
  overflow-anchor: none;

  // 表格外边框由 art-table-wrapper 提供，而不是由单元格提供
  &.use-outer-border {
    ${bst};
  }

  .no-scrollbar {
    // firefox 中移除滚动条
    scrollbar-width: none;

    // 其他浏览器中移除滚动条
    ::-webkit-scrollbar {
      display: none;
    }
  }

  .${ca.tableHeader} {
    overflow-x: auto;
    overflow-y: hidden;
    background: var(--header-bgcolor);
  }

  .${ca.tableBody}, .${ca.tableFooter} {
    overflow-x: auto;
    overflow-y: hidden;
    background: var(--bgcolor);
  }

  &.sticky-header .${ca.tableHeader} {
    position: sticky;
    top: 0;
    z-index: ${h1.header};
  }

  &.sticky-footer .${ca.tableFooter} {
    position: sticky;
    bottom: 0;
    z-index: ${h1.footer};
  }

  table {
    width: 100%;
    table-layout: fixed;
    border-collapse: separate;
    border-spacing: 0;
    display: table;
    margin: 0;
    padding: 0;
  }

  // 在 tr 上设置 .no-hover 可以禁用鼠标悬停效果
  tr:not(.no-hover):hover > td {
    background: var(--hover-bgcolor);
  }
  // 在 tr 设置 highlight 可以为底下的 td 设置为高亮色
  // 而设置 .no-highlight 的话则可以禁用高亮效果；
  tr:not(.no-highlight).highlight > td {
    background: var(--highlight-bgcolor);
  }

  th {
    font-weight: normal;
    text-align: left;
    padding: var(--cell-padding);
    height: var(--header-row-height);
    color: var(--header-color);
    background: var(--header-bgcolor);
    border: none;
    border-right: var(--header-cell-border-vertical);
    border-bottom: var(--header-cell-border-horizontal);
  }
  tr.first th {
    border-top: var(--header-cell-border-horizontal);
  }
  th.first {
    border-left: var(--header-cell-border-vertical);
  }

  td {
    padding: var(--cell-padding);
    background: var(--bgcolor);
    height: var(--row-height);
    border: none;
    border-right: var(--cell-border-vertical);
    border-bottom: var(--cell-border-horizontal);
  }
  td.first {
    border-left: var(--cell-border-vertical);
  }
  tr.first td {
    border-top: var(--cell-border-horizontal);
  }
  &.has-header tbody tr.first td {
    border-top: none;
  }
  &.has-footer tbody tr.last td {
    border-bottom: none;
  }

  .lock-left,
  .lock-right {
    z-index: ${h1.lock};
  }

  //#region 锁列阴影
  .${ca.lockShadowMask} {
    position: absolute;
    top: 0;
    bottom: 0;
    z-index: ${h1.lockShadow};
    pointer-events: none;
    overflow: hidden;

    .${ca.lockShadow} {
      height: 100%;
    }

    .${ca.leftLockShadow} {
      margin-right: ${S2}px;
      box-shadow: none;

      &.show-shadow {
        box-shadow: var(--lock-shadow);
        border-right: var(--cell-border-vertical);
      }
    }

    .${ca.rightLockShadow} {
      margin-left: ${S2}px;
      box-shadow: none;

      &.show-shadow {
        box-shadow: var(--lock-shadow);
        border-left: var(--cell-border-vertical);
      }
    }
  }
  //#endregion

  //#region 空表格展现
  .${ca.emptyWrapper} {
    pointer-events: none;
    color: #99a3b3;
    font-size: 12px;
    text-align: center;
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);

    .empty-image {
      width: 50px;
      height: 50px;
    }

    .empty-tips {
      margin-top: 16px;
      line-height: 1.5;
    }
  }
  //#endregion

  //#region 粘性滚动条
  .${ca.stickyScroll} {
    overflow: auto;
    position: sticky;
    bottom: 0;
    z-index: ${h1.scrollItem};
    margin-top: -17px;
  }

  .${ca.stickyScrollItem} {
    // 必须有高度才能出现滚动条
    height: 1px;
    visibility: hidden;
  }
  //#endregion

  //#region 加载样式
  .${ca.loadingWrapper} {
    position: relative;

    .${ca.loadingIndicatorWrapper} {
      position: absolute;
      left: 0;
      right: 0;
      top: 0;
      bottom: 0;
      pointer-events: none;
    }

    .${ca.loadingIndicator} {
      position: sticky;
      z-index: ${h1.loadingIndicator};
      transform: translateY(-50%);
    }
  }
  //#endregion
`,Sst=_e.memo(()=>_e.createElement(_e.Fragment,null,_e.createElement("img",{alt:"empty-image",className:"empty-image",src:"//img.alicdn.com/tfs/TB1l1LcM3HqK1RjSZJnXXbNLpXa-50-50.svg"}),_e.createElement("div",{className:"empty-tips"},"\u6CA1\u6709\u7B26\u5408\u67E5\u8BE2\u6761\u4EF6\u7684\u6570\u636E",_e.createElement("br",null),"\u8BF7\u4FEE\u6539\u6761\u4EF6\u540E\u91CD\u65B0\u67E5\u8BE2")));function wst({descriptors:a,isLoading:e,emptyCellHeight:t,EmptyContent:n=Sst}){const o=!e;return _e.createElement("table",null,_e.createElement(bN,{descriptors:a}),_e.createElement("tbody",null,_e.createElement("tr",{className:Cf()(ca.tableRow,"first","last","no-hover"),"data-rowindex":0},_e.createElement("td",{className:Cf()(ca.tableCell,"first","last"),colSpan:a.length,style:{height:t!=null?t:200}},o&&_e.createElement("div",{className:ca.emptyWrapper},_e.createElement(n,null))))))}function _st(a){const e=[];for(let t=0;t<a;t++)e.push(t);return e}function Ast(a,e,t){return n(a,t).filtered;function n(o,u){let l=0;const c=[];for(const f of o){const h=u+l;if(rf(f))l+=1,t+e.leftIndex<=h&&h<t+e.rightIndex&&c.push({colIndex:h,col:f});else{const v=n(f.children,h);l+=v.leafCount,v.filtered.length>0&&c.push({colIndex:h,col:f,children:v.filtered})}}return{filtered:c,leafCount:l}}}function w2(a,e){const t=[];for(let u=0;u<e;u++)t.push([]);const n=[];return o(a,0),{flat:n,leveled:t};function o(u,l){let c=0;for(let f=0;f<u.length;f++){const h=u[f];if(rf(h)){c+=1;const v={type:"normal",width:h.col.width,col:h.col,colIndex:h.colIndex,colSpan:1,isLeaf:!0};t[l].push(v),n.push(v)}else{const v=o(h.children,l+1);c+=v.leafCount,v.leafCount>0&&t[l].push({type:"normal",width:h.col.width,col:h.col,colIndex:h.colIndex,colSpan:v.leafCount,isLeaf:!1})}}return{leafCount:c}}}function GC(a,e){return t(a,e).result;function t(n,o){const u=[];let l=0;for(let c=0;c<n.length;c++){const f=n[c],h=o+l;if(rf(f))l+=1,u.push({colIndex:h,col:f});else{const v=t(f.children,h);l+=v.leafCount,v.leafCount>0&&u.push({col:f,colIndex:h,children:v.result})}}return{result:u,leafCount:l}}}function Cst({flat:a,nested:e,horizontalRenderRange:t,useVirtual:n},o){if(n.header){const u=w2(GC(e.left,0),o),l=Ast(e.center,t,a.left.length),c=w2(l,o),f=w2(GC(e.right,a.left.length+a.center.length),o);return{flat:[...u.flat,{type:"blank",width:t.leftBlank,blankSide:"left"},...c.flat,{type:"blank",width:t.rightBlank,blankSide:"right"},...f.flat],leveled:_st(o).map(h=>[...u.leveled[h],{type:"blank",width:t.leftBlank,blankSide:"left"},...c.leveled[h],{type:"blank",width:t.rightBlank,blankSide:"right"},...f.leveled[h]])}}return w2(GC(e.full,0),o)}function Tst({info:a}){const{nested:e,flat:t,stickyLeftMap:n,stickyRightMap:o}=a,u=cN(e.full)+1,l=Cst(a,u),c=t.full.length,f=t.left.length,h=t.right.length,v=l.leveled.map((p,g)=>{const E=p.map(D=>{var G,H;if(D.type==="normal"){const{colIndex:X,colSpan:rt,isLeaf:ht,col:mt}=D,Dt=(G=mt.headerCellProps)!==null&&G!==void 0?G:{},kt={};return X<f?(kt.position="sticky",kt.left=n.get(X)):X>=c-h&&(kt.position="sticky",kt.right=o.get(X+rt-1)),_e.createElement("th",Object.assign({key:X},Dt,{className:Cf()(ca.tableHeaderCell,Dt.className,{first:X===0,last:X+rt===c,"lock-left":X<f,"lock-right":X>=c-h}),colSpan:rt,rowSpan:ht?u-g:void 0,style:Object.assign(Object.assign({textAlign:mt.align},Dt.style),kt)}),(H=mt.title)!==null&&H!==void 0?H:mt.name)}else return D.width>0?_e.createElement("th",{key:D.blankSide}):null});return _e.createElement("tr",{key:g,className:Cf()(ca.tableHeaderRow,{first:g===0,last:g===u-1})},E)});return _e.createElement("table",null,_e.createElement("colgroup",null,l.flat.map(p=>p.type==="blank"?p.width>0?_e.createElement("col",{key:p.blankSide,style:{width:p.width}}):null:_e.createElement("col",{key:p.colIndex,style:{width:p.width}}))),_e.createElement("thead",null,v))}function x0(a){return a?(a.nodeName||"").toLowerCase():null}function wy(a){if(a==null)return window;if(a.toString()!=="[object Window]"){var e=a.ownerDocument;return e&&e.defaultView||window}return a}function d1(a){return wy(a).getComputedStyle(a)}function Mst(a){var e=wy(a).Element;return a instanceof e||a instanceof Element}function _2(a){var e=wy(a).HTMLElement;return a instanceof e||a instanceof HTMLElement}function Ist(a){if(typeof ShadowRoot=="undefined")return!1;var e=wy(a).ShadowRoot;return a instanceof e||a instanceof ShadowRoot}function Ost(a){return["table","td","th"].indexOf(x0(a))>=0}function Dst(a){return((Mst(a)?a.ownerDocument:a.document)||window.document).documentElement}function EN(a){return x0(a)==="html"?a:a.assignedSlot||a.parentNode||(Ist(a)?a.host:null)||Dst(a)}function SN(a){return!_2(a)||d1(a).position==="fixed"?null:a.offsetParent}function Pst(a){var e=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,t=navigator.userAgent.indexOf("Trident")!==-1;if(t&&_2(a)){var n=d1(a);if(n.position==="fixed")return null}for(var o=EN(a);_2(o)&&["html","body"].indexOf(x0(o))<0;){var u=d1(o);if(u.transform!=="none"||u.perspective!=="none"||u.contain==="paint"||["transform","perspective"].indexOf(u.willChange)!==-1||e&&u.willChange==="filter"||e&&u.filter&&u.filter!=="none")return o;o=o.parentNode}return null}function zC(a){for(var e=wy(a),t=SN(a);t&&Ost(t)&&d1(t).position==="static";)t=SN(t);return t&&(x0(t)==="html"||x0(t)==="body"&&d1(t).position==="static")?e:t||Pst(a)||e}function Lst(a){var e=wy(a),t=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:t,scrollTop:n}}function Rst(a){var e=d1(a),t=e.overflow,n=e.overflowX,o=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+o+n)}function _y(a){return a.toString()==="[object Window]"}function Fst(a){return x0(a)==="body"}function Nst(a){return x0(a)==="html"}function wN(a){return Nst(a)||Fst(a)}function _N(a,e,t){let n=0,o=a;for(;o!=null&&(n+=o[t],!(o===e||_y(e)&&wN(o)));)o=o.parentElement;return _y(e)&&(n+=Lst(o)[t]),n}function AN(a,e){if(_y(e)||wN(e))return{left:0,right:window.innerWidth,top:0,bottom:window.innerHeight};let t=0,n=0,o=e;for(;o!=null&&o!=a;){n+=o.offsetTop,t+=o.offsetLeft;const u=zC(o);if(n-=_N(o.parentElement,u,"scrollTop"),t-=_N(o.parentElement,u,"scrollLeft"),_y(u))break;n+=u.clientTop,t+=u.clientLeft,o=u}return{top:n,bottom:n+e.offsetHeight,left:t,right:t+e.offsetWidth}}function kst(a,e){return _y(e)||Bst(a).includes(e)?e:zC(e)}function Bst(a){const e=[];let t=a;for(;!_y(t);)t=zC(t),e.push(t);return e}function Gst(a){return s2(a,"scroll",{passive:!0})}function CN(a){return _y(a)?s2(a,"resize",{passive:!0}):new ef(e=>{const t=new ost(n=>{e.next(n)});return t.observe(a),()=>{t.disconnect()}})}function TN(a){return["html","body","#document"].includes(x0(a))?wy(a):_2(a)&&Rst(a)?a:TN(EN(a))}function zst(a,e,t){return e.pipe(FF("init"),_g(()=>{const n=TN(a),o=kst(a,n);return{scrollParent:n,commonOffsetAncestor:o}}),yC(gN),NF(n=>{t&&console.log(`%c[ali-react-table STRUCTURE ${t}]`,"color: #4f9052; font-weight: bold",`
target:`,a,`
scrollParent:`,n.scrollParent,`
commonOffsetAncestor:`,n.commonOffsetAncestor)}),kF(({scrollParent:n,commonOffsetAncestor:o})=>hat(Gst(n),CN(n),CN(a)).pipe(_g(l=>({targetRect:AN(o,a),scrollParentRect:AN(o,n),event:l})),_g(({event:l,scrollParentRect:c,targetRect:f})=>({event:l,targetRect:f,scrollParentRect:c,offsetY:Math.max(0,c.top-f.top),clipRect:{left:Math.max(f.left,c.left),top:Math.max(f.top,c.top),right:Math.min(f.right,c.right),bottom:Math.min(f.bottom,c.bottom)}})))),NF(n=>{t&&console.log(`%c[ali-react-table RECTS ${t}]`,"color: #4f9052; font-weight: bold",`
offsetY:`,n.offsetY,`
targetRect:`,n.targetRect,`
scrollParentRect:`,n.scrollParentRect,`
clipRect:`,n.clipRect,`
event:`,n.event)}))}function Ust(a){return{topIndex:0,topBlank:0,bottomIndex:a,bottomBlank:0}}function jst(a,e){const t=new Array(a).fill(e);function n(u,l,c){if(t.length!==c&&H(c),l<=0)return u<=0?f():h();return v();function f(){const X={topIndex:0,topBlank:0},rt=E(0,X);return Object.assign(Object.assign({},X),rt)}function h(){const X=G(c),rt=p(X),ht=E(X,rt);return Object.assign(Object.assign({},rt),ht)}function v(){const X=p(u),rt=E(u+l,X);return Object.assign(Object.assign({},X),rt)}function p(X){if(t.length===0)return{topIndex:0,topBlank:0};let rt=0,ht=0;for(;rt<t.length;){const mt=t[rt];if(ht+mt>=X)break;ht+=mt,rt+=1}return g(rt,ht)}function g(X,rt){let ht=0,mt=0;for(;mt<X&&ht<m0;)mt+=1,ht+=t[X-mt];return{topIndex:X-mt,topBlank:rt-ht}}function E(X,rt){let ht=rt.topIndex,mt=rt.topBlank;for(;ht<c&&mt<X;)mt+=t[ht],ht+=1;const Dt=G(c)-mt;return D(ht,Dt)}function D(X,rt){let ht=0,mt=0;for(;mt<c-X&&ht<m0;)ht+=t[X+mt],mt+=1;return{bottomIndex:X+mt,bottomBlank:rt-ht}}function G(X){return Ib(t)+(X-t.length)*e}function H(X){if(X<t.length)t.length=X;else{const rt=t.length;t.length=X,t.fill(e,rt)}}}function o(u,l,c){t[u]=c}return{getRenderRange:n,updateRow:o,cache:t}}class Wst{constructor(e){this.artTableWrapper=e,this.artTable=e.querySelector(`.${ca.artTable}`),this.tableHeader=this.artTable.querySelector(`:scope > .${ca.tableHeader}`),this.tableBody=this.artTable.querySelector(`:scope > .${ca.tableBody}`),this.tableFooter=this.artTable.querySelector(`:scope > .${ca.tableFooter}`);const t=`.${ca.artTable} + .${ca.stickyScroll}`;this.stickyScroll=e.querySelector(t),this.stickyScrollItem=this.stickyScroll.querySelector(`.${ca.stickyScrollItem}`)}getVirtualTop(){return this.tableBody.querySelector(`.${ca.virtualBlank}.top`)}getTableRows(){return this.getTableBodyHtmlTable().querySelectorAll(`:scope > tbody > .${ca.tableRow}`)}getTableBodyHtmlTable(){return this.artTable.querySelector(`.${ca.tableBody} table`)}getLeftLockShadow(){const e=`:scope > .${ca.lockShadowMask} .${ca.leftLockShadow}`;return this.artTable.querySelector(e)}getRightLockShadow(){const e=`:scope > .${ca.lockShadowMask} .${ca.rightLockShadow}`;return this.artTable.querySelector(e)}getLoadingIndicator(){return this.artTableWrapper.querySelector(`.${ca.loadingIndicator}`)}}function MN({tbodyHtmlTag:a,getRowProps:e,primaryKey:t,data:n,verticalRenderInfo:o,horizontalRenderInfo:u,components:{Row:l,Cell:c,TableBody:f}}){const{flat:h,horizontalRenderRange:v}=u,p=new sst,g=h.full.length,E=h.left.length,D=h.right.length,G=f!=null&&a==="tbody"?_e.createElement(f,{tbodyProps:{children:n.map(H)}}):_e.createElement(a,null,n.map(H));return _e.createElement("table",null,_e.createElement(bN,{descriptors:u.visible}),G);function H(rt,ht){const mt=o.offset+ht;p.stripUpwards(mt);const Dt=e(rt,mt),kt=Cf()(ca.tableRow,{first:mt===o.first,last:mt===o.last,even:mt%2===0,odd:mt%2===1},Dt==null?void 0:Dt.className),Vt=Object.assign(Object.assign({},Dt),{className:kt,"data-rowindex":mt,children:u.visible.map(le=>le.type==="blank"?_e.createElement("td",{key:le.blankSide}):X(rt,mt,le.col,le.colIndex))}),te=Mb.safeGetRowKey(t,rt,mt);return l!=null&&a==="tbody"?_e.createElement(l,{key:te,row:rt,rowIndex:mt,trProps:Vt}):_e.createElement("tr",Object.assign({key:te},Vt))}function X(rt,ht,mt,Dt){var kt,Vt;if(p.testSkip(ht,Dt))return null;const te=Mb.safeGetValue(mt,rt,ht),le=(Vt=(kt=mt.getCellProps)===null||kt===void 0?void 0:kt.call(mt,te,rt,ht))!==null&&Vt!==void 0?Vt:{};let pe=te;mt.render&&(pe=mt.render(te,rt,ht));let De=1,Xe=1;if(mt.getSpanRect){const nr=mt.getSpanRect(te,rt,ht);De=nr==null?1:nr.right-Dt,Xe=nr==null?1:nr.bottom-ht}else le.colSpan!=null&&(De=le.colSpan),le.rowSpan!=null&&(Xe=le.rowSpan);Xe=Math.min(Xe,o.limit-ht),De=Math.min(De,E+v.rightIndex-Dt);const pr=De>1||Xe>1;pr&&p.add(ht,Dt,De,Xe);const yr={};Dt<E?(yr.position="sticky",yr.left=u.stickyLeftMap.get(Dt)):Dt>=g-D&&(yr.position="sticky",yr.right=u.stickyRightMap.get(Dt));const Vr=Object.assign(Object.assign(Object.assign(Object.assign({},le),{className:Cf()(ca.tableCell,le.className,{first:Dt===0,last:Dt+De===g,"lock-left":Dt<E,"lock-right":Dt>=g-D})}),pr?{colSpan:De,rowSpan:Xe}:null),{style:Object.assign(Object.assign({textAlign:mt.align},le.style),yr),children:pe});return c!=null&&a==="tbody"?_e.createElement(c,{key:Dt,tdProps:Vr,row:rt,rowIndex:ht,column:mt,colIndex:Dt}):_e.createElement("td",Object.assign({key:Dt},Vr))}}const Vst=_e.memo(()=>_e.createElement("svg",{style:{margin:"auto",display:"block",width:40,height:40},viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid"},_e.createElement("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:"#23a7fa",strokeDasharray:"188 64",strokeLinecap:"round",strokeWidth:"10"},_e.createElement("animateTransform",{attributeName:"transform",dur:"1.5s",keyTimes:"0;1",repeatCount:"indefinite",type:"rotate",values:"0 50 50;360 50 50"}))));function Hst({children:a,visible:e}){return _e.createElement("div",{className:"art-loading-content-wrapper",style:{filter:e?"blur(1px)":"none"}},a)}function Yst({visible:a,children:e,LoadingContentWrapper:t=Hst,LoadingIcon:n=Vst}){return _e.createElement("div",{className:ca.loadingWrapper},a&&_e.createElement("div",{className:ca.loadingIndicatorWrapper},_e.createElement("div",{className:ca.loadingIndicator},_e.createElement(n,null))),_e.createElement(t,{visible:a,children:e}))}let IN=!1;function Xst(){IN||(IN=!0,console.warn("[ali-react-table] BaseTable props.emptyContent \u5DF2\u7ECF\u8FC7\u65F6\uFF0C\u8BF7\u4F7F\u7528 props.components.EmptyContent \u6765\u81EA\u5B9A\u4E49\u6570\u636E\u4E3A\u7A7A\u65F6\u7684\u8868\u683C\u8868\u73B0"))}let ON=!1;function $st(){ON||(ON=!0,console.warn("[ali-react-table] BaseTable v2.4 \u7248\u672C\u4E4B\u540E\u5DF2\u7ECF\u4E0D\u518D\u9700\u8981\u6307\u5B9A flowRoot"))}class UC extends _e.Component{constructor(e){super(e);this.rowHeightManager=jst(this.props.dataSource.length,this.props.estimatedRowHeight),this.artTableWrapperRef=_e.createRef(),this.rootSubscription=new _v,this.state={hasScroll:!0,needRenderLock:!0,offsetY:0,offsetX:0,maxRenderHeight:600,maxRenderWidth:800}}getDoms(){return console.warn("[ali-react-table] BaseTable.getDoms() \u5DF2\u7ECF\u8FC7\u65F6"),this.domHelper}updateStickyScroll(){const{stickyScroll:e,artTable:t,stickyScrollItem:n}=this.domHelper;if(!t)return;const u=this.domHelper.getTableBodyHtmlTable().offsetWidth,l=t.offsetWidth,c=this.props.stickyScrollHeight,f=c==="auto"?vst().height:c;e.style.marginTop=`-${f+1}px`,l>=u?this.state.hasScroll&&this.setState({hasScroll:!1}):!this.state.hasScroll&&f>5&&this.setState({hasScroll:!0}),n.style.width=`${u}px`}renderTableHeader(e){const{stickyTop:t,hasHeader:n}=this.props;return _e.createElement("div",{className:Cf()(ca.tableHeader,"no-scrollbar"),style:{top:t===0?void 0:t,display:n?void 0:"none"}},_e.createElement(Tst,{info:e}))}updateOffsetX(e){this.lastInfo.useVirtual.horizontal&&Math.abs(e-this.state.offsetX)>=m0/2&&this.setState({offsetX:e})}syncHorizontalScrollFromTableBody(){this.syncHorizontalScroll(this.domHelper.tableBody.scrollLeft)}syncHorizontalScroll(e){this.updateOffsetX(e);const{tableBody:t}=this.domHelper,{flat:n}=this.lastInfo,o=this.domHelper.getLeftLockShadow();o&&(n.left.length>0&&this.state.needRenderLock&&e>0?o.classList.add("show-shadow"):o.classList.remove("show-shadow"));const u=this.domHelper.getRightLockShadow();u&&(n.right.length>0&&this.state.needRenderLock&&e<t.scrollWidth-t.clientWidth?u.classList.add("show-shadow"):u.classList.remove("show-shadow"))}getVerticalRenderRange(e){const{dataSource:t}=this.props,{offsetY:n,maxRenderHeight:o}=this.state,u=t.length;return e.vertical?this.rowHeightManager.getRenderRange(n,o,u):Ust(u)}renderTableBody(e){const{dataSource:t,getRowProps:n,primaryKey:o,isLoading:u,emptyCellHeight:l,footerDataSource:c,components:f}=this.props,h=Cf()(ca.tableBody,ca.horizontalScrollContainer,{"no-scrollbar":c.length>0});if(t.length===0){const{components:D,emptyContent:G}=this.props;let H=D.EmptyContent;return H==null&&G!=null&&(Xst(),H=()=>G),_e.createElement("div",{className:h},_e.createElement(wst,{descriptors:e.visible,isLoading:u,EmptyContent:H,emptyCellHeight:l}))}const{topIndex:v,bottomBlank:p,topBlank:g,bottomIndex:E}=e.verticalRenderRange;return _e.createElement("div",{className:h},g>0&&_e.createElement("div",{key:"top-blank",className:Cf()(ca.virtualBlank,"top"),style:{height:g}}),_e.createElement(MN,{components:f,tbodyHtmlTag:"tbody",getRowProps:n,primaryKey:o,data:t.slice(v,E),horizontalRenderInfo:e,verticalRenderInfo:{first:0,offset:v,limit:E,last:t.length-1}}),p>0&&_e.createElement("div",{key:"bottom-blank",className:Cf()(ca.virtualBlank,"bottom"),style:{height:p}}))}renderTableFooter(e){const{footerDataSource:t=[],getRowProps:n,primaryKey:o,stickyBottom:u,components:l}=this.props;return _e.createElement("div",{className:Cf()(ca.tableFooter,ca.horizontalScrollContainer),style:{bottom:u===0?void 0:u}},_e.createElement(MN,{components:l,tbodyHtmlTag:"tfoot",data:t,horizontalRenderInfo:e,getRowProps:n,primaryKey:o,verticalRenderInfo:{offset:0,first:0,last:t.length-1,limit:1/0}}))}renderLockShadows(e){return _e.createElement(_e.Fragment,null,_e.createElement("div",{className:ca.lockShadowMask,style:{left:0,width:e.leftLockTotalWidth+S2}},_e.createElement("div",{className:Cf()(ca.lockShadow,ca.leftLockShadow)})),_e.createElement("div",{className:ca.lockShadowMask,style:{right:0,width:e.rightLockTotalWidth+S2}},_e.createElement("div",{className:Cf()(ca.lockShadow,ca.rightLockShadow)})))}renderStickyScroll(e){const{hasStickyScroll:t,stickyBottom:n}=this.props,{hasScroll:o}=this.state;return _e.createElement("div",{className:Cf()(ca.stickyScroll,ca.horizontalScrollContainer),style:{display:t&&o?"block":"none",bottom:n}},_e.createElement("div",{className:ca.stickyScrollItem}))}render(){const e=xst(this);this.lastInfo=e;const{dataSource:t,className:n,style:o,hasHeader:u,useOuterBorder:l,isStickyHead:c,isStickyHeader:f,isStickyFooter:h,isLoading:v,footerDataSource:p,components:g,flowRoot:E}=this.props;E!=null&&$st();const G={className:Cf()(ca.artTableWrapper,{"use-outer-border":l,empty:t.length===0,lock:e.hasLockColumn,"has-header":u,"sticky-header":f!=null?f:c,"has-footer":p.length>0,"sticky-footer":h},n),style:o,[dst]:this.artTableWrapperRef};return _e.createElement(Est,Object.assign({},G),_e.createElement(Yst,{visible:v,LoadingIcon:g.LoadingIcon,LoadingContentWrapper:g.LoadingContentWrapper},_e.createElement("div",{className:ca.artTable},this.renderTableHeader(e),this.renderTableBody(e),this.renderTableFooter(e),this.renderLockShadows(e)),this.renderStickyScroll(e)))}componentDidMount(){this.updateDOMHelper(),this.props$=new IF(this.props),this.initSubscriptions(),this.didMountOrUpdate()}componentDidUpdate(e,t){this.updateDOMHelper(),this.props$.next(this.props),this.didMountOrUpdate(e,t)}didMountOrUpdate(e,t){this.syncHorizontalScrollFromTableBody(),this.updateStickyScroll(),this.adjustNeedRenderLock(),this.updateRowHeightManager(),this.updateScrollLeftWhenLayoutChanged(e,t)}updateScrollLeftWhenLayoutChanged(e,t){if(t!=null&&!t.hasScroll&&this.state.hasScroll&&(this.domHelper.stickyScroll.scrollLeft=0),e!=null){const n=e.footerDataSource.length>0,o=this.props.footerDataSource.length>0;!n&&o&&(this.domHelper.tableFooter.scrollLeft=this.domHelper.tableBody.scrollLeft)}}initSubscriptions(){const{tableHeader:e,tableBody:t,tableFooter:n,stickyScroll:o}=this.domHelper;this.rootSubscription.add(vN.subscribe(()=>{this.updateStickyScroll(),this.adjustNeedRenderLock()})),this.rootSubscription.add(pst([e,t,n,o],l=>{this.syncHorizontalScroll(l)}));const u=zst(this.domHelper.artTable,this.props$.pipe(Cat(1),Iat("structure-may-change")),this.props.virtualDebugLabel).pipe(Wat());this.rootSubscription.add(gat([u.pipe(_g(l=>l.clipRect),yC(gN)),this.props$.pipe(FF(null),Hat(),GF(([l,c])=>l==null||!l.isLoading&&c.isLoading))]).subscribe(([l])=>{const c=this.domHelper.getLoadingIndicator();if(!c)return;const f=l.bottom-l.top;c.style.top=`${f/2}px`,c.style.marginTop=`${f/2}px`})),this.rootSubscription.add(u.pipe(GF(()=>{const{horizontal:l,vertical:c}=this.lastInfo.useVirtual;return l||c}),_g(({clipRect:l,offsetY:c})=>({maxRenderHeight:l.bottom-l.top,maxRenderWidth:l.right-l.left,offsetY:c})),yC((l,c)=>Math.abs(l.maxRenderWidth-c.maxRenderWidth)<m0/2&&Math.abs(l.maxRenderHeight-c.maxRenderHeight)<m0/2&&Math.abs(l.offsetY-c.offsetY)<m0/2)).subscribe(l=>{this.setState(l)}))}componentWillUnmount(){this.rootSubscription.unsubscribe()}updateDOMHelper(){this.domHelper=new Wst(this.artTableWrapperRef.current)}updateRowHeightManager(){var e;const t=this.domHelper.getVirtualTop(),n=(e=t==null?void 0:t.clientHeight)!==null&&e!==void 0?e:0;let o=0,u=-1,l=-1;for(const c of this.domHelper.getTableRows()){const f=Number(c.dataset.rowindex);if(isNaN(f))continue;u=Math.max(u,f);const h=c.offsetTop+n,v=c.offsetHeight;v===0&&(o+=1),l=Math.max(l,h+v),this.rowHeightManager.updateRow(f,h,v)}u!==-1&&o===0&&l<this.state.offsetY+this.state.maxRenderHeight&&this.getVerticalRenderRange(this.lastInfo.useVirtual).bottomIndex-1>u&&this.forceUpdate()}adjustNeedRenderLock(){const{needRenderLock:e}=this.state,{flat:t,hasLockColumn:n}=this.lastInfo;if(n){const u=Ib(t.full.map(l=>l.width))>this.domHelper.artTable.clientWidth;e!==u&&this.setState({needRenderLock:u})}else e&&this.setState({needRenderLock:!1})}}UC.defaultProps={hasHeader:!0,isStickyHeader:!0,stickyTop:0,footerDataSource:[],isStickyFooter:!0,stickyBottom:0,hasStickyScroll:!0,stickyScrollHeight:"auto",useVirtual:"auto",estimatedRowHeight:48,isLoading:!1,components:{},getRowProps:Jv,dataSource:[]};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Ay(a,e){var t={};for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&e.indexOf(n)<0&&(t[n]=a[n]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(a);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(a,n[o])&&(t[n[o]]=a[n[o]]);return t}const DN=p2.div`
  display: inline-flex;
  align-items: center;
`,Kst=p2(DN)`
  &.leaf {
    cursor: default;
  }

  .expansion-icon {
    fill: #999;
    flex: 0 0 16px;
    transition: transform 200ms;

    &.expanded {
      transform-origin: center center;
      transform: rotate(90deg);
    }
  }
`;function Zst(a){return _e.createElement("svg",Object.assign({focusable:"false",preserveAspectRatio:"xMidYMid meet",fill:"currentColor",width:"16",height:"16",viewBox:"0 0 32 32"},a),_e.createElement("path",{d:"M24 12L16 22 8 12z"}))}function Qst(a){return _e.createElement("svg",Object.assign({focusable:"false",preserveAspectRatio:"xMidYMid meet",fill:"currentColor",width:"16",height:"16",viewBox:"0 0 16 16"},a),_e.createElement("path",{d:"M8.5 11L8.5 6.5 6.5 6.5 6.5 7.5 7.5 7.5 7.5 11 6 11 6 12 10 12 10 11zM8 3.5c-.4 0-.8.3-.8.8S7.6 5 8 5c.4 0 .8-.3.8-.8S8.4 3.5 8 3.5z"}),_e.createElement("path",{d:"M8,15c-3.9,0-7-3.1-7-7s3.1-7,7-7s7,3.1,7,7S11.9,15,8,15z M8,2C4.7,2,2,4.7,2,8s2.7,6,6,6s6-2.7,6-6S11.3,2,8,2z"}))}function Jst(a){return _e.createElement("svg",Object.assign({focusable:"false",preserveAspectRatio:"xMidYMid meet",fill:"currentColor",width:"16",height:"16",viewBox:"0 0 32 32"},a),_e.createElement("path",{d:"M12 8L22 16 12 24z"}))}function qst(a){return _e.createElement("svg",Object.assign({width:"16",height:"16",fill:"currentColor",viewBox:"0 0 1024 1024"},a),_e.createElement("path",{d:"M512 74.667c-17.067 0-32 14.933-32 32V256c0 17.067 14.933 32 32 32s32-14.933 32-32V106.667c0-17.067-14.933-32-32-32zm181.333 288c8.534 0 17.067-2.134 23.467-8.534L821.333 249.6c12.8-12.8 12.8-32 0-44.8-12.8-12.8-32-12.8-44.8 0L672 309.333c-12.8 12.8-12.8 32 0 44.8 4.267 6.4 12.8 8.534 21.333 8.534zm224 117.333H768c-17.067 0-32 14.933-32 32s14.933 32 32 32h149.333c17.067 0 32-14.933 32-32s-14.933-32-32-32zM714.667 669.867c-12.8-12.8-32-12.8-44.8 0s-12.8 32 0 44.8L774.4 819.2c6.4 6.4 14.933 8.533 23.467 8.533s17.066-2.133 23.466-8.533c12.8-12.8 12.8-32 0-44.8L714.667 669.867zM512 736c-17.067 0-32 14.933-32 32v149.333c0 17.067 14.933 32 32 32s32-14.933 32-32V768c0-17.067-14.933-32-32-32zm-202.667-66.133L204.8 774.4c-12.8 12.8-12.8 32 0 44.8 6.4 6.4 14.933 8.533 23.467 8.533s17.066-2.133 23.466-8.533l104.534-104.533c12.8-12.8 12.8-32 0-44.8s-36.267-12.8-46.934 0zM288 512c0-17.067-14.933-32-32-32H106.667c-17.067 0-32 14.933-32 32s14.933 32 32 32H256c17.067 0 32-14.933 32-32zm-40.533-309.333c-12.8-12.8-32-12.8-44.8 0-12.8 12.8-12.8 32 0 44.8L307.2 352c6.4 6.4 14.933 8.533 23.467 8.533s17.066-2.133 23.466-8.533c12.8-12.8 12.8-32 0-44.8L247.467 202.667z"}))}const jC={Loading:qst,CaretDown:Zst,CaretRight:Jst,Info:Qst},tut=Symbol("treeMetaSymbol");function eut(a={}){return function(t){var n,o,u,l,c,f,h,v,p;const g="treeMode",E=t.ctx,D=t.ensurePrimaryKey("treeMode");if(typeof D!="string")throw new Error("treeMode \u4EC5\u652F\u6301\u5B57\u7B26\u4E32\u4F5C\u4E3A primaryKey");const G=(u=(o=(n=a.openKeys)!==null&&n!==void 0?n:t.getStateAtKey(g))!==null&&o!==void 0?o:a.defaultOpenKeys)!==null&&u!==void 0?u:[],H=new Set(G),X=(pr,yr,Vr)=>{var nr;(nr=a.onChangeOpenKeys)===null||nr===void 0||nr.call(a,pr,yr,Vr),t.setStateAtKey(g,pr,{key:yr,action:Vr})},rt=pr=>{H.has(pr)?X(G.filter(Vr=>Vr!==pr),pr,"collapse"):X([...G,pr],pr,"expand")},ht=(l=a.isLeafNode)!==null&&l!==void 0?l:rf,mt=(c=a.clickArea)!==null&&c!==void 0?c:"cell",Dt=(f=a.treeMetaKey)!==null&&f!==void 0?f:tut,kt=Boolean(a.stopClickEventPropagation),Vt=E.indents.iconWidth,te=(h=a.iconIndent)!==null&&h!==void 0?h:E.indents.iconIndent,le=(v=a.iconGap)!==null&&v!==void 0?v:E.indents.iconGap,pe=(p=a.indentSize)!==null&&p!==void 0?p:E.indents.indentSize;return t.mapDataSource(De).mapColumns(Xe);function De(pr){const yr=[];Vr(pr,0);function Vr(nr,Gr){if(nr!=null)for(const en of nr){const cr=en[D],Fr=H.has(cr),qr=ht(en,{depth:Gr,expanded:Fr,rowKey:cr}),_r={depth:Gr,isLeaf:qr,expanded:Fr,rowKey:cr};yr.push(Object.assign({[Dt]:_r},en)),!qr&&Fr&&Vr(en.children,Gr+1)}}return yr}function Xe(pr){if(pr.length===0)return pr;const[yr,...Vr]=pr,nr=(en,cr,Fr)=>{const qr=Mb.safeRender(yr,cr,Fr);if(cr[Dt]==null)return qr;const{rowKey:_r,depth:kr,isLeaf:Yr,expanded:mn}=cr[Dt],Er=te+kr*pe;if(Yr)return _e.createElement(DN,{className:"expansion-cell leaf"},_e.createElement("span",{style:{marginLeft:Er+Vt+le}},qr));const oi=ki=>{kt&&ki.stopPropagation(),rt(_r)},mr=mn?"expanded":"collapsed";return _e.createElement(Kst,{className:Cf()("expansion-cell",mr),style:{cursor:mt==="content"?"pointer":void 0},onClick:mt==="content"?oi:void 0},_e.createElement(jC.CaretRight,{className:Cf()("expansion-icon",mr),style:{cursor:mt==="icon"?"pointer":void 0,marginLeft:Er,marginRight:le},onClick:mt==="icon"?oi:void 0}),qr)},Gr=(en,cr,Fr)=>{const qr=Mb.safeGetCellProps(yr,cr,Fr);if(cr[Dt]==null)return qr;const{isLeaf:_r,rowKey:kr}=cr[Dt];return _r?qr:hN(qr,{onClick(Yr){kt&&Yr.stopPropagation(),rt(kr)},style:{cursor:"pointer"}})};return[Object.assign(Object.assign({},yr),{title:_e.createElement("span",{style:{marginLeft:te+Vt+le}},Mb.safeRenderHeader(yr)),render:nr,getCellProps:mt==="cell"?Gr:yr.getCellProps}),...Vr]}}}class Ob{constructor({state:e,setState:t,ctx:n}){this._snapshots={},this._rowPropsGetters=[],this.ctx={components:{},indents:Ob.defaultIndents},this.state=e,this.setState=t,Object.assign(this.ctx,n)}appendRowPropsGetter(e){return this._rowPropsGetters.push(e),this}getDataSource(e){return e==null?this._dataSource:this._snapshots[e].dataSource}getColumns(e){return e==null?this._columns:this._snapshots[e].columns}getStateAtKey(e,t){var n;return(n=this.state[e])!==null&&n!==void 0?n:t}setStateAtKey(e,t,n){this.setState(o=>Object.assign(Object.assign({},o),{[e]:t}),e,t,n)}ensurePrimaryKey(e){if(this.ctx.primaryKey==null)throw new Error(e?`\u4F7F\u7528 ${e} \u4E4B\u524D\u5FC5\u987B\u5148\u8BBE\u7F6E primaryKey`:"\u5FC5\u987B\u5148\u8BBE\u7F6E primaryKey");return this.ctx.primaryKey}input(e){if(this._dataSource!=null||this._columns!=null)throw new Error("input \u4E0D\u80FD\u8C03\u7528\u4E24\u6B21");return this._dataSource=e.dataSource,this._columns=e.columns,this.snapshot("input"),this}dataSource(e){return this._dataSource=e,this}columns(e){return this._columns=e,this}primaryKey(e){return this.ctx.primaryKey=e,this}snapshot(e){return this._snapshots[e]={dataSource:this._dataSource,columns:this._columns,rowPropsGetters:this._rowPropsGetters.slice()},this}useTransform(e){const t=e({dataSource:this.getDataSource(),columns:this.getColumns()});return this.dataSource(t.dataSource).columns(t.columns)}use(e){return e(this)}mapDataSource(e){return this.dataSource(e(this.getDataSource()))}mapColumns(e){return this.columns(e(this.getColumns()))}getProps(){const e={dataSource:this._dataSource,columns:this._columns};return this.ctx.primaryKey&&(e.primaryKey=this.ctx.primaryKey),this._rowPropsGetters.length>0&&(e.getRowProps=(t,n)=>this._rowPropsGetters.reduce((o,u)=>hN(o,u(t,n)),{})),e}}Ob.defaultIndents={iconIndent:-8,iconWidth:16,iconGap:0,indentSize:16};function rht(a){const[e,t]=useState({});return new Ob({state:e,setState:t,ctx:a})}function A2(a){return a.length===0?"key:@total@":`key:${a.join(" ")}`}function C2(a,e,{encode:t=A2,totalValue:n="\u603B\u8BA1",includeTopWrapper:o=!1,isExpand:u=b2(!0),enforceExpandTotalNode:l=!0}={}){const c=[],f=t(c);let h,v=!1;if(e.length===0?h=[]:!l&&!u(f)?(h=[],v=a.length>0):h=p(a,[]),o){const g={key:f,value:n,path:c,children:h};return v&&(g.hasChild=v),[g]}if(o)return[{key:f,value:n,path:c,children:h}];return h;function p(g,E){const D=E.length,G=[],H=e[D],X=NC(g,rt=>rt[H]);for(const rt of X.keys()){E.push(rt);const ht={key:t(E),value:rt,path:E.slice()};G.push(ht);const mt=X.get(rt);mt.length>0&&D<e.length-1&&(u(ht.key)?ht.children=p(mt,E):ht.hasChild=!0),E.pop()}return G}}function rut(a){return a.length===1?a[0]:{}}function PN({data:a,leftCodes:e,topCodes:t,aggregate:n=rut,encode:o=A2,isLeftExpand:u=b2(!0),isTopExpand:l=b2(!0),prebuiltLeftTree:c,prebuiltTopTree:f}){const h={peculiarity:new Set},[v]=c!=null?c:C2(a,e,{encode:o,includeTopWrapper:!0,isExpand:u}),[p]=f!=null?f:C2(a,t,{encode:o,includeTopWrapper:!0,isExpand:l}),g=E(h,a,v,0);return H(g);function E(X,rt,ht,mt){let Dt=null,kt;if(rf(ht))kt=D(X,rt,p,0);else{Dt=[];const Vt=e[mt],te=NC(rt,le=>le[Vt]);X.peculiarity.add(Vt);for(const le of ht.children){const pe=te.get(le.value);pe&&Dt.push(E(X,pe,le,mt+1))}X.peculiarity.delete(Vt),kt=G(X,Dt.map(le=>le.col))}return{leftKey:ht.key,children:Dt,col:kt}}function D(X,rt,ht,mt){let Dt=null,kt;if(rf(ht))kt=n(rt,X);else{Dt=[];const Vt=t[mt],te=NC(rt,le=>le[Vt]);X.peculiarity.add(Vt);for(const le of ht.children){const pe=te.get(le.value);pe&&Dt.push(D(X,pe,le,mt+1))}X.peculiarity.delete(Vt),kt=n(Dt.map(le=>le.record),X)}return{topKey:ht.key,topValue:ht.value,children:Dt,record:kt}}function G(X,rt){return ht(X,rt,p,0);function ht(mt,Dt,kt,Vt){let te=null;const le=n(Dt.map(pe=>pe.record),mt);if(!rf(kt)){const pe=t[Vt];mt.peculiarity.add(pe);const De=fN(kt.children.map(pr=>[pr.value,pr])),Xe=Dt.map(pr=>fN(pr.children.map(yr=>[yr.topValue,yr])));te=kt.children.map(pr=>{const yr=Xe.map(Vr=>Vr[pr.value]).filter(Boolean);return ht(mt,yr,De[pr.value],Vt+1)}),mt.peculiarity.delete(pe)}return{topKey:kt.key,topValue:kt.value,record:le,children:te}}}function H(X){const rt=new Map;return ht(rt,X),rt;function ht(Dt,kt){const Vt=new Map;Dt.set(kt.leftKey,Vt),mt(Vt,kt.col),rf(kt)||kt.children.forEach(te=>{ht(Dt,te)})}function mt(Dt,kt){Dt.set(kt.topKey,kt.record),rf(kt)||kt.children.forEach(Vt=>{mt(Dt,Vt)})}}}function nht({codes:a,encode:e=A2,data:t,aggregate:n,isExpand:o}){const u=PN({data:t,leftCodes:[],topCodes:a,isTopExpand:o,aggregate:n,encode:e}),l=e([]);return u.get(l)}const LN=p2.span`
  display: inline-flex;
  align-items: center;
  padding: 2px 8px 2px 0;
  cursor: pointer;

  .icon {
    fill: #999;
    margin-right: 4px;

    &.expanded {
      transform-origin: center center;
      transform: rotate(90deg);
    }
  }
`;function RN(a,{indicators:e,encode:t=A2,generateSubtotalNode:n,enforceExpandTotalNode:o=!0,expandKeys:u,onChangeExpandKeys:l=Jv,supportsExpand:c}={}){const f=t([]);if(c&&u==null)throw new Error("[ali-react-table] convertDrillTreeToCrossTree(...) \u8BBE\u7F6E supportsExpand=true \u65F6\uFF0CexpandKeys \u4E0D\u80FD\u4E3A null/undefined.");const h=new Set(u);return g(a);function v(E,D){return e.map(G=>Object.assign({key:t(E.path.concat([G.code])),value:G.name,data:Object.assign(Object.assign({},D),{indicator:G})},G))}function p(E,D){return e!=null?{key:E.key,value:E.value,data:D,children:v(E,D)}:{key:E.key,value:E.value,data:D}}function g(E,D){const G=[];for(const H of E){const X={dataKey:H.key,dataPath:H.path};if(rf(H)&&!H.hasChild)G.push(p(H,X));else{let rt=!0,ht={key:H.key,value:H.value,data:X};if(!c||o&&H.key===f?ht.children=g(H.children):h.has(H.key)?(ht.title=_e.createElement(LN,{onClick:()=>{l(u.filter(mt=>mt!==H.key),H,"collapse")}},_e.createElement(jC.CaretRight,{className:"icon expanded"}),H.value),ht.children=g(H.children)):(rt=!1,ht.title=_e.createElement(LN,{onClick:()=>{l(u.concat([H.key]),H,"expand")}},_e.createElement(jC.CaretRight,{className:"icon collapsed"}),H.value),e!=null&&(ht.children=v(H,X))),rt){const mt=n==null?void 0:n(H);if(mt){const{position:Dt="start",value:kt}=mt,Vt=H.path.concat([kt]),te={key:t(Vt),path:Vt,value:kt},le=p(te,X);Dt==="start"?ht.children.unshift(le):ht.children.push(le)}}G.push(ht)}}return G}}const v1="rowKey";function nut(a){var e,t,n,o,u,l;const{leftTotalNode:c,topTotalNode:f}=a,h=(e=a.columnOffset)!==null&&e!==void 0?e:0,v=(t=a.rowOffset)!==null&&t!==void 0?t:0,p=h!==0||v!==0,g=(n=a.leftTree)!==null&&n!==void 0?n:[],E=(o=a.topTree)!==null&&o!==void 0?o:[],D=(u=a.getValue)!==null&&u!==void 0?u:b2(null),G=(l=a.leftMetaColumns)!==null&&l!==void 0?l:[],H=Math.max(G.length,cN(g)+1);return{columns:X(),dataSource:rt()};function X(){return[...ht(),...mt()];function ht(){var kt;const Vt=[];for(let Xe=0;Xe<H;Xe++){const pr=(kt=G[Xe])!==null&&kt!==void 0?kt:{},yr=Ay(pr,["getCellProps","render"]);Vt.push(Object.assign(Object.assign({columnType:"left",lock:!0},yr),{getCellProps:te(pr,Xe),getSpanRect:le(pr,Xe),getValue:pe(pr,Xe),render:De(pr,Xe)}))}return Vt;function te(Xe,pr){return(yr,Vr,nr)=>{var Gr;const en=Vr.nodes[pr];return(Gr=Xe.getCellProps)===null||Gr===void 0?void 0:Gr.call(Xe,en,pr)}}function le(Xe,pr){return(yr,Vr)=>{const nr=Vr.rects[pr];return p?{left:nr.left+h,right:nr.right+h,top:nr.top+v,bottom:nr.bottom+v}:nr}}function pe(Xe,pr){return(yr,Vr)=>yr.nodes[pr].value}function De(Xe,pr){return(yr,Vr,nr)=>{var Gr;const en=Vr.nodes[pr];return Xe.render?Xe.render(en,pr):(Gr=en.title)!==null&&Gr!==void 0?Gr:en.value}}}function mt(){if(E.length>0)return kt(E,{valuePath:[],depth:0});return f?kt([f],{valuePath:[],depth:0}):[];function kt(Vt,te){const le=[];for(const pe of Vt){if(te.valuePath.push(pe.value),rf(pe))le.push(Dt(pe,te.depth));else{const{key:De,value:Xe,children:pr}=pe,yr=Ay(pe,["key","value","children"]);le.push(Object.assign(Object.assign({columnType:"data-parent"},yr),{name:Xe,children:kt(pr,{valuePath:te.valuePath,depth:te.depth+1})}))}te.valuePath.pop()}return le}}function Dt(kt,Vt){const te=pr=>{const yr=pr.nodes.length-1,Vr=pr.nodes[yr];return D(Vr,kt,yr,Vt)},{key:le,value:pe,children:De}=kt,Xe=Ay(kt,["key","value","children"]);return Object.assign(Object.assign({columnType:"data"},Xe),{getValue:te,name:pe,children:null,render(pr,yr){if(a.render){const Vr=yr.nodes.length-1,nr=yr.nodes[Vr];return a.render(pr,nr,kt,Vr,Vt)}return pr},getCellProps(pr,yr){if(a.getCellProps){const Vr=yr.nodes.length-1,nr=yr.nodes[Vr];return a.getCellProps(pr,nr,kt,Vr,Vt)}}})}}function rt(){const ht=[],mt={depth:0,nodes:[],rects:[],rowIndex:0};return g.length>0?Dt(g,mt):c&&Dt([c],mt),ht;function Dt(kt,Vt){let te=0;for(const le of kt){if(le.hidden)continue;const pe={top:Vt.rowIndex+te,bottom:-1,left:Vt.depth,right:-1},De={[v1]:le.key,rects:[...Vt.rects,pe],nodes:[...Vt.nodes,le]};if(rf(le))pe.right=H,pe.bottom=pe.top+1,ht.push(De),te+=1;else{Vt.rects.push(pe),Vt.nodes.push(le);const Xe=Dt(le.children,{nodes:Vt.nodes,rects:Vt.rects,depth:Vt.depth+1,rowIndex:Vt.rowIndex+te});Vt.rects.pop(),Vt.nodes.pop(),te+=Xe.count,pe.right=pe.left+1,pe.bottom=pe.top+Xe.count}}return{count:te}}}}function iut(a){var{BaseTableComponent:e=UC,leftTree:t,leftTotalNode:n,topTree:o,topTotalNode:u,getValue:l,getCellProps:c,leftMetaColumns:f,render:h,baseTableRef:v}=a,p=Ay(a,["BaseTableComponent","leftTree","leftTotalNode","topTree","topTotalNode","getValue","getCellProps","leftMetaColumns","render","baseTableRef"]);const{dataSource:g,columns:E}=nut({leftTree:t,topTree:o,leftTotalNode:n,topTotalNode:u,getValue:l,getCellProps:c,render:h,leftMetaColumns:f});return _e.createElement(e,Object.assign({ref:v},p,{primaryKey:v1,dataSource:g,columns:E}))}function aut(a){var e,t;const{primaryColumn:n={name:""},openKeys:o,onChangeOpenKeys:u,indentSize:l,isLeafNode:c=rf}=a,f=(e=a.leftTree)!==null&&e!==void 0?e:[],h=(t=a.topTree)!==null&&t!==void 0?t:[],v=new Ob({state:{},setState:Jv,ctx:{primaryKey:v1}});return v.input({dataSource:g(),columns:p()}),v.use(eut({openKeys:o,onChangeOpenKeys:u,indentSize:l,isLeafNode(E,D){return c(E.node,D)}})),{dataSource:v.getDataSource(),columns:v.getColumns()};function p(){return[Object.assign(Object.assign({},n),{getValue(G){return G.node.value},getCellProps(G,H){if(n.getCellProps)return n.getCellProps(H.node,H.nodes.length-1)},render(G,H){return n.render?n.render(H.node,H.nodes.length-1):G}}),...E()];function E(){return G(h,{depth:0});function G(H,X){const rt=[];for(const ht of H)if(rf(ht))rt.push(D(ht,X.depth));else{const{key:mt,value:Dt,children:kt}=ht,Vt=Ay(ht,["key","value","children"]);rt.push(Object.assign(Object.assign({},Vt),{name:Dt,children:G(kt,{depth:X.depth+1})}))}return rt}}function D(G,H){const X=kt=>{const Vt=kt.nodes.length-1,te=kt.node;return a.getValue?a.getValue(te,G,Vt,H):null},{key:rt,value:ht,children:mt}=G,Dt=Ay(G,["key","value","children"]);return Object.assign(Object.assign({},Dt),{getValue:X,name:ht,children:null,render(kt,Vt){if(a.render){const te=Vt.nodes.length-1,le=Vt.node;return a.render(kt,le,G,te,H)}return kt},getCellProps(kt,Vt){if(a.getCellProps){const te=Vt.nodes.length-1,le=Vt.node;return a.getCellProps(kt,le,G,te,H)}}})}}function g(){return E(f,{nodes:[]});function E(D,G){const H=[];for(const X of D)if(!X.hidden)if(rf(X))H.push({[v1]:X.key,node:X,nodes:[...G.nodes,X]});else{const rt=[...G.nodes,X];G.nodes.push(X);const ht=E(X.children,G);H.push({[v1]:X.key,node:X,nodes:rt,children:ht}),G.nodes.pop()}return H}}}class out extends _e.Component{constructor(e){super(e);this.onChangeOpenKeys=t=>{this.props.onChangeOpenKeys(t),"openKeys"in this.props||this.setState({openKeys:t})},this.state={openKeys:e.defaultOpenKeys}}static getDerivedStateFromProps(e){return"openKeys"in e?{openKeys:e.openKeys}:null}render(){const e=this.props,{BaseTableComponent:t=UC,leftTree:n,topTree:o,getValue:u,getCellProps:l,primaryColumn:c,render:f,openKeys:h,defaultOpenKeys:v,onChangeOpenKeys:p,indentSize:g,isLeafNode:E,baseTableRef:D}=e,G=Ay(e,["BaseTableComponent","leftTree","topTree","getValue","getCellProps","primaryColumn","render","openKeys","defaultOpenKeys","onChangeOpenKeys","indentSize","isLeafNode","baseTableRef"]),H=h!=null?h:this.state.openKeys,{dataSource:X,columns:rt}=aut({leftTree:n,topTree:o,getValue:u,getCellProps:l,render:f,primaryColumn:c,openKeys:H,onChangeOpenKeys:this.onChangeOpenKeys,indentSize:g,isLeafNode:E});return _e.createElement(t,Object.assign({ref:D},G,{primaryKey:v1,dataSource:X,columns:rt}))}}out.defaultProps={defaultOpenKeys:[],onChangeOpenKeys:Jv};var sut=function(){function a(n,o){function u(){this.constructor=n}u.prototype=o.prototype,n.prototype=new u}function e(n,o,u,l){this.message=n,this.expected=o,this.found=u,this.location=l,this.name="SyntaxError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,e)}a(e,Error),e.buildMessage=function(n,o){var u={literal:function(g){return'"'+c(g.text)+'"'},class:function(g){var E="",D;for(D=0;D<g.parts.length;D++)E+=g.parts[D]instanceof Array?f(g.parts[D][0])+"-"+f(g.parts[D][1]):f(g.parts[D]);return"["+(g.inverted?"^":"")+E+"]"},any:function(g){return"any character"},end:function(g){return"end of input"},other:function(g){return g.description}};function l(g){return g.charCodeAt(0).toString(16).toUpperCase()}function c(g){return g.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(E){return"\\x0"+l(E)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(E){return"\\x"+l(E)})}function f(g){return g.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(E){return"\\x0"+l(E)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(E){return"\\x"+l(E)})}function h(g){return u[g.type](g)}function v(g){var E=new Array(g.length),D,G;for(D=0;D<g.length;D++)E[D]=h(g[D]);if(E.sort(),E.length>0){for(D=1,G=1;D<E.length;D++)E[D-1]!==E[D]&&(E[G]=E[D],G++);E.length=G}switch(E.length){case 1:return E[0];case 2:return E[0]+" or "+E[1];default:return E.slice(0,-1).join(", ")+", or "+E[E.length-1]}}function p(g){return g?'"'+c(g)+'"':"end of input"}return"Expected "+v(n)+" but "+p(o)+" found."};function t(n,o){o=o!==void 0?o:{};var u={},l={Start:VN},c=VN,f=function(Te){return Te},h="MAX",v=rs("MAX",!1),p="MIN",g=rs("MIN",!1),E="SUM",D=rs("SUM",!1),G="AVG",H=rs("AVG",!1),X="COUNT",rt=rs("COUNT",!1),ht="+",mt=rs("+",!1),Dt="-",kt=rs("-",!1),Vt=function(Te,xn){return xn.length===0?Te:{type:"arithmetic",ops:xn.map(Oi=>Oi[1]),terms:[Te,...xn.map(Oi=>Oi[3])]}},te="*",le=rs("*",!1),pe="/",De=rs("/",!1),Xe="(",pr=rs("(",!1),yr=")",Vr=rs(")",!1),nr=function(Te,xn){return{type:"aggr-func-call",funcName:Te,subExpr:xn}},Gr=function(Te){return Te},en=function(Te){return{type:"n",n:Te}},cr=function(Te){return{type:"field",code:Te}},Fr=Fb("identifier"),qr=function(Te,xn){return Te+xn.join("")},_r=Fb("number"),kr=/^[+\-]/,Yr=rh(["+","-"],!1,!1),mn=function(Te,xn){return Te==="-"?-xn:xn},Er="0x",oi=rs("0x",!0),mr=function(Te){return Number(UN())},ki="0b",Xn=rs("0b",!0),qn=/^[01]/,ai=rh(["0","1"],!1,!1),va=".",Ii=rs(".",!1),Ni=function(){return Number(UN())},Sa="0",ea=rs("0",!1),lo=/^[\n\r\u2028\u2029]/,Vs=rh([`
`,"\r","\u2028","\u2029"],!1,!1),Go=Fb("end of line"),pa=`
`,so=rs(`
`,!1),ia=`\r
`,Ai=rs(`\r
`,!1),sa="\r",Bi=rs("\r",!1),Ia="\u2028",Oa=rs("\u2028",!1),So="\u2029",$a=rs("\u2029",!1),wo=Fb("comment"),Ms="/*",Gh=rs("/*",!1),Qo="*/",Qd=rs("*/",!1),Ag="//",th=rs("//",!1),Jd=nlt(),qv=Fb("whitespace"),Vp="	",eh=rs("	",!1),Tv="\v",bp=rs("\v",!1),M2="\f",VC=rs("\f",!1),HC=" ",YC=rs(" ",!1),Lb="\xA0",I2=rs("\xA0",!1),XC="\uFEFF",$C=rs("\uFEFF",!1),KC="\u200C",g1=rs("\u200C",!1),Ep="\u200D",y1=rs("\u200D",!1),Hs="$",_d=rs("$",!1),Xl="_",tp=rs("_",!1),Cg=/^[0-9]/,O2=rh([["0","9"]],!1,!1),D2=/^[1-9]/,Rb=rh([["1","9"]],!1,!1),P2=/^[0-9a-f]/i,L2=rh([["0","9"],["a","f"]],!1,!0),R2=/^[a-z\xB5\xDF-\xF6\xF8-\xFF\u0101\u0103\u0105\u0107\u0109\u010B\u010D\u010F\u0111\u0113\u0115\u0117\u0119\u011B\u011D\u011F\u0121\u0123\u0125\u0127\u0129\u012B\u012D\u012F\u0131\u0133\u0135\u0137-\u0138\u013A\u013C\u013E\u0140\u0142\u0144\u0146\u0148-\u0149\u014B\u014D\u014F\u0151\u0153\u0155\u0157\u0159\u015B\u015D\u015F\u0161\u0163\u0165\u0167\u0169\u016B\u016D\u016F\u0171\u0173\u0175\u0177\u017A\u017C\u017E-\u0180\u0183\u0185\u0188\u018C-\u018D\u0192\u0195\u0199-\u019B\u019E\u01A1\u01A3\u01A5\u01A8\u01AA-\u01AB\u01AD\u01B0\u01B4\u01B6\u01B9-\u01BA\u01BD-\u01BF\u01C6\u01C9\u01CC\u01CE\u01D0\u01D2\u01D4\u01D6\u01D8\u01DA\u01DC-\u01DD\u01DF\u01E1\u01E3\u01E5\u01E7\u01E9\u01EB\u01ED\u01EF-\u01F0\u01F3\u01F5\u01F9\u01FB\u01FD\u01FF\u0201\u0203\u0205\u0207\u0209\u020B\u020D\u020F\u0211\u0213\u0215\u0217\u0219\u021B\u021D\u021F\u0221\u0223\u0225\u0227\u0229\u022B\u022D\u022F\u0231\u0233-\u0239\u023C\u023F-\u0240\u0242\u0247\u0249\u024B\u024D\u024F-\u0293\u0295-\u02AF\u0371\u0373\u0377\u037B-\u037D\u0390\u03AC-\u03CE\u03D0-\u03D1\u03D5-\u03D7\u03D9\u03DB\u03DD\u03DF\u03E1\u03E3\u03E5\u03E7\u03E9\u03EB\u03ED\u03EF-\u03F3\u03F5\u03F8\u03FB-\u03FC\u0430-\u045F\u0461\u0463\u0465\u0467\u0469\u046B\u046D\u046F\u0471\u0473\u0475\u0477\u0479\u047B\u047D\u047F\u0481\u048B\u048D\u048F\u0491\u0493\u0495\u0497\u0499\u049B\u049D\u049F\u04A1\u04A3\u04A5\u04A7\u04A9\u04AB\u04AD\u04AF\u04B1\u04B3\u04B5\u04B7\u04B9\u04BB\u04BD\u04BF\u04C2\u04C4\u04C6\u04C8\u04CA\u04CC\u04CE-\u04CF\u04D1\u04D3\u04D5\u04D7\u04D9\u04DB\u04DD\u04DF\u04E1\u04E3\u04E5\u04E7\u04E9\u04EB\u04ED\u04EF\u04F1\u04F3\u04F5\u04F7\u04F9\u04FB\u04FD\u04FF\u0501\u0503\u0505\u0507\u0509\u050B\u050D\u050F\u0511\u0513\u0515\u0517\u0519\u051B\u051D\u051F\u0521\u0523\u0525\u0527\u0529\u052B\u052D\u052F\u0561-\u0587\u13F8-\u13FD\u1D00-\u1D2B\u1D6B-\u1D77\u1D79-\u1D9A\u1E01\u1E03\u1E05\u1E07\u1E09\u1E0B\u1E0D\u1E0F\u1E11\u1E13\u1E15\u1E17\u1E19\u1E1B\u1E1D\u1E1F\u1E21\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E2D\u1E2F\u1E31\u1E33\u1E35\u1E37\u1E39\u1E3B\u1E3D\u1E3F\u1E41\u1E43\u1E45\u1E47\u1E49\u1E4B\u1E4D\u1E4F\u1E51\u1E53\u1E55\u1E57\u1E59\u1E5B\u1E5D\u1E5F\u1E61\u1E63\u1E65\u1E67\u1E69\u1E6B\u1E6D\u1E6F\u1E71\u1E73\u1E75\u1E77\u1E79\u1E7B\u1E7D\u1E7F\u1E81\u1E83\u1E85\u1E87\u1E89\u1E8B\u1E8D\u1E8F\u1E91\u1E93\u1E95-\u1E9D\u1E9F\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7\u1EC9\u1ECB\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1\u1EF3\u1EF5\u1EF7\u1EF9\u1EFB\u1EFD\u1EFF-\u1F07\u1F10-\u1F15\u1F20-\u1F27\u1F30-\u1F37\u1F40-\u1F45\u1F50-\u1F57\u1F60-\u1F67\u1F70-\u1F7D\u1F80-\u1F87\u1F90-\u1F97\u1FA0-\u1FA7\u1FB0-\u1FB4\u1FB6-\u1FB7\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FC7\u1FD0-\u1FD3\u1FD6-\u1FD7\u1FE0-\u1FE7\u1FF2-\u1FF4\u1FF6-\u1FF7\u210A\u210E-\u210F\u2113\u212F\u2134\u2139\u213C-\u213D\u2146-\u2149\u214E\u2184\u2C30-\u2C5E\u2C61\u2C65-\u2C66\u2C68\u2C6A\u2C6C\u2C71\u2C73-\u2C74\u2C76-\u2C7B\u2C81\u2C83\u2C85\u2C87\u2C89\u2C8B\u2C8D\u2C8F\u2C91\u2C93\u2C95\u2C97\u2C99\u2C9B\u2C9D\u2C9F\u2CA1\u2CA3\u2CA5\u2CA7\u2CA9\u2CAB\u2CAD\u2CAF\u2CB1\u2CB3\u2CB5\u2CB7\u2CB9\u2CBB\u2CBD\u2CBF\u2CC1\u2CC3\u2CC5\u2CC7\u2CC9\u2CCB\u2CCD\u2CCF\u2CD1\u2CD3\u2CD5\u2CD7\u2CD9\u2CDB\u2CDD\u2CDF\u2CE1\u2CE3-\u2CE4\u2CEC\u2CEE\u2CF3\u2D00-\u2D25\u2D27\u2D2D\uA641\uA643\uA645\uA647\uA649\uA64B\uA64D\uA64F\uA651\uA653\uA655\uA657\uA659\uA65B\uA65D\uA65F\uA661\uA663\uA665\uA667\uA669\uA66B\uA66D\uA681\uA683\uA685\uA687\uA689\uA68B\uA68D\uA68F\uA691\uA693\uA695\uA697\uA699\uA69B\uA723\uA725\uA727\uA729\uA72B\uA72D\uA72F-\uA731\uA733\uA735\uA737\uA739\uA73B\uA73D\uA73F\uA741\uA743\uA745\uA747\uA749\uA74B\uA74D\uA74F\uA751\uA753\uA755\uA757\uA759\uA75B\uA75D\uA75F\uA761\uA763\uA765\uA767\uA769\uA76B\uA76D\uA76F\uA771-\uA778\uA77A\uA77C\uA77F\uA781\uA783\uA785\uA787\uA78C\uA78E\uA791\uA793-\uA795\uA797\uA799\uA79B\uA79D\uA79F\uA7A1\uA7A3\uA7A5\uA7A7\uA7A9\uA7B5\uA7B7\uA7FA\uAB30-\uAB5A\uAB60-\uAB65\uAB70-\uABBF\uFB00-\uFB06\uFB13-\uFB17\uFF41-\uFF5A]/,Nut=rh([["a","z"],"\xB5",["\xDF","\xF6"],["\xF8","\xFF"],"\u0101","\u0103","\u0105","\u0107","\u0109","\u010B","\u010D","\u010F","\u0111","\u0113","\u0115","\u0117","\u0119","\u011B","\u011D","\u011F","\u0121","\u0123","\u0125","\u0127","\u0129","\u012B","\u012D","\u012F","\u0131","\u0133","\u0135",["\u0137","\u0138"],"\u013A","\u013C","\u013E","\u0140","\u0142","\u0144","\u0146",["\u0148","\u0149"],"\u014B","\u014D","\u014F","\u0151","\u0153","\u0155","\u0157","\u0159","\u015B","\u015D","\u015F","\u0161","\u0163","\u0165","\u0167","\u0169","\u016B","\u016D","\u016F","\u0171","\u0173","\u0175","\u0177","\u017A","\u017C",["\u017E","\u0180"],"\u0183","\u0185","\u0188",["\u018C","\u018D"],"\u0192","\u0195",["\u0199","\u019B"],"\u019E","\u01A1","\u01A3","\u01A5","\u01A8",["\u01AA","\u01AB"],"\u01AD","\u01B0","\u01B4","\u01B6",["\u01B9","\u01BA"],["\u01BD","\u01BF"],"\u01C6","\u01C9","\u01CC","\u01CE","\u01D0","\u01D2","\u01D4","\u01D6","\u01D8","\u01DA",["\u01DC","\u01DD"],"\u01DF","\u01E1","\u01E3","\u01E5","\u01E7","\u01E9","\u01EB","\u01ED",["\u01EF","\u01F0"],"\u01F3","\u01F5","\u01F9","\u01FB","\u01FD","\u01FF","\u0201","\u0203","\u0205","\u0207","\u0209","\u020B","\u020D","\u020F","\u0211","\u0213","\u0215","\u0217","\u0219","\u021B","\u021D","\u021F","\u0221","\u0223","\u0225","\u0227","\u0229","\u022B","\u022D","\u022F","\u0231",["\u0233","\u0239"],"\u023C",["\u023F","\u0240"],"\u0242","\u0247","\u0249","\u024B","\u024D",["\u024F","\u0293"],["\u0295","\u02AF"],"\u0371","\u0373","\u0377",["\u037B","\u037D"],"\u0390",["\u03AC","\u03CE"],["\u03D0","\u03D1"],["\u03D5","\u03D7"],"\u03D9","\u03DB","\u03DD","\u03DF","\u03E1","\u03E3","\u03E5","\u03E7","\u03E9","\u03EB","\u03ED",["\u03EF","\u03F3"],"\u03F5","\u03F8",["\u03FB","\u03FC"],["\u0430","\u045F"],"\u0461","\u0463","\u0465","\u0467","\u0469","\u046B","\u046D","\u046F","\u0471","\u0473","\u0475","\u0477","\u0479","\u047B","\u047D","\u047F","\u0481","\u048B","\u048D","\u048F","\u0491","\u0493","\u0495","\u0497","\u0499","\u049B","\u049D","\u049F","\u04A1","\u04A3","\u04A5","\u04A7","\u04A9","\u04AB","\u04AD","\u04AF","\u04B1","\u04B3","\u04B5","\u04B7","\u04B9","\u04BB","\u04BD","\u04BF","\u04C2","\u04C4","\u04C6","\u04C8","\u04CA","\u04CC",["\u04CE","\u04CF"],"\u04D1","\u04D3","\u04D5","\u04D7","\u04D9","\u04DB","\u04DD","\u04DF","\u04E1","\u04E3","\u04E5","\u04E7","\u04E9","\u04EB","\u04ED","\u04EF","\u04F1","\u04F3","\u04F5","\u04F7","\u04F9","\u04FB","\u04FD","\u04FF","\u0501","\u0503","\u0505","\u0507","\u0509","\u050B","\u050D","\u050F","\u0511","\u0513","\u0515","\u0517","\u0519","\u051B","\u051D","\u051F","\u0521","\u0523","\u0525","\u0527","\u0529","\u052B","\u052D","\u052F",["\u0561","\u0587"],["\u13F8","\u13FD"],["\u1D00","\u1D2B"],["\u1D6B","\u1D77"],["\u1D79","\u1D9A"],"\u1E01","\u1E03","\u1E05","\u1E07","\u1E09","\u1E0B","\u1E0D","\u1E0F","\u1E11","\u1E13","\u1E15","\u1E17","\u1E19","\u1E1B","\u1E1D","\u1E1F","\u1E21","\u1E23","\u1E25","\u1E27","\u1E29","\u1E2B","\u1E2D","\u1E2F","\u1E31","\u1E33","\u1E35","\u1E37","\u1E39","\u1E3B","\u1E3D","\u1E3F","\u1E41","\u1E43","\u1E45","\u1E47","\u1E49","\u1E4B","\u1E4D","\u1E4F","\u1E51","\u1E53","\u1E55","\u1E57","\u1E59","\u1E5B","\u1E5D","\u1E5F","\u1E61","\u1E63","\u1E65","\u1E67","\u1E69","\u1E6B","\u1E6D","\u1E6F","\u1E71","\u1E73","\u1E75","\u1E77","\u1E79","\u1E7B","\u1E7D","\u1E7F","\u1E81","\u1E83","\u1E85","\u1E87","\u1E89","\u1E8B","\u1E8D","\u1E8F","\u1E91","\u1E93",["\u1E95","\u1E9D"],"\u1E9F","\u1EA1","\u1EA3","\u1EA5","\u1EA7","\u1EA9","\u1EAB","\u1EAD","\u1EAF","\u1EB1","\u1EB3","\u1EB5","\u1EB7","\u1EB9","\u1EBB","\u1EBD","\u1EBF","\u1EC1","\u1EC3","\u1EC5","\u1EC7","\u1EC9","\u1ECB","\u1ECD","\u1ECF","\u1ED1","\u1ED3","\u1ED5","\u1ED7","\u1ED9","\u1EDB","\u1EDD","\u1EDF","\u1EE1","\u1EE3","\u1EE5","\u1EE7","\u1EE9","\u1EEB","\u1EED","\u1EEF","\u1EF1","\u1EF3","\u1EF5","\u1EF7","\u1EF9","\u1EFB","\u1EFD",["\u1EFF","\u1F07"],["\u1F10","\u1F15"],["\u1F20","\u1F27"],["\u1F30","\u1F37"],["\u1F40","\u1F45"],["\u1F50","\u1F57"],["\u1F60","\u1F67"],["\u1F70","\u1F7D"],["\u1F80","\u1F87"],["\u1F90","\u1F97"],["\u1FA0","\u1FA7"],["\u1FB0","\u1FB4"],["\u1FB6","\u1FB7"],"\u1FBE",["\u1FC2","\u1FC4"],["\u1FC6","\u1FC7"],["\u1FD0","\u1FD3"],["\u1FD6","\u1FD7"],["\u1FE0","\u1FE7"],["\u1FF2","\u1FF4"],["\u1FF6","\u1FF7"],"\u210A",["\u210E","\u210F"],"\u2113","\u212F","\u2134","\u2139",["\u213C","\u213D"],["\u2146","\u2149"],"\u214E","\u2184",["\u2C30","\u2C5E"],"\u2C61",["\u2C65","\u2C66"],"\u2C68","\u2C6A","\u2C6C","\u2C71",["\u2C73","\u2C74"],["\u2C76","\u2C7B"],"\u2C81","\u2C83","\u2C85","\u2C87","\u2C89","\u2C8B","\u2C8D","\u2C8F","\u2C91","\u2C93","\u2C95","\u2C97","\u2C99","\u2C9B","\u2C9D","\u2C9F","\u2CA1","\u2CA3","\u2CA5","\u2CA7","\u2CA9","\u2CAB","\u2CAD","\u2CAF","\u2CB1","\u2CB3","\u2CB5","\u2CB7","\u2CB9","\u2CBB","\u2CBD","\u2CBF","\u2CC1","\u2CC3","\u2CC5","\u2CC7","\u2CC9","\u2CCB","\u2CCD","\u2CCF","\u2CD1","\u2CD3","\u2CD5","\u2CD7","\u2CD9","\u2CDB","\u2CDD","\u2CDF","\u2CE1",["\u2CE3","\u2CE4"],"\u2CEC","\u2CEE","\u2CF3",["\u2D00","\u2D25"],"\u2D27","\u2D2D","\uA641","\uA643","\uA645","\uA647","\uA649","\uA64B","\uA64D","\uA64F","\uA651","\uA653","\uA655","\uA657","\uA659","\uA65B","\uA65D","\uA65F","\uA661","\uA663","\uA665","\uA667","\uA669","\uA66B","\uA66D","\uA681","\uA683","\uA685","\uA687","\uA689","\uA68B","\uA68D","\uA68F","\uA691","\uA693","\uA695","\uA697","\uA699","\uA69B","\uA723","\uA725","\uA727","\uA729","\uA72B","\uA72D",["\uA72F","\uA731"],"\uA733","\uA735","\uA737","\uA739","\uA73B","\uA73D","\uA73F","\uA741","\uA743","\uA745","\uA747","\uA749","\uA74B","\uA74D","\uA74F","\uA751","\uA753","\uA755","\uA757","\uA759","\uA75B","\uA75D","\uA75F","\uA761","\uA763","\uA765","\uA767","\uA769","\uA76B","\uA76D","\uA76F",["\uA771","\uA778"],"\uA77A","\uA77C","\uA77F","\uA781","\uA783","\uA785","\uA787","\uA78C","\uA78E","\uA791",["\uA793","\uA795"],"\uA797","\uA799","\uA79B","\uA79D","\uA79F","\uA7A1","\uA7A3","\uA7A5","\uA7A7","\uA7A9","\uA7B5","\uA7B7","\uA7FA",["\uAB30","\uAB5A"],["\uAB60","\uAB65"],["\uAB70","\uABBF"],["\uFB00","\uFB06"],["\uFB13","\uFB17"],["\uFF41","\uFF5A"]],!1,!1),kut=/^[\u02B0-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0374\u037A\u0559\u0640\u06E5-\u06E6\u07F4-\u07F5\u07FA\u081A\u0824\u0828\u0971\u0E46\u0EC6\u10FC\u17D7\u1843\u1AA7\u1C78-\u1C7D\u1D2C-\u1D6A\u1D78\u1D9B-\u1DBF\u2071\u207F\u2090-\u209C\u2C7C-\u2C7D\u2D6F\u2E2F\u3005\u3031-\u3035\u303B\u309D-\u309E\u30FC-\u30FE\uA015\uA4F8-\uA4FD\uA60C\uA67F\uA69C-\uA69D\uA717-\uA71F\uA770\uA788\uA7F8-\uA7F9\uA9CF\uA9E6\uAA70\uAADD\uAAF3-\uAAF4\uAB5C-\uAB5F\uFF70\uFF9E-\uFF9F]/,But=rh([["\u02B0","\u02C1"],["\u02C6","\u02D1"],["\u02E0","\u02E4"],"\u02EC","\u02EE","\u0374","\u037A","\u0559","\u0640",["\u06E5","\u06E6"],["\u07F4","\u07F5"],"\u07FA","\u081A","\u0824","\u0828","\u0971","\u0E46","\u0EC6","\u10FC","\u17D7","\u1843","\u1AA7",["\u1C78","\u1C7D"],["\u1D2C","\u1D6A"],"\u1D78",["\u1D9B","\u1DBF"],"\u2071","\u207F",["\u2090","\u209C"],["\u2C7C","\u2C7D"],"\u2D6F","\u2E2F","\u3005",["\u3031","\u3035"],"\u303B",["\u309D","\u309E"],["\u30FC","\u30FE"],"\uA015",["\uA4F8","\uA4FD"],"\uA60C","\uA67F",["\uA69C","\uA69D"],["\uA717","\uA71F"],"\uA770","\uA788",["\uA7F8","\uA7F9"],"\uA9CF","\uA9E6","\uAA70","\uAADD",["\uAAF3","\uAAF4"],["\uAB5C","\uAB5F"],"\uFF70",["\uFF9E","\uFF9F"]],!1,!1),Gut=/^[\xAA\xBA\u01BB\u01C0-\u01C3\u0294\u05D0-\u05EA\u05F0-\u05F2\u0620-\u063F\u0641-\u064A\u066E-\u066F\u0671-\u06D3\u06D5\u06EE-\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u0800-\u0815\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0972-\u0980\u0985-\u098C\u098F-\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC-\u09DD\u09DF-\u09E1\u09F0-\u09F1\u0A05-\u0A0A\u0A0F-\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32-\u0A33\u0A35-\u0A36\u0A38-\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2-\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0-\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F-\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32-\u0B33\u0B35-\u0B39\u0B3D\u0B5C-\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99-\u0B9A\u0B9C\u0B9E-\u0B9F\u0BA3-\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60-\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0-\u0CE1\u0CF1-\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32-\u0E33\u0E40-\u0E45\u0E81-\u0E82\u0E84\u0E87-\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA-\u0EAB\u0EAD-\u0EB0\u0EB2-\u0EB3\u0EBD\u0EC0-\u0EC4\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065-\u1066\u106E-\u1070\u1075-\u1081\u108E\u10D0-\u10FA\u10FD-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17DC\u1820-\u1842\u1844-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE-\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C77\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5-\u1CF6\u2135-\u2138\u2D30-\u2D67\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3006\u303C\u3041-\u3096\u309F\u30A1-\u30FA\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA014\uA016-\uA48C\uA4D0-\uA4F7\uA500-\uA60B\uA610-\uA61F\uA62A-\uA62B\uA66E\uA6A0-\uA6E5\uA78F\uA7F7\uA7FB-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9E0-\uA9E4\uA9E7-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA6F\uAA71-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5-\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADC\uAAE0-\uAAEA\uAAF2\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40-\uFB41\uFB43-\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF66-\uFF6F\uFF71-\uFF9D\uFFA0-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,zut=rh(["\xAA","\xBA","\u01BB",["\u01C0","\u01C3"],"\u0294",["\u05D0","\u05EA"],["\u05F0","\u05F2"],["\u0620","\u063F"],["\u0641","\u064A"],["\u066E","\u066F"],["\u0671","\u06D3"],"\u06D5",["\u06EE","\u06EF"],["\u06FA","\u06FC"],"\u06FF","\u0710",["\u0712","\u072F"],["\u074D","\u07A5"],"\u07B1",["\u07CA","\u07EA"],["\u0800","\u0815"],["\u0840","\u0858"],["\u08A0","\u08B4"],["\u0904","\u0939"],"\u093D","\u0950",["\u0958","\u0961"],["\u0972","\u0980"],["\u0985","\u098C"],["\u098F","\u0990"],["\u0993","\u09A8"],["\u09AA","\u09B0"],"\u09B2",["\u09B6","\u09B9"],"\u09BD","\u09CE",["\u09DC","\u09DD"],["\u09DF","\u09E1"],["\u09F0","\u09F1"],["\u0A05","\u0A0A"],["\u0A0F","\u0A10"],["\u0A13","\u0A28"],["\u0A2A","\u0A30"],["\u0A32","\u0A33"],["\u0A35","\u0A36"],["\u0A38","\u0A39"],["\u0A59","\u0A5C"],"\u0A5E",["\u0A72","\u0A74"],["\u0A85","\u0A8D"],["\u0A8F","\u0A91"],["\u0A93","\u0AA8"],["\u0AAA","\u0AB0"],["\u0AB2","\u0AB3"],["\u0AB5","\u0AB9"],"\u0ABD","\u0AD0",["\u0AE0","\u0AE1"],"\u0AF9",["\u0B05","\u0B0C"],["\u0B0F","\u0B10"],["\u0B13","\u0B28"],["\u0B2A","\u0B30"],["\u0B32","\u0B33"],["\u0B35","\u0B39"],"\u0B3D",["\u0B5C","\u0B5D"],["\u0B5F","\u0B61"],"\u0B71","\u0B83",["\u0B85","\u0B8A"],["\u0B8E","\u0B90"],["\u0B92","\u0B95"],["\u0B99","\u0B9A"],"\u0B9C",["\u0B9E","\u0B9F"],["\u0BA3","\u0BA4"],["\u0BA8","\u0BAA"],["\u0BAE","\u0BB9"],"\u0BD0",["\u0C05","\u0C0C"],["\u0C0E","\u0C10"],["\u0C12","\u0C28"],["\u0C2A","\u0C39"],"\u0C3D",["\u0C58","\u0C5A"],["\u0C60","\u0C61"],["\u0C85","\u0C8C"],["\u0C8E","\u0C90"],["\u0C92","\u0CA8"],["\u0CAA","\u0CB3"],["\u0CB5","\u0CB9"],"\u0CBD","\u0CDE",["\u0CE0","\u0CE1"],["\u0CF1","\u0CF2"],["\u0D05","\u0D0C"],["\u0D0E","\u0D10"],["\u0D12","\u0D3A"],"\u0D3D","\u0D4E",["\u0D5F","\u0D61"],["\u0D7A","\u0D7F"],["\u0D85","\u0D96"],["\u0D9A","\u0DB1"],["\u0DB3","\u0DBB"],"\u0DBD",["\u0DC0","\u0DC6"],["\u0E01","\u0E30"],["\u0E32","\u0E33"],["\u0E40","\u0E45"],["\u0E81","\u0E82"],"\u0E84",["\u0E87","\u0E88"],"\u0E8A","\u0E8D",["\u0E94","\u0E97"],["\u0E99","\u0E9F"],["\u0EA1","\u0EA3"],"\u0EA5","\u0EA7",["\u0EAA","\u0EAB"],["\u0EAD","\u0EB0"],["\u0EB2","\u0EB3"],"\u0EBD",["\u0EC0","\u0EC4"],["\u0EDC","\u0EDF"],"\u0F00",["\u0F40","\u0F47"],["\u0F49","\u0F6C"],["\u0F88","\u0F8C"],["\u1000","\u102A"],"\u103F",["\u1050","\u1055"],["\u105A","\u105D"],"\u1061",["\u1065","\u1066"],["\u106E","\u1070"],["\u1075","\u1081"],"\u108E",["\u10D0","\u10FA"],["\u10FD","\u1248"],["\u124A","\u124D"],["\u1250","\u1256"],"\u1258",["\u125A","\u125D"],["\u1260","\u1288"],["\u128A","\u128D"],["\u1290","\u12B0"],["\u12B2","\u12B5"],["\u12B8","\u12BE"],"\u12C0",["\u12C2","\u12C5"],["\u12C8","\u12D6"],["\u12D8","\u1310"],["\u1312","\u1315"],["\u1318","\u135A"],["\u1380","\u138F"],["\u1401","\u166C"],["\u166F","\u167F"],["\u1681","\u169A"],["\u16A0","\u16EA"],["\u16F1","\u16F8"],["\u1700","\u170C"],["\u170E","\u1711"],["\u1720","\u1731"],["\u1740","\u1751"],["\u1760","\u176C"],["\u176E","\u1770"],["\u1780","\u17B3"],"\u17DC",["\u1820","\u1842"],["\u1844","\u1877"],["\u1880","\u18A8"],"\u18AA",["\u18B0","\u18F5"],["\u1900","\u191E"],["\u1950","\u196D"],["\u1970","\u1974"],["\u1980","\u19AB"],["\u19B0","\u19C9"],["\u1A00","\u1A16"],["\u1A20","\u1A54"],["\u1B05","\u1B33"],["\u1B45","\u1B4B"],["\u1B83","\u1BA0"],["\u1BAE","\u1BAF"],["\u1BBA","\u1BE5"],["\u1C00","\u1C23"],["\u1C4D","\u1C4F"],["\u1C5A","\u1C77"],["\u1CE9","\u1CEC"],["\u1CEE","\u1CF1"],["\u1CF5","\u1CF6"],["\u2135","\u2138"],["\u2D30","\u2D67"],["\u2D80","\u2D96"],["\u2DA0","\u2DA6"],["\u2DA8","\u2DAE"],["\u2DB0","\u2DB6"],["\u2DB8","\u2DBE"],["\u2DC0","\u2DC6"],["\u2DC8","\u2DCE"],["\u2DD0","\u2DD6"],["\u2DD8","\u2DDE"],"\u3006","\u303C",["\u3041","\u3096"],"\u309F",["\u30A1","\u30FA"],"\u30FF",["\u3105","\u312D"],["\u3131","\u318E"],["\u31A0","\u31BA"],["\u31F0","\u31FF"],["\u3400","\u4DB5"],["\u4E00","\u9FD5"],["\uA000","\uA014"],["\uA016","\uA48C"],["\uA4D0","\uA4F7"],["\uA500","\uA60B"],["\uA610","\uA61F"],["\uA62A","\uA62B"],"\uA66E",["\uA6A0","\uA6E5"],"\uA78F","\uA7F7",["\uA7FB","\uA801"],["\uA803","\uA805"],["\uA807","\uA80A"],["\uA80C","\uA822"],["\uA840","\uA873"],["\uA882","\uA8B3"],["\uA8F2","\uA8F7"],"\uA8FB","\uA8FD",["\uA90A","\uA925"],["\uA930","\uA946"],["\uA960","\uA97C"],["\uA984","\uA9B2"],["\uA9E0","\uA9E4"],["\uA9E7","\uA9EF"],["\uA9FA","\uA9FE"],["\uAA00","\uAA28"],["\uAA40","\uAA42"],["\uAA44","\uAA4B"],["\uAA60","\uAA6F"],["\uAA71","\uAA76"],"\uAA7A",["\uAA7E","\uAAAF"],"\uAAB1",["\uAAB5","\uAAB6"],["\uAAB9","\uAABD"],"\uAAC0","\uAAC2",["\uAADB","\uAADC"],["\uAAE0","\uAAEA"],"\uAAF2",["\uAB01","\uAB06"],["\uAB09","\uAB0E"],["\uAB11","\uAB16"],["\uAB20","\uAB26"],["\uAB28","\uAB2E"],["\uABC0","\uABE2"],["\uAC00","\uD7A3"],["\uD7B0","\uD7C6"],["\uD7CB","\uD7FB"],["\uF900","\uFA6D"],["\uFA70","\uFAD9"],"\uFB1D",["\uFB1F","\uFB28"],["\uFB2A","\uFB36"],["\uFB38","\uFB3C"],"\uFB3E",["\uFB40","\uFB41"],["\uFB43","\uFB44"],["\uFB46","\uFBB1"],["\uFBD3","\uFD3D"],["\uFD50","\uFD8F"],["\uFD92","\uFDC7"],["\uFDF0","\uFDFB"],["\uFE70","\uFE74"],["\uFE76","\uFEFC"],["\uFF66","\uFF6F"],["\uFF71","\uFF9D"],["\uFFA0","\uFFBE"],["\uFFC2","\uFFC7"],["\uFFCA","\uFFCF"],["\uFFD2","\uFFD7"],["\uFFDA","\uFFDC"]],!1,!1),Uut=/^[\u01C5\u01C8\u01CB\u01F2\u1F88-\u1F8F\u1F98-\u1F9F\u1FA8-\u1FAF\u1FBC\u1FCC\u1FFC]/,jut=rh(["\u01C5","\u01C8","\u01CB","\u01F2",["\u1F88","\u1F8F"],["\u1F98","\u1F9F"],["\u1FA8","\u1FAF"],"\u1FBC","\u1FCC","\u1FFC"],!1,!1),Wut=/^[A-Z\xC0-\xD6\xD8-\xDE\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0139\u013B\u013D\u013F\u0141\u0143\u0145\u0147\u014A\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015A\u015C\u015E\u0160\u0162\u0164\u0166\u0168\u016A\u016C\u016E\u0170\u0172\u0174\u0176\u0178-\u0179\u017B\u017D\u0181-\u0182\u0184\u0186-\u0187\u0189-\u018B\u018E-\u0191\u0193-\u0194\u0196-\u0198\u019C-\u019D\u019F-\u01A0\u01A2\u01A4\u01A6-\u01A7\u01A9\u01AC\u01AE-\u01AF\u01B1-\u01B3\u01B5\u01B7-\u01B8\u01BC\u01C4\u01C7\u01CA\u01CD\u01CF\u01D1\u01D3\u01D5\u01D7\u01D9\u01DB\u01DE\u01E0\u01E2\u01E4\u01E6\u01E8\u01EA\u01EC\u01EE\u01F1\u01F4\u01F6-\u01F8\u01FA\u01FC\u01FE\u0200\u0202\u0204\u0206\u0208\u020A\u020C\u020E\u0210\u0212\u0214\u0216\u0218\u021A\u021C\u021E\u0220\u0222\u0224\u0226\u0228\u022A\u022C\u022E\u0230\u0232\u023A-\u023B\u023D-\u023E\u0241\u0243-\u0246\u0248\u024A\u024C\u024E\u0370\u0372\u0376\u037F\u0386\u0388-\u038A\u038C\u038E-\u038F\u0391-\u03A1\u03A3-\u03AB\u03CF\u03D2-\u03D4\u03D8\u03DA\u03DC\u03DE\u03E0\u03E2\u03E4\u03E6\u03E8\u03EA\u03EC\u03EE\u03F4\u03F7\u03F9-\u03FA\u03FD-\u042F\u0460\u0462\u0464\u0466\u0468\u046A\u046C\u046E\u0470\u0472\u0474\u0476\u0478\u047A\u047C\u047E\u0480\u048A\u048C\u048E\u0490\u0492\u0494\u0496\u0498\u049A\u049C\u049E\u04A0\u04A2\u04A4\u04A6\u04A8\u04AA\u04AC\u04AE\u04B0\u04B2\u04B4\u04B6\u04B8\u04BA\u04BC\u04BE\u04C0-\u04C1\u04C3\u04C5\u04C7\u04C9\u04CB\u04CD\u04D0\u04D2\u04D4\u04D6\u04D8\u04DA\u04DC\u04DE\u04E0\u04E2\u04E4\u04E6\u04E8\u04EA\u04EC\u04EE\u04F0\u04F2\u04F4\u04F6\u04F8\u04FA\u04FC\u04FE\u0500\u0502\u0504\u0506\u0508\u050A\u050C\u050E\u0510\u0512\u0514\u0516\u0518\u051A\u051C\u051E\u0520\u0522\u0524\u0526\u0528\u052A\u052C\u052E\u0531-\u0556\u10A0-\u10C5\u10C7\u10CD\u13A0-\u13F5\u1E00\u1E02\u1E04\u1E06\u1E08\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1E1E\u1E20\u1E22\u1E24\u1E26\u1E28\u1E2A\u1E2C\u1E2E\u1E30\u1E32\u1E34\u1E36\u1E38\u1E3A\u1E3C\u1E3E\u1E40\u1E42\u1E44\u1E46\u1E48\u1E4A\u1E4C\u1E4E\u1E50\u1E52\u1E54\u1E56\u1E58\u1E5A\u1E5C\u1E5E\u1E60\u1E62\u1E64\u1E66\u1E68\u1E6A\u1E6C\u1E6E\u1E70\u1E72\u1E74\u1E76\u1E78\u1E7A\u1E7C\u1E7E\u1E80\u1E82\u1E84\u1E86\u1E88\u1E8A\u1E8C\u1E8E\u1E90\u1E92\u1E94\u1E9E\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\u1EF6\u1EF8\u1EFA\u1EFC\u1EFE\u1F08-\u1F0F\u1F18-\u1F1D\u1F28-\u1F2F\u1F38-\u1F3F\u1F48-\u1F4D\u1F59\u1F5B\u1F5D\u1F5F\u1F68-\u1F6F\u1FB8-\u1FBB\u1FC8-\u1FCB\u1FD8-\u1FDB\u1FE8-\u1FEC\u1FF8-\u1FFB\u2102\u2107\u210B-\u210D\u2110-\u2112\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u2130-\u2133\u213E-\u213F\u2145\u2183\u2C00-\u2C2E\u2C60\u2C62-\u2C64\u2C67\u2C69\u2C6B\u2C6D-\u2C70\u2C72\u2C75\u2C7E-\u2C80\u2C82\u2C84\u2C86\u2C88\u2C8A\u2C8C\u2C8E\u2C90\u2C92\u2C94\u2C96\u2C98\u2C9A\u2C9C\u2C9E\u2CA0\u2CA2\u2CA4\u2CA6\u2CA8\u2CAA\u2CAC\u2CAE\u2CB0\u2CB2\u2CB4\u2CB6\u2CB8\u2CBA\u2CBC\u2CBE\u2CC0\u2CC2\u2CC4\u2CC6\u2CC8\u2CCA\u2CCC\u2CCE\u2CD0\u2CD2\u2CD4\u2CD6\u2CD8\u2CDA\u2CDC\u2CDE\u2CE0\u2CE2\u2CEB\u2CED\u2CF2\uA640\uA642\uA644\uA646\uA648\uA64A\uA64C\uA64E\uA650\uA652\uA654\uA656\uA658\uA65A\uA65C\uA65E\uA660\uA662\uA664\uA666\uA668\uA66A\uA66C\uA680\uA682\uA684\uA686\uA688\uA68A\uA68C\uA68E\uA690\uA692\uA694\uA696\uA698\uA69A\uA722\uA724\uA726\uA728\uA72A\uA72C\uA72E\uA732\uA734\uA736\uA738\uA73A\uA73C\uA73E\uA740\uA742\uA744\uA746\uA748\uA74A\uA74C\uA74E\uA750\uA752\uA754\uA756\uA758\uA75A\uA75C\uA75E\uA760\uA762\uA764\uA766\uA768\uA76A\uA76C\uA76E\uA779\uA77B\uA77D-\uA77E\uA780\uA782\uA784\uA786\uA78B\uA78D\uA790\uA792\uA796\uA798\uA79A\uA79C\uA79E\uA7A0\uA7A2\uA7A4\uA7A6\uA7A8\uA7AA-\uA7AD\uA7B0-\uA7B4\uA7B6\uFF21-\uFF3A]/,Vut=rh([["A","Z"],["\xC0","\xD6"],["\xD8","\xDE"],"\u0100","\u0102","\u0104","\u0106","\u0108","\u010A","\u010C","\u010E","\u0110","\u0112","\u0114","\u0116","\u0118","\u011A","\u011C","\u011E","\u0120","\u0122","\u0124","\u0126","\u0128","\u012A","\u012C","\u012E","\u0130","\u0132","\u0134","\u0136","\u0139","\u013B","\u013D","\u013F","\u0141","\u0143","\u0145","\u0147","\u014A","\u014C","\u014E","\u0150","\u0152","\u0154","\u0156","\u0158","\u015A","\u015C","\u015E","\u0160","\u0162","\u0164","\u0166","\u0168","\u016A","\u016C","\u016E","\u0170","\u0172","\u0174","\u0176",["\u0178","\u0179"],"\u017B","\u017D",["\u0181","\u0182"],"\u0184",["\u0186","\u0187"],["\u0189","\u018B"],["\u018E","\u0191"],["\u0193","\u0194"],["\u0196","\u0198"],["\u019C","\u019D"],["\u019F","\u01A0"],"\u01A2","\u01A4",["\u01A6","\u01A7"],"\u01A9","\u01AC",["\u01AE","\u01AF"],["\u01B1","\u01B3"],"\u01B5",["\u01B7","\u01B8"],"\u01BC","\u01C4","\u01C7","\u01CA","\u01CD","\u01CF","\u01D1","\u01D3","\u01D5","\u01D7","\u01D9","\u01DB","\u01DE","\u01E0","\u01E2","\u01E4","\u01E6","\u01E8","\u01EA","\u01EC","\u01EE","\u01F1","\u01F4",["\u01F6","\u01F8"],"\u01FA","\u01FC","\u01FE","\u0200","\u0202","\u0204","\u0206","\u0208","\u020A","\u020C","\u020E","\u0210","\u0212","\u0214","\u0216","\u0218","\u021A","\u021C","\u021E","\u0220","\u0222","\u0224","\u0226","\u0228","\u022A","\u022C","\u022E","\u0230","\u0232",["\u023A","\u023B"],["\u023D","\u023E"],"\u0241",["\u0243","\u0246"],"\u0248","\u024A","\u024C","\u024E","\u0370","\u0372","\u0376","\u037F","\u0386",["\u0388","\u038A"],"\u038C",["\u038E","\u038F"],["\u0391","\u03A1"],["\u03A3","\u03AB"],"\u03CF",["\u03D2","\u03D4"],"\u03D8","\u03DA","\u03DC","\u03DE","\u03E0","\u03E2","\u03E4","\u03E6","\u03E8","\u03EA","\u03EC","\u03EE","\u03F4","\u03F7",["\u03F9","\u03FA"],["\u03FD","\u042F"],"\u0460","\u0462","\u0464","\u0466","\u0468","\u046A","\u046C","\u046E","\u0470","\u0472","\u0474","\u0476","\u0478","\u047A","\u047C","\u047E","\u0480","\u048A","\u048C","\u048E","\u0490","\u0492","\u0494","\u0496","\u0498","\u049A","\u049C","\u049E","\u04A0","\u04A2","\u04A4","\u04A6","\u04A8","\u04AA","\u04AC","\u04AE","\u04B0","\u04B2","\u04B4","\u04B6","\u04B8","\u04BA","\u04BC","\u04BE",["\u04C0","\u04C1"],"\u04C3","\u04C5","\u04C7","\u04C9","\u04CB","\u04CD","\u04D0","\u04D2","\u04D4","\u04D6","\u04D8","\u04DA","\u04DC","\u04DE","\u04E0","\u04E2","\u04E4","\u04E6","\u04E8","\u04EA","\u04EC","\u04EE","\u04F0","\u04F2","\u04F4","\u04F6","\u04F8","\u04FA","\u04FC","\u04FE","\u0500","\u0502","\u0504","\u0506","\u0508","\u050A","\u050C","\u050E","\u0510","\u0512","\u0514","\u0516","\u0518","\u051A","\u051C","\u051E","\u0520","\u0522","\u0524","\u0526","\u0528","\u052A","\u052C","\u052E",["\u0531","\u0556"],["\u10A0","\u10C5"],"\u10C7","\u10CD",["\u13A0","\u13F5"],"\u1E00","\u1E02","\u1E04","\u1E06","\u1E08","\u1E0A","\u1E0C","\u1E0E","\u1E10","\u1E12","\u1E14","\u1E16","\u1E18","\u1E1A","\u1E1C","\u1E1E","\u1E20","\u1E22","\u1E24","\u1E26","\u1E28","\u1E2A","\u1E2C","\u1E2E","\u1E30","\u1E32","\u1E34","\u1E36","\u1E38","\u1E3A","\u1E3C","\u1E3E","\u1E40","\u1E42","\u1E44","\u1E46","\u1E48","\u1E4A","\u1E4C","\u1E4E","\u1E50","\u1E52","\u1E54","\u1E56","\u1E58","\u1E5A","\u1E5C","\u1E5E","\u1E60","\u1E62","\u1E64","\u1E66","\u1E68","\u1E6A","\u1E6C","\u1E6E","\u1E70","\u1E72","\u1E74","\u1E76","\u1E78","\u1E7A","\u1E7C","\u1E7E","\u1E80","\u1E82","\u1E84","\u1E86","\u1E88","\u1E8A","\u1E8C","\u1E8E","\u1E90","\u1E92","\u1E94","\u1E9E","\u1EA0","\u1EA2","\u1EA4","\u1EA6","\u1EA8","\u1EAA","\u1EAC","\u1EAE","\u1EB0","\u1EB2","\u1EB4","\u1EB6","\u1EB8","\u1EBA","\u1EBC","\u1EBE","\u1EC0","\u1EC2","\u1EC4","\u1EC6","\u1EC8","\u1ECA","\u1ECC","\u1ECE","\u1ED0","\u1ED2","\u1ED4","\u1ED6","\u1ED8","\u1EDA","\u1EDC","\u1EDE","\u1EE0","\u1EE2","\u1EE4","\u1EE6","\u1EE8","\u1EEA","\u1EEC","\u1EEE","\u1EF0","\u1EF2","\u1EF4","\u1EF6","\u1EF8","\u1EFA","\u1EFC","\u1EFE",["\u1F08","\u1F0F"],["\u1F18","\u1F1D"],["\u1F28","\u1F2F"],["\u1F38","\u1F3F"],["\u1F48","\u1F4D"],"\u1F59","\u1F5B","\u1F5D","\u1F5F",["\u1F68","\u1F6F"],["\u1FB8","\u1FBB"],["\u1FC8","\u1FCB"],["\u1FD8","\u1FDB"],["\u1FE8","\u1FEC"],["\u1FF8","\u1FFB"],"\u2102","\u2107",["\u210B","\u210D"],["\u2110","\u2112"],"\u2115",["\u2119","\u211D"],"\u2124","\u2126","\u2128",["\u212A","\u212D"],["\u2130","\u2133"],["\u213E","\u213F"],"\u2145","\u2183",["\u2C00","\u2C2E"],"\u2C60",["\u2C62","\u2C64"],"\u2C67","\u2C69","\u2C6B",["\u2C6D","\u2C70"],"\u2C72","\u2C75",["\u2C7E","\u2C80"],"\u2C82","\u2C84","\u2C86","\u2C88","\u2C8A","\u2C8C","\u2C8E","\u2C90","\u2C92","\u2C94","\u2C96","\u2C98","\u2C9A","\u2C9C","\u2C9E","\u2CA0","\u2CA2","\u2CA4","\u2CA6","\u2CA8","\u2CAA","\u2CAC","\u2CAE","\u2CB0","\u2CB2","\u2CB4","\u2CB6","\u2CB8","\u2CBA","\u2CBC","\u2CBE","\u2CC0","\u2CC2","\u2CC4","\u2CC6","\u2CC8","\u2CCA","\u2CCC","\u2CCE","\u2CD0","\u2CD2","\u2CD4","\u2CD6","\u2CD8","\u2CDA","\u2CDC","\u2CDE","\u2CE0","\u2CE2","\u2CEB","\u2CED","\u2CF2","\uA640","\uA642","\uA644","\uA646","\uA648","\uA64A","\uA64C","\uA64E","\uA650","\uA652","\uA654","\uA656","\uA658","\uA65A","\uA65C","\uA65E","\uA660","\uA662","\uA664","\uA666","\uA668","\uA66A","\uA66C","\uA680","\uA682","\uA684","\uA686","\uA688","\uA68A","\uA68C","\uA68E","\uA690","\uA692","\uA694","\uA696","\uA698","\uA69A","\uA722","\uA724","\uA726","\uA728","\uA72A","\uA72C","\uA72E","\uA732","\uA734","\uA736","\uA738","\uA73A","\uA73C","\uA73E","\uA740","\uA742","\uA744","\uA746","\uA748","\uA74A","\uA74C","\uA74E","\uA750","\uA752","\uA754","\uA756","\uA758","\uA75A","\uA75C","\uA75E","\uA760","\uA762","\uA764","\uA766","\uA768","\uA76A","\uA76C","\uA76E","\uA779","\uA77B",["\uA77D","\uA77E"],"\uA780","\uA782","\uA784","\uA786","\uA78B","\uA78D","\uA790","\uA792","\uA796","\uA798","\uA79A","\uA79C","\uA79E","\uA7A0","\uA7A2","\uA7A4","\uA7A6","\uA7A8",["\uA7AA","\uA7AD"],["\uA7B0","\uA7B4"],"\uA7B6",["\uFF21","\uFF3A"]],!1,!1),Hut=/^[\u0903\u093B\u093E-\u0940\u0949-\u094C\u094E-\u094F\u0982-\u0983\u09BE-\u09C0\u09C7-\u09C8\u09CB-\u09CC\u09D7\u0A03\u0A3E-\u0A40\u0A83\u0ABE-\u0AC0\u0AC9\u0ACB-\u0ACC\u0B02-\u0B03\u0B3E\u0B40\u0B47-\u0B48\u0B4B-\u0B4C\u0B57\u0BBE-\u0BBF\u0BC1-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0BD7\u0C01-\u0C03\u0C41-\u0C44\u0C82-\u0C83\u0CBE\u0CC0-\u0CC4\u0CC7-\u0CC8\u0CCA-\u0CCB\u0CD5-\u0CD6\u0D02-\u0D03\u0D3E-\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D57\u0D82-\u0D83\u0DCF-\u0DD1\u0DD8-\u0DDF\u0DF2-\u0DF3\u0F3E-\u0F3F\u0F7F\u102B-\u102C\u1031\u1038\u103B-\u103C\u1056-\u1057\u1062-\u1064\u1067-\u106D\u1083-\u1084\u1087-\u108C\u108F\u109A-\u109C\u17B6\u17BE-\u17C5\u17C7-\u17C8\u1923-\u1926\u1929-\u192B\u1930-\u1931\u1933-\u1938\u1A19-\u1A1A\u1A55\u1A57\u1A61\u1A63-\u1A64\u1A6D-\u1A72\u1B04\u1B35\u1B3B\u1B3D-\u1B41\u1B43-\u1B44\u1B82\u1BA1\u1BA6-\u1BA7\u1BAA\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2-\u1BF3\u1C24-\u1C2B\u1C34-\u1C35\u1CE1\u1CF2-\u1CF3\u302E-\u302F\uA823-\uA824\uA827\uA880-\uA881\uA8B4-\uA8C3\uA952-\uA953\uA983\uA9B4-\uA9B5\uA9BA-\uA9BB\uA9BD-\uA9C0\uAA2F-\uAA30\uAA33-\uAA34\uAA4D\uAA7B\uAA7D\uAAEB\uAAEE-\uAAEF\uAAF5\uABE3-\uABE4\uABE6-\uABE7\uABE9-\uABEA\uABEC]/,Yut=rh(["\u0903","\u093B",["\u093E","\u0940"],["\u0949","\u094C"],["\u094E","\u094F"],["\u0982","\u0983"],["\u09BE","\u09C0"],["\u09C7","\u09C8"],["\u09CB","\u09CC"],"\u09D7","\u0A03",["\u0A3E","\u0A40"],"\u0A83",["\u0ABE","\u0AC0"],"\u0AC9",["\u0ACB","\u0ACC"],["\u0B02","\u0B03"],"\u0B3E","\u0B40",["\u0B47","\u0B48"],["\u0B4B","\u0B4C"],"\u0B57",["\u0BBE","\u0BBF"],["\u0BC1","\u0BC2"],["\u0BC6","\u0BC8"],["\u0BCA","\u0BCC"],"\u0BD7",["\u0C01","\u0C03"],["\u0C41","\u0C44"],["\u0C82","\u0C83"],"\u0CBE",["\u0CC0","\u0CC4"],["\u0CC7","\u0CC8"],["\u0CCA","\u0CCB"],["\u0CD5","\u0CD6"],["\u0D02","\u0D03"],["\u0D3E","\u0D40"],["\u0D46","\u0D48"],["\u0D4A","\u0D4C"],"\u0D57",["\u0D82","\u0D83"],["\u0DCF","\u0DD1"],["\u0DD8","\u0DDF"],["\u0DF2","\u0DF3"],["\u0F3E","\u0F3F"],"\u0F7F",["\u102B","\u102C"],"\u1031","\u1038",["\u103B","\u103C"],["\u1056","\u1057"],["\u1062","\u1064"],["\u1067","\u106D"],["\u1083","\u1084"],["\u1087","\u108C"],"\u108F",["\u109A","\u109C"],"\u17B6",["\u17BE","\u17C5"],["\u17C7","\u17C8"],["\u1923","\u1926"],["\u1929","\u192B"],["\u1930","\u1931"],["\u1933","\u1938"],["\u1A19","\u1A1A"],"\u1A55","\u1A57","\u1A61",["\u1A63","\u1A64"],["\u1A6D","\u1A72"],"\u1B04","\u1B35","\u1B3B",["\u1B3D","\u1B41"],["\u1B43","\u1B44"],"\u1B82","\u1BA1",["\u1BA6","\u1BA7"],"\u1BAA","\u1BE7",["\u1BEA","\u1BEC"],"\u1BEE",["\u1BF2","\u1BF3"],["\u1C24","\u1C2B"],["\u1C34","\u1C35"],"\u1CE1",["\u1CF2","\u1CF3"],["\u302E","\u302F"],["\uA823","\uA824"],"\uA827",["\uA880","\uA881"],["\uA8B4","\uA8C3"],["\uA952","\uA953"],"\uA983",["\uA9B4","\uA9B5"],["\uA9BA","\uA9BB"],["\uA9BD","\uA9C0"],["\uAA2F","\uAA30"],["\uAA33","\uAA34"],"\uAA4D","\uAA7B","\uAA7D","\uAAEB",["\uAAEE","\uAAEF"],"\uAAF5",["\uABE3","\uABE4"],["\uABE6","\uABE7"],["\uABE9","\uABEA"],"\uABEC"],!1,!1),Xut=/^[\u0300-\u036F\u0483-\u0487\u0591-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962-\u0963\u0981\u09BC\u09C1-\u09C4\u09CD\u09E2-\u09E3\u0A01-\u0A02\u0A3C\u0A41-\u0A42\u0A47-\u0A48\u0A4B-\u0A4D\u0A51\u0A70-\u0A71\u0A75\u0A81-\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7-\u0AC8\u0ACD\u0AE2-\u0AE3\u0B01\u0B3C\u0B3F\u0B41-\u0B44\u0B4D\u0B56\u0B62-\u0B63\u0B82\u0BC0\u0BCD\u0C00\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55-\u0C56\u0C62-\u0C63\u0C81\u0CBC\u0CBF\u0CC6\u0CCC-\u0CCD\u0CE2-\u0CE3\u0D01\u0D41-\u0D44\u0D4D\u0D62-\u0D63\u0DCA\u0DD2-\u0DD4\u0DD6\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB-\u0EBC\u0EC8-\u0ECD\u0F18-\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86-\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039-\u103A\u103D-\u103E\u1058-\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17B4-\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193B\u1A17-\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ABD\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80-\u1B81\u1BA2-\u1BA5\u1BA8-\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8-\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8-\u1CF9\u1DC0-\u1DF5\u1DFC-\u1DFF\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u3099-\u309A\uA66F\uA674-\uA67D\uA69E-\uA69F\uA6F0-\uA6F1\uA802\uA806\uA80B\uA825-\uA826\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9E5\uAA29-\uAA2E\uAA31-\uAA32\uAA35-\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7-\uAAB8\uAABE-\uAABF\uAAC1\uAAEC-\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/,$ut=rh([["\u0300","\u036F"],["\u0483","\u0487"],["\u0591","\u05BD"],"\u05BF",["\u05C1","\u05C2"],["\u05C4","\u05C5"],"\u05C7",["\u0610","\u061A"],["\u064B","\u065F"],"\u0670",["\u06D6","\u06DC"],["\u06DF","\u06E4"],["\u06E7","\u06E8"],["\u06EA","\u06ED"],"\u0711",["\u0730","\u074A"],["\u07A6","\u07B0"],["\u07EB","\u07F3"],["\u0816","\u0819"],["\u081B","\u0823"],["\u0825","\u0827"],["\u0829","\u082D"],["\u0859","\u085B"],["\u08E3","\u0902"],"\u093A","\u093C",["\u0941","\u0948"],"\u094D",["\u0951","\u0957"],["\u0962","\u0963"],"\u0981","\u09BC",["\u09C1","\u09C4"],"\u09CD",["\u09E2","\u09E3"],["\u0A01","\u0A02"],"\u0A3C",["\u0A41","\u0A42"],["\u0A47","\u0A48"],["\u0A4B","\u0A4D"],"\u0A51",["\u0A70","\u0A71"],"\u0A75",["\u0A81","\u0A82"],"\u0ABC",["\u0AC1","\u0AC5"],["\u0AC7","\u0AC8"],"\u0ACD",["\u0AE2","\u0AE3"],"\u0B01","\u0B3C","\u0B3F",["\u0B41","\u0B44"],"\u0B4D","\u0B56",["\u0B62","\u0B63"],"\u0B82","\u0BC0","\u0BCD","\u0C00",["\u0C3E","\u0C40"],["\u0C46","\u0C48"],["\u0C4A","\u0C4D"],["\u0C55","\u0C56"],["\u0C62","\u0C63"],"\u0C81","\u0CBC","\u0CBF","\u0CC6",["\u0CCC","\u0CCD"],["\u0CE2","\u0CE3"],"\u0D01",["\u0D41","\u0D44"],"\u0D4D",["\u0D62","\u0D63"],"\u0DCA",["\u0DD2","\u0DD4"],"\u0DD6","\u0E31",["\u0E34","\u0E3A"],["\u0E47","\u0E4E"],"\u0EB1",["\u0EB4","\u0EB9"],["\u0EBB","\u0EBC"],["\u0EC8","\u0ECD"],["\u0F18","\u0F19"],"\u0F35","\u0F37","\u0F39",["\u0F71","\u0F7E"],["\u0F80","\u0F84"],["\u0F86","\u0F87"],["\u0F8D","\u0F97"],["\u0F99","\u0FBC"],"\u0FC6",["\u102D","\u1030"],["\u1032","\u1037"],["\u1039","\u103A"],["\u103D","\u103E"],["\u1058","\u1059"],["\u105E","\u1060"],["\u1071","\u1074"],"\u1082",["\u1085","\u1086"],"\u108D","\u109D",["\u135D","\u135F"],["\u1712","\u1714"],["\u1732","\u1734"],["\u1752","\u1753"],["\u1772","\u1773"],["\u17B4","\u17B5"],["\u17B7","\u17BD"],"\u17C6",["\u17C9","\u17D3"],"\u17DD",["\u180B","\u180D"],"\u18A9",["\u1920","\u1922"],["\u1927","\u1928"],"\u1932",["\u1939","\u193B"],["\u1A17","\u1A18"],"\u1A1B","\u1A56",["\u1A58","\u1A5E"],"\u1A60","\u1A62",["\u1A65","\u1A6C"],["\u1A73","\u1A7C"],"\u1A7F",["\u1AB0","\u1ABD"],["\u1B00","\u1B03"],"\u1B34",["\u1B36","\u1B3A"],"\u1B3C","\u1B42",["\u1B6B","\u1B73"],["\u1B80","\u1B81"],["\u1BA2","\u1BA5"],["\u1BA8","\u1BA9"],["\u1BAB","\u1BAD"],"\u1BE6",["\u1BE8","\u1BE9"],"\u1BED",["\u1BEF","\u1BF1"],["\u1C2C","\u1C33"],["\u1C36","\u1C37"],["\u1CD0","\u1CD2"],["\u1CD4","\u1CE0"],["\u1CE2","\u1CE8"],"\u1CED","\u1CF4",["\u1CF8","\u1CF9"],["\u1DC0","\u1DF5"],["\u1DFC","\u1DFF"],["\u20D0","\u20DC"],"\u20E1",["\u20E5","\u20F0"],["\u2CEF","\u2CF1"],"\u2D7F",["\u2DE0","\u2DFF"],["\u302A","\u302D"],["\u3099","\u309A"],"\uA66F",["\uA674","\uA67D"],["\uA69E","\uA69F"],["\uA6F0","\uA6F1"],"\uA802","\uA806","\uA80B",["\uA825","\uA826"],"\uA8C4",["\uA8E0","\uA8F1"],["\uA926","\uA92D"],["\uA947","\uA951"],["\uA980","\uA982"],"\uA9B3",["\uA9B6","\uA9B9"],"\uA9BC","\uA9E5",["\uAA29","\uAA2E"],["\uAA31","\uAA32"],["\uAA35","\uAA36"],"\uAA43","\uAA4C","\uAA7C","\uAAB0",["\uAAB2","\uAAB4"],["\uAAB7","\uAAB8"],["\uAABE","\uAABF"],"\uAAC1",["\uAAEC","\uAAED"],"\uAAF6","\uABE5","\uABE8","\uABED","\uFB1E",["\uFE00","\uFE0F"],["\uFE20","\uFE2F"]],!1,!1),Kut=/^[0-9\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0BE6-\u0BEF\u0C66-\u0C6F\u0CE6-\u0CEF\u0D66-\u0D6F\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F29\u1040-\u1049\u1090-\u1099\u17E0-\u17E9\u1810-\u1819\u1946-\u194F\u19D0-\u19D9\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\uA620-\uA629\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19]/,Zut=rh([["0","9"],["\u0660","\u0669"],["\u06F0","\u06F9"],["\u07C0","\u07C9"],["\u0966","\u096F"],["\u09E6","\u09EF"],["\u0A66","\u0A6F"],["\u0AE6","\u0AEF"],["\u0B66","\u0B6F"],["\u0BE6","\u0BEF"],["\u0C66","\u0C6F"],["\u0CE6","\u0CEF"],["\u0D66","\u0D6F"],["\u0DE6","\u0DEF"],["\u0E50","\u0E59"],["\u0ED0","\u0ED9"],["\u0F20","\u0F29"],["\u1040","\u1049"],["\u1090","\u1099"],["\u17E0","\u17E9"],["\u1810","\u1819"],["\u1946","\u194F"],["\u19D0","\u19D9"],["\u1A80","\u1A89"],["\u1A90","\u1A99"],["\u1B50","\u1B59"],["\u1BB0","\u1BB9"],["\u1C40","\u1C49"],["\u1C50","\u1C59"],["\uA620","\uA629"],["\uA8D0","\uA8D9"],["\uA900","\uA909"],["\uA9D0","\uA9D9"],["\uA9F0","\uA9F9"],["\uAA50","\uAA59"],["\uABF0","\uABF9"],["\uFF10","\uFF19"]],!1,!1),Qut=/^[\u16EE-\u16F0\u2160-\u2182\u2185-\u2188\u3007\u3021-\u3029\u3038-\u303A\uA6E6-\uA6EF]/,Jut=rh([["\u16EE","\u16F0"],["\u2160","\u2182"],["\u2185","\u2188"],"\u3007",["\u3021","\u3029"],["\u3038","\u303A"],["\uA6E6","\uA6EF"]],!1,!1),qut=/^[_\u203F-\u2040\u2054\uFE33-\uFE34\uFE4D-\uFE4F\uFF3F]/,tlt=rh(["_",["\u203F","\u2040"],"\u2054",["\uFE33","\uFE34"],["\uFE4D","\uFE4F"],"\uFF3F"],!1,!1),elt=/^[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,rlt=rh([" ","\xA0","\u1680",["\u2000","\u200A"],"\u202F","\u205F","\u3000"],!1,!1),ar=0,Ad=0,F2=[{line:1,column:1}],Hp=0,ZC=[],xi=0,N2;if("startRule"in o){if(!(o.startRule in l))throw new Error(`Can't start parsing from rule "`+o.startRule+'".');c=l[o.startRule]}function UN(){return n.substring(Ad,ar)}function rs(Te,xn){return{type:"literal",text:Te,ignoreCase:xn}}function rh(Te,xn,Oi){return{type:"class",parts:Te,inverted:xn,ignoreCase:Oi}}function nlt(){return{type:"any"}}function ilt(){return{type:"end"}}function Fb(Te){return{type:"other",description:Te}}function jN(Te){var xn=F2[Te],Oi;if(xn)return xn;for(Oi=Te-1;!F2[Oi];)Oi--;for(xn=F2[Oi],xn={line:xn.line,column:xn.column};Oi<Te;)n.charCodeAt(Oi)===10?(xn.line++,xn.column=1):xn.column++,Oi++;return F2[Te]=xn,xn}function WN(Te,xn){var Oi=jN(Te),Ln=jN(xn);return{start:{offset:Te,line:Oi.line,column:Oi.column},end:{offset:xn,line:Ln.line,column:Ln.column}}}function Hi(Te){ar<Hp||(ar>Hp&&(Hp=ar,ZC=[]),ZC.push(Te))}function alt(Te,xn,Oi){return new e(e.buildMessage(Te,xn),Te,xn,Oi)}function VN(){var Te,xn,Oi,Ln;return Te=ar,xn=Cd(),xn!==u?(Oi=QC(),Oi!==u?(Ln=Cd(),Ln!==u?(Ad=Te,xn=f(Oi),Te=xn):(ar=Te,Te=u)):(ar=Te,Te=u)):(ar=Te,Te=u),Te}function olt(){var Te;return n.substr(ar,3)===h?(Te=h,ar+=3):(Te=u,xi===0&&Hi(v)),Te===u&&(n.substr(ar,3)===p?(Te=p,ar+=3):(Te=u,xi===0&&Hi(g)),Te===u&&(n.substr(ar,3)===E?(Te=E,ar+=3):(Te=u,xi===0&&Hi(D)),Te===u&&(n.substr(ar,3)===G?(Te=G,ar+=3):(Te=u,xi===0&&Hi(H)),Te===u&&(n.substr(ar,5)===X?(Te=X,ar+=5):(Te=u,xi===0&&Hi(rt)))))),Te}function QC(){var Te,xn,Oi,Ln,fi,Li,zh,nh;if(Te=ar,xn=JC(),xn!==u){for(Oi=[],Ln=ar,fi=Cd(),fi!==u?(n.charCodeAt(ar)===43?(Li=ht,ar++):(Li=u,xi===0&&Hi(mt)),Li===u&&(n.charCodeAt(ar)===45?(Li=Dt,ar++):(Li=u,xi===0&&Hi(kt))),Li!==u?(zh=Cd(),zh!==u?(nh=JC(),nh!==u?(fi=[fi,Li,zh,nh],Ln=fi):(ar=Ln,Ln=u)):(ar=Ln,Ln=u)):(ar=Ln,Ln=u)):(ar=Ln,Ln=u);Ln!==u;)Oi.push(Ln),Ln=ar,fi=Cd(),fi!==u?(n.charCodeAt(ar)===43?(Li=ht,ar++):(Li=u,xi===0&&Hi(mt)),Li===u&&(n.charCodeAt(ar)===45?(Li=Dt,ar++):(Li=u,xi===0&&Hi(kt))),Li!==u?(zh=Cd(),zh!==u?(nh=JC(),nh!==u?(fi=[fi,Li,zh,nh],Ln=fi):(ar=Ln,Ln=u)):(ar=Ln,Ln=u)):(ar=Ln,Ln=u)):(ar=Ln,Ln=u);Oi!==u?(Ad=Te,xn=Vt(xn,Oi),Te=xn):(ar=Te,Te=u)}else ar=Te,Te=u;return Te}function JC(){var Te,xn,Oi,Ln,fi,Li,zh,nh;if(Te=ar,xn=qC(),xn!==u){for(Oi=[],Ln=ar,fi=Cd(),fi!==u?(n.charCodeAt(ar)===42?(Li=te,ar++):(Li=u,xi===0&&Hi(le)),Li===u&&(n.charCodeAt(ar)===47?(Li=pe,ar++):(Li=u,xi===0&&Hi(De))),Li!==u?(zh=Cd(),zh!==u?(nh=qC(),nh!==u?(fi=[fi,Li,zh,nh],Ln=fi):(ar=Ln,Ln=u)):(ar=Ln,Ln=u)):(ar=Ln,Ln=u)):(ar=Ln,Ln=u);Ln!==u;)Oi.push(Ln),Ln=ar,fi=Cd(),fi!==u?(n.charCodeAt(ar)===42?(Li=te,ar++):(Li=u,xi===0&&Hi(le)),Li===u&&(n.charCodeAt(ar)===47?(Li=pe,ar++):(Li=u,xi===0&&Hi(De))),Li!==u?(zh=Cd(),zh!==u?(nh=qC(),nh!==u?(fi=[fi,Li,zh,nh],Ln=fi):(ar=Ln,Ln=u)):(ar=Ln,Ln=u)):(ar=Ln,Ln=u)):(ar=Ln,Ln=u);Oi!==u?(Ad=Te,xn=Vt(xn,Oi),Te=xn):(ar=Te,Te=u)}else ar=Te,Te=u;return Te}function qC(){var Te,xn,Oi,Ln,fi,Li,zh,nh;return Te=ar,xn=olt(),xn!==u?(Oi=Cd(),Oi!==u?(n.charCodeAt(ar)===40?(Ln=Xe,ar++):(Ln=u,xi===0&&Hi(pr)),Ln!==u?(fi=Cd(),fi!==u?(Li=QC(),Li!==u?(zh=Cd(),zh!==u?(n.charCodeAt(ar)===41?(nh=yr,ar++):(nh=u,xi===0&&Hi(Vr)),nh!==u?(Ad=Te,xn=nr(xn,Li),Te=xn):(ar=Te,Te=u)):(ar=Te,Te=u)):(ar=Te,Te=u)):(ar=Te,Te=u)):(ar=Te,Te=u)):(ar=Te,Te=u)):(ar=Te,Te=u),Te===u&&(Te=ar,n.charCodeAt(ar)===40?(xn=Xe,ar++):(xn=u,xi===0&&Hi(pr)),xn!==u?(Oi=Cd(),Oi!==u?(Ln=QC(),Ln!==u?(fi=Cd(),fi!==u?(n.charCodeAt(ar)===41?(Li=yr,ar++):(Li=u,xi===0&&Hi(Vr)),Li!==u?(Ad=Te,xn=Gr(Ln),Te=xn):(ar=Te,Te=u)):(ar=Te,Te=u)):(ar=Te,Te=u)):(ar=Te,Te=u)):(ar=Te,Te=u),Te===u&&(Te=ar,xn=ult(),xn!==u&&(Ad=Te,xn=en(xn)),Te=xn,Te===u&&(Te=ar,xn=slt(),xn!==u&&(Ad=Te,xn=cr(xn)),Te=xn))),Te}function slt(){var Te,xn,Oi,Ln;if(xi++,Te=ar,xn=tT(),xn!==u){for(Oi=[],Ln=KN();Ln!==u;)Oi.push(Ln),Ln=KN();Oi!==u?(Ad=Te,xn=qr(xn,Oi),Te=xn):(ar=Te,Te=u)}else ar=Te,Te=u;return xi--,Te===u&&(xn=u,xi===0&&Hi(Fr)),Te}function ult(){var Te,xn,Oi,Ln,fi,Li;return xi++,Te=ar,kr.test(n.charAt(ar))?(xn=n.charAt(ar),ar++):(xn=u,xi===0&&Hi(Yr)),xn===u&&(xn=null),xn!==u?(Oi=vlt(),Oi!==u?(Ln=llt(),Ln===u&&(Ln=clt(),Ln===u&&(Ln=flt())),Ln!==u?(fi=ar,xi++,Li=tT(),Li===u&&(Li=Ty()),xi--,Li===u?fi=void 0:(ar=fi,fi=u),fi!==u?(Ad=Te,xn=mn(xn,Ln),Te=xn):(ar=Te,Te=u)):(ar=Te,Te=u)):(ar=Te,Te=u)):(ar=Te,Te=u),xi--,Te===u&&(xn=u,xi===0&&Hi(_r)),Te}function llt(){var Te,xn,Oi,Ln,fi;if(Te=ar,n.substr(ar,2).toLowerCase()===Er?(xn=n.substr(ar,2),ar+=2):(xn=u,xi===0&&Hi(oi)),xn!==u){if(Oi=ar,Ln=[],fi=ZN(),fi!==u)for(;fi!==u;)Ln.push(fi),fi=ZN();else Ln=u;Ln!==u?Oi=n.substring(Oi,ar):Oi=Ln,Oi!==u?(Ad=Te,xn=mr(),Te=xn):(ar=Te,Te=u)}else ar=Te,Te=u;return Te}function clt(){var Te,xn,Oi,Ln,fi;if(Te=ar,n.substr(ar,2).toLowerCase()===ki?(xn=n.substr(ar,2),ar+=2):(xn=u,xi===0&&Hi(Xn)),xn!==u){if(Oi=ar,Ln=[],qn.test(n.charAt(ar))?(fi=n.charAt(ar),ar++):(fi=u,xi===0&&Hi(ai)),fi!==u)for(;fi!==u;)Ln.push(fi),qn.test(n.charAt(ar))?(fi=n.charAt(ar),ar++):(fi=u,xi===0&&Hi(ai));else Ln=u;Ln!==u?Oi=n.substring(Oi,ar):Oi=Ln,Oi!==u?(Ad=Te,xn=mr(),Te=xn):(ar=Te,Te=u)}else ar=Te,Te=u;return Te}function flt(){var Te,xn,Oi,Ln,fi;if(Te=ar,xn=HN(),xn!==u)if(n.charCodeAt(ar)===46?(Oi=va,ar++):(Oi=u,xi===0&&Hi(Ii)),Oi!==u){for(Ln=[],fi=Ty();fi!==u;)Ln.push(fi),fi=Ty();Ln!==u?(Ad=Te,xn=Ni(),Te=xn):(ar=Te,Te=u)}else ar=Te,Te=u;else ar=Te,Te=u;if(Te===u){if(Te=ar,n.charCodeAt(ar)===46?(xn=va,ar++):(xn=u,xi===0&&Hi(Ii)),xn!==u){if(Oi=[],Ln=Ty(),Ln!==u)for(;Ln!==u;)Oi.push(Ln),Ln=Ty();else Oi=u;Oi!==u?(Ad=Te,xn=Ni(),Te=xn):(ar=Te,Te=u)}else ar=Te,Te=u;Te===u&&(Te=ar,xn=HN(),xn!==u&&(Ad=Te,xn=Ni()),Te=xn)}return Te}function HN(){var Te,xn,Oi,Ln;if(n.charCodeAt(ar)===48?(Te=Sa,ar++):(Te=u,xi===0&&Hi(ea)),Te===u)if(Te=ar,xn=ylt(),xn!==u){for(Oi=[],Ln=Ty();Ln!==u;)Oi.push(Ln),Ln=Ty();Oi!==u?(xn=[xn,Oi],Te=xn):(ar=Te,Te=u)}else ar=Te,Te=u;return Te}function k2(){var Te;return lo.test(n.charAt(ar))?(Te=n.charAt(ar),ar++):(Te=u,xi===0&&Hi(Vs)),Te}function YN(){var Te;return xi++,n.charCodeAt(ar)===10?(Te=pa,ar++):(Te=u,xi===0&&Hi(so)),Te===u&&(n.substr(ar,2)===ia?(Te=ia,ar+=2):(Te=u,xi===0&&Hi(Ai)),Te===u&&(n.charCodeAt(ar)===13?(Te=sa,ar++):(Te=u,xi===0&&Hi(Bi)),Te===u&&(n.charCodeAt(ar)===8232?(Te=Ia,ar++):(Te=u,xi===0&&Hi(Oa)),Te===u&&(n.charCodeAt(ar)===8233?(Te=So,ar++):(Te=u,xi===0&&Hi($a)))))),xi--,Te===u&&xi===0&&Hi(Go),Te}function XN(){var Te;return xi++,Te=hlt(),Te===u&&(Te=dlt()),xi--,Te===u&&xi===0&&Hi(wo),Te}function hlt(){var Te,xn,Oi,Ln,fi,Li;if(Te=ar,n.substr(ar,2)===Ms?(xn=Ms,ar+=2):(xn=u,xi===0&&Hi(Gh)),xn!==u){for(Oi=[],Ln=ar,fi=ar,xi++,n.substr(ar,2)===Qo?(Li=Qo,ar+=2):(Li=u,xi===0&&Hi(Qd)),xi--,Li===u?fi=void 0:(ar=fi,fi=u),fi!==u?(Li=m1(),Li!==u?(fi=[fi,Li],Ln=fi):(ar=Ln,Ln=u)):(ar=Ln,Ln=u);Ln!==u;)Oi.push(Ln),Ln=ar,fi=ar,xi++,n.substr(ar,2)===Qo?(Li=Qo,ar+=2):(Li=u,xi===0&&Hi(Qd)),xi--,Li===u?fi=void 0:(ar=fi,fi=u),fi!==u?(Li=m1(),Li!==u?(fi=[fi,Li],Ln=fi):(ar=Ln,Ln=u)):(ar=Ln,Ln=u);Oi!==u?(n.substr(ar,2)===Qo?(Ln=Qo,ar+=2):(Ln=u,xi===0&&Hi(Qd)),Ln!==u?(xn=[xn,Oi,Ln],Te=xn):(ar=Te,Te=u)):(ar=Te,Te=u)}else ar=Te,Te=u;return Te}function $N(){var Te,xn,Oi,Ln,fi,Li;if(Te=ar,n.substr(ar,2)===Ms?(xn=Ms,ar+=2):(xn=u,xi===0&&Hi(Gh)),xn!==u){for(Oi=[],Ln=ar,fi=ar,xi++,n.substr(ar,2)===Qo?(Li=Qo,ar+=2):(Li=u,xi===0&&Hi(Qd)),Li===u&&(Li=k2()),xi--,Li===u?fi=void 0:(ar=fi,fi=u),fi!==u?(Li=m1(),Li!==u?(fi=[fi,Li],Ln=fi):(ar=Ln,Ln=u)):(ar=Ln,Ln=u);Ln!==u;)Oi.push(Ln),Ln=ar,fi=ar,xi++,n.substr(ar,2)===Qo?(Li=Qo,ar+=2):(Li=u,xi===0&&Hi(Qd)),Li===u&&(Li=k2()),xi--,Li===u?fi=void 0:(ar=fi,fi=u),fi!==u?(Li=m1(),Li!==u?(fi=[fi,Li],Ln=fi):(ar=Ln,Ln=u)):(ar=Ln,Ln=u);Oi!==u?(n.substr(ar,2)===Qo?(Ln=Qo,ar+=2):(Ln=u,xi===0&&Hi(Qd)),Ln!==u?(xn=[xn,Oi,Ln],Te=xn):(ar=Te,Te=u)):(ar=Te,Te=u)}else ar=Te,Te=u;return Te}function dlt(){var Te,xn,Oi,Ln,fi,Li;if(Te=ar,n.substr(ar,2)===Ag?(xn=Ag,ar+=2):(xn=u,xi===0&&Hi(th)),xn!==u){for(Oi=[],Ln=ar,fi=ar,xi++,Li=k2(),xi--,Li===u?fi=void 0:(ar=fi,fi=u),fi!==u?(Li=m1(),Li!==u?(fi=[fi,Li],Ln=fi):(ar=Ln,Ln=u)):(ar=Ln,Ln=u);Ln!==u;)Oi.push(Ln),Ln=ar,fi=ar,xi++,Li=k2(),xi--,Li===u?fi=void 0:(ar=fi,fi=u),fi!==u?(Li=m1(),Li!==u?(fi=[fi,Li],Ln=fi):(ar=Ln,Ln=u)):(ar=Ln,Ln=u);Oi!==u?(xn=[xn,Oi],Te=xn):(ar=Te,Te=u)}else ar=Te,Te=u;return Te}function m1(){var Te;return n.length>ar?(Te=n.charAt(ar),ar++):(Te=u,xi===0&&Hi(Jd)),Te}function B2(){var Te;return xi++,n.charCodeAt(ar)===9?(Te=Vp,ar++):(Te=u,xi===0&&Hi(eh)),Te===u&&(n.charCodeAt(ar)===11?(Te=Tv,ar++):(Te=u,xi===0&&Hi(bp)),Te===u&&(n.charCodeAt(ar)===12?(Te=M2,ar++):(Te=u,xi===0&&Hi(VC)),Te===u&&(n.charCodeAt(ar)===32?(Te=HC,ar++):(Te=u,xi===0&&Hi(YC)),Te===u&&(n.charCodeAt(ar)===160?(Te=Lb,ar++):(Te=u,xi===0&&Hi(I2)),Te===u&&(n.charCodeAt(ar)===65279?(Te=XC,ar++):(Te=u,xi===0&&Hi($C)),Te===u&&(Te=Mlt())))))),xi--,Te===u&&xi===0&&Hi(qv),Te}function vlt(){var Te,xn;for(Te=[],xn=B2(),xn===u&&(xn=YN(),xn===u&&(xn=XN()));xn!==u;)Te.push(xn),xn=B2(),xn===u&&(xn=YN(),xn===u&&(xn=XN()));return Te}function Cd(){var Te,xn;for(Te=[],xn=B2(),xn===u&&(xn=$N());xn!==u;)Te.push(xn),xn=B2(),xn===u&&(xn=$N());return Te}function KN(){var Te;return Te=tT(),Te===u&&(Te=plt(),Te===u&&(Te=Alt(),Te===u&&(Te=Tlt(),Te===u&&(n.charCodeAt(ar)===8204?(Te=KC,ar++):(Te=u,xi===0&&Hi(g1)),Te===u&&(n.charCodeAt(ar)===8205?(Te=Ep,ar++):(Te=u,xi===0&&Hi(y1))))))),Te}function tT(){var Te;return Te=glt(),Te===u&&(n.charCodeAt(ar)===36?(Te=Hs,ar++):(Te=u,xi===0&&Hi(_d)),Te===u&&(n.charCodeAt(ar)===95?(Te=Xl,ar++):(Te=u,xi===0&&Hi(tp)))),Te}function plt(){var Te;return Te=_lt(),Te===u&&(Te=wlt()),Te}function glt(){var Te;return Te=Slt(),Te===u&&(Te=mlt(),Te===u&&(Te=Elt(),Te===u&&(Te=xlt(),Te===u&&(Te=blt(),Te===u&&(Te=Clt()))))),Te}function Ty(){var Te;return Cg.test(n.charAt(ar))?(Te=n.charAt(ar),ar++):(Te=u,xi===0&&Hi(O2)),Te}function ylt(){var Te;return D2.test(n.charAt(ar))?(Te=n.charAt(ar),ar++):(Te=u,xi===0&&Hi(Rb)),Te}function ZN(){var Te;return P2.test(n.charAt(ar))?(Te=n.charAt(ar),ar++):(Te=u,xi===0&&Hi(L2)),Te}function mlt(){var Te;return R2.test(n.charAt(ar))?(Te=n.charAt(ar),ar++):(Te=u,xi===0&&Hi(Nut)),Te}function xlt(){var Te;return kut.test(n.charAt(ar))?(Te=n.charAt(ar),ar++):(Te=u,xi===0&&Hi(But)),Te}function blt(){var Te;return Gut.test(n.charAt(ar))?(Te=n.charAt(ar),ar++):(Te=u,xi===0&&Hi(zut)),Te}function Elt(){var Te;return Uut.test(n.charAt(ar))?(Te=n.charAt(ar),ar++):(Te=u,xi===0&&Hi(jut)),Te}function Slt(){var Te;return Wut.test(n.charAt(ar))?(Te=n.charAt(ar),ar++):(Te=u,xi===0&&Hi(Vut)),Te}function wlt(){var Te;return Hut.test(n.charAt(ar))?(Te=n.charAt(ar),ar++):(Te=u,xi===0&&Hi(Yut)),Te}function _lt(){var Te;return Xut.test(n.charAt(ar))?(Te=n.charAt(ar),ar++):(Te=u,xi===0&&Hi($ut)),Te}function Alt(){var Te;return Kut.test(n.charAt(ar))?(Te=n.charAt(ar),ar++):(Te=u,xi===0&&Hi(Zut)),Te}function Clt(){var Te;return Qut.test(n.charAt(ar))?(Te=n.charAt(ar),ar++):(Te=u,xi===0&&Hi(Jut)),Te}function Tlt(){var Te;return qut.test(n.charAt(ar))?(Te=n.charAt(ar),ar++):(Te=u,xi===0&&Hi(tlt)),Te}function Mlt(){var Te;return elt.test(n.charAt(ar))?(Te=n.charAt(ar),ar++):(Te=u,xi===0&&Hi(rlt)),Te}if(N2=c(),N2!==u&&ar===n.length)return N2;throw N2!==u&&ar<n.length&&Hi(ilt()),alt(ZC,Hp<n.length?n.charAt(Hp):null,Hp<n.length?WN(Hp,Hp+1):WN(Hp,Hp))}return{SyntaxError:e,parse:t}}();const uut="0.2.9",lut=sut;function cut(a){const e=[];return t(a,!1),e;function t(n,o){if(n.type==="arithmetic")for(const u of n.terms)t(u,!1);else if(n.type==="field"){const u=e.findIndex(({code:l})=>l===n.code);u===-1?e.push({code:n.code,isDep:!o}):o||(e[u].isDep=!0)}else n.type==="aggr-func-call"&&t(n.subExpr,!0)}}function fut(a){let e=0;const t=()=>`safe_code_${e++}`;return a.flatMap(n);function n(o){const{code:u,deps:l,expr:c}=o,f=[];if(c.type==="aggr-func-call")if(c.funcName==="AVG"){const h=t(),v=t();f.push(...n({code:h,deps:[],expr:{type:"aggr-func-call",funcName:"SUM",subExpr:c.subExpr}}),...n({code:v,deps:[],expr:{type:"aggr-func-call",funcName:"COUNT",subExpr:c.subExpr}}),{code:u,deps:[h,v],expr:{type:"arithmetic",terms:[{type:"field",code:h},{type:"field",code:v}],ops:["/"]}})}else if(c.subExpr.type==="arithmetic"){const h=t();f.push(...n({code:u,deps:[],expr:{type:"aggr-func-call",funcName:c.funcName,subExpr:{type:"field",code:h}}}),...n({code:h,deps:[],expr:c.subExpr}))}else f.push(o);else if(c.type==="arithmetic"){const h=[],v=[];for(const p of c.terms)if(p.type==="aggr-func-call"){const g=t();f.push(...n({code:g,deps:[],expr:{type:"aggr-func-call",funcName:p.funcName,subExpr:p.subExpr}})),h.push({type:"field",code:g}),v.push(g)}else h.push(p);f.push({code:u,expr:tk(qN({},c),{terms:h}),deps:gut(l,v)})}else f.push(o);return f}}function hut(a){const e=new Set(a.map(t=>t.code));return a.map(t=>{if(t.expression==null)throw new Error(`${t.code}:${t.name} \u7F3A\u5C11\u805A\u5408\u8868\u793A\u5F0F`);let n;try{n=lut.parse(t.expression)}catch(u){throw console.warn(`\u89E3\u6790 ${t.code}:${t.name} \u7684\u8868\u8FBE\u5F0F\u5931\u8D25\uFF0C\u8BF7\u4ED4\u7EC6\u68C0\u67E5\u4E0B\u5217\u8868\u793A\u662F\u5426\u6B63\u786E
	${t.expression}`),u}const o=cut(n);return o.forEach(({code:u})=>{if(!e.has(u))throw new Error(`${u} \u4E0D\u662F\u5408\u6CD5\u7684\u6307\u6807 code`)}),{code:t.code,expr:n,deps:o.filter(({isDep:u})=>u).map(({code:u})=>u)}})}function dut(a,e){const t=a.filter(({expr:G})=>G.type==="aggr-func-call"&&G.funcName==="SUM"),n=a.filter(({expr:G})=>G.type==="aggr-func-call"&&G.funcName==="COUNT"),o=a.filter(({expr:G})=>G.type==="aggr-func-call"&&G.funcName==="MAX"),u=a.filter(({expr:G})=>G.type==="aggr-func-call"&&G.funcName==="MIN"),l=t.map(({code:G})=>`${Fs.field("r",G)} = 0;`).join(`
`),c=n.map(({code:G})=>`${Fs.field("r",G)} = 0;`).join(`
`),f=o.map(({code:G})=>`${Fs.field("r",G)} = -Infinity;`).join(`
`),h=u.map(({code:G})=>`${Fs.field("r",G)} = Infinity;`).join(`
`),v=n.map(({code:G,expr:H})=>{if(H.type==="aggr-func-call")return`${Fs.field("r",G)} += ${Fs.field("d",G,"1")};`;throw new Error}).join(`
`),p=t.map(({code:G,expr:H})=>{const X=H.subExpr;return`${Fs.field("r",G)} += ${Fs.makeJSExpression(X,"d")} || 0;`}).join(`
`),g=o.map(({code:G,expr:H})=>{const X=H.subExpr;return`${Fs.field("r",G)} = Math.max(${Fs.field("r",G)}, ${Fs.makeJSExpression(X,"d")});`}).join(`
`),E=u.map(({code:G,expr:H})=>{const X=H.subExpr;return`${Fs.field("r",G)} = Math.min(${Fs.field("r",G)}, ${Fs.makeJSExpression(X,"d")});`}).join(`
`),D=a.filter(({code:G,expr:H})=>H.type!=="aggr-func-call").map(({code:G,expr:H})=>`${Fs.field("r",G)} = ${Fs.makeJSExpression(H,"r")};`).join(`
`);return[Fs.__(`/* aggregate function generated by dvt-aggregation@${uut}`),Fs.____(...e.indicators.map(G=>`${G.name}: ${G.code} = ${G.expression}`)),Fs.__("*/"),"",Fs.__("let r = {};"),"",Fs.__(c,l,f,h),"",Fs.__("for (const d of slice) {"),Fs.____(p,v,g,E),Fs.__("}"),"",Fs.__(D),"",Fs.__("return r;")].join(`
`)}const Fs={__(...a){return Fs.indent(1,...a)},____(...a){return Fs.indent(2,...a)},indent(a,...e){return e.join(`
`).split(`
`).filter(t=>!t.match(/^\s*$/)).map(t=>"  ".repeat(a).concat(t.trim())).join(`
`)},field(a,e,t){return t==null?`${a}['${e}']`:`(${a}['${e}'] || ${t})`},makeJSExpression(a,e){return t(a);function t(n){if(n.type==="arithmetic"){const o=n.terms.map(t),u=n.ops,l=[o[0]];for(let c=0;c<u.length;c++)l.push(u[c],o[c+1]);return`(${l.join(" ")})`}else{if(n.type==="field")return Fs.field(e,n.code);if(n.type==="n")return String(n.n);throw new Error("\u5F53\u524D\u6682\u4E0D\u652F\u6301\u8BE5\u8FD0\u7B97\u8FC7\u7A0B")}}}};function vut(a){const e=[],t=a.length,n=new Map;for(let l=0;l<t;l++)for(const c of a[l].deps)n.has(c)||n.set(c,[]),n.get(c).push(l);const o=a.map(({deps:l})=>l.length),u=new Array(t).fill(!1);for(;;){let l=0;for(;l<t&&!(o[l]===0&&!u[l]);l++);if(l===t)break;u[l]=!0;const c=a[l];if(e.push(c),n.has(c.code))for(const f of n.get(c.code))o[f]--}if(e.length!==t){const l=a[u.findIndex(f=>!f)].code,c=put(l,a);throw new Error(`\u6307\u6807\u8BA1\u7B97\u4E4B\u95F4\u5B58\u5728\u76F8\u4E92\u4F9D\u8D56\u5173\u7CFB
	`+c.join(" -> ")+`
\uFF08\u8BF4\u660E\uFF1AA -> B \u8868\u793AA\u7684\u8BA1\u7B97\u4F9D\u8D56\u4E8EB\uFF09`)}return e}function put(a,e){const t=new Map(e.map(({code:u,deps:l})=>[u,l])),n=[];return o(a),n;function o(u){if(n.length>0&&n[0]===u)return n.push(u),!0;if(n.push(u),t.has(u)){for(const l of t.get(u))if(o(l))return!0}return n.pop(),!1}}function gut(a,e){const t=new Set(a),n=a.slice();for(const o of e)t.has(o)||(t.add(o),n.push(o));return n}function yut(a,{skipEmptyExpression:e=!0}={}){const t={indicators:a};let n=a;e&&(n=a.filter(u=>Boolean(u.expression)));const o=dut(vut(fut(hut(n))),t);return new Function("slice",o)}function Zd(a,e,t){return e in a?Object.defineProperty(a,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[e]=t,a}function FN(a,e){var t=Object.keys(a);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(a);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(a,o).enumerable})),t.push.apply(t,n)}return t}function NN(a){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?FN(Object(t),!0).forEach(function(n){Zd(a,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(t)):FN(Object(t)).forEach(function(n){Object.defineProperty(a,n,Object.getOwnPropertyDescriptor(t,n))})}return a}function mut(a,e){if(a==null)return{};var t={},n=Object.keys(a),o,u;for(u=0;u<n.length;u++)o=n[u],!(e.indexOf(o)>=0)&&(t[o]=a[o]);return t}function p1(a,e){if(a==null)return{};var t=mut(a,e),n,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(a);for(o=0;o<u.length;o++)n=u[o],!(e.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(a,n)||(t[n]=a[n]))}return t}function T2(a,e){return xut(a)||but(a,e)||Eut(a,e)||Sut()}function xut(a){if(Array.isArray(a))return a}function but(a,e){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(a)))){var t=[],n=!0,o=!1,u=void 0;try{for(var l=a[Symbol.iterator](),c;!(n=(c=l.next()).done)&&(t.push(c.value),!(e&&t.length===e));n=!0);}catch(f){o=!0,u=f}finally{try{!n&&l.return!=null&&l.return()}finally{if(o)throw u}}return t}}function Eut(a,e){if(!!a){if(typeof a=="string")return kN(a,e);var t=Object.prototype.toString.call(a).slice(8,-1);if(t==="Object"&&a.constructor&&(t=a.constructor.name),t==="Map"||t==="Set")return Array.from(a);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return kN(a,e)}}function kN(a,e){(e==null||e>a.length)&&(e=a.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=a[t];return n}function Sut(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wut(a,e){if(typeof a!="object"||a===null)return a;var t=a[Symbol.toPrimitive];if(t!==void 0){var n=t.call(a,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(a)}function BN(a){var e=wut(a,"string");return typeof e=="symbol"?e:String(e)}function WC(a){var e=[],t=[];return a.forEach(function(n){n.isDim?e.push(n):t.push(n)}),{metaDim:e,metaInd:t}}function Db(a){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:12;return+parseFloat(a==null?void 0:a.toPrecision(e))}var Pb=function(){return _e.createElement("div",{style:{color:"rgba(0,0,0,.85)",backgroundColor:"#fff2f0",fontSize:14,border:"1px solid #ffccc7",padding:"8px 15px"}},"\u2757\uFE0F\u4F20\u5165\u7684\u6307\u6807\u6570\u76EE\u6709\u8BEF\uFF01")};function GN(a,e){var t=WC(a),n=t.metaDim,o=t.metaInd;if(o.length>=1&&n.length===0){var u="type",l="value";return{xField:u,yField:l,data:e.map(function(ht){return o.map(function(mt){var Dt,kt=mt.id,Vt=mt.name;return Dt={},Zd(Dt,u,kt),Zd(Dt,l,ht[kt]),Dt})}).flat(),meta:Zd({},u,{formatter:function(mt){var Dt;return((Dt=a.find(function(kt){var Vt=kt.id;return mt===Vt}))===null||Dt===void 0?void 0:Dt.name)||mt}}),tooltip:{formatter:function(mt){var Dt,kt=mt[u],Vt=mt[l];return{name:(Dt=a.find(function(te){var le=te.id;return kt===le}))===null||Dt===void 0?void 0:Dt.name,value:Vt}}}}}else if(o.length===1&&n.length===1){var c,f,h,v=(c=n.shift())===null||c===void 0?void 0:c.id,p=(f=o.shift())===null||f===void 0?void 0:f.id;return{data:e,xField:v,yField:p,meta:Zd({},p,{alias:(h=a.find(function(ht){var mt=ht.id;return mt===p}))===null||h===void 0?void 0:h.name})}}else if(o.length>1&&n.length===1){var g,E=(g=n.shift())===null||g===void 0?void 0:g.id,D="value",G="type";return{data:e.map(function(ht){return o.map(function(mt){var Dt,kt=mt.id,Vt=mt.name;return Dt={},Zd(Dt,E,ht[E]),Zd(Dt,D,ht[kt]),Zd(Dt,G,Vt),Dt})}).flat(),xField:E,yField:D,seriesField:G,isGroup:!0}}else if(o.length===1&&n.length===2){var H,X,rt;return{data:e,xField:(H=n.shift())===null||H===void 0?void 0:H.id,yField:(X=o.shift())===null||X===void 0?void 0:X.id,seriesField:(rt=n.shift())===null||rt===void 0?void 0:rt.id,isGroup:!0}}return{data:e,xField:"",yField:""}}var _ut=function(e){var t=e.className,n=e.style,o=e.meta,u=o===void 0?[]:o,l=e.data,c=l===void 0?[]:l,f=e.inverted,h=p1(e,["className","style","meta","data","inverted"]);if(f){var v=GN(u,c),p=v.xField,g=v.yField,E=p1(v,["xField","yField"]);return _e.createElement(f3,Object.assign({xField:g,yField:p},E,{renderer:"svg",errorTemplate:function(){return _e.createElement(Pb,null)}},h))}else return _e.createElement(h3,Object.assign({},GN(u,c),{renderer:"svg",errorTemplate:function(){return _e.createElement(Pb,null)}},h))};function Aut(a,e){var t=WC(a),n=t.metaDim,o=t.metaInd;if(o.length===1&&n.length===1){var u,l=n.shift(),c=o.shift(),f=l.id,h=c.id;return{data:e,xField:f,yField:h,yAxis:{label:{formatter:function(De){return c.isRate?"".concat(Db(100*Number(De)),"%"):De}}},tooltip:{formatter:function(De){var Xe=De[f],pr=De[h];return{name:c.name,value:c.isRate?"".concat(Db(100*Number(pr)),"%"):pr}}},meta:Zd({},h,{alias:(u=a.find(function(pe){var De=pe.id;return De===h}))===null||u===void 0?void 0:u.name})}}else if(o.length===1&&n.length===2){var v=n.shift(),p=o.shift(),g=n.shift(),E=v.id,D=p.id,G=g.id;return{data:e,xField:E,yField:D,seriesField:G,yAxis:{label:{formatter:function(De){return p.isRate?"".concat(Db(100*Number(De)),"%"):De}}},tooltip:{formatter:function(De){var Xe=De[G],pr=De[D];return{name:Xe,value:p.isRate?"".concat(Db(100*Number(pr)),"%"):pr}}}}}else if(o.length===2&&n.length===2){var H,X,rt,ht,mt=e.map(function(pe){var De=o[0].id,Xe=n[1].id,pr=pe[De],yr=pe[Xe],Vr=p1(pe,[De,Xe].map(BN));return NN(Zd({},n[1].id,"".concat(yr,"-").concat(o[0].name)),Vr)}),Dt=e.map(function(pe){var De=o[1].id,Xe=n[1].id,pr=pe[De],yr=pe[Xe],Vr=p1(pe,[De,Xe].map(BN));return NN(Zd({},n[1].id,"".concat(yr,"-").concat(o[1].name)),Vr)});return{data:[Dt,mt],geometryOptions:[{geometry:"line",seriesField:n[1].id},{geometry:"line",seriesField:n[1].id,lineStyle:{lineDash:[5,5]}}],xField:(H=n.shift())===null||H===void 0?void 0:H.id,yField:[(X=o.shift())===null||X===void 0?void 0:X.id,(rt=o.shift())===null||rt===void 0?void 0:rt.id],seriesField:(ht=n.shift())===null||ht===void 0?void 0:ht.id}}else if(o.length>1&&n.length===1){var kt,Vt=(kt=n.shift())===null||kt===void 0?void 0:kt.id,te="value",le="type";return{data:e.map(function(pe){return o.map(function(De){var Xe,pr=De.id,yr=De.name;return Xe={},Zd(Xe,Vt,pe[Vt]),Zd(Xe,te,pe[pr]),Zd(Xe,le,yr),Xe})}).flat(),xField:Vt,yField:te,seriesField:le}}return{data:e}}var Cut=function(e){var t=e.className,n=e.style,o=e.meta,u=o===void 0?[]:o,l=e.data,c=l===void 0?[]:l,f=e.withArea,h=p1(e,["className","style","meta","data","withArea"]),v=Aut(u,c);return f?_e.createElement(c3,Object.assign({},v,{renderer:"svg",errorTemplate:function(){return _e.createElement(Pb,null)}},h)):Array.isArray(v.yField)?_e.createElement(v3,Object.assign({},v,{renderer:"svg",errorTemplate:function(){return _e.createElement(Pb,null)}},h)):_e.createElement(d3,Object.assign({},v,{renderer:"svg",errorTemplate:function(){return _e.createElement(Pb,null)}},h))};function Tut(a,e){e===void 0&&(e={});var t=e.insertAt;if(!(!a||typeof document=="undefined")){var n=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",t==="top"&&n.firstChild?n.insertBefore(o,n.firstChild):n.appendChild(o),o.styleSheet?o.styleSheet.cssText=a:o.appendChild(document.createTextNode(a))}}var Mut=`.CR-PivotTable.CR-PivotTable-small .art-table {
  --row-height: fit-content;
}
.CR-PivotTable.CR-PivotTable-middle .art-table {
  --row-height: 46px;
}
.CR-PivotTable.CR-PivotTable-large .art-table {
  --row-height: 54px;
}
`;Tut(Mut);var Iut=function(e){var t=e.className,n=e.style,o=e.showSubtotal,u=o===void 0?!0:o,l=e.subtotalText,c=l===void 0?["\u603B\u8BA1","\u5C0F\u8BA1"]:l,f=e.meta,h=f===void 0?[]:f,v=e.data,p=v===void 0?[]:v,g=e.size,E=g===void 0?"middle":g,D=e.indicatorSide,G=D===void 0?"top":D,H=e.leftDimensionLength,X=H===void 0?h.length:H,rt=e.leftExpandable,ht=rt===void 0?!1:rt,mt=e.topExpandable,Dt=mt===void 0?!1:mt,kt=e.defaultExpandAll,Vt=e.cellRender,te=p1(e,["className","style","showSubtotal","subtotalText","meta","data","size","indicatorSide","leftDimensionLength","leftExpandable","topExpandable","defaultExpandAll","cellRender"]),le=(0,_e.useState)([]),pe=T2(le,2),De=pe[0],Xe=pe[1],pr=(0,_e.useState)([]),yr=T2(pr,2),Vr=yr[0],nr=yr[1],Gr=WC(h),en=Gr.metaDim,cr=Gr.metaInd,Fr=cr.map(function(Ii){var Ni=Ii.id,Sa=Ii.name,ea=Ii.isRate;return{name:Sa,code:Ni,align:"right",expression:ea?"AVG(".concat(Ni,")"):"SUM(".concat(Ni,")")}}),qr=en.filter(function(Ii,Ni){return Ni<X}),_r=qr.map(function(Ii){var Ni=Ii.id;return Ni}),kr=C2(p,_r,{includeTopWrapper:!0,isExpand:ht?function(Ii){return Vr.includes(Ii)}:void 0}),Yr=RN(kr,{indicators:G==="left"?Fr:void 0,supportsExpand:ht,expandKeys:Vr,onChangeExpandKeys:nr,generateSubtotalNode:u?function(Ii){return{position:"start",value:Ii.path.length===0?c[0]||"\u603B\u8BA1":c[1]||"\u5C0F\u8BA1"}}:void 0}),mn=T2(Yr,1),Er=mn[0],oi=en.filter(function(Ii,Ni){return Ni>=X}),mr=oi.map(function(Ii){var Ni=Ii.id;return Ni}),ki=C2(p,mr,{includeTopWrapper:!0,isExpand:Dt?function(Ii){return De.includes(Ii)}:void 0}),Xn=RN(ki,{indicators:G==="top"?Fr:void 0,supportsExpand:Dt,expandKeys:De,onChangeExpandKeys:Xe,generateSubtotalNode:u?function(Ii){return{position:"start",value:Ii.path.length===0?c[0]||"\u603B\u8BA1":c[1]||"\u5C0F\u8BA1"}}:void 0}),qn=T2(Xn,1),ai=qn[0],va=PN({data:p,leftCodes:_r,topCodes:mr,aggregate:yut(Fr)});return _e.createElement("div",{style:n,className:"CR-PivotTable CR-PivotTable-".concat(E," ").concat(t||"")},_e.createElement(iut,Object.assign({defaultColumnWidth:100,leftMetaColumns:en.filter(function(Ii){var Ni=Ii.id;return _r.includes(Ni)}).map(function(Ii){var Ni=Ii.id,Sa=Ii.name;return{code:Ni,name:Sa}}),leftTree:Er.children,leftTotalNode:Er,topTree:ai.children,topTotalNode:ai,getValue:function(Ni,Sa){var ea,lo=(ea=va.get(Ni.data.dataKey))===null||ea===void 0?void 0:ea.get(Sa.data.dataKey);return lo==null?void 0:lo[Sa.code]},render:function(Ni,Sa,ea){var lo;if(Vt){var Vs=Sa.data.dataPath,Go=Vs===void 0?[]:Vs,pa=ea.data.dataPath,so=pa===void 0?[]:pa,ia={};return Go.forEach(function(Ai,sa){var Bi;ia[(Bi=qr[sa])===null||Bi===void 0?void 0:Bi.id]=Ai}),so.forEach(function(Ai,sa){var Bi;ia[(Bi=oi[sa])===null||Bi===void 0?void 0:Bi.id]=Ai}),Vt(Ni,ia,ea.code)}return!((lo=cr.find(function(Ai){var sa=Ai.id;return sa===ea.code}))===null||lo===void 0)&&lo.isRate?"".concat(Db(Ni*100).toFixed(2),"%"):Ni}},te)))},Cy=je(85893);function Out(a,e){return Rut(a)||Lut(a,e)||Put(a,e)||Dut()}function Dut(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Put(a,e){if(!!a){if(typeof a=="string")return zN(a,e);var t=Object.prototype.toString.call(a).slice(8,-1);if(t==="Object"&&a.constructor&&(t=a.constructor.name),t==="Map"||t==="Set")return Array.from(a);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return zN(a,e)}}function zN(a,e){(e==null||e>a.length)&&(e=a.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=a[t];return n}function Lut(a,e){var t=a==null?null:typeof Symbol!="undefined"&&a[Symbol.iterator]||a["@@iterator"];if(t!=null){var n=[],o=!0,u=!1,l,c;try{for(t=t.call(a);!(o=(l=t.next()).done)&&(n.push(l.value),!(e&&n.length===e));o=!0);}catch(f){u=!0,c=f}finally{try{!o&&t.return!=null&&t.return()}finally{if(u)throw c}}return n}}function Rut(a){if(Array.isArray(a))return a}function Fut(){var a=(0,_e.useState)("Line"),e=Out(a,2),t=e[0],n=e[1],o={Line:Cut,Column:_ut,PivotTable:Iut}[t];return(0,Cy.jsxs)("div",{children:[(0,Cy.jsxs)("div",{style:{marginBottom:10},children:[(0,Cy.jsx)("button",{style:{marginRight:10},className:"ant-btn ant-btn-primary",onClick:function(){return n("Line")},children:"\u6298\u7EBF\u56FE"}),(0,Cy.jsx)("button",{style:{marginRight:10},className:"ant-btn ant-btn-primary",onClick:function(){return n("Column")},children:"\u67F1\u72B6\u56FE"}),(0,Cy.jsx)("button",{style:{marginRight:10},className:"ant-btn ant-btn-primary",onClick:function(){return n("PivotTable")},children:"\u4EA4\u53C9\u8868"})]}),(0,Cy.jsx)(o,{meta:[{id:"date",name:"\u65E5\u671F",isDim:!0},{id:"pv",name:"\u8BBF\u95EE\u91CF",isDim:!1},{id:"uv",name:"\u8BBF\u5BA2\u6570",isDim:!1}],data:[{date:"20200101",pv:100,uv:50},{date:"20200102",pv:120,uv:60},{date:"20200103",pv:140,uv:70},{date:"20200104",pv:160,uv:80}]})]})}tn.render((0,Cy.jsx)(Fut,{}),document.getElementById("root"))})()})();
